var __create = Object.create;
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a4, b3) => {
  for (var prop in b3 || (b3 = {}))
    if (__hasOwnProp.call(b3, prop))
      __defNormalProp(a4, prop, b3[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b3)) {
      if (__propIsEnum.call(b3, prop))
        __defNormalProp(a4, prop, b3[prop]);
    }
  return a4;
};
var __spreadProps = (a4, b3) => __defProps(a4, __getOwnPropDescs(b3));
var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[Object.keys(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __reExport = (target, module2, desc) => {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    for (let key of __getOwnPropNames(module2))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });
  }
  return target;
};
var __toModule = (module2) => {
  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);
};
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve2, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x3) => x3.done ? resolve2(x3.value) : Promise.resolve(x3.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

// node_modules/object-assign/index.js
var require_object_assign = __commonJS({
  "node_modules/object-assign/index.js"(exports2, module2) {
    "use strict";
    var getOwnPropertySymbols = Object.getOwnPropertySymbols;
    var hasOwnProperty = Object.prototype.hasOwnProperty;
    var propIsEnumerable = Object.prototype.propertyIsEnumerable;
    function toObject(val) {
      if (val === null || val === void 0) {
        throw new TypeError("Object.assign cannot be called with null or undefined");
      }
      return Object(val);
    }
    function shouldUseNative() {
      try {
        if (!Object.assign) {
          return false;
        }
        var test1 = new String("abc");
        test1[5] = "de";
        if (Object.getOwnPropertyNames(test1)[0] === "5") {
          return false;
        }
        var test2 = {};
        for (var i3 = 0; i3 < 10; i3++) {
          test2["_" + String.fromCharCode(i3)] = i3;
        }
        var order2 = Object.getOwnPropertyNames(test2).map(function(n2) {
          return test2[n2];
        });
        if (order2.join("") !== "0123456789") {
          return false;
        }
        var test3 = {};
        "abcdefghijklmnopqrst".split("").forEach(function(letter) {
          test3[letter] = letter;
        });
        if (Object.keys(Object.assign({}, test3)).join("") !== "abcdefghijklmnopqrst") {
          return false;
        }
        return true;
      } catch (err) {
        return false;
      }
    }
    module2.exports = shouldUseNative() ? Object.assign : function(target, source) {
      var from;
      var to = toObject(target);
      var symbols;
      for (var s3 = 1; s3 < arguments.length; s3++) {
        from = Object(arguments[s3]);
        for (var key in from) {
          if (hasOwnProperty.call(from, key)) {
            to[key] = from[key];
          }
        }
        if (getOwnPropertySymbols) {
          symbols = getOwnPropertySymbols(from);
          for (var i3 = 0; i3 < symbols.length; i3++) {
            if (propIsEnumerable.call(from, symbols[i3])) {
              to[symbols[i3]] = from[symbols[i3]];
            }
          }
        }
      }
      return to;
    };
  }
});

// node_modules/react/cjs/react.development.js
var require_react_development = __commonJS({
  "node_modules/react/cjs/react.development.js"(exports2) {
    "use strict";
    if (true) {
      (function() {
        "use strict";
        var _assign = require_object_assign();
        var ReactVersion = "17.0.2";
        var REACT_ELEMENT_TYPE = 60103;
        var REACT_PORTAL_TYPE = 60106;
        exports2.Fragment = 60107;
        exports2.StrictMode = 60108;
        exports2.Profiler = 60114;
        var REACT_PROVIDER_TYPE = 60109;
        var REACT_CONTEXT_TYPE = 60110;
        var REACT_FORWARD_REF_TYPE = 60112;
        exports2.Suspense = 60113;
        var REACT_SUSPENSE_LIST_TYPE = 60120;
        var REACT_MEMO_TYPE = 60115;
        var REACT_LAZY_TYPE = 60116;
        var REACT_BLOCK_TYPE = 60121;
        var REACT_SERVER_BLOCK_TYPE = 60122;
        var REACT_FUNDAMENTAL_TYPE = 60117;
        var REACT_SCOPE_TYPE = 60119;
        var REACT_OPAQUE_ID_TYPE = 60128;
        var REACT_DEBUG_TRACING_MODE_TYPE = 60129;
        var REACT_OFFSCREEN_TYPE = 60130;
        var REACT_LEGACY_HIDDEN_TYPE = 60131;
        if (typeof Symbol === "function" && Symbol.for) {
          var symbolFor = Symbol.for;
          REACT_ELEMENT_TYPE = symbolFor("react.element");
          REACT_PORTAL_TYPE = symbolFor("react.portal");
          exports2.Fragment = symbolFor("react.fragment");
          exports2.StrictMode = symbolFor("react.strict_mode");
          exports2.Profiler = symbolFor("react.profiler");
          REACT_PROVIDER_TYPE = symbolFor("react.provider");
          REACT_CONTEXT_TYPE = symbolFor("react.context");
          REACT_FORWARD_REF_TYPE = symbolFor("react.forward_ref");
          exports2.Suspense = symbolFor("react.suspense");
          REACT_SUSPENSE_LIST_TYPE = symbolFor("react.suspense_list");
          REACT_MEMO_TYPE = symbolFor("react.memo");
          REACT_LAZY_TYPE = symbolFor("react.lazy");
          REACT_BLOCK_TYPE = symbolFor("react.block");
          REACT_SERVER_BLOCK_TYPE = symbolFor("react.server.block");
          REACT_FUNDAMENTAL_TYPE = symbolFor("react.fundamental");
          REACT_SCOPE_TYPE = symbolFor("react.scope");
          REACT_OPAQUE_ID_TYPE = symbolFor("react.opaque.id");
          REACT_DEBUG_TRACING_MODE_TYPE = symbolFor("react.debug_trace_mode");
          REACT_OFFSCREEN_TYPE = symbolFor("react.offscreen");
          REACT_LEGACY_HIDDEN_TYPE = symbolFor("react.legacy_hidden");
        }
        var MAYBE_ITERATOR_SYMBOL = typeof Symbol === "function" && Symbol.iterator;
        var FAUX_ITERATOR_SYMBOL = "@@iterator";
        function getIteratorFn(maybeIterable) {
          if (maybeIterable === null || typeof maybeIterable !== "object") {
            return null;
          }
          var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];
          if (typeof maybeIterator === "function") {
            return maybeIterator;
          }
          return null;
        }
        var ReactCurrentDispatcher = {
          current: null
        };
        var ReactCurrentBatchConfig = {
          transition: 0
        };
        var ReactCurrentOwner = {
          current: null
        };
        var ReactDebugCurrentFrame = {};
        var currentExtraStackFrame = null;
        function setExtraStackFrame(stack) {
          {
            currentExtraStackFrame = stack;
          }
        }
        {
          ReactDebugCurrentFrame.setExtraStackFrame = function(stack) {
            {
              currentExtraStackFrame = stack;
            }
          };
          ReactDebugCurrentFrame.getCurrentStack = null;
          ReactDebugCurrentFrame.getStackAddendum = function() {
            var stack = "";
            if (currentExtraStackFrame) {
              stack += currentExtraStackFrame;
            }
            var impl = ReactDebugCurrentFrame.getCurrentStack;
            if (impl) {
              stack += impl() || "";
            }
            return stack;
          };
        }
        var IsSomeRendererActing = {
          current: false
        };
        var ReactSharedInternals = {
          ReactCurrentDispatcher,
          ReactCurrentBatchConfig,
          ReactCurrentOwner,
          IsSomeRendererActing,
          assign: _assign
        };
        {
          ReactSharedInternals.ReactDebugCurrentFrame = ReactDebugCurrentFrame;
        }
        function warn2(format) {
          {
            for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
              args[_key - 1] = arguments[_key];
            }
            printWarning("warn", format, args);
          }
        }
        function error(format) {
          {
            for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
              args[_key2 - 1] = arguments[_key2];
            }
            printWarning("error", format, args);
          }
        }
        function printWarning(level, format, args) {
          {
            var ReactDebugCurrentFrame2 = ReactSharedInternals.ReactDebugCurrentFrame;
            var stack = ReactDebugCurrentFrame2.getStackAddendum();
            if (stack !== "") {
              format += "%s";
              args = args.concat([stack]);
            }
            var argsWithFormat = args.map(function(item) {
              return "" + item;
            });
            argsWithFormat.unshift("Warning: " + format);
            Function.prototype.apply.call(console[level], console, argsWithFormat);
          }
        }
        var didWarnStateUpdateForUnmountedComponent = {};
        function warnNoop(publicInstance, callerName) {
          {
            var _constructor = publicInstance.constructor;
            var componentName = _constructor && (_constructor.displayName || _constructor.name) || "ReactClass";
            var warningKey = componentName + "." + callerName;
            if (didWarnStateUpdateForUnmountedComponent[warningKey]) {
              return;
            }
            error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.", callerName, componentName);
            didWarnStateUpdateForUnmountedComponent[warningKey] = true;
          }
        }
        var ReactNoopUpdateQueue = {
          isMounted: function(publicInstance) {
            return false;
          },
          enqueueForceUpdate: function(publicInstance, callback, callerName) {
            warnNoop(publicInstance, "forceUpdate");
          },
          enqueueReplaceState: function(publicInstance, completeState, callback, callerName) {
            warnNoop(publicInstance, "replaceState");
          },
          enqueueSetState: function(publicInstance, partialState, callback, callerName) {
            warnNoop(publicInstance, "setState");
          }
        };
        var emptyObject = {};
        {
          Object.freeze(emptyObject);
        }
        function Component(props, context, updater) {
          this.props = props;
          this.context = context;
          this.refs = emptyObject;
          this.updater = updater || ReactNoopUpdateQueue;
        }
        Component.prototype.isReactComponent = {};
        Component.prototype.setState = function(partialState, callback) {
          if (!(typeof partialState === "object" || typeof partialState === "function" || partialState == null)) {
            {
              throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");
            }
          }
          this.updater.enqueueSetState(this, partialState, callback, "setState");
        };
        Component.prototype.forceUpdate = function(callback) {
          this.updater.enqueueForceUpdate(this, callback, "forceUpdate");
        };
        {
          var deprecatedAPIs = {
            isMounted: ["isMounted", "Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],
            replaceState: ["replaceState", "Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]
          };
          var defineDeprecationWarning = function(methodName, info) {
            Object.defineProperty(Component.prototype, methodName, {
              get: function() {
                warn2("%s(...) is deprecated in plain JavaScript React classes. %s", info[0], info[1]);
                return void 0;
              }
            });
          };
          for (var fnName in deprecatedAPIs) {
            if (deprecatedAPIs.hasOwnProperty(fnName)) {
              defineDeprecationWarning(fnName, deprecatedAPIs[fnName]);
            }
          }
        }
        function ComponentDummy() {
        }
        ComponentDummy.prototype = Component.prototype;
        function PureComponent(props, context, updater) {
          this.props = props;
          this.context = context;
          this.refs = emptyObject;
          this.updater = updater || ReactNoopUpdateQueue;
        }
        var pureComponentPrototype = PureComponent.prototype = new ComponentDummy();
        pureComponentPrototype.constructor = PureComponent;
        _assign(pureComponentPrototype, Component.prototype);
        pureComponentPrototype.isPureReactComponent = true;
        function createRef() {
          var refObject = {
            current: null
          };
          {
            Object.seal(refObject);
          }
          return refObject;
        }
        function getWrappedName(outerType, innerType, wrapperName) {
          var functionName = innerType.displayName || innerType.name || "";
          return outerType.displayName || (functionName !== "" ? wrapperName + "(" + functionName + ")" : wrapperName);
        }
        function getContextName(type) {
          return type.displayName || "Context";
        }
        function getComponentName(type) {
          if (type == null) {
            return null;
          }
          {
            if (typeof type.tag === "number") {
              error("Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue.");
            }
          }
          if (typeof type === "function") {
            return type.displayName || type.name || null;
          }
          if (typeof type === "string") {
            return type;
          }
          switch (type) {
            case exports2.Fragment:
              return "Fragment";
            case REACT_PORTAL_TYPE:
              return "Portal";
            case exports2.Profiler:
              return "Profiler";
            case exports2.StrictMode:
              return "StrictMode";
            case exports2.Suspense:
              return "Suspense";
            case REACT_SUSPENSE_LIST_TYPE:
              return "SuspenseList";
          }
          if (typeof type === "object") {
            switch (type.$$typeof) {
              case REACT_CONTEXT_TYPE:
                var context = type;
                return getContextName(context) + ".Consumer";
              case REACT_PROVIDER_TYPE:
                var provider = type;
                return getContextName(provider._context) + ".Provider";
              case REACT_FORWARD_REF_TYPE:
                return getWrappedName(type, type.render, "ForwardRef");
              case REACT_MEMO_TYPE:
                return getComponentName(type.type);
              case REACT_BLOCK_TYPE:
                return getComponentName(type._render);
              case REACT_LAZY_TYPE: {
                var lazyComponent = type;
                var payload = lazyComponent._payload;
                var init = lazyComponent._init;
                try {
                  return getComponentName(init(payload));
                } catch (x3) {
                  return null;
                }
              }
            }
          }
          return null;
        }
        var hasOwnProperty = Object.prototype.hasOwnProperty;
        var RESERVED_PROPS = {
          key: true,
          ref: true,
          __self: true,
          __source: true
        };
        var specialPropKeyWarningShown, specialPropRefWarningShown, didWarnAboutStringRefs;
        {
          didWarnAboutStringRefs = {};
        }
        function hasValidRef(config) {
          {
            if (hasOwnProperty.call(config, "ref")) {
              var getter = Object.getOwnPropertyDescriptor(config, "ref").get;
              if (getter && getter.isReactWarning) {
                return false;
              }
            }
          }
          return config.ref !== void 0;
        }
        function hasValidKey(config) {
          {
            if (hasOwnProperty.call(config, "key")) {
              var getter = Object.getOwnPropertyDescriptor(config, "key").get;
              if (getter && getter.isReactWarning) {
                return false;
              }
            }
          }
          return config.key !== void 0;
        }
        function defineKeyPropWarningGetter(props, displayName) {
          var warnAboutAccessingKey = function() {
            {
              if (!specialPropKeyWarningShown) {
                specialPropKeyWarningShown = true;
                error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)", displayName);
              }
            }
          };
          warnAboutAccessingKey.isReactWarning = true;
          Object.defineProperty(props, "key", {
            get: warnAboutAccessingKey,
            configurable: true
          });
        }
        function defineRefPropWarningGetter(props, displayName) {
          var warnAboutAccessingRef = function() {
            {
              if (!specialPropRefWarningShown) {
                specialPropRefWarningShown = true;
                error("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)", displayName);
              }
            }
          };
          warnAboutAccessingRef.isReactWarning = true;
          Object.defineProperty(props, "ref", {
            get: warnAboutAccessingRef,
            configurable: true
          });
        }
        function warnIfStringRefCannotBeAutoConverted(config) {
          {
            if (typeof config.ref === "string" && ReactCurrentOwner.current && config.__self && ReactCurrentOwner.current.stateNode !== config.__self) {
              var componentName = getComponentName(ReactCurrentOwner.current.type);
              if (!didWarnAboutStringRefs[componentName]) {
                error('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref', componentName, config.ref);
                didWarnAboutStringRefs[componentName] = true;
              }
            }
          }
        }
        var ReactElement42 = function(type, key, ref, self2, source, owner, props) {
          var element = {
            $$typeof: REACT_ELEMENT_TYPE,
            type,
            key,
            ref,
            props,
            _owner: owner
          };
          {
            element._store = {};
            Object.defineProperty(element._store, "validated", {
              configurable: false,
              enumerable: false,
              writable: true,
              value: false
            });
            Object.defineProperty(element, "_self", {
              configurable: false,
              enumerable: false,
              writable: false,
              value: self2
            });
            Object.defineProperty(element, "_source", {
              configurable: false,
              enumerable: false,
              writable: false,
              value: source
            });
            if (Object.freeze) {
              Object.freeze(element.props);
              Object.freeze(element);
            }
          }
          return element;
        };
        function createElement(type, config, children) {
          var propName;
          var props = {};
          var key = null;
          var ref = null;
          var self2 = null;
          var source = null;
          if (config != null) {
            if (hasValidRef(config)) {
              ref = config.ref;
              {
                warnIfStringRefCannotBeAutoConverted(config);
              }
            }
            if (hasValidKey(config)) {
              key = "" + config.key;
            }
            self2 = config.__self === void 0 ? null : config.__self;
            source = config.__source === void 0 ? null : config.__source;
            for (propName in config) {
              if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {
                props[propName] = config[propName];
              }
            }
          }
          var childrenLength = arguments.length - 2;
          if (childrenLength === 1) {
            props.children = children;
          } else if (childrenLength > 1) {
            var childArray = Array(childrenLength);
            for (var i3 = 0; i3 < childrenLength; i3++) {
              childArray[i3] = arguments[i3 + 2];
            }
            {
              if (Object.freeze) {
                Object.freeze(childArray);
              }
            }
            props.children = childArray;
          }
          if (type && type.defaultProps) {
            var defaultProps = type.defaultProps;
            for (propName in defaultProps) {
              if (props[propName] === void 0) {
                props[propName] = defaultProps[propName];
              }
            }
          }
          {
            if (key || ref) {
              var displayName = typeof type === "function" ? type.displayName || type.name || "Unknown" : type;
              if (key) {
                defineKeyPropWarningGetter(props, displayName);
              }
              if (ref) {
                defineRefPropWarningGetter(props, displayName);
              }
            }
          }
          return ReactElement42(type, key, ref, self2, source, ReactCurrentOwner.current, props);
        }
        function cloneAndReplaceKey(oldElement, newKey) {
          var newElement = ReactElement42(oldElement.type, newKey, oldElement.ref, oldElement._self, oldElement._source, oldElement._owner, oldElement.props);
          return newElement;
        }
        function cloneElement(element, config, children) {
          if (!!(element === null || element === void 0)) {
            {
              throw Error("React.cloneElement(...): The argument must be a React element, but you passed " + element + ".");
            }
          }
          var propName;
          var props = _assign({}, element.props);
          var key = element.key;
          var ref = element.ref;
          var self2 = element._self;
          var source = element._source;
          var owner = element._owner;
          if (config != null) {
            if (hasValidRef(config)) {
              ref = config.ref;
              owner = ReactCurrentOwner.current;
            }
            if (hasValidKey(config)) {
              key = "" + config.key;
            }
            var defaultProps;
            if (element.type && element.type.defaultProps) {
              defaultProps = element.type.defaultProps;
            }
            for (propName in config) {
              if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {
                if (config[propName] === void 0 && defaultProps !== void 0) {
                  props[propName] = defaultProps[propName];
                } else {
                  props[propName] = config[propName];
                }
              }
            }
          }
          var childrenLength = arguments.length - 2;
          if (childrenLength === 1) {
            props.children = children;
          } else if (childrenLength > 1) {
            var childArray = Array(childrenLength);
            for (var i3 = 0; i3 < childrenLength; i3++) {
              childArray[i3] = arguments[i3 + 2];
            }
            props.children = childArray;
          }
          return ReactElement42(element.type, key, ref, self2, source, owner, props);
        }
        function isValidElement(object) {
          return typeof object === "object" && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
        }
        var SEPARATOR = ".";
        var SUBSEPARATOR = ":";
        function escape2(key) {
          var escapeRegex = /[=:]/g;
          var escaperLookup = {
            "=": "=0",
            ":": "=2"
          };
          var escapedString = key.replace(escapeRegex, function(match9) {
            return escaperLookup[match9];
          });
          return "$" + escapedString;
        }
        var didWarnAboutMaps = false;
        var userProvidedKeyEscapeRegex = /\/+/g;
        function escapeUserProvidedKey(text) {
          return text.replace(userProvidedKeyEscapeRegex, "$&/");
        }
        function getElementKey(element, index) {
          if (typeof element === "object" && element !== null && element.key != null) {
            return escape2("" + element.key);
          }
          return index.toString(36);
        }
        function mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {
          var type = typeof children;
          if (type === "undefined" || type === "boolean") {
            children = null;
          }
          var invokeCallback = false;
          if (children === null) {
            invokeCallback = true;
          } else {
            switch (type) {
              case "string":
              case "number":
                invokeCallback = true;
                break;
              case "object":
                switch (children.$$typeof) {
                  case REACT_ELEMENT_TYPE:
                  case REACT_PORTAL_TYPE:
                    invokeCallback = true;
                }
            }
          }
          if (invokeCallback) {
            var _child = children;
            var mappedChild = callback(_child);
            var childKey = nameSoFar === "" ? SEPARATOR + getElementKey(_child, 0) : nameSoFar;
            if (Array.isArray(mappedChild)) {
              var escapedChildKey = "";
              if (childKey != null) {
                escapedChildKey = escapeUserProvidedKey(childKey) + "/";
              }
              mapIntoArray(mappedChild, array, escapedChildKey, "", function(c3) {
                return c3;
              });
            } else if (mappedChild != null) {
              if (isValidElement(mappedChild)) {
                mappedChild = cloneAndReplaceKey(mappedChild, escapedPrefix + (mappedChild.key && (!_child || _child.key !== mappedChild.key) ? escapeUserProvidedKey("" + mappedChild.key) + "/" : "") + childKey);
              }
              array.push(mappedChild);
            }
            return 1;
          }
          var child;
          var nextName;
          var subtreeCount = 0;
          var nextNamePrefix = nameSoFar === "" ? SEPARATOR : nameSoFar + SUBSEPARATOR;
          if (Array.isArray(children)) {
            for (var i3 = 0; i3 < children.length; i3++) {
              child = children[i3];
              nextName = nextNamePrefix + getElementKey(child, i3);
              subtreeCount += mapIntoArray(child, array, escapedPrefix, nextName, callback);
            }
          } else {
            var iteratorFn = getIteratorFn(children);
            if (typeof iteratorFn === "function") {
              var iterableChildren = children;
              {
                if (iteratorFn === iterableChildren.entries) {
                  if (!didWarnAboutMaps) {
                    warn2("Using Maps as children is not supported. Use an array of keyed ReactElements instead.");
                  }
                  didWarnAboutMaps = true;
                }
              }
              var iterator = iteratorFn.call(iterableChildren);
              var step;
              var ii = 0;
              while (!(step = iterator.next()).done) {
                child = step.value;
                nextName = nextNamePrefix + getElementKey(child, ii++);
                subtreeCount += mapIntoArray(child, array, escapedPrefix, nextName, callback);
              }
            } else if (type === "object") {
              var childrenString = "" + children;
              {
                {
                  throw Error("Objects are not valid as a React child (found: " + (childrenString === "[object Object]" ? "object with keys {" + Object.keys(children).join(", ") + "}" : childrenString) + "). If you meant to render a collection of children, use an array instead.");
                }
              }
            }
          }
          return subtreeCount;
        }
        function mapChildren(children, func, context) {
          if (children == null) {
            return children;
          }
          var result = [];
          var count = 0;
          mapIntoArray(children, result, "", "", function(child) {
            return func.call(context, child, count++);
          });
          return result;
        }
        function countChildren(children) {
          var n2 = 0;
          mapChildren(children, function() {
            n2++;
          });
          return n2;
        }
        function forEachChildren(children, forEachFunc, forEachContext) {
          mapChildren(children, function() {
            forEachFunc.apply(this, arguments);
          }, forEachContext);
        }
        function toArray(children) {
          return mapChildren(children, function(child) {
            return child;
          }) || [];
        }
        function onlyChild(children) {
          if (!isValidElement(children)) {
            {
              throw Error("React.Children.only expected to receive a single React element child.");
            }
          }
          return children;
        }
        function createContext5(defaultValue, calculateChangedBits) {
          if (calculateChangedBits === void 0) {
            calculateChangedBits = null;
          } else {
            {
              if (calculateChangedBits !== null && typeof calculateChangedBits !== "function") {
                error("createContext: Expected the optional second argument to be a function. Instead received: %s", calculateChangedBits);
              }
            }
          }
          var context = {
            $$typeof: REACT_CONTEXT_TYPE,
            _calculateChangedBits: calculateChangedBits,
            _currentValue: defaultValue,
            _currentValue2: defaultValue,
            _threadCount: 0,
            Provider: null,
            Consumer: null
          };
          context.Provider = {
            $$typeof: REACT_PROVIDER_TYPE,
            _context: context
          };
          var hasWarnedAboutUsingNestedContextConsumers = false;
          var hasWarnedAboutUsingConsumerProvider = false;
          var hasWarnedAboutDisplayNameOnConsumer = false;
          {
            var Consumer = {
              $$typeof: REACT_CONTEXT_TYPE,
              _context: context,
              _calculateChangedBits: context._calculateChangedBits
            };
            Object.defineProperties(Consumer, {
              Provider: {
                get: function() {
                  if (!hasWarnedAboutUsingConsumerProvider) {
                    hasWarnedAboutUsingConsumerProvider = true;
                    error("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?");
                  }
                  return context.Provider;
                },
                set: function(_Provider) {
                  context.Provider = _Provider;
                }
              },
              _currentValue: {
                get: function() {
                  return context._currentValue;
                },
                set: function(_currentValue) {
                  context._currentValue = _currentValue;
                }
              },
              _currentValue2: {
                get: function() {
                  return context._currentValue2;
                },
                set: function(_currentValue2) {
                  context._currentValue2 = _currentValue2;
                }
              },
              _threadCount: {
                get: function() {
                  return context._threadCount;
                },
                set: function(_threadCount) {
                  context._threadCount = _threadCount;
                }
              },
              Consumer: {
                get: function() {
                  if (!hasWarnedAboutUsingNestedContextConsumers) {
                    hasWarnedAboutUsingNestedContextConsumers = true;
                    error("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?");
                  }
                  return context.Consumer;
                }
              },
              displayName: {
                get: function() {
                  return context.displayName;
                },
                set: function(displayName) {
                  if (!hasWarnedAboutDisplayNameOnConsumer) {
                    warn2("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.", displayName);
                    hasWarnedAboutDisplayNameOnConsumer = true;
                  }
                }
              }
            });
            context.Consumer = Consumer;
          }
          {
            context._currentRenderer = null;
            context._currentRenderer2 = null;
          }
          return context;
        }
        var Uninitialized = -1;
        var Pending = 0;
        var Resolved = 1;
        var Rejected = 2;
        function lazyInitializer(payload) {
          if (payload._status === Uninitialized) {
            var ctor = payload._result;
            var thenable = ctor();
            var pending = payload;
            pending._status = Pending;
            pending._result = thenable;
            thenable.then(function(moduleObject) {
              if (payload._status === Pending) {
                var defaultExport = moduleObject.default;
                {
                  if (defaultExport === void 0) {
                    error("lazy: Expected the result of a dynamic import() call. Instead received: %s\n\nYour code should look like: \n  const MyComponent = lazy(() => import('./MyComponent'))", moduleObject);
                  }
                }
                var resolved = payload;
                resolved._status = Resolved;
                resolved._result = defaultExport;
              }
            }, function(error2) {
              if (payload._status === Pending) {
                var rejected = payload;
                rejected._status = Rejected;
                rejected._result = error2;
              }
            });
          }
          if (payload._status === Resolved) {
            return payload._result;
          } else {
            throw payload._result;
          }
        }
        function lazy(ctor) {
          var payload = {
            _status: -1,
            _result: ctor
          };
          var lazyType = {
            $$typeof: REACT_LAZY_TYPE,
            _payload: payload,
            _init: lazyInitializer
          };
          {
            var defaultProps;
            var propTypes;
            Object.defineProperties(lazyType, {
              defaultProps: {
                configurable: true,
                get: function() {
                  return defaultProps;
                },
                set: function(newDefaultProps) {
                  error("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it.");
                  defaultProps = newDefaultProps;
                  Object.defineProperty(lazyType, "defaultProps", {
                    enumerable: true
                  });
                }
              },
              propTypes: {
                configurable: true,
                get: function() {
                  return propTypes;
                },
                set: function(newPropTypes) {
                  error("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it.");
                  propTypes = newPropTypes;
                  Object.defineProperty(lazyType, "propTypes", {
                    enumerable: true
                  });
                }
              }
            });
          }
          return lazyType;
        }
        function forwardRef(render) {
          {
            if (render != null && render.$$typeof === REACT_MEMO_TYPE) {
              error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...)).");
            } else if (typeof render !== "function") {
              error("forwardRef requires a render function but was given %s.", render === null ? "null" : typeof render);
            } else {
              if (render.length !== 0 && render.length !== 2) {
                error("forwardRef render functions accept exactly two parameters: props and ref. %s", render.length === 1 ? "Did you forget to use the ref parameter?" : "Any additional parameter will be undefined.");
              }
            }
            if (render != null) {
              if (render.defaultProps != null || render.propTypes != null) {
                error("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");
              }
            }
          }
          var elementType = {
            $$typeof: REACT_FORWARD_REF_TYPE,
            render
          };
          {
            var ownName;
            Object.defineProperty(elementType, "displayName", {
              enumerable: false,
              configurable: true,
              get: function() {
                return ownName;
              },
              set: function(name) {
                ownName = name;
                if (render.displayName == null) {
                  render.displayName = name;
                }
              }
            });
          }
          return elementType;
        }
        var enableScopeAPI = false;
        function isValidElementType(type) {
          if (typeof type === "string" || typeof type === "function") {
            return true;
          }
          if (type === exports2.Fragment || type === exports2.Profiler || type === REACT_DEBUG_TRACING_MODE_TYPE || type === exports2.StrictMode || type === exports2.Suspense || type === REACT_SUSPENSE_LIST_TYPE || type === REACT_LEGACY_HIDDEN_TYPE || enableScopeAPI) {
            return true;
          }
          if (typeof type === "object" && type !== null) {
            if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_BLOCK_TYPE || type[0] === REACT_SERVER_BLOCK_TYPE) {
              return true;
            }
          }
          return false;
        }
        function memo(type, compare) {
          {
            if (!isValidElementType(type)) {
              error("memo: The first argument must be a component. Instead received: %s", type === null ? "null" : typeof type);
            }
          }
          var elementType = {
            $$typeof: REACT_MEMO_TYPE,
            type,
            compare: compare === void 0 ? null : compare
          };
          {
            var ownName;
            Object.defineProperty(elementType, "displayName", {
              enumerable: false,
              configurable: true,
              get: function() {
                return ownName;
              },
              set: function(name) {
                ownName = name;
                if (type.displayName == null) {
                  type.displayName = name;
                }
              }
            });
          }
          return elementType;
        }
        function resolveDispatcher() {
          var dispatcher = ReactCurrentDispatcher.current;
          if (!(dispatcher !== null)) {
            {
              throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.");
            }
          }
          return dispatcher;
        }
        function useContext5(Context4, unstable_observedBits) {
          var dispatcher = resolveDispatcher();
          {
            if (unstable_observedBits !== void 0) {
              error("useContext() second argument is reserved for future use in React. Passing it is not supported. You passed: %s.%s", unstable_observedBits, typeof unstable_observedBits === "number" && Array.isArray(arguments[2]) ? "\n\nDid you call array.map(useContext)? Calling Hooks inside a loop is not supported. Learn more at https://reactjs.org/link/rules-of-hooks" : "");
            }
            if (Context4._context !== void 0) {
              var realContext = Context4._context;
              if (realContext.Consumer === Context4) {
                error("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?");
              } else if (realContext.Provider === Context4) {
                error("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?");
              }
            }
          }
          return dispatcher.useContext(Context4, unstable_observedBits);
        }
        function useState13(initialState) {
          var dispatcher = resolveDispatcher();
          return dispatcher.useState(initialState);
        }
        function useReducer(reducer, initialArg, init) {
          var dispatcher = resolveDispatcher();
          return dispatcher.useReducer(reducer, initialArg, init);
        }
        function useRef7(initialValue) {
          var dispatcher = resolveDispatcher();
          return dispatcher.useRef(initialValue);
        }
        function useEffect11(create, deps) {
          var dispatcher = resolveDispatcher();
          return dispatcher.useEffect(create, deps);
        }
        function useLayoutEffect3(create, deps) {
          var dispatcher = resolveDispatcher();
          return dispatcher.useLayoutEffect(create, deps);
        }
        function useCallback13(callback, deps) {
          var dispatcher = resolveDispatcher();
          return dispatcher.useCallback(callback, deps);
        }
        function useMemo3(create, deps) {
          var dispatcher = resolveDispatcher();
          return dispatcher.useMemo(create, deps);
        }
        function useImperativeHandle(ref, create, deps) {
          var dispatcher = resolveDispatcher();
          return dispatcher.useImperativeHandle(ref, create, deps);
        }
        function useDebugValue(value, formatterFn) {
          {
            var dispatcher = resolveDispatcher();
            return dispatcher.useDebugValue(value, formatterFn);
          }
        }
        var disabledDepth = 0;
        var prevLog;
        var prevInfo;
        var prevWarn;
        var prevError;
        var prevGroup;
        var prevGroupCollapsed;
        var prevGroupEnd;
        function disabledLog() {
        }
        disabledLog.__reactDisabledLog = true;
        function disableLogs() {
          {
            if (disabledDepth === 0) {
              prevLog = console.log;
              prevInfo = console.info;
              prevWarn = console.warn;
              prevError = console.error;
              prevGroup = console.group;
              prevGroupCollapsed = console.groupCollapsed;
              prevGroupEnd = console.groupEnd;
              var props = {
                configurable: true,
                enumerable: true,
                value: disabledLog,
                writable: true
              };
              Object.defineProperties(console, {
                info: props,
                log: props,
                warn: props,
                error: props,
                group: props,
                groupCollapsed: props,
                groupEnd: props
              });
            }
            disabledDepth++;
          }
        }
        function reenableLogs() {
          {
            disabledDepth--;
            if (disabledDepth === 0) {
              var props = {
                configurable: true,
                enumerable: true,
                writable: true
              };
              Object.defineProperties(console, {
                log: _assign({}, props, {
                  value: prevLog
                }),
                info: _assign({}, props, {
                  value: prevInfo
                }),
                warn: _assign({}, props, {
                  value: prevWarn
                }),
                error: _assign({}, props, {
                  value: prevError
                }),
                group: _assign({}, props, {
                  value: prevGroup
                }),
                groupCollapsed: _assign({}, props, {
                  value: prevGroupCollapsed
                }),
                groupEnd: _assign({}, props, {
                  value: prevGroupEnd
                })
              });
            }
            if (disabledDepth < 0) {
              error("disabledDepth fell below zero. This is a bug in React. Please file an issue.");
            }
          }
        }
        var ReactCurrentDispatcher$1 = ReactSharedInternals.ReactCurrentDispatcher;
        var prefix2;
        function describeBuiltInComponentFrame(name, source, ownerFn) {
          {
            if (prefix2 === void 0) {
              try {
                throw Error();
              } catch (x3) {
                var match9 = x3.stack.trim().match(/\n( *(at )?)/);
                prefix2 = match9 && match9[1] || "";
              }
            }
            return "\n" + prefix2 + name;
          }
        }
        var reentry = false;
        var componentFrameCache;
        {
          var PossiblyWeakMap = typeof WeakMap === "function" ? WeakMap : Map;
          componentFrameCache = new PossiblyWeakMap();
        }
        function describeNativeComponentFrame(fn, construct) {
          if (!fn || reentry) {
            return "";
          }
          {
            var frame = componentFrameCache.get(fn);
            if (frame !== void 0) {
              return frame;
            }
          }
          var control;
          reentry = true;
          var previousPrepareStackTrace = Error.prepareStackTrace;
          Error.prepareStackTrace = void 0;
          var previousDispatcher;
          {
            previousDispatcher = ReactCurrentDispatcher$1.current;
            ReactCurrentDispatcher$1.current = null;
            disableLogs();
          }
          try {
            if (construct) {
              var Fake = function() {
                throw Error();
              };
              Object.defineProperty(Fake.prototype, "props", {
                set: function() {
                  throw Error();
                }
              });
              if (typeof Reflect === "object" && Reflect.construct) {
                try {
                  Reflect.construct(Fake, []);
                } catch (x3) {
                  control = x3;
                }
                Reflect.construct(fn, [], Fake);
              } else {
                try {
                  Fake.call();
                } catch (x3) {
                  control = x3;
                }
                fn.call(Fake.prototype);
              }
            } else {
              try {
                throw Error();
              } catch (x3) {
                control = x3;
              }
              fn();
            }
          } catch (sample) {
            if (sample && control && typeof sample.stack === "string") {
              var sampleLines = sample.stack.split("\n");
              var controlLines = control.stack.split("\n");
              var s3 = sampleLines.length - 1;
              var c3 = controlLines.length - 1;
              while (s3 >= 1 && c3 >= 0 && sampleLines[s3] !== controlLines[c3]) {
                c3--;
              }
              for (; s3 >= 1 && c3 >= 0; s3--, c3--) {
                if (sampleLines[s3] !== controlLines[c3]) {
                  if (s3 !== 1 || c3 !== 1) {
                    do {
                      s3--;
                      c3--;
                      if (c3 < 0 || sampleLines[s3] !== controlLines[c3]) {
                        var _frame = "\n" + sampleLines[s3].replace(" at new ", " at ");
                        {
                          if (typeof fn === "function") {
                            componentFrameCache.set(fn, _frame);
                          }
                        }
                        return _frame;
                      }
                    } while (s3 >= 1 && c3 >= 0);
                  }
                  break;
                }
              }
            }
          } finally {
            reentry = false;
            {
              ReactCurrentDispatcher$1.current = previousDispatcher;
              reenableLogs();
            }
            Error.prepareStackTrace = previousPrepareStackTrace;
          }
          var name = fn ? fn.displayName || fn.name : "";
          var syntheticFrame = name ? describeBuiltInComponentFrame(name) : "";
          {
            if (typeof fn === "function") {
              componentFrameCache.set(fn, syntheticFrame);
            }
          }
          return syntheticFrame;
        }
        function describeFunctionComponentFrame(fn, source, ownerFn) {
          {
            return describeNativeComponentFrame(fn, false);
          }
        }
        function shouldConstruct(Component2) {
          var prototype = Component2.prototype;
          return !!(prototype && prototype.isReactComponent);
        }
        function describeUnknownElementTypeFrameInDEV(type, source, ownerFn) {
          if (type == null) {
            return "";
          }
          if (typeof type === "function") {
            {
              return describeNativeComponentFrame(type, shouldConstruct(type));
            }
          }
          if (typeof type === "string") {
            return describeBuiltInComponentFrame(type);
          }
          switch (type) {
            case exports2.Suspense:
              return describeBuiltInComponentFrame("Suspense");
            case REACT_SUSPENSE_LIST_TYPE:
              return describeBuiltInComponentFrame("SuspenseList");
          }
          if (typeof type === "object") {
            switch (type.$$typeof) {
              case REACT_FORWARD_REF_TYPE:
                return describeFunctionComponentFrame(type.render);
              case REACT_MEMO_TYPE:
                return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);
              case REACT_BLOCK_TYPE:
                return describeFunctionComponentFrame(type._render);
              case REACT_LAZY_TYPE: {
                var lazyComponent = type;
                var payload = lazyComponent._payload;
                var init = lazyComponent._init;
                try {
                  return describeUnknownElementTypeFrameInDEV(init(payload), source, ownerFn);
                } catch (x3) {
                }
              }
            }
          }
          return "";
        }
        var loggedTypeFailures = {};
        var ReactDebugCurrentFrame$1 = ReactSharedInternals.ReactDebugCurrentFrame;
        function setCurrentlyValidatingElement(element) {
          {
            if (element) {
              var owner = element._owner;
              var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);
              ReactDebugCurrentFrame$1.setExtraStackFrame(stack);
            } else {
              ReactDebugCurrentFrame$1.setExtraStackFrame(null);
            }
          }
        }
        function checkPropTypes(typeSpecs, values, location, componentName, element) {
          {
            var has = Function.call.bind(Object.prototype.hasOwnProperty);
            for (var typeSpecName in typeSpecs) {
              if (has(typeSpecs, typeSpecName)) {
                var error$1 = void 0;
                try {
                  if (typeof typeSpecs[typeSpecName] !== "function") {
                    var err = Error((componentName || "React class") + ": " + location + " type `" + typeSpecName + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + typeof typeSpecs[typeSpecName] + "`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");
                    err.name = "Invariant Violation";
                    throw err;
                  }
                  error$1 = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");
                } catch (ex) {
                  error$1 = ex;
                }
                if (error$1 && !(error$1 instanceof Error)) {
                  setCurrentlyValidatingElement(element);
                  error("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).", componentName || "React class", location, typeSpecName, typeof error$1);
                  setCurrentlyValidatingElement(null);
                }
                if (error$1 instanceof Error && !(error$1.message in loggedTypeFailures)) {
                  loggedTypeFailures[error$1.message] = true;
                  setCurrentlyValidatingElement(element);
                  error("Failed %s type: %s", location, error$1.message);
                  setCurrentlyValidatingElement(null);
                }
              }
            }
          }
        }
        function setCurrentlyValidatingElement$1(element) {
          {
            if (element) {
              var owner = element._owner;
              var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);
              setExtraStackFrame(stack);
            } else {
              setExtraStackFrame(null);
            }
          }
        }
        var propTypesMisspellWarningShown;
        {
          propTypesMisspellWarningShown = false;
        }
        function getDeclarationErrorAddendum() {
          if (ReactCurrentOwner.current) {
            var name = getComponentName(ReactCurrentOwner.current.type);
            if (name) {
              return "\n\nCheck the render method of `" + name + "`.";
            }
          }
          return "";
        }
        function getSourceInfoErrorAddendum(source) {
          if (source !== void 0) {
            var fileName = source.fileName.replace(/^.*[\\\/]/, "");
            var lineNumber = source.lineNumber;
            return "\n\nCheck your code at " + fileName + ":" + lineNumber + ".";
          }
          return "";
        }
        function getSourceInfoErrorAddendumForProps(elementProps) {
          if (elementProps !== null && elementProps !== void 0) {
            return getSourceInfoErrorAddendum(elementProps.__source);
          }
          return "";
        }
        var ownerHasKeyUseWarning = {};
        function getCurrentComponentErrorInfo(parentType) {
          var info = getDeclarationErrorAddendum();
          if (!info) {
            var parentName = typeof parentType === "string" ? parentType : parentType.displayName || parentType.name;
            if (parentName) {
              info = "\n\nCheck the top-level render call using <" + parentName + ">.";
            }
          }
          return info;
        }
        function validateExplicitKey(element, parentType) {
          if (!element._store || element._store.validated || element.key != null) {
            return;
          }
          element._store.validated = true;
          var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);
          if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {
            return;
          }
          ownerHasKeyUseWarning[currentComponentErrorInfo] = true;
          var childOwner = "";
          if (element && element._owner && element._owner !== ReactCurrentOwner.current) {
            childOwner = " It was passed a child from " + getComponentName(element._owner.type) + ".";
          }
          {
            setCurrentlyValidatingElement$1(element);
            error('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);
            setCurrentlyValidatingElement$1(null);
          }
        }
        function validateChildKeys(node, parentType) {
          if (typeof node !== "object") {
            return;
          }
          if (Array.isArray(node)) {
            for (var i3 = 0; i3 < node.length; i3++) {
              var child = node[i3];
              if (isValidElement(child)) {
                validateExplicitKey(child, parentType);
              }
            }
          } else if (isValidElement(node)) {
            if (node._store) {
              node._store.validated = true;
            }
          } else if (node) {
            var iteratorFn = getIteratorFn(node);
            if (typeof iteratorFn === "function") {
              if (iteratorFn !== node.entries) {
                var iterator = iteratorFn.call(node);
                var step;
                while (!(step = iterator.next()).done) {
                  if (isValidElement(step.value)) {
                    validateExplicitKey(step.value, parentType);
                  }
                }
              }
            }
          }
        }
        function validatePropTypes(element) {
          {
            var type = element.type;
            if (type === null || type === void 0 || typeof type === "string") {
              return;
            }
            var propTypes;
            if (typeof type === "function") {
              propTypes = type.propTypes;
            } else if (typeof type === "object" && (type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_MEMO_TYPE)) {
              propTypes = type.propTypes;
            } else {
              return;
            }
            if (propTypes) {
              var name = getComponentName(type);
              checkPropTypes(propTypes, element.props, "prop", name, element);
            } else if (type.PropTypes !== void 0 && !propTypesMisspellWarningShown) {
              propTypesMisspellWarningShown = true;
              var _name = getComponentName(type);
              error("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?", _name || "Unknown");
            }
            if (typeof type.getDefaultProps === "function" && !type.getDefaultProps.isReactClassApproved) {
              error("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.");
            }
          }
        }
        function validateFragmentProps(fragment) {
          {
            var keys = Object.keys(fragment.props);
            for (var i3 = 0; i3 < keys.length; i3++) {
              var key = keys[i3];
              if (key !== "children" && key !== "key") {
                setCurrentlyValidatingElement$1(fragment);
                error("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.", key);
                setCurrentlyValidatingElement$1(null);
                break;
              }
            }
            if (fragment.ref !== null) {
              setCurrentlyValidatingElement$1(fragment);
              error("Invalid attribute `ref` supplied to `React.Fragment`.");
              setCurrentlyValidatingElement$1(null);
            }
          }
        }
        function createElementWithValidation(type, props, children) {
          var validType = isValidElementType(type);
          if (!validType) {
            var info = "";
            if (type === void 0 || typeof type === "object" && type !== null && Object.keys(type).length === 0) {
              info += " You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";
            }
            var sourceInfo = getSourceInfoErrorAddendumForProps(props);
            if (sourceInfo) {
              info += sourceInfo;
            } else {
              info += getDeclarationErrorAddendum();
            }
            var typeString;
            if (type === null) {
              typeString = "null";
            } else if (Array.isArray(type)) {
              typeString = "array";
            } else if (type !== void 0 && type.$$typeof === REACT_ELEMENT_TYPE) {
              typeString = "<" + (getComponentName(type.type) || "Unknown") + " />";
              info = " Did you accidentally export a JSX literal instead of a component?";
            } else {
              typeString = typeof type;
            }
            {
              error("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s", typeString, info);
            }
          }
          var element = createElement.apply(this, arguments);
          if (element == null) {
            return element;
          }
          if (validType) {
            for (var i3 = 2; i3 < arguments.length; i3++) {
              validateChildKeys(arguments[i3], type);
            }
          }
          if (type === exports2.Fragment) {
            validateFragmentProps(element);
          } else {
            validatePropTypes(element);
          }
          return element;
        }
        var didWarnAboutDeprecatedCreateFactory = false;
        function createFactoryWithValidation(type) {
          var validatedFactory = createElementWithValidation.bind(null, type);
          validatedFactory.type = type;
          {
            if (!didWarnAboutDeprecatedCreateFactory) {
              didWarnAboutDeprecatedCreateFactory = true;
              warn2("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.");
            }
            Object.defineProperty(validatedFactory, "type", {
              enumerable: false,
              get: function() {
                warn2("Factory.type is deprecated. Access the class directly before passing it to createFactory.");
                Object.defineProperty(this, "type", {
                  value: type
                });
                return type;
              }
            });
          }
          return validatedFactory;
        }
        function cloneElementWithValidation(element, props, children) {
          var newElement = cloneElement.apply(this, arguments);
          for (var i3 = 2; i3 < arguments.length; i3++) {
            validateChildKeys(arguments[i3], newElement.type);
          }
          validatePropTypes(newElement);
          return newElement;
        }
        {
          try {
            var frozenObject = Object.freeze({});
            new Map([[frozenObject, null]]);
            new Set([frozenObject]);
          } catch (e) {
          }
        }
        var createElement$1 = createElementWithValidation;
        var cloneElement$1 = cloneElementWithValidation;
        var createFactory = createFactoryWithValidation;
        var Children = {
          map: mapChildren,
          forEach: forEachChildren,
          count: countChildren,
          toArray,
          only: onlyChild
        };
        exports2.Children = Children;
        exports2.Component = Component;
        exports2.PureComponent = PureComponent;
        exports2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = ReactSharedInternals;
        exports2.cloneElement = cloneElement$1;
        exports2.createContext = createContext5;
        exports2.createElement = createElement$1;
        exports2.createFactory = createFactory;
        exports2.createRef = createRef;
        exports2.forwardRef = forwardRef;
        exports2.isValidElement = isValidElement;
        exports2.lazy = lazy;
        exports2.memo = memo;
        exports2.useCallback = useCallback13;
        exports2.useContext = useContext5;
        exports2.useDebugValue = useDebugValue;
        exports2.useEffect = useEffect11;
        exports2.useImperativeHandle = useImperativeHandle;
        exports2.useLayoutEffect = useLayoutEffect3;
        exports2.useMemo = useMemo3;
        exports2.useReducer = useReducer;
        exports2.useRef = useRef7;
        exports2.useState = useState13;
        exports2.version = ReactVersion;
      })();
    }
  }
});

// node_modules/react/index.js
var require_react = __commonJS({
  "node_modules/react/index.js"(exports2, module2) {
    "use strict";
    if (false) {
      module2.exports = null;
    } else {
      module2.exports = require_react_development();
    }
  }
});

// node_modules/scheduler/cjs/scheduler.development.js
var require_scheduler_development = __commonJS({
  "node_modules/scheduler/cjs/scheduler.development.js"(exports2) {
    "use strict";
    if (true) {
      (function() {
        "use strict";
        var enableSchedulerDebugging = false;
        var enableProfiling = false;
        var requestHostCallback;
        var requestHostTimeout;
        var cancelHostTimeout;
        var requestPaint;
        var hasPerformanceNow = typeof performance === "object" && typeof performance.now === "function";
        if (hasPerformanceNow) {
          var localPerformance = performance;
          exports2.unstable_now = function() {
            return localPerformance.now();
          };
        } else {
          var localDate = Date;
          var initialTime = localDate.now();
          exports2.unstable_now = function() {
            return localDate.now() - initialTime;
          };
        }
        if (typeof window === "undefined" || typeof MessageChannel !== "function") {
          var _callback = null;
          var _timeoutID = null;
          var _flushCallback = function() {
            if (_callback !== null) {
              try {
                var currentTime = exports2.unstable_now();
                var hasRemainingTime = true;
                _callback(hasRemainingTime, currentTime);
                _callback = null;
              } catch (e) {
                setTimeout(_flushCallback, 0);
                throw e;
              }
            }
          };
          requestHostCallback = function(cb) {
            if (_callback !== null) {
              setTimeout(requestHostCallback, 0, cb);
            } else {
              _callback = cb;
              setTimeout(_flushCallback, 0);
            }
          };
          requestHostTimeout = function(cb, ms) {
            _timeoutID = setTimeout(cb, ms);
          };
          cancelHostTimeout = function() {
            clearTimeout(_timeoutID);
          };
          exports2.unstable_shouldYield = function() {
            return false;
          };
          requestPaint = exports2.unstable_forceFrameRate = function() {
          };
        } else {
          var _setTimeout = window.setTimeout;
          var _clearTimeout = window.clearTimeout;
          if (typeof console !== "undefined") {
            var requestAnimationFrame = window.requestAnimationFrame;
            var cancelAnimationFrame = window.cancelAnimationFrame;
            if (typeof requestAnimationFrame !== "function") {
              console["error"]("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills");
            }
            if (typeof cancelAnimationFrame !== "function") {
              console["error"]("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills");
            }
          }
          var isMessageLoopRunning = false;
          var scheduledHostCallback = null;
          var taskTimeoutID = -1;
          var yieldInterval = 5;
          var deadline = 0;
          {
            exports2.unstable_shouldYield = function() {
              return exports2.unstable_now() >= deadline;
            };
            requestPaint = function() {
            };
          }
          exports2.unstable_forceFrameRate = function(fps) {
            if (fps < 0 || fps > 125) {
              console["error"]("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");
              return;
            }
            if (fps > 0) {
              yieldInterval = Math.floor(1e3 / fps);
            } else {
              yieldInterval = 5;
            }
          };
          var performWorkUntilDeadline = function() {
            if (scheduledHostCallback !== null) {
              var currentTime = exports2.unstable_now();
              deadline = currentTime + yieldInterval;
              var hasTimeRemaining = true;
              try {
                var hasMoreWork = scheduledHostCallback(hasTimeRemaining, currentTime);
                if (!hasMoreWork) {
                  isMessageLoopRunning = false;
                  scheduledHostCallback = null;
                } else {
                  port.postMessage(null);
                }
              } catch (error) {
                port.postMessage(null);
                throw error;
              }
            } else {
              isMessageLoopRunning = false;
            }
          };
          var channel = new MessageChannel();
          var port = channel.port2;
          channel.port1.onmessage = performWorkUntilDeadline;
          requestHostCallback = function(callback) {
            scheduledHostCallback = callback;
            if (!isMessageLoopRunning) {
              isMessageLoopRunning = true;
              port.postMessage(null);
            }
          };
          requestHostTimeout = function(callback, ms) {
            taskTimeoutID = _setTimeout(function() {
              callback(exports2.unstable_now());
            }, ms);
          };
          cancelHostTimeout = function() {
            _clearTimeout(taskTimeoutID);
            taskTimeoutID = -1;
          };
        }
        function push(heap, node) {
          var index = heap.length;
          heap.push(node);
          siftUp(heap, node, index);
        }
        function peek(heap) {
          var first = heap[0];
          return first === void 0 ? null : first;
        }
        function pop(heap) {
          var first = heap[0];
          if (first !== void 0) {
            var last = heap.pop();
            if (last !== first) {
              heap[0] = last;
              siftDown(heap, last, 0);
            }
            return first;
          } else {
            return null;
          }
        }
        function siftUp(heap, node, i3) {
          var index = i3;
          while (true) {
            var parentIndex = index - 1 >>> 1;
            var parent = heap[parentIndex];
            if (parent !== void 0 && compare(parent, node) > 0) {
              heap[parentIndex] = node;
              heap[index] = parent;
              index = parentIndex;
            } else {
              return;
            }
          }
        }
        function siftDown(heap, node, i3) {
          var index = i3;
          var length = heap.length;
          while (index < length) {
            var leftIndex = (index + 1) * 2 - 1;
            var left = heap[leftIndex];
            var rightIndex = leftIndex + 1;
            var right = heap[rightIndex];
            if (left !== void 0 && compare(left, node) < 0) {
              if (right !== void 0 && compare(right, left) < 0) {
                heap[index] = right;
                heap[rightIndex] = node;
                index = rightIndex;
              } else {
                heap[index] = left;
                heap[leftIndex] = node;
                index = leftIndex;
              }
            } else if (right !== void 0 && compare(right, node) < 0) {
              heap[index] = right;
              heap[rightIndex] = node;
              index = rightIndex;
            } else {
              return;
            }
          }
        }
        function compare(a4, b3) {
          var diff = a4.sortIndex - b3.sortIndex;
          return diff !== 0 ? diff : a4.id - b3.id;
        }
        var ImmediatePriority = 1;
        var UserBlockingPriority = 2;
        var NormalPriority = 3;
        var LowPriority = 4;
        var IdlePriority = 5;
        function markTaskErrored(task, ms) {
        }
        var maxSigned31BitInt = 1073741823;
        var IMMEDIATE_PRIORITY_TIMEOUT = -1;
        var USER_BLOCKING_PRIORITY_TIMEOUT = 250;
        var NORMAL_PRIORITY_TIMEOUT = 5e3;
        var LOW_PRIORITY_TIMEOUT = 1e4;
        var IDLE_PRIORITY_TIMEOUT = maxSigned31BitInt;
        var taskQueue = [];
        var timerQueue = [];
        var taskIdCounter = 1;
        var currentTask = null;
        var currentPriorityLevel = NormalPriority;
        var isPerformingWork = false;
        var isHostCallbackScheduled = false;
        var isHostTimeoutScheduled = false;
        function advanceTimers(currentTime) {
          var timer = peek(timerQueue);
          while (timer !== null) {
            if (timer.callback === null) {
              pop(timerQueue);
            } else if (timer.startTime <= currentTime) {
              pop(timerQueue);
              timer.sortIndex = timer.expirationTime;
              push(taskQueue, timer);
            } else {
              return;
            }
            timer = peek(timerQueue);
          }
        }
        function handleTimeout(currentTime) {
          isHostTimeoutScheduled = false;
          advanceTimers(currentTime);
          if (!isHostCallbackScheduled) {
            if (peek(taskQueue) !== null) {
              isHostCallbackScheduled = true;
              requestHostCallback(flushWork);
            } else {
              var firstTimer = peek(timerQueue);
              if (firstTimer !== null) {
                requestHostTimeout(handleTimeout, firstTimer.startTime - currentTime);
              }
            }
          }
        }
        function flushWork(hasTimeRemaining, initialTime2) {
          isHostCallbackScheduled = false;
          if (isHostTimeoutScheduled) {
            isHostTimeoutScheduled = false;
            cancelHostTimeout();
          }
          isPerformingWork = true;
          var previousPriorityLevel = currentPriorityLevel;
          try {
            if (enableProfiling) {
              try {
                return workLoop(hasTimeRemaining, initialTime2);
              } catch (error) {
                if (currentTask !== null) {
                  var currentTime = exports2.unstable_now();
                  markTaskErrored(currentTask, currentTime);
                  currentTask.isQueued = false;
                }
                throw error;
              }
            } else {
              return workLoop(hasTimeRemaining, initialTime2);
            }
          } finally {
            currentTask = null;
            currentPriorityLevel = previousPriorityLevel;
            isPerformingWork = false;
          }
        }
        function workLoop(hasTimeRemaining, initialTime2) {
          var currentTime = initialTime2;
          advanceTimers(currentTime);
          currentTask = peek(taskQueue);
          while (currentTask !== null && !enableSchedulerDebugging) {
            if (currentTask.expirationTime > currentTime && (!hasTimeRemaining || exports2.unstable_shouldYield())) {
              break;
            }
            var callback = currentTask.callback;
            if (typeof callback === "function") {
              currentTask.callback = null;
              currentPriorityLevel = currentTask.priorityLevel;
              var didUserCallbackTimeout = currentTask.expirationTime <= currentTime;
              var continuationCallback = callback(didUserCallbackTimeout);
              currentTime = exports2.unstable_now();
              if (typeof continuationCallback === "function") {
                currentTask.callback = continuationCallback;
              } else {
                if (currentTask === peek(taskQueue)) {
                  pop(taskQueue);
                }
              }
              advanceTimers(currentTime);
            } else {
              pop(taskQueue);
            }
            currentTask = peek(taskQueue);
          }
          if (currentTask !== null) {
            return true;
          } else {
            var firstTimer = peek(timerQueue);
            if (firstTimer !== null) {
              requestHostTimeout(handleTimeout, firstTimer.startTime - currentTime);
            }
            return false;
          }
        }
        function unstable_runWithPriority(priorityLevel, eventHandler) {
          switch (priorityLevel) {
            case ImmediatePriority:
            case UserBlockingPriority:
            case NormalPriority:
            case LowPriority:
            case IdlePriority:
              break;
            default:
              priorityLevel = NormalPriority;
          }
          var previousPriorityLevel = currentPriorityLevel;
          currentPriorityLevel = priorityLevel;
          try {
            return eventHandler();
          } finally {
            currentPriorityLevel = previousPriorityLevel;
          }
        }
        function unstable_next(eventHandler) {
          var priorityLevel;
          switch (currentPriorityLevel) {
            case ImmediatePriority:
            case UserBlockingPriority:
            case NormalPriority:
              priorityLevel = NormalPriority;
              break;
            default:
              priorityLevel = currentPriorityLevel;
              break;
          }
          var previousPriorityLevel = currentPriorityLevel;
          currentPriorityLevel = priorityLevel;
          try {
            return eventHandler();
          } finally {
            currentPriorityLevel = previousPriorityLevel;
          }
        }
        function unstable_wrapCallback(callback) {
          var parentPriorityLevel = currentPriorityLevel;
          return function() {
            var previousPriorityLevel = currentPriorityLevel;
            currentPriorityLevel = parentPriorityLevel;
            try {
              return callback.apply(this, arguments);
            } finally {
              currentPriorityLevel = previousPriorityLevel;
            }
          };
        }
        function unstable_scheduleCallback(priorityLevel, callback, options) {
          var currentTime = exports2.unstable_now();
          var startTime;
          if (typeof options === "object" && options !== null) {
            var delay = options.delay;
            if (typeof delay === "number" && delay > 0) {
              startTime = currentTime + delay;
            } else {
              startTime = currentTime;
            }
          } else {
            startTime = currentTime;
          }
          var timeout;
          switch (priorityLevel) {
            case ImmediatePriority:
              timeout = IMMEDIATE_PRIORITY_TIMEOUT;
              break;
            case UserBlockingPriority:
              timeout = USER_BLOCKING_PRIORITY_TIMEOUT;
              break;
            case IdlePriority:
              timeout = IDLE_PRIORITY_TIMEOUT;
              break;
            case LowPriority:
              timeout = LOW_PRIORITY_TIMEOUT;
              break;
            case NormalPriority:
            default:
              timeout = NORMAL_PRIORITY_TIMEOUT;
              break;
          }
          var expirationTime = startTime + timeout;
          var newTask = {
            id: taskIdCounter++,
            callback,
            priorityLevel,
            startTime,
            expirationTime,
            sortIndex: -1
          };
          if (startTime > currentTime) {
            newTask.sortIndex = startTime;
            push(timerQueue, newTask);
            if (peek(taskQueue) === null && newTask === peek(timerQueue)) {
              if (isHostTimeoutScheduled) {
                cancelHostTimeout();
              } else {
                isHostTimeoutScheduled = true;
              }
              requestHostTimeout(handleTimeout, startTime - currentTime);
            }
          } else {
            newTask.sortIndex = expirationTime;
            push(taskQueue, newTask);
            if (!isHostCallbackScheduled && !isPerformingWork) {
              isHostCallbackScheduled = true;
              requestHostCallback(flushWork);
            }
          }
          return newTask;
        }
        function unstable_pauseExecution() {
        }
        function unstable_continueExecution() {
          if (!isHostCallbackScheduled && !isPerformingWork) {
            isHostCallbackScheduled = true;
            requestHostCallback(flushWork);
          }
        }
        function unstable_getFirstCallbackNode() {
          return peek(taskQueue);
        }
        function unstable_cancelCallback(task) {
          task.callback = null;
        }
        function unstable_getCurrentPriorityLevel() {
          return currentPriorityLevel;
        }
        var unstable_requestPaint = requestPaint;
        var unstable_Profiling = null;
        exports2.unstable_IdlePriority = IdlePriority;
        exports2.unstable_ImmediatePriority = ImmediatePriority;
        exports2.unstable_LowPriority = LowPriority;
        exports2.unstable_NormalPriority = NormalPriority;
        exports2.unstable_Profiling = unstable_Profiling;
        exports2.unstable_UserBlockingPriority = UserBlockingPriority;
        exports2.unstable_cancelCallback = unstable_cancelCallback;
        exports2.unstable_continueExecution = unstable_continueExecution;
        exports2.unstable_getCurrentPriorityLevel = unstable_getCurrentPriorityLevel;
        exports2.unstable_getFirstCallbackNode = unstable_getFirstCallbackNode;
        exports2.unstable_next = unstable_next;
        exports2.unstable_pauseExecution = unstable_pauseExecution;
        exports2.unstable_requestPaint = unstable_requestPaint;
        exports2.unstable_runWithPriority = unstable_runWithPriority;
        exports2.unstable_scheduleCallback = unstable_scheduleCallback;
        exports2.unstable_wrapCallback = unstable_wrapCallback;
      })();
    }
  }
});

// node_modules/scheduler/index.js
var require_scheduler = __commonJS({
  "node_modules/scheduler/index.js"(exports2, module2) {
    "use strict";
    if (false) {
      module2.exports = null;
    } else {
      module2.exports = require_scheduler_development();
    }
  }
});

// node_modules/scheduler/cjs/scheduler-tracing.development.js
var require_scheduler_tracing_development = __commonJS({
  "node_modules/scheduler/cjs/scheduler-tracing.development.js"(exports2) {
    "use strict";
    if (true) {
      (function() {
        "use strict";
        var DEFAULT_THREAD_ID = 0;
        var interactionIDCounter = 0;
        var threadIDCounter = 0;
        exports2.__interactionsRef = null;
        exports2.__subscriberRef = null;
        {
          exports2.__interactionsRef = {
            current: new Set()
          };
          exports2.__subscriberRef = {
            current: null
          };
        }
        function unstable_clear(callback) {
          var prevInteractions = exports2.__interactionsRef.current;
          exports2.__interactionsRef.current = new Set();
          try {
            return callback();
          } finally {
            exports2.__interactionsRef.current = prevInteractions;
          }
        }
        function unstable_getCurrent() {
          {
            return exports2.__interactionsRef.current;
          }
        }
        function unstable_getThreadID() {
          return ++threadIDCounter;
        }
        function unstable_trace(name, timestamp, callback) {
          var threadID = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : DEFAULT_THREAD_ID;
          var interaction = {
            __count: 1,
            id: interactionIDCounter++,
            name,
            timestamp
          };
          var prevInteractions = exports2.__interactionsRef.current;
          var interactions = new Set(prevInteractions);
          interactions.add(interaction);
          exports2.__interactionsRef.current = interactions;
          var subscriber = exports2.__subscriberRef.current;
          var returnValue;
          try {
            if (subscriber !== null) {
              subscriber.onInteractionTraced(interaction);
            }
          } finally {
            try {
              if (subscriber !== null) {
                subscriber.onWorkStarted(interactions, threadID);
              }
            } finally {
              try {
                returnValue = callback();
              } finally {
                exports2.__interactionsRef.current = prevInteractions;
                try {
                  if (subscriber !== null) {
                    subscriber.onWorkStopped(interactions, threadID);
                  }
                } finally {
                  interaction.__count--;
                  if (subscriber !== null && interaction.__count === 0) {
                    subscriber.onInteractionScheduledWorkCompleted(interaction);
                  }
                }
              }
            }
          }
          return returnValue;
        }
        function unstable_wrap(callback) {
          var threadID = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : DEFAULT_THREAD_ID;
          var wrappedInteractions = exports2.__interactionsRef.current;
          var subscriber = exports2.__subscriberRef.current;
          if (subscriber !== null) {
            subscriber.onWorkScheduled(wrappedInteractions, threadID);
          }
          wrappedInteractions.forEach(function(interaction) {
            interaction.__count++;
          });
          var hasRun = false;
          function wrapped() {
            var prevInteractions = exports2.__interactionsRef.current;
            exports2.__interactionsRef.current = wrappedInteractions;
            subscriber = exports2.__subscriberRef.current;
            try {
              var returnValue;
              try {
                if (subscriber !== null) {
                  subscriber.onWorkStarted(wrappedInteractions, threadID);
                }
              } finally {
                try {
                  returnValue = callback.apply(void 0, arguments);
                } finally {
                  exports2.__interactionsRef.current = prevInteractions;
                  if (subscriber !== null) {
                    subscriber.onWorkStopped(wrappedInteractions, threadID);
                  }
                }
              }
              return returnValue;
            } finally {
              if (!hasRun) {
                hasRun = true;
                wrappedInteractions.forEach(function(interaction) {
                  interaction.__count--;
                  if (subscriber !== null && interaction.__count === 0) {
                    subscriber.onInteractionScheduledWorkCompleted(interaction);
                  }
                });
              }
            }
          }
          wrapped.cancel = function cancel() {
            subscriber = exports2.__subscriberRef.current;
            try {
              if (subscriber !== null) {
                subscriber.onWorkCanceled(wrappedInteractions, threadID);
              }
            } finally {
              wrappedInteractions.forEach(function(interaction) {
                interaction.__count--;
                if (subscriber && interaction.__count === 0) {
                  subscriber.onInteractionScheduledWorkCompleted(interaction);
                }
              });
            }
          };
          return wrapped;
        }
        var subscribers = null;
        {
          subscribers = new Set();
        }
        function unstable_subscribe(subscriber) {
          {
            subscribers.add(subscriber);
            if (subscribers.size === 1) {
              exports2.__subscriberRef.current = {
                onInteractionScheduledWorkCompleted,
                onInteractionTraced,
                onWorkCanceled,
                onWorkScheduled,
                onWorkStarted,
                onWorkStopped
              };
            }
          }
        }
        function unstable_unsubscribe(subscriber) {
          {
            subscribers.delete(subscriber);
            if (subscribers.size === 0) {
              exports2.__subscriberRef.current = null;
            }
          }
        }
        function onInteractionTraced(interaction) {
          var didCatchError = false;
          var caughtError = null;
          subscribers.forEach(function(subscriber) {
            try {
              subscriber.onInteractionTraced(interaction);
            } catch (error) {
              if (!didCatchError) {
                didCatchError = true;
                caughtError = error;
              }
            }
          });
          if (didCatchError) {
            throw caughtError;
          }
        }
        function onInteractionScheduledWorkCompleted(interaction) {
          var didCatchError = false;
          var caughtError = null;
          subscribers.forEach(function(subscriber) {
            try {
              subscriber.onInteractionScheduledWorkCompleted(interaction);
            } catch (error) {
              if (!didCatchError) {
                didCatchError = true;
                caughtError = error;
              }
            }
          });
          if (didCatchError) {
            throw caughtError;
          }
        }
        function onWorkScheduled(interactions, threadID) {
          var didCatchError = false;
          var caughtError = null;
          subscribers.forEach(function(subscriber) {
            try {
              subscriber.onWorkScheduled(interactions, threadID);
            } catch (error) {
              if (!didCatchError) {
                didCatchError = true;
                caughtError = error;
              }
            }
          });
          if (didCatchError) {
            throw caughtError;
          }
        }
        function onWorkStarted(interactions, threadID) {
          var didCatchError = false;
          var caughtError = null;
          subscribers.forEach(function(subscriber) {
            try {
              subscriber.onWorkStarted(interactions, threadID);
            } catch (error) {
              if (!didCatchError) {
                didCatchError = true;
                caughtError = error;
              }
            }
          });
          if (didCatchError) {
            throw caughtError;
          }
        }
        function onWorkStopped(interactions, threadID) {
          var didCatchError = false;
          var caughtError = null;
          subscribers.forEach(function(subscriber) {
            try {
              subscriber.onWorkStopped(interactions, threadID);
            } catch (error) {
              if (!didCatchError) {
                didCatchError = true;
                caughtError = error;
              }
            }
          });
          if (didCatchError) {
            throw caughtError;
          }
        }
        function onWorkCanceled(interactions, threadID) {
          var didCatchError = false;
          var caughtError = null;
          subscribers.forEach(function(subscriber) {
            try {
              subscriber.onWorkCanceled(interactions, threadID);
            } catch (error) {
              if (!didCatchError) {
                didCatchError = true;
                caughtError = error;
              }
            }
          });
          if (didCatchError) {
            throw caughtError;
          }
        }
        exports2.unstable_clear = unstable_clear;
        exports2.unstable_getCurrent = unstable_getCurrent;
        exports2.unstable_getThreadID = unstable_getThreadID;
        exports2.unstable_subscribe = unstable_subscribe;
        exports2.unstable_trace = unstable_trace;
        exports2.unstable_unsubscribe = unstable_unsubscribe;
        exports2.unstable_wrap = unstable_wrap;
      })();
    }
  }
});

// node_modules/scheduler/tracing.js
var require_tracing = __commonJS({
  "node_modules/scheduler/tracing.js"(exports2, module2) {
    "use strict";
    if (false) {
      module2.exports = null;
    } else {
      module2.exports = require_scheduler_tracing_development();
    }
  }
});

// node_modules/react-dom/cjs/react-dom.development.js
var require_react_dom_development = __commonJS({
  "node_modules/react-dom/cjs/react-dom.development.js"(exports2) {
    "use strict";
    if (true) {
      (function() {
        "use strict";
        var React42 = require_react();
        var _assign = require_object_assign();
        var Scheduler = require_scheduler();
        var tracing = require_tracing();
        var ReactSharedInternals = React42.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
        function warn2(format) {
          {
            for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
              args[_key - 1] = arguments[_key];
            }
            printWarning("warn", format, args);
          }
        }
        function error(format) {
          {
            for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
              args[_key2 - 1] = arguments[_key2];
            }
            printWarning("error", format, args);
          }
        }
        function printWarning(level, format, args) {
          {
            var ReactDebugCurrentFrame2 = ReactSharedInternals.ReactDebugCurrentFrame;
            var stack = ReactDebugCurrentFrame2.getStackAddendum();
            if (stack !== "") {
              format += "%s";
              args = args.concat([stack]);
            }
            var argsWithFormat = args.map(function(item) {
              return "" + item;
            });
            argsWithFormat.unshift("Warning: " + format);
            Function.prototype.apply.call(console[level], console, argsWithFormat);
          }
        }
        if (!React42) {
          {
            throw Error("ReactDOM was loaded before React. Make sure you load the React package before loading ReactDOM.");
          }
        }
        var FunctionComponent = 0;
        var ClassComponent = 1;
        var IndeterminateComponent = 2;
        var HostRoot = 3;
        var HostPortal = 4;
        var HostComponent = 5;
        var HostText = 6;
        var Fragment2 = 7;
        var Mode = 8;
        var ContextConsumer = 9;
        var ContextProvider = 10;
        var ForwardRef = 11;
        var Profiler = 12;
        var SuspenseComponent = 13;
        var MemoComponent = 14;
        var SimpleMemoComponent = 15;
        var LazyComponent = 16;
        var IncompleteClassComponent = 17;
        var DehydratedFragment = 18;
        var SuspenseListComponent = 19;
        var FundamentalComponent = 20;
        var ScopeComponent = 21;
        var Block = 22;
        var OffscreenComponent = 23;
        var LegacyHiddenComponent = 24;
        var enableProfilerTimer = true;
        var enableFundamentalAPI = false;
        var enableNewReconciler = false;
        var warnAboutStringRefs = false;
        var allNativeEvents = new Set();
        var registrationNameDependencies = {};
        var possibleRegistrationNames = {};
        function registerTwoPhaseEvent(registrationName, dependencies) {
          registerDirectEvent(registrationName, dependencies);
          registerDirectEvent(registrationName + "Capture", dependencies);
        }
        function registerDirectEvent(registrationName, dependencies) {
          {
            if (registrationNameDependencies[registrationName]) {
              error("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.", registrationName);
            }
          }
          registrationNameDependencies[registrationName] = dependencies;
          {
            var lowerCasedName = registrationName.toLowerCase();
            possibleRegistrationNames[lowerCasedName] = registrationName;
            if (registrationName === "onDoubleClick") {
              possibleRegistrationNames.ondblclick = registrationName;
            }
          }
          for (var i3 = 0; i3 < dependencies.length; i3++) {
            allNativeEvents.add(dependencies[i3]);
          }
        }
        var canUseDOM = !!(typeof window !== "undefined" && typeof window.document !== "undefined" && typeof window.document.createElement !== "undefined");
        var RESERVED = 0;
        var STRING = 1;
        var BOOLEANISH_STRING = 2;
        var BOOLEAN = 3;
        var OVERLOADED_BOOLEAN = 4;
        var NUMERIC = 5;
        var POSITIVE_NUMERIC = 6;
        var ATTRIBUTE_NAME_START_CHAR = ":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD";
        var ATTRIBUTE_NAME_CHAR = ATTRIBUTE_NAME_START_CHAR + "\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040";
        var ROOT_ATTRIBUTE_NAME = "data-reactroot";
        var VALID_ATTRIBUTE_NAME_REGEX = new RegExp("^[" + ATTRIBUTE_NAME_START_CHAR + "][" + ATTRIBUTE_NAME_CHAR + "]*$");
        var hasOwnProperty = Object.prototype.hasOwnProperty;
        var illegalAttributeNameCache = {};
        var validatedAttributeNameCache = {};
        function isAttributeNameSafe(attributeName) {
          if (hasOwnProperty.call(validatedAttributeNameCache, attributeName)) {
            return true;
          }
          if (hasOwnProperty.call(illegalAttributeNameCache, attributeName)) {
            return false;
          }
          if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName)) {
            validatedAttributeNameCache[attributeName] = true;
            return true;
          }
          illegalAttributeNameCache[attributeName] = true;
          {
            error("Invalid attribute name: `%s`", attributeName);
          }
          return false;
        }
        function shouldIgnoreAttribute(name, propertyInfo, isCustomComponentTag) {
          if (propertyInfo !== null) {
            return propertyInfo.type === RESERVED;
          }
          if (isCustomComponentTag) {
            return false;
          }
          if (name.length > 2 && (name[0] === "o" || name[0] === "O") && (name[1] === "n" || name[1] === "N")) {
            return true;
          }
          return false;
        }
        function shouldRemoveAttributeWithWarning(name, value, propertyInfo, isCustomComponentTag) {
          if (propertyInfo !== null && propertyInfo.type === RESERVED) {
            return false;
          }
          switch (typeof value) {
            case "function":
            case "symbol":
              return true;
            case "boolean": {
              if (isCustomComponentTag) {
                return false;
              }
              if (propertyInfo !== null) {
                return !propertyInfo.acceptsBooleans;
              } else {
                var prefix3 = name.toLowerCase().slice(0, 5);
                return prefix3 !== "data-" && prefix3 !== "aria-";
              }
            }
            default:
              return false;
          }
        }
        function shouldRemoveAttribute(name, value, propertyInfo, isCustomComponentTag) {
          if (value === null || typeof value === "undefined") {
            return true;
          }
          if (shouldRemoveAttributeWithWarning(name, value, propertyInfo, isCustomComponentTag)) {
            return true;
          }
          if (isCustomComponentTag) {
            return false;
          }
          if (propertyInfo !== null) {
            switch (propertyInfo.type) {
              case BOOLEAN:
                return !value;
              case OVERLOADED_BOOLEAN:
                return value === false;
              case NUMERIC:
                return isNaN(value);
              case POSITIVE_NUMERIC:
                return isNaN(value) || value < 1;
            }
          }
          return false;
        }
        function getPropertyInfo(name) {
          return properties.hasOwnProperty(name) ? properties[name] : null;
        }
        function PropertyInfoRecord(name, type, mustUseProperty, attributeName, attributeNamespace, sanitizeURL2, removeEmptyString) {
          this.acceptsBooleans = type === BOOLEANISH_STRING || type === BOOLEAN || type === OVERLOADED_BOOLEAN;
          this.attributeName = attributeName;
          this.attributeNamespace = attributeNamespace;
          this.mustUseProperty = mustUseProperty;
          this.propertyName = name;
          this.type = type;
          this.sanitizeURL = sanitizeURL2;
          this.removeEmptyString = removeEmptyString;
        }
        var properties = {};
        var reservedProps = [
          "children",
          "dangerouslySetInnerHTML",
          "defaultValue",
          "defaultChecked",
          "innerHTML",
          "suppressContentEditableWarning",
          "suppressHydrationWarning",
          "style"
        ];
        reservedProps.forEach(function(name) {
          properties[name] = new PropertyInfoRecord(name, RESERVED, false, name, null, false, false);
        });
        [["acceptCharset", "accept-charset"], ["className", "class"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"]].forEach(function(_ref) {
          var name = _ref[0], attributeName = _ref[1];
          properties[name] = new PropertyInfoRecord(name, STRING, false, attributeName, null, false, false);
        });
        ["contentEditable", "draggable", "spellCheck", "value"].forEach(function(name) {
          properties[name] = new PropertyInfoRecord(name, BOOLEANISH_STRING, false, name.toLowerCase(), null, false, false);
        });
        ["autoReverse", "externalResourcesRequired", "focusable", "preserveAlpha"].forEach(function(name) {
          properties[name] = new PropertyInfoRecord(name, BOOLEANISH_STRING, false, name, null, false, false);
        });
        [
          "allowFullScreen",
          "async",
          "autoFocus",
          "autoPlay",
          "controls",
          "default",
          "defer",
          "disabled",
          "disablePictureInPicture",
          "disableRemotePlayback",
          "formNoValidate",
          "hidden",
          "loop",
          "noModule",
          "noValidate",
          "open",
          "playsInline",
          "readOnly",
          "required",
          "reversed",
          "scoped",
          "seamless",
          "itemScope"
        ].forEach(function(name) {
          properties[name] = new PropertyInfoRecord(name, BOOLEAN, false, name.toLowerCase(), null, false, false);
        });
        [
          "checked",
          "multiple",
          "muted",
          "selected"
        ].forEach(function(name) {
          properties[name] = new PropertyInfoRecord(name, BOOLEAN, true, name, null, false, false);
        });
        [
          "capture",
          "download"
        ].forEach(function(name) {
          properties[name] = new PropertyInfoRecord(name, OVERLOADED_BOOLEAN, false, name, null, false, false);
        });
        [
          "cols",
          "rows",
          "size",
          "span"
        ].forEach(function(name) {
          properties[name] = new PropertyInfoRecord(name, POSITIVE_NUMERIC, false, name, null, false, false);
        });
        ["rowSpan", "start"].forEach(function(name) {
          properties[name] = new PropertyInfoRecord(name, NUMERIC, false, name.toLowerCase(), null, false, false);
        });
        var CAMELIZE = /[\-\:]([a-z])/g;
        var capitalize = function(token) {
          return token[1].toUpperCase();
        };
        [
          "accent-height",
          "alignment-baseline",
          "arabic-form",
          "baseline-shift",
          "cap-height",
          "clip-path",
          "clip-rule",
          "color-interpolation",
          "color-interpolation-filters",
          "color-profile",
          "color-rendering",
          "dominant-baseline",
          "enable-background",
          "fill-opacity",
          "fill-rule",
          "flood-color",
          "flood-opacity",
          "font-family",
          "font-size",
          "font-size-adjust",
          "font-stretch",
          "font-style",
          "font-variant",
          "font-weight",
          "glyph-name",
          "glyph-orientation-horizontal",
          "glyph-orientation-vertical",
          "horiz-adv-x",
          "horiz-origin-x",
          "image-rendering",
          "letter-spacing",
          "lighting-color",
          "marker-end",
          "marker-mid",
          "marker-start",
          "overline-position",
          "overline-thickness",
          "paint-order",
          "panose-1",
          "pointer-events",
          "rendering-intent",
          "shape-rendering",
          "stop-color",
          "stop-opacity",
          "strikethrough-position",
          "strikethrough-thickness",
          "stroke-dasharray",
          "stroke-dashoffset",
          "stroke-linecap",
          "stroke-linejoin",
          "stroke-miterlimit",
          "stroke-opacity",
          "stroke-width",
          "text-anchor",
          "text-decoration",
          "text-rendering",
          "underline-position",
          "underline-thickness",
          "unicode-bidi",
          "unicode-range",
          "units-per-em",
          "v-alphabetic",
          "v-hanging",
          "v-ideographic",
          "v-mathematical",
          "vector-effect",
          "vert-adv-y",
          "vert-origin-x",
          "vert-origin-y",
          "word-spacing",
          "writing-mode",
          "xmlns:xlink",
          "x-height"
        ].forEach(function(attributeName) {
          var name = attributeName.replace(CAMELIZE, capitalize);
          properties[name] = new PropertyInfoRecord(name, STRING, false, attributeName, null, false, false);
        });
        [
          "xlink:actuate",
          "xlink:arcrole",
          "xlink:role",
          "xlink:show",
          "xlink:title",
          "xlink:type"
        ].forEach(function(attributeName) {
          var name = attributeName.replace(CAMELIZE, capitalize);
          properties[name] = new PropertyInfoRecord(name, STRING, false, attributeName, "http://www.w3.org/1999/xlink", false, false);
        });
        [
          "xml:base",
          "xml:lang",
          "xml:space"
        ].forEach(function(attributeName) {
          var name = attributeName.replace(CAMELIZE, capitalize);
          properties[name] = new PropertyInfoRecord(name, STRING, false, attributeName, "http://www.w3.org/XML/1998/namespace", false, false);
        });
        ["tabIndex", "crossOrigin"].forEach(function(attributeName) {
          properties[attributeName] = new PropertyInfoRecord(attributeName, STRING, false, attributeName.toLowerCase(), null, false, false);
        });
        var xlinkHref = "xlinkHref";
        properties[xlinkHref] = new PropertyInfoRecord("xlinkHref", STRING, false, "xlink:href", "http://www.w3.org/1999/xlink", true, false);
        ["src", "href", "action", "formAction"].forEach(function(attributeName) {
          properties[attributeName] = new PropertyInfoRecord(attributeName, STRING, false, attributeName.toLowerCase(), null, true, true);
        });
        var isJavaScriptProtocol = /^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i;
        var didWarn = false;
        function sanitizeURL(url) {
          {
            if (!didWarn && isJavaScriptProtocol.test(url)) {
              didWarn = true;
              error("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.", JSON.stringify(url));
            }
          }
        }
        function getValueForProperty(node, name, expected, propertyInfo) {
          {
            if (propertyInfo.mustUseProperty) {
              var propertyName = propertyInfo.propertyName;
              return node[propertyName];
            } else {
              if (propertyInfo.sanitizeURL) {
                sanitizeURL("" + expected);
              }
              var attributeName = propertyInfo.attributeName;
              var stringValue = null;
              if (propertyInfo.type === OVERLOADED_BOOLEAN) {
                if (node.hasAttribute(attributeName)) {
                  var value = node.getAttribute(attributeName);
                  if (value === "") {
                    return true;
                  }
                  if (shouldRemoveAttribute(name, expected, propertyInfo, false)) {
                    return value;
                  }
                  if (value === "" + expected) {
                    return expected;
                  }
                  return value;
                }
              } else if (node.hasAttribute(attributeName)) {
                if (shouldRemoveAttribute(name, expected, propertyInfo, false)) {
                  return node.getAttribute(attributeName);
                }
                if (propertyInfo.type === BOOLEAN) {
                  return expected;
                }
                stringValue = node.getAttribute(attributeName);
              }
              if (shouldRemoveAttribute(name, expected, propertyInfo, false)) {
                return stringValue === null ? expected : stringValue;
              } else if (stringValue === "" + expected) {
                return expected;
              } else {
                return stringValue;
              }
            }
          }
        }
        function getValueForAttribute(node, name, expected) {
          {
            if (!isAttributeNameSafe(name)) {
              return;
            }
            if (isOpaqueHydratingObject(expected)) {
              return expected;
            }
            if (!node.hasAttribute(name)) {
              return expected === void 0 ? void 0 : null;
            }
            var value = node.getAttribute(name);
            if (value === "" + expected) {
              return expected;
            }
            return value;
          }
        }
        function setValueForProperty(node, name, value, isCustomComponentTag) {
          var propertyInfo = getPropertyInfo(name);
          if (shouldIgnoreAttribute(name, propertyInfo, isCustomComponentTag)) {
            return;
          }
          if (shouldRemoveAttribute(name, value, propertyInfo, isCustomComponentTag)) {
            value = null;
          }
          if (isCustomComponentTag || propertyInfo === null) {
            if (isAttributeNameSafe(name)) {
              var _attributeName = name;
              if (value === null) {
                node.removeAttribute(_attributeName);
              } else {
                node.setAttribute(_attributeName, "" + value);
              }
            }
            return;
          }
          var mustUseProperty = propertyInfo.mustUseProperty;
          if (mustUseProperty) {
            var propertyName = propertyInfo.propertyName;
            if (value === null) {
              var type = propertyInfo.type;
              node[propertyName] = type === BOOLEAN ? false : "";
            } else {
              node[propertyName] = value;
            }
            return;
          }
          var attributeName = propertyInfo.attributeName, attributeNamespace = propertyInfo.attributeNamespace;
          if (value === null) {
            node.removeAttribute(attributeName);
          } else {
            var _type = propertyInfo.type;
            var attributeValue;
            if (_type === BOOLEAN || _type === OVERLOADED_BOOLEAN && value === true) {
              attributeValue = "";
            } else {
              {
                attributeValue = "" + value;
              }
              if (propertyInfo.sanitizeURL) {
                sanitizeURL(attributeValue.toString());
              }
            }
            if (attributeNamespace) {
              node.setAttributeNS(attributeNamespace, attributeName, attributeValue);
            } else {
              node.setAttribute(attributeName, attributeValue);
            }
          }
        }
        var REACT_ELEMENT_TYPE = 60103;
        var REACT_PORTAL_TYPE = 60106;
        var REACT_FRAGMENT_TYPE = 60107;
        var REACT_STRICT_MODE_TYPE = 60108;
        var REACT_PROFILER_TYPE = 60114;
        var REACT_PROVIDER_TYPE = 60109;
        var REACT_CONTEXT_TYPE = 60110;
        var REACT_FORWARD_REF_TYPE = 60112;
        var REACT_SUSPENSE_TYPE = 60113;
        var REACT_SUSPENSE_LIST_TYPE = 60120;
        var REACT_MEMO_TYPE = 60115;
        var REACT_LAZY_TYPE = 60116;
        var REACT_BLOCK_TYPE = 60121;
        var REACT_SERVER_BLOCK_TYPE = 60122;
        var REACT_FUNDAMENTAL_TYPE = 60117;
        var REACT_SCOPE_TYPE = 60119;
        var REACT_OPAQUE_ID_TYPE = 60128;
        var REACT_DEBUG_TRACING_MODE_TYPE = 60129;
        var REACT_OFFSCREEN_TYPE = 60130;
        var REACT_LEGACY_HIDDEN_TYPE = 60131;
        if (typeof Symbol === "function" && Symbol.for) {
          var symbolFor = Symbol.for;
          REACT_ELEMENT_TYPE = symbolFor("react.element");
          REACT_PORTAL_TYPE = symbolFor("react.portal");
          REACT_FRAGMENT_TYPE = symbolFor("react.fragment");
          REACT_STRICT_MODE_TYPE = symbolFor("react.strict_mode");
          REACT_PROFILER_TYPE = symbolFor("react.profiler");
          REACT_PROVIDER_TYPE = symbolFor("react.provider");
          REACT_CONTEXT_TYPE = symbolFor("react.context");
          REACT_FORWARD_REF_TYPE = symbolFor("react.forward_ref");
          REACT_SUSPENSE_TYPE = symbolFor("react.suspense");
          REACT_SUSPENSE_LIST_TYPE = symbolFor("react.suspense_list");
          REACT_MEMO_TYPE = symbolFor("react.memo");
          REACT_LAZY_TYPE = symbolFor("react.lazy");
          REACT_BLOCK_TYPE = symbolFor("react.block");
          REACT_SERVER_BLOCK_TYPE = symbolFor("react.server.block");
          REACT_FUNDAMENTAL_TYPE = symbolFor("react.fundamental");
          REACT_SCOPE_TYPE = symbolFor("react.scope");
          REACT_OPAQUE_ID_TYPE = symbolFor("react.opaque.id");
          REACT_DEBUG_TRACING_MODE_TYPE = symbolFor("react.debug_trace_mode");
          REACT_OFFSCREEN_TYPE = symbolFor("react.offscreen");
          REACT_LEGACY_HIDDEN_TYPE = symbolFor("react.legacy_hidden");
        }
        var MAYBE_ITERATOR_SYMBOL = typeof Symbol === "function" && Symbol.iterator;
        var FAUX_ITERATOR_SYMBOL = "@@iterator";
        function getIteratorFn(maybeIterable) {
          if (maybeIterable === null || typeof maybeIterable !== "object") {
            return null;
          }
          var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];
          if (typeof maybeIterator === "function") {
            return maybeIterator;
          }
          return null;
        }
        var disabledDepth = 0;
        var prevLog;
        var prevInfo;
        var prevWarn;
        var prevError;
        var prevGroup;
        var prevGroupCollapsed;
        var prevGroupEnd;
        function disabledLog() {
        }
        disabledLog.__reactDisabledLog = true;
        function disableLogs() {
          {
            if (disabledDepth === 0) {
              prevLog = console.log;
              prevInfo = console.info;
              prevWarn = console.warn;
              prevError = console.error;
              prevGroup = console.group;
              prevGroupCollapsed = console.groupCollapsed;
              prevGroupEnd = console.groupEnd;
              var props = {
                configurable: true,
                enumerable: true,
                value: disabledLog,
                writable: true
              };
              Object.defineProperties(console, {
                info: props,
                log: props,
                warn: props,
                error: props,
                group: props,
                groupCollapsed: props,
                groupEnd: props
              });
            }
            disabledDepth++;
          }
        }
        function reenableLogs() {
          {
            disabledDepth--;
            if (disabledDepth === 0) {
              var props = {
                configurable: true,
                enumerable: true,
                writable: true
              };
              Object.defineProperties(console, {
                log: _assign({}, props, {
                  value: prevLog
                }),
                info: _assign({}, props, {
                  value: prevInfo
                }),
                warn: _assign({}, props, {
                  value: prevWarn
                }),
                error: _assign({}, props, {
                  value: prevError
                }),
                group: _assign({}, props, {
                  value: prevGroup
                }),
                groupCollapsed: _assign({}, props, {
                  value: prevGroupCollapsed
                }),
                groupEnd: _assign({}, props, {
                  value: prevGroupEnd
                })
              });
            }
            if (disabledDepth < 0) {
              error("disabledDepth fell below zero. This is a bug in React. Please file an issue.");
            }
          }
        }
        var ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;
        var prefix2;
        function describeBuiltInComponentFrame(name, source, ownerFn) {
          {
            if (prefix2 === void 0) {
              try {
                throw Error();
              } catch (x3) {
                var match9 = x3.stack.trim().match(/\n( *(at )?)/);
                prefix2 = match9 && match9[1] || "";
              }
            }
            return "\n" + prefix2 + name;
          }
        }
        var reentry = false;
        var componentFrameCache;
        {
          var PossiblyWeakMap = typeof WeakMap === "function" ? WeakMap : Map;
          componentFrameCache = new PossiblyWeakMap();
        }
        function describeNativeComponentFrame(fn, construct) {
          if (!fn || reentry) {
            return "";
          }
          {
            var frame = componentFrameCache.get(fn);
            if (frame !== void 0) {
              return frame;
            }
          }
          var control;
          reentry = true;
          var previousPrepareStackTrace = Error.prepareStackTrace;
          Error.prepareStackTrace = void 0;
          var previousDispatcher;
          {
            previousDispatcher = ReactCurrentDispatcher.current;
            ReactCurrentDispatcher.current = null;
            disableLogs();
          }
          try {
            if (construct) {
              var Fake = function() {
                throw Error();
              };
              Object.defineProperty(Fake.prototype, "props", {
                set: function() {
                  throw Error();
                }
              });
              if (typeof Reflect === "object" && Reflect.construct) {
                try {
                  Reflect.construct(Fake, []);
                } catch (x3) {
                  control = x3;
                }
                Reflect.construct(fn, [], Fake);
              } else {
                try {
                  Fake.call();
                } catch (x3) {
                  control = x3;
                }
                fn.call(Fake.prototype);
              }
            } else {
              try {
                throw Error();
              } catch (x3) {
                control = x3;
              }
              fn();
            }
          } catch (sample) {
            if (sample && control && typeof sample.stack === "string") {
              var sampleLines = sample.stack.split("\n");
              var controlLines = control.stack.split("\n");
              var s3 = sampleLines.length - 1;
              var c3 = controlLines.length - 1;
              while (s3 >= 1 && c3 >= 0 && sampleLines[s3] !== controlLines[c3]) {
                c3--;
              }
              for (; s3 >= 1 && c3 >= 0; s3--, c3--) {
                if (sampleLines[s3] !== controlLines[c3]) {
                  if (s3 !== 1 || c3 !== 1) {
                    do {
                      s3--;
                      c3--;
                      if (c3 < 0 || sampleLines[s3] !== controlLines[c3]) {
                        var _frame = "\n" + sampleLines[s3].replace(" at new ", " at ");
                        {
                          if (typeof fn === "function") {
                            componentFrameCache.set(fn, _frame);
                          }
                        }
                        return _frame;
                      }
                    } while (s3 >= 1 && c3 >= 0);
                  }
                  break;
                }
              }
            }
          } finally {
            reentry = false;
            {
              ReactCurrentDispatcher.current = previousDispatcher;
              reenableLogs();
            }
            Error.prepareStackTrace = previousPrepareStackTrace;
          }
          var name = fn ? fn.displayName || fn.name : "";
          var syntheticFrame = name ? describeBuiltInComponentFrame(name) : "";
          {
            if (typeof fn === "function") {
              componentFrameCache.set(fn, syntheticFrame);
            }
          }
          return syntheticFrame;
        }
        function describeClassComponentFrame(ctor, source, ownerFn) {
          {
            return describeNativeComponentFrame(ctor, true);
          }
        }
        function describeFunctionComponentFrame(fn, source, ownerFn) {
          {
            return describeNativeComponentFrame(fn, false);
          }
        }
        function shouldConstruct(Component) {
          var prototype = Component.prototype;
          return !!(prototype && prototype.isReactComponent);
        }
        function describeUnknownElementTypeFrameInDEV(type, source, ownerFn) {
          if (type == null) {
            return "";
          }
          if (typeof type === "function") {
            {
              return describeNativeComponentFrame(type, shouldConstruct(type));
            }
          }
          if (typeof type === "string") {
            return describeBuiltInComponentFrame(type);
          }
          switch (type) {
            case REACT_SUSPENSE_TYPE:
              return describeBuiltInComponentFrame("Suspense");
            case REACT_SUSPENSE_LIST_TYPE:
              return describeBuiltInComponentFrame("SuspenseList");
          }
          if (typeof type === "object") {
            switch (type.$$typeof) {
              case REACT_FORWARD_REF_TYPE:
                return describeFunctionComponentFrame(type.render);
              case REACT_MEMO_TYPE:
                return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);
              case REACT_BLOCK_TYPE:
                return describeFunctionComponentFrame(type._render);
              case REACT_LAZY_TYPE: {
                var lazyComponent = type;
                var payload = lazyComponent._payload;
                var init = lazyComponent._init;
                try {
                  return describeUnknownElementTypeFrameInDEV(init(payload), source, ownerFn);
                } catch (x3) {
                }
              }
            }
          }
          return "";
        }
        function describeFiber(fiber) {
          var owner = fiber._debugOwner ? fiber._debugOwner.type : null;
          var source = fiber._debugSource;
          switch (fiber.tag) {
            case HostComponent:
              return describeBuiltInComponentFrame(fiber.type);
            case LazyComponent:
              return describeBuiltInComponentFrame("Lazy");
            case SuspenseComponent:
              return describeBuiltInComponentFrame("Suspense");
            case SuspenseListComponent:
              return describeBuiltInComponentFrame("SuspenseList");
            case FunctionComponent:
            case IndeterminateComponent:
            case SimpleMemoComponent:
              return describeFunctionComponentFrame(fiber.type);
            case ForwardRef:
              return describeFunctionComponentFrame(fiber.type.render);
            case Block:
              return describeFunctionComponentFrame(fiber.type._render);
            case ClassComponent:
              return describeClassComponentFrame(fiber.type);
            default:
              return "";
          }
        }
        function getStackByFiberInDevAndProd(workInProgress2) {
          try {
            var info = "";
            var node = workInProgress2;
            do {
              info += describeFiber(node);
              node = node.return;
            } while (node);
            return info;
          } catch (x3) {
            return "\nError generating stack: " + x3.message + "\n" + x3.stack;
          }
        }
        function getWrappedName(outerType, innerType, wrapperName) {
          var functionName = innerType.displayName || innerType.name || "";
          return outerType.displayName || (functionName !== "" ? wrapperName + "(" + functionName + ")" : wrapperName);
        }
        function getContextName(type) {
          return type.displayName || "Context";
        }
        function getComponentName(type) {
          if (type == null) {
            return null;
          }
          {
            if (typeof type.tag === "number") {
              error("Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue.");
            }
          }
          if (typeof type === "function") {
            return type.displayName || type.name || null;
          }
          if (typeof type === "string") {
            return type;
          }
          switch (type) {
            case REACT_FRAGMENT_TYPE:
              return "Fragment";
            case REACT_PORTAL_TYPE:
              return "Portal";
            case REACT_PROFILER_TYPE:
              return "Profiler";
            case REACT_STRICT_MODE_TYPE:
              return "StrictMode";
            case REACT_SUSPENSE_TYPE:
              return "Suspense";
            case REACT_SUSPENSE_LIST_TYPE:
              return "SuspenseList";
          }
          if (typeof type === "object") {
            switch (type.$$typeof) {
              case REACT_CONTEXT_TYPE:
                var context = type;
                return getContextName(context) + ".Consumer";
              case REACT_PROVIDER_TYPE:
                var provider = type;
                return getContextName(provider._context) + ".Provider";
              case REACT_FORWARD_REF_TYPE:
                return getWrappedName(type, type.render, "ForwardRef");
              case REACT_MEMO_TYPE:
                return getComponentName(type.type);
              case REACT_BLOCK_TYPE:
                return getComponentName(type._render);
              case REACT_LAZY_TYPE: {
                var lazyComponent = type;
                var payload = lazyComponent._payload;
                var init = lazyComponent._init;
                try {
                  return getComponentName(init(payload));
                } catch (x3) {
                  return null;
                }
              }
            }
          }
          return null;
        }
        var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;
        var current = null;
        var isRendering = false;
        function getCurrentFiberOwnerNameInDevOrNull() {
          {
            if (current === null) {
              return null;
            }
            var owner = current._debugOwner;
            if (owner !== null && typeof owner !== "undefined") {
              return getComponentName(owner.type);
            }
          }
          return null;
        }
        function getCurrentFiberStackInDev() {
          {
            if (current === null) {
              return "";
            }
            return getStackByFiberInDevAndProd(current);
          }
        }
        function resetCurrentFiber() {
          {
            ReactDebugCurrentFrame.getCurrentStack = null;
            current = null;
            isRendering = false;
          }
        }
        function setCurrentFiber(fiber) {
          {
            ReactDebugCurrentFrame.getCurrentStack = getCurrentFiberStackInDev;
            current = fiber;
            isRendering = false;
          }
        }
        function setIsRendering(rendering) {
          {
            isRendering = rendering;
          }
        }
        function getIsRendering() {
          {
            return isRendering;
          }
        }
        function toString(value) {
          return "" + value;
        }
        function getToStringValue(value) {
          switch (typeof value) {
            case "boolean":
            case "number":
            case "object":
            case "string":
            case "undefined":
              return value;
            default:
              return "";
          }
        }
        var hasReadOnlyValue = {
          button: true,
          checkbox: true,
          image: true,
          hidden: true,
          radio: true,
          reset: true,
          submit: true
        };
        function checkControlledValueProps(tagName, props) {
          {
            if (!(hasReadOnlyValue[props.type] || props.onChange || props.onInput || props.readOnly || props.disabled || props.value == null)) {
              error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.");
            }
            if (!(props.onChange || props.readOnly || props.disabled || props.checked == null)) {
              error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.");
            }
          }
        }
        function isCheckable(elem) {
          var type = elem.type;
          var nodeName = elem.nodeName;
          return nodeName && nodeName.toLowerCase() === "input" && (type === "checkbox" || type === "radio");
        }
        function getTracker(node) {
          return node._valueTracker;
        }
        function detachTracker(node) {
          node._valueTracker = null;
        }
        function getValueFromNode(node) {
          var value = "";
          if (!node) {
            return value;
          }
          if (isCheckable(node)) {
            value = node.checked ? "true" : "false";
          } else {
            value = node.value;
          }
          return value;
        }
        function trackValueOnNode(node) {
          var valueField = isCheckable(node) ? "checked" : "value";
          var descriptor = Object.getOwnPropertyDescriptor(node.constructor.prototype, valueField);
          var currentValue = "" + node[valueField];
          if (node.hasOwnProperty(valueField) || typeof descriptor === "undefined" || typeof descriptor.get !== "function" || typeof descriptor.set !== "function") {
            return;
          }
          var get2 = descriptor.get, set2 = descriptor.set;
          Object.defineProperty(node, valueField, {
            configurable: true,
            get: function() {
              return get2.call(this);
            },
            set: function(value) {
              currentValue = "" + value;
              set2.call(this, value);
            }
          });
          Object.defineProperty(node, valueField, {
            enumerable: descriptor.enumerable
          });
          var tracker = {
            getValue: function() {
              return currentValue;
            },
            setValue: function(value) {
              currentValue = "" + value;
            },
            stopTracking: function() {
              detachTracker(node);
              delete node[valueField];
            }
          };
          return tracker;
        }
        function track(node) {
          if (getTracker(node)) {
            return;
          }
          node._valueTracker = trackValueOnNode(node);
        }
        function updateValueIfChanged(node) {
          if (!node) {
            return false;
          }
          var tracker = getTracker(node);
          if (!tracker) {
            return true;
          }
          var lastValue = tracker.getValue();
          var nextValue = getValueFromNode(node);
          if (nextValue !== lastValue) {
            tracker.setValue(nextValue);
            return true;
          }
          return false;
        }
        function getActiveElement(doc) {
          doc = doc || (typeof document !== "undefined" ? document : void 0);
          if (typeof doc === "undefined") {
            return null;
          }
          try {
            return doc.activeElement || doc.body;
          } catch (e) {
            return doc.body;
          }
        }
        var didWarnValueDefaultValue = false;
        var didWarnCheckedDefaultChecked = false;
        var didWarnControlledToUncontrolled = false;
        var didWarnUncontrolledToControlled = false;
        function isControlled(props) {
          var usesChecked = props.type === "checkbox" || props.type === "radio";
          return usesChecked ? props.checked != null : props.value != null;
        }
        function getHostProps(element, props) {
          var node = element;
          var checked = props.checked;
          var hostProps = _assign({}, props, {
            defaultChecked: void 0,
            defaultValue: void 0,
            value: void 0,
            checked: checked != null ? checked : node._wrapperState.initialChecked
          });
          return hostProps;
        }
        function initWrapperState(element, props) {
          {
            checkControlledValueProps("input", props);
            if (props.checked !== void 0 && props.defaultChecked !== void 0 && !didWarnCheckedDefaultChecked) {
              error("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components", getCurrentFiberOwnerNameInDevOrNull() || "A component", props.type);
              didWarnCheckedDefaultChecked = true;
            }
            if (props.value !== void 0 && props.defaultValue !== void 0 && !didWarnValueDefaultValue) {
              error("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components", getCurrentFiberOwnerNameInDevOrNull() || "A component", props.type);
              didWarnValueDefaultValue = true;
            }
          }
          var node = element;
          var defaultValue = props.defaultValue == null ? "" : props.defaultValue;
          node._wrapperState = {
            initialChecked: props.checked != null ? props.checked : props.defaultChecked,
            initialValue: getToStringValue(props.value != null ? props.value : defaultValue),
            controlled: isControlled(props)
          };
        }
        function updateChecked(element, props) {
          var node = element;
          var checked = props.checked;
          if (checked != null) {
            setValueForProperty(node, "checked", checked, false);
          }
        }
        function updateWrapper(element, props) {
          var node = element;
          {
            var controlled = isControlled(props);
            if (!node._wrapperState.controlled && controlled && !didWarnUncontrolledToControlled) {
              error("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components");
              didWarnUncontrolledToControlled = true;
            }
            if (node._wrapperState.controlled && !controlled && !didWarnControlledToUncontrolled) {
              error("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components");
              didWarnControlledToUncontrolled = true;
            }
          }
          updateChecked(element, props);
          var value = getToStringValue(props.value);
          var type = props.type;
          if (value != null) {
            if (type === "number") {
              if (value === 0 && node.value === "" || node.value != value) {
                node.value = toString(value);
              }
            } else if (node.value !== toString(value)) {
              node.value = toString(value);
            }
          } else if (type === "submit" || type === "reset") {
            node.removeAttribute("value");
            return;
          }
          {
            if (props.hasOwnProperty("value")) {
              setDefaultValue(node, props.type, value);
            } else if (props.hasOwnProperty("defaultValue")) {
              setDefaultValue(node, props.type, getToStringValue(props.defaultValue));
            }
          }
          {
            if (props.checked == null && props.defaultChecked != null) {
              node.defaultChecked = !!props.defaultChecked;
            }
          }
        }
        function postMountWrapper(element, props, isHydrating2) {
          var node = element;
          if (props.hasOwnProperty("value") || props.hasOwnProperty("defaultValue")) {
            var type = props.type;
            var isButton = type === "submit" || type === "reset";
            if (isButton && (props.value === void 0 || props.value === null)) {
              return;
            }
            var initialValue = toString(node._wrapperState.initialValue);
            if (!isHydrating2) {
              {
                if (initialValue !== node.value) {
                  node.value = initialValue;
                }
              }
            }
            {
              node.defaultValue = initialValue;
            }
          }
          var name = node.name;
          if (name !== "") {
            node.name = "";
          }
          {
            node.defaultChecked = !node.defaultChecked;
            node.defaultChecked = !!node._wrapperState.initialChecked;
          }
          if (name !== "") {
            node.name = name;
          }
        }
        function restoreControlledState(element, props) {
          var node = element;
          updateWrapper(node, props);
          updateNamedCousins(node, props);
        }
        function updateNamedCousins(rootNode, props) {
          var name = props.name;
          if (props.type === "radio" && name != null) {
            var queryRoot = rootNode;
            while (queryRoot.parentNode) {
              queryRoot = queryRoot.parentNode;
            }
            var group = queryRoot.querySelectorAll("input[name=" + JSON.stringify("" + name) + '][type="radio"]');
            for (var i3 = 0; i3 < group.length; i3++) {
              var otherNode = group[i3];
              if (otherNode === rootNode || otherNode.form !== rootNode.form) {
                continue;
              }
              var otherProps = getFiberCurrentPropsFromNode(otherNode);
              if (!otherProps) {
                {
                  throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");
                }
              }
              updateValueIfChanged(otherNode);
              updateWrapper(otherNode, otherProps);
            }
          }
        }
        function setDefaultValue(node, type, value) {
          if (type !== "number" || getActiveElement(node.ownerDocument) !== node) {
            if (value == null) {
              node.defaultValue = toString(node._wrapperState.initialValue);
            } else if (node.defaultValue !== toString(value)) {
              node.defaultValue = toString(value);
            }
          }
        }
        var didWarnSelectedSetOnOption = false;
        var didWarnInvalidChild = false;
        function flattenChildren(children) {
          var content = "";
          React42.Children.forEach(children, function(child) {
            if (child == null) {
              return;
            }
            content += child;
          });
          return content;
        }
        function validateProps(element, props) {
          {
            if (typeof props.children === "object" && props.children !== null) {
              React42.Children.forEach(props.children, function(child) {
                if (child == null) {
                  return;
                }
                if (typeof child === "string" || typeof child === "number") {
                  return;
                }
                if (typeof child.type !== "string") {
                  return;
                }
                if (!didWarnInvalidChild) {
                  didWarnInvalidChild = true;
                  error("Only strings and numbers are supported as <option> children.");
                }
              });
            }
            if (props.selected != null && !didWarnSelectedSetOnOption) {
              error("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.");
              didWarnSelectedSetOnOption = true;
            }
          }
        }
        function postMountWrapper$1(element, props) {
          if (props.value != null) {
            element.setAttribute("value", toString(getToStringValue(props.value)));
          }
        }
        function getHostProps$1(element, props) {
          var hostProps = _assign({
            children: void 0
          }, props);
          var content = flattenChildren(props.children);
          if (content) {
            hostProps.children = content;
          }
          return hostProps;
        }
        var didWarnValueDefaultValue$1;
        {
          didWarnValueDefaultValue$1 = false;
        }
        function getDeclarationErrorAddendum() {
          var ownerName = getCurrentFiberOwnerNameInDevOrNull();
          if (ownerName) {
            return "\n\nCheck the render method of `" + ownerName + "`.";
          }
          return "";
        }
        var valuePropNames = ["value", "defaultValue"];
        function checkSelectPropTypes(props) {
          {
            checkControlledValueProps("select", props);
            for (var i3 = 0; i3 < valuePropNames.length; i3++) {
              var propName = valuePropNames[i3];
              if (props[propName] == null) {
                continue;
              }
              var isArray2 = Array.isArray(props[propName]);
              if (props.multiple && !isArray2) {
                error("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s", propName, getDeclarationErrorAddendum());
              } else if (!props.multiple && isArray2) {
                error("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s", propName, getDeclarationErrorAddendum());
              }
            }
          }
        }
        function updateOptions(node, multiple, propValue, setDefaultSelected) {
          var options2 = node.options;
          if (multiple) {
            var selectedValues = propValue;
            var selectedValue = {};
            for (var i3 = 0; i3 < selectedValues.length; i3++) {
              selectedValue["$" + selectedValues[i3]] = true;
            }
            for (var _i = 0; _i < options2.length; _i++) {
              var selected = selectedValue.hasOwnProperty("$" + options2[_i].value);
              if (options2[_i].selected !== selected) {
                options2[_i].selected = selected;
              }
              if (selected && setDefaultSelected) {
                options2[_i].defaultSelected = true;
              }
            }
          } else {
            var _selectedValue = toString(getToStringValue(propValue));
            var defaultSelected = null;
            for (var _i2 = 0; _i2 < options2.length; _i2++) {
              if (options2[_i2].value === _selectedValue) {
                options2[_i2].selected = true;
                if (setDefaultSelected) {
                  options2[_i2].defaultSelected = true;
                }
                return;
              }
              if (defaultSelected === null && !options2[_i2].disabled) {
                defaultSelected = options2[_i2];
              }
            }
            if (defaultSelected !== null) {
              defaultSelected.selected = true;
            }
          }
        }
        function getHostProps$2(element, props) {
          return _assign({}, props, {
            value: void 0
          });
        }
        function initWrapperState$1(element, props) {
          var node = element;
          {
            checkSelectPropTypes(props);
          }
          node._wrapperState = {
            wasMultiple: !!props.multiple
          };
          {
            if (props.value !== void 0 && props.defaultValue !== void 0 && !didWarnValueDefaultValue$1) {
              error("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components");
              didWarnValueDefaultValue$1 = true;
            }
          }
        }
        function postMountWrapper$2(element, props) {
          var node = element;
          node.multiple = !!props.multiple;
          var value = props.value;
          if (value != null) {
            updateOptions(node, !!props.multiple, value, false);
          } else if (props.defaultValue != null) {
            updateOptions(node, !!props.multiple, props.defaultValue, true);
          }
        }
        function postUpdateWrapper(element, props) {
          var node = element;
          var wasMultiple = node._wrapperState.wasMultiple;
          node._wrapperState.wasMultiple = !!props.multiple;
          var value = props.value;
          if (value != null) {
            updateOptions(node, !!props.multiple, value, false);
          } else if (wasMultiple !== !!props.multiple) {
            if (props.defaultValue != null) {
              updateOptions(node, !!props.multiple, props.defaultValue, true);
            } else {
              updateOptions(node, !!props.multiple, props.multiple ? [] : "", false);
            }
          }
        }
        function restoreControlledState$1(element, props) {
          var node = element;
          var value = props.value;
          if (value != null) {
            updateOptions(node, !!props.multiple, value, false);
          }
        }
        var didWarnValDefaultVal = false;
        function getHostProps$3(element, props) {
          var node = element;
          if (!(props.dangerouslySetInnerHTML == null)) {
            {
              throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");
            }
          }
          var hostProps = _assign({}, props, {
            value: void 0,
            defaultValue: void 0,
            children: toString(node._wrapperState.initialValue)
          });
          return hostProps;
        }
        function initWrapperState$2(element, props) {
          var node = element;
          {
            checkControlledValueProps("textarea", props);
            if (props.value !== void 0 && props.defaultValue !== void 0 && !didWarnValDefaultVal) {
              error("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components", getCurrentFiberOwnerNameInDevOrNull() || "A component");
              didWarnValDefaultVal = true;
            }
          }
          var initialValue = props.value;
          if (initialValue == null) {
            var children = props.children, defaultValue = props.defaultValue;
            if (children != null) {
              {
                error("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");
              }
              {
                if (!(defaultValue == null)) {
                  {
                    throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");
                  }
                }
                if (Array.isArray(children)) {
                  if (!(children.length <= 1)) {
                    {
                      throw Error("<textarea> can only have at most one child.");
                    }
                  }
                  children = children[0];
                }
                defaultValue = children;
              }
            }
            if (defaultValue == null) {
              defaultValue = "";
            }
            initialValue = defaultValue;
          }
          node._wrapperState = {
            initialValue: getToStringValue(initialValue)
          };
        }
        function updateWrapper$1(element, props) {
          var node = element;
          var value = getToStringValue(props.value);
          var defaultValue = getToStringValue(props.defaultValue);
          if (value != null) {
            var newValue = toString(value);
            if (newValue !== node.value) {
              node.value = newValue;
            }
            if (props.defaultValue == null && node.defaultValue !== newValue) {
              node.defaultValue = newValue;
            }
          }
          if (defaultValue != null) {
            node.defaultValue = toString(defaultValue);
          }
        }
        function postMountWrapper$3(element, props) {
          var node = element;
          var textContent = node.textContent;
          if (textContent === node._wrapperState.initialValue) {
            if (textContent !== "" && textContent !== null) {
              node.value = textContent;
            }
          }
        }
        function restoreControlledState$2(element, props) {
          updateWrapper$1(element, props);
        }
        var HTML_NAMESPACE = "http://www.w3.org/1999/xhtml";
        var MATH_NAMESPACE = "http://www.w3.org/1998/Math/MathML";
        var SVG_NAMESPACE = "http://www.w3.org/2000/svg";
        var Namespaces = {
          html: HTML_NAMESPACE,
          mathml: MATH_NAMESPACE,
          svg: SVG_NAMESPACE
        };
        function getIntrinsicNamespace(type) {
          switch (type) {
            case "svg":
              return SVG_NAMESPACE;
            case "math":
              return MATH_NAMESPACE;
            default:
              return HTML_NAMESPACE;
          }
        }
        function getChildNamespace(parentNamespace, type) {
          if (parentNamespace == null || parentNamespace === HTML_NAMESPACE) {
            return getIntrinsicNamespace(type);
          }
          if (parentNamespace === SVG_NAMESPACE && type === "foreignObject") {
            return HTML_NAMESPACE;
          }
          return parentNamespace;
        }
        var createMicrosoftUnsafeLocalFunction = function(func) {
          if (typeof MSApp !== "undefined" && MSApp.execUnsafeLocalFunction) {
            return function(arg0, arg1, arg2, arg3) {
              MSApp.execUnsafeLocalFunction(function() {
                return func(arg0, arg1, arg2, arg3);
              });
            };
          } else {
            return func;
          }
        };
        var reusableSVGContainer;
        var setInnerHTML = createMicrosoftUnsafeLocalFunction(function(node, html) {
          if (node.namespaceURI === Namespaces.svg) {
            if (!("innerHTML" in node)) {
              reusableSVGContainer = reusableSVGContainer || document.createElement("div");
              reusableSVGContainer.innerHTML = "<svg>" + html.valueOf().toString() + "</svg>";
              var svgNode = reusableSVGContainer.firstChild;
              while (node.firstChild) {
                node.removeChild(node.firstChild);
              }
              while (svgNode.firstChild) {
                node.appendChild(svgNode.firstChild);
              }
              return;
            }
          }
          node.innerHTML = html;
        });
        var ELEMENT_NODE = 1;
        var TEXT_NODE = 3;
        var COMMENT_NODE = 8;
        var DOCUMENT_NODE = 9;
        var DOCUMENT_FRAGMENT_NODE = 11;
        var setTextContent = function(node, text) {
          if (text) {
            var firstChild = node.firstChild;
            if (firstChild && firstChild === node.lastChild && firstChild.nodeType === TEXT_NODE) {
              firstChild.nodeValue = text;
              return;
            }
          }
          node.textContent = text;
        };
        var shorthandToLonghand = {
          animation: ["animationDelay", "animationDirection", "animationDuration", "animationFillMode", "animationIterationCount", "animationName", "animationPlayState", "animationTimingFunction"],
          background: ["backgroundAttachment", "backgroundClip", "backgroundColor", "backgroundImage", "backgroundOrigin", "backgroundPositionX", "backgroundPositionY", "backgroundRepeat", "backgroundSize"],
          backgroundPosition: ["backgroundPositionX", "backgroundPositionY"],
          border: ["borderBottomColor", "borderBottomStyle", "borderBottomWidth", "borderImageOutset", "borderImageRepeat", "borderImageSlice", "borderImageSource", "borderImageWidth", "borderLeftColor", "borderLeftStyle", "borderLeftWidth", "borderRightColor", "borderRightStyle", "borderRightWidth", "borderTopColor", "borderTopStyle", "borderTopWidth"],
          borderBlockEnd: ["borderBlockEndColor", "borderBlockEndStyle", "borderBlockEndWidth"],
          borderBlockStart: ["borderBlockStartColor", "borderBlockStartStyle", "borderBlockStartWidth"],
          borderBottom: ["borderBottomColor", "borderBottomStyle", "borderBottomWidth"],
          borderColor: ["borderBottomColor", "borderLeftColor", "borderRightColor", "borderTopColor"],
          borderImage: ["borderImageOutset", "borderImageRepeat", "borderImageSlice", "borderImageSource", "borderImageWidth"],
          borderInlineEnd: ["borderInlineEndColor", "borderInlineEndStyle", "borderInlineEndWidth"],
          borderInlineStart: ["borderInlineStartColor", "borderInlineStartStyle", "borderInlineStartWidth"],
          borderLeft: ["borderLeftColor", "borderLeftStyle", "borderLeftWidth"],
          borderRadius: ["borderBottomLeftRadius", "borderBottomRightRadius", "borderTopLeftRadius", "borderTopRightRadius"],
          borderRight: ["borderRightColor", "borderRightStyle", "borderRightWidth"],
          borderStyle: ["borderBottomStyle", "borderLeftStyle", "borderRightStyle", "borderTopStyle"],
          borderTop: ["borderTopColor", "borderTopStyle", "borderTopWidth"],
          borderWidth: ["borderBottomWidth", "borderLeftWidth", "borderRightWidth", "borderTopWidth"],
          columnRule: ["columnRuleColor", "columnRuleStyle", "columnRuleWidth"],
          columns: ["columnCount", "columnWidth"],
          flex: ["flexBasis", "flexGrow", "flexShrink"],
          flexFlow: ["flexDirection", "flexWrap"],
          font: ["fontFamily", "fontFeatureSettings", "fontKerning", "fontLanguageOverride", "fontSize", "fontSizeAdjust", "fontStretch", "fontStyle", "fontVariant", "fontVariantAlternates", "fontVariantCaps", "fontVariantEastAsian", "fontVariantLigatures", "fontVariantNumeric", "fontVariantPosition", "fontWeight", "lineHeight"],
          fontVariant: ["fontVariantAlternates", "fontVariantCaps", "fontVariantEastAsian", "fontVariantLigatures", "fontVariantNumeric", "fontVariantPosition"],
          gap: ["columnGap", "rowGap"],
          grid: ["gridAutoColumns", "gridAutoFlow", "gridAutoRows", "gridTemplateAreas", "gridTemplateColumns", "gridTemplateRows"],
          gridArea: ["gridColumnEnd", "gridColumnStart", "gridRowEnd", "gridRowStart"],
          gridColumn: ["gridColumnEnd", "gridColumnStart"],
          gridColumnGap: ["columnGap"],
          gridGap: ["columnGap", "rowGap"],
          gridRow: ["gridRowEnd", "gridRowStart"],
          gridRowGap: ["rowGap"],
          gridTemplate: ["gridTemplateAreas", "gridTemplateColumns", "gridTemplateRows"],
          listStyle: ["listStyleImage", "listStylePosition", "listStyleType"],
          margin: ["marginBottom", "marginLeft", "marginRight", "marginTop"],
          marker: ["markerEnd", "markerMid", "markerStart"],
          mask: ["maskClip", "maskComposite", "maskImage", "maskMode", "maskOrigin", "maskPositionX", "maskPositionY", "maskRepeat", "maskSize"],
          maskPosition: ["maskPositionX", "maskPositionY"],
          outline: ["outlineColor", "outlineStyle", "outlineWidth"],
          overflow: ["overflowX", "overflowY"],
          padding: ["paddingBottom", "paddingLeft", "paddingRight", "paddingTop"],
          placeContent: ["alignContent", "justifyContent"],
          placeItems: ["alignItems", "justifyItems"],
          placeSelf: ["alignSelf", "justifySelf"],
          textDecoration: ["textDecorationColor", "textDecorationLine", "textDecorationStyle"],
          textEmphasis: ["textEmphasisColor", "textEmphasisStyle"],
          transition: ["transitionDelay", "transitionDuration", "transitionProperty", "transitionTimingFunction"],
          wordWrap: ["overflowWrap"]
        };
        var isUnitlessNumber = {
          animationIterationCount: true,
          borderImageOutset: true,
          borderImageSlice: true,
          borderImageWidth: true,
          boxFlex: true,
          boxFlexGroup: true,
          boxOrdinalGroup: true,
          columnCount: true,
          columns: true,
          flex: true,
          flexGrow: true,
          flexPositive: true,
          flexShrink: true,
          flexNegative: true,
          flexOrder: true,
          gridArea: true,
          gridRow: true,
          gridRowEnd: true,
          gridRowSpan: true,
          gridRowStart: true,
          gridColumn: true,
          gridColumnEnd: true,
          gridColumnSpan: true,
          gridColumnStart: true,
          fontWeight: true,
          lineClamp: true,
          lineHeight: true,
          opacity: true,
          order: true,
          orphans: true,
          tabSize: true,
          widows: true,
          zIndex: true,
          zoom: true,
          fillOpacity: true,
          floodOpacity: true,
          stopOpacity: true,
          strokeDasharray: true,
          strokeDashoffset: true,
          strokeMiterlimit: true,
          strokeOpacity: true,
          strokeWidth: true
        };
        function prefixKey(prefix3, key) {
          return prefix3 + key.charAt(0).toUpperCase() + key.substring(1);
        }
        var prefixes = ["Webkit", "ms", "Moz", "O"];
        Object.keys(isUnitlessNumber).forEach(function(prop) {
          prefixes.forEach(function(prefix3) {
            isUnitlessNumber[prefixKey(prefix3, prop)] = isUnitlessNumber[prop];
          });
        });
        function dangerousStyleValue(name, value, isCustomProperty) {
          var isEmpty = value == null || typeof value === "boolean" || value === "";
          if (isEmpty) {
            return "";
          }
          if (!isCustomProperty && typeof value === "number" && value !== 0 && !(isUnitlessNumber.hasOwnProperty(name) && isUnitlessNumber[name])) {
            return value + "px";
          }
          return ("" + value).trim();
        }
        var uppercasePattern = /([A-Z])/g;
        var msPattern = /^ms-/;
        function hyphenateStyleName(name) {
          return name.replace(uppercasePattern, "-$1").toLowerCase().replace(msPattern, "-ms-");
        }
        var warnValidStyle = function() {
        };
        {
          var badVendoredStyleNamePattern = /^(?:webkit|moz|o)[A-Z]/;
          var msPattern$1 = /^-ms-/;
          var hyphenPattern = /-(.)/g;
          var badStyleValueWithSemicolonPattern = /;\s*$/;
          var warnedStyleNames = {};
          var warnedStyleValues = {};
          var warnedForNaNValue = false;
          var warnedForInfinityValue = false;
          var camelize = function(string) {
            return string.replace(hyphenPattern, function(_2, character) {
              return character.toUpperCase();
            });
          };
          var warnHyphenatedStyleName = function(name) {
            if (warnedStyleNames.hasOwnProperty(name) && warnedStyleNames[name]) {
              return;
            }
            warnedStyleNames[name] = true;
            error("Unsupported style property %s. Did you mean %s?", name, camelize(name.replace(msPattern$1, "ms-")));
          };
          var warnBadVendoredStyleName = function(name) {
            if (warnedStyleNames.hasOwnProperty(name) && warnedStyleNames[name]) {
              return;
            }
            warnedStyleNames[name] = true;
            error("Unsupported vendor-prefixed style property %s. Did you mean %s?", name, name.charAt(0).toUpperCase() + name.slice(1));
          };
          var warnStyleValueWithSemicolon = function(name, value) {
            if (warnedStyleValues.hasOwnProperty(value) && warnedStyleValues[value]) {
              return;
            }
            warnedStyleValues[value] = true;
            error(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`, name, value.replace(badStyleValueWithSemicolonPattern, ""));
          };
          var warnStyleValueIsNaN = function(name, value) {
            if (warnedForNaNValue) {
              return;
            }
            warnedForNaNValue = true;
            error("`NaN` is an invalid value for the `%s` css style property.", name);
          };
          var warnStyleValueIsInfinity = function(name, value) {
            if (warnedForInfinityValue) {
              return;
            }
            warnedForInfinityValue = true;
            error("`Infinity` is an invalid value for the `%s` css style property.", name);
          };
          warnValidStyle = function(name, value) {
            if (name.indexOf("-") > -1) {
              warnHyphenatedStyleName(name);
            } else if (badVendoredStyleNamePattern.test(name)) {
              warnBadVendoredStyleName(name);
            } else if (badStyleValueWithSemicolonPattern.test(value)) {
              warnStyleValueWithSemicolon(name, value);
            }
            if (typeof value === "number") {
              if (isNaN(value)) {
                warnStyleValueIsNaN(name, value);
              } else if (!isFinite(value)) {
                warnStyleValueIsInfinity(name, value);
              }
            }
          };
        }
        var warnValidStyle$1 = warnValidStyle;
        function createDangerousStringForStyles(styles) {
          {
            var serialized = "";
            var delimiter = "";
            for (var styleName in styles) {
              if (!styles.hasOwnProperty(styleName)) {
                continue;
              }
              var styleValue = styles[styleName];
              if (styleValue != null) {
                var isCustomProperty = styleName.indexOf("--") === 0;
                serialized += delimiter + (isCustomProperty ? styleName : hyphenateStyleName(styleName)) + ":";
                serialized += dangerousStyleValue(styleName, styleValue, isCustomProperty);
                delimiter = ";";
              }
            }
            return serialized || null;
          }
        }
        function setValueForStyles(node, styles) {
          var style2 = node.style;
          for (var styleName in styles) {
            if (!styles.hasOwnProperty(styleName)) {
              continue;
            }
            var isCustomProperty = styleName.indexOf("--") === 0;
            {
              if (!isCustomProperty) {
                warnValidStyle$1(styleName, styles[styleName]);
              }
            }
            var styleValue = dangerousStyleValue(styleName, styles[styleName], isCustomProperty);
            if (styleName === "float") {
              styleName = "cssFloat";
            }
            if (isCustomProperty) {
              style2.setProperty(styleName, styleValue);
            } else {
              style2[styleName] = styleValue;
            }
          }
        }
        function isValueEmpty(value) {
          return value == null || typeof value === "boolean" || value === "";
        }
        function expandShorthandMap(styles) {
          var expanded = {};
          for (var key in styles) {
            var longhands = shorthandToLonghand[key] || [key];
            for (var i3 = 0; i3 < longhands.length; i3++) {
              expanded[longhands[i3]] = key;
            }
          }
          return expanded;
        }
        function validateShorthandPropertyCollisionInDev(styleUpdates, nextStyles) {
          {
            if (!nextStyles) {
              return;
            }
            var expandedUpdates = expandShorthandMap(styleUpdates);
            var expandedStyles = expandShorthandMap(nextStyles);
            var warnedAbout = {};
            for (var key in expandedUpdates) {
              var originalKey = expandedUpdates[key];
              var correctOriginalKey = expandedStyles[key];
              if (correctOriginalKey && originalKey !== correctOriginalKey) {
                var warningKey = originalKey + "," + correctOriginalKey;
                if (warnedAbout[warningKey]) {
                  continue;
                }
                warnedAbout[warningKey] = true;
                error("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.", isValueEmpty(styleUpdates[originalKey]) ? "Removing" : "Updating", originalKey, correctOriginalKey);
              }
            }
          }
        }
        var omittedCloseTags = {
          area: true,
          base: true,
          br: true,
          col: true,
          embed: true,
          hr: true,
          img: true,
          input: true,
          keygen: true,
          link: true,
          meta: true,
          param: true,
          source: true,
          track: true,
          wbr: true
        };
        var voidElementTags = _assign({
          menuitem: true
        }, omittedCloseTags);
        var HTML = "__html";
        function assertValidProps(tag, props) {
          if (!props) {
            return;
          }
          if (voidElementTags[tag]) {
            if (!(props.children == null && props.dangerouslySetInnerHTML == null)) {
              {
                throw Error(tag + " is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");
              }
            }
          }
          if (props.dangerouslySetInnerHTML != null) {
            if (!(props.children == null)) {
              {
                throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");
              }
            }
            if (!(typeof props.dangerouslySetInnerHTML === "object" && HTML in props.dangerouslySetInnerHTML)) {
              {
                throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.");
              }
            }
          }
          {
            if (!props.suppressContentEditableWarning && props.contentEditable && props.children != null) {
              error("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional.");
            }
          }
          if (!(props.style == null || typeof props.style === "object")) {
            {
              throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");
            }
          }
        }
        function isCustomComponent(tagName, props) {
          if (tagName.indexOf("-") === -1) {
            return typeof props.is === "string";
          }
          switch (tagName) {
            case "annotation-xml":
            case "color-profile":
            case "font-face":
            case "font-face-src":
            case "font-face-uri":
            case "font-face-format":
            case "font-face-name":
            case "missing-glyph":
              return false;
            default:
              return true;
          }
        }
        var possibleStandardNames = {
          accept: "accept",
          acceptcharset: "acceptCharset",
          "accept-charset": "acceptCharset",
          accesskey: "accessKey",
          action: "action",
          allowfullscreen: "allowFullScreen",
          alt: "alt",
          as: "as",
          async: "async",
          autocapitalize: "autoCapitalize",
          autocomplete: "autoComplete",
          autocorrect: "autoCorrect",
          autofocus: "autoFocus",
          autoplay: "autoPlay",
          autosave: "autoSave",
          capture: "capture",
          cellpadding: "cellPadding",
          cellspacing: "cellSpacing",
          challenge: "challenge",
          charset: "charSet",
          checked: "checked",
          children: "children",
          cite: "cite",
          class: "className",
          classid: "classID",
          classname: "className",
          cols: "cols",
          colspan: "colSpan",
          content: "content",
          contenteditable: "contentEditable",
          contextmenu: "contextMenu",
          controls: "controls",
          controlslist: "controlsList",
          coords: "coords",
          crossorigin: "crossOrigin",
          dangerouslysetinnerhtml: "dangerouslySetInnerHTML",
          data: "data",
          datetime: "dateTime",
          default: "default",
          defaultchecked: "defaultChecked",
          defaultvalue: "defaultValue",
          defer: "defer",
          dir: "dir",
          disabled: "disabled",
          disablepictureinpicture: "disablePictureInPicture",
          disableremoteplayback: "disableRemotePlayback",
          download: "download",
          draggable: "draggable",
          enctype: "encType",
          enterkeyhint: "enterKeyHint",
          for: "htmlFor",
          form: "form",
          formmethod: "formMethod",
          formaction: "formAction",
          formenctype: "formEncType",
          formnovalidate: "formNoValidate",
          formtarget: "formTarget",
          frameborder: "frameBorder",
          headers: "headers",
          height: "height",
          hidden: "hidden",
          high: "high",
          href: "href",
          hreflang: "hrefLang",
          htmlfor: "htmlFor",
          httpequiv: "httpEquiv",
          "http-equiv": "httpEquiv",
          icon: "icon",
          id: "id",
          innerhtml: "innerHTML",
          inputmode: "inputMode",
          integrity: "integrity",
          is: "is",
          itemid: "itemID",
          itemprop: "itemProp",
          itemref: "itemRef",
          itemscope: "itemScope",
          itemtype: "itemType",
          keyparams: "keyParams",
          keytype: "keyType",
          kind: "kind",
          label: "label",
          lang: "lang",
          list: "list",
          loop: "loop",
          low: "low",
          manifest: "manifest",
          marginwidth: "marginWidth",
          marginheight: "marginHeight",
          max: "max",
          maxlength: "maxLength",
          media: "media",
          mediagroup: "mediaGroup",
          method: "method",
          min: "min",
          minlength: "minLength",
          multiple: "multiple",
          muted: "muted",
          name: "name",
          nomodule: "noModule",
          nonce: "nonce",
          novalidate: "noValidate",
          open: "open",
          optimum: "optimum",
          pattern: "pattern",
          placeholder: "placeholder",
          playsinline: "playsInline",
          poster: "poster",
          preload: "preload",
          profile: "profile",
          radiogroup: "radioGroup",
          readonly: "readOnly",
          referrerpolicy: "referrerPolicy",
          rel: "rel",
          required: "required",
          reversed: "reversed",
          role: "role",
          rows: "rows",
          rowspan: "rowSpan",
          sandbox: "sandbox",
          scope: "scope",
          scoped: "scoped",
          scrolling: "scrolling",
          seamless: "seamless",
          selected: "selected",
          shape: "shape",
          size: "size",
          sizes: "sizes",
          span: "span",
          spellcheck: "spellCheck",
          src: "src",
          srcdoc: "srcDoc",
          srclang: "srcLang",
          srcset: "srcSet",
          start: "start",
          step: "step",
          style: "style",
          summary: "summary",
          tabindex: "tabIndex",
          target: "target",
          title: "title",
          type: "type",
          usemap: "useMap",
          value: "value",
          width: "width",
          wmode: "wmode",
          wrap: "wrap",
          about: "about",
          accentheight: "accentHeight",
          "accent-height": "accentHeight",
          accumulate: "accumulate",
          additive: "additive",
          alignmentbaseline: "alignmentBaseline",
          "alignment-baseline": "alignmentBaseline",
          allowreorder: "allowReorder",
          alphabetic: "alphabetic",
          amplitude: "amplitude",
          arabicform: "arabicForm",
          "arabic-form": "arabicForm",
          ascent: "ascent",
          attributename: "attributeName",
          attributetype: "attributeType",
          autoreverse: "autoReverse",
          azimuth: "azimuth",
          basefrequency: "baseFrequency",
          baselineshift: "baselineShift",
          "baseline-shift": "baselineShift",
          baseprofile: "baseProfile",
          bbox: "bbox",
          begin: "begin",
          bias: "bias",
          by: "by",
          calcmode: "calcMode",
          capheight: "capHeight",
          "cap-height": "capHeight",
          clip: "clip",
          clippath: "clipPath",
          "clip-path": "clipPath",
          clippathunits: "clipPathUnits",
          cliprule: "clipRule",
          "clip-rule": "clipRule",
          color: "color",
          colorinterpolation: "colorInterpolation",
          "color-interpolation": "colorInterpolation",
          colorinterpolationfilters: "colorInterpolationFilters",
          "color-interpolation-filters": "colorInterpolationFilters",
          colorprofile: "colorProfile",
          "color-profile": "colorProfile",
          colorrendering: "colorRendering",
          "color-rendering": "colorRendering",
          contentscripttype: "contentScriptType",
          contentstyletype: "contentStyleType",
          cursor: "cursor",
          cx: "cx",
          cy: "cy",
          d: "d",
          datatype: "datatype",
          decelerate: "decelerate",
          descent: "descent",
          diffuseconstant: "diffuseConstant",
          direction: "direction",
          display: "display",
          divisor: "divisor",
          dominantbaseline: "dominantBaseline",
          "dominant-baseline": "dominantBaseline",
          dur: "dur",
          dx: "dx",
          dy: "dy",
          edgemode: "edgeMode",
          elevation: "elevation",
          enablebackground: "enableBackground",
          "enable-background": "enableBackground",
          end: "end",
          exponent: "exponent",
          externalresourcesrequired: "externalResourcesRequired",
          fill: "fill",
          fillopacity: "fillOpacity",
          "fill-opacity": "fillOpacity",
          fillrule: "fillRule",
          "fill-rule": "fillRule",
          filter: "filter",
          filterres: "filterRes",
          filterunits: "filterUnits",
          floodopacity: "floodOpacity",
          "flood-opacity": "floodOpacity",
          floodcolor: "floodColor",
          "flood-color": "floodColor",
          focusable: "focusable",
          fontfamily: "fontFamily",
          "font-family": "fontFamily",
          fontsize: "fontSize",
          "font-size": "fontSize",
          fontsizeadjust: "fontSizeAdjust",
          "font-size-adjust": "fontSizeAdjust",
          fontstretch: "fontStretch",
          "font-stretch": "fontStretch",
          fontstyle: "fontStyle",
          "font-style": "fontStyle",
          fontvariant: "fontVariant",
          "font-variant": "fontVariant",
          fontweight: "fontWeight",
          "font-weight": "fontWeight",
          format: "format",
          from: "from",
          fx: "fx",
          fy: "fy",
          g1: "g1",
          g2: "g2",
          glyphname: "glyphName",
          "glyph-name": "glyphName",
          glyphorientationhorizontal: "glyphOrientationHorizontal",
          "glyph-orientation-horizontal": "glyphOrientationHorizontal",
          glyphorientationvertical: "glyphOrientationVertical",
          "glyph-orientation-vertical": "glyphOrientationVertical",
          glyphref: "glyphRef",
          gradienttransform: "gradientTransform",
          gradientunits: "gradientUnits",
          hanging: "hanging",
          horizadvx: "horizAdvX",
          "horiz-adv-x": "horizAdvX",
          horizoriginx: "horizOriginX",
          "horiz-origin-x": "horizOriginX",
          ideographic: "ideographic",
          imagerendering: "imageRendering",
          "image-rendering": "imageRendering",
          in2: "in2",
          in: "in",
          inlist: "inlist",
          intercept: "intercept",
          k1: "k1",
          k2: "k2",
          k3: "k3",
          k4: "k4",
          k: "k",
          kernelmatrix: "kernelMatrix",
          kernelunitlength: "kernelUnitLength",
          kerning: "kerning",
          keypoints: "keyPoints",
          keysplines: "keySplines",
          keytimes: "keyTimes",
          lengthadjust: "lengthAdjust",
          letterspacing: "letterSpacing",
          "letter-spacing": "letterSpacing",
          lightingcolor: "lightingColor",
          "lighting-color": "lightingColor",
          limitingconeangle: "limitingConeAngle",
          local: "local",
          markerend: "markerEnd",
          "marker-end": "markerEnd",
          markerheight: "markerHeight",
          markermid: "markerMid",
          "marker-mid": "markerMid",
          markerstart: "markerStart",
          "marker-start": "markerStart",
          markerunits: "markerUnits",
          markerwidth: "markerWidth",
          mask: "mask",
          maskcontentunits: "maskContentUnits",
          maskunits: "maskUnits",
          mathematical: "mathematical",
          mode: "mode",
          numoctaves: "numOctaves",
          offset: "offset",
          opacity: "opacity",
          operator: "operator",
          order: "order",
          orient: "orient",
          orientation: "orientation",
          origin: "origin",
          overflow: "overflow",
          overlineposition: "overlinePosition",
          "overline-position": "overlinePosition",
          overlinethickness: "overlineThickness",
          "overline-thickness": "overlineThickness",
          paintorder: "paintOrder",
          "paint-order": "paintOrder",
          panose1: "panose1",
          "panose-1": "panose1",
          pathlength: "pathLength",
          patterncontentunits: "patternContentUnits",
          patterntransform: "patternTransform",
          patternunits: "patternUnits",
          pointerevents: "pointerEvents",
          "pointer-events": "pointerEvents",
          points: "points",
          pointsatx: "pointsAtX",
          pointsaty: "pointsAtY",
          pointsatz: "pointsAtZ",
          prefix: "prefix",
          preservealpha: "preserveAlpha",
          preserveaspectratio: "preserveAspectRatio",
          primitiveunits: "primitiveUnits",
          property: "property",
          r: "r",
          radius: "radius",
          refx: "refX",
          refy: "refY",
          renderingintent: "renderingIntent",
          "rendering-intent": "renderingIntent",
          repeatcount: "repeatCount",
          repeatdur: "repeatDur",
          requiredextensions: "requiredExtensions",
          requiredfeatures: "requiredFeatures",
          resource: "resource",
          restart: "restart",
          result: "result",
          results: "results",
          rotate: "rotate",
          rx: "rx",
          ry: "ry",
          scale: "scale",
          security: "security",
          seed: "seed",
          shaperendering: "shapeRendering",
          "shape-rendering": "shapeRendering",
          slope: "slope",
          spacing: "spacing",
          specularconstant: "specularConstant",
          specularexponent: "specularExponent",
          speed: "speed",
          spreadmethod: "spreadMethod",
          startoffset: "startOffset",
          stddeviation: "stdDeviation",
          stemh: "stemh",
          stemv: "stemv",
          stitchtiles: "stitchTiles",
          stopcolor: "stopColor",
          "stop-color": "stopColor",
          stopopacity: "stopOpacity",
          "stop-opacity": "stopOpacity",
          strikethroughposition: "strikethroughPosition",
          "strikethrough-position": "strikethroughPosition",
          strikethroughthickness: "strikethroughThickness",
          "strikethrough-thickness": "strikethroughThickness",
          string: "string",
          stroke: "stroke",
          strokedasharray: "strokeDasharray",
          "stroke-dasharray": "strokeDasharray",
          strokedashoffset: "strokeDashoffset",
          "stroke-dashoffset": "strokeDashoffset",
          strokelinecap: "strokeLinecap",
          "stroke-linecap": "strokeLinecap",
          strokelinejoin: "strokeLinejoin",
          "stroke-linejoin": "strokeLinejoin",
          strokemiterlimit: "strokeMiterlimit",
          "stroke-miterlimit": "strokeMiterlimit",
          strokewidth: "strokeWidth",
          "stroke-width": "strokeWidth",
          strokeopacity: "strokeOpacity",
          "stroke-opacity": "strokeOpacity",
          suppresscontenteditablewarning: "suppressContentEditableWarning",
          suppresshydrationwarning: "suppressHydrationWarning",
          surfacescale: "surfaceScale",
          systemlanguage: "systemLanguage",
          tablevalues: "tableValues",
          targetx: "targetX",
          targety: "targetY",
          textanchor: "textAnchor",
          "text-anchor": "textAnchor",
          textdecoration: "textDecoration",
          "text-decoration": "textDecoration",
          textlength: "textLength",
          textrendering: "textRendering",
          "text-rendering": "textRendering",
          to: "to",
          transform: "transform",
          typeof: "typeof",
          u1: "u1",
          u2: "u2",
          underlineposition: "underlinePosition",
          "underline-position": "underlinePosition",
          underlinethickness: "underlineThickness",
          "underline-thickness": "underlineThickness",
          unicode: "unicode",
          unicodebidi: "unicodeBidi",
          "unicode-bidi": "unicodeBidi",
          unicoderange: "unicodeRange",
          "unicode-range": "unicodeRange",
          unitsperem: "unitsPerEm",
          "units-per-em": "unitsPerEm",
          unselectable: "unselectable",
          valphabetic: "vAlphabetic",
          "v-alphabetic": "vAlphabetic",
          values: "values",
          vectoreffect: "vectorEffect",
          "vector-effect": "vectorEffect",
          version: "version",
          vertadvy: "vertAdvY",
          "vert-adv-y": "vertAdvY",
          vertoriginx: "vertOriginX",
          "vert-origin-x": "vertOriginX",
          vertoriginy: "vertOriginY",
          "vert-origin-y": "vertOriginY",
          vhanging: "vHanging",
          "v-hanging": "vHanging",
          videographic: "vIdeographic",
          "v-ideographic": "vIdeographic",
          viewbox: "viewBox",
          viewtarget: "viewTarget",
          visibility: "visibility",
          vmathematical: "vMathematical",
          "v-mathematical": "vMathematical",
          vocab: "vocab",
          widths: "widths",
          wordspacing: "wordSpacing",
          "word-spacing": "wordSpacing",
          writingmode: "writingMode",
          "writing-mode": "writingMode",
          x1: "x1",
          x2: "x2",
          x: "x",
          xchannelselector: "xChannelSelector",
          xheight: "xHeight",
          "x-height": "xHeight",
          xlinkactuate: "xlinkActuate",
          "xlink:actuate": "xlinkActuate",
          xlinkarcrole: "xlinkArcrole",
          "xlink:arcrole": "xlinkArcrole",
          xlinkhref: "xlinkHref",
          "xlink:href": "xlinkHref",
          xlinkrole: "xlinkRole",
          "xlink:role": "xlinkRole",
          xlinkshow: "xlinkShow",
          "xlink:show": "xlinkShow",
          xlinktitle: "xlinkTitle",
          "xlink:title": "xlinkTitle",
          xlinktype: "xlinkType",
          "xlink:type": "xlinkType",
          xmlbase: "xmlBase",
          "xml:base": "xmlBase",
          xmllang: "xmlLang",
          "xml:lang": "xmlLang",
          xmlns: "xmlns",
          "xml:space": "xmlSpace",
          xmlnsxlink: "xmlnsXlink",
          "xmlns:xlink": "xmlnsXlink",
          xmlspace: "xmlSpace",
          y1: "y1",
          y2: "y2",
          y: "y",
          ychannelselector: "yChannelSelector",
          z: "z",
          zoomandpan: "zoomAndPan"
        };
        var ariaProperties = {
          "aria-current": 0,
          "aria-details": 0,
          "aria-disabled": 0,
          "aria-hidden": 0,
          "aria-invalid": 0,
          "aria-keyshortcuts": 0,
          "aria-label": 0,
          "aria-roledescription": 0,
          "aria-autocomplete": 0,
          "aria-checked": 0,
          "aria-expanded": 0,
          "aria-haspopup": 0,
          "aria-level": 0,
          "aria-modal": 0,
          "aria-multiline": 0,
          "aria-multiselectable": 0,
          "aria-orientation": 0,
          "aria-placeholder": 0,
          "aria-pressed": 0,
          "aria-readonly": 0,
          "aria-required": 0,
          "aria-selected": 0,
          "aria-sort": 0,
          "aria-valuemax": 0,
          "aria-valuemin": 0,
          "aria-valuenow": 0,
          "aria-valuetext": 0,
          "aria-atomic": 0,
          "aria-busy": 0,
          "aria-live": 0,
          "aria-relevant": 0,
          "aria-dropeffect": 0,
          "aria-grabbed": 0,
          "aria-activedescendant": 0,
          "aria-colcount": 0,
          "aria-colindex": 0,
          "aria-colspan": 0,
          "aria-controls": 0,
          "aria-describedby": 0,
          "aria-errormessage": 0,
          "aria-flowto": 0,
          "aria-labelledby": 0,
          "aria-owns": 0,
          "aria-posinset": 0,
          "aria-rowcount": 0,
          "aria-rowindex": 0,
          "aria-rowspan": 0,
          "aria-setsize": 0
        };
        var warnedProperties = {};
        var rARIA = new RegExp("^(aria)-[" + ATTRIBUTE_NAME_CHAR + "]*$");
        var rARIACamel = new RegExp("^(aria)[A-Z][" + ATTRIBUTE_NAME_CHAR + "]*$");
        var hasOwnProperty$1 = Object.prototype.hasOwnProperty;
        function validateProperty(tagName, name) {
          {
            if (hasOwnProperty$1.call(warnedProperties, name) && warnedProperties[name]) {
              return true;
            }
            if (rARIACamel.test(name)) {
              var ariaName = "aria-" + name.slice(4).toLowerCase();
              var correctName = ariaProperties.hasOwnProperty(ariaName) ? ariaName : null;
              if (correctName == null) {
                error("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.", name);
                warnedProperties[name] = true;
                return true;
              }
              if (name !== correctName) {
                error("Invalid ARIA attribute `%s`. Did you mean `%s`?", name, correctName);
                warnedProperties[name] = true;
                return true;
              }
            }
            if (rARIA.test(name)) {
              var lowerCasedName = name.toLowerCase();
              var standardName = ariaProperties.hasOwnProperty(lowerCasedName) ? lowerCasedName : null;
              if (standardName == null) {
                warnedProperties[name] = true;
                return false;
              }
              if (name !== standardName) {
                error("Unknown ARIA attribute `%s`. Did you mean `%s`?", name, standardName);
                warnedProperties[name] = true;
                return true;
              }
            }
          }
          return true;
        }
        function warnInvalidARIAProps(type, props) {
          {
            var invalidProps = [];
            for (var key in props) {
              var isValid = validateProperty(type, key);
              if (!isValid) {
                invalidProps.push(key);
              }
            }
            var unknownPropString = invalidProps.map(function(prop) {
              return "`" + prop + "`";
            }).join(", ");
            if (invalidProps.length === 1) {
              error("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props", unknownPropString, type);
            } else if (invalidProps.length > 1) {
              error("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props", unknownPropString, type);
            }
          }
        }
        function validateProperties(type, props) {
          if (isCustomComponent(type, props)) {
            return;
          }
          warnInvalidARIAProps(type, props);
        }
        var didWarnValueNull = false;
        function validateProperties$1(type, props) {
          {
            if (type !== "input" && type !== "textarea" && type !== "select") {
              return;
            }
            if (props != null && props.value === null && !didWarnValueNull) {
              didWarnValueNull = true;
              if (type === "select" && props.multiple) {
                error("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.", type);
              } else {
                error("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.", type);
              }
            }
          }
        }
        var validateProperty$1 = function() {
        };
        {
          var warnedProperties$1 = {};
          var _hasOwnProperty = Object.prototype.hasOwnProperty;
          var EVENT_NAME_REGEX = /^on./;
          var INVALID_EVENT_NAME_REGEX = /^on[^A-Z]/;
          var rARIA$1 = new RegExp("^(aria)-[" + ATTRIBUTE_NAME_CHAR + "]*$");
          var rARIACamel$1 = new RegExp("^(aria)[A-Z][" + ATTRIBUTE_NAME_CHAR + "]*$");
          validateProperty$1 = function(tagName, name, value, eventRegistry) {
            if (_hasOwnProperty.call(warnedProperties$1, name) && warnedProperties$1[name]) {
              return true;
            }
            var lowerCasedName = name.toLowerCase();
            if (lowerCasedName === "onfocusin" || lowerCasedName === "onfocusout") {
              error("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React.");
              warnedProperties$1[name] = true;
              return true;
            }
            if (eventRegistry != null) {
              var registrationNameDependencies2 = eventRegistry.registrationNameDependencies, possibleRegistrationNames2 = eventRegistry.possibleRegistrationNames;
              if (registrationNameDependencies2.hasOwnProperty(name)) {
                return true;
              }
              var registrationName = possibleRegistrationNames2.hasOwnProperty(lowerCasedName) ? possibleRegistrationNames2[lowerCasedName] : null;
              if (registrationName != null) {
                error("Invalid event handler property `%s`. Did you mean `%s`?", name, registrationName);
                warnedProperties$1[name] = true;
                return true;
              }
              if (EVENT_NAME_REGEX.test(name)) {
                error("Unknown event handler property `%s`. It will be ignored.", name);
                warnedProperties$1[name] = true;
                return true;
              }
            } else if (EVENT_NAME_REGEX.test(name)) {
              if (INVALID_EVENT_NAME_REGEX.test(name)) {
                error("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.", name);
              }
              warnedProperties$1[name] = true;
              return true;
            }
            if (rARIA$1.test(name) || rARIACamel$1.test(name)) {
              return true;
            }
            if (lowerCasedName === "innerhtml") {
              error("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`.");
              warnedProperties$1[name] = true;
              return true;
            }
            if (lowerCasedName === "aria") {
              error("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead.");
              warnedProperties$1[name] = true;
              return true;
            }
            if (lowerCasedName === "is" && value !== null && value !== void 0 && typeof value !== "string") {
              error("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.", typeof value);
              warnedProperties$1[name] = true;
              return true;
            }
            if (typeof value === "number" && isNaN(value)) {
              error("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.", name);
              warnedProperties$1[name] = true;
              return true;
            }
            var propertyInfo = getPropertyInfo(name);
            var isReserved = propertyInfo !== null && propertyInfo.type === RESERVED;
            if (possibleStandardNames.hasOwnProperty(lowerCasedName)) {
              var standardName = possibleStandardNames[lowerCasedName];
              if (standardName !== name) {
                error("Invalid DOM property `%s`. Did you mean `%s`?", name, standardName);
                warnedProperties$1[name] = true;
                return true;
              }
            } else if (!isReserved && name !== lowerCasedName) {
              error("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.", name, lowerCasedName);
              warnedProperties$1[name] = true;
              return true;
            }
            if (typeof value === "boolean" && shouldRemoveAttributeWithWarning(name, value, propertyInfo, false)) {
              if (value) {
                error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.', value, name, name, value, name);
              } else {
                error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.', value, name, name, value, name, name, name);
              }
              warnedProperties$1[name] = true;
              return true;
            }
            if (isReserved) {
              return true;
            }
            if (shouldRemoveAttributeWithWarning(name, value, propertyInfo, false)) {
              warnedProperties$1[name] = true;
              return false;
            }
            if ((value === "false" || value === "true") && propertyInfo !== null && propertyInfo.type === BOOLEAN) {
              error("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?", value, name, value === "false" ? "The browser will interpret it as a truthy value." : 'Although this works, it will not work as expected if you pass the string "false".', name, value);
              warnedProperties$1[name] = true;
              return true;
            }
            return true;
          };
        }
        var warnUnknownProperties = function(type, props, eventRegistry) {
          {
            var unknownProps = [];
            for (var key in props) {
              var isValid = validateProperty$1(type, key, props[key], eventRegistry);
              if (!isValid) {
                unknownProps.push(key);
              }
            }
            var unknownPropString = unknownProps.map(function(prop) {
              return "`" + prop + "`";
            }).join(", ");
            if (unknownProps.length === 1) {
              error("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ", unknownPropString, type);
            } else if (unknownProps.length > 1) {
              error("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ", unknownPropString, type);
            }
          }
        };
        function validateProperties$2(type, props, eventRegistry) {
          if (isCustomComponent(type, props)) {
            return;
          }
          warnUnknownProperties(type, props, eventRegistry);
        }
        var IS_EVENT_HANDLE_NON_MANAGED_NODE = 1;
        var IS_NON_DELEGATED = 1 << 1;
        var IS_CAPTURE_PHASE = 1 << 2;
        var IS_REPLAYED = 1 << 4;
        var SHOULD_NOT_PROCESS_POLYFILL_EVENT_PLUGINS = IS_EVENT_HANDLE_NON_MANAGED_NODE | IS_NON_DELEGATED | IS_CAPTURE_PHASE;
        function getEventTarget(nativeEvent) {
          var target = nativeEvent.target || nativeEvent.srcElement || window;
          if (target.correspondingUseElement) {
            target = target.correspondingUseElement;
          }
          return target.nodeType === TEXT_NODE ? target.parentNode : target;
        }
        var restoreImpl = null;
        var restoreTarget = null;
        var restoreQueue = null;
        function restoreStateOfTarget(target) {
          var internalInstance = getInstanceFromNode(target);
          if (!internalInstance) {
            return;
          }
          if (!(typeof restoreImpl === "function")) {
            {
              throw Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");
            }
          }
          var stateNode = internalInstance.stateNode;
          if (stateNode) {
            var _props = getFiberCurrentPropsFromNode(stateNode);
            restoreImpl(internalInstance.stateNode, internalInstance.type, _props);
          }
        }
        function setRestoreImplementation(impl) {
          restoreImpl = impl;
        }
        function enqueueStateRestore(target) {
          if (restoreTarget) {
            if (restoreQueue) {
              restoreQueue.push(target);
            } else {
              restoreQueue = [target];
            }
          } else {
            restoreTarget = target;
          }
        }
        function needsStateRestore() {
          return restoreTarget !== null || restoreQueue !== null;
        }
        function restoreStateIfNeeded() {
          if (!restoreTarget) {
            return;
          }
          var target = restoreTarget;
          var queuedTargets = restoreQueue;
          restoreTarget = null;
          restoreQueue = null;
          restoreStateOfTarget(target);
          if (queuedTargets) {
            for (var i3 = 0; i3 < queuedTargets.length; i3++) {
              restoreStateOfTarget(queuedTargets[i3]);
            }
          }
        }
        var batchedUpdatesImpl = function(fn, bookkeeping) {
          return fn(bookkeeping);
        };
        var discreteUpdatesImpl = function(fn, a4, b3, c3, d2) {
          return fn(a4, b3, c3, d2);
        };
        var flushDiscreteUpdatesImpl = function() {
        };
        var batchedEventUpdatesImpl = batchedUpdatesImpl;
        var isInsideEventHandler = false;
        var isBatchingEventUpdates = false;
        function finishEventHandler() {
          var controlledComponentsHavePendingUpdates = needsStateRestore();
          if (controlledComponentsHavePendingUpdates) {
            flushDiscreteUpdatesImpl();
            restoreStateIfNeeded();
          }
        }
        function batchedUpdates(fn, bookkeeping) {
          if (isInsideEventHandler) {
            return fn(bookkeeping);
          }
          isInsideEventHandler = true;
          try {
            return batchedUpdatesImpl(fn, bookkeeping);
          } finally {
            isInsideEventHandler = false;
            finishEventHandler();
          }
        }
        function batchedEventUpdates(fn, a4, b3) {
          if (isBatchingEventUpdates) {
            return fn(a4, b3);
          }
          isBatchingEventUpdates = true;
          try {
            return batchedEventUpdatesImpl(fn, a4, b3);
          } finally {
            isBatchingEventUpdates = false;
            finishEventHandler();
          }
        }
        function discreteUpdates(fn, a4, b3, c3, d2) {
          var prevIsInsideEventHandler = isInsideEventHandler;
          isInsideEventHandler = true;
          try {
            return discreteUpdatesImpl(fn, a4, b3, c3, d2);
          } finally {
            isInsideEventHandler = prevIsInsideEventHandler;
            if (!isInsideEventHandler) {
              finishEventHandler();
            }
          }
        }
        function flushDiscreteUpdatesIfNeeded(timeStamp) {
          {
            if (!isInsideEventHandler) {
              flushDiscreteUpdatesImpl();
            }
          }
        }
        function setBatchingImplementation(_batchedUpdatesImpl, _discreteUpdatesImpl, _flushDiscreteUpdatesImpl, _batchedEventUpdatesImpl) {
          batchedUpdatesImpl = _batchedUpdatesImpl;
          discreteUpdatesImpl = _discreteUpdatesImpl;
          flushDiscreteUpdatesImpl = _flushDiscreteUpdatesImpl;
          batchedEventUpdatesImpl = _batchedEventUpdatesImpl;
        }
        function isInteractive(tag) {
          return tag === "button" || tag === "input" || tag === "select" || tag === "textarea";
        }
        function shouldPreventMouseEvent(name, type, props) {
          switch (name) {
            case "onClick":
            case "onClickCapture":
            case "onDoubleClick":
            case "onDoubleClickCapture":
            case "onMouseDown":
            case "onMouseDownCapture":
            case "onMouseMove":
            case "onMouseMoveCapture":
            case "onMouseUp":
            case "onMouseUpCapture":
            case "onMouseEnter":
              return !!(props.disabled && isInteractive(type));
            default:
              return false;
          }
        }
        function getListener(inst, registrationName) {
          var stateNode = inst.stateNode;
          if (stateNode === null) {
            return null;
          }
          var props = getFiberCurrentPropsFromNode(stateNode);
          if (props === null) {
            return null;
          }
          var listener = props[registrationName];
          if (shouldPreventMouseEvent(registrationName, inst.type, props)) {
            return null;
          }
          if (!(!listener || typeof listener === "function")) {
            {
              throw Error("Expected `" + registrationName + "` listener to be a function, instead got a value of `" + typeof listener + "` type.");
            }
          }
          return listener;
        }
        var passiveBrowserEventsSupported = false;
        if (canUseDOM) {
          try {
            var options = {};
            Object.defineProperty(options, "passive", {
              get: function() {
                passiveBrowserEventsSupported = true;
              }
            });
            window.addEventListener("test", options, options);
            window.removeEventListener("test", options, options);
          } catch (e) {
            passiveBrowserEventsSupported = false;
          }
        }
        function invokeGuardedCallbackProd(name, func, context, a4, b3, c3, d2, e, f2) {
          var funcArgs = Array.prototype.slice.call(arguments, 3);
          try {
            func.apply(context, funcArgs);
          } catch (error2) {
            this.onError(error2);
          }
        }
        var invokeGuardedCallbackImpl = invokeGuardedCallbackProd;
        {
          if (typeof window !== "undefined" && typeof window.dispatchEvent === "function" && typeof document !== "undefined" && typeof document.createEvent === "function") {
            var fakeNode = document.createElement("react");
            invokeGuardedCallbackImpl = function invokeGuardedCallbackDev(name, func, context, a4, b3, c3, d2, e, f2) {
              if (!(typeof document !== "undefined")) {
                {
                  throw Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");
                }
              }
              var evt = document.createEvent("Event");
              var didCall = false;
              var didError = true;
              var windowEvent = window.event;
              var windowEventDescriptor = Object.getOwnPropertyDescriptor(window, "event");
              function restoreAfterDispatch() {
                fakeNode.removeEventListener(evtType, callCallback2, false);
                if (typeof window.event !== "undefined" && window.hasOwnProperty("event")) {
                  window.event = windowEvent;
                }
              }
              var funcArgs = Array.prototype.slice.call(arguments, 3);
              function callCallback2() {
                didCall = true;
                restoreAfterDispatch();
                func.apply(context, funcArgs);
                didError = false;
              }
              var error2;
              var didSetError = false;
              var isCrossOriginError = false;
              function handleWindowError(event) {
                error2 = event.error;
                didSetError = true;
                if (error2 === null && event.colno === 0 && event.lineno === 0) {
                  isCrossOriginError = true;
                }
                if (event.defaultPrevented) {
                  if (error2 != null && typeof error2 === "object") {
                    try {
                      error2._suppressLogging = true;
                    } catch (inner) {
                    }
                  }
                }
              }
              var evtType = "react-" + (name ? name : "invokeguardedcallback");
              window.addEventListener("error", handleWindowError);
              fakeNode.addEventListener(evtType, callCallback2, false);
              evt.initEvent(evtType, false, false);
              fakeNode.dispatchEvent(evt);
              if (windowEventDescriptor) {
                Object.defineProperty(window, "event", windowEventDescriptor);
              }
              if (didCall && didError) {
                if (!didSetError) {
                  error2 = new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`);
                } else if (isCrossOriginError) {
                  error2 = new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.");
                }
                this.onError(error2);
              }
              window.removeEventListener("error", handleWindowError);
              if (!didCall) {
                restoreAfterDispatch();
                return invokeGuardedCallbackProd.apply(this, arguments);
              }
            };
          }
        }
        var invokeGuardedCallbackImpl$1 = invokeGuardedCallbackImpl;
        var hasError = false;
        var caughtError = null;
        var hasRethrowError = false;
        var rethrowError = null;
        var reporter = {
          onError: function(error2) {
            hasError = true;
            caughtError = error2;
          }
        };
        function invokeGuardedCallback(name, func, context, a4, b3, c3, d2, e, f2) {
          hasError = false;
          caughtError = null;
          invokeGuardedCallbackImpl$1.apply(reporter, arguments);
        }
        function invokeGuardedCallbackAndCatchFirstError(name, func, context, a4, b3, c3, d2, e, f2) {
          invokeGuardedCallback.apply(this, arguments);
          if (hasError) {
            var error2 = clearCaughtError();
            if (!hasRethrowError) {
              hasRethrowError = true;
              rethrowError = error2;
            }
          }
        }
        function rethrowCaughtError() {
          if (hasRethrowError) {
            var error2 = rethrowError;
            hasRethrowError = false;
            rethrowError = null;
            throw error2;
          }
        }
        function hasCaughtError() {
          return hasError;
        }
        function clearCaughtError() {
          if (hasError) {
            var error2 = caughtError;
            hasError = false;
            caughtError = null;
            return error2;
          } else {
            {
              {
                throw Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.");
              }
            }
          }
        }
        function get(key) {
          return key._reactInternals;
        }
        function has(key) {
          return key._reactInternals !== void 0;
        }
        function set(key, value) {
          key._reactInternals = value;
        }
        var NoFlags = 0;
        var PerformedWork = 1;
        var Placement = 2;
        var Update = 4;
        var PlacementAndUpdate = 6;
        var Deletion = 8;
        var ContentReset = 16;
        var Callback = 32;
        var DidCapture = 64;
        var Ref3 = 128;
        var Snapshot = 256;
        var Passive = 512;
        var PassiveUnmountPendingDev = 8192;
        var Hydrating = 1024;
        var HydratingAndUpdate = 1028;
        var LifecycleEffectMask = 932;
        var HostEffectMask = 2047;
        var Incomplete = 2048;
        var ShouldCapture = 4096;
        var ForceUpdateForLegacySuspense = 16384;
        var ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;
        function getNearestMountedFiber(fiber) {
          var node = fiber;
          var nearestMounted = fiber;
          if (!fiber.alternate) {
            var nextNode = node;
            do {
              node = nextNode;
              if ((node.flags & (Placement | Hydrating)) !== NoFlags) {
                nearestMounted = node.return;
              }
              nextNode = node.return;
            } while (nextNode);
          } else {
            while (node.return) {
              node = node.return;
            }
          }
          if (node.tag === HostRoot) {
            return nearestMounted;
          }
          return null;
        }
        function getSuspenseInstanceFromFiber(fiber) {
          if (fiber.tag === SuspenseComponent) {
            var suspenseState = fiber.memoizedState;
            if (suspenseState === null) {
              var current2 = fiber.alternate;
              if (current2 !== null) {
                suspenseState = current2.memoizedState;
              }
            }
            if (suspenseState !== null) {
              return suspenseState.dehydrated;
            }
          }
          return null;
        }
        function getContainerFromFiber(fiber) {
          return fiber.tag === HostRoot ? fiber.stateNode.containerInfo : null;
        }
        function isFiberMounted(fiber) {
          return getNearestMountedFiber(fiber) === fiber;
        }
        function isMounted(component) {
          {
            var owner = ReactCurrentOwner.current;
            if (owner !== null && owner.tag === ClassComponent) {
              var ownerFiber = owner;
              var instance = ownerFiber.stateNode;
              if (!instance._warnedAboutRefsInRender) {
                error("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.", getComponentName(ownerFiber.type) || "A component");
              }
              instance._warnedAboutRefsInRender = true;
            }
          }
          var fiber = get(component);
          if (!fiber) {
            return false;
          }
          return getNearestMountedFiber(fiber) === fiber;
        }
        function assertIsMounted(fiber) {
          if (!(getNearestMountedFiber(fiber) === fiber)) {
            {
              throw Error("Unable to find node on an unmounted component.");
            }
          }
        }
        function findCurrentFiberUsingSlowPath(fiber) {
          var alternate = fiber.alternate;
          if (!alternate) {
            var nearestMounted = getNearestMountedFiber(fiber);
            if (!(nearestMounted !== null)) {
              {
                throw Error("Unable to find node on an unmounted component.");
              }
            }
            if (nearestMounted !== fiber) {
              return null;
            }
            return fiber;
          }
          var a4 = fiber;
          var b3 = alternate;
          while (true) {
            var parentA = a4.return;
            if (parentA === null) {
              break;
            }
            var parentB = parentA.alternate;
            if (parentB === null) {
              var nextParent = parentA.return;
              if (nextParent !== null) {
                a4 = b3 = nextParent;
                continue;
              }
              break;
            }
            if (parentA.child === parentB.child) {
              var child = parentA.child;
              while (child) {
                if (child === a4) {
                  assertIsMounted(parentA);
                  return fiber;
                }
                if (child === b3) {
                  assertIsMounted(parentA);
                  return alternate;
                }
                child = child.sibling;
              }
              {
                {
                  throw Error("Unable to find node on an unmounted component.");
                }
              }
            }
            if (a4.return !== b3.return) {
              a4 = parentA;
              b3 = parentB;
            } else {
              var didFindChild = false;
              var _child = parentA.child;
              while (_child) {
                if (_child === a4) {
                  didFindChild = true;
                  a4 = parentA;
                  b3 = parentB;
                  break;
                }
                if (_child === b3) {
                  didFindChild = true;
                  b3 = parentA;
                  a4 = parentB;
                  break;
                }
                _child = _child.sibling;
              }
              if (!didFindChild) {
                _child = parentB.child;
                while (_child) {
                  if (_child === a4) {
                    didFindChild = true;
                    a4 = parentB;
                    b3 = parentA;
                    break;
                  }
                  if (_child === b3) {
                    didFindChild = true;
                    b3 = parentB;
                    a4 = parentA;
                    break;
                  }
                  _child = _child.sibling;
                }
                if (!didFindChild) {
                  {
                    throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.");
                  }
                }
              }
            }
            if (!(a4.alternate === b3)) {
              {
                throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.");
              }
            }
          }
          if (!(a4.tag === HostRoot)) {
            {
              throw Error("Unable to find node on an unmounted component.");
            }
          }
          if (a4.stateNode.current === a4) {
            return fiber;
          }
          return alternate;
        }
        function findCurrentHostFiber(parent) {
          var currentParent = findCurrentFiberUsingSlowPath(parent);
          if (!currentParent) {
            return null;
          }
          var node = currentParent;
          while (true) {
            if (node.tag === HostComponent || node.tag === HostText) {
              return node;
            } else if (node.child) {
              node.child.return = node;
              node = node.child;
              continue;
            }
            if (node === currentParent) {
              return null;
            }
            while (!node.sibling) {
              if (!node.return || node.return === currentParent) {
                return null;
              }
              node = node.return;
            }
            node.sibling.return = node.return;
            node = node.sibling;
          }
          return null;
        }
        function findCurrentHostFiberWithNoPortals(parent) {
          var currentParent = findCurrentFiberUsingSlowPath(parent);
          if (!currentParent) {
            return null;
          }
          var node = currentParent;
          while (true) {
            if (node.tag === HostComponent || node.tag === HostText || enableFundamentalAPI) {
              return node;
            } else if (node.child && node.tag !== HostPortal) {
              node.child.return = node;
              node = node.child;
              continue;
            }
            if (node === currentParent) {
              return null;
            }
            while (!node.sibling) {
              if (!node.return || node.return === currentParent) {
                return null;
              }
              node = node.return;
            }
            node.sibling.return = node.return;
            node = node.sibling;
          }
          return null;
        }
        function doesFiberContain(parentFiber, childFiber) {
          var node = childFiber;
          var parentFiberAlternate = parentFiber.alternate;
          while (node !== null) {
            if (node === parentFiber || node === parentFiberAlternate) {
              return true;
            }
            node = node.return;
          }
          return false;
        }
        var attemptUserBlockingHydration;
        function setAttemptUserBlockingHydration(fn) {
          attemptUserBlockingHydration = fn;
        }
        var attemptContinuousHydration;
        function setAttemptContinuousHydration(fn) {
          attemptContinuousHydration = fn;
        }
        var attemptHydrationAtCurrentPriority;
        function setAttemptHydrationAtCurrentPriority(fn) {
          attemptHydrationAtCurrentPriority = fn;
        }
        var attemptHydrationAtPriority;
        function setAttemptHydrationAtPriority(fn) {
          attemptHydrationAtPriority = fn;
        }
        var hasScheduledReplayAttempt = false;
        var queuedDiscreteEvents = [];
        var queuedFocus = null;
        var queuedDrag = null;
        var queuedMouse = null;
        var queuedPointers = new Map();
        var queuedPointerCaptures = new Map();
        var queuedExplicitHydrationTargets = [];
        function hasQueuedDiscreteEvents() {
          return queuedDiscreteEvents.length > 0;
        }
        var discreteReplayableEvents = [
          "mousedown",
          "mouseup",
          "touchcancel",
          "touchend",
          "touchstart",
          "auxclick",
          "dblclick",
          "pointercancel",
          "pointerdown",
          "pointerup",
          "dragend",
          "dragstart",
          "drop",
          "compositionend",
          "compositionstart",
          "keydown",
          "keypress",
          "keyup",
          "input",
          "textInput",
          "copy",
          "cut",
          "paste",
          "click",
          "change",
          "contextmenu",
          "reset",
          "submit"
        ];
        function isReplayableDiscreteEvent(eventType) {
          return discreteReplayableEvents.indexOf(eventType) > -1;
        }
        function createQueuedReplayableEvent(blockedOn, domEventName, eventSystemFlags, targetContainer, nativeEvent) {
          return {
            blockedOn,
            domEventName,
            eventSystemFlags: eventSystemFlags | IS_REPLAYED,
            nativeEvent,
            targetContainers: [targetContainer]
          };
        }
        function queueDiscreteEvent(blockedOn, domEventName, eventSystemFlags, targetContainer, nativeEvent) {
          var queuedEvent = createQueuedReplayableEvent(blockedOn, domEventName, eventSystemFlags, targetContainer, nativeEvent);
          queuedDiscreteEvents.push(queuedEvent);
        }
        function clearIfContinuousEvent(domEventName, nativeEvent) {
          switch (domEventName) {
            case "focusin":
            case "focusout":
              queuedFocus = null;
              break;
            case "dragenter":
            case "dragleave":
              queuedDrag = null;
              break;
            case "mouseover":
            case "mouseout":
              queuedMouse = null;
              break;
            case "pointerover":
            case "pointerout": {
              var pointerId = nativeEvent.pointerId;
              queuedPointers.delete(pointerId);
              break;
            }
            case "gotpointercapture":
            case "lostpointercapture": {
              var _pointerId = nativeEvent.pointerId;
              queuedPointerCaptures.delete(_pointerId);
              break;
            }
          }
        }
        function accumulateOrCreateContinuousQueuedReplayableEvent(existingQueuedEvent, blockedOn, domEventName, eventSystemFlags, targetContainer, nativeEvent) {
          if (existingQueuedEvent === null || existingQueuedEvent.nativeEvent !== nativeEvent) {
            var queuedEvent = createQueuedReplayableEvent(blockedOn, domEventName, eventSystemFlags, targetContainer, nativeEvent);
            if (blockedOn !== null) {
              var _fiber2 = getInstanceFromNode(blockedOn);
              if (_fiber2 !== null) {
                attemptContinuousHydration(_fiber2);
              }
            }
            return queuedEvent;
          }
          existingQueuedEvent.eventSystemFlags |= eventSystemFlags;
          var targetContainers = existingQueuedEvent.targetContainers;
          if (targetContainer !== null && targetContainers.indexOf(targetContainer) === -1) {
            targetContainers.push(targetContainer);
          }
          return existingQueuedEvent;
        }
        function queueIfContinuousEvent(blockedOn, domEventName, eventSystemFlags, targetContainer, nativeEvent) {
          switch (domEventName) {
            case "focusin": {
              var focusEvent = nativeEvent;
              queuedFocus = accumulateOrCreateContinuousQueuedReplayableEvent(queuedFocus, blockedOn, domEventName, eventSystemFlags, targetContainer, focusEvent);
              return true;
            }
            case "dragenter": {
              var dragEvent = nativeEvent;
              queuedDrag = accumulateOrCreateContinuousQueuedReplayableEvent(queuedDrag, blockedOn, domEventName, eventSystemFlags, targetContainer, dragEvent);
              return true;
            }
            case "mouseover": {
              var mouseEvent = nativeEvent;
              queuedMouse = accumulateOrCreateContinuousQueuedReplayableEvent(queuedMouse, blockedOn, domEventName, eventSystemFlags, targetContainer, mouseEvent);
              return true;
            }
            case "pointerover": {
              var pointerEvent = nativeEvent;
              var pointerId = pointerEvent.pointerId;
              queuedPointers.set(pointerId, accumulateOrCreateContinuousQueuedReplayableEvent(queuedPointers.get(pointerId) || null, blockedOn, domEventName, eventSystemFlags, targetContainer, pointerEvent));
              return true;
            }
            case "gotpointercapture": {
              var _pointerEvent = nativeEvent;
              var _pointerId2 = _pointerEvent.pointerId;
              queuedPointerCaptures.set(_pointerId2, accumulateOrCreateContinuousQueuedReplayableEvent(queuedPointerCaptures.get(_pointerId2) || null, blockedOn, domEventName, eventSystemFlags, targetContainer, _pointerEvent));
              return true;
            }
          }
          return false;
        }
        function attemptExplicitHydrationTarget(queuedTarget) {
          var targetInst = getClosestInstanceFromNode(queuedTarget.target);
          if (targetInst !== null) {
            var nearestMounted = getNearestMountedFiber(targetInst);
            if (nearestMounted !== null) {
              var tag = nearestMounted.tag;
              if (tag === SuspenseComponent) {
                var instance = getSuspenseInstanceFromFiber(nearestMounted);
                if (instance !== null) {
                  queuedTarget.blockedOn = instance;
                  attemptHydrationAtPriority(queuedTarget.lanePriority, function() {
                    Scheduler.unstable_runWithPriority(queuedTarget.priority, function() {
                      attemptHydrationAtCurrentPriority(nearestMounted);
                    });
                  });
                  return;
                }
              } else if (tag === HostRoot) {
                var root2 = nearestMounted.stateNode;
                if (root2.hydrate) {
                  queuedTarget.blockedOn = getContainerFromFiber(nearestMounted);
                  return;
                }
              }
            }
          }
          queuedTarget.blockedOn = null;
        }
        function attemptReplayContinuousQueuedEvent(queuedEvent) {
          if (queuedEvent.blockedOn !== null) {
            return false;
          }
          var targetContainers = queuedEvent.targetContainers;
          while (targetContainers.length > 0) {
            var targetContainer = targetContainers[0];
            var nextBlockedOn = attemptToDispatchEvent(queuedEvent.domEventName, queuedEvent.eventSystemFlags, targetContainer, queuedEvent.nativeEvent);
            if (nextBlockedOn !== null) {
              var _fiber3 = getInstanceFromNode(nextBlockedOn);
              if (_fiber3 !== null) {
                attemptContinuousHydration(_fiber3);
              }
              queuedEvent.blockedOn = nextBlockedOn;
              return false;
            }
            targetContainers.shift();
          }
          return true;
        }
        function attemptReplayContinuousQueuedEventInMap(queuedEvent, key, map) {
          if (attemptReplayContinuousQueuedEvent(queuedEvent)) {
            map.delete(key);
          }
        }
        function replayUnblockedEvents() {
          hasScheduledReplayAttempt = false;
          while (queuedDiscreteEvents.length > 0) {
            var nextDiscreteEvent = queuedDiscreteEvents[0];
            if (nextDiscreteEvent.blockedOn !== null) {
              var _fiber4 = getInstanceFromNode(nextDiscreteEvent.blockedOn);
              if (_fiber4 !== null) {
                attemptUserBlockingHydration(_fiber4);
              }
              break;
            }
            var targetContainers = nextDiscreteEvent.targetContainers;
            while (targetContainers.length > 0) {
              var targetContainer = targetContainers[0];
              var nextBlockedOn = attemptToDispatchEvent(nextDiscreteEvent.domEventName, nextDiscreteEvent.eventSystemFlags, targetContainer, nextDiscreteEvent.nativeEvent);
              if (nextBlockedOn !== null) {
                nextDiscreteEvent.blockedOn = nextBlockedOn;
                break;
              }
              targetContainers.shift();
            }
            if (nextDiscreteEvent.blockedOn === null) {
              queuedDiscreteEvents.shift();
            }
          }
          if (queuedFocus !== null && attemptReplayContinuousQueuedEvent(queuedFocus)) {
            queuedFocus = null;
          }
          if (queuedDrag !== null && attemptReplayContinuousQueuedEvent(queuedDrag)) {
            queuedDrag = null;
          }
          if (queuedMouse !== null && attemptReplayContinuousQueuedEvent(queuedMouse)) {
            queuedMouse = null;
          }
          queuedPointers.forEach(attemptReplayContinuousQueuedEventInMap);
          queuedPointerCaptures.forEach(attemptReplayContinuousQueuedEventInMap);
        }
        function scheduleCallbackIfUnblocked(queuedEvent, unblocked) {
          if (queuedEvent.blockedOn === unblocked) {
            queuedEvent.blockedOn = null;
            if (!hasScheduledReplayAttempt) {
              hasScheduledReplayAttempt = true;
              Scheduler.unstable_scheduleCallback(Scheduler.unstable_NormalPriority, replayUnblockedEvents);
            }
          }
        }
        function retryIfBlockedOn(unblocked) {
          if (queuedDiscreteEvents.length > 0) {
            scheduleCallbackIfUnblocked(queuedDiscreteEvents[0], unblocked);
            for (var i3 = 1; i3 < queuedDiscreteEvents.length; i3++) {
              var queuedEvent = queuedDiscreteEvents[i3];
              if (queuedEvent.blockedOn === unblocked) {
                queuedEvent.blockedOn = null;
              }
            }
          }
          if (queuedFocus !== null) {
            scheduleCallbackIfUnblocked(queuedFocus, unblocked);
          }
          if (queuedDrag !== null) {
            scheduleCallbackIfUnblocked(queuedDrag, unblocked);
          }
          if (queuedMouse !== null) {
            scheduleCallbackIfUnblocked(queuedMouse, unblocked);
          }
          var unblock = function(queuedEvent2) {
            return scheduleCallbackIfUnblocked(queuedEvent2, unblocked);
          };
          queuedPointers.forEach(unblock);
          queuedPointerCaptures.forEach(unblock);
          for (var _i = 0; _i < queuedExplicitHydrationTargets.length; _i++) {
            var queuedTarget = queuedExplicitHydrationTargets[_i];
            if (queuedTarget.blockedOn === unblocked) {
              queuedTarget.blockedOn = null;
            }
          }
          while (queuedExplicitHydrationTargets.length > 0) {
            var nextExplicitTarget = queuedExplicitHydrationTargets[0];
            if (nextExplicitTarget.blockedOn !== null) {
              break;
            } else {
              attemptExplicitHydrationTarget(nextExplicitTarget);
              if (nextExplicitTarget.blockedOn === null) {
                queuedExplicitHydrationTargets.shift();
              }
            }
          }
        }
        var DiscreteEvent = 0;
        var UserBlockingEvent = 1;
        var ContinuousEvent = 2;
        function makePrefixMap(styleProp, eventName) {
          var prefixes2 = {};
          prefixes2[styleProp.toLowerCase()] = eventName.toLowerCase();
          prefixes2["Webkit" + styleProp] = "webkit" + eventName;
          prefixes2["Moz" + styleProp] = "moz" + eventName;
          return prefixes2;
        }
        var vendorPrefixes = {
          animationend: makePrefixMap("Animation", "AnimationEnd"),
          animationiteration: makePrefixMap("Animation", "AnimationIteration"),
          animationstart: makePrefixMap("Animation", "AnimationStart"),
          transitionend: makePrefixMap("Transition", "TransitionEnd")
        };
        var prefixedEventNames = {};
        var style = {};
        if (canUseDOM) {
          style = document.createElement("div").style;
          if (!("AnimationEvent" in window)) {
            delete vendorPrefixes.animationend.animation;
            delete vendorPrefixes.animationiteration.animation;
            delete vendorPrefixes.animationstart.animation;
          }
          if (!("TransitionEvent" in window)) {
            delete vendorPrefixes.transitionend.transition;
          }
        }
        function getVendorPrefixedEventName(eventName) {
          if (prefixedEventNames[eventName]) {
            return prefixedEventNames[eventName];
          } else if (!vendorPrefixes[eventName]) {
            return eventName;
          }
          var prefixMap = vendorPrefixes[eventName];
          for (var styleProp in prefixMap) {
            if (prefixMap.hasOwnProperty(styleProp) && styleProp in style) {
              return prefixedEventNames[eventName] = prefixMap[styleProp];
            }
          }
          return eventName;
        }
        var ANIMATION_END = getVendorPrefixedEventName("animationend");
        var ANIMATION_ITERATION = getVendorPrefixedEventName("animationiteration");
        var ANIMATION_START = getVendorPrefixedEventName("animationstart");
        var TRANSITION_END = getVendorPrefixedEventName("transitionend");
        var topLevelEventsToReactNames = new Map();
        var eventPriorities = new Map();
        var discreteEventPairsForSimpleEventPlugin = [
          "cancel",
          "cancel",
          "click",
          "click",
          "close",
          "close",
          "contextmenu",
          "contextMenu",
          "copy",
          "copy",
          "cut",
          "cut",
          "auxclick",
          "auxClick",
          "dblclick",
          "doubleClick",
          "dragend",
          "dragEnd",
          "dragstart",
          "dragStart",
          "drop",
          "drop",
          "focusin",
          "focus",
          "focusout",
          "blur",
          "input",
          "input",
          "invalid",
          "invalid",
          "keydown",
          "keyDown",
          "keypress",
          "keyPress",
          "keyup",
          "keyUp",
          "mousedown",
          "mouseDown",
          "mouseup",
          "mouseUp",
          "paste",
          "paste",
          "pause",
          "pause",
          "play",
          "play",
          "pointercancel",
          "pointerCancel",
          "pointerdown",
          "pointerDown",
          "pointerup",
          "pointerUp",
          "ratechange",
          "rateChange",
          "reset",
          "reset",
          "seeked",
          "seeked",
          "submit",
          "submit",
          "touchcancel",
          "touchCancel",
          "touchend",
          "touchEnd",
          "touchstart",
          "touchStart",
          "volumechange",
          "volumeChange"
        ];
        var otherDiscreteEvents = ["change", "selectionchange", "textInput", "compositionstart", "compositionend", "compositionupdate"];
        var userBlockingPairsForSimpleEventPlugin = ["drag", "drag", "dragenter", "dragEnter", "dragexit", "dragExit", "dragleave", "dragLeave", "dragover", "dragOver", "mousemove", "mouseMove", "mouseout", "mouseOut", "mouseover", "mouseOver", "pointermove", "pointerMove", "pointerout", "pointerOut", "pointerover", "pointerOver", "scroll", "scroll", "toggle", "toggle", "touchmove", "touchMove", "wheel", "wheel"];
        var continuousPairsForSimpleEventPlugin = ["abort", "abort", ANIMATION_END, "animationEnd", ANIMATION_ITERATION, "animationIteration", ANIMATION_START, "animationStart", "canplay", "canPlay", "canplaythrough", "canPlayThrough", "durationchange", "durationChange", "emptied", "emptied", "encrypted", "encrypted", "ended", "ended", "error", "error", "gotpointercapture", "gotPointerCapture", "load", "load", "loadeddata", "loadedData", "loadedmetadata", "loadedMetadata", "loadstart", "loadStart", "lostpointercapture", "lostPointerCapture", "playing", "playing", "progress", "progress", "seeking", "seeking", "stalled", "stalled", "suspend", "suspend", "timeupdate", "timeUpdate", TRANSITION_END, "transitionEnd", "waiting", "waiting"];
        function registerSimplePluginEventsAndSetTheirPriorities(eventTypes, priority) {
          for (var i3 = 0; i3 < eventTypes.length; i3 += 2) {
            var topEvent = eventTypes[i3];
            var event = eventTypes[i3 + 1];
            var capitalizedEvent = event[0].toUpperCase() + event.slice(1);
            var reactName = "on" + capitalizedEvent;
            eventPriorities.set(topEvent, priority);
            topLevelEventsToReactNames.set(topEvent, reactName);
            registerTwoPhaseEvent(reactName, [topEvent]);
          }
        }
        function setEventPriorities(eventTypes, priority) {
          for (var i3 = 0; i3 < eventTypes.length; i3++) {
            eventPriorities.set(eventTypes[i3], priority);
          }
        }
        function getEventPriorityForPluginSystem(domEventName) {
          var priority = eventPriorities.get(domEventName);
          return priority === void 0 ? ContinuousEvent : priority;
        }
        function registerSimpleEvents() {
          registerSimplePluginEventsAndSetTheirPriorities(discreteEventPairsForSimpleEventPlugin, DiscreteEvent);
          registerSimplePluginEventsAndSetTheirPriorities(userBlockingPairsForSimpleEventPlugin, UserBlockingEvent);
          registerSimplePluginEventsAndSetTheirPriorities(continuousPairsForSimpleEventPlugin, ContinuousEvent);
          setEventPriorities(otherDiscreteEvents, DiscreteEvent);
        }
        var Scheduler_now = Scheduler.unstable_now;
        {
          if (!(tracing.__interactionsRef != null && tracing.__interactionsRef.current != null)) {
            {
              throw Error("It is not supported to run the profiling version of a renderer (for example, `react-dom/profiling`) without also replacing the `scheduler/tracing` module with `scheduler/tracing-profiling`. Your bundler might have a setting for aliasing both modules. Learn more at https://reactjs.org/link/profiling");
            }
          }
        }
        var ImmediatePriority = 99;
        var UserBlockingPriority = 98;
        var NormalPriority = 97;
        var LowPriority = 96;
        var IdlePriority = 95;
        var NoPriority = 90;
        var initialTimeMs = Scheduler_now();
        var SyncLanePriority = 15;
        var SyncBatchedLanePriority = 14;
        var InputDiscreteHydrationLanePriority = 13;
        var InputDiscreteLanePriority = 12;
        var InputContinuousHydrationLanePriority = 11;
        var InputContinuousLanePriority = 10;
        var DefaultHydrationLanePriority = 9;
        var DefaultLanePriority = 8;
        var TransitionHydrationPriority = 7;
        var TransitionPriority = 6;
        var RetryLanePriority = 5;
        var SelectiveHydrationLanePriority = 4;
        var IdleHydrationLanePriority = 3;
        var IdleLanePriority = 2;
        var OffscreenLanePriority = 1;
        var NoLanePriority = 0;
        var TotalLanes = 31;
        var NoLanes = 0;
        var NoLane = 0;
        var SyncLane = 1;
        var SyncBatchedLane = 2;
        var InputDiscreteHydrationLane = 4;
        var InputDiscreteLanes = 24;
        var InputContinuousHydrationLane = 32;
        var InputContinuousLanes = 192;
        var DefaultHydrationLane = 256;
        var DefaultLanes = 3584;
        var TransitionHydrationLane = 4096;
        var TransitionLanes = 4186112;
        var RetryLanes = 62914560;
        var SomeRetryLane = 33554432;
        var SelectiveHydrationLane = 67108864;
        var NonIdleLanes = 134217727;
        var IdleHydrationLane = 134217728;
        var IdleLanes = 805306368;
        var OffscreenLane = 1073741824;
        var NoTimestamp = -1;
        function setCurrentUpdateLanePriority(newLanePriority) {
        }
        var return_highestLanePriority = DefaultLanePriority;
        function getHighestPriorityLanes(lanes) {
          if ((SyncLane & lanes) !== NoLanes) {
            return_highestLanePriority = SyncLanePriority;
            return SyncLane;
          }
          if ((SyncBatchedLane & lanes) !== NoLanes) {
            return_highestLanePriority = SyncBatchedLanePriority;
            return SyncBatchedLane;
          }
          if ((InputDiscreteHydrationLane & lanes) !== NoLanes) {
            return_highestLanePriority = InputDiscreteHydrationLanePriority;
            return InputDiscreteHydrationLane;
          }
          var inputDiscreteLanes = InputDiscreteLanes & lanes;
          if (inputDiscreteLanes !== NoLanes) {
            return_highestLanePriority = InputDiscreteLanePriority;
            return inputDiscreteLanes;
          }
          if ((lanes & InputContinuousHydrationLane) !== NoLanes) {
            return_highestLanePriority = InputContinuousHydrationLanePriority;
            return InputContinuousHydrationLane;
          }
          var inputContinuousLanes = InputContinuousLanes & lanes;
          if (inputContinuousLanes !== NoLanes) {
            return_highestLanePriority = InputContinuousLanePriority;
            return inputContinuousLanes;
          }
          if ((lanes & DefaultHydrationLane) !== NoLanes) {
            return_highestLanePriority = DefaultHydrationLanePriority;
            return DefaultHydrationLane;
          }
          var defaultLanes = DefaultLanes & lanes;
          if (defaultLanes !== NoLanes) {
            return_highestLanePriority = DefaultLanePriority;
            return defaultLanes;
          }
          if ((lanes & TransitionHydrationLane) !== NoLanes) {
            return_highestLanePriority = TransitionHydrationPriority;
            return TransitionHydrationLane;
          }
          var transitionLanes = TransitionLanes & lanes;
          if (transitionLanes !== NoLanes) {
            return_highestLanePriority = TransitionPriority;
            return transitionLanes;
          }
          var retryLanes = RetryLanes & lanes;
          if (retryLanes !== NoLanes) {
            return_highestLanePriority = RetryLanePriority;
            return retryLanes;
          }
          if (lanes & SelectiveHydrationLane) {
            return_highestLanePriority = SelectiveHydrationLanePriority;
            return SelectiveHydrationLane;
          }
          if ((lanes & IdleHydrationLane) !== NoLanes) {
            return_highestLanePriority = IdleHydrationLanePriority;
            return IdleHydrationLane;
          }
          var idleLanes = IdleLanes & lanes;
          if (idleLanes !== NoLanes) {
            return_highestLanePriority = IdleLanePriority;
            return idleLanes;
          }
          if ((OffscreenLane & lanes) !== NoLanes) {
            return_highestLanePriority = OffscreenLanePriority;
            return OffscreenLane;
          }
          {
            error("Should have found matching lanes. This is a bug in React.");
          }
          return_highestLanePriority = DefaultLanePriority;
          return lanes;
        }
        function schedulerPriorityToLanePriority(schedulerPriorityLevel) {
          switch (schedulerPriorityLevel) {
            case ImmediatePriority:
              return SyncLanePriority;
            case UserBlockingPriority:
              return InputContinuousLanePriority;
            case NormalPriority:
            case LowPriority:
              return DefaultLanePriority;
            case IdlePriority:
              return IdleLanePriority;
            default:
              return NoLanePriority;
          }
        }
        function lanePriorityToSchedulerPriority(lanePriority) {
          switch (lanePriority) {
            case SyncLanePriority:
            case SyncBatchedLanePriority:
              return ImmediatePriority;
            case InputDiscreteHydrationLanePriority:
            case InputDiscreteLanePriority:
            case InputContinuousHydrationLanePriority:
            case InputContinuousLanePriority:
              return UserBlockingPriority;
            case DefaultHydrationLanePriority:
            case DefaultLanePriority:
            case TransitionHydrationPriority:
            case TransitionPriority:
            case SelectiveHydrationLanePriority:
            case RetryLanePriority:
              return NormalPriority;
            case IdleHydrationLanePriority:
            case IdleLanePriority:
            case OffscreenLanePriority:
              return IdlePriority;
            case NoLanePriority:
              return NoPriority;
            default: {
              {
                throw Error("Invalid update priority: " + lanePriority + ". This is a bug in React.");
              }
            }
          }
        }
        function getNextLanes(root2, wipLanes) {
          var pendingLanes = root2.pendingLanes;
          if (pendingLanes === NoLanes) {
            return_highestLanePriority = NoLanePriority;
            return NoLanes;
          }
          var nextLanes = NoLanes;
          var nextLanePriority = NoLanePriority;
          var expiredLanes = root2.expiredLanes;
          var suspendedLanes = root2.suspendedLanes;
          var pingedLanes = root2.pingedLanes;
          if (expiredLanes !== NoLanes) {
            nextLanes = expiredLanes;
            nextLanePriority = return_highestLanePriority = SyncLanePriority;
          } else {
            var nonIdlePendingLanes = pendingLanes & NonIdleLanes;
            if (nonIdlePendingLanes !== NoLanes) {
              var nonIdleUnblockedLanes = nonIdlePendingLanes & ~suspendedLanes;
              if (nonIdleUnblockedLanes !== NoLanes) {
                nextLanes = getHighestPriorityLanes(nonIdleUnblockedLanes);
                nextLanePriority = return_highestLanePriority;
              } else {
                var nonIdlePingedLanes = nonIdlePendingLanes & pingedLanes;
                if (nonIdlePingedLanes !== NoLanes) {
                  nextLanes = getHighestPriorityLanes(nonIdlePingedLanes);
                  nextLanePriority = return_highestLanePriority;
                }
              }
            } else {
              var unblockedLanes = pendingLanes & ~suspendedLanes;
              if (unblockedLanes !== NoLanes) {
                nextLanes = getHighestPriorityLanes(unblockedLanes);
                nextLanePriority = return_highestLanePriority;
              } else {
                if (pingedLanes !== NoLanes) {
                  nextLanes = getHighestPriorityLanes(pingedLanes);
                  nextLanePriority = return_highestLanePriority;
                }
              }
            }
          }
          if (nextLanes === NoLanes) {
            return NoLanes;
          }
          nextLanes = pendingLanes & getEqualOrHigherPriorityLanes(nextLanes);
          if (wipLanes !== NoLanes && wipLanes !== nextLanes && (wipLanes & suspendedLanes) === NoLanes) {
            getHighestPriorityLanes(wipLanes);
            var wipLanePriority = return_highestLanePriority;
            if (nextLanePriority <= wipLanePriority) {
              return wipLanes;
            } else {
              return_highestLanePriority = nextLanePriority;
            }
          }
          var entangledLanes = root2.entangledLanes;
          if (entangledLanes !== NoLanes) {
            var entanglements = root2.entanglements;
            var lanes = nextLanes & entangledLanes;
            while (lanes > 0) {
              var index2 = pickArbitraryLaneIndex(lanes);
              var lane = 1 << index2;
              nextLanes |= entanglements[index2];
              lanes &= ~lane;
            }
          }
          return nextLanes;
        }
        function getMostRecentEventTime(root2, lanes) {
          var eventTimes = root2.eventTimes;
          var mostRecentEventTime = NoTimestamp;
          while (lanes > 0) {
            var index2 = pickArbitraryLaneIndex(lanes);
            var lane = 1 << index2;
            var eventTime = eventTimes[index2];
            if (eventTime > mostRecentEventTime) {
              mostRecentEventTime = eventTime;
            }
            lanes &= ~lane;
          }
          return mostRecentEventTime;
        }
        function computeExpirationTime(lane, currentTime) {
          getHighestPriorityLanes(lane);
          var priority = return_highestLanePriority;
          if (priority >= InputContinuousLanePriority) {
            return currentTime + 250;
          } else if (priority >= TransitionPriority) {
            return currentTime + 5e3;
          } else {
            return NoTimestamp;
          }
        }
        function markStarvedLanesAsExpired(root2, currentTime) {
          var pendingLanes = root2.pendingLanes;
          var suspendedLanes = root2.suspendedLanes;
          var pingedLanes = root2.pingedLanes;
          var expirationTimes = root2.expirationTimes;
          var lanes = pendingLanes;
          while (lanes > 0) {
            var index2 = pickArbitraryLaneIndex(lanes);
            var lane = 1 << index2;
            var expirationTime = expirationTimes[index2];
            if (expirationTime === NoTimestamp) {
              if ((lane & suspendedLanes) === NoLanes || (lane & pingedLanes) !== NoLanes) {
                expirationTimes[index2] = computeExpirationTime(lane, currentTime);
              }
            } else if (expirationTime <= currentTime) {
              root2.expiredLanes |= lane;
            }
            lanes &= ~lane;
          }
        }
        function getLanesToRetrySynchronouslyOnError(root2) {
          var everythingButOffscreen = root2.pendingLanes & ~OffscreenLane;
          if (everythingButOffscreen !== NoLanes) {
            return everythingButOffscreen;
          }
          if (everythingButOffscreen & OffscreenLane) {
            return OffscreenLane;
          }
          return NoLanes;
        }
        function returnNextLanesPriority() {
          return return_highestLanePriority;
        }
        function includesNonIdleWork(lanes) {
          return (lanes & NonIdleLanes) !== NoLanes;
        }
        function includesOnlyRetries(lanes) {
          return (lanes & RetryLanes) === lanes;
        }
        function includesOnlyTransitions(lanes) {
          return (lanes & TransitionLanes) === lanes;
        }
        function findUpdateLane(lanePriority, wipLanes) {
          switch (lanePriority) {
            case NoLanePriority:
              break;
            case SyncLanePriority:
              return SyncLane;
            case SyncBatchedLanePriority:
              return SyncBatchedLane;
            case InputDiscreteLanePriority: {
              var _lane = pickArbitraryLane(InputDiscreteLanes & ~wipLanes);
              if (_lane === NoLane) {
                return findUpdateLane(InputContinuousLanePriority, wipLanes);
              }
              return _lane;
            }
            case InputContinuousLanePriority: {
              var _lane2 = pickArbitraryLane(InputContinuousLanes & ~wipLanes);
              if (_lane2 === NoLane) {
                return findUpdateLane(DefaultLanePriority, wipLanes);
              }
              return _lane2;
            }
            case DefaultLanePriority: {
              var _lane3 = pickArbitraryLane(DefaultLanes & ~wipLanes);
              if (_lane3 === NoLane) {
                _lane3 = pickArbitraryLane(TransitionLanes & ~wipLanes);
                if (_lane3 === NoLane) {
                  _lane3 = pickArbitraryLane(DefaultLanes);
                }
              }
              return _lane3;
            }
            case TransitionPriority:
            case RetryLanePriority:
              break;
            case IdleLanePriority:
              var lane = pickArbitraryLane(IdleLanes & ~wipLanes);
              if (lane === NoLane) {
                lane = pickArbitraryLane(IdleLanes);
              }
              return lane;
          }
          {
            {
              throw Error("Invalid update priority: " + lanePriority + ". This is a bug in React.");
            }
          }
        }
        function findTransitionLane(wipLanes, pendingLanes) {
          var lane = pickArbitraryLane(TransitionLanes & ~pendingLanes);
          if (lane === NoLane) {
            lane = pickArbitraryLane(TransitionLanes & ~wipLanes);
            if (lane === NoLane) {
              lane = pickArbitraryLane(TransitionLanes);
            }
          }
          return lane;
        }
        function findRetryLane(wipLanes) {
          var lane = pickArbitraryLane(RetryLanes & ~wipLanes);
          if (lane === NoLane) {
            lane = pickArbitraryLane(RetryLanes);
          }
          return lane;
        }
        function getHighestPriorityLane(lanes) {
          return lanes & -lanes;
        }
        function getLowestPriorityLane(lanes) {
          var index2 = 31 - clz32(lanes);
          return index2 < 0 ? NoLanes : 1 << index2;
        }
        function getEqualOrHigherPriorityLanes(lanes) {
          return (getLowestPriorityLane(lanes) << 1) - 1;
        }
        function pickArbitraryLane(lanes) {
          return getHighestPriorityLane(lanes);
        }
        function pickArbitraryLaneIndex(lanes) {
          return 31 - clz32(lanes);
        }
        function laneToIndex(lane) {
          return pickArbitraryLaneIndex(lane);
        }
        function includesSomeLane(a4, b3) {
          return (a4 & b3) !== NoLanes;
        }
        function isSubsetOfLanes(set2, subset) {
          return (set2 & subset) === subset;
        }
        function mergeLanes(a4, b3) {
          return a4 | b3;
        }
        function removeLanes(set2, subset) {
          return set2 & ~subset;
        }
        function laneToLanes(lane) {
          return lane;
        }
        function higherPriorityLane(a4, b3) {
          return a4 !== NoLane && a4 < b3 ? a4 : b3;
        }
        function createLaneMap(initial) {
          var laneMap = [];
          for (var i3 = 0; i3 < TotalLanes; i3++) {
            laneMap.push(initial);
          }
          return laneMap;
        }
        function markRootUpdated(root2, updateLane, eventTime) {
          root2.pendingLanes |= updateLane;
          var higherPriorityLanes = updateLane - 1;
          root2.suspendedLanes &= higherPriorityLanes;
          root2.pingedLanes &= higherPriorityLanes;
          var eventTimes = root2.eventTimes;
          var index2 = laneToIndex(updateLane);
          eventTimes[index2] = eventTime;
        }
        function markRootSuspended(root2, suspendedLanes) {
          root2.suspendedLanes |= suspendedLanes;
          root2.pingedLanes &= ~suspendedLanes;
          var expirationTimes = root2.expirationTimes;
          var lanes = suspendedLanes;
          while (lanes > 0) {
            var index2 = pickArbitraryLaneIndex(lanes);
            var lane = 1 << index2;
            expirationTimes[index2] = NoTimestamp;
            lanes &= ~lane;
          }
        }
        function markRootPinged(root2, pingedLanes, eventTime) {
          root2.pingedLanes |= root2.suspendedLanes & pingedLanes;
        }
        function markDiscreteUpdatesExpired(root2) {
          root2.expiredLanes |= InputDiscreteLanes & root2.pendingLanes;
        }
        function hasDiscreteLanes(lanes) {
          return (lanes & InputDiscreteLanes) !== NoLanes;
        }
        function markRootMutableRead(root2, updateLane) {
          root2.mutableReadLanes |= updateLane & root2.pendingLanes;
        }
        function markRootFinished(root2, remainingLanes) {
          var noLongerPendingLanes = root2.pendingLanes & ~remainingLanes;
          root2.pendingLanes = remainingLanes;
          root2.suspendedLanes = 0;
          root2.pingedLanes = 0;
          root2.expiredLanes &= remainingLanes;
          root2.mutableReadLanes &= remainingLanes;
          root2.entangledLanes &= remainingLanes;
          var entanglements = root2.entanglements;
          var eventTimes = root2.eventTimes;
          var expirationTimes = root2.expirationTimes;
          var lanes = noLongerPendingLanes;
          while (lanes > 0) {
            var index2 = pickArbitraryLaneIndex(lanes);
            var lane = 1 << index2;
            entanglements[index2] = NoLanes;
            eventTimes[index2] = NoTimestamp;
            expirationTimes[index2] = NoTimestamp;
            lanes &= ~lane;
          }
        }
        function markRootEntangled(root2, entangledLanes) {
          root2.entangledLanes |= entangledLanes;
          var entanglements = root2.entanglements;
          var lanes = entangledLanes;
          while (lanes > 0) {
            var index2 = pickArbitraryLaneIndex(lanes);
            var lane = 1 << index2;
            entanglements[index2] |= entangledLanes;
            lanes &= ~lane;
          }
        }
        var clz32 = Math.clz32 ? Math.clz32 : clz32Fallback;
        var log = Math.log;
        var LN2 = Math.LN2;
        function clz32Fallback(lanes) {
          if (lanes === 0) {
            return 32;
          }
          return 31 - (log(lanes) / LN2 | 0) | 0;
        }
        var UserBlockingPriority$1 = Scheduler.unstable_UserBlockingPriority, runWithPriority = Scheduler.unstable_runWithPriority;
        var _enabled = true;
        function setEnabled(enabled) {
          _enabled = !!enabled;
        }
        function isEnabled() {
          return _enabled;
        }
        function createEventListenerWrapperWithPriority(targetContainer, domEventName, eventSystemFlags) {
          var eventPriority = getEventPriorityForPluginSystem(domEventName);
          var listenerWrapper;
          switch (eventPriority) {
            case DiscreteEvent:
              listenerWrapper = dispatchDiscreteEvent;
              break;
            case UserBlockingEvent:
              listenerWrapper = dispatchUserBlockingUpdate;
              break;
            case ContinuousEvent:
            default:
              listenerWrapper = dispatchEvent;
              break;
          }
          return listenerWrapper.bind(null, domEventName, eventSystemFlags, targetContainer);
        }
        function dispatchDiscreteEvent(domEventName, eventSystemFlags, container, nativeEvent) {
          {
            flushDiscreteUpdatesIfNeeded(nativeEvent.timeStamp);
          }
          discreteUpdates(dispatchEvent, domEventName, eventSystemFlags, container, nativeEvent);
        }
        function dispatchUserBlockingUpdate(domEventName, eventSystemFlags, container, nativeEvent) {
          {
            runWithPriority(UserBlockingPriority$1, dispatchEvent.bind(null, domEventName, eventSystemFlags, container, nativeEvent));
          }
        }
        function dispatchEvent(domEventName, eventSystemFlags, targetContainer, nativeEvent) {
          if (!_enabled) {
            return;
          }
          var allowReplay = true;
          {
            allowReplay = (eventSystemFlags & IS_CAPTURE_PHASE) === 0;
          }
          if (allowReplay && hasQueuedDiscreteEvents() && isReplayableDiscreteEvent(domEventName)) {
            queueDiscreteEvent(null, domEventName, eventSystemFlags, targetContainer, nativeEvent);
            return;
          }
          var blockedOn = attemptToDispatchEvent(domEventName, eventSystemFlags, targetContainer, nativeEvent);
          if (blockedOn === null) {
            if (allowReplay) {
              clearIfContinuousEvent(domEventName, nativeEvent);
            }
            return;
          }
          if (allowReplay) {
            if (isReplayableDiscreteEvent(domEventName)) {
              queueDiscreteEvent(blockedOn, domEventName, eventSystemFlags, targetContainer, nativeEvent);
              return;
            }
            if (queueIfContinuousEvent(blockedOn, domEventName, eventSystemFlags, targetContainer, nativeEvent)) {
              return;
            }
            clearIfContinuousEvent(domEventName, nativeEvent);
          }
          dispatchEventForPluginEventSystem(domEventName, eventSystemFlags, nativeEvent, null, targetContainer);
        }
        function attemptToDispatchEvent(domEventName, eventSystemFlags, targetContainer, nativeEvent) {
          var nativeEventTarget = getEventTarget(nativeEvent);
          var targetInst = getClosestInstanceFromNode(nativeEventTarget);
          if (targetInst !== null) {
            var nearestMounted = getNearestMountedFiber(targetInst);
            if (nearestMounted === null) {
              targetInst = null;
            } else {
              var tag = nearestMounted.tag;
              if (tag === SuspenseComponent) {
                var instance = getSuspenseInstanceFromFiber(nearestMounted);
                if (instance !== null) {
                  return instance;
                }
                targetInst = null;
              } else if (tag === HostRoot) {
                var root2 = nearestMounted.stateNode;
                if (root2.hydrate) {
                  return getContainerFromFiber(nearestMounted);
                }
                targetInst = null;
              } else if (nearestMounted !== targetInst) {
                targetInst = null;
              }
            }
          }
          dispatchEventForPluginEventSystem(domEventName, eventSystemFlags, nativeEvent, targetInst, targetContainer);
          return null;
        }
        function addEventBubbleListener(target, eventType, listener) {
          target.addEventListener(eventType, listener, false);
          return listener;
        }
        function addEventCaptureListener(target, eventType, listener) {
          target.addEventListener(eventType, listener, true);
          return listener;
        }
        function addEventCaptureListenerWithPassiveFlag(target, eventType, listener, passive) {
          target.addEventListener(eventType, listener, {
            capture: true,
            passive
          });
          return listener;
        }
        function addEventBubbleListenerWithPassiveFlag(target, eventType, listener, passive) {
          target.addEventListener(eventType, listener, {
            passive
          });
          return listener;
        }
        var root = null;
        var startText = null;
        var fallbackText = null;
        function initialize(nativeEventTarget) {
          root = nativeEventTarget;
          startText = getText();
          return true;
        }
        function reset() {
          root = null;
          startText = null;
          fallbackText = null;
        }
        function getData() {
          if (fallbackText) {
            return fallbackText;
          }
          var start;
          var startValue = startText;
          var startLength = startValue.length;
          var end;
          var endValue = getText();
          var endLength = endValue.length;
          for (start = 0; start < startLength; start++) {
            if (startValue[start] !== endValue[start]) {
              break;
            }
          }
          var minEnd = startLength - start;
          for (end = 1; end <= minEnd; end++) {
            if (startValue[startLength - end] !== endValue[endLength - end]) {
              break;
            }
          }
          var sliceTail = end > 1 ? 1 - end : void 0;
          fallbackText = endValue.slice(start, sliceTail);
          return fallbackText;
        }
        function getText() {
          if ("value" in root) {
            return root.value;
          }
          return root.textContent;
        }
        function getEventCharCode(nativeEvent) {
          var charCode;
          var keyCode = nativeEvent.keyCode;
          if ("charCode" in nativeEvent) {
            charCode = nativeEvent.charCode;
            if (charCode === 0 && keyCode === 13) {
              charCode = 13;
            }
          } else {
            charCode = keyCode;
          }
          if (charCode === 10) {
            charCode = 13;
          }
          if (charCode >= 32 || charCode === 13) {
            return charCode;
          }
          return 0;
        }
        function functionThatReturnsTrue() {
          return true;
        }
        function functionThatReturnsFalse() {
          return false;
        }
        function createSyntheticEvent(Interface) {
          function SyntheticBaseEvent(reactName, reactEventType, targetInst, nativeEvent, nativeEventTarget) {
            this._reactName = reactName;
            this._targetInst = targetInst;
            this.type = reactEventType;
            this.nativeEvent = nativeEvent;
            this.target = nativeEventTarget;
            this.currentTarget = null;
            for (var _propName in Interface) {
              if (!Interface.hasOwnProperty(_propName)) {
                continue;
              }
              var normalize2 = Interface[_propName];
              if (normalize2) {
                this[_propName] = normalize2(nativeEvent);
              } else {
                this[_propName] = nativeEvent[_propName];
              }
            }
            var defaultPrevented = nativeEvent.defaultPrevented != null ? nativeEvent.defaultPrevented : nativeEvent.returnValue === false;
            if (defaultPrevented) {
              this.isDefaultPrevented = functionThatReturnsTrue;
            } else {
              this.isDefaultPrevented = functionThatReturnsFalse;
            }
            this.isPropagationStopped = functionThatReturnsFalse;
            return this;
          }
          _assign(SyntheticBaseEvent.prototype, {
            preventDefault: function() {
              this.defaultPrevented = true;
              var event = this.nativeEvent;
              if (!event) {
                return;
              }
              if (event.preventDefault) {
                event.preventDefault();
              } else if (typeof event.returnValue !== "unknown") {
                event.returnValue = false;
              }
              this.isDefaultPrevented = functionThatReturnsTrue;
            },
            stopPropagation: function() {
              var event = this.nativeEvent;
              if (!event) {
                return;
              }
              if (event.stopPropagation) {
                event.stopPropagation();
              } else if (typeof event.cancelBubble !== "unknown") {
                event.cancelBubble = true;
              }
              this.isPropagationStopped = functionThatReturnsTrue;
            },
            persist: function() {
            },
            isPersistent: functionThatReturnsTrue
          });
          return SyntheticBaseEvent;
        }
        var EventInterface = {
          eventPhase: 0,
          bubbles: 0,
          cancelable: 0,
          timeStamp: function(event) {
            return event.timeStamp || Date.now();
          },
          defaultPrevented: 0,
          isTrusted: 0
        };
        var SyntheticEvent = createSyntheticEvent(EventInterface);
        var UIEventInterface = _assign({}, EventInterface, {
          view: 0,
          detail: 0
        });
        var SyntheticUIEvent = createSyntheticEvent(UIEventInterface);
        var lastMovementX;
        var lastMovementY;
        var lastMouseEvent;
        function updateMouseMovementPolyfillState(event) {
          if (event !== lastMouseEvent) {
            if (lastMouseEvent && event.type === "mousemove") {
              lastMovementX = event.screenX - lastMouseEvent.screenX;
              lastMovementY = event.screenY - lastMouseEvent.screenY;
            } else {
              lastMovementX = 0;
              lastMovementY = 0;
            }
            lastMouseEvent = event;
          }
        }
        var MouseEventInterface = _assign({}, UIEventInterface, {
          screenX: 0,
          screenY: 0,
          clientX: 0,
          clientY: 0,
          pageX: 0,
          pageY: 0,
          ctrlKey: 0,
          shiftKey: 0,
          altKey: 0,
          metaKey: 0,
          getModifierState: getEventModifierState,
          button: 0,
          buttons: 0,
          relatedTarget: function(event) {
            if (event.relatedTarget === void 0)
              return event.fromElement === event.srcElement ? event.toElement : event.fromElement;
            return event.relatedTarget;
          },
          movementX: function(event) {
            if ("movementX" in event) {
              return event.movementX;
            }
            updateMouseMovementPolyfillState(event);
            return lastMovementX;
          },
          movementY: function(event) {
            if ("movementY" in event) {
              return event.movementY;
            }
            return lastMovementY;
          }
        });
        var SyntheticMouseEvent = createSyntheticEvent(MouseEventInterface);
        var DragEventInterface = _assign({}, MouseEventInterface, {
          dataTransfer: 0
        });
        var SyntheticDragEvent = createSyntheticEvent(DragEventInterface);
        var FocusEventInterface = _assign({}, UIEventInterface, {
          relatedTarget: 0
        });
        var SyntheticFocusEvent = createSyntheticEvent(FocusEventInterface);
        var AnimationEventInterface = _assign({}, EventInterface, {
          animationName: 0,
          elapsedTime: 0,
          pseudoElement: 0
        });
        var SyntheticAnimationEvent = createSyntheticEvent(AnimationEventInterface);
        var ClipboardEventInterface = _assign({}, EventInterface, {
          clipboardData: function(event) {
            return "clipboardData" in event ? event.clipboardData : window.clipboardData;
          }
        });
        var SyntheticClipboardEvent = createSyntheticEvent(ClipboardEventInterface);
        var CompositionEventInterface = _assign({}, EventInterface, {
          data: 0
        });
        var SyntheticCompositionEvent = createSyntheticEvent(CompositionEventInterface);
        var SyntheticInputEvent = SyntheticCompositionEvent;
        var normalizeKey = {
          Esc: "Escape",
          Spacebar: " ",
          Left: "ArrowLeft",
          Up: "ArrowUp",
          Right: "ArrowRight",
          Down: "ArrowDown",
          Del: "Delete",
          Win: "OS",
          Menu: "ContextMenu",
          Apps: "ContextMenu",
          Scroll: "ScrollLock",
          MozPrintableKey: "Unidentified"
        };
        var translateToKey = {
          "8": "Backspace",
          "9": "Tab",
          "12": "Clear",
          "13": "Enter",
          "16": "Shift",
          "17": "Control",
          "18": "Alt",
          "19": "Pause",
          "20": "CapsLock",
          "27": "Escape",
          "32": " ",
          "33": "PageUp",
          "34": "PageDown",
          "35": "End",
          "36": "Home",
          "37": "ArrowLeft",
          "38": "ArrowUp",
          "39": "ArrowRight",
          "40": "ArrowDown",
          "45": "Insert",
          "46": "Delete",
          "112": "F1",
          "113": "F2",
          "114": "F3",
          "115": "F4",
          "116": "F5",
          "117": "F6",
          "118": "F7",
          "119": "F8",
          "120": "F9",
          "121": "F10",
          "122": "F11",
          "123": "F12",
          "144": "NumLock",
          "145": "ScrollLock",
          "224": "Meta"
        };
        function getEventKey(nativeEvent) {
          if (nativeEvent.key) {
            var key = normalizeKey[nativeEvent.key] || nativeEvent.key;
            if (key !== "Unidentified") {
              return key;
            }
          }
          if (nativeEvent.type === "keypress") {
            var charCode = getEventCharCode(nativeEvent);
            return charCode === 13 ? "Enter" : String.fromCharCode(charCode);
          }
          if (nativeEvent.type === "keydown" || nativeEvent.type === "keyup") {
            return translateToKey[nativeEvent.keyCode] || "Unidentified";
          }
          return "";
        }
        var modifierKeyToProp = {
          Alt: "altKey",
          Control: "ctrlKey",
          Meta: "metaKey",
          Shift: "shiftKey"
        };
        function modifierStateGetter(keyArg) {
          var syntheticEvent = this;
          var nativeEvent = syntheticEvent.nativeEvent;
          if (nativeEvent.getModifierState) {
            return nativeEvent.getModifierState(keyArg);
          }
          var keyProp = modifierKeyToProp[keyArg];
          return keyProp ? !!nativeEvent[keyProp] : false;
        }
        function getEventModifierState(nativeEvent) {
          return modifierStateGetter;
        }
        var KeyboardEventInterface = _assign({}, UIEventInterface, {
          key: getEventKey,
          code: 0,
          location: 0,
          ctrlKey: 0,
          shiftKey: 0,
          altKey: 0,
          metaKey: 0,
          repeat: 0,
          locale: 0,
          getModifierState: getEventModifierState,
          charCode: function(event) {
            if (event.type === "keypress") {
              return getEventCharCode(event);
            }
            return 0;
          },
          keyCode: function(event) {
            if (event.type === "keydown" || event.type === "keyup") {
              return event.keyCode;
            }
            return 0;
          },
          which: function(event) {
            if (event.type === "keypress") {
              return getEventCharCode(event);
            }
            if (event.type === "keydown" || event.type === "keyup") {
              return event.keyCode;
            }
            return 0;
          }
        });
        var SyntheticKeyboardEvent = createSyntheticEvent(KeyboardEventInterface);
        var PointerEventInterface = _assign({}, MouseEventInterface, {
          pointerId: 0,
          width: 0,
          height: 0,
          pressure: 0,
          tangentialPressure: 0,
          tiltX: 0,
          tiltY: 0,
          twist: 0,
          pointerType: 0,
          isPrimary: 0
        });
        var SyntheticPointerEvent = createSyntheticEvent(PointerEventInterface);
        var TouchEventInterface = _assign({}, UIEventInterface, {
          touches: 0,
          targetTouches: 0,
          changedTouches: 0,
          altKey: 0,
          metaKey: 0,
          ctrlKey: 0,
          shiftKey: 0,
          getModifierState: getEventModifierState
        });
        var SyntheticTouchEvent = createSyntheticEvent(TouchEventInterface);
        var TransitionEventInterface = _assign({}, EventInterface, {
          propertyName: 0,
          elapsedTime: 0,
          pseudoElement: 0
        });
        var SyntheticTransitionEvent = createSyntheticEvent(TransitionEventInterface);
        var WheelEventInterface = _assign({}, MouseEventInterface, {
          deltaX: function(event) {
            return "deltaX" in event ? event.deltaX : "wheelDeltaX" in event ? -event.wheelDeltaX : 0;
          },
          deltaY: function(event) {
            return "deltaY" in event ? event.deltaY : "wheelDeltaY" in event ? -event.wheelDeltaY : "wheelDelta" in event ? -event.wheelDelta : 0;
          },
          deltaZ: 0,
          deltaMode: 0
        });
        var SyntheticWheelEvent = createSyntheticEvent(WheelEventInterface);
        var END_KEYCODES = [9, 13, 27, 32];
        var START_KEYCODE = 229;
        var canUseCompositionEvent = canUseDOM && "CompositionEvent" in window;
        var documentMode = null;
        if (canUseDOM && "documentMode" in document) {
          documentMode = document.documentMode;
        }
        var canUseTextInputEvent = canUseDOM && "TextEvent" in window && !documentMode;
        var useFallbackCompositionData = canUseDOM && (!canUseCompositionEvent || documentMode && documentMode > 8 && documentMode <= 11);
        var SPACEBAR_CODE = 32;
        var SPACEBAR_CHAR = String.fromCharCode(SPACEBAR_CODE);
        function registerEvents() {
          registerTwoPhaseEvent("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]);
          registerTwoPhaseEvent("onCompositionEnd", ["compositionend", "focusout", "keydown", "keypress", "keyup", "mousedown"]);
          registerTwoPhaseEvent("onCompositionStart", ["compositionstart", "focusout", "keydown", "keypress", "keyup", "mousedown"]);
          registerTwoPhaseEvent("onCompositionUpdate", ["compositionupdate", "focusout", "keydown", "keypress", "keyup", "mousedown"]);
        }
        var hasSpaceKeypress = false;
        function isKeypressCommand(nativeEvent) {
          return (nativeEvent.ctrlKey || nativeEvent.altKey || nativeEvent.metaKey) && !(nativeEvent.ctrlKey && nativeEvent.altKey);
        }
        function getCompositionEventType(domEventName) {
          switch (domEventName) {
            case "compositionstart":
              return "onCompositionStart";
            case "compositionend":
              return "onCompositionEnd";
            case "compositionupdate":
              return "onCompositionUpdate";
          }
        }
        function isFallbackCompositionStart(domEventName, nativeEvent) {
          return domEventName === "keydown" && nativeEvent.keyCode === START_KEYCODE;
        }
        function isFallbackCompositionEnd(domEventName, nativeEvent) {
          switch (domEventName) {
            case "keyup":
              return END_KEYCODES.indexOf(nativeEvent.keyCode) !== -1;
            case "keydown":
              return nativeEvent.keyCode !== START_KEYCODE;
            case "keypress":
            case "mousedown":
            case "focusout":
              return true;
            default:
              return false;
          }
        }
        function getDataFromCustomEvent(nativeEvent) {
          var detail = nativeEvent.detail;
          if (typeof detail === "object" && "data" in detail) {
            return detail.data;
          }
          return null;
        }
        function isUsingKoreanIME(nativeEvent) {
          return nativeEvent.locale === "ko";
        }
        var isComposing = false;
        function extractCompositionEvent(dispatchQueue, domEventName, targetInst, nativeEvent, nativeEventTarget) {
          var eventType;
          var fallbackData;
          if (canUseCompositionEvent) {
            eventType = getCompositionEventType(domEventName);
          } else if (!isComposing) {
            if (isFallbackCompositionStart(domEventName, nativeEvent)) {
              eventType = "onCompositionStart";
            }
          } else if (isFallbackCompositionEnd(domEventName, nativeEvent)) {
            eventType = "onCompositionEnd";
          }
          if (!eventType) {
            return null;
          }
          if (useFallbackCompositionData && !isUsingKoreanIME(nativeEvent)) {
            if (!isComposing && eventType === "onCompositionStart") {
              isComposing = initialize(nativeEventTarget);
            } else if (eventType === "onCompositionEnd") {
              if (isComposing) {
                fallbackData = getData();
              }
            }
          }
          var listeners = accumulateTwoPhaseListeners(targetInst, eventType);
          if (listeners.length > 0) {
            var event = new SyntheticCompositionEvent(eventType, domEventName, null, nativeEvent, nativeEventTarget);
            dispatchQueue.push({
              event,
              listeners
            });
            if (fallbackData) {
              event.data = fallbackData;
            } else {
              var customData = getDataFromCustomEvent(nativeEvent);
              if (customData !== null) {
                event.data = customData;
              }
            }
          }
        }
        function getNativeBeforeInputChars(domEventName, nativeEvent) {
          switch (domEventName) {
            case "compositionend":
              return getDataFromCustomEvent(nativeEvent);
            case "keypress":
              var which = nativeEvent.which;
              if (which !== SPACEBAR_CODE) {
                return null;
              }
              hasSpaceKeypress = true;
              return SPACEBAR_CHAR;
            case "textInput":
              var chars = nativeEvent.data;
              if (chars === SPACEBAR_CHAR && hasSpaceKeypress) {
                return null;
              }
              return chars;
            default:
              return null;
          }
        }
        function getFallbackBeforeInputChars(domEventName, nativeEvent) {
          if (isComposing) {
            if (domEventName === "compositionend" || !canUseCompositionEvent && isFallbackCompositionEnd(domEventName, nativeEvent)) {
              var chars = getData();
              reset();
              isComposing = false;
              return chars;
            }
            return null;
          }
          switch (domEventName) {
            case "paste":
              return null;
            case "keypress":
              if (!isKeypressCommand(nativeEvent)) {
                if (nativeEvent.char && nativeEvent.char.length > 1) {
                  return nativeEvent.char;
                } else if (nativeEvent.which) {
                  return String.fromCharCode(nativeEvent.which);
                }
              }
              return null;
            case "compositionend":
              return useFallbackCompositionData && !isUsingKoreanIME(nativeEvent) ? null : nativeEvent.data;
            default:
              return null;
          }
        }
        function extractBeforeInputEvent(dispatchQueue, domEventName, targetInst, nativeEvent, nativeEventTarget) {
          var chars;
          if (canUseTextInputEvent) {
            chars = getNativeBeforeInputChars(domEventName, nativeEvent);
          } else {
            chars = getFallbackBeforeInputChars(domEventName, nativeEvent);
          }
          if (!chars) {
            return null;
          }
          var listeners = accumulateTwoPhaseListeners(targetInst, "onBeforeInput");
          if (listeners.length > 0) {
            var event = new SyntheticInputEvent("onBeforeInput", "beforeinput", null, nativeEvent, nativeEventTarget);
            dispatchQueue.push({
              event,
              listeners
            });
            event.data = chars;
          }
        }
        function extractEvents(dispatchQueue, domEventName, targetInst, nativeEvent, nativeEventTarget, eventSystemFlags, targetContainer) {
          extractCompositionEvent(dispatchQueue, domEventName, targetInst, nativeEvent, nativeEventTarget);
          extractBeforeInputEvent(dispatchQueue, domEventName, targetInst, nativeEvent, nativeEventTarget);
        }
        var supportedInputTypes = {
          color: true,
          date: true,
          datetime: true,
          "datetime-local": true,
          email: true,
          month: true,
          number: true,
          password: true,
          range: true,
          search: true,
          tel: true,
          text: true,
          time: true,
          url: true,
          week: true
        };
        function isTextInputElement(elem) {
          var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();
          if (nodeName === "input") {
            return !!supportedInputTypes[elem.type];
          }
          if (nodeName === "textarea") {
            return true;
          }
          return false;
        }
        function isEventSupported(eventNameSuffix) {
          if (!canUseDOM) {
            return false;
          }
          var eventName = "on" + eventNameSuffix;
          var isSupported = eventName in document;
          if (!isSupported) {
            var element = document.createElement("div");
            element.setAttribute(eventName, "return;");
            isSupported = typeof element[eventName] === "function";
          }
          return isSupported;
        }
        function registerEvents$1() {
          registerTwoPhaseEvent("onChange", ["change", "click", "focusin", "focusout", "input", "keydown", "keyup", "selectionchange"]);
        }
        function createAndAccumulateChangeEvent(dispatchQueue, inst, nativeEvent, target) {
          enqueueStateRestore(target);
          var listeners = accumulateTwoPhaseListeners(inst, "onChange");
          if (listeners.length > 0) {
            var event = new SyntheticEvent("onChange", "change", null, nativeEvent, target);
            dispatchQueue.push({
              event,
              listeners
            });
          }
        }
        var activeElement = null;
        var activeElementInst = null;
        function shouldUseChangeEvent(elem) {
          var nodeName = elem.nodeName && elem.nodeName.toLowerCase();
          return nodeName === "select" || nodeName === "input" && elem.type === "file";
        }
        function manualDispatchChangeEvent(nativeEvent) {
          var dispatchQueue = [];
          createAndAccumulateChangeEvent(dispatchQueue, activeElementInst, nativeEvent, getEventTarget(nativeEvent));
          batchedUpdates(runEventInBatch, dispatchQueue);
        }
        function runEventInBatch(dispatchQueue) {
          processDispatchQueue(dispatchQueue, 0);
        }
        function getInstIfValueChanged(targetInst) {
          var targetNode = getNodeFromInstance(targetInst);
          if (updateValueIfChanged(targetNode)) {
            return targetInst;
          }
        }
        function getTargetInstForChangeEvent(domEventName, targetInst) {
          if (domEventName === "change") {
            return targetInst;
          }
        }
        var isInputEventSupported = false;
        if (canUseDOM) {
          isInputEventSupported = isEventSupported("input") && (!document.documentMode || document.documentMode > 9);
        }
        function startWatchingForValueChange(target, targetInst) {
          activeElement = target;
          activeElementInst = targetInst;
          activeElement.attachEvent("onpropertychange", handlePropertyChange);
        }
        function stopWatchingForValueChange() {
          if (!activeElement) {
            return;
          }
          activeElement.detachEvent("onpropertychange", handlePropertyChange);
          activeElement = null;
          activeElementInst = null;
        }
        function handlePropertyChange(nativeEvent) {
          if (nativeEvent.propertyName !== "value") {
            return;
          }
          if (getInstIfValueChanged(activeElementInst)) {
            manualDispatchChangeEvent(nativeEvent);
          }
        }
        function handleEventsForInputEventPolyfill(domEventName, target, targetInst) {
          if (domEventName === "focusin") {
            stopWatchingForValueChange();
            startWatchingForValueChange(target, targetInst);
          } else if (domEventName === "focusout") {
            stopWatchingForValueChange();
          }
        }
        function getTargetInstForInputEventPolyfill(domEventName, targetInst) {
          if (domEventName === "selectionchange" || domEventName === "keyup" || domEventName === "keydown") {
            return getInstIfValueChanged(activeElementInst);
          }
        }
        function shouldUseClickEvent(elem) {
          var nodeName = elem.nodeName;
          return nodeName && nodeName.toLowerCase() === "input" && (elem.type === "checkbox" || elem.type === "radio");
        }
        function getTargetInstForClickEvent(domEventName, targetInst) {
          if (domEventName === "click") {
            return getInstIfValueChanged(targetInst);
          }
        }
        function getTargetInstForInputOrChangeEvent(domEventName, targetInst) {
          if (domEventName === "input" || domEventName === "change") {
            return getInstIfValueChanged(targetInst);
          }
        }
        function handleControlledInputBlur(node) {
          var state = node._wrapperState;
          if (!state || !state.controlled || node.type !== "number") {
            return;
          }
          {
            setDefaultValue(node, "number", node.value);
          }
        }
        function extractEvents$1(dispatchQueue, domEventName, targetInst, nativeEvent, nativeEventTarget, eventSystemFlags, targetContainer) {
          var targetNode = targetInst ? getNodeFromInstance(targetInst) : window;
          var getTargetInstFunc, handleEventFunc;
          if (shouldUseChangeEvent(targetNode)) {
            getTargetInstFunc = getTargetInstForChangeEvent;
          } else if (isTextInputElement(targetNode)) {
            if (isInputEventSupported) {
              getTargetInstFunc = getTargetInstForInputOrChangeEvent;
            } else {
              getTargetInstFunc = getTargetInstForInputEventPolyfill;
              handleEventFunc = handleEventsForInputEventPolyfill;
            }
          } else if (shouldUseClickEvent(targetNode)) {
            getTargetInstFunc = getTargetInstForClickEvent;
          }
          if (getTargetInstFunc) {
            var inst = getTargetInstFunc(domEventName, targetInst);
            if (inst) {
              createAndAccumulateChangeEvent(dispatchQueue, inst, nativeEvent, nativeEventTarget);
              return;
            }
          }
          if (handleEventFunc) {
            handleEventFunc(domEventName, targetNode, targetInst);
          }
          if (domEventName === "focusout") {
            handleControlledInputBlur(targetNode);
          }
        }
        function registerEvents$2() {
          registerDirectEvent("onMouseEnter", ["mouseout", "mouseover"]);
          registerDirectEvent("onMouseLeave", ["mouseout", "mouseover"]);
          registerDirectEvent("onPointerEnter", ["pointerout", "pointerover"]);
          registerDirectEvent("onPointerLeave", ["pointerout", "pointerover"]);
        }
        function extractEvents$2(dispatchQueue, domEventName, targetInst, nativeEvent, nativeEventTarget, eventSystemFlags, targetContainer) {
          var isOverEvent = domEventName === "mouseover" || domEventName === "pointerover";
          var isOutEvent = domEventName === "mouseout" || domEventName === "pointerout";
          if (isOverEvent && (eventSystemFlags & IS_REPLAYED) === 0) {
            var related = nativeEvent.relatedTarget || nativeEvent.fromElement;
            if (related) {
              if (getClosestInstanceFromNode(related) || isContainerMarkedAsRoot(related)) {
                return;
              }
            }
          }
          if (!isOutEvent && !isOverEvent) {
            return;
          }
          var win;
          if (nativeEventTarget.window === nativeEventTarget) {
            win = nativeEventTarget;
          } else {
            var doc = nativeEventTarget.ownerDocument;
            if (doc) {
              win = doc.defaultView || doc.parentWindow;
            } else {
              win = window;
            }
          }
          var from;
          var to;
          if (isOutEvent) {
            var _related = nativeEvent.relatedTarget || nativeEvent.toElement;
            from = targetInst;
            to = _related ? getClosestInstanceFromNode(_related) : null;
            if (to !== null) {
              var nearestMounted = getNearestMountedFiber(to);
              if (to !== nearestMounted || to.tag !== HostComponent && to.tag !== HostText) {
                to = null;
              }
            }
          } else {
            from = null;
            to = targetInst;
          }
          if (from === to) {
            return;
          }
          var SyntheticEventCtor = SyntheticMouseEvent;
          var leaveEventType = "onMouseLeave";
          var enterEventType = "onMouseEnter";
          var eventTypePrefix = "mouse";
          if (domEventName === "pointerout" || domEventName === "pointerover") {
            SyntheticEventCtor = SyntheticPointerEvent;
            leaveEventType = "onPointerLeave";
            enterEventType = "onPointerEnter";
            eventTypePrefix = "pointer";
          }
          var fromNode = from == null ? win : getNodeFromInstance(from);
          var toNode = to == null ? win : getNodeFromInstance(to);
          var leave = new SyntheticEventCtor(leaveEventType, eventTypePrefix + "leave", from, nativeEvent, nativeEventTarget);
          leave.target = fromNode;
          leave.relatedTarget = toNode;
          var enter = null;
          var nativeTargetInst = getClosestInstanceFromNode(nativeEventTarget);
          if (nativeTargetInst === targetInst) {
            var enterEvent = new SyntheticEventCtor(enterEventType, eventTypePrefix + "enter", to, nativeEvent, nativeEventTarget);
            enterEvent.target = toNode;
            enterEvent.relatedTarget = fromNode;
            enter = enterEvent;
          }
          accumulateEnterLeaveTwoPhaseListeners(dispatchQueue, leave, enter, from, to);
        }
        function is(x3, y2) {
          return x3 === y2 && (x3 !== 0 || 1 / x3 === 1 / y2) || x3 !== x3 && y2 !== y2;
        }
        var objectIs = typeof Object.is === "function" ? Object.is : is;
        var hasOwnProperty$2 = Object.prototype.hasOwnProperty;
        function shallowEqual(objA, objB) {
          if (objectIs(objA, objB)) {
            return true;
          }
          if (typeof objA !== "object" || objA === null || typeof objB !== "object" || objB === null) {
            return false;
          }
          var keysA = Object.keys(objA);
          var keysB = Object.keys(objB);
          if (keysA.length !== keysB.length) {
            return false;
          }
          for (var i3 = 0; i3 < keysA.length; i3++) {
            if (!hasOwnProperty$2.call(objB, keysA[i3]) || !objectIs(objA[keysA[i3]], objB[keysA[i3]])) {
              return false;
            }
          }
          return true;
        }
        function getLeafNode(node) {
          while (node && node.firstChild) {
            node = node.firstChild;
          }
          return node;
        }
        function getSiblingNode(node) {
          while (node) {
            if (node.nextSibling) {
              return node.nextSibling;
            }
            node = node.parentNode;
          }
        }
        function getNodeForCharacterOffset(root2, offset) {
          var node = getLeafNode(root2);
          var nodeStart = 0;
          var nodeEnd = 0;
          while (node) {
            if (node.nodeType === TEXT_NODE) {
              nodeEnd = nodeStart + node.textContent.length;
              if (nodeStart <= offset && nodeEnd >= offset) {
                return {
                  node,
                  offset: offset - nodeStart
                };
              }
              nodeStart = nodeEnd;
            }
            node = getLeafNode(getSiblingNode(node));
          }
        }
        function getOffsets(outerNode) {
          var ownerDocument = outerNode.ownerDocument;
          var win = ownerDocument && ownerDocument.defaultView || window;
          var selection = win.getSelection && win.getSelection();
          if (!selection || selection.rangeCount === 0) {
            return null;
          }
          var anchorNode = selection.anchorNode, anchorOffset = selection.anchorOffset, focusNode = selection.focusNode, focusOffset = selection.focusOffset;
          try {
            anchorNode.nodeType;
            focusNode.nodeType;
          } catch (e) {
            return null;
          }
          return getModernOffsetsFromPoints(outerNode, anchorNode, anchorOffset, focusNode, focusOffset);
        }
        function getModernOffsetsFromPoints(outerNode, anchorNode, anchorOffset, focusNode, focusOffset) {
          var length = 0;
          var start = -1;
          var end = -1;
          var indexWithinAnchor = 0;
          var indexWithinFocus = 0;
          var node = outerNode;
          var parentNode = null;
          outer:
            while (true) {
              var next = null;
              while (true) {
                if (node === anchorNode && (anchorOffset === 0 || node.nodeType === TEXT_NODE)) {
                  start = length + anchorOffset;
                }
                if (node === focusNode && (focusOffset === 0 || node.nodeType === TEXT_NODE)) {
                  end = length + focusOffset;
                }
                if (node.nodeType === TEXT_NODE) {
                  length += node.nodeValue.length;
                }
                if ((next = node.firstChild) === null) {
                  break;
                }
                parentNode = node;
                node = next;
              }
              while (true) {
                if (node === outerNode) {
                  break outer;
                }
                if (parentNode === anchorNode && ++indexWithinAnchor === anchorOffset) {
                  start = length;
                }
                if (parentNode === focusNode && ++indexWithinFocus === focusOffset) {
                  end = length;
                }
                if ((next = node.nextSibling) !== null) {
                  break;
                }
                node = parentNode;
                parentNode = node.parentNode;
              }
              node = next;
            }
          if (start === -1 || end === -1) {
            return null;
          }
          return {
            start,
            end
          };
        }
        function setOffsets(node, offsets) {
          var doc = node.ownerDocument || document;
          var win = doc && doc.defaultView || window;
          if (!win.getSelection) {
            return;
          }
          var selection = win.getSelection();
          var length = node.textContent.length;
          var start = Math.min(offsets.start, length);
          var end = offsets.end === void 0 ? start : Math.min(offsets.end, length);
          if (!selection.extend && start > end) {
            var temp = end;
            end = start;
            start = temp;
          }
          var startMarker = getNodeForCharacterOffset(node, start);
          var endMarker = getNodeForCharacterOffset(node, end);
          if (startMarker && endMarker) {
            if (selection.rangeCount === 1 && selection.anchorNode === startMarker.node && selection.anchorOffset === startMarker.offset && selection.focusNode === endMarker.node && selection.focusOffset === endMarker.offset) {
              return;
            }
            var range = doc.createRange();
            range.setStart(startMarker.node, startMarker.offset);
            selection.removeAllRanges();
            if (start > end) {
              selection.addRange(range);
              selection.extend(endMarker.node, endMarker.offset);
            } else {
              range.setEnd(endMarker.node, endMarker.offset);
              selection.addRange(range);
            }
          }
        }
        function isTextNode(node) {
          return node && node.nodeType === TEXT_NODE;
        }
        function containsNode(outerNode, innerNode) {
          if (!outerNode || !innerNode) {
            return false;
          } else if (outerNode === innerNode) {
            return true;
          } else if (isTextNode(outerNode)) {
            return false;
          } else if (isTextNode(innerNode)) {
            return containsNode(outerNode, innerNode.parentNode);
          } else if ("contains" in outerNode) {
            return outerNode.contains(innerNode);
          } else if (outerNode.compareDocumentPosition) {
            return !!(outerNode.compareDocumentPosition(innerNode) & 16);
          } else {
            return false;
          }
        }
        function isInDocument(node) {
          return node && node.ownerDocument && containsNode(node.ownerDocument.documentElement, node);
        }
        function isSameOriginFrame(iframe) {
          try {
            return typeof iframe.contentWindow.location.href === "string";
          } catch (err) {
            return false;
          }
        }
        function getActiveElementDeep() {
          var win = window;
          var element = getActiveElement();
          while (element instanceof win.HTMLIFrameElement) {
            if (isSameOriginFrame(element)) {
              win = element.contentWindow;
            } else {
              return element;
            }
            element = getActiveElement(win.document);
          }
          return element;
        }
        function hasSelectionCapabilities(elem) {
          var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();
          return nodeName && (nodeName === "input" && (elem.type === "text" || elem.type === "search" || elem.type === "tel" || elem.type === "url" || elem.type === "password") || nodeName === "textarea" || elem.contentEditable === "true");
        }
        function getSelectionInformation() {
          var focusedElem = getActiveElementDeep();
          return {
            focusedElem,
            selectionRange: hasSelectionCapabilities(focusedElem) ? getSelection(focusedElem) : null
          };
        }
        function restoreSelection(priorSelectionInformation) {
          var curFocusedElem = getActiveElementDeep();
          var priorFocusedElem = priorSelectionInformation.focusedElem;
          var priorSelectionRange = priorSelectionInformation.selectionRange;
          if (curFocusedElem !== priorFocusedElem && isInDocument(priorFocusedElem)) {
            if (priorSelectionRange !== null && hasSelectionCapabilities(priorFocusedElem)) {
              setSelection(priorFocusedElem, priorSelectionRange);
            }
            var ancestors = [];
            var ancestor = priorFocusedElem;
            while (ancestor = ancestor.parentNode) {
              if (ancestor.nodeType === ELEMENT_NODE) {
                ancestors.push({
                  element: ancestor,
                  left: ancestor.scrollLeft,
                  top: ancestor.scrollTop
                });
              }
            }
            if (typeof priorFocusedElem.focus === "function") {
              priorFocusedElem.focus();
            }
            for (var i3 = 0; i3 < ancestors.length; i3++) {
              var info = ancestors[i3];
              info.element.scrollLeft = info.left;
              info.element.scrollTop = info.top;
            }
          }
        }
        function getSelection(input) {
          var selection;
          if ("selectionStart" in input) {
            selection = {
              start: input.selectionStart,
              end: input.selectionEnd
            };
          } else {
            selection = getOffsets(input);
          }
          return selection || {
            start: 0,
            end: 0
          };
        }
        function setSelection(input, offsets) {
          var start = offsets.start;
          var end = offsets.end;
          if (end === void 0) {
            end = start;
          }
          if ("selectionStart" in input) {
            input.selectionStart = start;
            input.selectionEnd = Math.min(end, input.value.length);
          } else {
            setOffsets(input, offsets);
          }
        }
        var skipSelectionChangeEvent = canUseDOM && "documentMode" in document && document.documentMode <= 11;
        function registerEvents$3() {
          registerTwoPhaseEvent("onSelect", ["focusout", "contextmenu", "dragend", "focusin", "keydown", "keyup", "mousedown", "mouseup", "selectionchange"]);
        }
        var activeElement$1 = null;
        var activeElementInst$1 = null;
        var lastSelection = null;
        var mouseDown = false;
        function getSelection$1(node) {
          if ("selectionStart" in node && hasSelectionCapabilities(node)) {
            return {
              start: node.selectionStart,
              end: node.selectionEnd
            };
          } else {
            var win = node.ownerDocument && node.ownerDocument.defaultView || window;
            var selection = win.getSelection();
            return {
              anchorNode: selection.anchorNode,
              anchorOffset: selection.anchorOffset,
              focusNode: selection.focusNode,
              focusOffset: selection.focusOffset
            };
          }
        }
        function getEventTargetDocument(eventTarget) {
          return eventTarget.window === eventTarget ? eventTarget.document : eventTarget.nodeType === DOCUMENT_NODE ? eventTarget : eventTarget.ownerDocument;
        }
        function constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget) {
          var doc = getEventTargetDocument(nativeEventTarget);
          if (mouseDown || activeElement$1 == null || activeElement$1 !== getActiveElement(doc)) {
            return;
          }
          var currentSelection = getSelection$1(activeElement$1);
          if (!lastSelection || !shallowEqual(lastSelection, currentSelection)) {
            lastSelection = currentSelection;
            var listeners = accumulateTwoPhaseListeners(activeElementInst$1, "onSelect");
            if (listeners.length > 0) {
              var event = new SyntheticEvent("onSelect", "select", null, nativeEvent, nativeEventTarget);
              dispatchQueue.push({
                event,
                listeners
              });
              event.target = activeElement$1;
            }
          }
        }
        function extractEvents$3(dispatchQueue, domEventName, targetInst, nativeEvent, nativeEventTarget, eventSystemFlags, targetContainer) {
          var targetNode = targetInst ? getNodeFromInstance(targetInst) : window;
          switch (domEventName) {
            case "focusin":
              if (isTextInputElement(targetNode) || targetNode.contentEditable === "true") {
                activeElement$1 = targetNode;
                activeElementInst$1 = targetInst;
                lastSelection = null;
              }
              break;
            case "focusout":
              activeElement$1 = null;
              activeElementInst$1 = null;
              lastSelection = null;
              break;
            case "mousedown":
              mouseDown = true;
              break;
            case "contextmenu":
            case "mouseup":
            case "dragend":
              mouseDown = false;
              constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);
              break;
            case "selectionchange":
              if (skipSelectionChangeEvent) {
                break;
              }
            case "keydown":
            case "keyup":
              constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);
          }
        }
        function extractEvents$4(dispatchQueue, domEventName, targetInst, nativeEvent, nativeEventTarget, eventSystemFlags, targetContainer) {
          var reactName = topLevelEventsToReactNames.get(domEventName);
          if (reactName === void 0) {
            return;
          }
          var SyntheticEventCtor = SyntheticEvent;
          var reactEventType = domEventName;
          switch (domEventName) {
            case "keypress":
              if (getEventCharCode(nativeEvent) === 0) {
                return;
              }
            case "keydown":
            case "keyup":
              SyntheticEventCtor = SyntheticKeyboardEvent;
              break;
            case "focusin":
              reactEventType = "focus";
              SyntheticEventCtor = SyntheticFocusEvent;
              break;
            case "focusout":
              reactEventType = "blur";
              SyntheticEventCtor = SyntheticFocusEvent;
              break;
            case "beforeblur":
            case "afterblur":
              SyntheticEventCtor = SyntheticFocusEvent;
              break;
            case "click":
              if (nativeEvent.button === 2) {
                return;
              }
            case "auxclick":
            case "dblclick":
            case "mousedown":
            case "mousemove":
            case "mouseup":
            case "mouseout":
            case "mouseover":
            case "contextmenu":
              SyntheticEventCtor = SyntheticMouseEvent;
              break;
            case "drag":
            case "dragend":
            case "dragenter":
            case "dragexit":
            case "dragleave":
            case "dragover":
            case "dragstart":
            case "drop":
              SyntheticEventCtor = SyntheticDragEvent;
              break;
            case "touchcancel":
            case "touchend":
            case "touchmove":
            case "touchstart":
              SyntheticEventCtor = SyntheticTouchEvent;
              break;
            case ANIMATION_END:
            case ANIMATION_ITERATION:
            case ANIMATION_START:
              SyntheticEventCtor = SyntheticAnimationEvent;
              break;
            case TRANSITION_END:
              SyntheticEventCtor = SyntheticTransitionEvent;
              break;
            case "scroll":
              SyntheticEventCtor = SyntheticUIEvent;
              break;
            case "wheel":
              SyntheticEventCtor = SyntheticWheelEvent;
              break;
            case "copy":
            case "cut":
            case "paste":
              SyntheticEventCtor = SyntheticClipboardEvent;
              break;
            case "gotpointercapture":
            case "lostpointercapture":
            case "pointercancel":
            case "pointerdown":
            case "pointermove":
            case "pointerout":
            case "pointerover":
            case "pointerup":
              SyntheticEventCtor = SyntheticPointerEvent;
              break;
          }
          var inCapturePhase = (eventSystemFlags & IS_CAPTURE_PHASE) !== 0;
          {
            var accumulateTargetOnly = !inCapturePhase && domEventName === "scroll";
            var _listeners = accumulateSinglePhaseListeners(targetInst, reactName, nativeEvent.type, inCapturePhase, accumulateTargetOnly);
            if (_listeners.length > 0) {
              var _event = new SyntheticEventCtor(reactName, reactEventType, null, nativeEvent, nativeEventTarget);
              dispatchQueue.push({
                event: _event,
                listeners: _listeners
              });
            }
          }
        }
        registerSimpleEvents();
        registerEvents$2();
        registerEvents$1();
        registerEvents$3();
        registerEvents();
        function extractEvents$5(dispatchQueue, domEventName, targetInst, nativeEvent, nativeEventTarget, eventSystemFlags, targetContainer) {
          extractEvents$4(dispatchQueue, domEventName, targetInst, nativeEvent, nativeEventTarget, eventSystemFlags);
          var shouldProcessPolyfillPlugins = (eventSystemFlags & SHOULD_NOT_PROCESS_POLYFILL_EVENT_PLUGINS) === 0;
          if (shouldProcessPolyfillPlugins) {
            extractEvents$2(dispatchQueue, domEventName, targetInst, nativeEvent, nativeEventTarget, eventSystemFlags);
            extractEvents$1(dispatchQueue, domEventName, targetInst, nativeEvent, nativeEventTarget);
            extractEvents$3(dispatchQueue, domEventName, targetInst, nativeEvent, nativeEventTarget);
            extractEvents(dispatchQueue, domEventName, targetInst, nativeEvent, nativeEventTarget);
          }
        }
        var mediaEventTypes = ["abort", "canplay", "canplaythrough", "durationchange", "emptied", "encrypted", "ended", "error", "loadeddata", "loadedmetadata", "loadstart", "pause", "play", "playing", "progress", "ratechange", "seeked", "seeking", "stalled", "suspend", "timeupdate", "volumechange", "waiting"];
        var nonDelegatedEvents = new Set(["cancel", "close", "invalid", "load", "scroll", "toggle"].concat(mediaEventTypes));
        function executeDispatch(event, listener, currentTarget) {
          var type = event.type || "unknown-event";
          event.currentTarget = currentTarget;
          invokeGuardedCallbackAndCatchFirstError(type, listener, void 0, event);
          event.currentTarget = null;
        }
        function processDispatchQueueItemsInOrder(event, dispatchListeners, inCapturePhase) {
          var previousInstance;
          if (inCapturePhase) {
            for (var i3 = dispatchListeners.length - 1; i3 >= 0; i3--) {
              var _dispatchListeners$i = dispatchListeners[i3], instance = _dispatchListeners$i.instance, currentTarget = _dispatchListeners$i.currentTarget, listener = _dispatchListeners$i.listener;
              if (instance !== previousInstance && event.isPropagationStopped()) {
                return;
              }
              executeDispatch(event, listener, currentTarget);
              previousInstance = instance;
            }
          } else {
            for (var _i = 0; _i < dispatchListeners.length; _i++) {
              var _dispatchListeners$_i = dispatchListeners[_i], _instance = _dispatchListeners$_i.instance, _currentTarget = _dispatchListeners$_i.currentTarget, _listener = _dispatchListeners$_i.listener;
              if (_instance !== previousInstance && event.isPropagationStopped()) {
                return;
              }
              executeDispatch(event, _listener, _currentTarget);
              previousInstance = _instance;
            }
          }
        }
        function processDispatchQueue(dispatchQueue, eventSystemFlags) {
          var inCapturePhase = (eventSystemFlags & IS_CAPTURE_PHASE) !== 0;
          for (var i3 = 0; i3 < dispatchQueue.length; i3++) {
            var _dispatchQueue$i = dispatchQueue[i3], event = _dispatchQueue$i.event, listeners = _dispatchQueue$i.listeners;
            processDispatchQueueItemsInOrder(event, listeners, inCapturePhase);
          }
          rethrowCaughtError();
        }
        function dispatchEventsForPlugins(domEventName, eventSystemFlags, nativeEvent, targetInst, targetContainer) {
          var nativeEventTarget = getEventTarget(nativeEvent);
          var dispatchQueue = [];
          extractEvents$5(dispatchQueue, domEventName, targetInst, nativeEvent, nativeEventTarget, eventSystemFlags);
          processDispatchQueue(dispatchQueue, eventSystemFlags);
        }
        function listenToNonDelegatedEvent(domEventName, targetElement) {
          var isCapturePhaseListener = false;
          var listenerSet = getEventListenerSet(targetElement);
          var listenerSetKey = getListenerSetKey(domEventName, isCapturePhaseListener);
          if (!listenerSet.has(listenerSetKey)) {
            addTrappedEventListener(targetElement, domEventName, IS_NON_DELEGATED, isCapturePhaseListener);
            listenerSet.add(listenerSetKey);
          }
        }
        var listeningMarker = "_reactListening" + Math.random().toString(36).slice(2);
        function listenToAllSupportedEvents(rootContainerElement) {
          {
            if (rootContainerElement[listeningMarker]) {
              return;
            }
            rootContainerElement[listeningMarker] = true;
            allNativeEvents.forEach(function(domEventName) {
              if (!nonDelegatedEvents.has(domEventName)) {
                listenToNativeEvent(domEventName, false, rootContainerElement, null);
              }
              listenToNativeEvent(domEventName, true, rootContainerElement, null);
            });
          }
        }
        function listenToNativeEvent(domEventName, isCapturePhaseListener, rootContainerElement, targetElement) {
          var eventSystemFlags = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 0;
          var target = rootContainerElement;
          if (domEventName === "selectionchange" && rootContainerElement.nodeType !== DOCUMENT_NODE) {
            target = rootContainerElement.ownerDocument;
          }
          if (targetElement !== null && !isCapturePhaseListener && nonDelegatedEvents.has(domEventName)) {
            if (domEventName !== "scroll") {
              return;
            }
            eventSystemFlags |= IS_NON_DELEGATED;
            target = targetElement;
          }
          var listenerSet = getEventListenerSet(target);
          var listenerSetKey = getListenerSetKey(domEventName, isCapturePhaseListener);
          if (!listenerSet.has(listenerSetKey)) {
            if (isCapturePhaseListener) {
              eventSystemFlags |= IS_CAPTURE_PHASE;
            }
            addTrappedEventListener(target, domEventName, eventSystemFlags, isCapturePhaseListener);
            listenerSet.add(listenerSetKey);
          }
        }
        function addTrappedEventListener(targetContainer, domEventName, eventSystemFlags, isCapturePhaseListener, isDeferredListenerForLegacyFBSupport) {
          var listener = createEventListenerWrapperWithPriority(targetContainer, domEventName, eventSystemFlags);
          var isPassiveListener = void 0;
          if (passiveBrowserEventsSupported) {
            if (domEventName === "touchstart" || domEventName === "touchmove" || domEventName === "wheel") {
              isPassiveListener = true;
            }
          }
          targetContainer = targetContainer;
          var unsubscribeListener;
          if (isCapturePhaseListener) {
            if (isPassiveListener !== void 0) {
              unsubscribeListener = addEventCaptureListenerWithPassiveFlag(targetContainer, domEventName, listener, isPassiveListener);
            } else {
              unsubscribeListener = addEventCaptureListener(targetContainer, domEventName, listener);
            }
          } else {
            if (isPassiveListener !== void 0) {
              unsubscribeListener = addEventBubbleListenerWithPassiveFlag(targetContainer, domEventName, listener, isPassiveListener);
            } else {
              unsubscribeListener = addEventBubbleListener(targetContainer, domEventName, listener);
            }
          }
        }
        function isMatchingRootContainer(grandContainer, targetContainer) {
          return grandContainer === targetContainer || grandContainer.nodeType === COMMENT_NODE && grandContainer.parentNode === targetContainer;
        }
        function dispatchEventForPluginEventSystem(domEventName, eventSystemFlags, nativeEvent, targetInst, targetContainer) {
          var ancestorInst = targetInst;
          if ((eventSystemFlags & IS_EVENT_HANDLE_NON_MANAGED_NODE) === 0 && (eventSystemFlags & IS_NON_DELEGATED) === 0) {
            var targetContainerNode = targetContainer;
            if (targetInst !== null) {
              var node = targetInst;
              mainLoop:
                while (true) {
                  if (node === null) {
                    return;
                  }
                  var nodeTag = node.tag;
                  if (nodeTag === HostRoot || nodeTag === HostPortal) {
                    var container = node.stateNode.containerInfo;
                    if (isMatchingRootContainer(container, targetContainerNode)) {
                      break;
                    }
                    if (nodeTag === HostPortal) {
                      var grandNode = node.return;
                      while (grandNode !== null) {
                        var grandTag = grandNode.tag;
                        if (grandTag === HostRoot || grandTag === HostPortal) {
                          var grandContainer = grandNode.stateNode.containerInfo;
                          if (isMatchingRootContainer(grandContainer, targetContainerNode)) {
                            return;
                          }
                        }
                        grandNode = grandNode.return;
                      }
                    }
                    while (container !== null) {
                      var parentNode = getClosestInstanceFromNode(container);
                      if (parentNode === null) {
                        return;
                      }
                      var parentTag = parentNode.tag;
                      if (parentTag === HostComponent || parentTag === HostText) {
                        node = ancestorInst = parentNode;
                        continue mainLoop;
                      }
                      container = container.parentNode;
                    }
                  }
                  node = node.return;
                }
            }
          }
          batchedEventUpdates(function() {
            return dispatchEventsForPlugins(domEventName, eventSystemFlags, nativeEvent, ancestorInst);
          });
        }
        function createDispatchListener(instance, listener, currentTarget) {
          return {
            instance,
            listener,
            currentTarget
          };
        }
        function accumulateSinglePhaseListeners(targetFiber, reactName, nativeEventType, inCapturePhase, accumulateTargetOnly) {
          var captureName = reactName !== null ? reactName + "Capture" : null;
          var reactEventName = inCapturePhase ? captureName : reactName;
          var listeners = [];
          var instance = targetFiber;
          var lastHostComponent = null;
          while (instance !== null) {
            var _instance2 = instance, stateNode = _instance2.stateNode, tag = _instance2.tag;
            if (tag === HostComponent && stateNode !== null) {
              lastHostComponent = stateNode;
              if (reactEventName !== null) {
                var listener = getListener(instance, reactEventName);
                if (listener != null) {
                  listeners.push(createDispatchListener(instance, listener, lastHostComponent));
                }
              }
            }
            if (accumulateTargetOnly) {
              break;
            }
            instance = instance.return;
          }
          return listeners;
        }
        function accumulateTwoPhaseListeners(targetFiber, reactName) {
          var captureName = reactName + "Capture";
          var listeners = [];
          var instance = targetFiber;
          while (instance !== null) {
            var _instance3 = instance, stateNode = _instance3.stateNode, tag = _instance3.tag;
            if (tag === HostComponent && stateNode !== null) {
              var currentTarget = stateNode;
              var captureListener = getListener(instance, captureName);
              if (captureListener != null) {
                listeners.unshift(createDispatchListener(instance, captureListener, currentTarget));
              }
              var bubbleListener = getListener(instance, reactName);
              if (bubbleListener != null) {
                listeners.push(createDispatchListener(instance, bubbleListener, currentTarget));
              }
            }
            instance = instance.return;
          }
          return listeners;
        }
        function getParent(inst) {
          if (inst === null) {
            return null;
          }
          do {
            inst = inst.return;
          } while (inst && inst.tag !== HostComponent);
          if (inst) {
            return inst;
          }
          return null;
        }
        function getLowestCommonAncestor(instA, instB) {
          var nodeA = instA;
          var nodeB = instB;
          var depthA = 0;
          for (var tempA = nodeA; tempA; tempA = getParent(tempA)) {
            depthA++;
          }
          var depthB = 0;
          for (var tempB = nodeB; tempB; tempB = getParent(tempB)) {
            depthB++;
          }
          while (depthA - depthB > 0) {
            nodeA = getParent(nodeA);
            depthA--;
          }
          while (depthB - depthA > 0) {
            nodeB = getParent(nodeB);
            depthB--;
          }
          var depth = depthA;
          while (depth--) {
            if (nodeA === nodeB || nodeB !== null && nodeA === nodeB.alternate) {
              return nodeA;
            }
            nodeA = getParent(nodeA);
            nodeB = getParent(nodeB);
          }
          return null;
        }
        function accumulateEnterLeaveListenersForEvent(dispatchQueue, event, target, common, inCapturePhase) {
          var registrationName = event._reactName;
          var listeners = [];
          var instance = target;
          while (instance !== null) {
            if (instance === common) {
              break;
            }
            var _instance4 = instance, alternate = _instance4.alternate, stateNode = _instance4.stateNode, tag = _instance4.tag;
            if (alternate !== null && alternate === common) {
              break;
            }
            if (tag === HostComponent && stateNode !== null) {
              var currentTarget = stateNode;
              if (inCapturePhase) {
                var captureListener = getListener(instance, registrationName);
                if (captureListener != null) {
                  listeners.unshift(createDispatchListener(instance, captureListener, currentTarget));
                }
              } else if (!inCapturePhase) {
                var bubbleListener = getListener(instance, registrationName);
                if (bubbleListener != null) {
                  listeners.push(createDispatchListener(instance, bubbleListener, currentTarget));
                }
              }
            }
            instance = instance.return;
          }
          if (listeners.length !== 0) {
            dispatchQueue.push({
              event,
              listeners
            });
          }
        }
        function accumulateEnterLeaveTwoPhaseListeners(dispatchQueue, leaveEvent, enterEvent, from, to) {
          var common = from && to ? getLowestCommonAncestor(from, to) : null;
          if (from !== null) {
            accumulateEnterLeaveListenersForEvent(dispatchQueue, leaveEvent, from, common, false);
          }
          if (to !== null && enterEvent !== null) {
            accumulateEnterLeaveListenersForEvent(dispatchQueue, enterEvent, to, common, true);
          }
        }
        function getListenerSetKey(domEventName, capture) {
          return domEventName + "__" + (capture ? "capture" : "bubble");
        }
        var didWarnInvalidHydration = false;
        var DANGEROUSLY_SET_INNER_HTML = "dangerouslySetInnerHTML";
        var SUPPRESS_CONTENT_EDITABLE_WARNING = "suppressContentEditableWarning";
        var SUPPRESS_HYDRATION_WARNING = "suppressHydrationWarning";
        var AUTOFOCUS = "autoFocus";
        var CHILDREN = "children";
        var STYLE = "style";
        var HTML$1 = "__html";
        var HTML_NAMESPACE$1 = Namespaces.html;
        var warnedUnknownTags;
        var suppressHydrationWarning;
        var validatePropertiesInDevelopment;
        var warnForTextDifference;
        var warnForPropDifference;
        var warnForExtraAttributes;
        var warnForInvalidEventListener;
        var canDiffStyleForHydrationWarning;
        var normalizeMarkupForTextOrAttribute;
        var normalizeHTML;
        {
          warnedUnknownTags = {
            dialog: true,
            webview: true
          };
          validatePropertiesInDevelopment = function(type, props) {
            validateProperties(type, props);
            validateProperties$1(type, props);
            validateProperties$2(type, props, {
              registrationNameDependencies,
              possibleRegistrationNames
            });
          };
          canDiffStyleForHydrationWarning = canUseDOM && !document.documentMode;
          var NORMALIZE_NEWLINES_REGEX = /\r\n?/g;
          var NORMALIZE_NULL_AND_REPLACEMENT_REGEX = /\u0000|\uFFFD/g;
          normalizeMarkupForTextOrAttribute = function(markup) {
            var markupString = typeof markup === "string" ? markup : "" + markup;
            return markupString.replace(NORMALIZE_NEWLINES_REGEX, "\n").replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX, "");
          };
          warnForTextDifference = function(serverText, clientText) {
            if (didWarnInvalidHydration) {
              return;
            }
            var normalizedClientText = normalizeMarkupForTextOrAttribute(clientText);
            var normalizedServerText = normalizeMarkupForTextOrAttribute(serverText);
            if (normalizedServerText === normalizedClientText) {
              return;
            }
            didWarnInvalidHydration = true;
            error('Text content did not match. Server: "%s" Client: "%s"', normalizedServerText, normalizedClientText);
          };
          warnForPropDifference = function(propName, serverValue, clientValue) {
            if (didWarnInvalidHydration) {
              return;
            }
            var normalizedClientValue = normalizeMarkupForTextOrAttribute(clientValue);
            var normalizedServerValue = normalizeMarkupForTextOrAttribute(serverValue);
            if (normalizedServerValue === normalizedClientValue) {
              return;
            }
            didWarnInvalidHydration = true;
            error("Prop `%s` did not match. Server: %s Client: %s", propName, JSON.stringify(normalizedServerValue), JSON.stringify(normalizedClientValue));
          };
          warnForExtraAttributes = function(attributeNames) {
            if (didWarnInvalidHydration) {
              return;
            }
            didWarnInvalidHydration = true;
            var names = [];
            attributeNames.forEach(function(name) {
              names.push(name);
            });
            error("Extra attributes from the server: %s", names);
          };
          warnForInvalidEventListener = function(registrationName, listener) {
            if (listener === false) {
              error("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.", registrationName, registrationName, registrationName);
            } else {
              error("Expected `%s` listener to be a function, instead got a value of `%s` type.", registrationName, typeof listener);
            }
          };
          normalizeHTML = function(parent, html) {
            var testElement = parent.namespaceURI === HTML_NAMESPACE$1 ? parent.ownerDocument.createElement(parent.tagName) : parent.ownerDocument.createElementNS(parent.namespaceURI, parent.tagName);
            testElement.innerHTML = html;
            return testElement.innerHTML;
          };
        }
        function getOwnerDocumentFromRootContainer(rootContainerElement) {
          return rootContainerElement.nodeType === DOCUMENT_NODE ? rootContainerElement : rootContainerElement.ownerDocument;
        }
        function noop2() {
        }
        function trapClickOnNonInteractiveElement(node) {
          node.onclick = noop2;
        }
        function setInitialDOMProperties(tag, domElement, rootContainerElement, nextProps, isCustomComponentTag) {
          for (var propKey in nextProps) {
            if (!nextProps.hasOwnProperty(propKey)) {
              continue;
            }
            var nextProp = nextProps[propKey];
            if (propKey === STYLE) {
              {
                if (nextProp) {
                  Object.freeze(nextProp);
                }
              }
              setValueForStyles(domElement, nextProp);
            } else if (propKey === DANGEROUSLY_SET_INNER_HTML) {
              var nextHtml = nextProp ? nextProp[HTML$1] : void 0;
              if (nextHtml != null) {
                setInnerHTML(domElement, nextHtml);
              }
            } else if (propKey === CHILDREN) {
              if (typeof nextProp === "string") {
                var canSetTextContent = tag !== "textarea" || nextProp !== "";
                if (canSetTextContent) {
                  setTextContent(domElement, nextProp);
                }
              } else if (typeof nextProp === "number") {
                setTextContent(domElement, "" + nextProp);
              }
            } else if (propKey === SUPPRESS_CONTENT_EDITABLE_WARNING || propKey === SUPPRESS_HYDRATION_WARNING)
              ;
            else if (propKey === AUTOFOCUS)
              ;
            else if (registrationNameDependencies.hasOwnProperty(propKey)) {
              if (nextProp != null) {
                if (typeof nextProp !== "function") {
                  warnForInvalidEventListener(propKey, nextProp);
                }
                if (propKey === "onScroll") {
                  listenToNonDelegatedEvent("scroll", domElement);
                }
              }
            } else if (nextProp != null) {
              setValueForProperty(domElement, propKey, nextProp, isCustomComponentTag);
            }
          }
        }
        function updateDOMProperties(domElement, updatePayload, wasCustomComponentTag, isCustomComponentTag) {
          for (var i3 = 0; i3 < updatePayload.length; i3 += 2) {
            var propKey = updatePayload[i3];
            var propValue = updatePayload[i3 + 1];
            if (propKey === STYLE) {
              setValueForStyles(domElement, propValue);
            } else if (propKey === DANGEROUSLY_SET_INNER_HTML) {
              setInnerHTML(domElement, propValue);
            } else if (propKey === CHILDREN) {
              setTextContent(domElement, propValue);
            } else {
              setValueForProperty(domElement, propKey, propValue, isCustomComponentTag);
            }
          }
        }
        function createElement(type, props, rootContainerElement, parentNamespace) {
          var isCustomComponentTag;
          var ownerDocument = getOwnerDocumentFromRootContainer(rootContainerElement);
          var domElement;
          var namespaceURI = parentNamespace;
          if (namespaceURI === HTML_NAMESPACE$1) {
            namespaceURI = getIntrinsicNamespace(type);
          }
          if (namespaceURI === HTML_NAMESPACE$1) {
            {
              isCustomComponentTag = isCustomComponent(type, props);
              if (!isCustomComponentTag && type !== type.toLowerCase()) {
                error("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.", type);
              }
            }
            if (type === "script") {
              var div = ownerDocument.createElement("div");
              div.innerHTML = "<script><\/script>";
              var firstChild = div.firstChild;
              domElement = div.removeChild(firstChild);
            } else if (typeof props.is === "string") {
              domElement = ownerDocument.createElement(type, {
                is: props.is
              });
            } else {
              domElement = ownerDocument.createElement(type);
              if (type === "select") {
                var node = domElement;
                if (props.multiple) {
                  node.multiple = true;
                } else if (props.size) {
                  node.size = props.size;
                }
              }
            }
          } else {
            domElement = ownerDocument.createElementNS(namespaceURI, type);
          }
          {
            if (namespaceURI === HTML_NAMESPACE$1) {
              if (!isCustomComponentTag && Object.prototype.toString.call(domElement) === "[object HTMLUnknownElement]" && !Object.prototype.hasOwnProperty.call(warnedUnknownTags, type)) {
                warnedUnknownTags[type] = true;
                error("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.", type);
              }
            }
          }
          return domElement;
        }
        function createTextNode(text, rootContainerElement) {
          return getOwnerDocumentFromRootContainer(rootContainerElement).createTextNode(text);
        }
        function setInitialProperties(domElement, tag, rawProps, rootContainerElement) {
          var isCustomComponentTag = isCustomComponent(tag, rawProps);
          {
            validatePropertiesInDevelopment(tag, rawProps);
          }
          var props;
          switch (tag) {
            case "dialog":
              listenToNonDelegatedEvent("cancel", domElement);
              listenToNonDelegatedEvent("close", domElement);
              props = rawProps;
              break;
            case "iframe":
            case "object":
            case "embed":
              listenToNonDelegatedEvent("load", domElement);
              props = rawProps;
              break;
            case "video":
            case "audio":
              for (var i3 = 0; i3 < mediaEventTypes.length; i3++) {
                listenToNonDelegatedEvent(mediaEventTypes[i3], domElement);
              }
              props = rawProps;
              break;
            case "source":
              listenToNonDelegatedEvent("error", domElement);
              props = rawProps;
              break;
            case "img":
            case "image":
            case "link":
              listenToNonDelegatedEvent("error", domElement);
              listenToNonDelegatedEvent("load", domElement);
              props = rawProps;
              break;
            case "details":
              listenToNonDelegatedEvent("toggle", domElement);
              props = rawProps;
              break;
            case "input":
              initWrapperState(domElement, rawProps);
              props = getHostProps(domElement, rawProps);
              listenToNonDelegatedEvent("invalid", domElement);
              break;
            case "option":
              validateProps(domElement, rawProps);
              props = getHostProps$1(domElement, rawProps);
              break;
            case "select":
              initWrapperState$1(domElement, rawProps);
              props = getHostProps$2(domElement, rawProps);
              listenToNonDelegatedEvent("invalid", domElement);
              break;
            case "textarea":
              initWrapperState$2(domElement, rawProps);
              props = getHostProps$3(domElement, rawProps);
              listenToNonDelegatedEvent("invalid", domElement);
              break;
            default:
              props = rawProps;
          }
          assertValidProps(tag, props);
          setInitialDOMProperties(tag, domElement, rootContainerElement, props, isCustomComponentTag);
          switch (tag) {
            case "input":
              track(domElement);
              postMountWrapper(domElement, rawProps, false);
              break;
            case "textarea":
              track(domElement);
              postMountWrapper$3(domElement);
              break;
            case "option":
              postMountWrapper$1(domElement, rawProps);
              break;
            case "select":
              postMountWrapper$2(domElement, rawProps);
              break;
            default:
              if (typeof props.onClick === "function") {
                trapClickOnNonInteractiveElement(domElement);
              }
              break;
          }
        }
        function diffProperties(domElement, tag, lastRawProps, nextRawProps, rootContainerElement) {
          {
            validatePropertiesInDevelopment(tag, nextRawProps);
          }
          var updatePayload = null;
          var lastProps;
          var nextProps;
          switch (tag) {
            case "input":
              lastProps = getHostProps(domElement, lastRawProps);
              nextProps = getHostProps(domElement, nextRawProps);
              updatePayload = [];
              break;
            case "option":
              lastProps = getHostProps$1(domElement, lastRawProps);
              nextProps = getHostProps$1(domElement, nextRawProps);
              updatePayload = [];
              break;
            case "select":
              lastProps = getHostProps$2(domElement, lastRawProps);
              nextProps = getHostProps$2(domElement, nextRawProps);
              updatePayload = [];
              break;
            case "textarea":
              lastProps = getHostProps$3(domElement, lastRawProps);
              nextProps = getHostProps$3(domElement, nextRawProps);
              updatePayload = [];
              break;
            default:
              lastProps = lastRawProps;
              nextProps = nextRawProps;
              if (typeof lastProps.onClick !== "function" && typeof nextProps.onClick === "function") {
                trapClickOnNonInteractiveElement(domElement);
              }
              break;
          }
          assertValidProps(tag, nextProps);
          var propKey;
          var styleName;
          var styleUpdates = null;
          for (propKey in lastProps) {
            if (nextProps.hasOwnProperty(propKey) || !lastProps.hasOwnProperty(propKey) || lastProps[propKey] == null) {
              continue;
            }
            if (propKey === STYLE) {
              var lastStyle = lastProps[propKey];
              for (styleName in lastStyle) {
                if (lastStyle.hasOwnProperty(styleName)) {
                  if (!styleUpdates) {
                    styleUpdates = {};
                  }
                  styleUpdates[styleName] = "";
                }
              }
            } else if (propKey === DANGEROUSLY_SET_INNER_HTML || propKey === CHILDREN)
              ;
            else if (propKey === SUPPRESS_CONTENT_EDITABLE_WARNING || propKey === SUPPRESS_HYDRATION_WARNING)
              ;
            else if (propKey === AUTOFOCUS)
              ;
            else if (registrationNameDependencies.hasOwnProperty(propKey)) {
              if (!updatePayload) {
                updatePayload = [];
              }
            } else {
              (updatePayload = updatePayload || []).push(propKey, null);
            }
          }
          for (propKey in nextProps) {
            var nextProp = nextProps[propKey];
            var lastProp = lastProps != null ? lastProps[propKey] : void 0;
            if (!nextProps.hasOwnProperty(propKey) || nextProp === lastProp || nextProp == null && lastProp == null) {
              continue;
            }
            if (propKey === STYLE) {
              {
                if (nextProp) {
                  Object.freeze(nextProp);
                }
              }
              if (lastProp) {
                for (styleName in lastProp) {
                  if (lastProp.hasOwnProperty(styleName) && (!nextProp || !nextProp.hasOwnProperty(styleName))) {
                    if (!styleUpdates) {
                      styleUpdates = {};
                    }
                    styleUpdates[styleName] = "";
                  }
                }
                for (styleName in nextProp) {
                  if (nextProp.hasOwnProperty(styleName) && lastProp[styleName] !== nextProp[styleName]) {
                    if (!styleUpdates) {
                      styleUpdates = {};
                    }
                    styleUpdates[styleName] = nextProp[styleName];
                  }
                }
              } else {
                if (!styleUpdates) {
                  if (!updatePayload) {
                    updatePayload = [];
                  }
                  updatePayload.push(propKey, styleUpdates);
                }
                styleUpdates = nextProp;
              }
            } else if (propKey === DANGEROUSLY_SET_INNER_HTML) {
              var nextHtml = nextProp ? nextProp[HTML$1] : void 0;
              var lastHtml = lastProp ? lastProp[HTML$1] : void 0;
              if (nextHtml != null) {
                if (lastHtml !== nextHtml) {
                  (updatePayload = updatePayload || []).push(propKey, nextHtml);
                }
              }
            } else if (propKey === CHILDREN) {
              if (typeof nextProp === "string" || typeof nextProp === "number") {
                (updatePayload = updatePayload || []).push(propKey, "" + nextProp);
              }
            } else if (propKey === SUPPRESS_CONTENT_EDITABLE_WARNING || propKey === SUPPRESS_HYDRATION_WARNING)
              ;
            else if (registrationNameDependencies.hasOwnProperty(propKey)) {
              if (nextProp != null) {
                if (typeof nextProp !== "function") {
                  warnForInvalidEventListener(propKey, nextProp);
                }
                if (propKey === "onScroll") {
                  listenToNonDelegatedEvent("scroll", domElement);
                }
              }
              if (!updatePayload && lastProp !== nextProp) {
                updatePayload = [];
              }
            } else if (typeof nextProp === "object" && nextProp !== null && nextProp.$$typeof === REACT_OPAQUE_ID_TYPE) {
              nextProp.toString();
            } else {
              (updatePayload = updatePayload || []).push(propKey, nextProp);
            }
          }
          if (styleUpdates) {
            {
              validateShorthandPropertyCollisionInDev(styleUpdates, nextProps[STYLE]);
            }
            (updatePayload = updatePayload || []).push(STYLE, styleUpdates);
          }
          return updatePayload;
        }
        function updateProperties(domElement, updatePayload, tag, lastRawProps, nextRawProps) {
          if (tag === "input" && nextRawProps.type === "radio" && nextRawProps.name != null) {
            updateChecked(domElement, nextRawProps);
          }
          var wasCustomComponentTag = isCustomComponent(tag, lastRawProps);
          var isCustomComponentTag = isCustomComponent(tag, nextRawProps);
          updateDOMProperties(domElement, updatePayload, wasCustomComponentTag, isCustomComponentTag);
          switch (tag) {
            case "input":
              updateWrapper(domElement, nextRawProps);
              break;
            case "textarea":
              updateWrapper$1(domElement, nextRawProps);
              break;
            case "select":
              postUpdateWrapper(domElement, nextRawProps);
              break;
          }
        }
        function getPossibleStandardName(propName) {
          {
            var lowerCasedName = propName.toLowerCase();
            if (!possibleStandardNames.hasOwnProperty(lowerCasedName)) {
              return null;
            }
            return possibleStandardNames[lowerCasedName] || null;
          }
        }
        function diffHydratedProperties(domElement, tag, rawProps, parentNamespace, rootContainerElement) {
          var isCustomComponentTag;
          var extraAttributeNames;
          {
            suppressHydrationWarning = rawProps[SUPPRESS_HYDRATION_WARNING] === true;
            isCustomComponentTag = isCustomComponent(tag, rawProps);
            validatePropertiesInDevelopment(tag, rawProps);
          }
          switch (tag) {
            case "dialog":
              listenToNonDelegatedEvent("cancel", domElement);
              listenToNonDelegatedEvent("close", domElement);
              break;
            case "iframe":
            case "object":
            case "embed":
              listenToNonDelegatedEvent("load", domElement);
              break;
            case "video":
            case "audio":
              for (var i3 = 0; i3 < mediaEventTypes.length; i3++) {
                listenToNonDelegatedEvent(mediaEventTypes[i3], domElement);
              }
              break;
            case "source":
              listenToNonDelegatedEvent("error", domElement);
              break;
            case "img":
            case "image":
            case "link":
              listenToNonDelegatedEvent("error", domElement);
              listenToNonDelegatedEvent("load", domElement);
              break;
            case "details":
              listenToNonDelegatedEvent("toggle", domElement);
              break;
            case "input":
              initWrapperState(domElement, rawProps);
              listenToNonDelegatedEvent("invalid", domElement);
              break;
            case "option":
              validateProps(domElement, rawProps);
              break;
            case "select":
              initWrapperState$1(domElement, rawProps);
              listenToNonDelegatedEvent("invalid", domElement);
              break;
            case "textarea":
              initWrapperState$2(domElement, rawProps);
              listenToNonDelegatedEvent("invalid", domElement);
              break;
          }
          assertValidProps(tag, rawProps);
          {
            extraAttributeNames = new Set();
            var attributes = domElement.attributes;
            for (var _i = 0; _i < attributes.length; _i++) {
              var name = attributes[_i].name.toLowerCase();
              switch (name) {
                case "data-reactroot":
                  break;
                case "value":
                  break;
                case "checked":
                  break;
                case "selected":
                  break;
                default:
                  extraAttributeNames.add(attributes[_i].name);
              }
            }
          }
          var updatePayload = null;
          for (var propKey in rawProps) {
            if (!rawProps.hasOwnProperty(propKey)) {
              continue;
            }
            var nextProp = rawProps[propKey];
            if (propKey === CHILDREN) {
              if (typeof nextProp === "string") {
                if (domElement.textContent !== nextProp) {
                  if (!suppressHydrationWarning) {
                    warnForTextDifference(domElement.textContent, nextProp);
                  }
                  updatePayload = [CHILDREN, nextProp];
                }
              } else if (typeof nextProp === "number") {
                if (domElement.textContent !== "" + nextProp) {
                  if (!suppressHydrationWarning) {
                    warnForTextDifference(domElement.textContent, nextProp);
                  }
                  updatePayload = [CHILDREN, "" + nextProp];
                }
              }
            } else if (registrationNameDependencies.hasOwnProperty(propKey)) {
              if (nextProp != null) {
                if (typeof nextProp !== "function") {
                  warnForInvalidEventListener(propKey, nextProp);
                }
                if (propKey === "onScroll") {
                  listenToNonDelegatedEvent("scroll", domElement);
                }
              }
            } else if (typeof isCustomComponentTag === "boolean") {
              var serverValue = void 0;
              var propertyInfo = getPropertyInfo(propKey);
              if (suppressHydrationWarning)
                ;
              else if (propKey === SUPPRESS_CONTENT_EDITABLE_WARNING || propKey === SUPPRESS_HYDRATION_WARNING || propKey === "value" || propKey === "checked" || propKey === "selected")
                ;
              else if (propKey === DANGEROUSLY_SET_INNER_HTML) {
                var serverHTML = domElement.innerHTML;
                var nextHtml = nextProp ? nextProp[HTML$1] : void 0;
                if (nextHtml != null) {
                  var expectedHTML = normalizeHTML(domElement, nextHtml);
                  if (expectedHTML !== serverHTML) {
                    warnForPropDifference(propKey, serverHTML, expectedHTML);
                  }
                }
              } else if (propKey === STYLE) {
                extraAttributeNames.delete(propKey);
                if (canDiffStyleForHydrationWarning) {
                  var expectedStyle = createDangerousStringForStyles(nextProp);
                  serverValue = domElement.getAttribute("style");
                  if (expectedStyle !== serverValue) {
                    warnForPropDifference(propKey, serverValue, expectedStyle);
                  }
                }
              } else if (isCustomComponentTag) {
                extraAttributeNames.delete(propKey.toLowerCase());
                serverValue = getValueForAttribute(domElement, propKey, nextProp);
                if (nextProp !== serverValue) {
                  warnForPropDifference(propKey, serverValue, nextProp);
                }
              } else if (!shouldIgnoreAttribute(propKey, propertyInfo, isCustomComponentTag) && !shouldRemoveAttribute(propKey, nextProp, propertyInfo, isCustomComponentTag)) {
                var isMismatchDueToBadCasing = false;
                if (propertyInfo !== null) {
                  extraAttributeNames.delete(propertyInfo.attributeName);
                  serverValue = getValueForProperty(domElement, propKey, nextProp, propertyInfo);
                } else {
                  var ownNamespace = parentNamespace;
                  if (ownNamespace === HTML_NAMESPACE$1) {
                    ownNamespace = getIntrinsicNamespace(tag);
                  }
                  if (ownNamespace === HTML_NAMESPACE$1) {
                    extraAttributeNames.delete(propKey.toLowerCase());
                  } else {
                    var standardName = getPossibleStandardName(propKey);
                    if (standardName !== null && standardName !== propKey) {
                      isMismatchDueToBadCasing = true;
                      extraAttributeNames.delete(standardName);
                    }
                    extraAttributeNames.delete(propKey);
                  }
                  serverValue = getValueForAttribute(domElement, propKey, nextProp);
                }
                if (nextProp !== serverValue && !isMismatchDueToBadCasing) {
                  warnForPropDifference(propKey, serverValue, nextProp);
                }
              }
            }
          }
          {
            if (extraAttributeNames.size > 0 && !suppressHydrationWarning) {
              warnForExtraAttributes(extraAttributeNames);
            }
          }
          switch (tag) {
            case "input":
              track(domElement);
              postMountWrapper(domElement, rawProps, true);
              break;
            case "textarea":
              track(domElement);
              postMountWrapper$3(domElement);
              break;
            case "select":
            case "option":
              break;
            default:
              if (typeof rawProps.onClick === "function") {
                trapClickOnNonInteractiveElement(domElement);
              }
              break;
          }
          return updatePayload;
        }
        function diffHydratedText(textNode, text) {
          var isDifferent = textNode.nodeValue !== text;
          return isDifferent;
        }
        function warnForUnmatchedText(textNode, text) {
          {
            warnForTextDifference(textNode.nodeValue, text);
          }
        }
        function warnForDeletedHydratableElement(parentNode, child) {
          {
            if (didWarnInvalidHydration) {
              return;
            }
            didWarnInvalidHydration = true;
            error("Did not expect server HTML to contain a <%s> in <%s>.", child.nodeName.toLowerCase(), parentNode.nodeName.toLowerCase());
          }
        }
        function warnForDeletedHydratableText(parentNode, child) {
          {
            if (didWarnInvalidHydration) {
              return;
            }
            didWarnInvalidHydration = true;
            error('Did not expect server HTML to contain the text node "%s" in <%s>.', child.nodeValue, parentNode.nodeName.toLowerCase());
          }
        }
        function warnForInsertedHydratedElement(parentNode, tag, props) {
          {
            if (didWarnInvalidHydration) {
              return;
            }
            didWarnInvalidHydration = true;
            error("Expected server HTML to contain a matching <%s> in <%s>.", tag, parentNode.nodeName.toLowerCase());
          }
        }
        function warnForInsertedHydratedText(parentNode, text) {
          {
            if (text === "") {
              return;
            }
            if (didWarnInvalidHydration) {
              return;
            }
            didWarnInvalidHydration = true;
            error('Expected server HTML to contain a matching text node for "%s" in <%s>.', text, parentNode.nodeName.toLowerCase());
          }
        }
        function restoreControlledState$3(domElement, tag, props) {
          switch (tag) {
            case "input":
              restoreControlledState(domElement, props);
              return;
            case "textarea":
              restoreControlledState$2(domElement, props);
              return;
            case "select":
              restoreControlledState$1(domElement, props);
              return;
          }
        }
        var validateDOMNesting = function() {
        };
        var updatedAncestorInfo = function() {
        };
        {
          var specialTags = ["address", "applet", "area", "article", "aside", "base", "basefont", "bgsound", "blockquote", "body", "br", "button", "caption", "center", "col", "colgroup", "dd", "details", "dir", "div", "dl", "dt", "embed", "fieldset", "figcaption", "figure", "footer", "form", "frame", "frameset", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "iframe", "img", "input", "isindex", "li", "link", "listing", "main", "marquee", "menu", "menuitem", "meta", "nav", "noembed", "noframes", "noscript", "object", "ol", "p", "param", "plaintext", "pre", "script", "section", "select", "source", "style", "summary", "table", "tbody", "td", "template", "textarea", "tfoot", "th", "thead", "title", "tr", "track", "ul", "wbr", "xmp"];
          var inScopeTags = [
            "applet",
            "caption",
            "html",
            "table",
            "td",
            "th",
            "marquee",
            "object",
            "template",
            "foreignObject",
            "desc",
            "title"
          ];
          var buttonScopeTags = inScopeTags.concat(["button"]);
          var impliedEndTags = ["dd", "dt", "li", "option", "optgroup", "p", "rp", "rt"];
          var emptyAncestorInfo = {
            current: null,
            formTag: null,
            aTagInScope: null,
            buttonTagInScope: null,
            nobrTagInScope: null,
            pTagInButtonScope: null,
            listItemTagAutoclosing: null,
            dlItemTagAutoclosing: null
          };
          updatedAncestorInfo = function(oldInfo, tag) {
            var ancestorInfo = _assign({}, oldInfo || emptyAncestorInfo);
            var info = {
              tag
            };
            if (inScopeTags.indexOf(tag) !== -1) {
              ancestorInfo.aTagInScope = null;
              ancestorInfo.buttonTagInScope = null;
              ancestorInfo.nobrTagInScope = null;
            }
            if (buttonScopeTags.indexOf(tag) !== -1) {
              ancestorInfo.pTagInButtonScope = null;
            }
            if (specialTags.indexOf(tag) !== -1 && tag !== "address" && tag !== "div" && tag !== "p") {
              ancestorInfo.listItemTagAutoclosing = null;
              ancestorInfo.dlItemTagAutoclosing = null;
            }
            ancestorInfo.current = info;
            if (tag === "form") {
              ancestorInfo.formTag = info;
            }
            if (tag === "a") {
              ancestorInfo.aTagInScope = info;
            }
            if (tag === "button") {
              ancestorInfo.buttonTagInScope = info;
            }
            if (tag === "nobr") {
              ancestorInfo.nobrTagInScope = info;
            }
            if (tag === "p") {
              ancestorInfo.pTagInButtonScope = info;
            }
            if (tag === "li") {
              ancestorInfo.listItemTagAutoclosing = info;
            }
            if (tag === "dd" || tag === "dt") {
              ancestorInfo.dlItemTagAutoclosing = info;
            }
            return ancestorInfo;
          };
          var isTagValidWithParent = function(tag, parentTag) {
            switch (parentTag) {
              case "select":
                return tag === "option" || tag === "optgroup" || tag === "#text";
              case "optgroup":
                return tag === "option" || tag === "#text";
              case "option":
                return tag === "#text";
              case "tr":
                return tag === "th" || tag === "td" || tag === "style" || tag === "script" || tag === "template";
              case "tbody":
              case "thead":
              case "tfoot":
                return tag === "tr" || tag === "style" || tag === "script" || tag === "template";
              case "colgroup":
                return tag === "col" || tag === "template";
              case "table":
                return tag === "caption" || tag === "colgroup" || tag === "tbody" || tag === "tfoot" || tag === "thead" || tag === "style" || tag === "script" || tag === "template";
              case "head":
                return tag === "base" || tag === "basefont" || tag === "bgsound" || tag === "link" || tag === "meta" || tag === "title" || tag === "noscript" || tag === "noframes" || tag === "style" || tag === "script" || tag === "template";
              case "html":
                return tag === "head" || tag === "body" || tag === "frameset";
              case "frameset":
                return tag === "frame";
              case "#document":
                return tag === "html";
            }
            switch (tag) {
              case "h1":
              case "h2":
              case "h3":
              case "h4":
              case "h5":
              case "h6":
                return parentTag !== "h1" && parentTag !== "h2" && parentTag !== "h3" && parentTag !== "h4" && parentTag !== "h5" && parentTag !== "h6";
              case "rp":
              case "rt":
                return impliedEndTags.indexOf(parentTag) === -1;
              case "body":
              case "caption":
              case "col":
              case "colgroup":
              case "frameset":
              case "frame":
              case "head":
              case "html":
              case "tbody":
              case "td":
              case "tfoot":
              case "th":
              case "thead":
              case "tr":
                return parentTag == null;
            }
            return true;
          };
          var findInvalidAncestorForTag = function(tag, ancestorInfo) {
            switch (tag) {
              case "address":
              case "article":
              case "aside":
              case "blockquote":
              case "center":
              case "details":
              case "dialog":
              case "dir":
              case "div":
              case "dl":
              case "fieldset":
              case "figcaption":
              case "figure":
              case "footer":
              case "header":
              case "hgroup":
              case "main":
              case "menu":
              case "nav":
              case "ol":
              case "p":
              case "section":
              case "summary":
              case "ul":
              case "pre":
              case "listing":
              case "table":
              case "hr":
              case "xmp":
              case "h1":
              case "h2":
              case "h3":
              case "h4":
              case "h5":
              case "h6":
                return ancestorInfo.pTagInButtonScope;
              case "form":
                return ancestorInfo.formTag || ancestorInfo.pTagInButtonScope;
              case "li":
                return ancestorInfo.listItemTagAutoclosing;
              case "dd":
              case "dt":
                return ancestorInfo.dlItemTagAutoclosing;
              case "button":
                return ancestorInfo.buttonTagInScope;
              case "a":
                return ancestorInfo.aTagInScope;
              case "nobr":
                return ancestorInfo.nobrTagInScope;
            }
            return null;
          };
          var didWarn$1 = {};
          validateDOMNesting = function(childTag, childText, ancestorInfo) {
            ancestorInfo = ancestorInfo || emptyAncestorInfo;
            var parentInfo = ancestorInfo.current;
            var parentTag = parentInfo && parentInfo.tag;
            if (childText != null) {
              if (childTag != null) {
                error("validateDOMNesting: when childText is passed, childTag should be null");
              }
              childTag = "#text";
            }
            var invalidParent = isTagValidWithParent(childTag, parentTag) ? null : parentInfo;
            var invalidAncestor = invalidParent ? null : findInvalidAncestorForTag(childTag, ancestorInfo);
            var invalidParentOrAncestor = invalidParent || invalidAncestor;
            if (!invalidParentOrAncestor) {
              return;
            }
            var ancestorTag = invalidParentOrAncestor.tag;
            var warnKey = !!invalidParent + "|" + childTag + "|" + ancestorTag;
            if (didWarn$1[warnKey]) {
              return;
            }
            didWarn$1[warnKey] = true;
            var tagDisplayName = childTag;
            var whitespaceInfo = "";
            if (childTag === "#text") {
              if (/\S/.test(childText)) {
                tagDisplayName = "Text nodes";
              } else {
                tagDisplayName = "Whitespace text nodes";
                whitespaceInfo = " Make sure you don't have any extra whitespace between tags on each line of your source code.";
              }
            } else {
              tagDisplayName = "<" + childTag + ">";
            }
            if (invalidParent) {
              var info = "";
              if (ancestorTag === "table" && childTag === "tr") {
                info += " Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser.";
              }
              error("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s", tagDisplayName, ancestorTag, whitespaceInfo, info);
            } else {
              error("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.", tagDisplayName, ancestorTag);
            }
          };
        }
        var SUPPRESS_HYDRATION_WARNING$1;
        {
          SUPPRESS_HYDRATION_WARNING$1 = "suppressHydrationWarning";
        }
        var SUSPENSE_START_DATA = "$";
        var SUSPENSE_END_DATA = "/$";
        var SUSPENSE_PENDING_START_DATA = "$?";
        var SUSPENSE_FALLBACK_START_DATA = "$!";
        var STYLE$1 = "style";
        var eventsEnabled = null;
        var selectionInformation = null;
        function shouldAutoFocusHostComponent(type, props) {
          switch (type) {
            case "button":
            case "input":
            case "select":
            case "textarea":
              return !!props.autoFocus;
          }
          return false;
        }
        function getRootHostContext(rootContainerInstance) {
          var type;
          var namespace;
          var nodeType = rootContainerInstance.nodeType;
          switch (nodeType) {
            case DOCUMENT_NODE:
            case DOCUMENT_FRAGMENT_NODE: {
              type = nodeType === DOCUMENT_NODE ? "#document" : "#fragment";
              var root2 = rootContainerInstance.documentElement;
              namespace = root2 ? root2.namespaceURI : getChildNamespace(null, "");
              break;
            }
            default: {
              var container = nodeType === COMMENT_NODE ? rootContainerInstance.parentNode : rootContainerInstance;
              var ownNamespace = container.namespaceURI || null;
              type = container.tagName;
              namespace = getChildNamespace(ownNamespace, type);
              break;
            }
          }
          {
            var validatedTag = type.toLowerCase();
            var ancestorInfo = updatedAncestorInfo(null, validatedTag);
            return {
              namespace,
              ancestorInfo
            };
          }
        }
        function getChildHostContext(parentHostContext, type, rootContainerInstance) {
          {
            var parentHostContextDev = parentHostContext;
            var namespace = getChildNamespace(parentHostContextDev.namespace, type);
            var ancestorInfo = updatedAncestorInfo(parentHostContextDev.ancestorInfo, type);
            return {
              namespace,
              ancestorInfo
            };
          }
        }
        function getPublicInstance(instance) {
          return instance;
        }
        function prepareForCommit(containerInfo) {
          eventsEnabled = isEnabled();
          selectionInformation = getSelectionInformation();
          var activeInstance = null;
          setEnabled(false);
          return activeInstance;
        }
        function resetAfterCommit(containerInfo) {
          restoreSelection(selectionInformation);
          setEnabled(eventsEnabled);
          eventsEnabled = null;
          selectionInformation = null;
        }
        function createInstance(type, props, rootContainerInstance, hostContext, internalInstanceHandle) {
          var parentNamespace;
          {
            var hostContextDev = hostContext;
            validateDOMNesting(type, null, hostContextDev.ancestorInfo);
            if (typeof props.children === "string" || typeof props.children === "number") {
              var string = "" + props.children;
              var ownAncestorInfo = updatedAncestorInfo(hostContextDev.ancestorInfo, type);
              validateDOMNesting(null, string, ownAncestorInfo);
            }
            parentNamespace = hostContextDev.namespace;
          }
          var domElement = createElement(type, props, rootContainerInstance, parentNamespace);
          precacheFiberNode(internalInstanceHandle, domElement);
          updateFiberProps(domElement, props);
          return domElement;
        }
        function appendInitialChild(parentInstance, child) {
          parentInstance.appendChild(child);
        }
        function finalizeInitialChildren(domElement, type, props, rootContainerInstance, hostContext) {
          setInitialProperties(domElement, type, props, rootContainerInstance);
          return shouldAutoFocusHostComponent(type, props);
        }
        function prepareUpdate(domElement, type, oldProps, newProps, rootContainerInstance, hostContext) {
          {
            var hostContextDev = hostContext;
            if (typeof newProps.children !== typeof oldProps.children && (typeof newProps.children === "string" || typeof newProps.children === "number")) {
              var string = "" + newProps.children;
              var ownAncestorInfo = updatedAncestorInfo(hostContextDev.ancestorInfo, type);
              validateDOMNesting(null, string, ownAncestorInfo);
            }
          }
          return diffProperties(domElement, type, oldProps, newProps);
        }
        function shouldSetTextContent(type, props) {
          return type === "textarea" || type === "option" || type === "noscript" || typeof props.children === "string" || typeof props.children === "number" || typeof props.dangerouslySetInnerHTML === "object" && props.dangerouslySetInnerHTML !== null && props.dangerouslySetInnerHTML.__html != null;
        }
        function createTextInstance(text, rootContainerInstance, hostContext, internalInstanceHandle) {
          {
            var hostContextDev = hostContext;
            validateDOMNesting(null, text, hostContextDev.ancestorInfo);
          }
          var textNode = createTextNode(text, rootContainerInstance);
          precacheFiberNode(internalInstanceHandle, textNode);
          return textNode;
        }
        var scheduleTimeout = typeof setTimeout === "function" ? setTimeout : void 0;
        var cancelTimeout = typeof clearTimeout === "function" ? clearTimeout : void 0;
        var noTimeout = -1;
        function commitMount(domElement, type, newProps, internalInstanceHandle) {
          if (shouldAutoFocusHostComponent(type, newProps)) {
            domElement.focus();
          }
        }
        function commitUpdate(domElement, updatePayload, type, oldProps, newProps, internalInstanceHandle) {
          updateFiberProps(domElement, newProps);
          updateProperties(domElement, updatePayload, type, oldProps, newProps);
        }
        function resetTextContent(domElement) {
          setTextContent(domElement, "");
        }
        function commitTextUpdate(textInstance, oldText, newText) {
          textInstance.nodeValue = newText;
        }
        function appendChild(parentInstance, child) {
          parentInstance.appendChild(child);
        }
        function appendChildToContainer(container, child) {
          var parentNode;
          if (container.nodeType === COMMENT_NODE) {
            parentNode = container.parentNode;
            parentNode.insertBefore(child, container);
          } else {
            parentNode = container;
            parentNode.appendChild(child);
          }
          var reactRootContainer = container._reactRootContainer;
          if ((reactRootContainer === null || reactRootContainer === void 0) && parentNode.onclick === null) {
            trapClickOnNonInteractiveElement(parentNode);
          }
        }
        function insertBefore(parentInstance, child, beforeChild) {
          parentInstance.insertBefore(child, beforeChild);
        }
        function insertInContainerBefore(container, child, beforeChild) {
          if (container.nodeType === COMMENT_NODE) {
            container.parentNode.insertBefore(child, beforeChild);
          } else {
            container.insertBefore(child, beforeChild);
          }
        }
        function removeChild(parentInstance, child) {
          parentInstance.removeChild(child);
        }
        function removeChildFromContainer(container, child) {
          if (container.nodeType === COMMENT_NODE) {
            container.parentNode.removeChild(child);
          } else {
            container.removeChild(child);
          }
        }
        function hideInstance(instance) {
          instance = instance;
          var style2 = instance.style;
          if (typeof style2.setProperty === "function") {
            style2.setProperty("display", "none", "important");
          } else {
            style2.display = "none";
          }
        }
        function hideTextInstance(textInstance) {
          textInstance.nodeValue = "";
        }
        function unhideInstance(instance, props) {
          instance = instance;
          var styleProp = props[STYLE$1];
          var display = styleProp !== void 0 && styleProp !== null && styleProp.hasOwnProperty("display") ? styleProp.display : null;
          instance.style.display = dangerousStyleValue("display", display);
        }
        function unhideTextInstance(textInstance, text) {
          textInstance.nodeValue = text;
        }
        function clearContainer(container) {
          if (container.nodeType === ELEMENT_NODE) {
            container.textContent = "";
          } else if (container.nodeType === DOCUMENT_NODE) {
            var body = container.body;
            if (body != null) {
              body.textContent = "";
            }
          }
        }
        function canHydrateInstance(instance, type, props) {
          if (instance.nodeType !== ELEMENT_NODE || type.toLowerCase() !== instance.nodeName.toLowerCase()) {
            return null;
          }
          return instance;
        }
        function canHydrateTextInstance(instance, text) {
          if (text === "" || instance.nodeType !== TEXT_NODE) {
            return null;
          }
          return instance;
        }
        function isSuspenseInstancePending(instance) {
          return instance.data === SUSPENSE_PENDING_START_DATA;
        }
        function isSuspenseInstanceFallback(instance) {
          return instance.data === SUSPENSE_FALLBACK_START_DATA;
        }
        function getNextHydratable(node) {
          for (; node != null; node = node.nextSibling) {
            var nodeType = node.nodeType;
            if (nodeType === ELEMENT_NODE || nodeType === TEXT_NODE) {
              break;
            }
          }
          return node;
        }
        function getNextHydratableSibling(instance) {
          return getNextHydratable(instance.nextSibling);
        }
        function getFirstHydratableChild(parentInstance) {
          return getNextHydratable(parentInstance.firstChild);
        }
        function hydrateInstance(instance, type, props, rootContainerInstance, hostContext, internalInstanceHandle) {
          precacheFiberNode(internalInstanceHandle, instance);
          updateFiberProps(instance, props);
          var parentNamespace;
          {
            var hostContextDev = hostContext;
            parentNamespace = hostContextDev.namespace;
          }
          return diffHydratedProperties(instance, type, props, parentNamespace);
        }
        function hydrateTextInstance(textInstance, text, internalInstanceHandle) {
          precacheFiberNode(internalInstanceHandle, textInstance);
          return diffHydratedText(textInstance, text);
        }
        function getNextHydratableInstanceAfterSuspenseInstance(suspenseInstance) {
          var node = suspenseInstance.nextSibling;
          var depth = 0;
          while (node) {
            if (node.nodeType === COMMENT_NODE) {
              var data = node.data;
              if (data === SUSPENSE_END_DATA) {
                if (depth === 0) {
                  return getNextHydratableSibling(node);
                } else {
                  depth--;
                }
              } else if (data === SUSPENSE_START_DATA || data === SUSPENSE_FALLBACK_START_DATA || data === SUSPENSE_PENDING_START_DATA) {
                depth++;
              }
            }
            node = node.nextSibling;
          }
          return null;
        }
        function getParentSuspenseInstance(targetInstance) {
          var node = targetInstance.previousSibling;
          var depth = 0;
          while (node) {
            if (node.nodeType === COMMENT_NODE) {
              var data = node.data;
              if (data === SUSPENSE_START_DATA || data === SUSPENSE_FALLBACK_START_DATA || data === SUSPENSE_PENDING_START_DATA) {
                if (depth === 0) {
                  return node;
                } else {
                  depth--;
                }
              } else if (data === SUSPENSE_END_DATA) {
                depth++;
              }
            }
            node = node.previousSibling;
          }
          return null;
        }
        function commitHydratedContainer(container) {
          retryIfBlockedOn(container);
        }
        function commitHydratedSuspenseInstance(suspenseInstance) {
          retryIfBlockedOn(suspenseInstance);
        }
        function didNotMatchHydratedContainerTextInstance(parentContainer, textInstance, text) {
          {
            warnForUnmatchedText(textInstance, text);
          }
        }
        function didNotMatchHydratedTextInstance(parentType, parentProps, parentInstance, textInstance, text) {
          if (parentProps[SUPPRESS_HYDRATION_WARNING$1] !== true) {
            warnForUnmatchedText(textInstance, text);
          }
        }
        function didNotHydrateContainerInstance(parentContainer, instance) {
          {
            if (instance.nodeType === ELEMENT_NODE) {
              warnForDeletedHydratableElement(parentContainer, instance);
            } else if (instance.nodeType === COMMENT_NODE)
              ;
            else {
              warnForDeletedHydratableText(parentContainer, instance);
            }
          }
        }
        function didNotHydrateInstance(parentType, parentProps, parentInstance, instance) {
          if (parentProps[SUPPRESS_HYDRATION_WARNING$1] !== true) {
            if (instance.nodeType === ELEMENT_NODE) {
              warnForDeletedHydratableElement(parentInstance, instance);
            } else if (instance.nodeType === COMMENT_NODE)
              ;
            else {
              warnForDeletedHydratableText(parentInstance, instance);
            }
          }
        }
        function didNotFindHydratableContainerInstance(parentContainer, type, props) {
          {
            warnForInsertedHydratedElement(parentContainer, type);
          }
        }
        function didNotFindHydratableContainerTextInstance(parentContainer, text) {
          {
            warnForInsertedHydratedText(parentContainer, text);
          }
        }
        function didNotFindHydratableInstance(parentType, parentProps, parentInstance, type, props) {
          if (parentProps[SUPPRESS_HYDRATION_WARNING$1] !== true) {
            warnForInsertedHydratedElement(parentInstance, type);
          }
        }
        function didNotFindHydratableTextInstance(parentType, parentProps, parentInstance, text) {
          if (parentProps[SUPPRESS_HYDRATION_WARNING$1] !== true) {
            warnForInsertedHydratedText(parentInstance, text);
          }
        }
        function didNotFindHydratableSuspenseInstance(parentType, parentProps, parentInstance) {
          if (parentProps[SUPPRESS_HYDRATION_WARNING$1] !== true)
            ;
        }
        var clientId = 0;
        function makeClientIdInDEV(warnOnAccessInDEV) {
          var id = "r:" + (clientId++).toString(36);
          return {
            toString: function() {
              warnOnAccessInDEV();
              return id;
            },
            valueOf: function() {
              warnOnAccessInDEV();
              return id;
            }
          };
        }
        function isOpaqueHydratingObject(value) {
          return value !== null && typeof value === "object" && value.$$typeof === REACT_OPAQUE_ID_TYPE;
        }
        function makeOpaqueHydratingObject(attemptToReadValue) {
          return {
            $$typeof: REACT_OPAQUE_ID_TYPE,
            toString: attemptToReadValue,
            valueOf: attemptToReadValue
          };
        }
        function preparePortalMount(portalInstance) {
          {
            listenToAllSupportedEvents(portalInstance);
          }
        }
        var randomKey = Math.random().toString(36).slice(2);
        var internalInstanceKey = "__reactFiber$" + randomKey;
        var internalPropsKey = "__reactProps$" + randomKey;
        var internalContainerInstanceKey = "__reactContainer$" + randomKey;
        var internalEventHandlersKey = "__reactEvents$" + randomKey;
        function precacheFiberNode(hostInst, node) {
          node[internalInstanceKey] = hostInst;
        }
        function markContainerAsRoot(hostRoot, node) {
          node[internalContainerInstanceKey] = hostRoot;
        }
        function unmarkContainerAsRoot(node) {
          node[internalContainerInstanceKey] = null;
        }
        function isContainerMarkedAsRoot(node) {
          return !!node[internalContainerInstanceKey];
        }
        function getClosestInstanceFromNode(targetNode) {
          var targetInst = targetNode[internalInstanceKey];
          if (targetInst) {
            return targetInst;
          }
          var parentNode = targetNode.parentNode;
          while (parentNode) {
            targetInst = parentNode[internalContainerInstanceKey] || parentNode[internalInstanceKey];
            if (targetInst) {
              var alternate = targetInst.alternate;
              if (targetInst.child !== null || alternate !== null && alternate.child !== null) {
                var suspenseInstance = getParentSuspenseInstance(targetNode);
                while (suspenseInstance !== null) {
                  var targetSuspenseInst = suspenseInstance[internalInstanceKey];
                  if (targetSuspenseInst) {
                    return targetSuspenseInst;
                  }
                  suspenseInstance = getParentSuspenseInstance(suspenseInstance);
                }
              }
              return targetInst;
            }
            targetNode = parentNode;
            parentNode = targetNode.parentNode;
          }
          return null;
        }
        function getInstanceFromNode(node) {
          var inst = node[internalInstanceKey] || node[internalContainerInstanceKey];
          if (inst) {
            if (inst.tag === HostComponent || inst.tag === HostText || inst.tag === SuspenseComponent || inst.tag === HostRoot) {
              return inst;
            } else {
              return null;
            }
          }
          return null;
        }
        function getNodeFromInstance(inst) {
          if (inst.tag === HostComponent || inst.tag === HostText) {
            return inst.stateNode;
          }
          {
            {
              throw Error("getNodeFromInstance: Invalid argument.");
            }
          }
        }
        function getFiberCurrentPropsFromNode(node) {
          return node[internalPropsKey] || null;
        }
        function updateFiberProps(node, props) {
          node[internalPropsKey] = props;
        }
        function getEventListenerSet(node) {
          var elementListenerSet = node[internalEventHandlersKey];
          if (elementListenerSet === void 0) {
            elementListenerSet = node[internalEventHandlersKey] = new Set();
          }
          return elementListenerSet;
        }
        var loggedTypeFailures = {};
        var ReactDebugCurrentFrame$1 = ReactSharedInternals.ReactDebugCurrentFrame;
        function setCurrentlyValidatingElement(element) {
          {
            if (element) {
              var owner = element._owner;
              var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);
              ReactDebugCurrentFrame$1.setExtraStackFrame(stack);
            } else {
              ReactDebugCurrentFrame$1.setExtraStackFrame(null);
            }
          }
        }
        function checkPropTypes(typeSpecs, values, location, componentName, element) {
          {
            var has2 = Function.call.bind(Object.prototype.hasOwnProperty);
            for (var typeSpecName in typeSpecs) {
              if (has2(typeSpecs, typeSpecName)) {
                var error$1 = void 0;
                try {
                  if (typeof typeSpecs[typeSpecName] !== "function") {
                    var err = Error((componentName || "React class") + ": " + location + " type `" + typeSpecName + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + typeof typeSpecs[typeSpecName] + "`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");
                    err.name = "Invariant Violation";
                    throw err;
                  }
                  error$1 = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");
                } catch (ex) {
                  error$1 = ex;
                }
                if (error$1 && !(error$1 instanceof Error)) {
                  setCurrentlyValidatingElement(element);
                  error("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).", componentName || "React class", location, typeSpecName, typeof error$1);
                  setCurrentlyValidatingElement(null);
                }
                if (error$1 instanceof Error && !(error$1.message in loggedTypeFailures)) {
                  loggedTypeFailures[error$1.message] = true;
                  setCurrentlyValidatingElement(element);
                  error("Failed %s type: %s", location, error$1.message);
                  setCurrentlyValidatingElement(null);
                }
              }
            }
          }
        }
        var valueStack = [];
        var fiberStack;
        {
          fiberStack = [];
        }
        var index = -1;
        function createCursor(defaultValue) {
          return {
            current: defaultValue
          };
        }
        function pop(cursor, fiber) {
          if (index < 0) {
            {
              error("Unexpected pop.");
            }
            return;
          }
          {
            if (fiber !== fiberStack[index]) {
              error("Unexpected Fiber popped.");
            }
          }
          cursor.current = valueStack[index];
          valueStack[index] = null;
          {
            fiberStack[index] = null;
          }
          index--;
        }
        function push(cursor, value, fiber) {
          index++;
          valueStack[index] = cursor.current;
          {
            fiberStack[index] = fiber;
          }
          cursor.current = value;
        }
        var warnedAboutMissingGetChildContext;
        {
          warnedAboutMissingGetChildContext = {};
        }
        var emptyContextObject = {};
        {
          Object.freeze(emptyContextObject);
        }
        var contextStackCursor = createCursor(emptyContextObject);
        var didPerformWorkStackCursor = createCursor(false);
        var previousContext = emptyContextObject;
        function getUnmaskedContext(workInProgress2, Component, didPushOwnContextIfProvider) {
          {
            if (didPushOwnContextIfProvider && isContextProvider(Component)) {
              return previousContext;
            }
            return contextStackCursor.current;
          }
        }
        function cacheContext(workInProgress2, unmaskedContext, maskedContext) {
          {
            var instance = workInProgress2.stateNode;
            instance.__reactInternalMemoizedUnmaskedChildContext = unmaskedContext;
            instance.__reactInternalMemoizedMaskedChildContext = maskedContext;
          }
        }
        function getMaskedContext(workInProgress2, unmaskedContext) {
          {
            var type = workInProgress2.type;
            var contextTypes = type.contextTypes;
            if (!contextTypes) {
              return emptyContextObject;
            }
            var instance = workInProgress2.stateNode;
            if (instance && instance.__reactInternalMemoizedUnmaskedChildContext === unmaskedContext) {
              return instance.__reactInternalMemoizedMaskedChildContext;
            }
            var context = {};
            for (var key in contextTypes) {
              context[key] = unmaskedContext[key];
            }
            {
              var name = getComponentName(type) || "Unknown";
              checkPropTypes(contextTypes, context, "context", name);
            }
            if (instance) {
              cacheContext(workInProgress2, unmaskedContext, context);
            }
            return context;
          }
        }
        function hasContextChanged() {
          {
            return didPerformWorkStackCursor.current;
          }
        }
        function isContextProvider(type) {
          {
            var childContextTypes = type.childContextTypes;
            return childContextTypes !== null && childContextTypes !== void 0;
          }
        }
        function popContext(fiber) {
          {
            pop(didPerformWorkStackCursor, fiber);
            pop(contextStackCursor, fiber);
          }
        }
        function popTopLevelContextObject(fiber) {
          {
            pop(didPerformWorkStackCursor, fiber);
            pop(contextStackCursor, fiber);
          }
        }
        function pushTopLevelContextObject(fiber, context, didChange) {
          {
            if (!(contextStackCursor.current === emptyContextObject)) {
              {
                throw Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");
              }
            }
            push(contextStackCursor, context, fiber);
            push(didPerformWorkStackCursor, didChange, fiber);
          }
        }
        function processChildContext(fiber, type, parentContext) {
          {
            var instance = fiber.stateNode;
            var childContextTypes = type.childContextTypes;
            if (typeof instance.getChildContext !== "function") {
              {
                var componentName = getComponentName(type) || "Unknown";
                if (!warnedAboutMissingGetChildContext[componentName]) {
                  warnedAboutMissingGetChildContext[componentName] = true;
                  error("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.", componentName, componentName);
                }
              }
              return parentContext;
            }
            var childContext = instance.getChildContext();
            for (var contextKey in childContext) {
              if (!(contextKey in childContextTypes)) {
                {
                  throw Error((getComponentName(type) || "Unknown") + '.getChildContext(): key "' + contextKey + '" is not defined in childContextTypes.');
                }
              }
            }
            {
              var name = getComponentName(type) || "Unknown";
              checkPropTypes(childContextTypes, childContext, "child context", name);
            }
            return _assign({}, parentContext, childContext);
          }
        }
        function pushContextProvider(workInProgress2) {
          {
            var instance = workInProgress2.stateNode;
            var memoizedMergedChildContext = instance && instance.__reactInternalMemoizedMergedChildContext || emptyContextObject;
            previousContext = contextStackCursor.current;
            push(contextStackCursor, memoizedMergedChildContext, workInProgress2);
            push(didPerformWorkStackCursor, didPerformWorkStackCursor.current, workInProgress2);
            return true;
          }
        }
        function invalidateContextProvider(workInProgress2, type, didChange) {
          {
            var instance = workInProgress2.stateNode;
            if (!instance) {
              {
                throw Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");
              }
            }
            if (didChange) {
              var mergedContext = processChildContext(workInProgress2, type, previousContext);
              instance.__reactInternalMemoizedMergedChildContext = mergedContext;
              pop(didPerformWorkStackCursor, workInProgress2);
              pop(contextStackCursor, workInProgress2);
              push(contextStackCursor, mergedContext, workInProgress2);
              push(didPerformWorkStackCursor, didChange, workInProgress2);
            } else {
              pop(didPerformWorkStackCursor, workInProgress2);
              push(didPerformWorkStackCursor, didChange, workInProgress2);
            }
          }
        }
        function findCurrentUnmaskedContext(fiber) {
          {
            if (!(isFiberMounted(fiber) && fiber.tag === ClassComponent)) {
              {
                throw Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");
              }
            }
            var node = fiber;
            do {
              switch (node.tag) {
                case HostRoot:
                  return node.stateNode.context;
                case ClassComponent: {
                  var Component = node.type;
                  if (isContextProvider(Component)) {
                    return node.stateNode.__reactInternalMemoizedMergedChildContext;
                  }
                  break;
                }
              }
              node = node.return;
            } while (node !== null);
            {
              {
                throw Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.");
              }
            }
          }
        }
        var LegacyRoot = 0;
        var BlockingRoot = 1;
        var ConcurrentRoot = 2;
        var rendererID = null;
        var injectedHook = null;
        var hasLoggedError = false;
        var isDevToolsPresent = typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== "undefined";
        function injectInternals(internals) {
          if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === "undefined") {
            return false;
          }
          var hook = __REACT_DEVTOOLS_GLOBAL_HOOK__;
          if (hook.isDisabled) {
            return true;
          }
          if (!hook.supportsFiber) {
            {
              error("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools");
            }
            return true;
          }
          try {
            rendererID = hook.inject(internals);
            injectedHook = hook;
          } catch (err) {
            {
              error("React instrumentation encountered an error: %s.", err);
            }
          }
          return true;
        }
        function onScheduleRoot(root2, children) {
          {
            if (injectedHook && typeof injectedHook.onScheduleFiberRoot === "function") {
              try {
                injectedHook.onScheduleFiberRoot(rendererID, root2, children);
              } catch (err) {
                if (!hasLoggedError) {
                  hasLoggedError = true;
                  error("React instrumentation encountered an error: %s", err);
                }
              }
            }
          }
        }
        function onCommitRoot(root2, priorityLevel) {
          if (injectedHook && typeof injectedHook.onCommitFiberRoot === "function") {
            try {
              var didError = (root2.current.flags & DidCapture) === DidCapture;
              if (enableProfilerTimer) {
                injectedHook.onCommitFiberRoot(rendererID, root2, priorityLevel, didError);
              } else {
                injectedHook.onCommitFiberRoot(rendererID, root2, void 0, didError);
              }
            } catch (err) {
              {
                if (!hasLoggedError) {
                  hasLoggedError = true;
                  error("React instrumentation encountered an error: %s", err);
                }
              }
            }
          }
        }
        function onCommitUnmount(fiber) {
          if (injectedHook && typeof injectedHook.onCommitFiberUnmount === "function") {
            try {
              injectedHook.onCommitFiberUnmount(rendererID, fiber);
            } catch (err) {
              {
                if (!hasLoggedError) {
                  hasLoggedError = true;
                  error("React instrumentation encountered an error: %s", err);
                }
              }
            }
          }
        }
        var Scheduler_runWithPriority = Scheduler.unstable_runWithPriority, Scheduler_scheduleCallback = Scheduler.unstable_scheduleCallback, Scheduler_cancelCallback = Scheduler.unstable_cancelCallback, Scheduler_shouldYield = Scheduler.unstable_shouldYield, Scheduler_requestPaint = Scheduler.unstable_requestPaint, Scheduler_now$1 = Scheduler.unstable_now, Scheduler_getCurrentPriorityLevel = Scheduler.unstable_getCurrentPriorityLevel, Scheduler_ImmediatePriority = Scheduler.unstable_ImmediatePriority, Scheduler_UserBlockingPriority = Scheduler.unstable_UserBlockingPriority, Scheduler_NormalPriority = Scheduler.unstable_NormalPriority, Scheduler_LowPriority = Scheduler.unstable_LowPriority, Scheduler_IdlePriority = Scheduler.unstable_IdlePriority;
        {
          if (!(tracing.__interactionsRef != null && tracing.__interactionsRef.current != null)) {
            {
              throw Error("It is not supported to run the profiling version of a renderer (for example, `react-dom/profiling`) without also replacing the `scheduler/tracing` module with `scheduler/tracing-profiling`. Your bundler might have a setting for aliasing both modules. Learn more at https://reactjs.org/link/profiling");
            }
          }
        }
        var fakeCallbackNode = {};
        var ImmediatePriority$1 = 99;
        var UserBlockingPriority$2 = 98;
        var NormalPriority$1 = 97;
        var LowPriority$1 = 96;
        var IdlePriority$1 = 95;
        var NoPriority$1 = 90;
        var shouldYield = Scheduler_shouldYield;
        var requestPaint = Scheduler_requestPaint !== void 0 ? Scheduler_requestPaint : function() {
        };
        var syncQueue = null;
        var immediateQueueCallbackNode = null;
        var isFlushingSyncQueue = false;
        var initialTimeMs$1 = Scheduler_now$1();
        var now = initialTimeMs$1 < 1e4 ? Scheduler_now$1 : function() {
          return Scheduler_now$1() - initialTimeMs$1;
        };
        function getCurrentPriorityLevel() {
          switch (Scheduler_getCurrentPriorityLevel()) {
            case Scheduler_ImmediatePriority:
              return ImmediatePriority$1;
            case Scheduler_UserBlockingPriority:
              return UserBlockingPriority$2;
            case Scheduler_NormalPriority:
              return NormalPriority$1;
            case Scheduler_LowPriority:
              return LowPriority$1;
            case Scheduler_IdlePriority:
              return IdlePriority$1;
            default: {
              {
                throw Error("Unknown priority level.");
              }
            }
          }
        }
        function reactPriorityToSchedulerPriority(reactPriorityLevel) {
          switch (reactPriorityLevel) {
            case ImmediatePriority$1:
              return Scheduler_ImmediatePriority;
            case UserBlockingPriority$2:
              return Scheduler_UserBlockingPriority;
            case NormalPriority$1:
              return Scheduler_NormalPriority;
            case LowPriority$1:
              return Scheduler_LowPriority;
            case IdlePriority$1:
              return Scheduler_IdlePriority;
            default: {
              {
                throw Error("Unknown priority level.");
              }
            }
          }
        }
        function runWithPriority$1(reactPriorityLevel, fn) {
          var priorityLevel = reactPriorityToSchedulerPriority(reactPriorityLevel);
          return Scheduler_runWithPriority(priorityLevel, fn);
        }
        function scheduleCallback(reactPriorityLevel, callback, options2) {
          var priorityLevel = reactPriorityToSchedulerPriority(reactPriorityLevel);
          return Scheduler_scheduleCallback(priorityLevel, callback, options2);
        }
        function scheduleSyncCallback(callback) {
          if (syncQueue === null) {
            syncQueue = [callback];
            immediateQueueCallbackNode = Scheduler_scheduleCallback(Scheduler_ImmediatePriority, flushSyncCallbackQueueImpl);
          } else {
            syncQueue.push(callback);
          }
          return fakeCallbackNode;
        }
        function cancelCallback(callbackNode) {
          if (callbackNode !== fakeCallbackNode) {
            Scheduler_cancelCallback(callbackNode);
          }
        }
        function flushSyncCallbackQueue() {
          if (immediateQueueCallbackNode !== null) {
            var node = immediateQueueCallbackNode;
            immediateQueueCallbackNode = null;
            Scheduler_cancelCallback(node);
          }
          flushSyncCallbackQueueImpl();
        }
        function flushSyncCallbackQueueImpl() {
          if (!isFlushingSyncQueue && syncQueue !== null) {
            isFlushingSyncQueue = true;
            var i3 = 0;
            {
              try {
                var _isSync2 = true;
                var _queue = syncQueue;
                runWithPriority$1(ImmediatePriority$1, function() {
                  for (; i3 < _queue.length; i3++) {
                    var callback = _queue[i3];
                    do {
                      callback = callback(_isSync2);
                    } while (callback !== null);
                  }
                });
                syncQueue = null;
              } catch (error2) {
                if (syncQueue !== null) {
                  syncQueue = syncQueue.slice(i3 + 1);
                }
                Scheduler_scheduleCallback(Scheduler_ImmediatePriority, flushSyncCallbackQueue);
                throw error2;
              } finally {
                isFlushingSyncQueue = false;
              }
            }
          }
        }
        var ReactVersion = "17.0.2";
        var NoMode = 0;
        var StrictMode2 = 1;
        var BlockingMode = 2;
        var ConcurrentMode = 4;
        var ProfileMode = 8;
        var DebugTracingMode = 16;
        var ReactCurrentBatchConfig = ReactSharedInternals.ReactCurrentBatchConfig;
        var NoTransition = 0;
        function requestCurrentTransition() {
          return ReactCurrentBatchConfig.transition;
        }
        var ReactStrictModeWarnings = {
          recordUnsafeLifecycleWarnings: function(fiber, instance) {
          },
          flushPendingUnsafeLifecycleWarnings: function() {
          },
          recordLegacyContextWarning: function(fiber, instance) {
          },
          flushLegacyContextWarning: function() {
          },
          discardPendingWarnings: function() {
          }
        };
        {
          var findStrictRoot = function(fiber) {
            var maybeStrictRoot = null;
            var node = fiber;
            while (node !== null) {
              if (node.mode & StrictMode2) {
                maybeStrictRoot = node;
              }
              node = node.return;
            }
            return maybeStrictRoot;
          };
          var setToSortedString = function(set2) {
            var array = [];
            set2.forEach(function(value) {
              array.push(value);
            });
            return array.sort().join(", ");
          };
          var pendingComponentWillMountWarnings = [];
          var pendingUNSAFE_ComponentWillMountWarnings = [];
          var pendingComponentWillReceivePropsWarnings = [];
          var pendingUNSAFE_ComponentWillReceivePropsWarnings = [];
          var pendingComponentWillUpdateWarnings = [];
          var pendingUNSAFE_ComponentWillUpdateWarnings = [];
          var didWarnAboutUnsafeLifecycles = new Set();
          ReactStrictModeWarnings.recordUnsafeLifecycleWarnings = function(fiber, instance) {
            if (didWarnAboutUnsafeLifecycles.has(fiber.type)) {
              return;
            }
            if (typeof instance.componentWillMount === "function" && instance.componentWillMount.__suppressDeprecationWarning !== true) {
              pendingComponentWillMountWarnings.push(fiber);
            }
            if (fiber.mode & StrictMode2 && typeof instance.UNSAFE_componentWillMount === "function") {
              pendingUNSAFE_ComponentWillMountWarnings.push(fiber);
            }
            if (typeof instance.componentWillReceiveProps === "function" && instance.componentWillReceiveProps.__suppressDeprecationWarning !== true) {
              pendingComponentWillReceivePropsWarnings.push(fiber);
            }
            if (fiber.mode & StrictMode2 && typeof instance.UNSAFE_componentWillReceiveProps === "function") {
              pendingUNSAFE_ComponentWillReceivePropsWarnings.push(fiber);
            }
            if (typeof instance.componentWillUpdate === "function" && instance.componentWillUpdate.__suppressDeprecationWarning !== true) {
              pendingComponentWillUpdateWarnings.push(fiber);
            }
            if (fiber.mode & StrictMode2 && typeof instance.UNSAFE_componentWillUpdate === "function") {
              pendingUNSAFE_ComponentWillUpdateWarnings.push(fiber);
            }
          };
          ReactStrictModeWarnings.flushPendingUnsafeLifecycleWarnings = function() {
            var componentWillMountUniqueNames = new Set();
            if (pendingComponentWillMountWarnings.length > 0) {
              pendingComponentWillMountWarnings.forEach(function(fiber) {
                componentWillMountUniqueNames.add(getComponentName(fiber.type) || "Component");
                didWarnAboutUnsafeLifecycles.add(fiber.type);
              });
              pendingComponentWillMountWarnings = [];
            }
            var UNSAFE_componentWillMountUniqueNames = new Set();
            if (pendingUNSAFE_ComponentWillMountWarnings.length > 0) {
              pendingUNSAFE_ComponentWillMountWarnings.forEach(function(fiber) {
                UNSAFE_componentWillMountUniqueNames.add(getComponentName(fiber.type) || "Component");
                didWarnAboutUnsafeLifecycles.add(fiber.type);
              });
              pendingUNSAFE_ComponentWillMountWarnings = [];
            }
            var componentWillReceivePropsUniqueNames = new Set();
            if (pendingComponentWillReceivePropsWarnings.length > 0) {
              pendingComponentWillReceivePropsWarnings.forEach(function(fiber) {
                componentWillReceivePropsUniqueNames.add(getComponentName(fiber.type) || "Component");
                didWarnAboutUnsafeLifecycles.add(fiber.type);
              });
              pendingComponentWillReceivePropsWarnings = [];
            }
            var UNSAFE_componentWillReceivePropsUniqueNames = new Set();
            if (pendingUNSAFE_ComponentWillReceivePropsWarnings.length > 0) {
              pendingUNSAFE_ComponentWillReceivePropsWarnings.forEach(function(fiber) {
                UNSAFE_componentWillReceivePropsUniqueNames.add(getComponentName(fiber.type) || "Component");
                didWarnAboutUnsafeLifecycles.add(fiber.type);
              });
              pendingUNSAFE_ComponentWillReceivePropsWarnings = [];
            }
            var componentWillUpdateUniqueNames = new Set();
            if (pendingComponentWillUpdateWarnings.length > 0) {
              pendingComponentWillUpdateWarnings.forEach(function(fiber) {
                componentWillUpdateUniqueNames.add(getComponentName(fiber.type) || "Component");
                didWarnAboutUnsafeLifecycles.add(fiber.type);
              });
              pendingComponentWillUpdateWarnings = [];
            }
            var UNSAFE_componentWillUpdateUniqueNames = new Set();
            if (pendingUNSAFE_ComponentWillUpdateWarnings.length > 0) {
              pendingUNSAFE_ComponentWillUpdateWarnings.forEach(function(fiber) {
                UNSAFE_componentWillUpdateUniqueNames.add(getComponentName(fiber.type) || "Component");
                didWarnAboutUnsafeLifecycles.add(fiber.type);
              });
              pendingUNSAFE_ComponentWillUpdateWarnings = [];
            }
            if (UNSAFE_componentWillMountUniqueNames.size > 0) {
              var sortedNames = setToSortedString(UNSAFE_componentWillMountUniqueNames);
              error("Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n\nPlease update the following components: %s", sortedNames);
            }
            if (UNSAFE_componentWillReceivePropsUniqueNames.size > 0) {
              var _sortedNames = setToSortedString(UNSAFE_componentWillReceivePropsUniqueNames);
              error("Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n\nPlease update the following components: %s", _sortedNames);
            }
            if (UNSAFE_componentWillUpdateUniqueNames.size > 0) {
              var _sortedNames2 = setToSortedString(UNSAFE_componentWillUpdateUniqueNames);
              error("Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n\nPlease update the following components: %s", _sortedNames2);
            }
            if (componentWillMountUniqueNames.size > 0) {
              var _sortedNames3 = setToSortedString(componentWillMountUniqueNames);
              warn2("componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s", _sortedNames3);
            }
            if (componentWillReceivePropsUniqueNames.size > 0) {
              var _sortedNames4 = setToSortedString(componentWillReceivePropsUniqueNames);
              warn2("componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s", _sortedNames4);
            }
            if (componentWillUpdateUniqueNames.size > 0) {
              var _sortedNames5 = setToSortedString(componentWillUpdateUniqueNames);
              warn2("componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s", _sortedNames5);
            }
          };
          var pendingLegacyContextWarning = new Map();
          var didWarnAboutLegacyContext = new Set();
          ReactStrictModeWarnings.recordLegacyContextWarning = function(fiber, instance) {
            var strictRoot = findStrictRoot(fiber);
            if (strictRoot === null) {
              error("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");
              return;
            }
            if (didWarnAboutLegacyContext.has(fiber.type)) {
              return;
            }
            var warningsForRoot = pendingLegacyContextWarning.get(strictRoot);
            if (fiber.type.contextTypes != null || fiber.type.childContextTypes != null || instance !== null && typeof instance.getChildContext === "function") {
              if (warningsForRoot === void 0) {
                warningsForRoot = [];
                pendingLegacyContextWarning.set(strictRoot, warningsForRoot);
              }
              warningsForRoot.push(fiber);
            }
          };
          ReactStrictModeWarnings.flushLegacyContextWarning = function() {
            pendingLegacyContextWarning.forEach(function(fiberArray, strictRoot) {
              if (fiberArray.length === 0) {
                return;
              }
              var firstFiber = fiberArray[0];
              var uniqueNames = new Set();
              fiberArray.forEach(function(fiber) {
                uniqueNames.add(getComponentName(fiber.type) || "Component");
                didWarnAboutLegacyContext.add(fiber.type);
              });
              var sortedNames = setToSortedString(uniqueNames);
              try {
                setCurrentFiber(firstFiber);
                error("Legacy context API has been detected within a strict-mode tree.\n\nThe old API will be supported in all 16.x releases, but applications using it should migrate to the new version.\n\nPlease update the following components: %s\n\nLearn more about this warning here: https://reactjs.org/link/legacy-context", sortedNames);
              } finally {
                resetCurrentFiber();
              }
            });
          };
          ReactStrictModeWarnings.discardPendingWarnings = function() {
            pendingComponentWillMountWarnings = [];
            pendingUNSAFE_ComponentWillMountWarnings = [];
            pendingComponentWillReceivePropsWarnings = [];
            pendingUNSAFE_ComponentWillReceivePropsWarnings = [];
            pendingComponentWillUpdateWarnings = [];
            pendingUNSAFE_ComponentWillUpdateWarnings = [];
            pendingLegacyContextWarning = new Map();
          };
        }
        function resolveDefaultProps(Component, baseProps) {
          if (Component && Component.defaultProps) {
            var props = _assign({}, baseProps);
            var defaultProps = Component.defaultProps;
            for (var propName in defaultProps) {
              if (props[propName] === void 0) {
                props[propName] = defaultProps[propName];
              }
            }
            return props;
          }
          return baseProps;
        }
        var MAX_SIGNED_31_BIT_INT = 1073741823;
        var valueCursor = createCursor(null);
        var rendererSigil;
        {
          rendererSigil = {};
        }
        var currentlyRenderingFiber = null;
        var lastContextDependency = null;
        var lastContextWithAllBitsObserved = null;
        var isDisallowedContextReadInDEV = false;
        function resetContextDependencies() {
          currentlyRenderingFiber = null;
          lastContextDependency = null;
          lastContextWithAllBitsObserved = null;
          {
            isDisallowedContextReadInDEV = false;
          }
        }
        function enterDisallowedContextReadInDEV() {
          {
            isDisallowedContextReadInDEV = true;
          }
        }
        function exitDisallowedContextReadInDEV() {
          {
            isDisallowedContextReadInDEV = false;
          }
        }
        function pushProvider(providerFiber, nextValue) {
          var context = providerFiber.type._context;
          {
            push(valueCursor, context._currentValue, providerFiber);
            context._currentValue = nextValue;
            {
              if (context._currentRenderer !== void 0 && context._currentRenderer !== null && context._currentRenderer !== rendererSigil) {
                error("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported.");
              }
              context._currentRenderer = rendererSigil;
            }
          }
        }
        function popProvider(providerFiber) {
          var currentValue = valueCursor.current;
          pop(valueCursor, providerFiber);
          var context = providerFiber.type._context;
          {
            context._currentValue = currentValue;
          }
        }
        function calculateChangedBits(context, newValue, oldValue) {
          if (objectIs(oldValue, newValue)) {
            return 0;
          } else {
            var changedBits = typeof context._calculateChangedBits === "function" ? context._calculateChangedBits(oldValue, newValue) : MAX_SIGNED_31_BIT_INT;
            {
              if ((changedBits & MAX_SIGNED_31_BIT_INT) !== changedBits) {
                error("calculateChangedBits: Expected the return value to be a 31-bit integer. Instead received: %s", changedBits);
              }
            }
            return changedBits | 0;
          }
        }
        function scheduleWorkOnParentPath(parent, renderLanes2) {
          var node = parent;
          while (node !== null) {
            var alternate = node.alternate;
            if (!isSubsetOfLanes(node.childLanes, renderLanes2)) {
              node.childLanes = mergeLanes(node.childLanes, renderLanes2);
              if (alternate !== null) {
                alternate.childLanes = mergeLanes(alternate.childLanes, renderLanes2);
              }
            } else if (alternate !== null && !isSubsetOfLanes(alternate.childLanes, renderLanes2)) {
              alternate.childLanes = mergeLanes(alternate.childLanes, renderLanes2);
            } else {
              break;
            }
            node = node.return;
          }
        }
        function propagateContextChange(workInProgress2, context, changedBits, renderLanes2) {
          var fiber = workInProgress2.child;
          if (fiber !== null) {
            fiber.return = workInProgress2;
          }
          while (fiber !== null) {
            var nextFiber = void 0;
            var list = fiber.dependencies;
            if (list !== null) {
              nextFiber = fiber.child;
              var dependency = list.firstContext;
              while (dependency !== null) {
                if (dependency.context === context && (dependency.observedBits & changedBits) !== 0) {
                  if (fiber.tag === ClassComponent) {
                    var update = createUpdate(NoTimestamp, pickArbitraryLane(renderLanes2));
                    update.tag = ForceUpdate;
                    enqueueUpdate(fiber, update);
                  }
                  fiber.lanes = mergeLanes(fiber.lanes, renderLanes2);
                  var alternate = fiber.alternate;
                  if (alternate !== null) {
                    alternate.lanes = mergeLanes(alternate.lanes, renderLanes2);
                  }
                  scheduleWorkOnParentPath(fiber.return, renderLanes2);
                  list.lanes = mergeLanes(list.lanes, renderLanes2);
                  break;
                }
                dependency = dependency.next;
              }
            } else if (fiber.tag === ContextProvider) {
              nextFiber = fiber.type === workInProgress2.type ? null : fiber.child;
            } else {
              nextFiber = fiber.child;
            }
            if (nextFiber !== null) {
              nextFiber.return = fiber;
            } else {
              nextFiber = fiber;
              while (nextFiber !== null) {
                if (nextFiber === workInProgress2) {
                  nextFiber = null;
                  break;
                }
                var sibling = nextFiber.sibling;
                if (sibling !== null) {
                  sibling.return = nextFiber.return;
                  nextFiber = sibling;
                  break;
                }
                nextFiber = nextFiber.return;
              }
            }
            fiber = nextFiber;
          }
        }
        function prepareToReadContext(workInProgress2, renderLanes2) {
          currentlyRenderingFiber = workInProgress2;
          lastContextDependency = null;
          lastContextWithAllBitsObserved = null;
          var dependencies = workInProgress2.dependencies;
          if (dependencies !== null) {
            var firstContext = dependencies.firstContext;
            if (firstContext !== null) {
              if (includesSomeLane(dependencies.lanes, renderLanes2)) {
                markWorkInProgressReceivedUpdate();
              }
              dependencies.firstContext = null;
            }
          }
        }
        function readContext(context, observedBits) {
          {
            if (isDisallowedContextReadInDEV) {
              error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");
            }
          }
          if (lastContextWithAllBitsObserved === context)
            ;
          else if (observedBits === false || observedBits === 0)
            ;
          else {
            var resolvedObservedBits;
            if (typeof observedBits !== "number" || observedBits === MAX_SIGNED_31_BIT_INT) {
              lastContextWithAllBitsObserved = context;
              resolvedObservedBits = MAX_SIGNED_31_BIT_INT;
            } else {
              resolvedObservedBits = observedBits;
            }
            var contextItem = {
              context,
              observedBits: resolvedObservedBits,
              next: null
            };
            if (lastContextDependency === null) {
              if (!(currentlyRenderingFiber !== null)) {
                {
                  throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");
                }
              }
              lastContextDependency = contextItem;
              currentlyRenderingFiber.dependencies = {
                lanes: NoLanes,
                firstContext: contextItem,
                responders: null
              };
            } else {
              lastContextDependency = lastContextDependency.next = contextItem;
            }
          }
          return context._currentValue;
        }
        var UpdateState = 0;
        var ReplaceState = 1;
        var ForceUpdate = 2;
        var CaptureUpdate = 3;
        var hasForceUpdate = false;
        var didWarnUpdateInsideUpdate;
        var currentlyProcessingQueue;
        {
          didWarnUpdateInsideUpdate = false;
          currentlyProcessingQueue = null;
        }
        function initializeUpdateQueue(fiber) {
          var queue = {
            baseState: fiber.memoizedState,
            firstBaseUpdate: null,
            lastBaseUpdate: null,
            shared: {
              pending: null
            },
            effects: null
          };
          fiber.updateQueue = queue;
        }
        function cloneUpdateQueue(current2, workInProgress2) {
          var queue = workInProgress2.updateQueue;
          var currentQueue = current2.updateQueue;
          if (queue === currentQueue) {
            var clone = {
              baseState: currentQueue.baseState,
              firstBaseUpdate: currentQueue.firstBaseUpdate,
              lastBaseUpdate: currentQueue.lastBaseUpdate,
              shared: currentQueue.shared,
              effects: currentQueue.effects
            };
            workInProgress2.updateQueue = clone;
          }
        }
        function createUpdate(eventTime, lane) {
          var update = {
            eventTime,
            lane,
            tag: UpdateState,
            payload: null,
            callback: null,
            next: null
          };
          return update;
        }
        function enqueueUpdate(fiber, update) {
          var updateQueue = fiber.updateQueue;
          if (updateQueue === null) {
            return;
          }
          var sharedQueue = updateQueue.shared;
          var pending = sharedQueue.pending;
          if (pending === null) {
            update.next = update;
          } else {
            update.next = pending.next;
            pending.next = update;
          }
          sharedQueue.pending = update;
          {
            if (currentlyProcessingQueue === sharedQueue && !didWarnUpdateInsideUpdate) {
              error("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback.");
              didWarnUpdateInsideUpdate = true;
            }
          }
        }
        function enqueueCapturedUpdate(workInProgress2, capturedUpdate) {
          var queue = workInProgress2.updateQueue;
          var current2 = workInProgress2.alternate;
          if (current2 !== null) {
            var currentQueue = current2.updateQueue;
            if (queue === currentQueue) {
              var newFirst = null;
              var newLast = null;
              var firstBaseUpdate = queue.firstBaseUpdate;
              if (firstBaseUpdate !== null) {
                var update = firstBaseUpdate;
                do {
                  var clone = {
                    eventTime: update.eventTime,
                    lane: update.lane,
                    tag: update.tag,
                    payload: update.payload,
                    callback: update.callback,
                    next: null
                  };
                  if (newLast === null) {
                    newFirst = newLast = clone;
                  } else {
                    newLast.next = clone;
                    newLast = clone;
                  }
                  update = update.next;
                } while (update !== null);
                if (newLast === null) {
                  newFirst = newLast = capturedUpdate;
                } else {
                  newLast.next = capturedUpdate;
                  newLast = capturedUpdate;
                }
              } else {
                newFirst = newLast = capturedUpdate;
              }
              queue = {
                baseState: currentQueue.baseState,
                firstBaseUpdate: newFirst,
                lastBaseUpdate: newLast,
                shared: currentQueue.shared,
                effects: currentQueue.effects
              };
              workInProgress2.updateQueue = queue;
              return;
            }
          }
          var lastBaseUpdate = queue.lastBaseUpdate;
          if (lastBaseUpdate === null) {
            queue.firstBaseUpdate = capturedUpdate;
          } else {
            lastBaseUpdate.next = capturedUpdate;
          }
          queue.lastBaseUpdate = capturedUpdate;
        }
        function getStateFromUpdate(workInProgress2, queue, update, prevState, nextProps, instance) {
          switch (update.tag) {
            case ReplaceState: {
              var payload = update.payload;
              if (typeof payload === "function") {
                {
                  enterDisallowedContextReadInDEV();
                }
                var nextState = payload.call(instance, prevState, nextProps);
                {
                  if (workInProgress2.mode & StrictMode2) {
                    disableLogs();
                    try {
                      payload.call(instance, prevState, nextProps);
                    } finally {
                      reenableLogs();
                    }
                  }
                  exitDisallowedContextReadInDEV();
                }
                return nextState;
              }
              return payload;
            }
            case CaptureUpdate: {
              workInProgress2.flags = workInProgress2.flags & ~ShouldCapture | DidCapture;
            }
            case UpdateState: {
              var _payload = update.payload;
              var partialState;
              if (typeof _payload === "function") {
                {
                  enterDisallowedContextReadInDEV();
                }
                partialState = _payload.call(instance, prevState, nextProps);
                {
                  if (workInProgress2.mode & StrictMode2) {
                    disableLogs();
                    try {
                      _payload.call(instance, prevState, nextProps);
                    } finally {
                      reenableLogs();
                    }
                  }
                  exitDisallowedContextReadInDEV();
                }
              } else {
                partialState = _payload;
              }
              if (partialState === null || partialState === void 0) {
                return prevState;
              }
              return _assign({}, prevState, partialState);
            }
            case ForceUpdate: {
              hasForceUpdate = true;
              return prevState;
            }
          }
          return prevState;
        }
        function processUpdateQueue(workInProgress2, props, instance, renderLanes2) {
          var queue = workInProgress2.updateQueue;
          hasForceUpdate = false;
          {
            currentlyProcessingQueue = queue.shared;
          }
          var firstBaseUpdate = queue.firstBaseUpdate;
          var lastBaseUpdate = queue.lastBaseUpdate;
          var pendingQueue = queue.shared.pending;
          if (pendingQueue !== null) {
            queue.shared.pending = null;
            var lastPendingUpdate = pendingQueue;
            var firstPendingUpdate = lastPendingUpdate.next;
            lastPendingUpdate.next = null;
            if (lastBaseUpdate === null) {
              firstBaseUpdate = firstPendingUpdate;
            } else {
              lastBaseUpdate.next = firstPendingUpdate;
            }
            lastBaseUpdate = lastPendingUpdate;
            var current2 = workInProgress2.alternate;
            if (current2 !== null) {
              var currentQueue = current2.updateQueue;
              var currentLastBaseUpdate = currentQueue.lastBaseUpdate;
              if (currentLastBaseUpdate !== lastBaseUpdate) {
                if (currentLastBaseUpdate === null) {
                  currentQueue.firstBaseUpdate = firstPendingUpdate;
                } else {
                  currentLastBaseUpdate.next = firstPendingUpdate;
                }
                currentQueue.lastBaseUpdate = lastPendingUpdate;
              }
            }
          }
          if (firstBaseUpdate !== null) {
            var newState = queue.baseState;
            var newLanes = NoLanes;
            var newBaseState = null;
            var newFirstBaseUpdate = null;
            var newLastBaseUpdate = null;
            var update = firstBaseUpdate;
            do {
              var updateLane = update.lane;
              var updateEventTime = update.eventTime;
              if (!isSubsetOfLanes(renderLanes2, updateLane)) {
                var clone = {
                  eventTime: updateEventTime,
                  lane: updateLane,
                  tag: update.tag,
                  payload: update.payload,
                  callback: update.callback,
                  next: null
                };
                if (newLastBaseUpdate === null) {
                  newFirstBaseUpdate = newLastBaseUpdate = clone;
                  newBaseState = newState;
                } else {
                  newLastBaseUpdate = newLastBaseUpdate.next = clone;
                }
                newLanes = mergeLanes(newLanes, updateLane);
              } else {
                if (newLastBaseUpdate !== null) {
                  var _clone = {
                    eventTime: updateEventTime,
                    lane: NoLane,
                    tag: update.tag,
                    payload: update.payload,
                    callback: update.callback,
                    next: null
                  };
                  newLastBaseUpdate = newLastBaseUpdate.next = _clone;
                }
                newState = getStateFromUpdate(workInProgress2, queue, update, newState, props, instance);
                var callback = update.callback;
                if (callback !== null) {
                  workInProgress2.flags |= Callback;
                  var effects = queue.effects;
                  if (effects === null) {
                    queue.effects = [update];
                  } else {
                    effects.push(update);
                  }
                }
              }
              update = update.next;
              if (update === null) {
                pendingQueue = queue.shared.pending;
                if (pendingQueue === null) {
                  break;
                } else {
                  var _lastPendingUpdate = pendingQueue;
                  var _firstPendingUpdate = _lastPendingUpdate.next;
                  _lastPendingUpdate.next = null;
                  update = _firstPendingUpdate;
                  queue.lastBaseUpdate = _lastPendingUpdate;
                  queue.shared.pending = null;
                }
              }
            } while (true);
            if (newLastBaseUpdate === null) {
              newBaseState = newState;
            }
            queue.baseState = newBaseState;
            queue.firstBaseUpdate = newFirstBaseUpdate;
            queue.lastBaseUpdate = newLastBaseUpdate;
            markSkippedUpdateLanes(newLanes);
            workInProgress2.lanes = newLanes;
            workInProgress2.memoizedState = newState;
          }
          {
            currentlyProcessingQueue = null;
          }
        }
        function callCallback(callback, context) {
          if (!(typeof callback === "function")) {
            {
              throw Error("Invalid argument passed as callback. Expected a function. Instead received: " + callback);
            }
          }
          callback.call(context);
        }
        function resetHasForceUpdateBeforeProcessing() {
          hasForceUpdate = false;
        }
        function checkHasForceUpdateAfterProcessing() {
          return hasForceUpdate;
        }
        function commitUpdateQueue(finishedWork, finishedQueue, instance) {
          var effects = finishedQueue.effects;
          finishedQueue.effects = null;
          if (effects !== null) {
            for (var i3 = 0; i3 < effects.length; i3++) {
              var effect = effects[i3];
              var callback = effect.callback;
              if (callback !== null) {
                effect.callback = null;
                callCallback(callback, instance);
              }
            }
          }
        }
        var fakeInternalInstance = {};
        var isArray = Array.isArray;
        var emptyRefsObject = new React42.Component().refs;
        var didWarnAboutStateAssignmentForComponent;
        var didWarnAboutUninitializedState;
        var didWarnAboutGetSnapshotBeforeUpdateWithoutDidUpdate;
        var didWarnAboutLegacyLifecyclesAndDerivedState;
        var didWarnAboutUndefinedDerivedState;
        var warnOnUndefinedDerivedState;
        var warnOnInvalidCallback;
        var didWarnAboutDirectlyAssigningPropsToState;
        var didWarnAboutContextTypeAndContextTypes;
        var didWarnAboutInvalidateContextType;
        {
          didWarnAboutStateAssignmentForComponent = new Set();
          didWarnAboutUninitializedState = new Set();
          didWarnAboutGetSnapshotBeforeUpdateWithoutDidUpdate = new Set();
          didWarnAboutLegacyLifecyclesAndDerivedState = new Set();
          didWarnAboutDirectlyAssigningPropsToState = new Set();
          didWarnAboutUndefinedDerivedState = new Set();
          didWarnAboutContextTypeAndContextTypes = new Set();
          didWarnAboutInvalidateContextType = new Set();
          var didWarnOnInvalidCallback = new Set();
          warnOnInvalidCallback = function(callback, callerName) {
            if (callback === null || typeof callback === "function") {
              return;
            }
            var key = callerName + "_" + callback;
            if (!didWarnOnInvalidCallback.has(key)) {
              didWarnOnInvalidCallback.add(key);
              error("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.", callerName, callback);
            }
          };
          warnOnUndefinedDerivedState = function(type, partialState) {
            if (partialState === void 0) {
              var componentName = getComponentName(type) || "Component";
              if (!didWarnAboutUndefinedDerivedState.has(componentName)) {
                didWarnAboutUndefinedDerivedState.add(componentName);
                error("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.", componentName);
              }
            }
          };
          Object.defineProperty(fakeInternalInstance, "_processChildContext", {
            enumerable: false,
            value: function() {
              {
                {
                  throw Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).");
                }
              }
            }
          });
          Object.freeze(fakeInternalInstance);
        }
        function applyDerivedStateFromProps(workInProgress2, ctor, getDerivedStateFromProps, nextProps) {
          var prevState = workInProgress2.memoizedState;
          {
            if (workInProgress2.mode & StrictMode2) {
              disableLogs();
              try {
                getDerivedStateFromProps(nextProps, prevState);
              } finally {
                reenableLogs();
              }
            }
          }
          var partialState = getDerivedStateFromProps(nextProps, prevState);
          {
            warnOnUndefinedDerivedState(ctor, partialState);
          }
          var memoizedState = partialState === null || partialState === void 0 ? prevState : _assign({}, prevState, partialState);
          workInProgress2.memoizedState = memoizedState;
          if (workInProgress2.lanes === NoLanes) {
            var updateQueue = workInProgress2.updateQueue;
            updateQueue.baseState = memoizedState;
          }
        }
        var classComponentUpdater = {
          isMounted,
          enqueueSetState: function(inst, payload, callback) {
            var fiber = get(inst);
            var eventTime = requestEventTime();
            var lane = requestUpdateLane(fiber);
            var update = createUpdate(eventTime, lane);
            update.payload = payload;
            if (callback !== void 0 && callback !== null) {
              {
                warnOnInvalidCallback(callback, "setState");
              }
              update.callback = callback;
            }
            enqueueUpdate(fiber, update);
            scheduleUpdateOnFiber(fiber, lane, eventTime);
          },
          enqueueReplaceState: function(inst, payload, callback) {
            var fiber = get(inst);
            var eventTime = requestEventTime();
            var lane = requestUpdateLane(fiber);
            var update = createUpdate(eventTime, lane);
            update.tag = ReplaceState;
            update.payload = payload;
            if (callback !== void 0 && callback !== null) {
              {
                warnOnInvalidCallback(callback, "replaceState");
              }
              update.callback = callback;
            }
            enqueueUpdate(fiber, update);
            scheduleUpdateOnFiber(fiber, lane, eventTime);
          },
          enqueueForceUpdate: function(inst, callback) {
            var fiber = get(inst);
            var eventTime = requestEventTime();
            var lane = requestUpdateLane(fiber);
            var update = createUpdate(eventTime, lane);
            update.tag = ForceUpdate;
            if (callback !== void 0 && callback !== null) {
              {
                warnOnInvalidCallback(callback, "forceUpdate");
              }
              update.callback = callback;
            }
            enqueueUpdate(fiber, update);
            scheduleUpdateOnFiber(fiber, lane, eventTime);
          }
        };
        function checkShouldComponentUpdate(workInProgress2, ctor, oldProps, newProps, oldState, newState, nextContext) {
          var instance = workInProgress2.stateNode;
          if (typeof instance.shouldComponentUpdate === "function") {
            {
              if (workInProgress2.mode & StrictMode2) {
                disableLogs();
                try {
                  instance.shouldComponentUpdate(newProps, newState, nextContext);
                } finally {
                  reenableLogs();
                }
              }
            }
            var shouldUpdate = instance.shouldComponentUpdate(newProps, newState, nextContext);
            {
              if (shouldUpdate === void 0) {
                error("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.", getComponentName(ctor) || "Component");
              }
            }
            return shouldUpdate;
          }
          if (ctor.prototype && ctor.prototype.isPureReactComponent) {
            return !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState);
          }
          return true;
        }
        function checkClassInstance(workInProgress2, ctor, newProps) {
          var instance = workInProgress2.stateNode;
          {
            var name = getComponentName(ctor) || "Component";
            var renderPresent = instance.render;
            if (!renderPresent) {
              if (ctor.prototype && typeof ctor.prototype.render === "function") {
                error("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?", name);
              } else {
                error("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.", name);
              }
            }
            if (instance.getInitialState && !instance.getInitialState.isReactClassApproved && !instance.state) {
              error("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?", name);
            }
            if (instance.getDefaultProps && !instance.getDefaultProps.isReactClassApproved) {
              error("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.", name);
            }
            if (instance.propTypes) {
              error("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.", name);
            }
            if (instance.contextType) {
              error("contextType was defined as an instance property on %s. Use a static property to define contextType instead.", name);
            }
            {
              if (instance.contextTypes) {
                error("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.", name);
              }
              if (ctor.contextType && ctor.contextTypes && !didWarnAboutContextTypeAndContextTypes.has(ctor)) {
                didWarnAboutContextTypeAndContextTypes.add(ctor);
                error("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.", name);
              }
            }
            if (typeof instance.componentShouldUpdate === "function") {
              error("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.", name);
            }
            if (ctor.prototype && ctor.prototype.isPureReactComponent && typeof instance.shouldComponentUpdate !== "undefined") {
              error("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.", getComponentName(ctor) || "A pure component");
            }
            if (typeof instance.componentDidUnmount === "function") {
              error("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?", name);
            }
            if (typeof instance.componentDidReceiveProps === "function") {
              error("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().", name);
            }
            if (typeof instance.componentWillRecieveProps === "function") {
              error("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?", name);
            }
            if (typeof instance.UNSAFE_componentWillRecieveProps === "function") {
              error("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?", name);
            }
            var hasMutatedProps = instance.props !== newProps;
            if (instance.props !== void 0 && hasMutatedProps) {
              error("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.", name, name);
            }
            if (instance.defaultProps) {
              error("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.", name, name);
            }
            if (typeof instance.getSnapshotBeforeUpdate === "function" && typeof instance.componentDidUpdate !== "function" && !didWarnAboutGetSnapshotBeforeUpdateWithoutDidUpdate.has(ctor)) {
              didWarnAboutGetSnapshotBeforeUpdateWithoutDidUpdate.add(ctor);
              error("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.", getComponentName(ctor));
            }
            if (typeof instance.getDerivedStateFromProps === "function") {
              error("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.", name);
            }
            if (typeof instance.getDerivedStateFromError === "function") {
              error("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.", name);
            }
            if (typeof ctor.getSnapshotBeforeUpdate === "function") {
              error("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.", name);
            }
            var _state = instance.state;
            if (_state && (typeof _state !== "object" || isArray(_state))) {
              error("%s.state: must be set to an object or null", name);
            }
            if (typeof instance.getChildContext === "function" && typeof ctor.childContextTypes !== "object") {
              error("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().", name);
            }
          }
        }
        function adoptClassInstance(workInProgress2, instance) {
          instance.updater = classComponentUpdater;
          workInProgress2.stateNode = instance;
          set(instance, workInProgress2);
          {
            instance._reactInternalInstance = fakeInternalInstance;
          }
        }
        function constructClassInstance(workInProgress2, ctor, props) {
          var isLegacyContextConsumer = false;
          var unmaskedContext = emptyContextObject;
          var context = emptyContextObject;
          var contextType = ctor.contextType;
          {
            if ("contextType" in ctor) {
              var isValid = contextType === null || contextType !== void 0 && contextType.$$typeof === REACT_CONTEXT_TYPE && contextType._context === void 0;
              if (!isValid && !didWarnAboutInvalidateContextType.has(ctor)) {
                didWarnAboutInvalidateContextType.add(ctor);
                var addendum = "";
                if (contextType === void 0) {
                  addendum = " However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.";
                } else if (typeof contextType !== "object") {
                  addendum = " However, it is set to a " + typeof contextType + ".";
                } else if (contextType.$$typeof === REACT_PROVIDER_TYPE) {
                  addendum = " Did you accidentally pass the Context.Provider instead?";
                } else if (contextType._context !== void 0) {
                  addendum = " Did you accidentally pass the Context.Consumer instead?";
                } else {
                  addendum = " However, it is set to an object with keys {" + Object.keys(contextType).join(", ") + "}.";
                }
                error("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s", getComponentName(ctor) || "Component", addendum);
              }
            }
          }
          if (typeof contextType === "object" && contextType !== null) {
            context = readContext(contextType);
          } else {
            unmaskedContext = getUnmaskedContext(workInProgress2, ctor, true);
            var contextTypes = ctor.contextTypes;
            isLegacyContextConsumer = contextTypes !== null && contextTypes !== void 0;
            context = isLegacyContextConsumer ? getMaskedContext(workInProgress2, unmaskedContext) : emptyContextObject;
          }
          {
            if (workInProgress2.mode & StrictMode2) {
              disableLogs();
              try {
                new ctor(props, context);
              } finally {
                reenableLogs();
              }
            }
          }
          var instance = new ctor(props, context);
          var state = workInProgress2.memoizedState = instance.state !== null && instance.state !== void 0 ? instance.state : null;
          adoptClassInstance(workInProgress2, instance);
          {
            if (typeof ctor.getDerivedStateFromProps === "function" && state === null) {
              var componentName = getComponentName(ctor) || "Component";
              if (!didWarnAboutUninitializedState.has(componentName)) {
                didWarnAboutUninitializedState.add(componentName);
                error("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.", componentName, instance.state === null ? "null" : "undefined", componentName);
              }
            }
            if (typeof ctor.getDerivedStateFromProps === "function" || typeof instance.getSnapshotBeforeUpdate === "function") {
              var foundWillMountName = null;
              var foundWillReceivePropsName = null;
              var foundWillUpdateName = null;
              if (typeof instance.componentWillMount === "function" && instance.componentWillMount.__suppressDeprecationWarning !== true) {
                foundWillMountName = "componentWillMount";
              } else if (typeof instance.UNSAFE_componentWillMount === "function") {
                foundWillMountName = "UNSAFE_componentWillMount";
              }
              if (typeof instance.componentWillReceiveProps === "function" && instance.componentWillReceiveProps.__suppressDeprecationWarning !== true) {
                foundWillReceivePropsName = "componentWillReceiveProps";
              } else if (typeof instance.UNSAFE_componentWillReceiveProps === "function") {
                foundWillReceivePropsName = "UNSAFE_componentWillReceiveProps";
              }
              if (typeof instance.componentWillUpdate === "function" && instance.componentWillUpdate.__suppressDeprecationWarning !== true) {
                foundWillUpdateName = "componentWillUpdate";
              } else if (typeof instance.UNSAFE_componentWillUpdate === "function") {
                foundWillUpdateName = "UNSAFE_componentWillUpdate";
              }
              if (foundWillMountName !== null || foundWillReceivePropsName !== null || foundWillUpdateName !== null) {
                var _componentName = getComponentName(ctor) || "Component";
                var newApiName = typeof ctor.getDerivedStateFromProps === "function" ? "getDerivedStateFromProps()" : "getSnapshotBeforeUpdate()";
                if (!didWarnAboutLegacyLifecyclesAndDerivedState.has(_componentName)) {
                  didWarnAboutLegacyLifecyclesAndDerivedState.add(_componentName);
                  error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n%s uses %s but also contains the following legacy lifecycles:%s%s%s\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://reactjs.org/link/unsafe-component-lifecycles", _componentName, newApiName, foundWillMountName !== null ? "\n  " + foundWillMountName : "", foundWillReceivePropsName !== null ? "\n  " + foundWillReceivePropsName : "", foundWillUpdateName !== null ? "\n  " + foundWillUpdateName : "");
                }
              }
            }
          }
          if (isLegacyContextConsumer) {
            cacheContext(workInProgress2, unmaskedContext, context);
          }
          return instance;
        }
        function callComponentWillMount(workInProgress2, instance) {
          var oldState = instance.state;
          if (typeof instance.componentWillMount === "function") {
            instance.componentWillMount();
          }
          if (typeof instance.UNSAFE_componentWillMount === "function") {
            instance.UNSAFE_componentWillMount();
          }
          if (oldState !== instance.state) {
            {
              error("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.", getComponentName(workInProgress2.type) || "Component");
            }
            classComponentUpdater.enqueueReplaceState(instance, instance.state, null);
          }
        }
        function callComponentWillReceiveProps(workInProgress2, instance, newProps, nextContext) {
          var oldState = instance.state;
          if (typeof instance.componentWillReceiveProps === "function") {
            instance.componentWillReceiveProps(newProps, nextContext);
          }
          if (typeof instance.UNSAFE_componentWillReceiveProps === "function") {
            instance.UNSAFE_componentWillReceiveProps(newProps, nextContext);
          }
          if (instance.state !== oldState) {
            {
              var componentName = getComponentName(workInProgress2.type) || "Component";
              if (!didWarnAboutStateAssignmentForComponent.has(componentName)) {
                didWarnAboutStateAssignmentForComponent.add(componentName);
                error("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.", componentName);
              }
            }
            classComponentUpdater.enqueueReplaceState(instance, instance.state, null);
          }
        }
        function mountClassInstance(workInProgress2, ctor, newProps, renderLanes2) {
          {
            checkClassInstance(workInProgress2, ctor, newProps);
          }
          var instance = workInProgress2.stateNode;
          instance.props = newProps;
          instance.state = workInProgress2.memoizedState;
          instance.refs = emptyRefsObject;
          initializeUpdateQueue(workInProgress2);
          var contextType = ctor.contextType;
          if (typeof contextType === "object" && contextType !== null) {
            instance.context = readContext(contextType);
          } else {
            var unmaskedContext = getUnmaskedContext(workInProgress2, ctor, true);
            instance.context = getMaskedContext(workInProgress2, unmaskedContext);
          }
          {
            if (instance.state === newProps) {
              var componentName = getComponentName(ctor) || "Component";
              if (!didWarnAboutDirectlyAssigningPropsToState.has(componentName)) {
                didWarnAboutDirectlyAssigningPropsToState.add(componentName);
                error("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.", componentName);
              }
            }
            if (workInProgress2.mode & StrictMode2) {
              ReactStrictModeWarnings.recordLegacyContextWarning(workInProgress2, instance);
            }
            {
              ReactStrictModeWarnings.recordUnsafeLifecycleWarnings(workInProgress2, instance);
            }
          }
          processUpdateQueue(workInProgress2, newProps, instance, renderLanes2);
          instance.state = workInProgress2.memoizedState;
          var getDerivedStateFromProps = ctor.getDerivedStateFromProps;
          if (typeof getDerivedStateFromProps === "function") {
            applyDerivedStateFromProps(workInProgress2, ctor, getDerivedStateFromProps, newProps);
            instance.state = workInProgress2.memoizedState;
          }
          if (typeof ctor.getDerivedStateFromProps !== "function" && typeof instance.getSnapshotBeforeUpdate !== "function" && (typeof instance.UNSAFE_componentWillMount === "function" || typeof instance.componentWillMount === "function")) {
            callComponentWillMount(workInProgress2, instance);
            processUpdateQueue(workInProgress2, newProps, instance, renderLanes2);
            instance.state = workInProgress2.memoizedState;
          }
          if (typeof instance.componentDidMount === "function") {
            workInProgress2.flags |= Update;
          }
        }
        function resumeMountClassInstance(workInProgress2, ctor, newProps, renderLanes2) {
          var instance = workInProgress2.stateNode;
          var oldProps = workInProgress2.memoizedProps;
          instance.props = oldProps;
          var oldContext = instance.context;
          var contextType = ctor.contextType;
          var nextContext = emptyContextObject;
          if (typeof contextType === "object" && contextType !== null) {
            nextContext = readContext(contextType);
          } else {
            var nextLegacyUnmaskedContext = getUnmaskedContext(workInProgress2, ctor, true);
            nextContext = getMaskedContext(workInProgress2, nextLegacyUnmaskedContext);
          }
          var getDerivedStateFromProps = ctor.getDerivedStateFromProps;
          var hasNewLifecycles = typeof getDerivedStateFromProps === "function" || typeof instance.getSnapshotBeforeUpdate === "function";
          if (!hasNewLifecycles && (typeof instance.UNSAFE_componentWillReceiveProps === "function" || typeof instance.componentWillReceiveProps === "function")) {
            if (oldProps !== newProps || oldContext !== nextContext) {
              callComponentWillReceiveProps(workInProgress2, instance, newProps, nextContext);
            }
          }
          resetHasForceUpdateBeforeProcessing();
          var oldState = workInProgress2.memoizedState;
          var newState = instance.state = oldState;
          processUpdateQueue(workInProgress2, newProps, instance, renderLanes2);
          newState = workInProgress2.memoizedState;
          if (oldProps === newProps && oldState === newState && !hasContextChanged() && !checkHasForceUpdateAfterProcessing()) {
            if (typeof instance.componentDidMount === "function") {
              workInProgress2.flags |= Update;
            }
            return false;
          }
          if (typeof getDerivedStateFromProps === "function") {
            applyDerivedStateFromProps(workInProgress2, ctor, getDerivedStateFromProps, newProps);
            newState = workInProgress2.memoizedState;
          }
          var shouldUpdate = checkHasForceUpdateAfterProcessing() || checkShouldComponentUpdate(workInProgress2, ctor, oldProps, newProps, oldState, newState, nextContext);
          if (shouldUpdate) {
            if (!hasNewLifecycles && (typeof instance.UNSAFE_componentWillMount === "function" || typeof instance.componentWillMount === "function")) {
              if (typeof instance.componentWillMount === "function") {
                instance.componentWillMount();
              }
              if (typeof instance.UNSAFE_componentWillMount === "function") {
                instance.UNSAFE_componentWillMount();
              }
            }
            if (typeof instance.componentDidMount === "function") {
              workInProgress2.flags |= Update;
            }
          } else {
            if (typeof instance.componentDidMount === "function") {
              workInProgress2.flags |= Update;
            }
            workInProgress2.memoizedProps = newProps;
            workInProgress2.memoizedState = newState;
          }
          instance.props = newProps;
          instance.state = newState;
          instance.context = nextContext;
          return shouldUpdate;
        }
        function updateClassInstance(current2, workInProgress2, ctor, newProps, renderLanes2) {
          var instance = workInProgress2.stateNode;
          cloneUpdateQueue(current2, workInProgress2);
          var unresolvedOldProps = workInProgress2.memoizedProps;
          var oldProps = workInProgress2.type === workInProgress2.elementType ? unresolvedOldProps : resolveDefaultProps(workInProgress2.type, unresolvedOldProps);
          instance.props = oldProps;
          var unresolvedNewProps = workInProgress2.pendingProps;
          var oldContext = instance.context;
          var contextType = ctor.contextType;
          var nextContext = emptyContextObject;
          if (typeof contextType === "object" && contextType !== null) {
            nextContext = readContext(contextType);
          } else {
            var nextUnmaskedContext = getUnmaskedContext(workInProgress2, ctor, true);
            nextContext = getMaskedContext(workInProgress2, nextUnmaskedContext);
          }
          var getDerivedStateFromProps = ctor.getDerivedStateFromProps;
          var hasNewLifecycles = typeof getDerivedStateFromProps === "function" || typeof instance.getSnapshotBeforeUpdate === "function";
          if (!hasNewLifecycles && (typeof instance.UNSAFE_componentWillReceiveProps === "function" || typeof instance.componentWillReceiveProps === "function")) {
            if (unresolvedOldProps !== unresolvedNewProps || oldContext !== nextContext) {
              callComponentWillReceiveProps(workInProgress2, instance, newProps, nextContext);
            }
          }
          resetHasForceUpdateBeforeProcessing();
          var oldState = workInProgress2.memoizedState;
          var newState = instance.state = oldState;
          processUpdateQueue(workInProgress2, newProps, instance, renderLanes2);
          newState = workInProgress2.memoizedState;
          if (unresolvedOldProps === unresolvedNewProps && oldState === newState && !hasContextChanged() && !checkHasForceUpdateAfterProcessing()) {
            if (typeof instance.componentDidUpdate === "function") {
              if (unresolvedOldProps !== current2.memoizedProps || oldState !== current2.memoizedState) {
                workInProgress2.flags |= Update;
              }
            }
            if (typeof instance.getSnapshotBeforeUpdate === "function") {
              if (unresolvedOldProps !== current2.memoizedProps || oldState !== current2.memoizedState) {
                workInProgress2.flags |= Snapshot;
              }
            }
            return false;
          }
          if (typeof getDerivedStateFromProps === "function") {
            applyDerivedStateFromProps(workInProgress2, ctor, getDerivedStateFromProps, newProps);
            newState = workInProgress2.memoizedState;
          }
          var shouldUpdate = checkHasForceUpdateAfterProcessing() || checkShouldComponentUpdate(workInProgress2, ctor, oldProps, newProps, oldState, newState, nextContext);
          if (shouldUpdate) {
            if (!hasNewLifecycles && (typeof instance.UNSAFE_componentWillUpdate === "function" || typeof instance.componentWillUpdate === "function")) {
              if (typeof instance.componentWillUpdate === "function") {
                instance.componentWillUpdate(newProps, newState, nextContext);
              }
              if (typeof instance.UNSAFE_componentWillUpdate === "function") {
                instance.UNSAFE_componentWillUpdate(newProps, newState, nextContext);
              }
            }
            if (typeof instance.componentDidUpdate === "function") {
              workInProgress2.flags |= Update;
            }
            if (typeof instance.getSnapshotBeforeUpdate === "function") {
              workInProgress2.flags |= Snapshot;
            }
          } else {
            if (typeof instance.componentDidUpdate === "function") {
              if (unresolvedOldProps !== current2.memoizedProps || oldState !== current2.memoizedState) {
                workInProgress2.flags |= Update;
              }
            }
            if (typeof instance.getSnapshotBeforeUpdate === "function") {
              if (unresolvedOldProps !== current2.memoizedProps || oldState !== current2.memoizedState) {
                workInProgress2.flags |= Snapshot;
              }
            }
            workInProgress2.memoizedProps = newProps;
            workInProgress2.memoizedState = newState;
          }
          instance.props = newProps;
          instance.state = newState;
          instance.context = nextContext;
          return shouldUpdate;
        }
        var didWarnAboutMaps;
        var didWarnAboutGenerators;
        var didWarnAboutStringRefs;
        var ownerHasKeyUseWarning;
        var ownerHasFunctionTypeWarning;
        var warnForMissingKey = function(child, returnFiber) {
        };
        {
          didWarnAboutMaps = false;
          didWarnAboutGenerators = false;
          didWarnAboutStringRefs = {};
          ownerHasKeyUseWarning = {};
          ownerHasFunctionTypeWarning = {};
          warnForMissingKey = function(child, returnFiber) {
            if (child === null || typeof child !== "object") {
              return;
            }
            if (!child._store || child._store.validated || child.key != null) {
              return;
            }
            if (!(typeof child._store === "object")) {
              {
                throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");
              }
            }
            child._store.validated = true;
            var componentName = getComponentName(returnFiber.type) || "Component";
            if (ownerHasKeyUseWarning[componentName]) {
              return;
            }
            ownerHasKeyUseWarning[componentName] = true;
            error('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.');
          };
        }
        var isArray$1 = Array.isArray;
        function coerceRef(returnFiber, current2, element) {
          var mixedRef = element.ref;
          if (mixedRef !== null && typeof mixedRef !== "function" && typeof mixedRef !== "object") {
            {
              if ((returnFiber.mode & StrictMode2 || warnAboutStringRefs) && !(element._owner && element._self && element._owner.stateNode !== element._self)) {
                var componentName = getComponentName(returnFiber.type) || "Component";
                if (!didWarnAboutStringRefs[componentName]) {
                  {
                    error('A string ref, "%s", has been found within a strict mode tree. String refs are a source of potential bugs and should be avoided. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref', mixedRef);
                  }
                  didWarnAboutStringRefs[componentName] = true;
                }
              }
            }
            if (element._owner) {
              var owner = element._owner;
              var inst;
              if (owner) {
                var ownerFiber = owner;
                if (!(ownerFiber.tag === ClassComponent)) {
                  {
                    throw Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");
                  }
                }
                inst = ownerFiber.stateNode;
              }
              if (!inst) {
                {
                  throw Error("Missing owner for string ref " + mixedRef + ". This error is likely caused by a bug in React. Please file an issue.");
                }
              }
              var stringRef = "" + mixedRef;
              if (current2 !== null && current2.ref !== null && typeof current2.ref === "function" && current2.ref._stringRef === stringRef) {
                return current2.ref;
              }
              var ref = function(value) {
                var refs = inst.refs;
                if (refs === emptyRefsObject) {
                  refs = inst.refs = {};
                }
                if (value === null) {
                  delete refs[stringRef];
                } else {
                  refs[stringRef] = value;
                }
              };
              ref._stringRef = stringRef;
              return ref;
            } else {
              if (!(typeof mixedRef === "string")) {
                {
                  throw Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");
                }
              }
              if (!element._owner) {
                {
                  throw Error("Element ref was specified as a string (" + mixedRef + ") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://reactjs.org/link/refs-must-have-owner for more information.");
                }
              }
            }
          }
          return mixedRef;
        }
        function throwOnInvalidObjectType(returnFiber, newChild) {
          if (returnFiber.type !== "textarea") {
            {
              {
                throw Error("Objects are not valid as a React child (found: " + (Object.prototype.toString.call(newChild) === "[object Object]" ? "object with keys {" + Object.keys(newChild).join(", ") + "}" : newChild) + "). If you meant to render a collection of children, use an array instead.");
              }
            }
          }
        }
        function warnOnFunctionType(returnFiber) {
          {
            var componentName = getComponentName(returnFiber.type) || "Component";
            if (ownerHasFunctionTypeWarning[componentName]) {
              return;
            }
            ownerHasFunctionTypeWarning[componentName] = true;
            error("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.");
          }
        }
        function ChildReconciler(shouldTrackSideEffects) {
          function deleteChild(returnFiber, childToDelete) {
            if (!shouldTrackSideEffects) {
              return;
            }
            var last = returnFiber.lastEffect;
            if (last !== null) {
              last.nextEffect = childToDelete;
              returnFiber.lastEffect = childToDelete;
            } else {
              returnFiber.firstEffect = returnFiber.lastEffect = childToDelete;
            }
            childToDelete.nextEffect = null;
            childToDelete.flags = Deletion;
          }
          function deleteRemainingChildren(returnFiber, currentFirstChild) {
            if (!shouldTrackSideEffects) {
              return null;
            }
            var childToDelete = currentFirstChild;
            while (childToDelete !== null) {
              deleteChild(returnFiber, childToDelete);
              childToDelete = childToDelete.sibling;
            }
            return null;
          }
          function mapRemainingChildren(returnFiber, currentFirstChild) {
            var existingChildren = new Map();
            var existingChild = currentFirstChild;
            while (existingChild !== null) {
              if (existingChild.key !== null) {
                existingChildren.set(existingChild.key, existingChild);
              } else {
                existingChildren.set(existingChild.index, existingChild);
              }
              existingChild = existingChild.sibling;
            }
            return existingChildren;
          }
          function useFiber(fiber, pendingProps) {
            var clone = createWorkInProgress(fiber, pendingProps);
            clone.index = 0;
            clone.sibling = null;
            return clone;
          }
          function placeChild(newFiber, lastPlacedIndex, newIndex) {
            newFiber.index = newIndex;
            if (!shouldTrackSideEffects) {
              return lastPlacedIndex;
            }
            var current2 = newFiber.alternate;
            if (current2 !== null) {
              var oldIndex = current2.index;
              if (oldIndex < lastPlacedIndex) {
                newFiber.flags = Placement;
                return lastPlacedIndex;
              } else {
                return oldIndex;
              }
            } else {
              newFiber.flags = Placement;
              return lastPlacedIndex;
            }
          }
          function placeSingleChild(newFiber) {
            if (shouldTrackSideEffects && newFiber.alternate === null) {
              newFiber.flags = Placement;
            }
            return newFiber;
          }
          function updateTextNode(returnFiber, current2, textContent, lanes) {
            if (current2 === null || current2.tag !== HostText) {
              var created = createFiberFromText(textContent, returnFiber.mode, lanes);
              created.return = returnFiber;
              return created;
            } else {
              var existing = useFiber(current2, textContent);
              existing.return = returnFiber;
              return existing;
            }
          }
          function updateElement(returnFiber, current2, element, lanes) {
            if (current2 !== null) {
              if (current2.elementType === element.type || isCompatibleFamilyForHotReloading(current2, element)) {
                var existing = useFiber(current2, element.props);
                existing.ref = coerceRef(returnFiber, current2, element);
                existing.return = returnFiber;
                {
                  existing._debugSource = element._source;
                  existing._debugOwner = element._owner;
                }
                return existing;
              }
            }
            var created = createFiberFromElement(element, returnFiber.mode, lanes);
            created.ref = coerceRef(returnFiber, current2, element);
            created.return = returnFiber;
            return created;
          }
          function updatePortal(returnFiber, current2, portal, lanes) {
            if (current2 === null || current2.tag !== HostPortal || current2.stateNode.containerInfo !== portal.containerInfo || current2.stateNode.implementation !== portal.implementation) {
              var created = createFiberFromPortal(portal, returnFiber.mode, lanes);
              created.return = returnFiber;
              return created;
            } else {
              var existing = useFiber(current2, portal.children || []);
              existing.return = returnFiber;
              return existing;
            }
          }
          function updateFragment2(returnFiber, current2, fragment, lanes, key) {
            if (current2 === null || current2.tag !== Fragment2) {
              var created = createFiberFromFragment(fragment, returnFiber.mode, lanes, key);
              created.return = returnFiber;
              return created;
            } else {
              var existing = useFiber(current2, fragment);
              existing.return = returnFiber;
              return existing;
            }
          }
          function createChild(returnFiber, newChild, lanes) {
            if (typeof newChild === "string" || typeof newChild === "number") {
              var created = createFiberFromText("" + newChild, returnFiber.mode, lanes);
              created.return = returnFiber;
              return created;
            }
            if (typeof newChild === "object" && newChild !== null) {
              switch (newChild.$$typeof) {
                case REACT_ELEMENT_TYPE: {
                  var _created = createFiberFromElement(newChild, returnFiber.mode, lanes);
                  _created.ref = coerceRef(returnFiber, null, newChild);
                  _created.return = returnFiber;
                  return _created;
                }
                case REACT_PORTAL_TYPE: {
                  var _created2 = createFiberFromPortal(newChild, returnFiber.mode, lanes);
                  _created2.return = returnFiber;
                  return _created2;
                }
              }
              if (isArray$1(newChild) || getIteratorFn(newChild)) {
                var _created3 = createFiberFromFragment(newChild, returnFiber.mode, lanes, null);
                _created3.return = returnFiber;
                return _created3;
              }
              throwOnInvalidObjectType(returnFiber, newChild);
            }
            {
              if (typeof newChild === "function") {
                warnOnFunctionType(returnFiber);
              }
            }
            return null;
          }
          function updateSlot(returnFiber, oldFiber, newChild, lanes) {
            var key = oldFiber !== null ? oldFiber.key : null;
            if (typeof newChild === "string" || typeof newChild === "number") {
              if (key !== null) {
                return null;
              }
              return updateTextNode(returnFiber, oldFiber, "" + newChild, lanes);
            }
            if (typeof newChild === "object" && newChild !== null) {
              switch (newChild.$$typeof) {
                case REACT_ELEMENT_TYPE: {
                  if (newChild.key === key) {
                    if (newChild.type === REACT_FRAGMENT_TYPE) {
                      return updateFragment2(returnFiber, oldFiber, newChild.props.children, lanes, key);
                    }
                    return updateElement(returnFiber, oldFiber, newChild, lanes);
                  } else {
                    return null;
                  }
                }
                case REACT_PORTAL_TYPE: {
                  if (newChild.key === key) {
                    return updatePortal(returnFiber, oldFiber, newChild, lanes);
                  } else {
                    return null;
                  }
                }
              }
              if (isArray$1(newChild) || getIteratorFn(newChild)) {
                if (key !== null) {
                  return null;
                }
                return updateFragment2(returnFiber, oldFiber, newChild, lanes, null);
              }
              throwOnInvalidObjectType(returnFiber, newChild);
            }
            {
              if (typeof newChild === "function") {
                warnOnFunctionType(returnFiber);
              }
            }
            return null;
          }
          function updateFromMap(existingChildren, returnFiber, newIdx, newChild, lanes) {
            if (typeof newChild === "string" || typeof newChild === "number") {
              var matchedFiber = existingChildren.get(newIdx) || null;
              return updateTextNode(returnFiber, matchedFiber, "" + newChild, lanes);
            }
            if (typeof newChild === "object" && newChild !== null) {
              switch (newChild.$$typeof) {
                case REACT_ELEMENT_TYPE: {
                  var _matchedFiber = existingChildren.get(newChild.key === null ? newIdx : newChild.key) || null;
                  if (newChild.type === REACT_FRAGMENT_TYPE) {
                    return updateFragment2(returnFiber, _matchedFiber, newChild.props.children, lanes, newChild.key);
                  }
                  return updateElement(returnFiber, _matchedFiber, newChild, lanes);
                }
                case REACT_PORTAL_TYPE: {
                  var _matchedFiber2 = existingChildren.get(newChild.key === null ? newIdx : newChild.key) || null;
                  return updatePortal(returnFiber, _matchedFiber2, newChild, lanes);
                }
              }
              if (isArray$1(newChild) || getIteratorFn(newChild)) {
                var _matchedFiber3 = existingChildren.get(newIdx) || null;
                return updateFragment2(returnFiber, _matchedFiber3, newChild, lanes, null);
              }
              throwOnInvalidObjectType(returnFiber, newChild);
            }
            {
              if (typeof newChild === "function") {
                warnOnFunctionType(returnFiber);
              }
            }
            return null;
          }
          function warnOnInvalidKey(child, knownKeys, returnFiber) {
            {
              if (typeof child !== "object" || child === null) {
                return knownKeys;
              }
              switch (child.$$typeof) {
                case REACT_ELEMENT_TYPE:
                case REACT_PORTAL_TYPE:
                  warnForMissingKey(child, returnFiber);
                  var key = child.key;
                  if (typeof key !== "string") {
                    break;
                  }
                  if (knownKeys === null) {
                    knownKeys = new Set();
                    knownKeys.add(key);
                    break;
                  }
                  if (!knownKeys.has(key)) {
                    knownKeys.add(key);
                    break;
                  }
                  error("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted \u2014 the behavior is unsupported and could change in a future version.", key);
                  break;
              }
            }
            return knownKeys;
          }
          function reconcileChildrenArray(returnFiber, currentFirstChild, newChildren, lanes) {
            {
              var knownKeys = null;
              for (var i3 = 0; i3 < newChildren.length; i3++) {
                var child = newChildren[i3];
                knownKeys = warnOnInvalidKey(child, knownKeys, returnFiber);
              }
            }
            var resultingFirstChild = null;
            var previousNewFiber = null;
            var oldFiber = currentFirstChild;
            var lastPlacedIndex = 0;
            var newIdx = 0;
            var nextOldFiber = null;
            for (; oldFiber !== null && newIdx < newChildren.length; newIdx++) {
              if (oldFiber.index > newIdx) {
                nextOldFiber = oldFiber;
                oldFiber = null;
              } else {
                nextOldFiber = oldFiber.sibling;
              }
              var newFiber = updateSlot(returnFiber, oldFiber, newChildren[newIdx], lanes);
              if (newFiber === null) {
                if (oldFiber === null) {
                  oldFiber = nextOldFiber;
                }
                break;
              }
              if (shouldTrackSideEffects) {
                if (oldFiber && newFiber.alternate === null) {
                  deleteChild(returnFiber, oldFiber);
                }
              }
              lastPlacedIndex = placeChild(newFiber, lastPlacedIndex, newIdx);
              if (previousNewFiber === null) {
                resultingFirstChild = newFiber;
              } else {
                previousNewFiber.sibling = newFiber;
              }
              previousNewFiber = newFiber;
              oldFiber = nextOldFiber;
            }
            if (newIdx === newChildren.length) {
              deleteRemainingChildren(returnFiber, oldFiber);
              return resultingFirstChild;
            }
            if (oldFiber === null) {
              for (; newIdx < newChildren.length; newIdx++) {
                var _newFiber = createChild(returnFiber, newChildren[newIdx], lanes);
                if (_newFiber === null) {
                  continue;
                }
                lastPlacedIndex = placeChild(_newFiber, lastPlacedIndex, newIdx);
                if (previousNewFiber === null) {
                  resultingFirstChild = _newFiber;
                } else {
                  previousNewFiber.sibling = _newFiber;
                }
                previousNewFiber = _newFiber;
              }
              return resultingFirstChild;
            }
            var existingChildren = mapRemainingChildren(returnFiber, oldFiber);
            for (; newIdx < newChildren.length; newIdx++) {
              var _newFiber2 = updateFromMap(existingChildren, returnFiber, newIdx, newChildren[newIdx], lanes);
              if (_newFiber2 !== null) {
                if (shouldTrackSideEffects) {
                  if (_newFiber2.alternate !== null) {
                    existingChildren.delete(_newFiber2.key === null ? newIdx : _newFiber2.key);
                  }
                }
                lastPlacedIndex = placeChild(_newFiber2, lastPlacedIndex, newIdx);
                if (previousNewFiber === null) {
                  resultingFirstChild = _newFiber2;
                } else {
                  previousNewFiber.sibling = _newFiber2;
                }
                previousNewFiber = _newFiber2;
              }
            }
            if (shouldTrackSideEffects) {
              existingChildren.forEach(function(child2) {
                return deleteChild(returnFiber, child2);
              });
            }
            return resultingFirstChild;
          }
          function reconcileChildrenIterator(returnFiber, currentFirstChild, newChildrenIterable, lanes) {
            var iteratorFn = getIteratorFn(newChildrenIterable);
            if (!(typeof iteratorFn === "function")) {
              {
                throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");
              }
            }
            {
              if (typeof Symbol === "function" && newChildrenIterable[Symbol.toStringTag] === "Generator") {
                if (!didWarnAboutGenerators) {
                  error("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers.");
                }
                didWarnAboutGenerators = true;
              }
              if (newChildrenIterable.entries === iteratorFn) {
                if (!didWarnAboutMaps) {
                  error("Using Maps as children is not supported. Use an array of keyed ReactElements instead.");
                }
                didWarnAboutMaps = true;
              }
              var _newChildren = iteratorFn.call(newChildrenIterable);
              if (_newChildren) {
                var knownKeys = null;
                var _step = _newChildren.next();
                for (; !_step.done; _step = _newChildren.next()) {
                  var child = _step.value;
                  knownKeys = warnOnInvalidKey(child, knownKeys, returnFiber);
                }
              }
            }
            var newChildren = iteratorFn.call(newChildrenIterable);
            if (!(newChildren != null)) {
              {
                throw Error("An iterable object provided no iterator.");
              }
            }
            var resultingFirstChild = null;
            var previousNewFiber = null;
            var oldFiber = currentFirstChild;
            var lastPlacedIndex = 0;
            var newIdx = 0;
            var nextOldFiber = null;
            var step = newChildren.next();
            for (; oldFiber !== null && !step.done; newIdx++, step = newChildren.next()) {
              if (oldFiber.index > newIdx) {
                nextOldFiber = oldFiber;
                oldFiber = null;
              } else {
                nextOldFiber = oldFiber.sibling;
              }
              var newFiber = updateSlot(returnFiber, oldFiber, step.value, lanes);
              if (newFiber === null) {
                if (oldFiber === null) {
                  oldFiber = nextOldFiber;
                }
                break;
              }
              if (shouldTrackSideEffects) {
                if (oldFiber && newFiber.alternate === null) {
                  deleteChild(returnFiber, oldFiber);
                }
              }
              lastPlacedIndex = placeChild(newFiber, lastPlacedIndex, newIdx);
              if (previousNewFiber === null) {
                resultingFirstChild = newFiber;
              } else {
                previousNewFiber.sibling = newFiber;
              }
              previousNewFiber = newFiber;
              oldFiber = nextOldFiber;
            }
            if (step.done) {
              deleteRemainingChildren(returnFiber, oldFiber);
              return resultingFirstChild;
            }
            if (oldFiber === null) {
              for (; !step.done; newIdx++, step = newChildren.next()) {
                var _newFiber3 = createChild(returnFiber, step.value, lanes);
                if (_newFiber3 === null) {
                  continue;
                }
                lastPlacedIndex = placeChild(_newFiber3, lastPlacedIndex, newIdx);
                if (previousNewFiber === null) {
                  resultingFirstChild = _newFiber3;
                } else {
                  previousNewFiber.sibling = _newFiber3;
                }
                previousNewFiber = _newFiber3;
              }
              return resultingFirstChild;
            }
            var existingChildren = mapRemainingChildren(returnFiber, oldFiber);
            for (; !step.done; newIdx++, step = newChildren.next()) {
              var _newFiber4 = updateFromMap(existingChildren, returnFiber, newIdx, step.value, lanes);
              if (_newFiber4 !== null) {
                if (shouldTrackSideEffects) {
                  if (_newFiber4.alternate !== null) {
                    existingChildren.delete(_newFiber4.key === null ? newIdx : _newFiber4.key);
                  }
                }
                lastPlacedIndex = placeChild(_newFiber4, lastPlacedIndex, newIdx);
                if (previousNewFiber === null) {
                  resultingFirstChild = _newFiber4;
                } else {
                  previousNewFiber.sibling = _newFiber4;
                }
                previousNewFiber = _newFiber4;
              }
            }
            if (shouldTrackSideEffects) {
              existingChildren.forEach(function(child2) {
                return deleteChild(returnFiber, child2);
              });
            }
            return resultingFirstChild;
          }
          function reconcileSingleTextNode(returnFiber, currentFirstChild, textContent, lanes) {
            if (currentFirstChild !== null && currentFirstChild.tag === HostText) {
              deleteRemainingChildren(returnFiber, currentFirstChild.sibling);
              var existing = useFiber(currentFirstChild, textContent);
              existing.return = returnFiber;
              return existing;
            }
            deleteRemainingChildren(returnFiber, currentFirstChild);
            var created = createFiberFromText(textContent, returnFiber.mode, lanes);
            created.return = returnFiber;
            return created;
          }
          function reconcileSingleElement(returnFiber, currentFirstChild, element, lanes) {
            var key = element.key;
            var child = currentFirstChild;
            while (child !== null) {
              if (child.key === key) {
                switch (child.tag) {
                  case Fragment2: {
                    if (element.type === REACT_FRAGMENT_TYPE) {
                      deleteRemainingChildren(returnFiber, child.sibling);
                      var existing = useFiber(child, element.props.children);
                      existing.return = returnFiber;
                      {
                        existing._debugSource = element._source;
                        existing._debugOwner = element._owner;
                      }
                      return existing;
                    }
                    break;
                  }
                  case Block:
                  default: {
                    if (child.elementType === element.type || isCompatibleFamilyForHotReloading(child, element)) {
                      deleteRemainingChildren(returnFiber, child.sibling);
                      var _existing3 = useFiber(child, element.props);
                      _existing3.ref = coerceRef(returnFiber, child, element);
                      _existing3.return = returnFiber;
                      {
                        _existing3._debugSource = element._source;
                        _existing3._debugOwner = element._owner;
                      }
                      return _existing3;
                    }
                    break;
                  }
                }
                deleteRemainingChildren(returnFiber, child);
                break;
              } else {
                deleteChild(returnFiber, child);
              }
              child = child.sibling;
            }
            if (element.type === REACT_FRAGMENT_TYPE) {
              var created = createFiberFromFragment(element.props.children, returnFiber.mode, lanes, element.key);
              created.return = returnFiber;
              return created;
            } else {
              var _created4 = createFiberFromElement(element, returnFiber.mode, lanes);
              _created4.ref = coerceRef(returnFiber, currentFirstChild, element);
              _created4.return = returnFiber;
              return _created4;
            }
          }
          function reconcileSinglePortal(returnFiber, currentFirstChild, portal, lanes) {
            var key = portal.key;
            var child = currentFirstChild;
            while (child !== null) {
              if (child.key === key) {
                if (child.tag === HostPortal && child.stateNode.containerInfo === portal.containerInfo && child.stateNode.implementation === portal.implementation) {
                  deleteRemainingChildren(returnFiber, child.sibling);
                  var existing = useFiber(child, portal.children || []);
                  existing.return = returnFiber;
                  return existing;
                } else {
                  deleteRemainingChildren(returnFiber, child);
                  break;
                }
              } else {
                deleteChild(returnFiber, child);
              }
              child = child.sibling;
            }
            var created = createFiberFromPortal(portal, returnFiber.mode, lanes);
            created.return = returnFiber;
            return created;
          }
          function reconcileChildFibers2(returnFiber, currentFirstChild, newChild, lanes) {
            var isUnkeyedTopLevelFragment = typeof newChild === "object" && newChild !== null && newChild.type === REACT_FRAGMENT_TYPE && newChild.key === null;
            if (isUnkeyedTopLevelFragment) {
              newChild = newChild.props.children;
            }
            var isObject = typeof newChild === "object" && newChild !== null;
            if (isObject) {
              switch (newChild.$$typeof) {
                case REACT_ELEMENT_TYPE:
                  return placeSingleChild(reconcileSingleElement(returnFiber, currentFirstChild, newChild, lanes));
                case REACT_PORTAL_TYPE:
                  return placeSingleChild(reconcileSinglePortal(returnFiber, currentFirstChild, newChild, lanes));
              }
            }
            if (typeof newChild === "string" || typeof newChild === "number") {
              return placeSingleChild(reconcileSingleTextNode(returnFiber, currentFirstChild, "" + newChild, lanes));
            }
            if (isArray$1(newChild)) {
              return reconcileChildrenArray(returnFiber, currentFirstChild, newChild, lanes);
            }
            if (getIteratorFn(newChild)) {
              return reconcileChildrenIterator(returnFiber, currentFirstChild, newChild, lanes);
            }
            if (isObject) {
              throwOnInvalidObjectType(returnFiber, newChild);
            }
            {
              if (typeof newChild === "function") {
                warnOnFunctionType(returnFiber);
              }
            }
            if (typeof newChild === "undefined" && !isUnkeyedTopLevelFragment) {
              switch (returnFiber.tag) {
                case ClassComponent: {
                  {
                    var instance = returnFiber.stateNode;
                    if (instance.render._isMockFunction) {
                      break;
                    }
                  }
                }
                case Block:
                case FunctionComponent:
                case ForwardRef:
                case SimpleMemoComponent: {
                  {
                    {
                      throw Error((getComponentName(returnFiber.type) || "Component") + "(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.");
                    }
                  }
                }
              }
            }
            return deleteRemainingChildren(returnFiber, currentFirstChild);
          }
          return reconcileChildFibers2;
        }
        var reconcileChildFibers = ChildReconciler(true);
        var mountChildFibers = ChildReconciler(false);
        function cloneChildFibers(current2, workInProgress2) {
          if (!(current2 === null || workInProgress2.child === current2.child)) {
            {
              throw Error("Resuming work not yet implemented.");
            }
          }
          if (workInProgress2.child === null) {
            return;
          }
          var currentChild = workInProgress2.child;
          var newChild = createWorkInProgress(currentChild, currentChild.pendingProps);
          workInProgress2.child = newChild;
          newChild.return = workInProgress2;
          while (currentChild.sibling !== null) {
            currentChild = currentChild.sibling;
            newChild = newChild.sibling = createWorkInProgress(currentChild, currentChild.pendingProps);
            newChild.return = workInProgress2;
          }
          newChild.sibling = null;
        }
        function resetChildFibers(workInProgress2, lanes) {
          var child = workInProgress2.child;
          while (child !== null) {
            resetWorkInProgress(child, lanes);
            child = child.sibling;
          }
        }
        var NO_CONTEXT = {};
        var contextStackCursor$1 = createCursor(NO_CONTEXT);
        var contextFiberStackCursor = createCursor(NO_CONTEXT);
        var rootInstanceStackCursor = createCursor(NO_CONTEXT);
        function requiredContext(c3) {
          if (!(c3 !== NO_CONTEXT)) {
            {
              throw Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");
            }
          }
          return c3;
        }
        function getRootHostContainer() {
          var rootInstance = requiredContext(rootInstanceStackCursor.current);
          return rootInstance;
        }
        function pushHostContainer(fiber, nextRootInstance) {
          push(rootInstanceStackCursor, nextRootInstance, fiber);
          push(contextFiberStackCursor, fiber, fiber);
          push(contextStackCursor$1, NO_CONTEXT, fiber);
          var nextRootContext = getRootHostContext(nextRootInstance);
          pop(contextStackCursor$1, fiber);
          push(contextStackCursor$1, nextRootContext, fiber);
        }
        function popHostContainer(fiber) {
          pop(contextStackCursor$1, fiber);
          pop(contextFiberStackCursor, fiber);
          pop(rootInstanceStackCursor, fiber);
        }
        function getHostContext() {
          var context = requiredContext(contextStackCursor$1.current);
          return context;
        }
        function pushHostContext(fiber) {
          var rootInstance = requiredContext(rootInstanceStackCursor.current);
          var context = requiredContext(contextStackCursor$1.current);
          var nextContext = getChildHostContext(context, fiber.type);
          if (context === nextContext) {
            return;
          }
          push(contextFiberStackCursor, fiber, fiber);
          push(contextStackCursor$1, nextContext, fiber);
        }
        function popHostContext(fiber) {
          if (contextFiberStackCursor.current !== fiber) {
            return;
          }
          pop(contextStackCursor$1, fiber);
          pop(contextFiberStackCursor, fiber);
        }
        var DefaultSuspenseContext = 0;
        var SubtreeSuspenseContextMask = 1;
        var InvisibleParentSuspenseContext = 1;
        var ForceSuspenseFallback = 2;
        var suspenseStackCursor = createCursor(DefaultSuspenseContext);
        function hasSuspenseContext(parentContext, flag) {
          return (parentContext & flag) !== 0;
        }
        function setDefaultShallowSuspenseContext(parentContext) {
          return parentContext & SubtreeSuspenseContextMask;
        }
        function setShallowSuspenseContext(parentContext, shallowContext) {
          return parentContext & SubtreeSuspenseContextMask | shallowContext;
        }
        function addSubtreeSuspenseContext(parentContext, subtreeContext) {
          return parentContext | subtreeContext;
        }
        function pushSuspenseContext(fiber, newContext) {
          push(suspenseStackCursor, newContext, fiber);
        }
        function popSuspenseContext(fiber) {
          pop(suspenseStackCursor, fiber);
        }
        function shouldCaptureSuspense(workInProgress2, hasInvisibleParent) {
          var nextState = workInProgress2.memoizedState;
          if (nextState !== null) {
            if (nextState.dehydrated !== null) {
              return true;
            }
            return false;
          }
          var props = workInProgress2.memoizedProps;
          if (props.fallback === void 0) {
            return false;
          }
          if (props.unstable_avoidThisFallback !== true) {
            return true;
          }
          if (hasInvisibleParent) {
            return false;
          }
          return true;
        }
        function findFirstSuspended(row) {
          var node = row;
          while (node !== null) {
            if (node.tag === SuspenseComponent) {
              var state = node.memoizedState;
              if (state !== null) {
                var dehydrated = state.dehydrated;
                if (dehydrated === null || isSuspenseInstancePending(dehydrated) || isSuspenseInstanceFallback(dehydrated)) {
                  return node;
                }
              }
            } else if (node.tag === SuspenseListComponent && node.memoizedProps.revealOrder !== void 0) {
              var didSuspend = (node.flags & DidCapture) !== NoFlags;
              if (didSuspend) {
                return node;
              }
            } else if (node.child !== null) {
              node.child.return = node;
              node = node.child;
              continue;
            }
            if (node === row) {
              return null;
            }
            while (node.sibling === null) {
              if (node.return === null || node.return === row) {
                return null;
              }
              node = node.return;
            }
            node.sibling.return = node.return;
            node = node.sibling;
          }
          return null;
        }
        var NoFlags$1 = 0;
        var HasEffect = 1;
        var Layout = 2;
        var Passive$1 = 4;
        var hydrationParentFiber = null;
        var nextHydratableInstance = null;
        var isHydrating = false;
        function enterHydrationState(fiber) {
          var parentInstance = fiber.stateNode.containerInfo;
          nextHydratableInstance = getFirstHydratableChild(parentInstance);
          hydrationParentFiber = fiber;
          isHydrating = true;
          return true;
        }
        function deleteHydratableInstance(returnFiber, instance) {
          {
            switch (returnFiber.tag) {
              case HostRoot:
                didNotHydrateContainerInstance(returnFiber.stateNode.containerInfo, instance);
                break;
              case HostComponent:
                didNotHydrateInstance(returnFiber.type, returnFiber.memoizedProps, returnFiber.stateNode, instance);
                break;
            }
          }
          var childToDelete = createFiberFromHostInstanceForDeletion();
          childToDelete.stateNode = instance;
          childToDelete.return = returnFiber;
          childToDelete.flags = Deletion;
          if (returnFiber.lastEffect !== null) {
            returnFiber.lastEffect.nextEffect = childToDelete;
            returnFiber.lastEffect = childToDelete;
          } else {
            returnFiber.firstEffect = returnFiber.lastEffect = childToDelete;
          }
        }
        function insertNonHydratedInstance(returnFiber, fiber) {
          fiber.flags = fiber.flags & ~Hydrating | Placement;
          {
            switch (returnFiber.tag) {
              case HostRoot: {
                var parentContainer = returnFiber.stateNode.containerInfo;
                switch (fiber.tag) {
                  case HostComponent:
                    var type = fiber.type;
                    var props = fiber.pendingProps;
                    didNotFindHydratableContainerInstance(parentContainer, type);
                    break;
                  case HostText:
                    var text = fiber.pendingProps;
                    didNotFindHydratableContainerTextInstance(parentContainer, text);
                    break;
                }
                break;
              }
              case HostComponent: {
                var parentType = returnFiber.type;
                var parentProps = returnFiber.memoizedProps;
                var parentInstance = returnFiber.stateNode;
                switch (fiber.tag) {
                  case HostComponent:
                    var _type = fiber.type;
                    var _props = fiber.pendingProps;
                    didNotFindHydratableInstance(parentType, parentProps, parentInstance, _type);
                    break;
                  case HostText:
                    var _text = fiber.pendingProps;
                    didNotFindHydratableTextInstance(parentType, parentProps, parentInstance, _text);
                    break;
                  case SuspenseComponent:
                    didNotFindHydratableSuspenseInstance(parentType, parentProps);
                    break;
                }
                break;
              }
              default:
                return;
            }
          }
        }
        function tryHydrate(fiber, nextInstance) {
          switch (fiber.tag) {
            case HostComponent: {
              var type = fiber.type;
              var props = fiber.pendingProps;
              var instance = canHydrateInstance(nextInstance, type);
              if (instance !== null) {
                fiber.stateNode = instance;
                return true;
              }
              return false;
            }
            case HostText: {
              var text = fiber.pendingProps;
              var textInstance = canHydrateTextInstance(nextInstance, text);
              if (textInstance !== null) {
                fiber.stateNode = textInstance;
                return true;
              }
              return false;
            }
            case SuspenseComponent: {
              return false;
            }
            default:
              return false;
          }
        }
        function tryToClaimNextHydratableInstance(fiber) {
          if (!isHydrating) {
            return;
          }
          var nextInstance = nextHydratableInstance;
          if (!nextInstance) {
            insertNonHydratedInstance(hydrationParentFiber, fiber);
            isHydrating = false;
            hydrationParentFiber = fiber;
            return;
          }
          var firstAttemptedInstance = nextInstance;
          if (!tryHydrate(fiber, nextInstance)) {
            nextInstance = getNextHydratableSibling(firstAttemptedInstance);
            if (!nextInstance || !tryHydrate(fiber, nextInstance)) {
              insertNonHydratedInstance(hydrationParentFiber, fiber);
              isHydrating = false;
              hydrationParentFiber = fiber;
              return;
            }
            deleteHydratableInstance(hydrationParentFiber, firstAttemptedInstance);
          }
          hydrationParentFiber = fiber;
          nextHydratableInstance = getFirstHydratableChild(nextInstance);
        }
        function prepareToHydrateHostInstance(fiber, rootContainerInstance, hostContext) {
          var instance = fiber.stateNode;
          var updatePayload = hydrateInstance(instance, fiber.type, fiber.memoizedProps, rootContainerInstance, hostContext, fiber);
          fiber.updateQueue = updatePayload;
          if (updatePayload !== null) {
            return true;
          }
          return false;
        }
        function prepareToHydrateHostTextInstance(fiber) {
          var textInstance = fiber.stateNode;
          var textContent = fiber.memoizedProps;
          var shouldUpdate = hydrateTextInstance(textInstance, textContent, fiber);
          {
            if (shouldUpdate) {
              var returnFiber = hydrationParentFiber;
              if (returnFiber !== null) {
                switch (returnFiber.tag) {
                  case HostRoot: {
                    var parentContainer = returnFiber.stateNode.containerInfo;
                    didNotMatchHydratedContainerTextInstance(parentContainer, textInstance, textContent);
                    break;
                  }
                  case HostComponent: {
                    var parentType = returnFiber.type;
                    var parentProps = returnFiber.memoizedProps;
                    var parentInstance = returnFiber.stateNode;
                    didNotMatchHydratedTextInstance(parentType, parentProps, parentInstance, textInstance, textContent);
                    break;
                  }
                }
              }
            }
          }
          return shouldUpdate;
        }
        function skipPastDehydratedSuspenseInstance(fiber) {
          var suspenseState = fiber.memoizedState;
          var suspenseInstance = suspenseState !== null ? suspenseState.dehydrated : null;
          if (!suspenseInstance) {
            {
              throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");
            }
          }
          return getNextHydratableInstanceAfterSuspenseInstance(suspenseInstance);
        }
        function popToNextHostParent(fiber) {
          var parent = fiber.return;
          while (parent !== null && parent.tag !== HostComponent && parent.tag !== HostRoot && parent.tag !== SuspenseComponent) {
            parent = parent.return;
          }
          hydrationParentFiber = parent;
        }
        function popHydrationState(fiber) {
          if (fiber !== hydrationParentFiber) {
            return false;
          }
          if (!isHydrating) {
            popToNextHostParent(fiber);
            isHydrating = true;
            return false;
          }
          var type = fiber.type;
          if (fiber.tag !== HostComponent || type !== "head" && type !== "body" && !shouldSetTextContent(type, fiber.memoizedProps)) {
            var nextInstance = nextHydratableInstance;
            while (nextInstance) {
              deleteHydratableInstance(fiber, nextInstance);
              nextInstance = getNextHydratableSibling(nextInstance);
            }
          }
          popToNextHostParent(fiber);
          if (fiber.tag === SuspenseComponent) {
            nextHydratableInstance = skipPastDehydratedSuspenseInstance(fiber);
          } else {
            nextHydratableInstance = hydrationParentFiber ? getNextHydratableSibling(fiber.stateNode) : null;
          }
          return true;
        }
        function resetHydrationState() {
          hydrationParentFiber = null;
          nextHydratableInstance = null;
          isHydrating = false;
        }
        function getIsHydrating() {
          return isHydrating;
        }
        var workInProgressSources = [];
        var rendererSigil$1;
        {
          rendererSigil$1 = {};
        }
        function markSourceAsDirty(mutableSource) {
          workInProgressSources.push(mutableSource);
        }
        function resetWorkInProgressVersions() {
          for (var i3 = 0; i3 < workInProgressSources.length; i3++) {
            var mutableSource = workInProgressSources[i3];
            {
              mutableSource._workInProgressVersionPrimary = null;
            }
          }
          workInProgressSources.length = 0;
        }
        function getWorkInProgressVersion(mutableSource) {
          {
            return mutableSource._workInProgressVersionPrimary;
          }
        }
        function setWorkInProgressVersion(mutableSource, version) {
          {
            mutableSource._workInProgressVersionPrimary = version;
          }
          workInProgressSources.push(mutableSource);
        }
        function warnAboutMultipleRenderersDEV(mutableSource) {
          {
            {
              if (mutableSource._currentPrimaryRenderer == null) {
                mutableSource._currentPrimaryRenderer = rendererSigil$1;
              } else if (mutableSource._currentPrimaryRenderer !== rendererSigil$1) {
                error("Detected multiple renderers concurrently rendering the same mutable source. This is currently unsupported.");
              }
            }
          }
        }
        var ReactCurrentDispatcher$1 = ReactSharedInternals.ReactCurrentDispatcher, ReactCurrentBatchConfig$1 = ReactSharedInternals.ReactCurrentBatchConfig;
        var didWarnAboutMismatchedHooksForComponent;
        var didWarnAboutUseOpaqueIdentifier;
        {
          didWarnAboutUseOpaqueIdentifier = {};
          didWarnAboutMismatchedHooksForComponent = new Set();
        }
        var renderLanes = NoLanes;
        var currentlyRenderingFiber$1 = null;
        var currentHook = null;
        var workInProgressHook = null;
        var didScheduleRenderPhaseUpdate = false;
        var didScheduleRenderPhaseUpdateDuringThisPass = false;
        var RE_RENDER_LIMIT = 25;
        var currentHookNameInDev = null;
        var hookTypesDev = null;
        var hookTypesUpdateIndexDev = -1;
        var ignorePreviousDependencies = false;
        function mountHookTypesDev() {
          {
            var hookName = currentHookNameInDev;
            if (hookTypesDev === null) {
              hookTypesDev = [hookName];
            } else {
              hookTypesDev.push(hookName);
            }
          }
        }
        function updateHookTypesDev() {
          {
            var hookName = currentHookNameInDev;
            if (hookTypesDev !== null) {
              hookTypesUpdateIndexDev++;
              if (hookTypesDev[hookTypesUpdateIndexDev] !== hookName) {
                warnOnHookMismatchInDev(hookName);
              }
            }
          }
        }
        function checkDepsAreArrayDev(deps) {
          {
            if (deps !== void 0 && deps !== null && !Array.isArray(deps)) {
              error("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.", currentHookNameInDev, typeof deps);
            }
          }
        }
        function warnOnHookMismatchInDev(currentHookName) {
          {
            var componentName = getComponentName(currentlyRenderingFiber$1.type);
            if (!didWarnAboutMismatchedHooksForComponent.has(componentName)) {
              didWarnAboutMismatchedHooksForComponent.add(componentName);
              if (hookTypesDev !== null) {
                var table = "";
                var secondColumnStart = 30;
                for (var i3 = 0; i3 <= hookTypesUpdateIndexDev; i3++) {
                  var oldHookName = hookTypesDev[i3];
                  var newHookName = i3 === hookTypesUpdateIndexDev ? currentHookName : oldHookName;
                  var row = i3 + 1 + ". " + oldHookName;
                  while (row.length < secondColumnStart) {
                    row += " ";
                  }
                  row += newHookName + "\n";
                  table += row;
                }
                error("React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks\n\n   Previous render            Next render\n   ------------------------------------------------------\n%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", componentName, table);
              }
            }
          }
        }
        function throwInvalidHookError() {
          {
            {
              throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.");
            }
          }
        }
        function areHookInputsEqual(nextDeps, prevDeps) {
          {
            if (ignorePreviousDependencies) {
              return false;
            }
          }
          if (prevDeps === null) {
            {
              error("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.", currentHookNameInDev);
            }
            return false;
          }
          {
            if (nextDeps.length !== prevDeps.length) {
              error("The final argument passed to %s changed size between renders. The order and size of this array must remain constant.\n\nPrevious: %s\nIncoming: %s", currentHookNameInDev, "[" + prevDeps.join(", ") + "]", "[" + nextDeps.join(", ") + "]");
            }
          }
          for (var i3 = 0; i3 < prevDeps.length && i3 < nextDeps.length; i3++) {
            if (objectIs(nextDeps[i3], prevDeps[i3])) {
              continue;
            }
            return false;
          }
          return true;
        }
        function renderWithHooks(current2, workInProgress2, Component, props, secondArg, nextRenderLanes) {
          renderLanes = nextRenderLanes;
          currentlyRenderingFiber$1 = workInProgress2;
          {
            hookTypesDev = current2 !== null ? current2._debugHookTypes : null;
            hookTypesUpdateIndexDev = -1;
            ignorePreviousDependencies = current2 !== null && current2.type !== workInProgress2.type;
          }
          workInProgress2.memoizedState = null;
          workInProgress2.updateQueue = null;
          workInProgress2.lanes = NoLanes;
          {
            if (current2 !== null && current2.memoizedState !== null) {
              ReactCurrentDispatcher$1.current = HooksDispatcherOnUpdateInDEV;
            } else if (hookTypesDev !== null) {
              ReactCurrentDispatcher$1.current = HooksDispatcherOnMountWithHookTypesInDEV;
            } else {
              ReactCurrentDispatcher$1.current = HooksDispatcherOnMountInDEV;
            }
          }
          var children = Component(props, secondArg);
          if (didScheduleRenderPhaseUpdateDuringThisPass) {
            var numberOfReRenders = 0;
            do {
              didScheduleRenderPhaseUpdateDuringThisPass = false;
              if (!(numberOfReRenders < RE_RENDER_LIMIT)) {
                {
                  throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");
                }
              }
              numberOfReRenders += 1;
              {
                ignorePreviousDependencies = false;
              }
              currentHook = null;
              workInProgressHook = null;
              workInProgress2.updateQueue = null;
              {
                hookTypesUpdateIndexDev = -1;
              }
              ReactCurrentDispatcher$1.current = HooksDispatcherOnRerenderInDEV;
              children = Component(props, secondArg);
            } while (didScheduleRenderPhaseUpdateDuringThisPass);
          }
          ReactCurrentDispatcher$1.current = ContextOnlyDispatcher;
          {
            workInProgress2._debugHookTypes = hookTypesDev;
          }
          var didRenderTooFewHooks = currentHook !== null && currentHook.next !== null;
          renderLanes = NoLanes;
          currentlyRenderingFiber$1 = null;
          currentHook = null;
          workInProgressHook = null;
          {
            currentHookNameInDev = null;
            hookTypesDev = null;
            hookTypesUpdateIndexDev = -1;
          }
          didScheduleRenderPhaseUpdate = false;
          if (!!didRenderTooFewHooks) {
            {
              throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");
            }
          }
          return children;
        }
        function bailoutHooks(current2, workInProgress2, lanes) {
          workInProgress2.updateQueue = current2.updateQueue;
          workInProgress2.flags &= ~(Passive | Update);
          current2.lanes = removeLanes(current2.lanes, lanes);
        }
        function resetHooksAfterThrow() {
          ReactCurrentDispatcher$1.current = ContextOnlyDispatcher;
          if (didScheduleRenderPhaseUpdate) {
            var hook = currentlyRenderingFiber$1.memoizedState;
            while (hook !== null) {
              var queue = hook.queue;
              if (queue !== null) {
                queue.pending = null;
              }
              hook = hook.next;
            }
            didScheduleRenderPhaseUpdate = false;
          }
          renderLanes = NoLanes;
          currentlyRenderingFiber$1 = null;
          currentHook = null;
          workInProgressHook = null;
          {
            hookTypesDev = null;
            hookTypesUpdateIndexDev = -1;
            currentHookNameInDev = null;
            isUpdatingOpaqueValueInRenderPhase = false;
          }
          didScheduleRenderPhaseUpdateDuringThisPass = false;
        }
        function mountWorkInProgressHook() {
          var hook = {
            memoizedState: null,
            baseState: null,
            baseQueue: null,
            queue: null,
            next: null
          };
          if (workInProgressHook === null) {
            currentlyRenderingFiber$1.memoizedState = workInProgressHook = hook;
          } else {
            workInProgressHook = workInProgressHook.next = hook;
          }
          return workInProgressHook;
        }
        function updateWorkInProgressHook() {
          var nextCurrentHook;
          if (currentHook === null) {
            var current2 = currentlyRenderingFiber$1.alternate;
            if (current2 !== null) {
              nextCurrentHook = current2.memoizedState;
            } else {
              nextCurrentHook = null;
            }
          } else {
            nextCurrentHook = currentHook.next;
          }
          var nextWorkInProgressHook;
          if (workInProgressHook === null) {
            nextWorkInProgressHook = currentlyRenderingFiber$1.memoizedState;
          } else {
            nextWorkInProgressHook = workInProgressHook.next;
          }
          if (nextWorkInProgressHook !== null) {
            workInProgressHook = nextWorkInProgressHook;
            nextWorkInProgressHook = workInProgressHook.next;
            currentHook = nextCurrentHook;
          } else {
            if (!(nextCurrentHook !== null)) {
              {
                throw Error("Rendered more hooks than during the previous render.");
              }
            }
            currentHook = nextCurrentHook;
            var newHook = {
              memoizedState: currentHook.memoizedState,
              baseState: currentHook.baseState,
              baseQueue: currentHook.baseQueue,
              queue: currentHook.queue,
              next: null
            };
            if (workInProgressHook === null) {
              currentlyRenderingFiber$1.memoizedState = workInProgressHook = newHook;
            } else {
              workInProgressHook = workInProgressHook.next = newHook;
            }
          }
          return workInProgressHook;
        }
        function createFunctionComponentUpdateQueue() {
          return {
            lastEffect: null
          };
        }
        function basicStateReducer(state, action) {
          return typeof action === "function" ? action(state) : action;
        }
        function mountReducer(reducer, initialArg, init) {
          var hook = mountWorkInProgressHook();
          var initialState;
          if (init !== void 0) {
            initialState = init(initialArg);
          } else {
            initialState = initialArg;
          }
          hook.memoizedState = hook.baseState = initialState;
          var queue = hook.queue = {
            pending: null,
            dispatch: null,
            lastRenderedReducer: reducer,
            lastRenderedState: initialState
          };
          var dispatch = queue.dispatch = dispatchAction.bind(null, currentlyRenderingFiber$1, queue);
          return [hook.memoizedState, dispatch];
        }
        function updateReducer(reducer, initialArg, init) {
          var hook = updateWorkInProgressHook();
          var queue = hook.queue;
          if (!(queue !== null)) {
            {
              throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");
            }
          }
          queue.lastRenderedReducer = reducer;
          var current2 = currentHook;
          var baseQueue = current2.baseQueue;
          var pendingQueue = queue.pending;
          if (pendingQueue !== null) {
            if (baseQueue !== null) {
              var baseFirst = baseQueue.next;
              var pendingFirst = pendingQueue.next;
              baseQueue.next = pendingFirst;
              pendingQueue.next = baseFirst;
            }
            {
              if (current2.baseQueue !== baseQueue) {
                error("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React.");
              }
            }
            current2.baseQueue = baseQueue = pendingQueue;
            queue.pending = null;
          }
          if (baseQueue !== null) {
            var first = baseQueue.next;
            var newState = current2.baseState;
            var newBaseState = null;
            var newBaseQueueFirst = null;
            var newBaseQueueLast = null;
            var update = first;
            do {
              var updateLane = update.lane;
              if (!isSubsetOfLanes(renderLanes, updateLane)) {
                var clone = {
                  lane: updateLane,
                  action: update.action,
                  eagerReducer: update.eagerReducer,
                  eagerState: update.eagerState,
                  next: null
                };
                if (newBaseQueueLast === null) {
                  newBaseQueueFirst = newBaseQueueLast = clone;
                  newBaseState = newState;
                } else {
                  newBaseQueueLast = newBaseQueueLast.next = clone;
                }
                currentlyRenderingFiber$1.lanes = mergeLanes(currentlyRenderingFiber$1.lanes, updateLane);
                markSkippedUpdateLanes(updateLane);
              } else {
                if (newBaseQueueLast !== null) {
                  var _clone = {
                    lane: NoLane,
                    action: update.action,
                    eagerReducer: update.eagerReducer,
                    eagerState: update.eagerState,
                    next: null
                  };
                  newBaseQueueLast = newBaseQueueLast.next = _clone;
                }
                if (update.eagerReducer === reducer) {
                  newState = update.eagerState;
                } else {
                  var action = update.action;
                  newState = reducer(newState, action);
                }
              }
              update = update.next;
            } while (update !== null && update !== first);
            if (newBaseQueueLast === null) {
              newBaseState = newState;
            } else {
              newBaseQueueLast.next = newBaseQueueFirst;
            }
            if (!objectIs(newState, hook.memoizedState)) {
              markWorkInProgressReceivedUpdate();
            }
            hook.memoizedState = newState;
            hook.baseState = newBaseState;
            hook.baseQueue = newBaseQueueLast;
            queue.lastRenderedState = newState;
          }
          var dispatch = queue.dispatch;
          return [hook.memoizedState, dispatch];
        }
        function rerenderReducer(reducer, initialArg, init) {
          var hook = updateWorkInProgressHook();
          var queue = hook.queue;
          if (!(queue !== null)) {
            {
              throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");
            }
          }
          queue.lastRenderedReducer = reducer;
          var dispatch = queue.dispatch;
          var lastRenderPhaseUpdate = queue.pending;
          var newState = hook.memoizedState;
          if (lastRenderPhaseUpdate !== null) {
            queue.pending = null;
            var firstRenderPhaseUpdate = lastRenderPhaseUpdate.next;
            var update = firstRenderPhaseUpdate;
            do {
              var action = update.action;
              newState = reducer(newState, action);
              update = update.next;
            } while (update !== firstRenderPhaseUpdate);
            if (!objectIs(newState, hook.memoizedState)) {
              markWorkInProgressReceivedUpdate();
            }
            hook.memoizedState = newState;
            if (hook.baseQueue === null) {
              hook.baseState = newState;
            }
            queue.lastRenderedState = newState;
          }
          return [newState, dispatch];
        }
        function readFromUnsubcribedMutableSource(root2, source, getSnapshot) {
          {
            warnAboutMultipleRenderersDEV(source);
          }
          var getVersion = source._getVersion;
          var version = getVersion(source._source);
          var isSafeToReadFromSource = false;
          var currentRenderVersion = getWorkInProgressVersion(source);
          if (currentRenderVersion !== null) {
            isSafeToReadFromSource = currentRenderVersion === version;
          } else {
            isSafeToReadFromSource = isSubsetOfLanes(renderLanes, root2.mutableReadLanes);
            if (isSafeToReadFromSource) {
              setWorkInProgressVersion(source, version);
            }
          }
          if (isSafeToReadFromSource) {
            var snapshot = getSnapshot(source._source);
            {
              if (typeof snapshot === "function") {
                error("Mutable source should not return a function as the snapshot value. Functions may close over mutable values and cause tearing.");
              }
            }
            return snapshot;
          } else {
            markSourceAsDirty(source);
            {
              {
                throw Error("Cannot read from mutable source during the current render without tearing. This is a bug in React. Please file an issue.");
              }
            }
          }
        }
        function useMutableSource(hook, source, getSnapshot, subscribe) {
          var root2 = getWorkInProgressRoot();
          if (!(root2 !== null)) {
            {
              throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");
            }
          }
          var getVersion = source._getVersion;
          var version = getVersion(source._source);
          var dispatcher = ReactCurrentDispatcher$1.current;
          var _dispatcher$useState = dispatcher.useState(function() {
            return readFromUnsubcribedMutableSource(root2, source, getSnapshot);
          }), currentSnapshot = _dispatcher$useState[0], setSnapshot = _dispatcher$useState[1];
          var snapshot = currentSnapshot;
          var stateHook = workInProgressHook;
          var memoizedState = hook.memoizedState;
          var refs = memoizedState.refs;
          var prevGetSnapshot = refs.getSnapshot;
          var prevSource = memoizedState.source;
          var prevSubscribe = memoizedState.subscribe;
          var fiber = currentlyRenderingFiber$1;
          hook.memoizedState = {
            refs,
            source,
            subscribe
          };
          dispatcher.useEffect(function() {
            refs.getSnapshot = getSnapshot;
            refs.setSnapshot = setSnapshot;
            var maybeNewVersion = getVersion(source._source);
            if (!objectIs(version, maybeNewVersion)) {
              var maybeNewSnapshot = getSnapshot(source._source);
              {
                if (typeof maybeNewSnapshot === "function") {
                  error("Mutable source should not return a function as the snapshot value. Functions may close over mutable values and cause tearing.");
                }
              }
              if (!objectIs(snapshot, maybeNewSnapshot)) {
                setSnapshot(maybeNewSnapshot);
                var lane = requestUpdateLane(fiber);
                markRootMutableRead(root2, lane);
              }
              markRootEntangled(root2, root2.mutableReadLanes);
            }
          }, [getSnapshot, source, subscribe]);
          dispatcher.useEffect(function() {
            var handleChange = function() {
              var latestGetSnapshot = refs.getSnapshot;
              var latestSetSnapshot = refs.setSnapshot;
              try {
                latestSetSnapshot(latestGetSnapshot(source._source));
                var lane = requestUpdateLane(fiber);
                markRootMutableRead(root2, lane);
              } catch (error2) {
                latestSetSnapshot(function() {
                  throw error2;
                });
              }
            };
            var unsubscribe = subscribe(source._source, handleChange);
            {
              if (typeof unsubscribe !== "function") {
                error("Mutable source subscribe function must return an unsubscribe function.");
              }
            }
            return unsubscribe;
          }, [source, subscribe]);
          if (!objectIs(prevGetSnapshot, getSnapshot) || !objectIs(prevSource, source) || !objectIs(prevSubscribe, subscribe)) {
            var newQueue = {
              pending: null,
              dispatch: null,
              lastRenderedReducer: basicStateReducer,
              lastRenderedState: snapshot
            };
            newQueue.dispatch = setSnapshot = dispatchAction.bind(null, currentlyRenderingFiber$1, newQueue);
            stateHook.queue = newQueue;
            stateHook.baseQueue = null;
            snapshot = readFromUnsubcribedMutableSource(root2, source, getSnapshot);
            stateHook.memoizedState = stateHook.baseState = snapshot;
          }
          return snapshot;
        }
        function mountMutableSource(source, getSnapshot, subscribe) {
          var hook = mountWorkInProgressHook();
          hook.memoizedState = {
            refs: {
              getSnapshot,
              setSnapshot: null
            },
            source,
            subscribe
          };
          return useMutableSource(hook, source, getSnapshot, subscribe);
        }
        function updateMutableSource(source, getSnapshot, subscribe) {
          var hook = updateWorkInProgressHook();
          return useMutableSource(hook, source, getSnapshot, subscribe);
        }
        function mountState(initialState) {
          var hook = mountWorkInProgressHook();
          if (typeof initialState === "function") {
            initialState = initialState();
          }
          hook.memoizedState = hook.baseState = initialState;
          var queue = hook.queue = {
            pending: null,
            dispatch: null,
            lastRenderedReducer: basicStateReducer,
            lastRenderedState: initialState
          };
          var dispatch = queue.dispatch = dispatchAction.bind(null, currentlyRenderingFiber$1, queue);
          return [hook.memoizedState, dispatch];
        }
        function updateState(initialState) {
          return updateReducer(basicStateReducer);
        }
        function rerenderState(initialState) {
          return rerenderReducer(basicStateReducer);
        }
        function pushEffect(tag, create, destroy, deps) {
          var effect = {
            tag,
            create,
            destroy,
            deps,
            next: null
          };
          var componentUpdateQueue = currentlyRenderingFiber$1.updateQueue;
          if (componentUpdateQueue === null) {
            componentUpdateQueue = createFunctionComponentUpdateQueue();
            currentlyRenderingFiber$1.updateQueue = componentUpdateQueue;
            componentUpdateQueue.lastEffect = effect.next = effect;
          } else {
            var lastEffect = componentUpdateQueue.lastEffect;
            if (lastEffect === null) {
              componentUpdateQueue.lastEffect = effect.next = effect;
            } else {
              var firstEffect = lastEffect.next;
              lastEffect.next = effect;
              effect.next = firstEffect;
              componentUpdateQueue.lastEffect = effect;
            }
          }
          return effect;
        }
        function mountRef(initialValue) {
          var hook = mountWorkInProgressHook();
          var ref = {
            current: initialValue
          };
          {
            Object.seal(ref);
          }
          hook.memoizedState = ref;
          return ref;
        }
        function updateRef(initialValue) {
          var hook = updateWorkInProgressHook();
          return hook.memoizedState;
        }
        function mountEffectImpl(fiberFlags, hookFlags, create, deps) {
          var hook = mountWorkInProgressHook();
          var nextDeps = deps === void 0 ? null : deps;
          currentlyRenderingFiber$1.flags |= fiberFlags;
          hook.memoizedState = pushEffect(HasEffect | hookFlags, create, void 0, nextDeps);
        }
        function updateEffectImpl(fiberFlags, hookFlags, create, deps) {
          var hook = updateWorkInProgressHook();
          var nextDeps = deps === void 0 ? null : deps;
          var destroy = void 0;
          if (currentHook !== null) {
            var prevEffect = currentHook.memoizedState;
            destroy = prevEffect.destroy;
            if (nextDeps !== null) {
              var prevDeps = prevEffect.deps;
              if (areHookInputsEqual(nextDeps, prevDeps)) {
                pushEffect(hookFlags, create, destroy, nextDeps);
                return;
              }
            }
          }
          currentlyRenderingFiber$1.flags |= fiberFlags;
          hook.memoizedState = pushEffect(HasEffect | hookFlags, create, destroy, nextDeps);
        }
        function mountEffect(create, deps) {
          {
            if (typeof jest !== "undefined") {
              warnIfNotCurrentlyActingEffectsInDEV(currentlyRenderingFiber$1);
            }
          }
          return mountEffectImpl(Update | Passive, Passive$1, create, deps);
        }
        function updateEffect(create, deps) {
          {
            if (typeof jest !== "undefined") {
              warnIfNotCurrentlyActingEffectsInDEV(currentlyRenderingFiber$1);
            }
          }
          return updateEffectImpl(Update | Passive, Passive$1, create, deps);
        }
        function mountLayoutEffect(create, deps) {
          return mountEffectImpl(Update, Layout, create, deps);
        }
        function updateLayoutEffect(create, deps) {
          return updateEffectImpl(Update, Layout, create, deps);
        }
        function imperativeHandleEffect(create, ref) {
          if (typeof ref === "function") {
            var refCallback = ref;
            var _inst = create();
            refCallback(_inst);
            return function() {
              refCallback(null);
            };
          } else if (ref !== null && ref !== void 0) {
            var refObject = ref;
            {
              if (!refObject.hasOwnProperty("current")) {
                error("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.", "an object with keys {" + Object.keys(refObject).join(", ") + "}");
              }
            }
            var _inst2 = create();
            refObject.current = _inst2;
            return function() {
              refObject.current = null;
            };
          }
        }
        function mountImperativeHandle(ref, create, deps) {
          {
            if (typeof create !== "function") {
              error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.", create !== null ? typeof create : "null");
            }
          }
          var effectDeps = deps !== null && deps !== void 0 ? deps.concat([ref]) : null;
          return mountEffectImpl(Update, Layout, imperativeHandleEffect.bind(null, create, ref), effectDeps);
        }
        function updateImperativeHandle(ref, create, deps) {
          {
            if (typeof create !== "function") {
              error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.", create !== null ? typeof create : "null");
            }
          }
          var effectDeps = deps !== null && deps !== void 0 ? deps.concat([ref]) : null;
          return updateEffectImpl(Update, Layout, imperativeHandleEffect.bind(null, create, ref), effectDeps);
        }
        function mountDebugValue(value, formatterFn) {
        }
        var updateDebugValue = mountDebugValue;
        function mountCallback(callback, deps) {
          var hook = mountWorkInProgressHook();
          var nextDeps = deps === void 0 ? null : deps;
          hook.memoizedState = [callback, nextDeps];
          return callback;
        }
        function updateCallback(callback, deps) {
          var hook = updateWorkInProgressHook();
          var nextDeps = deps === void 0 ? null : deps;
          var prevState = hook.memoizedState;
          if (prevState !== null) {
            if (nextDeps !== null) {
              var prevDeps = prevState[1];
              if (areHookInputsEqual(nextDeps, prevDeps)) {
                return prevState[0];
              }
            }
          }
          hook.memoizedState = [callback, nextDeps];
          return callback;
        }
        function mountMemo(nextCreate, deps) {
          var hook = mountWorkInProgressHook();
          var nextDeps = deps === void 0 ? null : deps;
          var nextValue = nextCreate();
          hook.memoizedState = [nextValue, nextDeps];
          return nextValue;
        }
        function updateMemo(nextCreate, deps) {
          var hook = updateWorkInProgressHook();
          var nextDeps = deps === void 0 ? null : deps;
          var prevState = hook.memoizedState;
          if (prevState !== null) {
            if (nextDeps !== null) {
              var prevDeps = prevState[1];
              if (areHookInputsEqual(nextDeps, prevDeps)) {
                return prevState[0];
              }
            }
          }
          var nextValue = nextCreate();
          hook.memoizedState = [nextValue, nextDeps];
          return nextValue;
        }
        function mountDeferredValue(value) {
          var _mountState = mountState(value), prevValue = _mountState[0], setValue = _mountState[1];
          mountEffect(function() {
            var prevTransition = ReactCurrentBatchConfig$1.transition;
            ReactCurrentBatchConfig$1.transition = 1;
            try {
              setValue(value);
            } finally {
              ReactCurrentBatchConfig$1.transition = prevTransition;
            }
          }, [value]);
          return prevValue;
        }
        function updateDeferredValue(value) {
          var _updateState = updateState(), prevValue = _updateState[0], setValue = _updateState[1];
          updateEffect(function() {
            var prevTransition = ReactCurrentBatchConfig$1.transition;
            ReactCurrentBatchConfig$1.transition = 1;
            try {
              setValue(value);
            } finally {
              ReactCurrentBatchConfig$1.transition = prevTransition;
            }
          }, [value]);
          return prevValue;
        }
        function rerenderDeferredValue(value) {
          var _rerenderState = rerenderState(), prevValue = _rerenderState[0], setValue = _rerenderState[1];
          updateEffect(function() {
            var prevTransition = ReactCurrentBatchConfig$1.transition;
            ReactCurrentBatchConfig$1.transition = 1;
            try {
              setValue(value);
            } finally {
              ReactCurrentBatchConfig$1.transition = prevTransition;
            }
          }, [value]);
          return prevValue;
        }
        function startTransition(setPending, callback) {
          var priorityLevel = getCurrentPriorityLevel();
          {
            runWithPriority$1(priorityLevel < UserBlockingPriority$2 ? UserBlockingPriority$2 : priorityLevel, function() {
              setPending(true);
            });
            runWithPriority$1(priorityLevel > NormalPriority$1 ? NormalPriority$1 : priorityLevel, function() {
              var prevTransition = ReactCurrentBatchConfig$1.transition;
              ReactCurrentBatchConfig$1.transition = 1;
              try {
                setPending(false);
                callback();
              } finally {
                ReactCurrentBatchConfig$1.transition = prevTransition;
              }
            });
          }
        }
        function mountTransition() {
          var _mountState2 = mountState(false), isPending = _mountState2[0], setPending = _mountState2[1];
          var start = startTransition.bind(null, setPending);
          mountRef(start);
          return [start, isPending];
        }
        function updateTransition() {
          var _updateState2 = updateState(), isPending = _updateState2[0];
          var startRef = updateRef();
          var start = startRef.current;
          return [start, isPending];
        }
        function rerenderTransition() {
          var _rerenderState2 = rerenderState(), isPending = _rerenderState2[0];
          var startRef = updateRef();
          var start = startRef.current;
          return [start, isPending];
        }
        var isUpdatingOpaqueValueInRenderPhase = false;
        function getIsUpdatingOpaqueValueInRenderPhaseInDEV() {
          {
            return isUpdatingOpaqueValueInRenderPhase;
          }
        }
        function warnOnOpaqueIdentifierAccessInDEV(fiber) {
          {
            var name = getComponentName(fiber.type) || "Unknown";
            if (getIsRendering() && !didWarnAboutUseOpaqueIdentifier[name]) {
              error("The object passed back from useOpaqueIdentifier is meant to be passed through to attributes only. Do not read the value directly.");
              didWarnAboutUseOpaqueIdentifier[name] = true;
            }
          }
        }
        function mountOpaqueIdentifier() {
          var makeId = makeClientIdInDEV.bind(null, warnOnOpaqueIdentifierAccessInDEV.bind(null, currentlyRenderingFiber$1));
          if (getIsHydrating()) {
            var didUpgrade = false;
            var fiber = currentlyRenderingFiber$1;
            var readValue = function() {
              if (!didUpgrade) {
                didUpgrade = true;
                {
                  isUpdatingOpaqueValueInRenderPhase = true;
                  setId(makeId());
                  isUpdatingOpaqueValueInRenderPhase = false;
                  warnOnOpaqueIdentifierAccessInDEV(fiber);
                }
              }
              {
                {
                  throw Error("The object passed back from useOpaqueIdentifier is meant to be passed through to attributes only. Do not read the value directly.");
                }
              }
            };
            var id = makeOpaqueHydratingObject(readValue);
            var setId = mountState(id)[1];
            if ((currentlyRenderingFiber$1.mode & BlockingMode) === NoMode) {
              currentlyRenderingFiber$1.flags |= Update | Passive;
              pushEffect(HasEffect | Passive$1, function() {
                setId(makeId());
              }, void 0, null);
            }
            return id;
          } else {
            var _id = makeId();
            mountState(_id);
            return _id;
          }
        }
        function updateOpaqueIdentifier() {
          var id = updateState()[0];
          return id;
        }
        function rerenderOpaqueIdentifier() {
          var id = rerenderState()[0];
          return id;
        }
        function dispatchAction(fiber, queue, action) {
          {
            if (typeof arguments[3] === "function") {
              error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");
            }
          }
          var eventTime = requestEventTime();
          var lane = requestUpdateLane(fiber);
          var update = {
            lane,
            action,
            eagerReducer: null,
            eagerState: null,
            next: null
          };
          var pending = queue.pending;
          if (pending === null) {
            update.next = update;
          } else {
            update.next = pending.next;
            pending.next = update;
          }
          queue.pending = update;
          var alternate = fiber.alternate;
          if (fiber === currentlyRenderingFiber$1 || alternate !== null && alternate === currentlyRenderingFiber$1) {
            didScheduleRenderPhaseUpdateDuringThisPass = didScheduleRenderPhaseUpdate = true;
          } else {
            if (fiber.lanes === NoLanes && (alternate === null || alternate.lanes === NoLanes)) {
              var lastRenderedReducer = queue.lastRenderedReducer;
              if (lastRenderedReducer !== null) {
                var prevDispatcher;
                {
                  prevDispatcher = ReactCurrentDispatcher$1.current;
                  ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnUpdateInDEV;
                }
                try {
                  var currentState = queue.lastRenderedState;
                  var eagerState = lastRenderedReducer(currentState, action);
                  update.eagerReducer = lastRenderedReducer;
                  update.eagerState = eagerState;
                  if (objectIs(eagerState, currentState)) {
                    return;
                  }
                } catch (error2) {
                } finally {
                  {
                    ReactCurrentDispatcher$1.current = prevDispatcher;
                  }
                }
              }
            }
            {
              if (typeof jest !== "undefined") {
                warnIfNotScopedWithMatchingAct(fiber);
                warnIfNotCurrentlyActingUpdatesInDev(fiber);
              }
            }
            scheduleUpdateOnFiber(fiber, lane, eventTime);
          }
        }
        var ContextOnlyDispatcher = {
          readContext,
          useCallback: throwInvalidHookError,
          useContext: throwInvalidHookError,
          useEffect: throwInvalidHookError,
          useImperativeHandle: throwInvalidHookError,
          useLayoutEffect: throwInvalidHookError,
          useMemo: throwInvalidHookError,
          useReducer: throwInvalidHookError,
          useRef: throwInvalidHookError,
          useState: throwInvalidHookError,
          useDebugValue: throwInvalidHookError,
          useDeferredValue: throwInvalidHookError,
          useTransition: throwInvalidHookError,
          useMutableSource: throwInvalidHookError,
          useOpaqueIdentifier: throwInvalidHookError,
          unstable_isNewReconciler: enableNewReconciler
        };
        var HooksDispatcherOnMountInDEV = null;
        var HooksDispatcherOnMountWithHookTypesInDEV = null;
        var HooksDispatcherOnUpdateInDEV = null;
        var HooksDispatcherOnRerenderInDEV = null;
        var InvalidNestedHooksDispatcherOnMountInDEV = null;
        var InvalidNestedHooksDispatcherOnUpdateInDEV = null;
        var InvalidNestedHooksDispatcherOnRerenderInDEV = null;
        {
          var warnInvalidContextAccess = function() {
            error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");
          };
          var warnInvalidHookAccess = function() {
            error("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks");
          };
          HooksDispatcherOnMountInDEV = {
            readContext: function(context, observedBits) {
              return readContext(context, observedBits);
            },
            useCallback: function(callback, deps) {
              currentHookNameInDev = "useCallback";
              mountHookTypesDev();
              checkDepsAreArrayDev(deps);
              return mountCallback(callback, deps);
            },
            useContext: function(context, observedBits) {
              currentHookNameInDev = "useContext";
              mountHookTypesDev();
              return readContext(context, observedBits);
            },
            useEffect: function(create, deps) {
              currentHookNameInDev = "useEffect";
              mountHookTypesDev();
              checkDepsAreArrayDev(deps);
              return mountEffect(create, deps);
            },
            useImperativeHandle: function(ref, create, deps) {
              currentHookNameInDev = "useImperativeHandle";
              mountHookTypesDev();
              checkDepsAreArrayDev(deps);
              return mountImperativeHandle(ref, create, deps);
            },
            useLayoutEffect: function(create, deps) {
              currentHookNameInDev = "useLayoutEffect";
              mountHookTypesDev();
              checkDepsAreArrayDev(deps);
              return mountLayoutEffect(create, deps);
            },
            useMemo: function(create, deps) {
              currentHookNameInDev = "useMemo";
              mountHookTypesDev();
              checkDepsAreArrayDev(deps);
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnMountInDEV;
              try {
                return mountMemo(create, deps);
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
              }
            },
            useReducer: function(reducer, initialArg, init) {
              currentHookNameInDev = "useReducer";
              mountHookTypesDev();
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnMountInDEV;
              try {
                return mountReducer(reducer, initialArg, init);
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
              }
            },
            useRef: function(initialValue) {
              currentHookNameInDev = "useRef";
              mountHookTypesDev();
              return mountRef(initialValue);
            },
            useState: function(initialState) {
              currentHookNameInDev = "useState";
              mountHookTypesDev();
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnMountInDEV;
              try {
                return mountState(initialState);
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
              }
            },
            useDebugValue: function(value, formatterFn) {
              currentHookNameInDev = "useDebugValue";
              mountHookTypesDev();
              return mountDebugValue();
            },
            useDeferredValue: function(value) {
              currentHookNameInDev = "useDeferredValue";
              mountHookTypesDev();
              return mountDeferredValue(value);
            },
            useTransition: function() {
              currentHookNameInDev = "useTransition";
              mountHookTypesDev();
              return mountTransition();
            },
            useMutableSource: function(source, getSnapshot, subscribe) {
              currentHookNameInDev = "useMutableSource";
              mountHookTypesDev();
              return mountMutableSource(source, getSnapshot, subscribe);
            },
            useOpaqueIdentifier: function() {
              currentHookNameInDev = "useOpaqueIdentifier";
              mountHookTypesDev();
              return mountOpaqueIdentifier();
            },
            unstable_isNewReconciler: enableNewReconciler
          };
          HooksDispatcherOnMountWithHookTypesInDEV = {
            readContext: function(context, observedBits) {
              return readContext(context, observedBits);
            },
            useCallback: function(callback, deps) {
              currentHookNameInDev = "useCallback";
              updateHookTypesDev();
              return mountCallback(callback, deps);
            },
            useContext: function(context, observedBits) {
              currentHookNameInDev = "useContext";
              updateHookTypesDev();
              return readContext(context, observedBits);
            },
            useEffect: function(create, deps) {
              currentHookNameInDev = "useEffect";
              updateHookTypesDev();
              return mountEffect(create, deps);
            },
            useImperativeHandle: function(ref, create, deps) {
              currentHookNameInDev = "useImperativeHandle";
              updateHookTypesDev();
              return mountImperativeHandle(ref, create, deps);
            },
            useLayoutEffect: function(create, deps) {
              currentHookNameInDev = "useLayoutEffect";
              updateHookTypesDev();
              return mountLayoutEffect(create, deps);
            },
            useMemo: function(create, deps) {
              currentHookNameInDev = "useMemo";
              updateHookTypesDev();
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnMountInDEV;
              try {
                return mountMemo(create, deps);
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
              }
            },
            useReducer: function(reducer, initialArg, init) {
              currentHookNameInDev = "useReducer";
              updateHookTypesDev();
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnMountInDEV;
              try {
                return mountReducer(reducer, initialArg, init);
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
              }
            },
            useRef: function(initialValue) {
              currentHookNameInDev = "useRef";
              updateHookTypesDev();
              return mountRef(initialValue);
            },
            useState: function(initialState) {
              currentHookNameInDev = "useState";
              updateHookTypesDev();
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnMountInDEV;
              try {
                return mountState(initialState);
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
              }
            },
            useDebugValue: function(value, formatterFn) {
              currentHookNameInDev = "useDebugValue";
              updateHookTypesDev();
              return mountDebugValue();
            },
            useDeferredValue: function(value) {
              currentHookNameInDev = "useDeferredValue";
              updateHookTypesDev();
              return mountDeferredValue(value);
            },
            useTransition: function() {
              currentHookNameInDev = "useTransition";
              updateHookTypesDev();
              return mountTransition();
            },
            useMutableSource: function(source, getSnapshot, subscribe) {
              currentHookNameInDev = "useMutableSource";
              updateHookTypesDev();
              return mountMutableSource(source, getSnapshot, subscribe);
            },
            useOpaqueIdentifier: function() {
              currentHookNameInDev = "useOpaqueIdentifier";
              updateHookTypesDev();
              return mountOpaqueIdentifier();
            },
            unstable_isNewReconciler: enableNewReconciler
          };
          HooksDispatcherOnUpdateInDEV = {
            readContext: function(context, observedBits) {
              return readContext(context, observedBits);
            },
            useCallback: function(callback, deps) {
              currentHookNameInDev = "useCallback";
              updateHookTypesDev();
              return updateCallback(callback, deps);
            },
            useContext: function(context, observedBits) {
              currentHookNameInDev = "useContext";
              updateHookTypesDev();
              return readContext(context, observedBits);
            },
            useEffect: function(create, deps) {
              currentHookNameInDev = "useEffect";
              updateHookTypesDev();
              return updateEffect(create, deps);
            },
            useImperativeHandle: function(ref, create, deps) {
              currentHookNameInDev = "useImperativeHandle";
              updateHookTypesDev();
              return updateImperativeHandle(ref, create, deps);
            },
            useLayoutEffect: function(create, deps) {
              currentHookNameInDev = "useLayoutEffect";
              updateHookTypesDev();
              return updateLayoutEffect(create, deps);
            },
            useMemo: function(create, deps) {
              currentHookNameInDev = "useMemo";
              updateHookTypesDev();
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnUpdateInDEV;
              try {
                return updateMemo(create, deps);
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
              }
            },
            useReducer: function(reducer, initialArg, init) {
              currentHookNameInDev = "useReducer";
              updateHookTypesDev();
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnUpdateInDEV;
              try {
                return updateReducer(reducer, initialArg, init);
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
              }
            },
            useRef: function(initialValue) {
              currentHookNameInDev = "useRef";
              updateHookTypesDev();
              return updateRef();
            },
            useState: function(initialState) {
              currentHookNameInDev = "useState";
              updateHookTypesDev();
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnUpdateInDEV;
              try {
                return updateState(initialState);
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
              }
            },
            useDebugValue: function(value, formatterFn) {
              currentHookNameInDev = "useDebugValue";
              updateHookTypesDev();
              return updateDebugValue();
            },
            useDeferredValue: function(value) {
              currentHookNameInDev = "useDeferredValue";
              updateHookTypesDev();
              return updateDeferredValue(value);
            },
            useTransition: function() {
              currentHookNameInDev = "useTransition";
              updateHookTypesDev();
              return updateTransition();
            },
            useMutableSource: function(source, getSnapshot, subscribe) {
              currentHookNameInDev = "useMutableSource";
              updateHookTypesDev();
              return updateMutableSource(source, getSnapshot, subscribe);
            },
            useOpaqueIdentifier: function() {
              currentHookNameInDev = "useOpaqueIdentifier";
              updateHookTypesDev();
              return updateOpaqueIdentifier();
            },
            unstable_isNewReconciler: enableNewReconciler
          };
          HooksDispatcherOnRerenderInDEV = {
            readContext: function(context, observedBits) {
              return readContext(context, observedBits);
            },
            useCallback: function(callback, deps) {
              currentHookNameInDev = "useCallback";
              updateHookTypesDev();
              return updateCallback(callback, deps);
            },
            useContext: function(context, observedBits) {
              currentHookNameInDev = "useContext";
              updateHookTypesDev();
              return readContext(context, observedBits);
            },
            useEffect: function(create, deps) {
              currentHookNameInDev = "useEffect";
              updateHookTypesDev();
              return updateEffect(create, deps);
            },
            useImperativeHandle: function(ref, create, deps) {
              currentHookNameInDev = "useImperativeHandle";
              updateHookTypesDev();
              return updateImperativeHandle(ref, create, deps);
            },
            useLayoutEffect: function(create, deps) {
              currentHookNameInDev = "useLayoutEffect";
              updateHookTypesDev();
              return updateLayoutEffect(create, deps);
            },
            useMemo: function(create, deps) {
              currentHookNameInDev = "useMemo";
              updateHookTypesDev();
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnRerenderInDEV;
              try {
                return updateMemo(create, deps);
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
              }
            },
            useReducer: function(reducer, initialArg, init) {
              currentHookNameInDev = "useReducer";
              updateHookTypesDev();
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnRerenderInDEV;
              try {
                return rerenderReducer(reducer, initialArg, init);
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
              }
            },
            useRef: function(initialValue) {
              currentHookNameInDev = "useRef";
              updateHookTypesDev();
              return updateRef();
            },
            useState: function(initialState) {
              currentHookNameInDev = "useState";
              updateHookTypesDev();
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnRerenderInDEV;
              try {
                return rerenderState(initialState);
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
              }
            },
            useDebugValue: function(value, formatterFn) {
              currentHookNameInDev = "useDebugValue";
              updateHookTypesDev();
              return updateDebugValue();
            },
            useDeferredValue: function(value) {
              currentHookNameInDev = "useDeferredValue";
              updateHookTypesDev();
              return rerenderDeferredValue(value);
            },
            useTransition: function() {
              currentHookNameInDev = "useTransition";
              updateHookTypesDev();
              return rerenderTransition();
            },
            useMutableSource: function(source, getSnapshot, subscribe) {
              currentHookNameInDev = "useMutableSource";
              updateHookTypesDev();
              return updateMutableSource(source, getSnapshot, subscribe);
            },
            useOpaqueIdentifier: function() {
              currentHookNameInDev = "useOpaqueIdentifier";
              updateHookTypesDev();
              return rerenderOpaqueIdentifier();
            },
            unstable_isNewReconciler: enableNewReconciler
          };
          InvalidNestedHooksDispatcherOnMountInDEV = {
            readContext: function(context, observedBits) {
              warnInvalidContextAccess();
              return readContext(context, observedBits);
            },
            useCallback: function(callback, deps) {
              currentHookNameInDev = "useCallback";
              warnInvalidHookAccess();
              mountHookTypesDev();
              return mountCallback(callback, deps);
            },
            useContext: function(context, observedBits) {
              currentHookNameInDev = "useContext";
              warnInvalidHookAccess();
              mountHookTypesDev();
              return readContext(context, observedBits);
            },
            useEffect: function(create, deps) {
              currentHookNameInDev = "useEffect";
              warnInvalidHookAccess();
              mountHookTypesDev();
              return mountEffect(create, deps);
            },
            useImperativeHandle: function(ref, create, deps) {
              currentHookNameInDev = "useImperativeHandle";
              warnInvalidHookAccess();
              mountHookTypesDev();
              return mountImperativeHandle(ref, create, deps);
            },
            useLayoutEffect: function(create, deps) {
              currentHookNameInDev = "useLayoutEffect";
              warnInvalidHookAccess();
              mountHookTypesDev();
              return mountLayoutEffect(create, deps);
            },
            useMemo: function(create, deps) {
              currentHookNameInDev = "useMemo";
              warnInvalidHookAccess();
              mountHookTypesDev();
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnMountInDEV;
              try {
                return mountMemo(create, deps);
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
              }
            },
            useReducer: function(reducer, initialArg, init) {
              currentHookNameInDev = "useReducer";
              warnInvalidHookAccess();
              mountHookTypesDev();
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnMountInDEV;
              try {
                return mountReducer(reducer, initialArg, init);
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
              }
            },
            useRef: function(initialValue) {
              currentHookNameInDev = "useRef";
              warnInvalidHookAccess();
              mountHookTypesDev();
              return mountRef(initialValue);
            },
            useState: function(initialState) {
              currentHookNameInDev = "useState";
              warnInvalidHookAccess();
              mountHookTypesDev();
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnMountInDEV;
              try {
                return mountState(initialState);
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
              }
            },
            useDebugValue: function(value, formatterFn) {
              currentHookNameInDev = "useDebugValue";
              warnInvalidHookAccess();
              mountHookTypesDev();
              return mountDebugValue();
            },
            useDeferredValue: function(value) {
              currentHookNameInDev = "useDeferredValue";
              warnInvalidHookAccess();
              mountHookTypesDev();
              return mountDeferredValue(value);
            },
            useTransition: function() {
              currentHookNameInDev = "useTransition";
              warnInvalidHookAccess();
              mountHookTypesDev();
              return mountTransition();
            },
            useMutableSource: function(source, getSnapshot, subscribe) {
              currentHookNameInDev = "useMutableSource";
              warnInvalidHookAccess();
              mountHookTypesDev();
              return mountMutableSource(source, getSnapshot, subscribe);
            },
            useOpaqueIdentifier: function() {
              currentHookNameInDev = "useOpaqueIdentifier";
              warnInvalidHookAccess();
              mountHookTypesDev();
              return mountOpaqueIdentifier();
            },
            unstable_isNewReconciler: enableNewReconciler
          };
          InvalidNestedHooksDispatcherOnUpdateInDEV = {
            readContext: function(context, observedBits) {
              warnInvalidContextAccess();
              return readContext(context, observedBits);
            },
            useCallback: function(callback, deps) {
              currentHookNameInDev = "useCallback";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return updateCallback(callback, deps);
            },
            useContext: function(context, observedBits) {
              currentHookNameInDev = "useContext";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return readContext(context, observedBits);
            },
            useEffect: function(create, deps) {
              currentHookNameInDev = "useEffect";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return updateEffect(create, deps);
            },
            useImperativeHandle: function(ref, create, deps) {
              currentHookNameInDev = "useImperativeHandle";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return updateImperativeHandle(ref, create, deps);
            },
            useLayoutEffect: function(create, deps) {
              currentHookNameInDev = "useLayoutEffect";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return updateLayoutEffect(create, deps);
            },
            useMemo: function(create, deps) {
              currentHookNameInDev = "useMemo";
              warnInvalidHookAccess();
              updateHookTypesDev();
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnUpdateInDEV;
              try {
                return updateMemo(create, deps);
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
              }
            },
            useReducer: function(reducer, initialArg, init) {
              currentHookNameInDev = "useReducer";
              warnInvalidHookAccess();
              updateHookTypesDev();
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnUpdateInDEV;
              try {
                return updateReducer(reducer, initialArg, init);
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
              }
            },
            useRef: function(initialValue) {
              currentHookNameInDev = "useRef";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return updateRef();
            },
            useState: function(initialState) {
              currentHookNameInDev = "useState";
              warnInvalidHookAccess();
              updateHookTypesDev();
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnUpdateInDEV;
              try {
                return updateState(initialState);
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
              }
            },
            useDebugValue: function(value, formatterFn) {
              currentHookNameInDev = "useDebugValue";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return updateDebugValue();
            },
            useDeferredValue: function(value) {
              currentHookNameInDev = "useDeferredValue";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return updateDeferredValue(value);
            },
            useTransition: function() {
              currentHookNameInDev = "useTransition";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return updateTransition();
            },
            useMutableSource: function(source, getSnapshot, subscribe) {
              currentHookNameInDev = "useMutableSource";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return updateMutableSource(source, getSnapshot, subscribe);
            },
            useOpaqueIdentifier: function() {
              currentHookNameInDev = "useOpaqueIdentifier";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return updateOpaqueIdentifier();
            },
            unstable_isNewReconciler: enableNewReconciler
          };
          InvalidNestedHooksDispatcherOnRerenderInDEV = {
            readContext: function(context, observedBits) {
              warnInvalidContextAccess();
              return readContext(context, observedBits);
            },
            useCallback: function(callback, deps) {
              currentHookNameInDev = "useCallback";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return updateCallback(callback, deps);
            },
            useContext: function(context, observedBits) {
              currentHookNameInDev = "useContext";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return readContext(context, observedBits);
            },
            useEffect: function(create, deps) {
              currentHookNameInDev = "useEffect";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return updateEffect(create, deps);
            },
            useImperativeHandle: function(ref, create, deps) {
              currentHookNameInDev = "useImperativeHandle";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return updateImperativeHandle(ref, create, deps);
            },
            useLayoutEffect: function(create, deps) {
              currentHookNameInDev = "useLayoutEffect";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return updateLayoutEffect(create, deps);
            },
            useMemo: function(create, deps) {
              currentHookNameInDev = "useMemo";
              warnInvalidHookAccess();
              updateHookTypesDev();
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnUpdateInDEV;
              try {
                return updateMemo(create, deps);
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
              }
            },
            useReducer: function(reducer, initialArg, init) {
              currentHookNameInDev = "useReducer";
              warnInvalidHookAccess();
              updateHookTypesDev();
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnUpdateInDEV;
              try {
                return rerenderReducer(reducer, initialArg, init);
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
              }
            },
            useRef: function(initialValue) {
              currentHookNameInDev = "useRef";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return updateRef();
            },
            useState: function(initialState) {
              currentHookNameInDev = "useState";
              warnInvalidHookAccess();
              updateHookTypesDev();
              var prevDispatcher = ReactCurrentDispatcher$1.current;
              ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnUpdateInDEV;
              try {
                return rerenderState(initialState);
              } finally {
                ReactCurrentDispatcher$1.current = prevDispatcher;
              }
            },
            useDebugValue: function(value, formatterFn) {
              currentHookNameInDev = "useDebugValue";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return updateDebugValue();
            },
            useDeferredValue: function(value) {
              currentHookNameInDev = "useDeferredValue";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return rerenderDeferredValue(value);
            },
            useTransition: function() {
              currentHookNameInDev = "useTransition";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return rerenderTransition();
            },
            useMutableSource: function(source, getSnapshot, subscribe) {
              currentHookNameInDev = "useMutableSource";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return updateMutableSource(source, getSnapshot, subscribe);
            },
            useOpaqueIdentifier: function() {
              currentHookNameInDev = "useOpaqueIdentifier";
              warnInvalidHookAccess();
              updateHookTypesDev();
              return rerenderOpaqueIdentifier();
            },
            unstable_isNewReconciler: enableNewReconciler
          };
        }
        var now$1 = Scheduler.unstable_now;
        var commitTime = 0;
        var profilerStartTime = -1;
        function getCommitTime() {
          return commitTime;
        }
        function recordCommitTime() {
          commitTime = now$1();
        }
        function startProfilerTimer(fiber) {
          profilerStartTime = now$1();
          if (fiber.actualStartTime < 0) {
            fiber.actualStartTime = now$1();
          }
        }
        function stopProfilerTimerIfRunning(fiber) {
          profilerStartTime = -1;
        }
        function stopProfilerTimerIfRunningAndRecordDelta(fiber, overrideBaseTime) {
          if (profilerStartTime >= 0) {
            var elapsedTime = now$1() - profilerStartTime;
            fiber.actualDuration += elapsedTime;
            if (overrideBaseTime) {
              fiber.selfBaseDuration = elapsedTime;
            }
            profilerStartTime = -1;
          }
        }
        function transferActualDuration(fiber) {
          var child = fiber.child;
          while (child) {
            fiber.actualDuration += child.actualDuration;
            child = child.sibling;
          }
        }
        var ReactCurrentOwner$1 = ReactSharedInternals.ReactCurrentOwner;
        var didReceiveUpdate = false;
        var didWarnAboutBadClass;
        var didWarnAboutModulePatternComponent;
        var didWarnAboutContextTypeOnFunctionComponent;
        var didWarnAboutGetDerivedStateOnFunctionComponent;
        var didWarnAboutFunctionRefs;
        var didWarnAboutReassigningProps;
        var didWarnAboutRevealOrder;
        var didWarnAboutTailOptions;
        {
          didWarnAboutBadClass = {};
          didWarnAboutModulePatternComponent = {};
          didWarnAboutContextTypeOnFunctionComponent = {};
          didWarnAboutGetDerivedStateOnFunctionComponent = {};
          didWarnAboutFunctionRefs = {};
          didWarnAboutReassigningProps = false;
          didWarnAboutRevealOrder = {};
          didWarnAboutTailOptions = {};
        }
        function reconcileChildren(current2, workInProgress2, nextChildren, renderLanes2) {
          if (current2 === null) {
            workInProgress2.child = mountChildFibers(workInProgress2, null, nextChildren, renderLanes2);
          } else {
            workInProgress2.child = reconcileChildFibers(workInProgress2, current2.child, nextChildren, renderLanes2);
          }
        }
        function forceUnmountCurrentAndReconcile(current2, workInProgress2, nextChildren, renderLanes2) {
          workInProgress2.child = reconcileChildFibers(workInProgress2, current2.child, null, renderLanes2);
          workInProgress2.child = reconcileChildFibers(workInProgress2, null, nextChildren, renderLanes2);
        }
        function updateForwardRef(current2, workInProgress2, Component, nextProps, renderLanes2) {
          {
            if (workInProgress2.type !== workInProgress2.elementType) {
              var innerPropTypes = Component.propTypes;
              if (innerPropTypes) {
                checkPropTypes(innerPropTypes, nextProps, "prop", getComponentName(Component));
              }
            }
          }
          var render2 = Component.render;
          var ref = workInProgress2.ref;
          var nextChildren;
          prepareToReadContext(workInProgress2, renderLanes2);
          {
            ReactCurrentOwner$1.current = workInProgress2;
            setIsRendering(true);
            nextChildren = renderWithHooks(current2, workInProgress2, render2, nextProps, ref, renderLanes2);
            if (workInProgress2.mode & StrictMode2) {
              disableLogs();
              try {
                nextChildren = renderWithHooks(current2, workInProgress2, render2, nextProps, ref, renderLanes2);
              } finally {
                reenableLogs();
              }
            }
            setIsRendering(false);
          }
          if (current2 !== null && !didReceiveUpdate) {
            bailoutHooks(current2, workInProgress2, renderLanes2);
            return bailoutOnAlreadyFinishedWork(current2, workInProgress2, renderLanes2);
          }
          workInProgress2.flags |= PerformedWork;
          reconcileChildren(current2, workInProgress2, nextChildren, renderLanes2);
          return workInProgress2.child;
        }
        function updateMemoComponent(current2, workInProgress2, Component, nextProps, updateLanes, renderLanes2) {
          if (current2 === null) {
            var type = Component.type;
            if (isSimpleFunctionComponent(type) && Component.compare === null && Component.defaultProps === void 0) {
              var resolvedType = type;
              {
                resolvedType = resolveFunctionForHotReloading(type);
              }
              workInProgress2.tag = SimpleMemoComponent;
              workInProgress2.type = resolvedType;
              {
                validateFunctionComponentInDev(workInProgress2, type);
              }
              return updateSimpleMemoComponent(current2, workInProgress2, resolvedType, nextProps, updateLanes, renderLanes2);
            }
            {
              var innerPropTypes = type.propTypes;
              if (innerPropTypes) {
                checkPropTypes(innerPropTypes, nextProps, "prop", getComponentName(type));
              }
            }
            var child = createFiberFromTypeAndProps(Component.type, null, nextProps, workInProgress2, workInProgress2.mode, renderLanes2);
            child.ref = workInProgress2.ref;
            child.return = workInProgress2;
            workInProgress2.child = child;
            return child;
          }
          {
            var _type = Component.type;
            var _innerPropTypes = _type.propTypes;
            if (_innerPropTypes) {
              checkPropTypes(_innerPropTypes, nextProps, "prop", getComponentName(_type));
            }
          }
          var currentChild = current2.child;
          if (!includesSomeLane(updateLanes, renderLanes2)) {
            var prevProps = currentChild.memoizedProps;
            var compare = Component.compare;
            compare = compare !== null ? compare : shallowEqual;
            if (compare(prevProps, nextProps) && current2.ref === workInProgress2.ref) {
              return bailoutOnAlreadyFinishedWork(current2, workInProgress2, renderLanes2);
            }
          }
          workInProgress2.flags |= PerformedWork;
          var newChild = createWorkInProgress(currentChild, nextProps);
          newChild.ref = workInProgress2.ref;
          newChild.return = workInProgress2;
          workInProgress2.child = newChild;
          return newChild;
        }
        function updateSimpleMemoComponent(current2, workInProgress2, Component, nextProps, updateLanes, renderLanes2) {
          {
            if (workInProgress2.type !== workInProgress2.elementType) {
              var outerMemoType = workInProgress2.elementType;
              if (outerMemoType.$$typeof === REACT_LAZY_TYPE) {
                var lazyComponent = outerMemoType;
                var payload = lazyComponent._payload;
                var init = lazyComponent._init;
                try {
                  outerMemoType = init(payload);
                } catch (x3) {
                  outerMemoType = null;
                }
                var outerPropTypes = outerMemoType && outerMemoType.propTypes;
                if (outerPropTypes) {
                  checkPropTypes(outerPropTypes, nextProps, "prop", getComponentName(outerMemoType));
                }
              }
            }
          }
          if (current2 !== null) {
            var prevProps = current2.memoizedProps;
            if (shallowEqual(prevProps, nextProps) && current2.ref === workInProgress2.ref && workInProgress2.type === current2.type) {
              didReceiveUpdate = false;
              if (!includesSomeLane(renderLanes2, updateLanes)) {
                workInProgress2.lanes = current2.lanes;
                return bailoutOnAlreadyFinishedWork(current2, workInProgress2, renderLanes2);
              } else if ((current2.flags & ForceUpdateForLegacySuspense) !== NoFlags) {
                didReceiveUpdate = true;
              }
            }
          }
          return updateFunctionComponent(current2, workInProgress2, Component, nextProps, renderLanes2);
        }
        function updateOffscreenComponent(current2, workInProgress2, renderLanes2) {
          var nextProps = workInProgress2.pendingProps;
          var nextChildren = nextProps.children;
          var prevState = current2 !== null ? current2.memoizedState : null;
          if (nextProps.mode === "hidden" || nextProps.mode === "unstable-defer-without-hiding") {
            if ((workInProgress2.mode & ConcurrentMode) === NoMode) {
              var nextState = {
                baseLanes: NoLanes
              };
              workInProgress2.memoizedState = nextState;
              pushRenderLanes(workInProgress2, renderLanes2);
            } else if (!includesSomeLane(renderLanes2, OffscreenLane)) {
              var nextBaseLanes;
              if (prevState !== null) {
                var prevBaseLanes = prevState.baseLanes;
                nextBaseLanes = mergeLanes(prevBaseLanes, renderLanes2);
              } else {
                nextBaseLanes = renderLanes2;
              }
              {
                markSpawnedWork(OffscreenLane);
              }
              workInProgress2.lanes = workInProgress2.childLanes = laneToLanes(OffscreenLane);
              var _nextState = {
                baseLanes: nextBaseLanes
              };
              workInProgress2.memoizedState = _nextState;
              pushRenderLanes(workInProgress2, nextBaseLanes);
              return null;
            } else {
              var _nextState2 = {
                baseLanes: NoLanes
              };
              workInProgress2.memoizedState = _nextState2;
              var subtreeRenderLanes2 = prevState !== null ? prevState.baseLanes : renderLanes2;
              pushRenderLanes(workInProgress2, subtreeRenderLanes2);
            }
          } else {
            var _subtreeRenderLanes;
            if (prevState !== null) {
              _subtreeRenderLanes = mergeLanes(prevState.baseLanes, renderLanes2);
              workInProgress2.memoizedState = null;
            } else {
              _subtreeRenderLanes = renderLanes2;
            }
            pushRenderLanes(workInProgress2, _subtreeRenderLanes);
          }
          reconcileChildren(current2, workInProgress2, nextChildren, renderLanes2);
          return workInProgress2.child;
        }
        var updateLegacyHiddenComponent = updateOffscreenComponent;
        function updateFragment(current2, workInProgress2, renderLanes2) {
          var nextChildren = workInProgress2.pendingProps;
          reconcileChildren(current2, workInProgress2, nextChildren, renderLanes2);
          return workInProgress2.child;
        }
        function updateMode(current2, workInProgress2, renderLanes2) {
          var nextChildren = workInProgress2.pendingProps.children;
          reconcileChildren(current2, workInProgress2, nextChildren, renderLanes2);
          return workInProgress2.child;
        }
        function updateProfiler(current2, workInProgress2, renderLanes2) {
          {
            workInProgress2.flags |= Update;
            var stateNode = workInProgress2.stateNode;
            stateNode.effectDuration = 0;
            stateNode.passiveEffectDuration = 0;
          }
          var nextProps = workInProgress2.pendingProps;
          var nextChildren = nextProps.children;
          reconcileChildren(current2, workInProgress2, nextChildren, renderLanes2);
          return workInProgress2.child;
        }
        function markRef(current2, workInProgress2) {
          var ref = workInProgress2.ref;
          if (current2 === null && ref !== null || current2 !== null && current2.ref !== ref) {
            workInProgress2.flags |= Ref3;
          }
        }
        function updateFunctionComponent(current2, workInProgress2, Component, nextProps, renderLanes2) {
          {
            if (workInProgress2.type !== workInProgress2.elementType) {
              var innerPropTypes = Component.propTypes;
              if (innerPropTypes) {
                checkPropTypes(innerPropTypes, nextProps, "prop", getComponentName(Component));
              }
            }
          }
          var context;
          {
            var unmaskedContext = getUnmaskedContext(workInProgress2, Component, true);
            context = getMaskedContext(workInProgress2, unmaskedContext);
          }
          var nextChildren;
          prepareToReadContext(workInProgress2, renderLanes2);
          {
            ReactCurrentOwner$1.current = workInProgress2;
            setIsRendering(true);
            nextChildren = renderWithHooks(current2, workInProgress2, Component, nextProps, context, renderLanes2);
            if (workInProgress2.mode & StrictMode2) {
              disableLogs();
              try {
                nextChildren = renderWithHooks(current2, workInProgress2, Component, nextProps, context, renderLanes2);
              } finally {
                reenableLogs();
              }
            }
            setIsRendering(false);
          }
          if (current2 !== null && !didReceiveUpdate) {
            bailoutHooks(current2, workInProgress2, renderLanes2);
            return bailoutOnAlreadyFinishedWork(current2, workInProgress2, renderLanes2);
          }
          workInProgress2.flags |= PerformedWork;
          reconcileChildren(current2, workInProgress2, nextChildren, renderLanes2);
          return workInProgress2.child;
        }
        function updateClassComponent(current2, workInProgress2, Component, nextProps, renderLanes2) {
          {
            if (workInProgress2.type !== workInProgress2.elementType) {
              var innerPropTypes = Component.propTypes;
              if (innerPropTypes) {
                checkPropTypes(innerPropTypes, nextProps, "prop", getComponentName(Component));
              }
            }
          }
          var hasContext;
          if (isContextProvider(Component)) {
            hasContext = true;
            pushContextProvider(workInProgress2);
          } else {
            hasContext = false;
          }
          prepareToReadContext(workInProgress2, renderLanes2);
          var instance = workInProgress2.stateNode;
          var shouldUpdate;
          if (instance === null) {
            if (current2 !== null) {
              current2.alternate = null;
              workInProgress2.alternate = null;
              workInProgress2.flags |= Placement;
            }
            constructClassInstance(workInProgress2, Component, nextProps);
            mountClassInstance(workInProgress2, Component, nextProps, renderLanes2);
            shouldUpdate = true;
          } else if (current2 === null) {
            shouldUpdate = resumeMountClassInstance(workInProgress2, Component, nextProps, renderLanes2);
          } else {
            shouldUpdate = updateClassInstance(current2, workInProgress2, Component, nextProps, renderLanes2);
          }
          var nextUnitOfWork = finishClassComponent(current2, workInProgress2, Component, shouldUpdate, hasContext, renderLanes2);
          {
            var inst = workInProgress2.stateNode;
            if (shouldUpdate && inst.props !== nextProps) {
              if (!didWarnAboutReassigningProps) {
                error("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.", getComponentName(workInProgress2.type) || "a component");
              }
              didWarnAboutReassigningProps = true;
            }
          }
          return nextUnitOfWork;
        }
        function finishClassComponent(current2, workInProgress2, Component, shouldUpdate, hasContext, renderLanes2) {
          markRef(current2, workInProgress2);
          var didCaptureError = (workInProgress2.flags & DidCapture) !== NoFlags;
          if (!shouldUpdate && !didCaptureError) {
            if (hasContext) {
              invalidateContextProvider(workInProgress2, Component, false);
            }
            return bailoutOnAlreadyFinishedWork(current2, workInProgress2, renderLanes2);
          }
          var instance = workInProgress2.stateNode;
          ReactCurrentOwner$1.current = workInProgress2;
          var nextChildren;
          if (didCaptureError && typeof Component.getDerivedStateFromError !== "function") {
            nextChildren = null;
            {
              stopProfilerTimerIfRunning();
            }
          } else {
            {
              setIsRendering(true);
              nextChildren = instance.render();
              if (workInProgress2.mode & StrictMode2) {
                disableLogs();
                try {
                  instance.render();
                } finally {
                  reenableLogs();
                }
              }
              setIsRendering(false);
            }
          }
          workInProgress2.flags |= PerformedWork;
          if (current2 !== null && didCaptureError) {
            forceUnmountCurrentAndReconcile(current2, workInProgress2, nextChildren, renderLanes2);
          } else {
            reconcileChildren(current2, workInProgress2, nextChildren, renderLanes2);
          }
          workInProgress2.memoizedState = instance.state;
          if (hasContext) {
            invalidateContextProvider(workInProgress2, Component, true);
          }
          return workInProgress2.child;
        }
        function pushHostRootContext(workInProgress2) {
          var root2 = workInProgress2.stateNode;
          if (root2.pendingContext) {
            pushTopLevelContextObject(workInProgress2, root2.pendingContext, root2.pendingContext !== root2.context);
          } else if (root2.context) {
            pushTopLevelContextObject(workInProgress2, root2.context, false);
          }
          pushHostContainer(workInProgress2, root2.containerInfo);
        }
        function updateHostRoot(current2, workInProgress2, renderLanes2) {
          pushHostRootContext(workInProgress2);
          var updateQueue = workInProgress2.updateQueue;
          if (!(current2 !== null && updateQueue !== null)) {
            {
              throw Error("If the root does not have an updateQueue, we should have already bailed out. This error is likely caused by a bug in React. Please file an issue.");
            }
          }
          var nextProps = workInProgress2.pendingProps;
          var prevState = workInProgress2.memoizedState;
          var prevChildren = prevState !== null ? prevState.element : null;
          cloneUpdateQueue(current2, workInProgress2);
          processUpdateQueue(workInProgress2, nextProps, null, renderLanes2);
          var nextState = workInProgress2.memoizedState;
          var nextChildren = nextState.element;
          if (nextChildren === prevChildren) {
            resetHydrationState();
            return bailoutOnAlreadyFinishedWork(current2, workInProgress2, renderLanes2);
          }
          var root2 = workInProgress2.stateNode;
          if (root2.hydrate && enterHydrationState(workInProgress2)) {
            {
              var mutableSourceEagerHydrationData = root2.mutableSourceEagerHydrationData;
              if (mutableSourceEagerHydrationData != null) {
                for (var i3 = 0; i3 < mutableSourceEagerHydrationData.length; i3 += 2) {
                  var mutableSource = mutableSourceEagerHydrationData[i3];
                  var version = mutableSourceEagerHydrationData[i3 + 1];
                  setWorkInProgressVersion(mutableSource, version);
                }
              }
            }
            var child = mountChildFibers(workInProgress2, null, nextChildren, renderLanes2);
            workInProgress2.child = child;
            var node = child;
            while (node) {
              node.flags = node.flags & ~Placement | Hydrating;
              node = node.sibling;
            }
          } else {
            reconcileChildren(current2, workInProgress2, nextChildren, renderLanes2);
            resetHydrationState();
          }
          return workInProgress2.child;
        }
        function updateHostComponent(current2, workInProgress2, renderLanes2) {
          pushHostContext(workInProgress2);
          if (current2 === null) {
            tryToClaimNextHydratableInstance(workInProgress2);
          }
          var type = workInProgress2.type;
          var nextProps = workInProgress2.pendingProps;
          var prevProps = current2 !== null ? current2.memoizedProps : null;
          var nextChildren = nextProps.children;
          var isDirectTextChild = shouldSetTextContent(type, nextProps);
          if (isDirectTextChild) {
            nextChildren = null;
          } else if (prevProps !== null && shouldSetTextContent(type, prevProps)) {
            workInProgress2.flags |= ContentReset;
          }
          markRef(current2, workInProgress2);
          reconcileChildren(current2, workInProgress2, nextChildren, renderLanes2);
          return workInProgress2.child;
        }
        function updateHostText(current2, workInProgress2) {
          if (current2 === null) {
            tryToClaimNextHydratableInstance(workInProgress2);
          }
          return null;
        }
        function mountLazyComponent(_current, workInProgress2, elementType, updateLanes, renderLanes2) {
          if (_current !== null) {
            _current.alternate = null;
            workInProgress2.alternate = null;
            workInProgress2.flags |= Placement;
          }
          var props = workInProgress2.pendingProps;
          var lazyComponent = elementType;
          var payload = lazyComponent._payload;
          var init = lazyComponent._init;
          var Component = init(payload);
          workInProgress2.type = Component;
          var resolvedTag = workInProgress2.tag = resolveLazyComponentTag(Component);
          var resolvedProps = resolveDefaultProps(Component, props);
          var child;
          switch (resolvedTag) {
            case FunctionComponent: {
              {
                validateFunctionComponentInDev(workInProgress2, Component);
                workInProgress2.type = Component = resolveFunctionForHotReloading(Component);
              }
              child = updateFunctionComponent(null, workInProgress2, Component, resolvedProps, renderLanes2);
              return child;
            }
            case ClassComponent: {
              {
                workInProgress2.type = Component = resolveClassForHotReloading(Component);
              }
              child = updateClassComponent(null, workInProgress2, Component, resolvedProps, renderLanes2);
              return child;
            }
            case ForwardRef: {
              {
                workInProgress2.type = Component = resolveForwardRefForHotReloading(Component);
              }
              child = updateForwardRef(null, workInProgress2, Component, resolvedProps, renderLanes2);
              return child;
            }
            case MemoComponent: {
              {
                if (workInProgress2.type !== workInProgress2.elementType) {
                  var outerPropTypes = Component.propTypes;
                  if (outerPropTypes) {
                    checkPropTypes(outerPropTypes, resolvedProps, "prop", getComponentName(Component));
                  }
                }
              }
              child = updateMemoComponent(null, workInProgress2, Component, resolveDefaultProps(Component.type, resolvedProps), updateLanes, renderLanes2);
              return child;
            }
          }
          var hint = "";
          {
            if (Component !== null && typeof Component === "object" && Component.$$typeof === REACT_LAZY_TYPE) {
              hint = " Did you wrap a component in React.lazy() more than once?";
            }
          }
          {
            {
              throw Error("Element type is invalid. Received a promise that resolves to: " + Component + ". Lazy element type must resolve to a class or function." + hint);
            }
          }
        }
        function mountIncompleteClassComponent(_current, workInProgress2, Component, nextProps, renderLanes2) {
          if (_current !== null) {
            _current.alternate = null;
            workInProgress2.alternate = null;
            workInProgress2.flags |= Placement;
          }
          workInProgress2.tag = ClassComponent;
          var hasContext;
          if (isContextProvider(Component)) {
            hasContext = true;
            pushContextProvider(workInProgress2);
          } else {
            hasContext = false;
          }
          prepareToReadContext(workInProgress2, renderLanes2);
          constructClassInstance(workInProgress2, Component, nextProps);
          mountClassInstance(workInProgress2, Component, nextProps, renderLanes2);
          return finishClassComponent(null, workInProgress2, Component, true, hasContext, renderLanes2);
        }
        function mountIndeterminateComponent(_current, workInProgress2, Component, renderLanes2) {
          if (_current !== null) {
            _current.alternate = null;
            workInProgress2.alternate = null;
            workInProgress2.flags |= Placement;
          }
          var props = workInProgress2.pendingProps;
          var context;
          {
            var unmaskedContext = getUnmaskedContext(workInProgress2, Component, false);
            context = getMaskedContext(workInProgress2, unmaskedContext);
          }
          prepareToReadContext(workInProgress2, renderLanes2);
          var value;
          {
            if (Component.prototype && typeof Component.prototype.render === "function") {
              var componentName = getComponentName(Component) || "Unknown";
              if (!didWarnAboutBadClass[componentName]) {
                error("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.", componentName, componentName);
                didWarnAboutBadClass[componentName] = true;
              }
            }
            if (workInProgress2.mode & StrictMode2) {
              ReactStrictModeWarnings.recordLegacyContextWarning(workInProgress2, null);
            }
            setIsRendering(true);
            ReactCurrentOwner$1.current = workInProgress2;
            value = renderWithHooks(null, workInProgress2, Component, props, context, renderLanes2);
            setIsRendering(false);
          }
          workInProgress2.flags |= PerformedWork;
          {
            if (typeof value === "object" && value !== null && typeof value.render === "function" && value.$$typeof === void 0) {
              var _componentName = getComponentName(Component) || "Unknown";
              if (!didWarnAboutModulePatternComponent[_componentName]) {
                error("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.", _componentName, _componentName, _componentName);
                didWarnAboutModulePatternComponent[_componentName] = true;
              }
            }
          }
          if (typeof value === "object" && value !== null && typeof value.render === "function" && value.$$typeof === void 0) {
            {
              var _componentName2 = getComponentName(Component) || "Unknown";
              if (!didWarnAboutModulePatternComponent[_componentName2]) {
                error("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.", _componentName2, _componentName2, _componentName2);
                didWarnAboutModulePatternComponent[_componentName2] = true;
              }
            }
            workInProgress2.tag = ClassComponent;
            workInProgress2.memoizedState = null;
            workInProgress2.updateQueue = null;
            var hasContext = false;
            if (isContextProvider(Component)) {
              hasContext = true;
              pushContextProvider(workInProgress2);
            } else {
              hasContext = false;
            }
            workInProgress2.memoizedState = value.state !== null && value.state !== void 0 ? value.state : null;
            initializeUpdateQueue(workInProgress2);
            var getDerivedStateFromProps = Component.getDerivedStateFromProps;
            if (typeof getDerivedStateFromProps === "function") {
              applyDerivedStateFromProps(workInProgress2, Component, getDerivedStateFromProps, props);
            }
            adoptClassInstance(workInProgress2, value);
            mountClassInstance(workInProgress2, Component, props, renderLanes2);
            return finishClassComponent(null, workInProgress2, Component, true, hasContext, renderLanes2);
          } else {
            workInProgress2.tag = FunctionComponent;
            {
              if (workInProgress2.mode & StrictMode2) {
                disableLogs();
                try {
                  value = renderWithHooks(null, workInProgress2, Component, props, context, renderLanes2);
                } finally {
                  reenableLogs();
                }
              }
            }
            reconcileChildren(null, workInProgress2, value, renderLanes2);
            {
              validateFunctionComponentInDev(workInProgress2, Component);
            }
            return workInProgress2.child;
          }
        }
        function validateFunctionComponentInDev(workInProgress2, Component) {
          {
            if (Component) {
              if (Component.childContextTypes) {
                error("%s(...): childContextTypes cannot be defined on a function component.", Component.displayName || Component.name || "Component");
              }
            }
            if (workInProgress2.ref !== null) {
              var info = "";
              var ownerName = getCurrentFiberOwnerNameInDevOrNull();
              if (ownerName) {
                info += "\n\nCheck the render method of `" + ownerName + "`.";
              }
              var warningKey = ownerName || workInProgress2._debugID || "";
              var debugSource = workInProgress2._debugSource;
              if (debugSource) {
                warningKey = debugSource.fileName + ":" + debugSource.lineNumber;
              }
              if (!didWarnAboutFunctionRefs[warningKey]) {
                didWarnAboutFunctionRefs[warningKey] = true;
                error("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s", info);
              }
            }
            if (typeof Component.getDerivedStateFromProps === "function") {
              var _componentName3 = getComponentName(Component) || "Unknown";
              if (!didWarnAboutGetDerivedStateOnFunctionComponent[_componentName3]) {
                error("%s: Function components do not support getDerivedStateFromProps.", _componentName3);
                didWarnAboutGetDerivedStateOnFunctionComponent[_componentName3] = true;
              }
            }
            if (typeof Component.contextType === "object" && Component.contextType !== null) {
              var _componentName4 = getComponentName(Component) || "Unknown";
              if (!didWarnAboutContextTypeOnFunctionComponent[_componentName4]) {
                error("%s: Function components do not support contextType.", _componentName4);
                didWarnAboutContextTypeOnFunctionComponent[_componentName4] = true;
              }
            }
          }
        }
        var SUSPENDED_MARKER = {
          dehydrated: null,
          retryLane: NoLane
        };
        function mountSuspenseOffscreenState(renderLanes2) {
          return {
            baseLanes: renderLanes2
          };
        }
        function updateSuspenseOffscreenState(prevOffscreenState, renderLanes2) {
          return {
            baseLanes: mergeLanes(prevOffscreenState.baseLanes, renderLanes2)
          };
        }
        function shouldRemainOnFallback(suspenseContext, current2, workInProgress2, renderLanes2) {
          if (current2 !== null) {
            var suspenseState = current2.memoizedState;
            if (suspenseState === null) {
              return false;
            }
          }
          return hasSuspenseContext(suspenseContext, ForceSuspenseFallback);
        }
        function getRemainingWorkInPrimaryTree(current2, renderLanes2) {
          return removeLanes(current2.childLanes, renderLanes2);
        }
        function updateSuspenseComponent(current2, workInProgress2, renderLanes2) {
          var nextProps = workInProgress2.pendingProps;
          {
            if (shouldSuspend(workInProgress2)) {
              workInProgress2.flags |= DidCapture;
            }
          }
          var suspenseContext = suspenseStackCursor.current;
          var showFallback = false;
          var didSuspend = (workInProgress2.flags & DidCapture) !== NoFlags;
          if (didSuspend || shouldRemainOnFallback(suspenseContext, current2)) {
            showFallback = true;
            workInProgress2.flags &= ~DidCapture;
          } else {
            if (current2 === null || current2.memoizedState !== null) {
              if (nextProps.fallback !== void 0 && nextProps.unstable_avoidThisFallback !== true) {
                suspenseContext = addSubtreeSuspenseContext(suspenseContext, InvisibleParentSuspenseContext);
              }
            }
          }
          suspenseContext = setDefaultShallowSuspenseContext(suspenseContext);
          pushSuspenseContext(workInProgress2, suspenseContext);
          if (current2 === null) {
            if (nextProps.fallback !== void 0) {
              tryToClaimNextHydratableInstance(workInProgress2);
            }
            var nextPrimaryChildren = nextProps.children;
            var nextFallbackChildren = nextProps.fallback;
            if (showFallback) {
              var fallbackFragment = mountSuspenseFallbackChildren(workInProgress2, nextPrimaryChildren, nextFallbackChildren, renderLanes2);
              var primaryChildFragment = workInProgress2.child;
              primaryChildFragment.memoizedState = mountSuspenseOffscreenState(renderLanes2);
              workInProgress2.memoizedState = SUSPENDED_MARKER;
              return fallbackFragment;
            } else if (typeof nextProps.unstable_expectedLoadTime === "number") {
              var _fallbackFragment = mountSuspenseFallbackChildren(workInProgress2, nextPrimaryChildren, nextFallbackChildren, renderLanes2);
              var _primaryChildFragment = workInProgress2.child;
              _primaryChildFragment.memoizedState = mountSuspenseOffscreenState(renderLanes2);
              workInProgress2.memoizedState = SUSPENDED_MARKER;
              workInProgress2.lanes = SomeRetryLane;
              {
                markSpawnedWork(SomeRetryLane);
              }
              return _fallbackFragment;
            } else {
              return mountSuspensePrimaryChildren(workInProgress2, nextPrimaryChildren, renderLanes2);
            }
          } else {
            var prevState = current2.memoizedState;
            if (prevState !== null) {
              if (showFallback) {
                var _nextFallbackChildren2 = nextProps.fallback;
                var _nextPrimaryChildren2 = nextProps.children;
                var _fallbackChildFragment = updateSuspenseFallbackChildren(current2, workInProgress2, _nextPrimaryChildren2, _nextFallbackChildren2, renderLanes2);
                var _primaryChildFragment3 = workInProgress2.child;
                var prevOffscreenState = current2.child.memoizedState;
                _primaryChildFragment3.memoizedState = prevOffscreenState === null ? mountSuspenseOffscreenState(renderLanes2) : updateSuspenseOffscreenState(prevOffscreenState, renderLanes2);
                _primaryChildFragment3.childLanes = getRemainingWorkInPrimaryTree(current2, renderLanes2);
                workInProgress2.memoizedState = SUSPENDED_MARKER;
                return _fallbackChildFragment;
              } else {
                var _nextPrimaryChildren3 = nextProps.children;
                var _primaryChildFragment4 = updateSuspensePrimaryChildren(current2, workInProgress2, _nextPrimaryChildren3, renderLanes2);
                workInProgress2.memoizedState = null;
                return _primaryChildFragment4;
              }
            } else {
              if (showFallback) {
                var _nextFallbackChildren3 = nextProps.fallback;
                var _nextPrimaryChildren4 = nextProps.children;
                var _fallbackChildFragment2 = updateSuspenseFallbackChildren(current2, workInProgress2, _nextPrimaryChildren4, _nextFallbackChildren3, renderLanes2);
                var _primaryChildFragment5 = workInProgress2.child;
                var _prevOffscreenState = current2.child.memoizedState;
                _primaryChildFragment5.memoizedState = _prevOffscreenState === null ? mountSuspenseOffscreenState(renderLanes2) : updateSuspenseOffscreenState(_prevOffscreenState, renderLanes2);
                _primaryChildFragment5.childLanes = getRemainingWorkInPrimaryTree(current2, renderLanes2);
                workInProgress2.memoizedState = SUSPENDED_MARKER;
                return _fallbackChildFragment2;
              } else {
                var _nextPrimaryChildren5 = nextProps.children;
                var _primaryChildFragment6 = updateSuspensePrimaryChildren(current2, workInProgress2, _nextPrimaryChildren5, renderLanes2);
                workInProgress2.memoizedState = null;
                return _primaryChildFragment6;
              }
            }
          }
        }
        function mountSuspensePrimaryChildren(workInProgress2, primaryChildren, renderLanes2) {
          var mode = workInProgress2.mode;
          var primaryChildProps = {
            mode: "visible",
            children: primaryChildren
          };
          var primaryChildFragment = createFiberFromOffscreen(primaryChildProps, mode, renderLanes2, null);
          primaryChildFragment.return = workInProgress2;
          workInProgress2.child = primaryChildFragment;
          return primaryChildFragment;
        }
        function mountSuspenseFallbackChildren(workInProgress2, primaryChildren, fallbackChildren, renderLanes2) {
          var mode = workInProgress2.mode;
          var progressedPrimaryFragment = workInProgress2.child;
          var primaryChildProps = {
            mode: "hidden",
            children: primaryChildren
          };
          var primaryChildFragment;
          var fallbackChildFragment;
          if ((mode & BlockingMode) === NoMode && progressedPrimaryFragment !== null) {
            primaryChildFragment = progressedPrimaryFragment;
            primaryChildFragment.childLanes = NoLanes;
            primaryChildFragment.pendingProps = primaryChildProps;
            if (workInProgress2.mode & ProfileMode) {
              primaryChildFragment.actualDuration = 0;
              primaryChildFragment.actualStartTime = -1;
              primaryChildFragment.selfBaseDuration = 0;
              primaryChildFragment.treeBaseDuration = 0;
            }
            fallbackChildFragment = createFiberFromFragment(fallbackChildren, mode, renderLanes2, null);
          } else {
            primaryChildFragment = createFiberFromOffscreen(primaryChildProps, mode, NoLanes, null);
            fallbackChildFragment = createFiberFromFragment(fallbackChildren, mode, renderLanes2, null);
          }
          primaryChildFragment.return = workInProgress2;
          fallbackChildFragment.return = workInProgress2;
          primaryChildFragment.sibling = fallbackChildFragment;
          workInProgress2.child = primaryChildFragment;
          return fallbackChildFragment;
        }
        function createWorkInProgressOffscreenFiber(current2, offscreenProps) {
          return createWorkInProgress(current2, offscreenProps);
        }
        function updateSuspensePrimaryChildren(current2, workInProgress2, primaryChildren, renderLanes2) {
          var currentPrimaryChildFragment = current2.child;
          var currentFallbackChildFragment = currentPrimaryChildFragment.sibling;
          var primaryChildFragment = createWorkInProgressOffscreenFiber(currentPrimaryChildFragment, {
            mode: "visible",
            children: primaryChildren
          });
          if ((workInProgress2.mode & BlockingMode) === NoMode) {
            primaryChildFragment.lanes = renderLanes2;
          }
          primaryChildFragment.return = workInProgress2;
          primaryChildFragment.sibling = null;
          if (currentFallbackChildFragment !== null) {
            currentFallbackChildFragment.nextEffect = null;
            currentFallbackChildFragment.flags = Deletion;
            workInProgress2.firstEffect = workInProgress2.lastEffect = currentFallbackChildFragment;
          }
          workInProgress2.child = primaryChildFragment;
          return primaryChildFragment;
        }
        function updateSuspenseFallbackChildren(current2, workInProgress2, primaryChildren, fallbackChildren, renderLanes2) {
          var mode = workInProgress2.mode;
          var currentPrimaryChildFragment = current2.child;
          var currentFallbackChildFragment = currentPrimaryChildFragment.sibling;
          var primaryChildProps = {
            mode: "hidden",
            children: primaryChildren
          };
          var primaryChildFragment;
          if ((mode & BlockingMode) === NoMode && workInProgress2.child !== currentPrimaryChildFragment) {
            var progressedPrimaryFragment = workInProgress2.child;
            primaryChildFragment = progressedPrimaryFragment;
            primaryChildFragment.childLanes = NoLanes;
            primaryChildFragment.pendingProps = primaryChildProps;
            if (workInProgress2.mode & ProfileMode) {
              primaryChildFragment.actualDuration = 0;
              primaryChildFragment.actualStartTime = -1;
              primaryChildFragment.selfBaseDuration = currentPrimaryChildFragment.selfBaseDuration;
              primaryChildFragment.treeBaseDuration = currentPrimaryChildFragment.treeBaseDuration;
            }
            var progressedLastEffect = primaryChildFragment.lastEffect;
            if (progressedLastEffect !== null) {
              workInProgress2.firstEffect = primaryChildFragment.firstEffect;
              workInProgress2.lastEffect = progressedLastEffect;
              progressedLastEffect.nextEffect = null;
            } else {
              workInProgress2.firstEffect = workInProgress2.lastEffect = null;
            }
          } else {
            primaryChildFragment = createWorkInProgressOffscreenFiber(currentPrimaryChildFragment, primaryChildProps);
          }
          var fallbackChildFragment;
          if (currentFallbackChildFragment !== null) {
            fallbackChildFragment = createWorkInProgress(currentFallbackChildFragment, fallbackChildren);
          } else {
            fallbackChildFragment = createFiberFromFragment(fallbackChildren, mode, renderLanes2, null);
            fallbackChildFragment.flags |= Placement;
          }
          fallbackChildFragment.return = workInProgress2;
          primaryChildFragment.return = workInProgress2;
          primaryChildFragment.sibling = fallbackChildFragment;
          workInProgress2.child = primaryChildFragment;
          return fallbackChildFragment;
        }
        function scheduleWorkOnFiber(fiber, renderLanes2) {
          fiber.lanes = mergeLanes(fiber.lanes, renderLanes2);
          var alternate = fiber.alternate;
          if (alternate !== null) {
            alternate.lanes = mergeLanes(alternate.lanes, renderLanes2);
          }
          scheduleWorkOnParentPath(fiber.return, renderLanes2);
        }
        function propagateSuspenseContextChange(workInProgress2, firstChild, renderLanes2) {
          var node = firstChild;
          while (node !== null) {
            if (node.tag === SuspenseComponent) {
              var state = node.memoizedState;
              if (state !== null) {
                scheduleWorkOnFiber(node, renderLanes2);
              }
            } else if (node.tag === SuspenseListComponent) {
              scheduleWorkOnFiber(node, renderLanes2);
            } else if (node.child !== null) {
              node.child.return = node;
              node = node.child;
              continue;
            }
            if (node === workInProgress2) {
              return;
            }
            while (node.sibling === null) {
              if (node.return === null || node.return === workInProgress2) {
                return;
              }
              node = node.return;
            }
            node.sibling.return = node.return;
            node = node.sibling;
          }
        }
        function findLastContentRow(firstChild) {
          var row = firstChild;
          var lastContentRow = null;
          while (row !== null) {
            var currentRow = row.alternate;
            if (currentRow !== null && findFirstSuspended(currentRow) === null) {
              lastContentRow = row;
            }
            row = row.sibling;
          }
          return lastContentRow;
        }
        function validateRevealOrder(revealOrder) {
          {
            if (revealOrder !== void 0 && revealOrder !== "forwards" && revealOrder !== "backwards" && revealOrder !== "together" && !didWarnAboutRevealOrder[revealOrder]) {
              didWarnAboutRevealOrder[revealOrder] = true;
              if (typeof revealOrder === "string") {
                switch (revealOrder.toLowerCase()) {
                  case "together":
                  case "forwards":
                  case "backwards": {
                    error('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.', revealOrder, revealOrder.toLowerCase());
                    break;
                  }
                  case "forward":
                  case "backward": {
                    error('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.', revealOrder, revealOrder.toLowerCase());
                    break;
                  }
                  default:
                    error('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?', revealOrder);
                    break;
                }
              } else {
                error('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?', revealOrder);
              }
            }
          }
        }
        function validateTailOptions(tailMode, revealOrder) {
          {
            if (tailMode !== void 0 && !didWarnAboutTailOptions[tailMode]) {
              if (tailMode !== "collapsed" && tailMode !== "hidden") {
                didWarnAboutTailOptions[tailMode] = true;
                error('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?', tailMode);
              } else if (revealOrder !== "forwards" && revealOrder !== "backwards") {
                didWarnAboutTailOptions[tailMode] = true;
                error('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?', tailMode);
              }
            }
          }
        }
        function validateSuspenseListNestedChild(childSlot, index2) {
          {
            var isArray2 = Array.isArray(childSlot);
            var isIterable = !isArray2 && typeof getIteratorFn(childSlot) === "function";
            if (isArray2 || isIterable) {
              var type = isArray2 ? "array" : "iterable";
              error("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>", type, index2, type);
              return false;
            }
          }
          return true;
        }
        function validateSuspenseListChildren(children, revealOrder) {
          {
            if ((revealOrder === "forwards" || revealOrder === "backwards") && children !== void 0 && children !== null && children !== false) {
              if (Array.isArray(children)) {
                for (var i3 = 0; i3 < children.length; i3++) {
                  if (!validateSuspenseListNestedChild(children[i3], i3)) {
                    return;
                  }
                }
              } else {
                var iteratorFn = getIteratorFn(children);
                if (typeof iteratorFn === "function") {
                  var childrenIterator = iteratorFn.call(children);
                  if (childrenIterator) {
                    var step = childrenIterator.next();
                    var _i = 0;
                    for (; !step.done; step = childrenIterator.next()) {
                      if (!validateSuspenseListNestedChild(step.value, _i)) {
                        return;
                      }
                      _i++;
                    }
                  }
                } else {
                  error('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?', revealOrder);
                }
              }
            }
          }
        }
        function initSuspenseListRenderState(workInProgress2, isBackwards, tail, lastContentRow, tailMode, lastEffectBeforeRendering) {
          var renderState = workInProgress2.memoizedState;
          if (renderState === null) {
            workInProgress2.memoizedState = {
              isBackwards,
              rendering: null,
              renderingStartTime: 0,
              last: lastContentRow,
              tail,
              tailMode,
              lastEffect: lastEffectBeforeRendering
            };
          } else {
            renderState.isBackwards = isBackwards;
            renderState.rendering = null;
            renderState.renderingStartTime = 0;
            renderState.last = lastContentRow;
            renderState.tail = tail;
            renderState.tailMode = tailMode;
            renderState.lastEffect = lastEffectBeforeRendering;
          }
        }
        function updateSuspenseListComponent(current2, workInProgress2, renderLanes2) {
          var nextProps = workInProgress2.pendingProps;
          var revealOrder = nextProps.revealOrder;
          var tailMode = nextProps.tail;
          var newChildren = nextProps.children;
          validateRevealOrder(revealOrder);
          validateTailOptions(tailMode, revealOrder);
          validateSuspenseListChildren(newChildren, revealOrder);
          reconcileChildren(current2, workInProgress2, newChildren, renderLanes2);
          var suspenseContext = suspenseStackCursor.current;
          var shouldForceFallback = hasSuspenseContext(suspenseContext, ForceSuspenseFallback);
          if (shouldForceFallback) {
            suspenseContext = setShallowSuspenseContext(suspenseContext, ForceSuspenseFallback);
            workInProgress2.flags |= DidCapture;
          } else {
            var didSuspendBefore = current2 !== null && (current2.flags & DidCapture) !== NoFlags;
            if (didSuspendBefore) {
              propagateSuspenseContextChange(workInProgress2, workInProgress2.child, renderLanes2);
            }
            suspenseContext = setDefaultShallowSuspenseContext(suspenseContext);
          }
          pushSuspenseContext(workInProgress2, suspenseContext);
          if ((workInProgress2.mode & BlockingMode) === NoMode) {
            workInProgress2.memoizedState = null;
          } else {
            switch (revealOrder) {
              case "forwards": {
                var lastContentRow = findLastContentRow(workInProgress2.child);
                var tail;
                if (lastContentRow === null) {
                  tail = workInProgress2.child;
                  workInProgress2.child = null;
                } else {
                  tail = lastContentRow.sibling;
                  lastContentRow.sibling = null;
                }
                initSuspenseListRenderState(workInProgress2, false, tail, lastContentRow, tailMode, workInProgress2.lastEffect);
                break;
              }
              case "backwards": {
                var _tail = null;
                var row = workInProgress2.child;
                workInProgress2.child = null;
                while (row !== null) {
                  var currentRow = row.alternate;
                  if (currentRow !== null && findFirstSuspended(currentRow) === null) {
                    workInProgress2.child = row;
                    break;
                  }
                  var nextRow = row.sibling;
                  row.sibling = _tail;
                  _tail = row;
                  row = nextRow;
                }
                initSuspenseListRenderState(workInProgress2, true, _tail, null, tailMode, workInProgress2.lastEffect);
                break;
              }
              case "together": {
                initSuspenseListRenderState(workInProgress2, false, null, null, void 0, workInProgress2.lastEffect);
                break;
              }
              default: {
                workInProgress2.memoizedState = null;
              }
            }
          }
          return workInProgress2.child;
        }
        function updatePortalComponent(current2, workInProgress2, renderLanes2) {
          pushHostContainer(workInProgress2, workInProgress2.stateNode.containerInfo);
          var nextChildren = workInProgress2.pendingProps;
          if (current2 === null) {
            workInProgress2.child = reconcileChildFibers(workInProgress2, null, nextChildren, renderLanes2);
          } else {
            reconcileChildren(current2, workInProgress2, nextChildren, renderLanes2);
          }
          return workInProgress2.child;
        }
        var hasWarnedAboutUsingNoValuePropOnContextProvider = false;
        function updateContextProvider(current2, workInProgress2, renderLanes2) {
          var providerType = workInProgress2.type;
          var context = providerType._context;
          var newProps = workInProgress2.pendingProps;
          var oldProps = workInProgress2.memoizedProps;
          var newValue = newProps.value;
          {
            if (!("value" in newProps)) {
              if (!hasWarnedAboutUsingNoValuePropOnContextProvider) {
                hasWarnedAboutUsingNoValuePropOnContextProvider = true;
                error("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?");
              }
            }
            var providerPropTypes = workInProgress2.type.propTypes;
            if (providerPropTypes) {
              checkPropTypes(providerPropTypes, newProps, "prop", "Context.Provider");
            }
          }
          pushProvider(workInProgress2, newValue);
          if (oldProps !== null) {
            var oldValue = oldProps.value;
            var changedBits = calculateChangedBits(context, newValue, oldValue);
            if (changedBits === 0) {
              if (oldProps.children === newProps.children && !hasContextChanged()) {
                return bailoutOnAlreadyFinishedWork(current2, workInProgress2, renderLanes2);
              }
            } else {
              propagateContextChange(workInProgress2, context, changedBits, renderLanes2);
            }
          }
          var newChildren = newProps.children;
          reconcileChildren(current2, workInProgress2, newChildren, renderLanes2);
          return workInProgress2.child;
        }
        var hasWarnedAboutUsingContextAsConsumer = false;
        function updateContextConsumer(current2, workInProgress2, renderLanes2) {
          var context = workInProgress2.type;
          {
            if (context._context === void 0) {
              if (context !== context.Consumer) {
                if (!hasWarnedAboutUsingContextAsConsumer) {
                  hasWarnedAboutUsingContextAsConsumer = true;
                  error("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?");
                }
              }
            } else {
              context = context._context;
            }
          }
          var newProps = workInProgress2.pendingProps;
          var render2 = newProps.children;
          {
            if (typeof render2 !== "function") {
              error("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it.");
            }
          }
          prepareToReadContext(workInProgress2, renderLanes2);
          var newValue = readContext(context, newProps.unstable_observedBits);
          var newChildren;
          {
            ReactCurrentOwner$1.current = workInProgress2;
            setIsRendering(true);
            newChildren = render2(newValue);
            setIsRendering(false);
          }
          workInProgress2.flags |= PerformedWork;
          reconcileChildren(current2, workInProgress2, newChildren, renderLanes2);
          return workInProgress2.child;
        }
        function markWorkInProgressReceivedUpdate() {
          didReceiveUpdate = true;
        }
        function bailoutOnAlreadyFinishedWork(current2, workInProgress2, renderLanes2) {
          if (current2 !== null) {
            workInProgress2.dependencies = current2.dependencies;
          }
          {
            stopProfilerTimerIfRunning();
          }
          markSkippedUpdateLanes(workInProgress2.lanes);
          if (!includesSomeLane(renderLanes2, workInProgress2.childLanes)) {
            return null;
          } else {
            cloneChildFibers(current2, workInProgress2);
            return workInProgress2.child;
          }
        }
        function remountFiber(current2, oldWorkInProgress, newWorkInProgress) {
          {
            var returnFiber = oldWorkInProgress.return;
            if (returnFiber === null) {
              throw new Error("Cannot swap the root fiber.");
            }
            current2.alternate = null;
            oldWorkInProgress.alternate = null;
            newWorkInProgress.index = oldWorkInProgress.index;
            newWorkInProgress.sibling = oldWorkInProgress.sibling;
            newWorkInProgress.return = oldWorkInProgress.return;
            newWorkInProgress.ref = oldWorkInProgress.ref;
            if (oldWorkInProgress === returnFiber.child) {
              returnFiber.child = newWorkInProgress;
            } else {
              var prevSibling = returnFiber.child;
              if (prevSibling === null) {
                throw new Error("Expected parent to have a child.");
              }
              while (prevSibling.sibling !== oldWorkInProgress) {
                prevSibling = prevSibling.sibling;
                if (prevSibling === null) {
                  throw new Error("Expected to find the previous sibling.");
                }
              }
              prevSibling.sibling = newWorkInProgress;
            }
            var last = returnFiber.lastEffect;
            if (last !== null) {
              last.nextEffect = current2;
              returnFiber.lastEffect = current2;
            } else {
              returnFiber.firstEffect = returnFiber.lastEffect = current2;
            }
            current2.nextEffect = null;
            current2.flags = Deletion;
            newWorkInProgress.flags |= Placement;
            return newWorkInProgress;
          }
        }
        function beginWork(current2, workInProgress2, renderLanes2) {
          var updateLanes = workInProgress2.lanes;
          {
            if (workInProgress2._debugNeedsRemount && current2 !== null) {
              return remountFiber(current2, workInProgress2, createFiberFromTypeAndProps(workInProgress2.type, workInProgress2.key, workInProgress2.pendingProps, workInProgress2._debugOwner || null, workInProgress2.mode, workInProgress2.lanes));
            }
          }
          if (current2 !== null) {
            var oldProps = current2.memoizedProps;
            var newProps = workInProgress2.pendingProps;
            if (oldProps !== newProps || hasContextChanged() || workInProgress2.type !== current2.type) {
              didReceiveUpdate = true;
            } else if (!includesSomeLane(renderLanes2, updateLanes)) {
              didReceiveUpdate = false;
              switch (workInProgress2.tag) {
                case HostRoot:
                  pushHostRootContext(workInProgress2);
                  resetHydrationState();
                  break;
                case HostComponent:
                  pushHostContext(workInProgress2);
                  break;
                case ClassComponent: {
                  var Component = workInProgress2.type;
                  if (isContextProvider(Component)) {
                    pushContextProvider(workInProgress2);
                  }
                  break;
                }
                case HostPortal:
                  pushHostContainer(workInProgress2, workInProgress2.stateNode.containerInfo);
                  break;
                case ContextProvider: {
                  var newValue = workInProgress2.memoizedProps.value;
                  pushProvider(workInProgress2, newValue);
                  break;
                }
                case Profiler:
                  {
                    var hasChildWork = includesSomeLane(renderLanes2, workInProgress2.childLanes);
                    if (hasChildWork) {
                      workInProgress2.flags |= Update;
                    }
                    var stateNode = workInProgress2.stateNode;
                    stateNode.effectDuration = 0;
                    stateNode.passiveEffectDuration = 0;
                  }
                  break;
                case SuspenseComponent: {
                  var state = workInProgress2.memoizedState;
                  if (state !== null) {
                    var primaryChildFragment = workInProgress2.child;
                    var primaryChildLanes = primaryChildFragment.childLanes;
                    if (includesSomeLane(renderLanes2, primaryChildLanes)) {
                      return updateSuspenseComponent(current2, workInProgress2, renderLanes2);
                    } else {
                      pushSuspenseContext(workInProgress2, setDefaultShallowSuspenseContext(suspenseStackCursor.current));
                      var child = bailoutOnAlreadyFinishedWork(current2, workInProgress2, renderLanes2);
                      if (child !== null) {
                        return child.sibling;
                      } else {
                        return null;
                      }
                    }
                  } else {
                    pushSuspenseContext(workInProgress2, setDefaultShallowSuspenseContext(suspenseStackCursor.current));
                  }
                  break;
                }
                case SuspenseListComponent: {
                  var didSuspendBefore = (current2.flags & DidCapture) !== NoFlags;
                  var _hasChildWork = includesSomeLane(renderLanes2, workInProgress2.childLanes);
                  if (didSuspendBefore) {
                    if (_hasChildWork) {
                      return updateSuspenseListComponent(current2, workInProgress2, renderLanes2);
                    }
                    workInProgress2.flags |= DidCapture;
                  }
                  var renderState = workInProgress2.memoizedState;
                  if (renderState !== null) {
                    renderState.rendering = null;
                    renderState.tail = null;
                    renderState.lastEffect = null;
                  }
                  pushSuspenseContext(workInProgress2, suspenseStackCursor.current);
                  if (_hasChildWork) {
                    break;
                  } else {
                    return null;
                  }
                }
                case OffscreenComponent:
                case LegacyHiddenComponent: {
                  workInProgress2.lanes = NoLanes;
                  return updateOffscreenComponent(current2, workInProgress2, renderLanes2);
                }
              }
              return bailoutOnAlreadyFinishedWork(current2, workInProgress2, renderLanes2);
            } else {
              if ((current2.flags & ForceUpdateForLegacySuspense) !== NoFlags) {
                didReceiveUpdate = true;
              } else {
                didReceiveUpdate = false;
              }
            }
          } else {
            didReceiveUpdate = false;
          }
          workInProgress2.lanes = NoLanes;
          switch (workInProgress2.tag) {
            case IndeterminateComponent: {
              return mountIndeterminateComponent(current2, workInProgress2, workInProgress2.type, renderLanes2);
            }
            case LazyComponent: {
              var elementType = workInProgress2.elementType;
              return mountLazyComponent(current2, workInProgress2, elementType, updateLanes, renderLanes2);
            }
            case FunctionComponent: {
              var _Component = workInProgress2.type;
              var unresolvedProps = workInProgress2.pendingProps;
              var resolvedProps = workInProgress2.elementType === _Component ? unresolvedProps : resolveDefaultProps(_Component, unresolvedProps);
              return updateFunctionComponent(current2, workInProgress2, _Component, resolvedProps, renderLanes2);
            }
            case ClassComponent: {
              var _Component2 = workInProgress2.type;
              var _unresolvedProps = workInProgress2.pendingProps;
              var _resolvedProps = workInProgress2.elementType === _Component2 ? _unresolvedProps : resolveDefaultProps(_Component2, _unresolvedProps);
              return updateClassComponent(current2, workInProgress2, _Component2, _resolvedProps, renderLanes2);
            }
            case HostRoot:
              return updateHostRoot(current2, workInProgress2, renderLanes2);
            case HostComponent:
              return updateHostComponent(current2, workInProgress2, renderLanes2);
            case HostText:
              return updateHostText(current2, workInProgress2);
            case SuspenseComponent:
              return updateSuspenseComponent(current2, workInProgress2, renderLanes2);
            case HostPortal:
              return updatePortalComponent(current2, workInProgress2, renderLanes2);
            case ForwardRef: {
              var type = workInProgress2.type;
              var _unresolvedProps2 = workInProgress2.pendingProps;
              var _resolvedProps2 = workInProgress2.elementType === type ? _unresolvedProps2 : resolveDefaultProps(type, _unresolvedProps2);
              return updateForwardRef(current2, workInProgress2, type, _resolvedProps2, renderLanes2);
            }
            case Fragment2:
              return updateFragment(current2, workInProgress2, renderLanes2);
            case Mode:
              return updateMode(current2, workInProgress2, renderLanes2);
            case Profiler:
              return updateProfiler(current2, workInProgress2, renderLanes2);
            case ContextProvider:
              return updateContextProvider(current2, workInProgress2, renderLanes2);
            case ContextConsumer:
              return updateContextConsumer(current2, workInProgress2, renderLanes2);
            case MemoComponent: {
              var _type2 = workInProgress2.type;
              var _unresolvedProps3 = workInProgress2.pendingProps;
              var _resolvedProps3 = resolveDefaultProps(_type2, _unresolvedProps3);
              {
                if (workInProgress2.type !== workInProgress2.elementType) {
                  var outerPropTypes = _type2.propTypes;
                  if (outerPropTypes) {
                    checkPropTypes(outerPropTypes, _resolvedProps3, "prop", getComponentName(_type2));
                  }
                }
              }
              _resolvedProps3 = resolveDefaultProps(_type2.type, _resolvedProps3);
              return updateMemoComponent(current2, workInProgress2, _type2, _resolvedProps3, updateLanes, renderLanes2);
            }
            case SimpleMemoComponent: {
              return updateSimpleMemoComponent(current2, workInProgress2, workInProgress2.type, workInProgress2.pendingProps, updateLanes, renderLanes2);
            }
            case IncompleteClassComponent: {
              var _Component3 = workInProgress2.type;
              var _unresolvedProps4 = workInProgress2.pendingProps;
              var _resolvedProps4 = workInProgress2.elementType === _Component3 ? _unresolvedProps4 : resolveDefaultProps(_Component3, _unresolvedProps4);
              return mountIncompleteClassComponent(current2, workInProgress2, _Component3, _resolvedProps4, renderLanes2);
            }
            case SuspenseListComponent: {
              return updateSuspenseListComponent(current2, workInProgress2, renderLanes2);
            }
            case FundamentalComponent: {
              break;
            }
            case ScopeComponent: {
              break;
            }
            case Block: {
              break;
            }
            case OffscreenComponent: {
              return updateOffscreenComponent(current2, workInProgress2, renderLanes2);
            }
            case LegacyHiddenComponent: {
              return updateLegacyHiddenComponent(current2, workInProgress2, renderLanes2);
            }
          }
          {
            {
              throw Error("Unknown unit of work tag (" + workInProgress2.tag + "). This error is likely caused by a bug in React. Please file an issue.");
            }
          }
        }
        function markUpdate(workInProgress2) {
          workInProgress2.flags |= Update;
        }
        function markRef$1(workInProgress2) {
          workInProgress2.flags |= Ref3;
        }
        var appendAllChildren;
        var updateHostContainer;
        var updateHostComponent$1;
        var updateHostText$1;
        {
          appendAllChildren = function(parent, workInProgress2, needsVisibilityToggle, isHidden) {
            var node = workInProgress2.child;
            while (node !== null) {
              if (node.tag === HostComponent || node.tag === HostText) {
                appendInitialChild(parent, node.stateNode);
              } else if (node.tag === HostPortal)
                ;
              else if (node.child !== null) {
                node.child.return = node;
                node = node.child;
                continue;
              }
              if (node === workInProgress2) {
                return;
              }
              while (node.sibling === null) {
                if (node.return === null || node.return === workInProgress2) {
                  return;
                }
                node = node.return;
              }
              node.sibling.return = node.return;
              node = node.sibling;
            }
          };
          updateHostContainer = function(workInProgress2) {
          };
          updateHostComponent$1 = function(current2, workInProgress2, type, newProps, rootContainerInstance) {
            var oldProps = current2.memoizedProps;
            if (oldProps === newProps) {
              return;
            }
            var instance = workInProgress2.stateNode;
            var currentHostContext = getHostContext();
            var updatePayload = prepareUpdate(instance, type, oldProps, newProps, rootContainerInstance, currentHostContext);
            workInProgress2.updateQueue = updatePayload;
            if (updatePayload) {
              markUpdate(workInProgress2);
            }
          };
          updateHostText$1 = function(current2, workInProgress2, oldText, newText) {
            if (oldText !== newText) {
              markUpdate(workInProgress2);
            }
          };
        }
        function cutOffTailIfNeeded(renderState, hasRenderedATailFallback) {
          if (getIsHydrating()) {
            return;
          }
          switch (renderState.tailMode) {
            case "hidden": {
              var tailNode = renderState.tail;
              var lastTailNode = null;
              while (tailNode !== null) {
                if (tailNode.alternate !== null) {
                  lastTailNode = tailNode;
                }
                tailNode = tailNode.sibling;
              }
              if (lastTailNode === null) {
                renderState.tail = null;
              } else {
                lastTailNode.sibling = null;
              }
              break;
            }
            case "collapsed": {
              var _tailNode = renderState.tail;
              var _lastTailNode = null;
              while (_tailNode !== null) {
                if (_tailNode.alternate !== null) {
                  _lastTailNode = _tailNode;
                }
                _tailNode = _tailNode.sibling;
              }
              if (_lastTailNode === null) {
                if (!hasRenderedATailFallback && renderState.tail !== null) {
                  renderState.tail.sibling = null;
                } else {
                  renderState.tail = null;
                }
              } else {
                _lastTailNode.sibling = null;
              }
              break;
            }
          }
        }
        function completeWork(current2, workInProgress2, renderLanes2) {
          var newProps = workInProgress2.pendingProps;
          switch (workInProgress2.tag) {
            case IndeterminateComponent:
            case LazyComponent:
            case SimpleMemoComponent:
            case FunctionComponent:
            case ForwardRef:
            case Fragment2:
            case Mode:
            case Profiler:
            case ContextConsumer:
            case MemoComponent:
              return null;
            case ClassComponent: {
              var Component = workInProgress2.type;
              if (isContextProvider(Component)) {
                popContext(workInProgress2);
              }
              return null;
            }
            case HostRoot: {
              popHostContainer(workInProgress2);
              popTopLevelContextObject(workInProgress2);
              resetWorkInProgressVersions();
              var fiberRoot = workInProgress2.stateNode;
              if (fiberRoot.pendingContext) {
                fiberRoot.context = fiberRoot.pendingContext;
                fiberRoot.pendingContext = null;
              }
              if (current2 === null || current2.child === null) {
                var wasHydrated = popHydrationState(workInProgress2);
                if (wasHydrated) {
                  markUpdate(workInProgress2);
                } else if (!fiberRoot.hydrate) {
                  workInProgress2.flags |= Snapshot;
                }
              }
              updateHostContainer(workInProgress2);
              return null;
            }
            case HostComponent: {
              popHostContext(workInProgress2);
              var rootContainerInstance = getRootHostContainer();
              var type = workInProgress2.type;
              if (current2 !== null && workInProgress2.stateNode != null) {
                updateHostComponent$1(current2, workInProgress2, type, newProps, rootContainerInstance);
                if (current2.ref !== workInProgress2.ref) {
                  markRef$1(workInProgress2);
                }
              } else {
                if (!newProps) {
                  if (!(workInProgress2.stateNode !== null)) {
                    {
                      throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");
                    }
                  }
                  return null;
                }
                var currentHostContext = getHostContext();
                var _wasHydrated = popHydrationState(workInProgress2);
                if (_wasHydrated) {
                  if (prepareToHydrateHostInstance(workInProgress2, rootContainerInstance, currentHostContext)) {
                    markUpdate(workInProgress2);
                  }
                } else {
                  var instance = createInstance(type, newProps, rootContainerInstance, currentHostContext, workInProgress2);
                  appendAllChildren(instance, workInProgress2, false, false);
                  workInProgress2.stateNode = instance;
                  if (finalizeInitialChildren(instance, type, newProps, rootContainerInstance)) {
                    markUpdate(workInProgress2);
                  }
                }
                if (workInProgress2.ref !== null) {
                  markRef$1(workInProgress2);
                }
              }
              return null;
            }
            case HostText: {
              var newText = newProps;
              if (current2 && workInProgress2.stateNode != null) {
                var oldText = current2.memoizedProps;
                updateHostText$1(current2, workInProgress2, oldText, newText);
              } else {
                if (typeof newText !== "string") {
                  if (!(workInProgress2.stateNode !== null)) {
                    {
                      throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");
                    }
                  }
                }
                var _rootContainerInstance = getRootHostContainer();
                var _currentHostContext = getHostContext();
                var _wasHydrated2 = popHydrationState(workInProgress2);
                if (_wasHydrated2) {
                  if (prepareToHydrateHostTextInstance(workInProgress2)) {
                    markUpdate(workInProgress2);
                  }
                } else {
                  workInProgress2.stateNode = createTextInstance(newText, _rootContainerInstance, _currentHostContext, workInProgress2);
                }
              }
              return null;
            }
            case SuspenseComponent: {
              popSuspenseContext(workInProgress2);
              var nextState = workInProgress2.memoizedState;
              if ((workInProgress2.flags & DidCapture) !== NoFlags) {
                workInProgress2.lanes = renderLanes2;
                if ((workInProgress2.mode & ProfileMode) !== NoMode) {
                  transferActualDuration(workInProgress2);
                }
                return workInProgress2;
              }
              var nextDidTimeout = nextState !== null;
              var prevDidTimeout = false;
              if (current2 === null) {
                if (workInProgress2.memoizedProps.fallback !== void 0) {
                  popHydrationState(workInProgress2);
                }
              } else {
                var prevState = current2.memoizedState;
                prevDidTimeout = prevState !== null;
              }
              if (nextDidTimeout && !prevDidTimeout) {
                if ((workInProgress2.mode & BlockingMode) !== NoMode) {
                  var hasInvisibleChildContext = current2 === null && workInProgress2.memoizedProps.unstable_avoidThisFallback !== true;
                  if (hasInvisibleChildContext || hasSuspenseContext(suspenseStackCursor.current, InvisibleParentSuspenseContext)) {
                    renderDidSuspend();
                  } else {
                    renderDidSuspendDelayIfPossible();
                  }
                }
              }
              {
                if (nextDidTimeout || prevDidTimeout) {
                  workInProgress2.flags |= Update;
                }
              }
              return null;
            }
            case HostPortal:
              popHostContainer(workInProgress2);
              updateHostContainer(workInProgress2);
              if (current2 === null) {
                preparePortalMount(workInProgress2.stateNode.containerInfo);
              }
              return null;
            case ContextProvider:
              popProvider(workInProgress2);
              return null;
            case IncompleteClassComponent: {
              var _Component = workInProgress2.type;
              if (isContextProvider(_Component)) {
                popContext(workInProgress2);
              }
              return null;
            }
            case SuspenseListComponent: {
              popSuspenseContext(workInProgress2);
              var renderState = workInProgress2.memoizedState;
              if (renderState === null) {
                return null;
              }
              var didSuspendAlready = (workInProgress2.flags & DidCapture) !== NoFlags;
              var renderedTail = renderState.rendering;
              if (renderedTail === null) {
                if (!didSuspendAlready) {
                  var cannotBeSuspended = renderHasNotSuspendedYet() && (current2 === null || (current2.flags & DidCapture) === NoFlags);
                  if (!cannotBeSuspended) {
                    var row = workInProgress2.child;
                    while (row !== null) {
                      var suspended = findFirstSuspended(row);
                      if (suspended !== null) {
                        didSuspendAlready = true;
                        workInProgress2.flags |= DidCapture;
                        cutOffTailIfNeeded(renderState, false);
                        var newThennables = suspended.updateQueue;
                        if (newThennables !== null) {
                          workInProgress2.updateQueue = newThennables;
                          workInProgress2.flags |= Update;
                        }
                        if (renderState.lastEffect === null) {
                          workInProgress2.firstEffect = null;
                        }
                        workInProgress2.lastEffect = renderState.lastEffect;
                        resetChildFibers(workInProgress2, renderLanes2);
                        pushSuspenseContext(workInProgress2, setShallowSuspenseContext(suspenseStackCursor.current, ForceSuspenseFallback));
                        return workInProgress2.child;
                      }
                      row = row.sibling;
                    }
                  }
                  if (renderState.tail !== null && now() > getRenderTargetTime()) {
                    workInProgress2.flags |= DidCapture;
                    didSuspendAlready = true;
                    cutOffTailIfNeeded(renderState, false);
                    workInProgress2.lanes = SomeRetryLane;
                    {
                      markSpawnedWork(SomeRetryLane);
                    }
                  }
                } else {
                  cutOffTailIfNeeded(renderState, false);
                }
              } else {
                if (!didSuspendAlready) {
                  var _suspended = findFirstSuspended(renderedTail);
                  if (_suspended !== null) {
                    workInProgress2.flags |= DidCapture;
                    didSuspendAlready = true;
                    var _newThennables = _suspended.updateQueue;
                    if (_newThennables !== null) {
                      workInProgress2.updateQueue = _newThennables;
                      workInProgress2.flags |= Update;
                    }
                    cutOffTailIfNeeded(renderState, true);
                    if (renderState.tail === null && renderState.tailMode === "hidden" && !renderedTail.alternate && !getIsHydrating()) {
                      var lastEffect = workInProgress2.lastEffect = renderState.lastEffect;
                      if (lastEffect !== null) {
                        lastEffect.nextEffect = null;
                      }
                      return null;
                    }
                  } else if (now() * 2 - renderState.renderingStartTime > getRenderTargetTime() && renderLanes2 !== OffscreenLane) {
                    workInProgress2.flags |= DidCapture;
                    didSuspendAlready = true;
                    cutOffTailIfNeeded(renderState, false);
                    workInProgress2.lanes = SomeRetryLane;
                    {
                      markSpawnedWork(SomeRetryLane);
                    }
                  }
                }
                if (renderState.isBackwards) {
                  renderedTail.sibling = workInProgress2.child;
                  workInProgress2.child = renderedTail;
                } else {
                  var previousSibling = renderState.last;
                  if (previousSibling !== null) {
                    previousSibling.sibling = renderedTail;
                  } else {
                    workInProgress2.child = renderedTail;
                  }
                  renderState.last = renderedTail;
                }
              }
              if (renderState.tail !== null) {
                var next = renderState.tail;
                renderState.rendering = next;
                renderState.tail = next.sibling;
                renderState.lastEffect = workInProgress2.lastEffect;
                renderState.renderingStartTime = now();
                next.sibling = null;
                var suspenseContext = suspenseStackCursor.current;
                if (didSuspendAlready) {
                  suspenseContext = setShallowSuspenseContext(suspenseContext, ForceSuspenseFallback);
                } else {
                  suspenseContext = setDefaultShallowSuspenseContext(suspenseContext);
                }
                pushSuspenseContext(workInProgress2, suspenseContext);
                return next;
              }
              return null;
            }
            case FundamentalComponent: {
              break;
            }
            case ScopeComponent: {
              break;
            }
            case Block:
              break;
            case OffscreenComponent:
            case LegacyHiddenComponent: {
              popRenderLanes(workInProgress2);
              if (current2 !== null) {
                var _nextState = workInProgress2.memoizedState;
                var _prevState = current2.memoizedState;
                var prevIsHidden = _prevState !== null;
                var nextIsHidden = _nextState !== null;
                if (prevIsHidden !== nextIsHidden && newProps.mode !== "unstable-defer-without-hiding") {
                  workInProgress2.flags |= Update;
                }
              }
              return null;
            }
          }
          {
            {
              throw Error("Unknown unit of work tag (" + workInProgress2.tag + "). This error is likely caused by a bug in React. Please file an issue.");
            }
          }
        }
        function unwindWork(workInProgress2, renderLanes2) {
          switch (workInProgress2.tag) {
            case ClassComponent: {
              var Component = workInProgress2.type;
              if (isContextProvider(Component)) {
                popContext(workInProgress2);
              }
              var flags = workInProgress2.flags;
              if (flags & ShouldCapture) {
                workInProgress2.flags = flags & ~ShouldCapture | DidCapture;
                if ((workInProgress2.mode & ProfileMode) !== NoMode) {
                  transferActualDuration(workInProgress2);
                }
                return workInProgress2;
              }
              return null;
            }
            case HostRoot: {
              popHostContainer(workInProgress2);
              popTopLevelContextObject(workInProgress2);
              resetWorkInProgressVersions();
              var _flags = workInProgress2.flags;
              if (!((_flags & DidCapture) === NoFlags)) {
                {
                  throw Error("The root failed to unmount after an error. This is likely a bug in React. Please file an issue.");
                }
              }
              workInProgress2.flags = _flags & ~ShouldCapture | DidCapture;
              return workInProgress2;
            }
            case HostComponent: {
              popHostContext(workInProgress2);
              return null;
            }
            case SuspenseComponent: {
              popSuspenseContext(workInProgress2);
              var _flags2 = workInProgress2.flags;
              if (_flags2 & ShouldCapture) {
                workInProgress2.flags = _flags2 & ~ShouldCapture | DidCapture;
                if ((workInProgress2.mode & ProfileMode) !== NoMode) {
                  transferActualDuration(workInProgress2);
                }
                return workInProgress2;
              }
              return null;
            }
            case SuspenseListComponent: {
              popSuspenseContext(workInProgress2);
              return null;
            }
            case HostPortal:
              popHostContainer(workInProgress2);
              return null;
            case ContextProvider:
              popProvider(workInProgress2);
              return null;
            case OffscreenComponent:
            case LegacyHiddenComponent:
              popRenderLanes(workInProgress2);
              return null;
            default:
              return null;
          }
        }
        function unwindInterruptedWork(interruptedWork) {
          switch (interruptedWork.tag) {
            case ClassComponent: {
              var childContextTypes = interruptedWork.type.childContextTypes;
              if (childContextTypes !== null && childContextTypes !== void 0) {
                popContext(interruptedWork);
              }
              break;
            }
            case HostRoot: {
              popHostContainer(interruptedWork);
              popTopLevelContextObject(interruptedWork);
              resetWorkInProgressVersions();
              break;
            }
            case HostComponent: {
              popHostContext(interruptedWork);
              break;
            }
            case HostPortal:
              popHostContainer(interruptedWork);
              break;
            case SuspenseComponent:
              popSuspenseContext(interruptedWork);
              break;
            case SuspenseListComponent:
              popSuspenseContext(interruptedWork);
              break;
            case ContextProvider:
              popProvider(interruptedWork);
              break;
            case OffscreenComponent:
            case LegacyHiddenComponent:
              popRenderLanes(interruptedWork);
              break;
          }
        }
        function createCapturedValue(value, source) {
          return {
            value,
            source,
            stack: getStackByFiberInDevAndProd(source)
          };
        }
        function showErrorDialog(boundary, errorInfo) {
          return true;
        }
        function logCapturedError(boundary, errorInfo) {
          try {
            var logError = showErrorDialog(boundary, errorInfo);
            if (logError === false) {
              return;
            }
            var error2 = errorInfo.value;
            if (true) {
              var source = errorInfo.source;
              var stack = errorInfo.stack;
              var componentStack = stack !== null ? stack : "";
              if (error2 != null && error2._suppressLogging) {
                if (boundary.tag === ClassComponent) {
                  return;
                }
                console["error"](error2);
              }
              var componentName = source ? getComponentName(source.type) : null;
              var componentNameMessage = componentName ? "The above error occurred in the <" + componentName + "> component:" : "The above error occurred in one of your React components:";
              var errorBoundaryMessage;
              var errorBoundaryName = getComponentName(boundary.type);
              if (errorBoundaryName) {
                errorBoundaryMessage = "React will try to recreate this component tree from scratch " + ("using the error boundary you provided, " + errorBoundaryName + ".");
              } else {
                errorBoundaryMessage = "Consider adding an error boundary to your tree to customize error handling behavior.\nVisit https://reactjs.org/link/error-boundaries to learn more about error boundaries.";
              }
              var combinedMessage = componentNameMessage + "\n" + componentStack + "\n\n" + ("" + errorBoundaryMessage);
              console["error"](combinedMessage);
            } else {
              console["error"](error2);
            }
          } catch (e) {
            setTimeout(function() {
              throw e;
            });
          }
        }
        var PossiblyWeakMap$1 = typeof WeakMap === "function" ? WeakMap : Map;
        function createRootErrorUpdate(fiber, errorInfo, lane) {
          var update = createUpdate(NoTimestamp, lane);
          update.tag = CaptureUpdate;
          update.payload = {
            element: null
          };
          var error2 = errorInfo.value;
          update.callback = function() {
            onUncaughtError(error2);
            logCapturedError(fiber, errorInfo);
          };
          return update;
        }
        function createClassErrorUpdate(fiber, errorInfo, lane) {
          var update = createUpdate(NoTimestamp, lane);
          update.tag = CaptureUpdate;
          var getDerivedStateFromError = fiber.type.getDerivedStateFromError;
          if (typeof getDerivedStateFromError === "function") {
            var error$1 = errorInfo.value;
            update.payload = function() {
              logCapturedError(fiber, errorInfo);
              return getDerivedStateFromError(error$1);
            };
          }
          var inst = fiber.stateNode;
          if (inst !== null && typeof inst.componentDidCatch === "function") {
            update.callback = function callback() {
              {
                markFailedErrorBoundaryForHotReloading(fiber);
              }
              if (typeof getDerivedStateFromError !== "function") {
                markLegacyErrorBoundaryAsFailed(this);
                logCapturedError(fiber, errorInfo);
              }
              var error$12 = errorInfo.value;
              var stack = errorInfo.stack;
              this.componentDidCatch(error$12, {
                componentStack: stack !== null ? stack : ""
              });
              {
                if (typeof getDerivedStateFromError !== "function") {
                  if (!includesSomeLane(fiber.lanes, SyncLane)) {
                    error("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.", getComponentName(fiber.type) || "Unknown");
                  }
                }
              }
            };
          } else {
            update.callback = function() {
              markFailedErrorBoundaryForHotReloading(fiber);
            };
          }
          return update;
        }
        function attachPingListener(root2, wakeable, lanes) {
          var pingCache = root2.pingCache;
          var threadIDs;
          if (pingCache === null) {
            pingCache = root2.pingCache = new PossiblyWeakMap$1();
            threadIDs = new Set();
            pingCache.set(wakeable, threadIDs);
          } else {
            threadIDs = pingCache.get(wakeable);
            if (threadIDs === void 0) {
              threadIDs = new Set();
              pingCache.set(wakeable, threadIDs);
            }
          }
          if (!threadIDs.has(lanes)) {
            threadIDs.add(lanes);
            var ping = pingSuspendedRoot.bind(null, root2, wakeable, lanes);
            wakeable.then(ping, ping);
          }
        }
        function throwException(root2, returnFiber, sourceFiber, value, rootRenderLanes) {
          sourceFiber.flags |= Incomplete;
          sourceFiber.firstEffect = sourceFiber.lastEffect = null;
          if (value !== null && typeof value === "object" && typeof value.then === "function") {
            var wakeable = value;
            if ((sourceFiber.mode & BlockingMode) === NoMode) {
              var currentSource = sourceFiber.alternate;
              if (currentSource) {
                sourceFiber.updateQueue = currentSource.updateQueue;
                sourceFiber.memoizedState = currentSource.memoizedState;
                sourceFiber.lanes = currentSource.lanes;
              } else {
                sourceFiber.updateQueue = null;
                sourceFiber.memoizedState = null;
              }
            }
            var hasInvisibleParentBoundary = hasSuspenseContext(suspenseStackCursor.current, InvisibleParentSuspenseContext);
            var _workInProgress = returnFiber;
            do {
              if (_workInProgress.tag === SuspenseComponent && shouldCaptureSuspense(_workInProgress, hasInvisibleParentBoundary)) {
                var wakeables = _workInProgress.updateQueue;
                if (wakeables === null) {
                  var updateQueue = new Set();
                  updateQueue.add(wakeable);
                  _workInProgress.updateQueue = updateQueue;
                } else {
                  wakeables.add(wakeable);
                }
                if ((_workInProgress.mode & BlockingMode) === NoMode) {
                  _workInProgress.flags |= DidCapture;
                  sourceFiber.flags |= ForceUpdateForLegacySuspense;
                  sourceFiber.flags &= ~(LifecycleEffectMask | Incomplete);
                  if (sourceFiber.tag === ClassComponent) {
                    var currentSourceFiber = sourceFiber.alternate;
                    if (currentSourceFiber === null) {
                      sourceFiber.tag = IncompleteClassComponent;
                    } else {
                      var update = createUpdate(NoTimestamp, SyncLane);
                      update.tag = ForceUpdate;
                      enqueueUpdate(sourceFiber, update);
                    }
                  }
                  sourceFiber.lanes = mergeLanes(sourceFiber.lanes, SyncLane);
                  return;
                }
                attachPingListener(root2, wakeable, rootRenderLanes);
                _workInProgress.flags |= ShouldCapture;
                _workInProgress.lanes = rootRenderLanes;
                return;
              }
              _workInProgress = _workInProgress.return;
            } while (_workInProgress !== null);
            value = new Error((getComponentName(sourceFiber.type) || "A React component") + " suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.");
          }
          renderDidError();
          value = createCapturedValue(value, sourceFiber);
          var workInProgress2 = returnFiber;
          do {
            switch (workInProgress2.tag) {
              case HostRoot: {
                var _errorInfo = value;
                workInProgress2.flags |= ShouldCapture;
                var lane = pickArbitraryLane(rootRenderLanes);
                workInProgress2.lanes = mergeLanes(workInProgress2.lanes, lane);
                var _update = createRootErrorUpdate(workInProgress2, _errorInfo, lane);
                enqueueCapturedUpdate(workInProgress2, _update);
                return;
              }
              case ClassComponent:
                var errorInfo = value;
                var ctor = workInProgress2.type;
                var instance = workInProgress2.stateNode;
                if ((workInProgress2.flags & DidCapture) === NoFlags && (typeof ctor.getDerivedStateFromError === "function" || instance !== null && typeof instance.componentDidCatch === "function" && !isAlreadyFailedLegacyErrorBoundary(instance))) {
                  workInProgress2.flags |= ShouldCapture;
                  var _lane = pickArbitraryLane(rootRenderLanes);
                  workInProgress2.lanes = mergeLanes(workInProgress2.lanes, _lane);
                  var _update2 = createClassErrorUpdate(workInProgress2, errorInfo, _lane);
                  enqueueCapturedUpdate(workInProgress2, _update2);
                  return;
                }
                break;
            }
            workInProgress2 = workInProgress2.return;
          } while (workInProgress2 !== null);
        }
        var didWarnAboutUndefinedSnapshotBeforeUpdate = null;
        {
          didWarnAboutUndefinedSnapshotBeforeUpdate = new Set();
        }
        var PossiblyWeakSet = typeof WeakSet === "function" ? WeakSet : Set;
        var callComponentWillUnmountWithTimer = function(current2, instance) {
          instance.props = current2.memoizedProps;
          instance.state = current2.memoizedState;
          {
            instance.componentWillUnmount();
          }
        };
        function safelyCallComponentWillUnmount(current2, instance) {
          {
            invokeGuardedCallback(null, callComponentWillUnmountWithTimer, null, current2, instance);
            if (hasCaughtError()) {
              var unmountError = clearCaughtError();
              captureCommitPhaseError(current2, unmountError);
            }
          }
        }
        function safelyDetachRef(current2) {
          var ref = current2.ref;
          if (ref !== null) {
            if (typeof ref === "function") {
              {
                invokeGuardedCallback(null, ref, null, null);
                if (hasCaughtError()) {
                  var refError = clearCaughtError();
                  captureCommitPhaseError(current2, refError);
                }
              }
            } else {
              ref.current = null;
            }
          }
        }
        function safelyCallDestroy(current2, destroy) {
          {
            invokeGuardedCallback(null, destroy, null);
            if (hasCaughtError()) {
              var error2 = clearCaughtError();
              captureCommitPhaseError(current2, error2);
            }
          }
        }
        function commitBeforeMutationLifeCycles(current2, finishedWork) {
          switch (finishedWork.tag) {
            case FunctionComponent:
            case ForwardRef:
            case SimpleMemoComponent:
            case Block: {
              return;
            }
            case ClassComponent: {
              if (finishedWork.flags & Snapshot) {
                if (current2 !== null) {
                  var prevProps = current2.memoizedProps;
                  var prevState = current2.memoizedState;
                  var instance = finishedWork.stateNode;
                  {
                    if (finishedWork.type === finishedWork.elementType && !didWarnAboutReassigningProps) {
                      if (instance.props !== finishedWork.memoizedProps) {
                        error("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.", getComponentName(finishedWork.type) || "instance");
                      }
                      if (instance.state !== finishedWork.memoizedState) {
                        error("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.", getComponentName(finishedWork.type) || "instance");
                      }
                    }
                  }
                  var snapshot = instance.getSnapshotBeforeUpdate(finishedWork.elementType === finishedWork.type ? prevProps : resolveDefaultProps(finishedWork.type, prevProps), prevState);
                  {
                    var didWarnSet = didWarnAboutUndefinedSnapshotBeforeUpdate;
                    if (snapshot === void 0 && !didWarnSet.has(finishedWork.type)) {
                      didWarnSet.add(finishedWork.type);
                      error("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.", getComponentName(finishedWork.type));
                    }
                  }
                  instance.__reactInternalSnapshotBeforeUpdate = snapshot;
                }
              }
              return;
            }
            case HostRoot: {
              {
                if (finishedWork.flags & Snapshot) {
                  var root2 = finishedWork.stateNode;
                  clearContainer(root2.containerInfo);
                }
              }
              return;
            }
            case HostComponent:
            case HostText:
            case HostPortal:
            case IncompleteClassComponent:
              return;
          }
          {
            {
              throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.");
            }
          }
        }
        function commitHookEffectListUnmount(tag, finishedWork) {
          var updateQueue = finishedWork.updateQueue;
          var lastEffect = updateQueue !== null ? updateQueue.lastEffect : null;
          if (lastEffect !== null) {
            var firstEffect = lastEffect.next;
            var effect = firstEffect;
            do {
              if ((effect.tag & tag) === tag) {
                var destroy = effect.destroy;
                effect.destroy = void 0;
                if (destroy !== void 0) {
                  destroy();
                }
              }
              effect = effect.next;
            } while (effect !== firstEffect);
          }
        }
        function commitHookEffectListMount(tag, finishedWork) {
          var updateQueue = finishedWork.updateQueue;
          var lastEffect = updateQueue !== null ? updateQueue.lastEffect : null;
          if (lastEffect !== null) {
            var firstEffect = lastEffect.next;
            var effect = firstEffect;
            do {
              if ((effect.tag & tag) === tag) {
                var create = effect.create;
                effect.destroy = create();
                {
                  var destroy = effect.destroy;
                  if (destroy !== void 0 && typeof destroy !== "function") {
                    var addendum = void 0;
                    if (destroy === null) {
                      addendum = " You returned null. If your effect does not require clean up, return undefined (or nothing).";
                    } else if (typeof destroy.then === "function") {
                      addendum = "\n\nIt looks like you wrote useEffect(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching";
                    } else {
                      addendum = " You returned: " + destroy;
                    }
                    error("An effect function must not return anything besides a function, which is used for clean-up.%s", addendum);
                  }
                }
              }
              effect = effect.next;
            } while (effect !== firstEffect);
          }
        }
        function schedulePassiveEffects(finishedWork) {
          var updateQueue = finishedWork.updateQueue;
          var lastEffect = updateQueue !== null ? updateQueue.lastEffect : null;
          if (lastEffect !== null) {
            var firstEffect = lastEffect.next;
            var effect = firstEffect;
            do {
              var _effect = effect, next = _effect.next, tag = _effect.tag;
              if ((tag & Passive$1) !== NoFlags$1 && (tag & HasEffect) !== NoFlags$1) {
                enqueuePendingPassiveHookEffectUnmount(finishedWork, effect);
                enqueuePendingPassiveHookEffectMount(finishedWork, effect);
              }
              effect = next;
            } while (effect !== firstEffect);
          }
        }
        function commitLifeCycles(finishedRoot, current2, finishedWork, committedLanes) {
          switch (finishedWork.tag) {
            case FunctionComponent:
            case ForwardRef:
            case SimpleMemoComponent:
            case Block: {
              {
                commitHookEffectListMount(Layout | HasEffect, finishedWork);
              }
              schedulePassiveEffects(finishedWork);
              return;
            }
            case ClassComponent: {
              var instance = finishedWork.stateNode;
              if (finishedWork.flags & Update) {
                if (current2 === null) {
                  {
                    if (finishedWork.type === finishedWork.elementType && !didWarnAboutReassigningProps) {
                      if (instance.props !== finishedWork.memoizedProps) {
                        error("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.", getComponentName(finishedWork.type) || "instance");
                      }
                      if (instance.state !== finishedWork.memoizedState) {
                        error("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.", getComponentName(finishedWork.type) || "instance");
                      }
                    }
                  }
                  {
                    instance.componentDidMount();
                  }
                } else {
                  var prevProps = finishedWork.elementType === finishedWork.type ? current2.memoizedProps : resolveDefaultProps(finishedWork.type, current2.memoizedProps);
                  var prevState = current2.memoizedState;
                  {
                    if (finishedWork.type === finishedWork.elementType && !didWarnAboutReassigningProps) {
                      if (instance.props !== finishedWork.memoizedProps) {
                        error("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.", getComponentName(finishedWork.type) || "instance");
                      }
                      if (instance.state !== finishedWork.memoizedState) {
                        error("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.", getComponentName(finishedWork.type) || "instance");
                      }
                    }
                  }
                  {
                    instance.componentDidUpdate(prevProps, prevState, instance.__reactInternalSnapshotBeforeUpdate);
                  }
                }
              }
              var updateQueue = finishedWork.updateQueue;
              if (updateQueue !== null) {
                {
                  if (finishedWork.type === finishedWork.elementType && !didWarnAboutReassigningProps) {
                    if (instance.props !== finishedWork.memoizedProps) {
                      error("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.", getComponentName(finishedWork.type) || "instance");
                    }
                    if (instance.state !== finishedWork.memoizedState) {
                      error("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.", getComponentName(finishedWork.type) || "instance");
                    }
                  }
                }
                commitUpdateQueue(finishedWork, updateQueue, instance);
              }
              return;
            }
            case HostRoot: {
              var _updateQueue = finishedWork.updateQueue;
              if (_updateQueue !== null) {
                var _instance = null;
                if (finishedWork.child !== null) {
                  switch (finishedWork.child.tag) {
                    case HostComponent:
                      _instance = getPublicInstance(finishedWork.child.stateNode);
                      break;
                    case ClassComponent:
                      _instance = finishedWork.child.stateNode;
                      break;
                  }
                }
                commitUpdateQueue(finishedWork, _updateQueue, _instance);
              }
              return;
            }
            case HostComponent: {
              var _instance2 = finishedWork.stateNode;
              if (current2 === null && finishedWork.flags & Update) {
                var type = finishedWork.type;
                var props = finishedWork.memoizedProps;
                commitMount(_instance2, type, props);
              }
              return;
            }
            case HostText: {
              return;
            }
            case HostPortal: {
              return;
            }
            case Profiler: {
              {
                var _finishedWork$memoize2 = finishedWork.memoizedProps, onCommit = _finishedWork$memoize2.onCommit, onRender = _finishedWork$memoize2.onRender;
                var effectDuration = finishedWork.stateNode.effectDuration;
                var commitTime2 = getCommitTime();
                if (typeof onRender === "function") {
                  {
                    onRender(finishedWork.memoizedProps.id, current2 === null ? "mount" : "update", finishedWork.actualDuration, finishedWork.treeBaseDuration, finishedWork.actualStartTime, commitTime2, finishedRoot.memoizedInteractions);
                  }
                }
              }
              return;
            }
            case SuspenseComponent: {
              commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);
              return;
            }
            case SuspenseListComponent:
            case IncompleteClassComponent:
            case FundamentalComponent:
            case ScopeComponent:
            case OffscreenComponent:
            case LegacyHiddenComponent:
              return;
          }
          {
            {
              throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.");
            }
          }
        }
        function hideOrUnhideAllChildren(finishedWork, isHidden) {
          {
            var node = finishedWork;
            while (true) {
              if (node.tag === HostComponent) {
                var instance = node.stateNode;
                if (isHidden) {
                  hideInstance(instance);
                } else {
                  unhideInstance(node.stateNode, node.memoizedProps);
                }
              } else if (node.tag === HostText) {
                var _instance3 = node.stateNode;
                if (isHidden) {
                  hideTextInstance(_instance3);
                } else {
                  unhideTextInstance(_instance3, node.memoizedProps);
                }
              } else if ((node.tag === OffscreenComponent || node.tag === LegacyHiddenComponent) && node.memoizedState !== null && node !== finishedWork)
                ;
              else if (node.child !== null) {
                node.child.return = node;
                node = node.child;
                continue;
              }
              if (node === finishedWork) {
                return;
              }
              while (node.sibling === null) {
                if (node.return === null || node.return === finishedWork) {
                  return;
                }
                node = node.return;
              }
              node.sibling.return = node.return;
              node = node.sibling;
            }
          }
        }
        function commitAttachRef(finishedWork) {
          var ref = finishedWork.ref;
          if (ref !== null) {
            var instance = finishedWork.stateNode;
            var instanceToUse;
            switch (finishedWork.tag) {
              case HostComponent:
                instanceToUse = getPublicInstance(instance);
                break;
              default:
                instanceToUse = instance;
            }
            if (typeof ref === "function") {
              ref(instanceToUse);
            } else {
              {
                if (!ref.hasOwnProperty("current")) {
                  error("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().", getComponentName(finishedWork.type));
                }
              }
              ref.current = instanceToUse;
            }
          }
        }
        function commitDetachRef(current2) {
          var currentRef = current2.ref;
          if (currentRef !== null) {
            if (typeof currentRef === "function") {
              currentRef(null);
            } else {
              currentRef.current = null;
            }
          }
        }
        function commitUnmount(finishedRoot, current2, renderPriorityLevel) {
          onCommitUnmount(current2);
          switch (current2.tag) {
            case FunctionComponent:
            case ForwardRef:
            case MemoComponent:
            case SimpleMemoComponent:
            case Block: {
              var updateQueue = current2.updateQueue;
              if (updateQueue !== null) {
                var lastEffect = updateQueue.lastEffect;
                if (lastEffect !== null) {
                  var firstEffect = lastEffect.next;
                  var effect = firstEffect;
                  do {
                    var _effect2 = effect, destroy = _effect2.destroy, tag = _effect2.tag;
                    if (destroy !== void 0) {
                      if ((tag & Passive$1) !== NoFlags$1) {
                        enqueuePendingPassiveHookEffectUnmount(current2, effect);
                      } else {
                        {
                          safelyCallDestroy(current2, destroy);
                        }
                      }
                    }
                    effect = effect.next;
                  } while (effect !== firstEffect);
                }
              }
              return;
            }
            case ClassComponent: {
              safelyDetachRef(current2);
              var instance = current2.stateNode;
              if (typeof instance.componentWillUnmount === "function") {
                safelyCallComponentWillUnmount(current2, instance);
              }
              return;
            }
            case HostComponent: {
              safelyDetachRef(current2);
              return;
            }
            case HostPortal: {
              {
                unmountHostComponents(finishedRoot, current2);
              }
              return;
            }
            case FundamentalComponent: {
              return;
            }
            case DehydratedFragment: {
              return;
            }
            case ScopeComponent: {
              return;
            }
          }
        }
        function commitNestedUnmounts(finishedRoot, root2, renderPriorityLevel) {
          var node = root2;
          while (true) {
            commitUnmount(finishedRoot, node);
            if (node.child !== null && node.tag !== HostPortal) {
              node.child.return = node;
              node = node.child;
              continue;
            }
            if (node === root2) {
              return;
            }
            while (node.sibling === null) {
              if (node.return === null || node.return === root2) {
                return;
              }
              node = node.return;
            }
            node.sibling.return = node.return;
            node = node.sibling;
          }
        }
        function detachFiberMutation(fiber) {
          fiber.alternate = null;
          fiber.child = null;
          fiber.dependencies = null;
          fiber.firstEffect = null;
          fiber.lastEffect = null;
          fiber.memoizedProps = null;
          fiber.memoizedState = null;
          fiber.pendingProps = null;
          fiber.return = null;
          fiber.updateQueue = null;
          {
            fiber._debugOwner = null;
          }
        }
        function getHostParentFiber(fiber) {
          var parent = fiber.return;
          while (parent !== null) {
            if (isHostParent(parent)) {
              return parent;
            }
            parent = parent.return;
          }
          {
            {
              throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");
            }
          }
        }
        function isHostParent(fiber) {
          return fiber.tag === HostComponent || fiber.tag === HostRoot || fiber.tag === HostPortal;
        }
        function getHostSibling(fiber) {
          var node = fiber;
          siblings:
            while (true) {
              while (node.sibling === null) {
                if (node.return === null || isHostParent(node.return)) {
                  return null;
                }
                node = node.return;
              }
              node.sibling.return = node.return;
              node = node.sibling;
              while (node.tag !== HostComponent && node.tag !== HostText && node.tag !== DehydratedFragment) {
                if (node.flags & Placement) {
                  continue siblings;
                }
                if (node.child === null || node.tag === HostPortal) {
                  continue siblings;
                } else {
                  node.child.return = node;
                  node = node.child;
                }
              }
              if (!(node.flags & Placement)) {
                return node.stateNode;
              }
            }
        }
        function commitPlacement(finishedWork) {
          var parentFiber = getHostParentFiber(finishedWork);
          var parent;
          var isContainer;
          var parentStateNode = parentFiber.stateNode;
          switch (parentFiber.tag) {
            case HostComponent:
              parent = parentStateNode;
              isContainer = false;
              break;
            case HostRoot:
              parent = parentStateNode.containerInfo;
              isContainer = true;
              break;
            case HostPortal:
              parent = parentStateNode.containerInfo;
              isContainer = true;
              break;
            case FundamentalComponent:
            default: {
              {
                throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.");
              }
            }
          }
          if (parentFiber.flags & ContentReset) {
            resetTextContent(parent);
            parentFiber.flags &= ~ContentReset;
          }
          var before = getHostSibling(finishedWork);
          if (isContainer) {
            insertOrAppendPlacementNodeIntoContainer(finishedWork, before, parent);
          } else {
            insertOrAppendPlacementNode(finishedWork, before, parent);
          }
        }
        function insertOrAppendPlacementNodeIntoContainer(node, before, parent) {
          var tag = node.tag;
          var isHost = tag === HostComponent || tag === HostText;
          if (isHost || enableFundamentalAPI) {
            var stateNode = isHost ? node.stateNode : node.stateNode.instance;
            if (before) {
              insertInContainerBefore(parent, stateNode, before);
            } else {
              appendChildToContainer(parent, stateNode);
            }
          } else if (tag === HostPortal)
            ;
          else {
            var child = node.child;
            if (child !== null) {
              insertOrAppendPlacementNodeIntoContainer(child, before, parent);
              var sibling = child.sibling;
              while (sibling !== null) {
                insertOrAppendPlacementNodeIntoContainer(sibling, before, parent);
                sibling = sibling.sibling;
              }
            }
          }
        }
        function insertOrAppendPlacementNode(node, before, parent) {
          var tag = node.tag;
          var isHost = tag === HostComponent || tag === HostText;
          if (isHost || enableFundamentalAPI) {
            var stateNode = isHost ? node.stateNode : node.stateNode.instance;
            if (before) {
              insertBefore(parent, stateNode, before);
            } else {
              appendChild(parent, stateNode);
            }
          } else if (tag === HostPortal)
            ;
          else {
            var child = node.child;
            if (child !== null) {
              insertOrAppendPlacementNode(child, before, parent);
              var sibling = child.sibling;
              while (sibling !== null) {
                insertOrAppendPlacementNode(sibling, before, parent);
                sibling = sibling.sibling;
              }
            }
          }
        }
        function unmountHostComponents(finishedRoot, current2, renderPriorityLevel) {
          var node = current2;
          var currentParentIsValid = false;
          var currentParent;
          var currentParentIsContainer;
          while (true) {
            if (!currentParentIsValid) {
              var parent = node.return;
              findParent:
                while (true) {
                  if (!(parent !== null)) {
                    {
                      throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");
                    }
                  }
                  var parentStateNode = parent.stateNode;
                  switch (parent.tag) {
                    case HostComponent:
                      currentParent = parentStateNode;
                      currentParentIsContainer = false;
                      break findParent;
                    case HostRoot:
                      currentParent = parentStateNode.containerInfo;
                      currentParentIsContainer = true;
                      break findParent;
                    case HostPortal:
                      currentParent = parentStateNode.containerInfo;
                      currentParentIsContainer = true;
                      break findParent;
                  }
                  parent = parent.return;
                }
              currentParentIsValid = true;
            }
            if (node.tag === HostComponent || node.tag === HostText) {
              commitNestedUnmounts(finishedRoot, node);
              if (currentParentIsContainer) {
                removeChildFromContainer(currentParent, node.stateNode);
              } else {
                removeChild(currentParent, node.stateNode);
              }
            } else if (node.tag === HostPortal) {
              if (node.child !== null) {
                currentParent = node.stateNode.containerInfo;
                currentParentIsContainer = true;
                node.child.return = node;
                node = node.child;
                continue;
              }
            } else {
              commitUnmount(finishedRoot, node);
              if (node.child !== null) {
                node.child.return = node;
                node = node.child;
                continue;
              }
            }
            if (node === current2) {
              return;
            }
            while (node.sibling === null) {
              if (node.return === null || node.return === current2) {
                return;
              }
              node = node.return;
              if (node.tag === HostPortal) {
                currentParentIsValid = false;
              }
            }
            node.sibling.return = node.return;
            node = node.sibling;
          }
        }
        function commitDeletion(finishedRoot, current2, renderPriorityLevel) {
          {
            unmountHostComponents(finishedRoot, current2);
          }
          var alternate = current2.alternate;
          detachFiberMutation(current2);
          if (alternate !== null) {
            detachFiberMutation(alternate);
          }
        }
        function commitWork(current2, finishedWork) {
          switch (finishedWork.tag) {
            case FunctionComponent:
            case ForwardRef:
            case MemoComponent:
            case SimpleMemoComponent:
            case Block: {
              {
                commitHookEffectListUnmount(Layout | HasEffect, finishedWork);
              }
              return;
            }
            case ClassComponent: {
              return;
            }
            case HostComponent: {
              var instance = finishedWork.stateNode;
              if (instance != null) {
                var newProps = finishedWork.memoizedProps;
                var oldProps = current2 !== null ? current2.memoizedProps : newProps;
                var type = finishedWork.type;
                var updatePayload = finishedWork.updateQueue;
                finishedWork.updateQueue = null;
                if (updatePayload !== null) {
                  commitUpdate(instance, updatePayload, type, oldProps, newProps);
                }
              }
              return;
            }
            case HostText: {
              if (!(finishedWork.stateNode !== null)) {
                {
                  throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");
                }
              }
              var textInstance = finishedWork.stateNode;
              var newText = finishedWork.memoizedProps;
              var oldText = current2 !== null ? current2.memoizedProps : newText;
              commitTextUpdate(textInstance, oldText, newText);
              return;
            }
            case HostRoot: {
              {
                var _root = finishedWork.stateNode;
                if (_root.hydrate) {
                  _root.hydrate = false;
                  commitHydratedContainer(_root.containerInfo);
                }
              }
              return;
            }
            case Profiler: {
              return;
            }
            case SuspenseComponent: {
              commitSuspenseComponent(finishedWork);
              attachSuspenseRetryListeners(finishedWork);
              return;
            }
            case SuspenseListComponent: {
              attachSuspenseRetryListeners(finishedWork);
              return;
            }
            case IncompleteClassComponent: {
              return;
            }
            case FundamentalComponent: {
              break;
            }
            case ScopeComponent: {
              break;
            }
            case OffscreenComponent:
            case LegacyHiddenComponent: {
              var newState = finishedWork.memoizedState;
              var isHidden = newState !== null;
              hideOrUnhideAllChildren(finishedWork, isHidden);
              return;
            }
          }
          {
            {
              throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.");
            }
          }
        }
        function commitSuspenseComponent(finishedWork) {
          var newState = finishedWork.memoizedState;
          if (newState !== null) {
            markCommitTimeOfFallback();
            {
              var primaryChildParent = finishedWork.child;
              hideOrUnhideAllChildren(primaryChildParent, true);
            }
          }
        }
        function commitSuspenseHydrationCallbacks(finishedRoot, finishedWork) {
          var newState = finishedWork.memoizedState;
          if (newState === null) {
            var current2 = finishedWork.alternate;
            if (current2 !== null) {
              var prevState = current2.memoizedState;
              if (prevState !== null) {
                var suspenseInstance = prevState.dehydrated;
                if (suspenseInstance !== null) {
                  commitHydratedSuspenseInstance(suspenseInstance);
                }
              }
            }
          }
        }
        function attachSuspenseRetryListeners(finishedWork) {
          var wakeables = finishedWork.updateQueue;
          if (wakeables !== null) {
            finishedWork.updateQueue = null;
            var retryCache = finishedWork.stateNode;
            if (retryCache === null) {
              retryCache = finishedWork.stateNode = new PossiblyWeakSet();
            }
            wakeables.forEach(function(wakeable) {
              var retry = resolveRetryWakeable.bind(null, finishedWork, wakeable);
              if (!retryCache.has(wakeable)) {
                {
                  if (wakeable.__reactDoNotTraceInteractions !== true) {
                    retry = tracing.unstable_wrap(retry);
                  }
                }
                retryCache.add(wakeable);
                wakeable.then(retry, retry);
              }
            });
          }
        }
        function isSuspenseBoundaryBeingHidden(current2, finishedWork) {
          if (current2 !== null) {
            var oldState = current2.memoizedState;
            if (oldState === null || oldState.dehydrated !== null) {
              var newState = finishedWork.memoizedState;
              return newState !== null && newState.dehydrated === null;
            }
          }
          return false;
        }
        function commitResetTextContent(current2) {
          resetTextContent(current2.stateNode);
        }
        var COMPONENT_TYPE = 0;
        var HAS_PSEUDO_CLASS_TYPE = 1;
        var ROLE_TYPE = 2;
        var TEST_NAME_TYPE = 3;
        var TEXT_TYPE = 4;
        if (typeof Symbol === "function" && Symbol.for) {
          var symbolFor$1 = Symbol.for;
          COMPONENT_TYPE = symbolFor$1("selector.component");
          HAS_PSEUDO_CLASS_TYPE = symbolFor$1("selector.has_pseudo_class");
          ROLE_TYPE = symbolFor$1("selector.role");
          TEST_NAME_TYPE = symbolFor$1("selector.test_id");
          TEXT_TYPE = symbolFor$1("selector.text");
        }
        var commitHooks = [];
        function onCommitRoot$1() {
          {
            commitHooks.forEach(function(commitHook) {
              return commitHook();
            });
          }
        }
        var ceil = Math.ceil;
        var ReactCurrentDispatcher$2 = ReactSharedInternals.ReactCurrentDispatcher, ReactCurrentOwner$2 = ReactSharedInternals.ReactCurrentOwner, IsSomeRendererActing = ReactSharedInternals.IsSomeRendererActing;
        var NoContext = 0;
        var BatchedContext = 1;
        var EventContext = 2;
        var DiscreteEventContext = 4;
        var LegacyUnbatchedContext = 8;
        var RenderContext = 16;
        var CommitContext = 32;
        var RetryAfterError = 64;
        var RootIncomplete = 0;
        var RootFatalErrored = 1;
        var RootErrored = 2;
        var RootSuspended = 3;
        var RootSuspendedWithDelay = 4;
        var RootCompleted = 5;
        var executionContext = NoContext;
        var workInProgressRoot = null;
        var workInProgress = null;
        var workInProgressRootRenderLanes = NoLanes;
        var subtreeRenderLanes = NoLanes;
        var subtreeRenderLanesCursor = createCursor(NoLanes);
        var workInProgressRootExitStatus = RootIncomplete;
        var workInProgressRootFatalError = null;
        var workInProgressRootIncludedLanes = NoLanes;
        var workInProgressRootSkippedLanes = NoLanes;
        var workInProgressRootUpdatedLanes = NoLanes;
        var workInProgressRootPingedLanes = NoLanes;
        var mostRecentlyUpdatedRoot = null;
        var globalMostRecentFallbackTime = 0;
        var FALLBACK_THROTTLE_MS = 500;
        var workInProgressRootRenderTargetTime = Infinity;
        var RENDER_TIMEOUT_MS = 500;
        function resetRenderTimer() {
          workInProgressRootRenderTargetTime = now() + RENDER_TIMEOUT_MS;
        }
        function getRenderTargetTime() {
          return workInProgressRootRenderTargetTime;
        }
        var nextEffect = null;
        var hasUncaughtError = false;
        var firstUncaughtError = null;
        var legacyErrorBoundariesThatAlreadyFailed = null;
        var rootDoesHavePassiveEffects = false;
        var rootWithPendingPassiveEffects = null;
        var pendingPassiveEffectsRenderPriority = NoPriority$1;
        var pendingPassiveEffectsLanes = NoLanes;
        var pendingPassiveHookEffectsMount = [];
        var pendingPassiveHookEffectsUnmount = [];
        var rootsWithPendingDiscreteUpdates = null;
        var NESTED_UPDATE_LIMIT = 50;
        var nestedUpdateCount = 0;
        var rootWithNestedUpdates = null;
        var NESTED_PASSIVE_UPDATE_LIMIT = 50;
        var nestedPassiveUpdateCount = 0;
        var spawnedWorkDuringRender = null;
        var currentEventTime = NoTimestamp;
        var currentEventWipLanes = NoLanes;
        var currentEventPendingLanes = NoLanes;
        var isFlushingPassiveEffects = false;
        var focusedInstanceHandle = null;
        var shouldFireAfterActiveInstanceBlur = false;
        function getWorkInProgressRoot() {
          return workInProgressRoot;
        }
        function requestEventTime() {
          if ((executionContext & (RenderContext | CommitContext)) !== NoContext) {
            return now();
          }
          if (currentEventTime !== NoTimestamp) {
            return currentEventTime;
          }
          currentEventTime = now();
          return currentEventTime;
        }
        function requestUpdateLane(fiber) {
          var mode = fiber.mode;
          if ((mode & BlockingMode) === NoMode) {
            return SyncLane;
          } else if ((mode & ConcurrentMode) === NoMode) {
            return getCurrentPriorityLevel() === ImmediatePriority$1 ? SyncLane : SyncBatchedLane;
          }
          if (currentEventWipLanes === NoLanes) {
            currentEventWipLanes = workInProgressRootIncludedLanes;
          }
          var isTransition = requestCurrentTransition() !== NoTransition;
          if (isTransition) {
            if (currentEventPendingLanes !== NoLanes) {
              currentEventPendingLanes = mostRecentlyUpdatedRoot !== null ? mostRecentlyUpdatedRoot.pendingLanes : NoLanes;
            }
            return findTransitionLane(currentEventWipLanes, currentEventPendingLanes);
          }
          var schedulerPriority = getCurrentPriorityLevel();
          var lane;
          if ((executionContext & DiscreteEventContext) !== NoContext && schedulerPriority === UserBlockingPriority$2) {
            lane = findUpdateLane(InputDiscreteLanePriority, currentEventWipLanes);
          } else {
            var schedulerLanePriority = schedulerPriorityToLanePriority(schedulerPriority);
            lane = findUpdateLane(schedulerLanePriority, currentEventWipLanes);
          }
          return lane;
        }
        function requestRetryLane(fiber) {
          var mode = fiber.mode;
          if ((mode & BlockingMode) === NoMode) {
            return SyncLane;
          } else if ((mode & ConcurrentMode) === NoMode) {
            return getCurrentPriorityLevel() === ImmediatePriority$1 ? SyncLane : SyncBatchedLane;
          }
          if (currentEventWipLanes === NoLanes) {
            currentEventWipLanes = workInProgressRootIncludedLanes;
          }
          return findRetryLane(currentEventWipLanes);
        }
        function scheduleUpdateOnFiber(fiber, lane, eventTime) {
          checkForNestedUpdates();
          warnAboutRenderPhaseUpdatesInDEV(fiber);
          var root2 = markUpdateLaneFromFiberToRoot(fiber, lane);
          if (root2 === null) {
            warnAboutUpdateOnUnmountedFiberInDEV(fiber);
            return null;
          }
          markRootUpdated(root2, lane, eventTime);
          if (root2 === workInProgressRoot) {
            {
              workInProgressRootUpdatedLanes = mergeLanes(workInProgressRootUpdatedLanes, lane);
            }
            if (workInProgressRootExitStatus === RootSuspendedWithDelay) {
              markRootSuspended$1(root2, workInProgressRootRenderLanes);
            }
          }
          var priorityLevel = getCurrentPriorityLevel();
          if (lane === SyncLane) {
            if ((executionContext & LegacyUnbatchedContext) !== NoContext && (executionContext & (RenderContext | CommitContext)) === NoContext) {
              schedulePendingInteractions(root2, lane);
              performSyncWorkOnRoot(root2);
            } else {
              ensureRootIsScheduled(root2, eventTime);
              schedulePendingInteractions(root2, lane);
              if (executionContext === NoContext) {
                resetRenderTimer();
                flushSyncCallbackQueue();
              }
            }
          } else {
            if ((executionContext & DiscreteEventContext) !== NoContext && (priorityLevel === UserBlockingPriority$2 || priorityLevel === ImmediatePriority$1)) {
              if (rootsWithPendingDiscreteUpdates === null) {
                rootsWithPendingDiscreteUpdates = new Set([root2]);
              } else {
                rootsWithPendingDiscreteUpdates.add(root2);
              }
            }
            ensureRootIsScheduled(root2, eventTime);
            schedulePendingInteractions(root2, lane);
          }
          mostRecentlyUpdatedRoot = root2;
        }
        function markUpdateLaneFromFiberToRoot(sourceFiber, lane) {
          sourceFiber.lanes = mergeLanes(sourceFiber.lanes, lane);
          var alternate = sourceFiber.alternate;
          if (alternate !== null) {
            alternate.lanes = mergeLanes(alternate.lanes, lane);
          }
          {
            if (alternate === null && (sourceFiber.flags & (Placement | Hydrating)) !== NoFlags) {
              warnAboutUpdateOnNotYetMountedFiberInDEV(sourceFiber);
            }
          }
          var node = sourceFiber;
          var parent = sourceFiber.return;
          while (parent !== null) {
            parent.childLanes = mergeLanes(parent.childLanes, lane);
            alternate = parent.alternate;
            if (alternate !== null) {
              alternate.childLanes = mergeLanes(alternate.childLanes, lane);
            } else {
              {
                if ((parent.flags & (Placement | Hydrating)) !== NoFlags) {
                  warnAboutUpdateOnNotYetMountedFiberInDEV(sourceFiber);
                }
              }
            }
            node = parent;
            parent = parent.return;
          }
          if (node.tag === HostRoot) {
            var root2 = node.stateNode;
            return root2;
          } else {
            return null;
          }
        }
        function ensureRootIsScheduled(root2, currentTime) {
          var existingCallbackNode = root2.callbackNode;
          markStarvedLanesAsExpired(root2, currentTime);
          var nextLanes = getNextLanes(root2, root2 === workInProgressRoot ? workInProgressRootRenderLanes : NoLanes);
          var newCallbackPriority = returnNextLanesPriority();
          if (nextLanes === NoLanes) {
            if (existingCallbackNode !== null) {
              cancelCallback(existingCallbackNode);
              root2.callbackNode = null;
              root2.callbackPriority = NoLanePriority;
            }
            return;
          }
          if (existingCallbackNode !== null) {
            var existingCallbackPriority = root2.callbackPriority;
            if (existingCallbackPriority === newCallbackPriority) {
              return;
            }
            cancelCallback(existingCallbackNode);
          }
          var newCallbackNode;
          if (newCallbackPriority === SyncLanePriority) {
            newCallbackNode = scheduleSyncCallback(performSyncWorkOnRoot.bind(null, root2));
          } else if (newCallbackPriority === SyncBatchedLanePriority) {
            newCallbackNode = scheduleCallback(ImmediatePriority$1, performSyncWorkOnRoot.bind(null, root2));
          } else {
            var schedulerPriorityLevel = lanePriorityToSchedulerPriority(newCallbackPriority);
            newCallbackNode = scheduleCallback(schedulerPriorityLevel, performConcurrentWorkOnRoot.bind(null, root2));
          }
          root2.callbackPriority = newCallbackPriority;
          root2.callbackNode = newCallbackNode;
        }
        function performConcurrentWorkOnRoot(root2) {
          currentEventTime = NoTimestamp;
          currentEventWipLanes = NoLanes;
          currentEventPendingLanes = NoLanes;
          if (!((executionContext & (RenderContext | CommitContext)) === NoContext)) {
            {
              throw Error("Should not already be working.");
            }
          }
          var originalCallbackNode = root2.callbackNode;
          var didFlushPassiveEffects = flushPassiveEffects();
          if (didFlushPassiveEffects) {
            if (root2.callbackNode !== originalCallbackNode) {
              return null;
            }
          }
          var lanes = getNextLanes(root2, root2 === workInProgressRoot ? workInProgressRootRenderLanes : NoLanes);
          if (lanes === NoLanes) {
            return null;
          }
          var exitStatus = renderRootConcurrent(root2, lanes);
          if (includesSomeLane(workInProgressRootIncludedLanes, workInProgressRootUpdatedLanes)) {
            prepareFreshStack(root2, NoLanes);
          } else if (exitStatus !== RootIncomplete) {
            if (exitStatus === RootErrored) {
              executionContext |= RetryAfterError;
              if (root2.hydrate) {
                root2.hydrate = false;
                clearContainer(root2.containerInfo);
              }
              lanes = getLanesToRetrySynchronouslyOnError(root2);
              if (lanes !== NoLanes) {
                exitStatus = renderRootSync(root2, lanes);
              }
            }
            if (exitStatus === RootFatalErrored) {
              var fatalError = workInProgressRootFatalError;
              prepareFreshStack(root2, NoLanes);
              markRootSuspended$1(root2, lanes);
              ensureRootIsScheduled(root2, now());
              throw fatalError;
            }
            var finishedWork = root2.current.alternate;
            root2.finishedWork = finishedWork;
            root2.finishedLanes = lanes;
            finishConcurrentRender(root2, exitStatus, lanes);
          }
          ensureRootIsScheduled(root2, now());
          if (root2.callbackNode === originalCallbackNode) {
            return performConcurrentWorkOnRoot.bind(null, root2);
          }
          return null;
        }
        function finishConcurrentRender(root2, exitStatus, lanes) {
          switch (exitStatus) {
            case RootIncomplete:
            case RootFatalErrored: {
              {
                {
                  throw Error("Root did not complete. This is a bug in React.");
                }
              }
            }
            case RootErrored: {
              commitRoot(root2);
              break;
            }
            case RootSuspended: {
              markRootSuspended$1(root2, lanes);
              if (includesOnlyRetries(lanes) && !shouldForceFlushFallbacksInDEV()) {
                var msUntilTimeout = globalMostRecentFallbackTime + FALLBACK_THROTTLE_MS - now();
                if (msUntilTimeout > 10) {
                  var nextLanes = getNextLanes(root2, NoLanes);
                  if (nextLanes !== NoLanes) {
                    break;
                  }
                  var suspendedLanes = root2.suspendedLanes;
                  if (!isSubsetOfLanes(suspendedLanes, lanes)) {
                    var eventTime = requestEventTime();
                    markRootPinged(root2, suspendedLanes);
                    break;
                  }
                  root2.timeoutHandle = scheduleTimeout(commitRoot.bind(null, root2), msUntilTimeout);
                  break;
                }
              }
              commitRoot(root2);
              break;
            }
            case RootSuspendedWithDelay: {
              markRootSuspended$1(root2, lanes);
              if (includesOnlyTransitions(lanes)) {
                break;
              }
              if (!shouldForceFlushFallbacksInDEV()) {
                var mostRecentEventTime = getMostRecentEventTime(root2, lanes);
                var eventTimeMs = mostRecentEventTime;
                var timeElapsedMs = now() - eventTimeMs;
                var _msUntilTimeout = jnd(timeElapsedMs) - timeElapsedMs;
                if (_msUntilTimeout > 10) {
                  root2.timeoutHandle = scheduleTimeout(commitRoot.bind(null, root2), _msUntilTimeout);
                  break;
                }
              }
              commitRoot(root2);
              break;
            }
            case RootCompleted: {
              commitRoot(root2);
              break;
            }
            default: {
              {
                {
                  throw Error("Unknown root exit status.");
                }
              }
            }
          }
        }
        function markRootSuspended$1(root2, suspendedLanes) {
          suspendedLanes = removeLanes(suspendedLanes, workInProgressRootPingedLanes);
          suspendedLanes = removeLanes(suspendedLanes, workInProgressRootUpdatedLanes);
          markRootSuspended(root2, suspendedLanes);
        }
        function performSyncWorkOnRoot(root2) {
          if (!((executionContext & (RenderContext | CommitContext)) === NoContext)) {
            {
              throw Error("Should not already be working.");
            }
          }
          flushPassiveEffects();
          var lanes;
          var exitStatus;
          if (root2 === workInProgressRoot && includesSomeLane(root2.expiredLanes, workInProgressRootRenderLanes)) {
            lanes = workInProgressRootRenderLanes;
            exitStatus = renderRootSync(root2, lanes);
            if (includesSomeLane(workInProgressRootIncludedLanes, workInProgressRootUpdatedLanes)) {
              lanes = getNextLanes(root2, lanes);
              exitStatus = renderRootSync(root2, lanes);
            }
          } else {
            lanes = getNextLanes(root2, NoLanes);
            exitStatus = renderRootSync(root2, lanes);
          }
          if (root2.tag !== LegacyRoot && exitStatus === RootErrored) {
            executionContext |= RetryAfterError;
            if (root2.hydrate) {
              root2.hydrate = false;
              clearContainer(root2.containerInfo);
            }
            lanes = getLanesToRetrySynchronouslyOnError(root2);
            if (lanes !== NoLanes) {
              exitStatus = renderRootSync(root2, lanes);
            }
          }
          if (exitStatus === RootFatalErrored) {
            var fatalError = workInProgressRootFatalError;
            prepareFreshStack(root2, NoLanes);
            markRootSuspended$1(root2, lanes);
            ensureRootIsScheduled(root2, now());
            throw fatalError;
          }
          var finishedWork = root2.current.alternate;
          root2.finishedWork = finishedWork;
          root2.finishedLanes = lanes;
          commitRoot(root2);
          ensureRootIsScheduled(root2, now());
          return null;
        }
        function flushDiscreteUpdates() {
          if ((executionContext & (BatchedContext | RenderContext | CommitContext)) !== NoContext) {
            {
              if ((executionContext & RenderContext) !== NoContext) {
                error("unstable_flushDiscreteUpdates: Cannot flush updates when React is already rendering.");
              }
            }
            return;
          }
          flushPendingDiscreteUpdates();
          flushPassiveEffects();
        }
        function flushPendingDiscreteUpdates() {
          if (rootsWithPendingDiscreteUpdates !== null) {
            var roots = rootsWithPendingDiscreteUpdates;
            rootsWithPendingDiscreteUpdates = null;
            roots.forEach(function(root2) {
              markDiscreteUpdatesExpired(root2);
              ensureRootIsScheduled(root2, now());
            });
          }
          flushSyncCallbackQueue();
        }
        function batchedUpdates$1(fn, a4) {
          var prevExecutionContext = executionContext;
          executionContext |= BatchedContext;
          try {
            return fn(a4);
          } finally {
            executionContext = prevExecutionContext;
            if (executionContext === NoContext) {
              resetRenderTimer();
              flushSyncCallbackQueue();
            }
          }
        }
        function batchedEventUpdates$1(fn, a4) {
          var prevExecutionContext = executionContext;
          executionContext |= EventContext;
          try {
            return fn(a4);
          } finally {
            executionContext = prevExecutionContext;
            if (executionContext === NoContext) {
              resetRenderTimer();
              flushSyncCallbackQueue();
            }
          }
        }
        function discreteUpdates$1(fn, a4, b3, c3, d2) {
          var prevExecutionContext = executionContext;
          executionContext |= DiscreteEventContext;
          {
            try {
              return runWithPriority$1(UserBlockingPriority$2, fn.bind(null, a4, b3, c3, d2));
            } finally {
              executionContext = prevExecutionContext;
              if (executionContext === NoContext) {
                resetRenderTimer();
                flushSyncCallbackQueue();
              }
            }
          }
        }
        function unbatchedUpdates(fn, a4) {
          var prevExecutionContext = executionContext;
          executionContext &= ~BatchedContext;
          executionContext |= LegacyUnbatchedContext;
          try {
            return fn(a4);
          } finally {
            executionContext = prevExecutionContext;
            if (executionContext === NoContext) {
              resetRenderTimer();
              flushSyncCallbackQueue();
            }
          }
        }
        function flushSync(fn, a4) {
          var prevExecutionContext = executionContext;
          if ((prevExecutionContext & (RenderContext | CommitContext)) !== NoContext) {
            {
              error("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task.");
            }
            return fn(a4);
          }
          executionContext |= BatchedContext;
          {
            try {
              if (fn) {
                return runWithPriority$1(ImmediatePriority$1, fn.bind(null, a4));
              } else {
                return void 0;
              }
            } finally {
              executionContext = prevExecutionContext;
              flushSyncCallbackQueue();
            }
          }
        }
        function pushRenderLanes(fiber, lanes) {
          push(subtreeRenderLanesCursor, subtreeRenderLanes, fiber);
          subtreeRenderLanes = mergeLanes(subtreeRenderLanes, lanes);
          workInProgressRootIncludedLanes = mergeLanes(workInProgressRootIncludedLanes, lanes);
        }
        function popRenderLanes(fiber) {
          subtreeRenderLanes = subtreeRenderLanesCursor.current;
          pop(subtreeRenderLanesCursor, fiber);
        }
        function prepareFreshStack(root2, lanes) {
          root2.finishedWork = null;
          root2.finishedLanes = NoLanes;
          var timeoutHandle = root2.timeoutHandle;
          if (timeoutHandle !== noTimeout) {
            root2.timeoutHandle = noTimeout;
            cancelTimeout(timeoutHandle);
          }
          if (workInProgress !== null) {
            var interruptedWork = workInProgress.return;
            while (interruptedWork !== null) {
              unwindInterruptedWork(interruptedWork);
              interruptedWork = interruptedWork.return;
            }
          }
          workInProgressRoot = root2;
          workInProgress = createWorkInProgress(root2.current, null);
          workInProgressRootRenderLanes = subtreeRenderLanes = workInProgressRootIncludedLanes = lanes;
          workInProgressRootExitStatus = RootIncomplete;
          workInProgressRootFatalError = null;
          workInProgressRootSkippedLanes = NoLanes;
          workInProgressRootUpdatedLanes = NoLanes;
          workInProgressRootPingedLanes = NoLanes;
          {
            spawnedWorkDuringRender = null;
          }
          {
            ReactStrictModeWarnings.discardPendingWarnings();
          }
        }
        function handleError(root2, thrownValue) {
          do {
            var erroredWork = workInProgress;
            try {
              resetContextDependencies();
              resetHooksAfterThrow();
              resetCurrentFiber();
              ReactCurrentOwner$2.current = null;
              if (erroredWork === null || erroredWork.return === null) {
                workInProgressRootExitStatus = RootFatalErrored;
                workInProgressRootFatalError = thrownValue;
                workInProgress = null;
                return;
              }
              if (enableProfilerTimer && erroredWork.mode & ProfileMode) {
                stopProfilerTimerIfRunningAndRecordDelta(erroredWork, true);
              }
              throwException(root2, erroredWork.return, erroredWork, thrownValue, workInProgressRootRenderLanes);
              completeUnitOfWork(erroredWork);
            } catch (yetAnotherThrownValue) {
              thrownValue = yetAnotherThrownValue;
              if (workInProgress === erroredWork && erroredWork !== null) {
                erroredWork = erroredWork.return;
                workInProgress = erroredWork;
              } else {
                erroredWork = workInProgress;
              }
              continue;
            }
            return;
          } while (true);
        }
        function pushDispatcher() {
          var prevDispatcher = ReactCurrentDispatcher$2.current;
          ReactCurrentDispatcher$2.current = ContextOnlyDispatcher;
          if (prevDispatcher === null) {
            return ContextOnlyDispatcher;
          } else {
            return prevDispatcher;
          }
        }
        function popDispatcher(prevDispatcher) {
          ReactCurrentDispatcher$2.current = prevDispatcher;
        }
        function pushInteractions(root2) {
          {
            var prevInteractions = tracing.__interactionsRef.current;
            tracing.__interactionsRef.current = root2.memoizedInteractions;
            return prevInteractions;
          }
        }
        function popInteractions(prevInteractions) {
          {
            tracing.__interactionsRef.current = prevInteractions;
          }
        }
        function markCommitTimeOfFallback() {
          globalMostRecentFallbackTime = now();
        }
        function markSkippedUpdateLanes(lane) {
          workInProgressRootSkippedLanes = mergeLanes(lane, workInProgressRootSkippedLanes);
        }
        function renderDidSuspend() {
          if (workInProgressRootExitStatus === RootIncomplete) {
            workInProgressRootExitStatus = RootSuspended;
          }
        }
        function renderDidSuspendDelayIfPossible() {
          if (workInProgressRootExitStatus === RootIncomplete || workInProgressRootExitStatus === RootSuspended) {
            workInProgressRootExitStatus = RootSuspendedWithDelay;
          }
          if (workInProgressRoot !== null && (includesNonIdleWork(workInProgressRootSkippedLanes) || includesNonIdleWork(workInProgressRootUpdatedLanes))) {
            markRootSuspended$1(workInProgressRoot, workInProgressRootRenderLanes);
          }
        }
        function renderDidError() {
          if (workInProgressRootExitStatus !== RootCompleted) {
            workInProgressRootExitStatus = RootErrored;
          }
        }
        function renderHasNotSuspendedYet() {
          return workInProgressRootExitStatus === RootIncomplete;
        }
        function renderRootSync(root2, lanes) {
          var prevExecutionContext = executionContext;
          executionContext |= RenderContext;
          var prevDispatcher = pushDispatcher();
          if (workInProgressRoot !== root2 || workInProgressRootRenderLanes !== lanes) {
            prepareFreshStack(root2, lanes);
            startWorkOnPendingInteractions(root2, lanes);
          }
          var prevInteractions = pushInteractions(root2);
          do {
            try {
              workLoopSync();
              break;
            } catch (thrownValue) {
              handleError(root2, thrownValue);
            }
          } while (true);
          resetContextDependencies();
          {
            popInteractions(prevInteractions);
          }
          executionContext = prevExecutionContext;
          popDispatcher(prevDispatcher);
          if (workInProgress !== null) {
            {
              {
                throw Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");
              }
            }
          }
          workInProgressRoot = null;
          workInProgressRootRenderLanes = NoLanes;
          return workInProgressRootExitStatus;
        }
        function workLoopSync() {
          while (workInProgress !== null) {
            performUnitOfWork(workInProgress);
          }
        }
        function renderRootConcurrent(root2, lanes) {
          var prevExecutionContext = executionContext;
          executionContext |= RenderContext;
          var prevDispatcher = pushDispatcher();
          if (workInProgressRoot !== root2 || workInProgressRootRenderLanes !== lanes) {
            resetRenderTimer();
            prepareFreshStack(root2, lanes);
            startWorkOnPendingInteractions(root2, lanes);
          }
          var prevInteractions = pushInteractions(root2);
          do {
            try {
              workLoopConcurrent();
              break;
            } catch (thrownValue) {
              handleError(root2, thrownValue);
            }
          } while (true);
          resetContextDependencies();
          {
            popInteractions(prevInteractions);
          }
          popDispatcher(prevDispatcher);
          executionContext = prevExecutionContext;
          if (workInProgress !== null) {
            return RootIncomplete;
          } else {
            workInProgressRoot = null;
            workInProgressRootRenderLanes = NoLanes;
            return workInProgressRootExitStatus;
          }
        }
        function workLoopConcurrent() {
          while (workInProgress !== null && !shouldYield()) {
            performUnitOfWork(workInProgress);
          }
        }
        function performUnitOfWork(unitOfWork) {
          var current2 = unitOfWork.alternate;
          setCurrentFiber(unitOfWork);
          var next;
          if ((unitOfWork.mode & ProfileMode) !== NoMode) {
            startProfilerTimer(unitOfWork);
            next = beginWork$1(current2, unitOfWork, subtreeRenderLanes);
            stopProfilerTimerIfRunningAndRecordDelta(unitOfWork, true);
          } else {
            next = beginWork$1(current2, unitOfWork, subtreeRenderLanes);
          }
          resetCurrentFiber();
          unitOfWork.memoizedProps = unitOfWork.pendingProps;
          if (next === null) {
            completeUnitOfWork(unitOfWork);
          } else {
            workInProgress = next;
          }
          ReactCurrentOwner$2.current = null;
        }
        function completeUnitOfWork(unitOfWork) {
          var completedWork = unitOfWork;
          do {
            var current2 = completedWork.alternate;
            var returnFiber = completedWork.return;
            if ((completedWork.flags & Incomplete) === NoFlags) {
              setCurrentFiber(completedWork);
              var next = void 0;
              if ((completedWork.mode & ProfileMode) === NoMode) {
                next = completeWork(current2, completedWork, subtreeRenderLanes);
              } else {
                startProfilerTimer(completedWork);
                next = completeWork(current2, completedWork, subtreeRenderLanes);
                stopProfilerTimerIfRunningAndRecordDelta(completedWork, false);
              }
              resetCurrentFiber();
              if (next !== null) {
                workInProgress = next;
                return;
              }
              resetChildLanes(completedWork);
              if (returnFiber !== null && (returnFiber.flags & Incomplete) === NoFlags) {
                if (returnFiber.firstEffect === null) {
                  returnFiber.firstEffect = completedWork.firstEffect;
                }
                if (completedWork.lastEffect !== null) {
                  if (returnFiber.lastEffect !== null) {
                    returnFiber.lastEffect.nextEffect = completedWork.firstEffect;
                  }
                  returnFiber.lastEffect = completedWork.lastEffect;
                }
                var flags = completedWork.flags;
                if (flags > PerformedWork) {
                  if (returnFiber.lastEffect !== null) {
                    returnFiber.lastEffect.nextEffect = completedWork;
                  } else {
                    returnFiber.firstEffect = completedWork;
                  }
                  returnFiber.lastEffect = completedWork;
                }
              }
            } else {
              var _next = unwindWork(completedWork);
              if (_next !== null) {
                _next.flags &= HostEffectMask;
                workInProgress = _next;
                return;
              }
              if ((completedWork.mode & ProfileMode) !== NoMode) {
                stopProfilerTimerIfRunningAndRecordDelta(completedWork, false);
                var actualDuration = completedWork.actualDuration;
                var child = completedWork.child;
                while (child !== null) {
                  actualDuration += child.actualDuration;
                  child = child.sibling;
                }
                completedWork.actualDuration = actualDuration;
              }
              if (returnFiber !== null) {
                returnFiber.firstEffect = returnFiber.lastEffect = null;
                returnFiber.flags |= Incomplete;
              }
            }
            var siblingFiber = completedWork.sibling;
            if (siblingFiber !== null) {
              workInProgress = siblingFiber;
              return;
            }
            completedWork = returnFiber;
            workInProgress = completedWork;
          } while (completedWork !== null);
          if (workInProgressRootExitStatus === RootIncomplete) {
            workInProgressRootExitStatus = RootCompleted;
          }
        }
        function resetChildLanes(completedWork) {
          if ((completedWork.tag === LegacyHiddenComponent || completedWork.tag === OffscreenComponent) && completedWork.memoizedState !== null && !includesSomeLane(subtreeRenderLanes, OffscreenLane) && (completedWork.mode & ConcurrentMode) !== NoLanes) {
            return;
          }
          var newChildLanes = NoLanes;
          if ((completedWork.mode & ProfileMode) !== NoMode) {
            var actualDuration = completedWork.actualDuration;
            var treeBaseDuration = completedWork.selfBaseDuration;
            var shouldBubbleActualDurations = completedWork.alternate === null || completedWork.child !== completedWork.alternate.child;
            var child = completedWork.child;
            while (child !== null) {
              newChildLanes = mergeLanes(newChildLanes, mergeLanes(child.lanes, child.childLanes));
              if (shouldBubbleActualDurations) {
                actualDuration += child.actualDuration;
              }
              treeBaseDuration += child.treeBaseDuration;
              child = child.sibling;
            }
            var isTimedOutSuspense = completedWork.tag === SuspenseComponent && completedWork.memoizedState !== null;
            if (isTimedOutSuspense) {
              var primaryChildFragment = completedWork.child;
              if (primaryChildFragment !== null) {
                treeBaseDuration -= primaryChildFragment.treeBaseDuration;
              }
            }
            completedWork.actualDuration = actualDuration;
            completedWork.treeBaseDuration = treeBaseDuration;
          } else {
            var _child = completedWork.child;
            while (_child !== null) {
              newChildLanes = mergeLanes(newChildLanes, mergeLanes(_child.lanes, _child.childLanes));
              _child = _child.sibling;
            }
          }
          completedWork.childLanes = newChildLanes;
        }
        function commitRoot(root2) {
          var renderPriorityLevel = getCurrentPriorityLevel();
          runWithPriority$1(ImmediatePriority$1, commitRootImpl.bind(null, root2, renderPriorityLevel));
          return null;
        }
        function commitRootImpl(root2, renderPriorityLevel) {
          do {
            flushPassiveEffects();
          } while (rootWithPendingPassiveEffects !== null);
          flushRenderPhaseStrictModeWarningsInDEV();
          if (!((executionContext & (RenderContext | CommitContext)) === NoContext)) {
            {
              throw Error("Should not already be working.");
            }
          }
          var finishedWork = root2.finishedWork;
          var lanes = root2.finishedLanes;
          if (finishedWork === null) {
            return null;
          }
          root2.finishedWork = null;
          root2.finishedLanes = NoLanes;
          if (!(finishedWork !== root2.current)) {
            {
              throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");
            }
          }
          root2.callbackNode = null;
          var remainingLanes = mergeLanes(finishedWork.lanes, finishedWork.childLanes);
          markRootFinished(root2, remainingLanes);
          if (rootsWithPendingDiscreteUpdates !== null) {
            if (!hasDiscreteLanes(remainingLanes) && rootsWithPendingDiscreteUpdates.has(root2)) {
              rootsWithPendingDiscreteUpdates.delete(root2);
            }
          }
          if (root2 === workInProgressRoot) {
            workInProgressRoot = null;
            workInProgress = null;
            workInProgressRootRenderLanes = NoLanes;
          }
          var firstEffect;
          if (finishedWork.flags > PerformedWork) {
            if (finishedWork.lastEffect !== null) {
              finishedWork.lastEffect.nextEffect = finishedWork;
              firstEffect = finishedWork.firstEffect;
            } else {
              firstEffect = finishedWork;
            }
          } else {
            firstEffect = finishedWork.firstEffect;
          }
          if (firstEffect !== null) {
            var prevExecutionContext = executionContext;
            executionContext |= CommitContext;
            var prevInteractions = pushInteractions(root2);
            ReactCurrentOwner$2.current = null;
            focusedInstanceHandle = prepareForCommit(root2.containerInfo);
            shouldFireAfterActiveInstanceBlur = false;
            nextEffect = firstEffect;
            do {
              {
                invokeGuardedCallback(null, commitBeforeMutationEffects, null);
                if (hasCaughtError()) {
                  if (!(nextEffect !== null)) {
                    {
                      throw Error("Should be working on an effect.");
                    }
                  }
                  var error2 = clearCaughtError();
                  captureCommitPhaseError(nextEffect, error2);
                  nextEffect = nextEffect.nextEffect;
                }
              }
            } while (nextEffect !== null);
            focusedInstanceHandle = null;
            {
              recordCommitTime();
            }
            nextEffect = firstEffect;
            do {
              {
                invokeGuardedCallback(null, commitMutationEffects, null, root2, renderPriorityLevel);
                if (hasCaughtError()) {
                  if (!(nextEffect !== null)) {
                    {
                      throw Error("Should be working on an effect.");
                    }
                  }
                  var _error = clearCaughtError();
                  captureCommitPhaseError(nextEffect, _error);
                  nextEffect = nextEffect.nextEffect;
                }
              }
            } while (nextEffect !== null);
            resetAfterCommit(root2.containerInfo);
            root2.current = finishedWork;
            nextEffect = firstEffect;
            do {
              {
                invokeGuardedCallback(null, commitLayoutEffects, null, root2, lanes);
                if (hasCaughtError()) {
                  if (!(nextEffect !== null)) {
                    {
                      throw Error("Should be working on an effect.");
                    }
                  }
                  var _error2 = clearCaughtError();
                  captureCommitPhaseError(nextEffect, _error2);
                  nextEffect = nextEffect.nextEffect;
                }
              }
            } while (nextEffect !== null);
            nextEffect = null;
            requestPaint();
            {
              popInteractions(prevInteractions);
            }
            executionContext = prevExecutionContext;
          } else {
            root2.current = finishedWork;
            {
              recordCommitTime();
            }
          }
          var rootDidHavePassiveEffects = rootDoesHavePassiveEffects;
          if (rootDoesHavePassiveEffects) {
            rootDoesHavePassiveEffects = false;
            rootWithPendingPassiveEffects = root2;
            pendingPassiveEffectsLanes = lanes;
            pendingPassiveEffectsRenderPriority = renderPriorityLevel;
          } else {
            nextEffect = firstEffect;
            while (nextEffect !== null) {
              var nextNextEffect = nextEffect.nextEffect;
              nextEffect.nextEffect = null;
              if (nextEffect.flags & Deletion) {
                detachFiberAfterEffects(nextEffect);
              }
              nextEffect = nextNextEffect;
            }
          }
          remainingLanes = root2.pendingLanes;
          if (remainingLanes !== NoLanes) {
            {
              if (spawnedWorkDuringRender !== null) {
                var expirationTimes = spawnedWorkDuringRender;
                spawnedWorkDuringRender = null;
                for (var i3 = 0; i3 < expirationTimes.length; i3++) {
                  scheduleInteractions(root2, expirationTimes[i3], root2.memoizedInteractions);
                }
              }
              schedulePendingInteractions(root2, remainingLanes);
            }
          } else {
            legacyErrorBoundariesThatAlreadyFailed = null;
          }
          {
            if (!rootDidHavePassiveEffects) {
              finishPendingInteractions(root2, lanes);
            }
          }
          if (remainingLanes === SyncLane) {
            if (root2 === rootWithNestedUpdates) {
              nestedUpdateCount++;
            } else {
              nestedUpdateCount = 0;
              rootWithNestedUpdates = root2;
            }
          } else {
            nestedUpdateCount = 0;
          }
          onCommitRoot(finishedWork.stateNode, renderPriorityLevel);
          {
            onCommitRoot$1();
          }
          ensureRootIsScheduled(root2, now());
          if (hasUncaughtError) {
            hasUncaughtError = false;
            var _error3 = firstUncaughtError;
            firstUncaughtError = null;
            throw _error3;
          }
          if ((executionContext & LegacyUnbatchedContext) !== NoContext) {
            return null;
          }
          flushSyncCallbackQueue();
          return null;
        }
        function commitBeforeMutationEffects() {
          while (nextEffect !== null) {
            var current2 = nextEffect.alternate;
            if (!shouldFireAfterActiveInstanceBlur && focusedInstanceHandle !== null) {
              if ((nextEffect.flags & Deletion) !== NoFlags) {
                if (doesFiberContain(nextEffect, focusedInstanceHandle)) {
                  shouldFireAfterActiveInstanceBlur = true;
                }
              } else {
                if (nextEffect.tag === SuspenseComponent && isSuspenseBoundaryBeingHidden(current2, nextEffect) && doesFiberContain(nextEffect, focusedInstanceHandle)) {
                  shouldFireAfterActiveInstanceBlur = true;
                }
              }
            }
            var flags = nextEffect.flags;
            if ((flags & Snapshot) !== NoFlags) {
              setCurrentFiber(nextEffect);
              commitBeforeMutationLifeCycles(current2, nextEffect);
              resetCurrentFiber();
            }
            if ((flags & Passive) !== NoFlags) {
              if (!rootDoesHavePassiveEffects) {
                rootDoesHavePassiveEffects = true;
                scheduleCallback(NormalPriority$1, function() {
                  flushPassiveEffects();
                  return null;
                });
              }
            }
            nextEffect = nextEffect.nextEffect;
          }
        }
        function commitMutationEffects(root2, renderPriorityLevel) {
          while (nextEffect !== null) {
            setCurrentFiber(nextEffect);
            var flags = nextEffect.flags;
            if (flags & ContentReset) {
              commitResetTextContent(nextEffect);
            }
            if (flags & Ref3) {
              var current2 = nextEffect.alternate;
              if (current2 !== null) {
                commitDetachRef(current2);
              }
            }
            var primaryFlags = flags & (Placement | Update | Deletion | Hydrating);
            switch (primaryFlags) {
              case Placement: {
                commitPlacement(nextEffect);
                nextEffect.flags &= ~Placement;
                break;
              }
              case PlacementAndUpdate: {
                commitPlacement(nextEffect);
                nextEffect.flags &= ~Placement;
                var _current = nextEffect.alternate;
                commitWork(_current, nextEffect);
                break;
              }
              case Hydrating: {
                nextEffect.flags &= ~Hydrating;
                break;
              }
              case HydratingAndUpdate: {
                nextEffect.flags &= ~Hydrating;
                var _current2 = nextEffect.alternate;
                commitWork(_current2, nextEffect);
                break;
              }
              case Update: {
                var _current3 = nextEffect.alternate;
                commitWork(_current3, nextEffect);
                break;
              }
              case Deletion: {
                commitDeletion(root2, nextEffect);
                break;
              }
            }
            resetCurrentFiber();
            nextEffect = nextEffect.nextEffect;
          }
        }
        function commitLayoutEffects(root2, committedLanes) {
          while (nextEffect !== null) {
            setCurrentFiber(nextEffect);
            var flags = nextEffect.flags;
            if (flags & (Update | Callback)) {
              var current2 = nextEffect.alternate;
              commitLifeCycles(root2, current2, nextEffect);
            }
            {
              if (flags & Ref3) {
                commitAttachRef(nextEffect);
              }
            }
            resetCurrentFiber();
            nextEffect = nextEffect.nextEffect;
          }
        }
        function flushPassiveEffects() {
          if (pendingPassiveEffectsRenderPriority !== NoPriority$1) {
            var priorityLevel = pendingPassiveEffectsRenderPriority > NormalPriority$1 ? NormalPriority$1 : pendingPassiveEffectsRenderPriority;
            pendingPassiveEffectsRenderPriority = NoPriority$1;
            {
              return runWithPriority$1(priorityLevel, flushPassiveEffectsImpl);
            }
          }
          return false;
        }
        function enqueuePendingPassiveHookEffectMount(fiber, effect) {
          pendingPassiveHookEffectsMount.push(effect, fiber);
          if (!rootDoesHavePassiveEffects) {
            rootDoesHavePassiveEffects = true;
            scheduleCallback(NormalPriority$1, function() {
              flushPassiveEffects();
              return null;
            });
          }
        }
        function enqueuePendingPassiveHookEffectUnmount(fiber, effect) {
          pendingPassiveHookEffectsUnmount.push(effect, fiber);
          {
            fiber.flags |= PassiveUnmountPendingDev;
            var alternate = fiber.alternate;
            if (alternate !== null) {
              alternate.flags |= PassiveUnmountPendingDev;
            }
          }
          if (!rootDoesHavePassiveEffects) {
            rootDoesHavePassiveEffects = true;
            scheduleCallback(NormalPriority$1, function() {
              flushPassiveEffects();
              return null;
            });
          }
        }
        function invokePassiveEffectCreate(effect) {
          var create = effect.create;
          effect.destroy = create();
        }
        function flushPassiveEffectsImpl() {
          if (rootWithPendingPassiveEffects === null) {
            return false;
          }
          var root2 = rootWithPendingPassiveEffects;
          var lanes = pendingPassiveEffectsLanes;
          rootWithPendingPassiveEffects = null;
          pendingPassiveEffectsLanes = NoLanes;
          if (!((executionContext & (RenderContext | CommitContext)) === NoContext)) {
            {
              throw Error("Cannot flush passive effects while already rendering.");
            }
          }
          {
            isFlushingPassiveEffects = true;
          }
          var prevExecutionContext = executionContext;
          executionContext |= CommitContext;
          var prevInteractions = pushInteractions(root2);
          var unmountEffects = pendingPassiveHookEffectsUnmount;
          pendingPassiveHookEffectsUnmount = [];
          for (var i3 = 0; i3 < unmountEffects.length; i3 += 2) {
            var _effect = unmountEffects[i3];
            var fiber = unmountEffects[i3 + 1];
            var destroy = _effect.destroy;
            _effect.destroy = void 0;
            {
              fiber.flags &= ~PassiveUnmountPendingDev;
              var alternate = fiber.alternate;
              if (alternate !== null) {
                alternate.flags &= ~PassiveUnmountPendingDev;
              }
            }
            if (typeof destroy === "function") {
              {
                setCurrentFiber(fiber);
                {
                  invokeGuardedCallback(null, destroy, null);
                }
                if (hasCaughtError()) {
                  if (!(fiber !== null)) {
                    {
                      throw Error("Should be working on an effect.");
                    }
                  }
                  var error2 = clearCaughtError();
                  captureCommitPhaseError(fiber, error2);
                }
                resetCurrentFiber();
              }
            }
          }
          var mountEffects = pendingPassiveHookEffectsMount;
          pendingPassiveHookEffectsMount = [];
          for (var _i = 0; _i < mountEffects.length; _i += 2) {
            var _effect2 = mountEffects[_i];
            var _fiber = mountEffects[_i + 1];
            {
              setCurrentFiber(_fiber);
              {
                invokeGuardedCallback(null, invokePassiveEffectCreate, null, _effect2);
              }
              if (hasCaughtError()) {
                if (!(_fiber !== null)) {
                  {
                    throw Error("Should be working on an effect.");
                  }
                }
                var _error4 = clearCaughtError();
                captureCommitPhaseError(_fiber, _error4);
              }
              resetCurrentFiber();
            }
          }
          var effect = root2.current.firstEffect;
          while (effect !== null) {
            var nextNextEffect = effect.nextEffect;
            effect.nextEffect = null;
            if (effect.flags & Deletion) {
              detachFiberAfterEffects(effect);
            }
            effect = nextNextEffect;
          }
          {
            popInteractions(prevInteractions);
            finishPendingInteractions(root2, lanes);
          }
          {
            isFlushingPassiveEffects = false;
          }
          executionContext = prevExecutionContext;
          flushSyncCallbackQueue();
          nestedPassiveUpdateCount = rootWithPendingPassiveEffects === null ? 0 : nestedPassiveUpdateCount + 1;
          return true;
        }
        function isAlreadyFailedLegacyErrorBoundary(instance) {
          return legacyErrorBoundariesThatAlreadyFailed !== null && legacyErrorBoundariesThatAlreadyFailed.has(instance);
        }
        function markLegacyErrorBoundaryAsFailed(instance) {
          if (legacyErrorBoundariesThatAlreadyFailed === null) {
            legacyErrorBoundariesThatAlreadyFailed = new Set([instance]);
          } else {
            legacyErrorBoundariesThatAlreadyFailed.add(instance);
          }
        }
        function prepareToThrowUncaughtError(error2) {
          if (!hasUncaughtError) {
            hasUncaughtError = true;
            firstUncaughtError = error2;
          }
        }
        var onUncaughtError = prepareToThrowUncaughtError;
        function captureCommitPhaseErrorOnRoot(rootFiber, sourceFiber, error2) {
          var errorInfo = createCapturedValue(error2, sourceFiber);
          var update = createRootErrorUpdate(rootFiber, errorInfo, SyncLane);
          enqueueUpdate(rootFiber, update);
          var eventTime = requestEventTime();
          var root2 = markUpdateLaneFromFiberToRoot(rootFiber, SyncLane);
          if (root2 !== null) {
            markRootUpdated(root2, SyncLane, eventTime);
            ensureRootIsScheduled(root2, eventTime);
            schedulePendingInteractions(root2, SyncLane);
          }
        }
        function captureCommitPhaseError(sourceFiber, error2) {
          if (sourceFiber.tag === HostRoot) {
            captureCommitPhaseErrorOnRoot(sourceFiber, sourceFiber, error2);
            return;
          }
          var fiber = sourceFiber.return;
          while (fiber !== null) {
            if (fiber.tag === HostRoot) {
              captureCommitPhaseErrorOnRoot(fiber, sourceFiber, error2);
              return;
            } else if (fiber.tag === ClassComponent) {
              var ctor = fiber.type;
              var instance = fiber.stateNode;
              if (typeof ctor.getDerivedStateFromError === "function" || typeof instance.componentDidCatch === "function" && !isAlreadyFailedLegacyErrorBoundary(instance)) {
                var errorInfo = createCapturedValue(error2, sourceFiber);
                var update = createClassErrorUpdate(fiber, errorInfo, SyncLane);
                enqueueUpdate(fiber, update);
                var eventTime = requestEventTime();
                var root2 = markUpdateLaneFromFiberToRoot(fiber, SyncLane);
                if (root2 !== null) {
                  markRootUpdated(root2, SyncLane, eventTime);
                  ensureRootIsScheduled(root2, eventTime);
                  schedulePendingInteractions(root2, SyncLane);
                } else {
                  if (typeof instance.componentDidCatch === "function" && !isAlreadyFailedLegacyErrorBoundary(instance)) {
                    try {
                      instance.componentDidCatch(error2, errorInfo);
                    } catch (errorToIgnore) {
                    }
                  }
                }
                return;
              }
            }
            fiber = fiber.return;
          }
        }
        function pingSuspendedRoot(root2, wakeable, pingedLanes) {
          var pingCache = root2.pingCache;
          if (pingCache !== null) {
            pingCache.delete(wakeable);
          }
          var eventTime = requestEventTime();
          markRootPinged(root2, pingedLanes);
          if (workInProgressRoot === root2 && isSubsetOfLanes(workInProgressRootRenderLanes, pingedLanes)) {
            if (workInProgressRootExitStatus === RootSuspendedWithDelay || workInProgressRootExitStatus === RootSuspended && includesOnlyRetries(workInProgressRootRenderLanes) && now() - globalMostRecentFallbackTime < FALLBACK_THROTTLE_MS) {
              prepareFreshStack(root2, NoLanes);
            } else {
              workInProgressRootPingedLanes = mergeLanes(workInProgressRootPingedLanes, pingedLanes);
            }
          }
          ensureRootIsScheduled(root2, eventTime);
          schedulePendingInteractions(root2, pingedLanes);
        }
        function retryTimedOutBoundary(boundaryFiber, retryLane) {
          if (retryLane === NoLane) {
            retryLane = requestRetryLane(boundaryFiber);
          }
          var eventTime = requestEventTime();
          var root2 = markUpdateLaneFromFiberToRoot(boundaryFiber, retryLane);
          if (root2 !== null) {
            markRootUpdated(root2, retryLane, eventTime);
            ensureRootIsScheduled(root2, eventTime);
            schedulePendingInteractions(root2, retryLane);
          }
        }
        function resolveRetryWakeable(boundaryFiber, wakeable) {
          var retryLane = NoLane;
          var retryCache;
          {
            retryCache = boundaryFiber.stateNode;
          }
          if (retryCache !== null) {
            retryCache.delete(wakeable);
          }
          retryTimedOutBoundary(boundaryFiber, retryLane);
        }
        function jnd(timeElapsed) {
          return timeElapsed < 120 ? 120 : timeElapsed < 480 ? 480 : timeElapsed < 1080 ? 1080 : timeElapsed < 1920 ? 1920 : timeElapsed < 3e3 ? 3e3 : timeElapsed < 4320 ? 4320 : ceil(timeElapsed / 1960) * 1960;
        }
        function checkForNestedUpdates() {
          if (nestedUpdateCount > NESTED_UPDATE_LIMIT) {
            nestedUpdateCount = 0;
            rootWithNestedUpdates = null;
            {
              {
                throw Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");
              }
            }
          }
          {
            if (nestedPassiveUpdateCount > NESTED_PASSIVE_UPDATE_LIMIT) {
              nestedPassiveUpdateCount = 0;
              error("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render.");
            }
          }
        }
        function flushRenderPhaseStrictModeWarningsInDEV() {
          {
            ReactStrictModeWarnings.flushLegacyContextWarning();
            {
              ReactStrictModeWarnings.flushPendingUnsafeLifecycleWarnings();
            }
          }
        }
        var didWarnStateUpdateForNotYetMountedComponent = null;
        function warnAboutUpdateOnNotYetMountedFiberInDEV(fiber) {
          {
            if ((executionContext & RenderContext) !== NoContext) {
              return;
            }
            if (!(fiber.mode & (BlockingMode | ConcurrentMode))) {
              return;
            }
            var tag = fiber.tag;
            if (tag !== IndeterminateComponent && tag !== HostRoot && tag !== ClassComponent && tag !== FunctionComponent && tag !== ForwardRef && tag !== MemoComponent && tag !== SimpleMemoComponent && tag !== Block) {
              return;
            }
            var componentName = getComponentName(fiber.type) || "ReactComponent";
            if (didWarnStateUpdateForNotYetMountedComponent !== null) {
              if (didWarnStateUpdateForNotYetMountedComponent.has(componentName)) {
                return;
              }
              didWarnStateUpdateForNotYetMountedComponent.add(componentName);
            } else {
              didWarnStateUpdateForNotYetMountedComponent = new Set([componentName]);
            }
            var previousFiber = current;
            try {
              setCurrentFiber(fiber);
              error("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.");
            } finally {
              if (previousFiber) {
                setCurrentFiber(fiber);
              } else {
                resetCurrentFiber();
              }
            }
          }
        }
        var didWarnStateUpdateForUnmountedComponent = null;
        function warnAboutUpdateOnUnmountedFiberInDEV(fiber) {
          {
            var tag = fiber.tag;
            if (tag !== HostRoot && tag !== ClassComponent && tag !== FunctionComponent && tag !== ForwardRef && tag !== MemoComponent && tag !== SimpleMemoComponent && tag !== Block) {
              return;
            }
            if ((fiber.flags & PassiveUnmountPendingDev) !== NoFlags) {
              return;
            }
            var componentName = getComponentName(fiber.type) || "ReactComponent";
            if (didWarnStateUpdateForUnmountedComponent !== null) {
              if (didWarnStateUpdateForUnmountedComponent.has(componentName)) {
                return;
              }
              didWarnStateUpdateForUnmountedComponent.add(componentName);
            } else {
              didWarnStateUpdateForUnmountedComponent = new Set([componentName]);
            }
            if (isFlushingPassiveEffects)
              ;
            else {
              var previousFiber = current;
              try {
                setCurrentFiber(fiber);
                error("Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in %s.", tag === ClassComponent ? "the componentWillUnmount method" : "a useEffect cleanup function");
              } finally {
                if (previousFiber) {
                  setCurrentFiber(fiber);
                } else {
                  resetCurrentFiber();
                }
              }
            }
          }
        }
        var beginWork$1;
        {
          var dummyFiber = null;
          beginWork$1 = function(current2, unitOfWork, lanes) {
            var originalWorkInProgressCopy = assignFiberPropertiesInDEV(dummyFiber, unitOfWork);
            try {
              return beginWork(current2, unitOfWork, lanes);
            } catch (originalError) {
              if (originalError !== null && typeof originalError === "object" && typeof originalError.then === "function") {
                throw originalError;
              }
              resetContextDependencies();
              resetHooksAfterThrow();
              unwindInterruptedWork(unitOfWork);
              assignFiberPropertiesInDEV(unitOfWork, originalWorkInProgressCopy);
              if (unitOfWork.mode & ProfileMode) {
                startProfilerTimer(unitOfWork);
              }
              invokeGuardedCallback(null, beginWork, null, current2, unitOfWork, lanes);
              if (hasCaughtError()) {
                var replayError = clearCaughtError();
                throw replayError;
              } else {
                throw originalError;
              }
            }
          };
        }
        var didWarnAboutUpdateInRender = false;
        var didWarnAboutUpdateInRenderForAnotherComponent;
        {
          didWarnAboutUpdateInRenderForAnotherComponent = new Set();
        }
        function warnAboutRenderPhaseUpdatesInDEV(fiber) {
          {
            if (isRendering && (executionContext & RenderContext) !== NoContext && !getIsUpdatingOpaqueValueInRenderPhaseInDEV()) {
              switch (fiber.tag) {
                case FunctionComponent:
                case ForwardRef:
                case SimpleMemoComponent: {
                  var renderingComponentName = workInProgress && getComponentName(workInProgress.type) || "Unknown";
                  var dedupeKey = renderingComponentName;
                  if (!didWarnAboutUpdateInRenderForAnotherComponent.has(dedupeKey)) {
                    didWarnAboutUpdateInRenderForAnotherComponent.add(dedupeKey);
                    var setStateComponentName = getComponentName(fiber.type) || "Unknown";
                    error("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render", setStateComponentName, renderingComponentName, renderingComponentName);
                  }
                  break;
                }
                case ClassComponent: {
                  if (!didWarnAboutUpdateInRender) {
                    error("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.");
                    didWarnAboutUpdateInRender = true;
                  }
                  break;
                }
              }
            }
          }
        }
        var IsThisRendererActing = {
          current: false
        };
        function warnIfNotScopedWithMatchingAct(fiber) {
          {
            if (IsSomeRendererActing.current === true && IsThisRendererActing.current !== true) {
              var previousFiber = current;
              try {
                setCurrentFiber(fiber);
                error("It looks like you're using the wrong act() around your test interactions.\nBe sure to use the matching version of act() corresponding to your renderer:\n\n// for react-dom:\nimport {act} from 'react-dom/test-utils';\n// ...\nact(() => ...);\n\n// for react-test-renderer:\nimport TestRenderer from react-test-renderer';\nconst {act} = TestRenderer;\n// ...\nact(() => ...);");
              } finally {
                if (previousFiber) {
                  setCurrentFiber(fiber);
                } else {
                  resetCurrentFiber();
                }
              }
            }
          }
        }
        function warnIfNotCurrentlyActingEffectsInDEV(fiber) {
          {
            if ((fiber.mode & StrictMode2) !== NoMode && IsSomeRendererActing.current === false && IsThisRendererActing.current === false) {
              error("An update to %s ran an effect, but was not wrapped in act(...).\n\nWhen testing, code that causes React state updates should be wrapped into act(...):\n\nact(() => {\n  /* fire events that update state */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act", getComponentName(fiber.type));
            }
          }
        }
        function warnIfNotCurrentlyActingUpdatesInDEV(fiber) {
          {
            if (executionContext === NoContext && IsSomeRendererActing.current === false && IsThisRendererActing.current === false) {
              var previousFiber = current;
              try {
                setCurrentFiber(fiber);
                error("An update to %s inside a test was not wrapped in act(...).\n\nWhen testing, code that causes React state updates should be wrapped into act(...):\n\nact(() => {\n  /* fire events that update state */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act", getComponentName(fiber.type));
              } finally {
                if (previousFiber) {
                  setCurrentFiber(fiber);
                } else {
                  resetCurrentFiber();
                }
              }
            }
          }
        }
        var warnIfNotCurrentlyActingUpdatesInDev = warnIfNotCurrentlyActingUpdatesInDEV;
        var didWarnAboutUnmockedScheduler = false;
        function warnIfUnmockedScheduler(fiber) {
          {
            if (didWarnAboutUnmockedScheduler === false && Scheduler.unstable_flushAllWithoutAsserting === void 0) {
              if (fiber.mode & BlockingMode || fiber.mode & ConcurrentMode) {
                didWarnAboutUnmockedScheduler = true;
                error(`In Concurrent or Sync modes, the "scheduler" module needs to be mocked to guarantee consistent behaviour across tests and browsers. For example, with jest: 
jest.mock('scheduler', () => require('scheduler/unstable_mock'));

For more info, visit https://reactjs.org/link/mock-scheduler`);
              }
            }
          }
        }
        function computeThreadID(root2, lane) {
          return lane * 1e3 + root2.interactionThreadID;
        }
        function markSpawnedWork(lane) {
          if (spawnedWorkDuringRender === null) {
            spawnedWorkDuringRender = [lane];
          } else {
            spawnedWorkDuringRender.push(lane);
          }
        }
        function scheduleInteractions(root2, lane, interactions) {
          if (interactions.size > 0) {
            var pendingInteractionMap = root2.pendingInteractionMap;
            var pendingInteractions = pendingInteractionMap.get(lane);
            if (pendingInteractions != null) {
              interactions.forEach(function(interaction) {
                if (!pendingInteractions.has(interaction)) {
                  interaction.__count++;
                }
                pendingInteractions.add(interaction);
              });
            } else {
              pendingInteractionMap.set(lane, new Set(interactions));
              interactions.forEach(function(interaction) {
                interaction.__count++;
              });
            }
            var subscriber = tracing.__subscriberRef.current;
            if (subscriber !== null) {
              var threadID = computeThreadID(root2, lane);
              subscriber.onWorkScheduled(interactions, threadID);
            }
          }
        }
        function schedulePendingInteractions(root2, lane) {
          scheduleInteractions(root2, lane, tracing.__interactionsRef.current);
        }
        function startWorkOnPendingInteractions(root2, lanes) {
          var interactions = new Set();
          root2.pendingInteractionMap.forEach(function(scheduledInteractions, scheduledLane) {
            if (includesSomeLane(lanes, scheduledLane)) {
              scheduledInteractions.forEach(function(interaction) {
                return interactions.add(interaction);
              });
            }
          });
          root2.memoizedInteractions = interactions;
          if (interactions.size > 0) {
            var subscriber = tracing.__subscriberRef.current;
            if (subscriber !== null) {
              var threadID = computeThreadID(root2, lanes);
              try {
                subscriber.onWorkStarted(interactions, threadID);
              } catch (error2) {
                scheduleCallback(ImmediatePriority$1, function() {
                  throw error2;
                });
              }
            }
          }
        }
        function finishPendingInteractions(root2, committedLanes) {
          var remainingLanesAfterCommit = root2.pendingLanes;
          var subscriber;
          try {
            subscriber = tracing.__subscriberRef.current;
            if (subscriber !== null && root2.memoizedInteractions.size > 0) {
              var threadID = computeThreadID(root2, committedLanes);
              subscriber.onWorkStopped(root2.memoizedInteractions, threadID);
            }
          } catch (error2) {
            scheduleCallback(ImmediatePriority$1, function() {
              throw error2;
            });
          } finally {
            var pendingInteractionMap = root2.pendingInteractionMap;
            pendingInteractionMap.forEach(function(scheduledInteractions, lane) {
              if (!includesSomeLane(remainingLanesAfterCommit, lane)) {
                pendingInteractionMap.delete(lane);
                scheduledInteractions.forEach(function(interaction) {
                  interaction.__count--;
                  if (subscriber !== null && interaction.__count === 0) {
                    try {
                      subscriber.onInteractionScheduledWorkCompleted(interaction);
                    } catch (error2) {
                      scheduleCallback(ImmediatePriority$1, function() {
                        throw error2;
                      });
                    }
                  }
                });
              }
            });
          }
        }
        function shouldForceFlushFallbacksInDEV() {
          return actingUpdatesScopeDepth > 0;
        }
        var actingUpdatesScopeDepth = 0;
        function detachFiberAfterEffects(fiber) {
          fiber.sibling = null;
          fiber.stateNode = null;
        }
        var resolveFamily = null;
        var failedBoundaries = null;
        var setRefreshHandler = function(handler) {
          {
            resolveFamily = handler;
          }
        };
        function resolveFunctionForHotReloading(type) {
          {
            if (resolveFamily === null) {
              return type;
            }
            var family = resolveFamily(type);
            if (family === void 0) {
              return type;
            }
            return family.current;
          }
        }
        function resolveClassForHotReloading(type) {
          return resolveFunctionForHotReloading(type);
        }
        function resolveForwardRefForHotReloading(type) {
          {
            if (resolveFamily === null) {
              return type;
            }
            var family = resolveFamily(type);
            if (family === void 0) {
              if (type !== null && type !== void 0 && typeof type.render === "function") {
                var currentRender = resolveFunctionForHotReloading(type.render);
                if (type.render !== currentRender) {
                  var syntheticType = {
                    $$typeof: REACT_FORWARD_REF_TYPE,
                    render: currentRender
                  };
                  if (type.displayName !== void 0) {
                    syntheticType.displayName = type.displayName;
                  }
                  return syntheticType;
                }
              }
              return type;
            }
            return family.current;
          }
        }
        function isCompatibleFamilyForHotReloading(fiber, element) {
          {
            if (resolveFamily === null) {
              return false;
            }
            var prevType = fiber.elementType;
            var nextType = element.type;
            var needsCompareFamilies = false;
            var $$typeofNextType = typeof nextType === "object" && nextType !== null ? nextType.$$typeof : null;
            switch (fiber.tag) {
              case ClassComponent: {
                if (typeof nextType === "function") {
                  needsCompareFamilies = true;
                }
                break;
              }
              case FunctionComponent: {
                if (typeof nextType === "function") {
                  needsCompareFamilies = true;
                } else if ($$typeofNextType === REACT_LAZY_TYPE) {
                  needsCompareFamilies = true;
                }
                break;
              }
              case ForwardRef: {
                if ($$typeofNextType === REACT_FORWARD_REF_TYPE) {
                  needsCompareFamilies = true;
                } else if ($$typeofNextType === REACT_LAZY_TYPE) {
                  needsCompareFamilies = true;
                }
                break;
              }
              case MemoComponent:
              case SimpleMemoComponent: {
                if ($$typeofNextType === REACT_MEMO_TYPE) {
                  needsCompareFamilies = true;
                } else if ($$typeofNextType === REACT_LAZY_TYPE) {
                  needsCompareFamilies = true;
                }
                break;
              }
              default:
                return false;
            }
            if (needsCompareFamilies) {
              var prevFamily = resolveFamily(prevType);
              if (prevFamily !== void 0 && prevFamily === resolveFamily(nextType)) {
                return true;
              }
            }
            return false;
          }
        }
        function markFailedErrorBoundaryForHotReloading(fiber) {
          {
            if (resolveFamily === null) {
              return;
            }
            if (typeof WeakSet !== "function") {
              return;
            }
            if (failedBoundaries === null) {
              failedBoundaries = new WeakSet();
            }
            failedBoundaries.add(fiber);
          }
        }
        var scheduleRefresh = function(root2, update) {
          {
            if (resolveFamily === null) {
              return;
            }
            var staleFamilies = update.staleFamilies, updatedFamilies = update.updatedFamilies;
            flushPassiveEffects();
            flushSync(function() {
              scheduleFibersWithFamiliesRecursively(root2.current, updatedFamilies, staleFamilies);
            });
          }
        };
        var scheduleRoot = function(root2, element) {
          {
            if (root2.context !== emptyContextObject) {
              return;
            }
            flushPassiveEffects();
            flushSync(function() {
              updateContainer(element, root2, null, null);
            });
          }
        };
        function scheduleFibersWithFamiliesRecursively(fiber, updatedFamilies, staleFamilies) {
          {
            var alternate = fiber.alternate, child = fiber.child, sibling = fiber.sibling, tag = fiber.tag, type = fiber.type;
            var candidateType = null;
            switch (tag) {
              case FunctionComponent:
              case SimpleMemoComponent:
              case ClassComponent:
                candidateType = type;
                break;
              case ForwardRef:
                candidateType = type.render;
                break;
            }
            if (resolveFamily === null) {
              throw new Error("Expected resolveFamily to be set during hot reload.");
            }
            var needsRender = false;
            var needsRemount = false;
            if (candidateType !== null) {
              var family = resolveFamily(candidateType);
              if (family !== void 0) {
                if (staleFamilies.has(family)) {
                  needsRemount = true;
                } else if (updatedFamilies.has(family)) {
                  if (tag === ClassComponent) {
                    needsRemount = true;
                  } else {
                    needsRender = true;
                  }
                }
              }
            }
            if (failedBoundaries !== null) {
              if (failedBoundaries.has(fiber) || alternate !== null && failedBoundaries.has(alternate)) {
                needsRemount = true;
              }
            }
            if (needsRemount) {
              fiber._debugNeedsRemount = true;
            }
            if (needsRemount || needsRender) {
              scheduleUpdateOnFiber(fiber, SyncLane, NoTimestamp);
            }
            if (child !== null && !needsRemount) {
              scheduleFibersWithFamiliesRecursively(child, updatedFamilies, staleFamilies);
            }
            if (sibling !== null) {
              scheduleFibersWithFamiliesRecursively(sibling, updatedFamilies, staleFamilies);
            }
          }
        }
        var findHostInstancesForRefresh = function(root2, families) {
          {
            var hostInstances = new Set();
            var types = new Set(families.map(function(family) {
              return family.current;
            }));
            findHostInstancesForMatchingFibersRecursively(root2.current, types, hostInstances);
            return hostInstances;
          }
        };
        function findHostInstancesForMatchingFibersRecursively(fiber, types, hostInstances) {
          {
            var child = fiber.child, sibling = fiber.sibling, tag = fiber.tag, type = fiber.type;
            var candidateType = null;
            switch (tag) {
              case FunctionComponent:
              case SimpleMemoComponent:
              case ClassComponent:
                candidateType = type;
                break;
              case ForwardRef:
                candidateType = type.render;
                break;
            }
            var didMatch = false;
            if (candidateType !== null) {
              if (types.has(candidateType)) {
                didMatch = true;
              }
            }
            if (didMatch) {
              findHostInstancesForFiberShallowly(fiber, hostInstances);
            } else {
              if (child !== null) {
                findHostInstancesForMatchingFibersRecursively(child, types, hostInstances);
              }
            }
            if (sibling !== null) {
              findHostInstancesForMatchingFibersRecursively(sibling, types, hostInstances);
            }
          }
        }
        function findHostInstancesForFiberShallowly(fiber, hostInstances) {
          {
            var foundHostInstances = findChildHostInstancesForFiberShallowly(fiber, hostInstances);
            if (foundHostInstances) {
              return;
            }
            var node = fiber;
            while (true) {
              switch (node.tag) {
                case HostComponent:
                  hostInstances.add(node.stateNode);
                  return;
                case HostPortal:
                  hostInstances.add(node.stateNode.containerInfo);
                  return;
                case HostRoot:
                  hostInstances.add(node.stateNode.containerInfo);
                  return;
              }
              if (node.return === null) {
                throw new Error("Expected to reach root first.");
              }
              node = node.return;
            }
          }
        }
        function findChildHostInstancesForFiberShallowly(fiber, hostInstances) {
          {
            var node = fiber;
            var foundHostInstances = false;
            while (true) {
              if (node.tag === HostComponent) {
                foundHostInstances = true;
                hostInstances.add(node.stateNode);
              } else if (node.child !== null) {
                node.child.return = node;
                node = node.child;
                continue;
              }
              if (node === fiber) {
                return foundHostInstances;
              }
              while (node.sibling === null) {
                if (node.return === null || node.return === fiber) {
                  return foundHostInstances;
                }
                node = node.return;
              }
              node.sibling.return = node.return;
              node = node.sibling;
            }
          }
          return false;
        }
        var hasBadMapPolyfill;
        {
          hasBadMapPolyfill = false;
          try {
            var nonExtensibleObject = Object.preventExtensions({});
            new Map([[nonExtensibleObject, null]]);
            new Set([nonExtensibleObject]);
          } catch (e) {
            hasBadMapPolyfill = true;
          }
        }
        var debugCounter = 1;
        function FiberNode(tag, pendingProps, key, mode) {
          this.tag = tag;
          this.key = key;
          this.elementType = null;
          this.type = null;
          this.stateNode = null;
          this.return = null;
          this.child = null;
          this.sibling = null;
          this.index = 0;
          this.ref = null;
          this.pendingProps = pendingProps;
          this.memoizedProps = null;
          this.updateQueue = null;
          this.memoizedState = null;
          this.dependencies = null;
          this.mode = mode;
          this.flags = NoFlags;
          this.nextEffect = null;
          this.firstEffect = null;
          this.lastEffect = null;
          this.lanes = NoLanes;
          this.childLanes = NoLanes;
          this.alternate = null;
          {
            this.actualDuration = Number.NaN;
            this.actualStartTime = Number.NaN;
            this.selfBaseDuration = Number.NaN;
            this.treeBaseDuration = Number.NaN;
            this.actualDuration = 0;
            this.actualStartTime = -1;
            this.selfBaseDuration = 0;
            this.treeBaseDuration = 0;
          }
          {
            this._debugID = debugCounter++;
            this._debugSource = null;
            this._debugOwner = null;
            this._debugNeedsRemount = false;
            this._debugHookTypes = null;
            if (!hasBadMapPolyfill && typeof Object.preventExtensions === "function") {
              Object.preventExtensions(this);
            }
          }
        }
        var createFiber = function(tag, pendingProps, key, mode) {
          return new FiberNode(tag, pendingProps, key, mode);
        };
        function shouldConstruct$1(Component) {
          var prototype = Component.prototype;
          return !!(prototype && prototype.isReactComponent);
        }
        function isSimpleFunctionComponent(type) {
          return typeof type === "function" && !shouldConstruct$1(type) && type.defaultProps === void 0;
        }
        function resolveLazyComponentTag(Component) {
          if (typeof Component === "function") {
            return shouldConstruct$1(Component) ? ClassComponent : FunctionComponent;
          } else if (Component !== void 0 && Component !== null) {
            var $$typeof = Component.$$typeof;
            if ($$typeof === REACT_FORWARD_REF_TYPE) {
              return ForwardRef;
            }
            if ($$typeof === REACT_MEMO_TYPE) {
              return MemoComponent;
            }
          }
          return IndeterminateComponent;
        }
        function createWorkInProgress(current2, pendingProps) {
          var workInProgress2 = current2.alternate;
          if (workInProgress2 === null) {
            workInProgress2 = createFiber(current2.tag, pendingProps, current2.key, current2.mode);
            workInProgress2.elementType = current2.elementType;
            workInProgress2.type = current2.type;
            workInProgress2.stateNode = current2.stateNode;
            {
              workInProgress2._debugID = current2._debugID;
              workInProgress2._debugSource = current2._debugSource;
              workInProgress2._debugOwner = current2._debugOwner;
              workInProgress2._debugHookTypes = current2._debugHookTypes;
            }
            workInProgress2.alternate = current2;
            current2.alternate = workInProgress2;
          } else {
            workInProgress2.pendingProps = pendingProps;
            workInProgress2.type = current2.type;
            workInProgress2.flags = NoFlags;
            workInProgress2.nextEffect = null;
            workInProgress2.firstEffect = null;
            workInProgress2.lastEffect = null;
            {
              workInProgress2.actualDuration = 0;
              workInProgress2.actualStartTime = -1;
            }
          }
          workInProgress2.childLanes = current2.childLanes;
          workInProgress2.lanes = current2.lanes;
          workInProgress2.child = current2.child;
          workInProgress2.memoizedProps = current2.memoizedProps;
          workInProgress2.memoizedState = current2.memoizedState;
          workInProgress2.updateQueue = current2.updateQueue;
          var currentDependencies = current2.dependencies;
          workInProgress2.dependencies = currentDependencies === null ? null : {
            lanes: currentDependencies.lanes,
            firstContext: currentDependencies.firstContext
          };
          workInProgress2.sibling = current2.sibling;
          workInProgress2.index = current2.index;
          workInProgress2.ref = current2.ref;
          {
            workInProgress2.selfBaseDuration = current2.selfBaseDuration;
            workInProgress2.treeBaseDuration = current2.treeBaseDuration;
          }
          {
            workInProgress2._debugNeedsRemount = current2._debugNeedsRemount;
            switch (workInProgress2.tag) {
              case IndeterminateComponent:
              case FunctionComponent:
              case SimpleMemoComponent:
                workInProgress2.type = resolveFunctionForHotReloading(current2.type);
                break;
              case ClassComponent:
                workInProgress2.type = resolveClassForHotReloading(current2.type);
                break;
              case ForwardRef:
                workInProgress2.type = resolveForwardRefForHotReloading(current2.type);
                break;
            }
          }
          return workInProgress2;
        }
        function resetWorkInProgress(workInProgress2, renderLanes2) {
          workInProgress2.flags &= Placement;
          workInProgress2.nextEffect = null;
          workInProgress2.firstEffect = null;
          workInProgress2.lastEffect = null;
          var current2 = workInProgress2.alternate;
          if (current2 === null) {
            workInProgress2.childLanes = NoLanes;
            workInProgress2.lanes = renderLanes2;
            workInProgress2.child = null;
            workInProgress2.memoizedProps = null;
            workInProgress2.memoizedState = null;
            workInProgress2.updateQueue = null;
            workInProgress2.dependencies = null;
            workInProgress2.stateNode = null;
            {
              workInProgress2.selfBaseDuration = 0;
              workInProgress2.treeBaseDuration = 0;
            }
          } else {
            workInProgress2.childLanes = current2.childLanes;
            workInProgress2.lanes = current2.lanes;
            workInProgress2.child = current2.child;
            workInProgress2.memoizedProps = current2.memoizedProps;
            workInProgress2.memoizedState = current2.memoizedState;
            workInProgress2.updateQueue = current2.updateQueue;
            workInProgress2.type = current2.type;
            var currentDependencies = current2.dependencies;
            workInProgress2.dependencies = currentDependencies === null ? null : {
              lanes: currentDependencies.lanes,
              firstContext: currentDependencies.firstContext
            };
            {
              workInProgress2.selfBaseDuration = current2.selfBaseDuration;
              workInProgress2.treeBaseDuration = current2.treeBaseDuration;
            }
          }
          return workInProgress2;
        }
        function createHostRootFiber(tag) {
          var mode;
          if (tag === ConcurrentRoot) {
            mode = ConcurrentMode | BlockingMode | StrictMode2;
          } else if (tag === BlockingRoot) {
            mode = BlockingMode | StrictMode2;
          } else {
            mode = NoMode;
          }
          if (isDevToolsPresent) {
            mode |= ProfileMode;
          }
          return createFiber(HostRoot, null, null, mode);
        }
        function createFiberFromTypeAndProps(type, key, pendingProps, owner, mode, lanes) {
          var fiberTag = IndeterminateComponent;
          var resolvedType = type;
          if (typeof type === "function") {
            if (shouldConstruct$1(type)) {
              fiberTag = ClassComponent;
              {
                resolvedType = resolveClassForHotReloading(resolvedType);
              }
            } else {
              {
                resolvedType = resolveFunctionForHotReloading(resolvedType);
              }
            }
          } else if (typeof type === "string") {
            fiberTag = HostComponent;
          } else {
            getTag:
              switch (type) {
                case REACT_FRAGMENT_TYPE:
                  return createFiberFromFragment(pendingProps.children, mode, lanes, key);
                case REACT_DEBUG_TRACING_MODE_TYPE:
                  fiberTag = Mode;
                  mode |= DebugTracingMode;
                  break;
                case REACT_STRICT_MODE_TYPE:
                  fiberTag = Mode;
                  mode |= StrictMode2;
                  break;
                case REACT_PROFILER_TYPE:
                  return createFiberFromProfiler(pendingProps, mode, lanes, key);
                case REACT_SUSPENSE_TYPE:
                  return createFiberFromSuspense(pendingProps, mode, lanes, key);
                case REACT_SUSPENSE_LIST_TYPE:
                  return createFiberFromSuspenseList(pendingProps, mode, lanes, key);
                case REACT_OFFSCREEN_TYPE:
                  return createFiberFromOffscreen(pendingProps, mode, lanes, key);
                case REACT_LEGACY_HIDDEN_TYPE:
                  return createFiberFromLegacyHidden(pendingProps, mode, lanes, key);
                case REACT_SCOPE_TYPE:
                default: {
                  if (typeof type === "object" && type !== null) {
                    switch (type.$$typeof) {
                      case REACT_PROVIDER_TYPE:
                        fiberTag = ContextProvider;
                        break getTag;
                      case REACT_CONTEXT_TYPE:
                        fiberTag = ContextConsumer;
                        break getTag;
                      case REACT_FORWARD_REF_TYPE:
                        fiberTag = ForwardRef;
                        {
                          resolvedType = resolveForwardRefForHotReloading(resolvedType);
                        }
                        break getTag;
                      case REACT_MEMO_TYPE:
                        fiberTag = MemoComponent;
                        break getTag;
                      case REACT_LAZY_TYPE:
                        fiberTag = LazyComponent;
                        resolvedType = null;
                        break getTag;
                      case REACT_BLOCK_TYPE:
                        fiberTag = Block;
                        break getTag;
                    }
                  }
                  var info = "";
                  {
                    if (type === void 0 || typeof type === "object" && type !== null && Object.keys(type).length === 0) {
                      info += " You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";
                    }
                    var ownerName = owner ? getComponentName(owner.type) : null;
                    if (ownerName) {
                      info += "\n\nCheck the render method of `" + ownerName + "`.";
                    }
                  }
                  {
                    {
                      throw Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: " + (type == null ? type : typeof type) + "." + info);
                    }
                  }
                }
              }
          }
          var fiber = createFiber(fiberTag, pendingProps, key, mode);
          fiber.elementType = type;
          fiber.type = resolvedType;
          fiber.lanes = lanes;
          {
            fiber._debugOwner = owner;
          }
          return fiber;
        }
        function createFiberFromElement(element, mode, lanes) {
          var owner = null;
          {
            owner = element._owner;
          }
          var type = element.type;
          var key = element.key;
          var pendingProps = element.props;
          var fiber = createFiberFromTypeAndProps(type, key, pendingProps, owner, mode, lanes);
          {
            fiber._debugSource = element._source;
            fiber._debugOwner = element._owner;
          }
          return fiber;
        }
        function createFiberFromFragment(elements, mode, lanes, key) {
          var fiber = createFiber(Fragment2, elements, key, mode);
          fiber.lanes = lanes;
          return fiber;
        }
        function createFiberFromProfiler(pendingProps, mode, lanes, key) {
          {
            if (typeof pendingProps.id !== "string") {
              error('Profiler must specify an "id" as a prop');
            }
          }
          var fiber = createFiber(Profiler, pendingProps, key, mode | ProfileMode);
          fiber.elementType = REACT_PROFILER_TYPE;
          fiber.type = REACT_PROFILER_TYPE;
          fiber.lanes = lanes;
          {
            fiber.stateNode = {
              effectDuration: 0,
              passiveEffectDuration: 0
            };
          }
          return fiber;
        }
        function createFiberFromSuspense(pendingProps, mode, lanes, key) {
          var fiber = createFiber(SuspenseComponent, pendingProps, key, mode);
          fiber.type = REACT_SUSPENSE_TYPE;
          fiber.elementType = REACT_SUSPENSE_TYPE;
          fiber.lanes = lanes;
          return fiber;
        }
        function createFiberFromSuspenseList(pendingProps, mode, lanes, key) {
          var fiber = createFiber(SuspenseListComponent, pendingProps, key, mode);
          {
            fiber.type = REACT_SUSPENSE_LIST_TYPE;
          }
          fiber.elementType = REACT_SUSPENSE_LIST_TYPE;
          fiber.lanes = lanes;
          return fiber;
        }
        function createFiberFromOffscreen(pendingProps, mode, lanes, key) {
          var fiber = createFiber(OffscreenComponent, pendingProps, key, mode);
          {
            fiber.type = REACT_OFFSCREEN_TYPE;
          }
          fiber.elementType = REACT_OFFSCREEN_TYPE;
          fiber.lanes = lanes;
          return fiber;
        }
        function createFiberFromLegacyHidden(pendingProps, mode, lanes, key) {
          var fiber = createFiber(LegacyHiddenComponent, pendingProps, key, mode);
          {
            fiber.type = REACT_LEGACY_HIDDEN_TYPE;
          }
          fiber.elementType = REACT_LEGACY_HIDDEN_TYPE;
          fiber.lanes = lanes;
          return fiber;
        }
        function createFiberFromText(content, mode, lanes) {
          var fiber = createFiber(HostText, content, null, mode);
          fiber.lanes = lanes;
          return fiber;
        }
        function createFiberFromHostInstanceForDeletion() {
          var fiber = createFiber(HostComponent, null, null, NoMode);
          fiber.elementType = "DELETED";
          fiber.type = "DELETED";
          return fiber;
        }
        function createFiberFromPortal(portal, mode, lanes) {
          var pendingProps = portal.children !== null ? portal.children : [];
          var fiber = createFiber(HostPortal, pendingProps, portal.key, mode);
          fiber.lanes = lanes;
          fiber.stateNode = {
            containerInfo: portal.containerInfo,
            pendingChildren: null,
            implementation: portal.implementation
          };
          return fiber;
        }
        function assignFiberPropertiesInDEV(target, source) {
          if (target === null) {
            target = createFiber(IndeterminateComponent, null, null, NoMode);
          }
          target.tag = source.tag;
          target.key = source.key;
          target.elementType = source.elementType;
          target.type = source.type;
          target.stateNode = source.stateNode;
          target.return = source.return;
          target.child = source.child;
          target.sibling = source.sibling;
          target.index = source.index;
          target.ref = source.ref;
          target.pendingProps = source.pendingProps;
          target.memoizedProps = source.memoizedProps;
          target.updateQueue = source.updateQueue;
          target.memoizedState = source.memoizedState;
          target.dependencies = source.dependencies;
          target.mode = source.mode;
          target.flags = source.flags;
          target.nextEffect = source.nextEffect;
          target.firstEffect = source.firstEffect;
          target.lastEffect = source.lastEffect;
          target.lanes = source.lanes;
          target.childLanes = source.childLanes;
          target.alternate = source.alternate;
          {
            target.actualDuration = source.actualDuration;
            target.actualStartTime = source.actualStartTime;
            target.selfBaseDuration = source.selfBaseDuration;
            target.treeBaseDuration = source.treeBaseDuration;
          }
          target._debugID = source._debugID;
          target._debugSource = source._debugSource;
          target._debugOwner = source._debugOwner;
          target._debugNeedsRemount = source._debugNeedsRemount;
          target._debugHookTypes = source._debugHookTypes;
          return target;
        }
        function FiberRootNode(containerInfo, tag, hydrate2) {
          this.tag = tag;
          this.containerInfo = containerInfo;
          this.pendingChildren = null;
          this.current = null;
          this.pingCache = null;
          this.finishedWork = null;
          this.timeoutHandle = noTimeout;
          this.context = null;
          this.pendingContext = null;
          this.hydrate = hydrate2;
          this.callbackNode = null;
          this.callbackPriority = NoLanePriority;
          this.eventTimes = createLaneMap(NoLanes);
          this.expirationTimes = createLaneMap(NoTimestamp);
          this.pendingLanes = NoLanes;
          this.suspendedLanes = NoLanes;
          this.pingedLanes = NoLanes;
          this.expiredLanes = NoLanes;
          this.mutableReadLanes = NoLanes;
          this.finishedLanes = NoLanes;
          this.entangledLanes = NoLanes;
          this.entanglements = createLaneMap(NoLanes);
          {
            this.mutableSourceEagerHydrationData = null;
          }
          {
            this.interactionThreadID = tracing.unstable_getThreadID();
            this.memoizedInteractions = new Set();
            this.pendingInteractionMap = new Map();
          }
          {
            switch (tag) {
              case BlockingRoot:
                this._debugRootType = "createBlockingRoot()";
                break;
              case ConcurrentRoot:
                this._debugRootType = "createRoot()";
                break;
              case LegacyRoot:
                this._debugRootType = "createLegacyRoot()";
                break;
            }
          }
        }
        function createFiberRoot(containerInfo, tag, hydrate2, hydrationCallbacks) {
          var root2 = new FiberRootNode(containerInfo, tag, hydrate2);
          var uninitializedFiber = createHostRootFiber(tag);
          root2.current = uninitializedFiber;
          uninitializedFiber.stateNode = root2;
          initializeUpdateQueue(uninitializedFiber);
          return root2;
        }
        function registerMutableSourceForHydration(root2, mutableSource) {
          var getVersion = mutableSource._getVersion;
          var version = getVersion(mutableSource._source);
          if (root2.mutableSourceEagerHydrationData == null) {
            root2.mutableSourceEagerHydrationData = [mutableSource, version];
          } else {
            root2.mutableSourceEagerHydrationData.push(mutableSource, version);
          }
        }
        function createPortal(children, containerInfo, implementation) {
          var key = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : null;
          return {
            $$typeof: REACT_PORTAL_TYPE,
            key: key == null ? null : "" + key,
            children,
            containerInfo,
            implementation
          };
        }
        var didWarnAboutNestedUpdates;
        var didWarnAboutFindNodeInStrictMode;
        {
          didWarnAboutNestedUpdates = false;
          didWarnAboutFindNodeInStrictMode = {};
        }
        function getContextForSubtree(parentComponent) {
          if (!parentComponent) {
            return emptyContextObject;
          }
          var fiber = get(parentComponent);
          var parentContext = findCurrentUnmaskedContext(fiber);
          if (fiber.tag === ClassComponent) {
            var Component = fiber.type;
            if (isContextProvider(Component)) {
              return processChildContext(fiber, Component, parentContext);
            }
          }
          return parentContext;
        }
        function findHostInstanceWithWarning(component, methodName) {
          {
            var fiber = get(component);
            if (fiber === void 0) {
              if (typeof component.render === "function") {
                {
                  {
                    throw Error("Unable to find node on an unmounted component.");
                  }
                }
              } else {
                {
                  {
                    throw Error("Argument appears to not be a ReactComponent. Keys: " + Object.keys(component));
                  }
                }
              }
            }
            var hostFiber = findCurrentHostFiber(fiber);
            if (hostFiber === null) {
              return null;
            }
            if (hostFiber.mode & StrictMode2) {
              var componentName = getComponentName(fiber.type) || "Component";
              if (!didWarnAboutFindNodeInStrictMode[componentName]) {
                didWarnAboutFindNodeInStrictMode[componentName] = true;
                var previousFiber = current;
                try {
                  setCurrentFiber(hostFiber);
                  if (fiber.mode & StrictMode2) {
                    error("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node", methodName, methodName, componentName);
                  } else {
                    error("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node", methodName, methodName, componentName);
                  }
                } finally {
                  if (previousFiber) {
                    setCurrentFiber(previousFiber);
                  } else {
                    resetCurrentFiber();
                  }
                }
              }
            }
            return hostFiber.stateNode;
          }
        }
        function createContainer(containerInfo, tag, hydrate2, hydrationCallbacks) {
          return createFiberRoot(containerInfo, tag, hydrate2);
        }
        function updateContainer(element, container, parentComponent, callback) {
          {
            onScheduleRoot(container, element);
          }
          var current$1 = container.current;
          var eventTime = requestEventTime();
          {
            if (typeof jest !== "undefined") {
              warnIfUnmockedScheduler(current$1);
              warnIfNotScopedWithMatchingAct(current$1);
            }
          }
          var lane = requestUpdateLane(current$1);
          var context = getContextForSubtree(parentComponent);
          if (container.context === null) {
            container.context = context;
          } else {
            container.pendingContext = context;
          }
          {
            if (isRendering && current !== null && !didWarnAboutNestedUpdates) {
              didWarnAboutNestedUpdates = true;
              error("Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.\n\nCheck the render method of %s.", getComponentName(current.type) || "Unknown");
            }
          }
          var update = createUpdate(eventTime, lane);
          update.payload = {
            element
          };
          callback = callback === void 0 ? null : callback;
          if (callback !== null) {
            {
              if (typeof callback !== "function") {
                error("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.", callback);
              }
            }
            update.callback = callback;
          }
          enqueueUpdate(current$1, update);
          scheduleUpdateOnFiber(current$1, lane, eventTime);
          return lane;
        }
        function getPublicRootInstance(container) {
          var containerFiber = container.current;
          if (!containerFiber.child) {
            return null;
          }
          switch (containerFiber.child.tag) {
            case HostComponent:
              return getPublicInstance(containerFiber.child.stateNode);
            default:
              return containerFiber.child.stateNode;
          }
        }
        function markRetryLaneImpl(fiber, retryLane) {
          var suspenseState = fiber.memoizedState;
          if (suspenseState !== null && suspenseState.dehydrated !== null) {
            suspenseState.retryLane = higherPriorityLane(suspenseState.retryLane, retryLane);
          }
        }
        function markRetryLaneIfNotHydrated(fiber, retryLane) {
          markRetryLaneImpl(fiber, retryLane);
          var alternate = fiber.alternate;
          if (alternate) {
            markRetryLaneImpl(alternate, retryLane);
          }
        }
        function attemptUserBlockingHydration$1(fiber) {
          if (fiber.tag !== SuspenseComponent) {
            return;
          }
          var eventTime = requestEventTime();
          var lane = InputDiscreteHydrationLane;
          scheduleUpdateOnFiber(fiber, lane, eventTime);
          markRetryLaneIfNotHydrated(fiber, lane);
        }
        function attemptContinuousHydration$1(fiber) {
          if (fiber.tag !== SuspenseComponent) {
            return;
          }
          var eventTime = requestEventTime();
          var lane = SelectiveHydrationLane;
          scheduleUpdateOnFiber(fiber, lane, eventTime);
          markRetryLaneIfNotHydrated(fiber, lane);
        }
        function attemptHydrationAtCurrentPriority$1(fiber) {
          if (fiber.tag !== SuspenseComponent) {
            return;
          }
          var eventTime = requestEventTime();
          var lane = requestUpdateLane(fiber);
          scheduleUpdateOnFiber(fiber, lane, eventTime);
          markRetryLaneIfNotHydrated(fiber, lane);
        }
        function runWithPriority$2(priority, fn) {
          try {
            setCurrentUpdateLanePriority(priority);
            return fn();
          } finally {
          }
        }
        function findHostInstanceWithNoPortals(fiber) {
          var hostFiber = findCurrentHostFiberWithNoPortals(fiber);
          if (hostFiber === null) {
            return null;
          }
          if (hostFiber.tag === FundamentalComponent) {
            return hostFiber.stateNode.instance;
          }
          return hostFiber.stateNode;
        }
        var shouldSuspendImpl = function(fiber) {
          return false;
        };
        function shouldSuspend(fiber) {
          return shouldSuspendImpl(fiber);
        }
        var overrideHookState = null;
        var overrideHookStateDeletePath = null;
        var overrideHookStateRenamePath = null;
        var overrideProps = null;
        var overridePropsDeletePath = null;
        var overridePropsRenamePath = null;
        var scheduleUpdate = null;
        var setSuspenseHandler = null;
        {
          var copyWithDeleteImpl = function(obj, path, index2) {
            var key = path[index2];
            var updated = Array.isArray(obj) ? obj.slice() : _assign({}, obj);
            if (index2 + 1 === path.length) {
              if (Array.isArray(updated)) {
                updated.splice(key, 1);
              } else {
                delete updated[key];
              }
              return updated;
            }
            updated[key] = copyWithDeleteImpl(obj[key], path, index2 + 1);
            return updated;
          };
          var copyWithDelete = function(obj, path) {
            return copyWithDeleteImpl(obj, path, 0);
          };
          var copyWithRenameImpl = function(obj, oldPath, newPath, index2) {
            var oldKey = oldPath[index2];
            var updated = Array.isArray(obj) ? obj.slice() : _assign({}, obj);
            if (index2 + 1 === oldPath.length) {
              var newKey = newPath[index2];
              updated[newKey] = updated[oldKey];
              if (Array.isArray(updated)) {
                updated.splice(oldKey, 1);
              } else {
                delete updated[oldKey];
              }
            } else {
              updated[oldKey] = copyWithRenameImpl(obj[oldKey], oldPath, newPath, index2 + 1);
            }
            return updated;
          };
          var copyWithRename = function(obj, oldPath, newPath) {
            if (oldPath.length !== newPath.length) {
              warn2("copyWithRename() expects paths of the same length");
              return;
            } else {
              for (var i3 = 0; i3 < newPath.length - 1; i3++) {
                if (oldPath[i3] !== newPath[i3]) {
                  warn2("copyWithRename() expects paths to be the same except for the deepest key");
                  return;
                }
              }
            }
            return copyWithRenameImpl(obj, oldPath, newPath, 0);
          };
          var copyWithSetImpl = function(obj, path, index2, value) {
            if (index2 >= path.length) {
              return value;
            }
            var key = path[index2];
            var updated = Array.isArray(obj) ? obj.slice() : _assign({}, obj);
            updated[key] = copyWithSetImpl(obj[key], path, index2 + 1, value);
            return updated;
          };
          var copyWithSet = function(obj, path, value) {
            return copyWithSetImpl(obj, path, 0, value);
          };
          var findHook = function(fiber, id) {
            var currentHook2 = fiber.memoizedState;
            while (currentHook2 !== null && id > 0) {
              currentHook2 = currentHook2.next;
              id--;
            }
            return currentHook2;
          };
          overrideHookState = function(fiber, id, path, value) {
            var hook = findHook(fiber, id);
            if (hook !== null) {
              var newState = copyWithSet(hook.memoizedState, path, value);
              hook.memoizedState = newState;
              hook.baseState = newState;
              fiber.memoizedProps = _assign({}, fiber.memoizedProps);
              scheduleUpdateOnFiber(fiber, SyncLane, NoTimestamp);
            }
          };
          overrideHookStateDeletePath = function(fiber, id, path) {
            var hook = findHook(fiber, id);
            if (hook !== null) {
              var newState = copyWithDelete(hook.memoizedState, path);
              hook.memoizedState = newState;
              hook.baseState = newState;
              fiber.memoizedProps = _assign({}, fiber.memoizedProps);
              scheduleUpdateOnFiber(fiber, SyncLane, NoTimestamp);
            }
          };
          overrideHookStateRenamePath = function(fiber, id, oldPath, newPath) {
            var hook = findHook(fiber, id);
            if (hook !== null) {
              var newState = copyWithRename(hook.memoizedState, oldPath, newPath);
              hook.memoizedState = newState;
              hook.baseState = newState;
              fiber.memoizedProps = _assign({}, fiber.memoizedProps);
              scheduleUpdateOnFiber(fiber, SyncLane, NoTimestamp);
            }
          };
          overrideProps = function(fiber, path, value) {
            fiber.pendingProps = copyWithSet(fiber.memoizedProps, path, value);
            if (fiber.alternate) {
              fiber.alternate.pendingProps = fiber.pendingProps;
            }
            scheduleUpdateOnFiber(fiber, SyncLane, NoTimestamp);
          };
          overridePropsDeletePath = function(fiber, path) {
            fiber.pendingProps = copyWithDelete(fiber.memoizedProps, path);
            if (fiber.alternate) {
              fiber.alternate.pendingProps = fiber.pendingProps;
            }
            scheduleUpdateOnFiber(fiber, SyncLane, NoTimestamp);
          };
          overridePropsRenamePath = function(fiber, oldPath, newPath) {
            fiber.pendingProps = copyWithRename(fiber.memoizedProps, oldPath, newPath);
            if (fiber.alternate) {
              fiber.alternate.pendingProps = fiber.pendingProps;
            }
            scheduleUpdateOnFiber(fiber, SyncLane, NoTimestamp);
          };
          scheduleUpdate = function(fiber) {
            scheduleUpdateOnFiber(fiber, SyncLane, NoTimestamp);
          };
          setSuspenseHandler = function(newShouldSuspendImpl) {
            shouldSuspendImpl = newShouldSuspendImpl;
          };
        }
        function findHostInstanceByFiber(fiber) {
          var hostFiber = findCurrentHostFiber(fiber);
          if (hostFiber === null) {
            return null;
          }
          return hostFiber.stateNode;
        }
        function emptyFindFiberByHostInstance(instance) {
          return null;
        }
        function getCurrentFiberForDevTools() {
          return current;
        }
        function injectIntoDevTools(devToolsConfig) {
          var findFiberByHostInstance = devToolsConfig.findFiberByHostInstance;
          var ReactCurrentDispatcher2 = ReactSharedInternals.ReactCurrentDispatcher;
          return injectInternals({
            bundleType: devToolsConfig.bundleType,
            version: devToolsConfig.version,
            rendererPackageName: devToolsConfig.rendererPackageName,
            rendererConfig: devToolsConfig.rendererConfig,
            overrideHookState,
            overrideHookStateDeletePath,
            overrideHookStateRenamePath,
            overrideProps,
            overridePropsDeletePath,
            overridePropsRenamePath,
            setSuspenseHandler,
            scheduleUpdate,
            currentDispatcherRef: ReactCurrentDispatcher2,
            findHostInstanceByFiber,
            findFiberByHostInstance: findFiberByHostInstance || emptyFindFiberByHostInstance,
            findHostInstancesForRefresh,
            scheduleRefresh,
            scheduleRoot,
            setRefreshHandler,
            getCurrentFiber: getCurrentFiberForDevTools
          });
        }
        function ReactDOMRoot(container, options2) {
          this._internalRoot = createRootImpl(container, ConcurrentRoot, options2);
        }
        function ReactDOMBlockingRoot(container, tag, options2) {
          this._internalRoot = createRootImpl(container, tag, options2);
        }
        ReactDOMRoot.prototype.render = ReactDOMBlockingRoot.prototype.render = function(children) {
          var root2 = this._internalRoot;
          {
            if (typeof arguments[1] === "function") {
              error("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");
            }
            var container = root2.containerInfo;
            if (container.nodeType !== COMMENT_NODE) {
              var hostInstance = findHostInstanceWithNoPortals(root2.current);
              if (hostInstance) {
                if (hostInstance.parentNode !== container) {
                  error("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.");
                }
              }
            }
          }
          updateContainer(children, root2, null, null);
        };
        ReactDOMRoot.prototype.unmount = ReactDOMBlockingRoot.prototype.unmount = function() {
          {
            if (typeof arguments[0] === "function") {
              error("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");
            }
          }
          var root2 = this._internalRoot;
          var container = root2.containerInfo;
          updateContainer(null, root2, null, function() {
            unmarkContainerAsRoot(container);
          });
        };
        function createRootImpl(container, tag, options2) {
          var hydrate2 = options2 != null && options2.hydrate === true;
          var hydrationCallbacks = options2 != null && options2.hydrationOptions || null;
          var mutableSources = options2 != null && options2.hydrationOptions != null && options2.hydrationOptions.mutableSources || null;
          var root2 = createContainer(container, tag, hydrate2);
          markContainerAsRoot(root2.current, container);
          var containerNodeType = container.nodeType;
          {
            var rootContainerElement = container.nodeType === COMMENT_NODE ? container.parentNode : container;
            listenToAllSupportedEvents(rootContainerElement);
          }
          if (mutableSources) {
            for (var i3 = 0; i3 < mutableSources.length; i3++) {
              var mutableSource = mutableSources[i3];
              registerMutableSourceForHydration(root2, mutableSource);
            }
          }
          return root2;
        }
        function createLegacyRoot(container, options2) {
          return new ReactDOMBlockingRoot(container, LegacyRoot, options2);
        }
        function isValidContainer(node) {
          return !!(node && (node.nodeType === ELEMENT_NODE || node.nodeType === DOCUMENT_NODE || node.nodeType === DOCUMENT_FRAGMENT_NODE || node.nodeType === COMMENT_NODE && node.nodeValue === " react-mount-point-unstable "));
        }
        var ReactCurrentOwner$3 = ReactSharedInternals.ReactCurrentOwner;
        var topLevelUpdateWarnings;
        var warnedAboutHydrateAPI = false;
        {
          topLevelUpdateWarnings = function(container) {
            if (container._reactRootContainer && container.nodeType !== COMMENT_NODE) {
              var hostInstance = findHostInstanceWithNoPortals(container._reactRootContainer._internalRoot.current);
              if (hostInstance) {
                if (hostInstance.parentNode !== container) {
                  error("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.");
                }
              }
            }
            var isRootRenderedBySomeReact = !!container._reactRootContainer;
            var rootEl = getReactRootElementInContainer(container);
            var hasNonRootReactChild = !!(rootEl && getInstanceFromNode(rootEl));
            if (hasNonRootReactChild && !isRootRenderedBySomeReact) {
              error("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render.");
            }
            if (container.nodeType === ELEMENT_NODE && container.tagName && container.tagName.toUpperCase() === "BODY") {
              error("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.");
            }
          };
        }
        function getReactRootElementInContainer(container) {
          if (!container) {
            return null;
          }
          if (container.nodeType === DOCUMENT_NODE) {
            return container.documentElement;
          } else {
            return container.firstChild;
          }
        }
        function shouldHydrateDueToLegacyHeuristic(container) {
          var rootElement = getReactRootElementInContainer(container);
          return !!(rootElement && rootElement.nodeType === ELEMENT_NODE && rootElement.hasAttribute(ROOT_ATTRIBUTE_NAME));
        }
        function legacyCreateRootFromDOMContainer(container, forceHydrate) {
          var shouldHydrate = forceHydrate || shouldHydrateDueToLegacyHeuristic(container);
          if (!shouldHydrate) {
            var warned = false;
            var rootSibling;
            while (rootSibling = container.lastChild) {
              {
                if (!warned && rootSibling.nodeType === ELEMENT_NODE && rootSibling.hasAttribute(ROOT_ATTRIBUTE_NAME)) {
                  warned = true;
                  error("render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.");
                }
              }
              container.removeChild(rootSibling);
            }
          }
          {
            if (shouldHydrate && !forceHydrate && !warnedAboutHydrateAPI) {
              warnedAboutHydrateAPI = true;
              warn2("render(): Calling ReactDOM.render() to hydrate server-rendered markup will stop working in React v18. Replace the ReactDOM.render() call with ReactDOM.hydrate() if you want React to attach to the server HTML.");
            }
          }
          return createLegacyRoot(container, shouldHydrate ? {
            hydrate: true
          } : void 0);
        }
        function warnOnInvalidCallback$1(callback, callerName) {
          {
            if (callback !== null && typeof callback !== "function") {
              error("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.", callerName, callback);
            }
          }
        }
        function legacyRenderSubtreeIntoContainer(parentComponent, children, container, forceHydrate, callback) {
          {
            topLevelUpdateWarnings(container);
            warnOnInvalidCallback$1(callback === void 0 ? null : callback, "render");
          }
          var root2 = container._reactRootContainer;
          var fiberRoot;
          if (!root2) {
            root2 = container._reactRootContainer = legacyCreateRootFromDOMContainer(container, forceHydrate);
            fiberRoot = root2._internalRoot;
            if (typeof callback === "function") {
              var originalCallback = callback;
              callback = function() {
                var instance = getPublicRootInstance(fiberRoot);
                originalCallback.call(instance);
              };
            }
            unbatchedUpdates(function() {
              updateContainer(children, fiberRoot, parentComponent, callback);
            });
          } else {
            fiberRoot = root2._internalRoot;
            if (typeof callback === "function") {
              var _originalCallback = callback;
              callback = function() {
                var instance = getPublicRootInstance(fiberRoot);
                _originalCallback.call(instance);
              };
            }
            updateContainer(children, fiberRoot, parentComponent, callback);
          }
          return getPublicRootInstance(fiberRoot);
        }
        function findDOMNode(componentOrElement) {
          {
            var owner = ReactCurrentOwner$3.current;
            if (owner !== null && owner.stateNode !== null) {
              var warnedAboutRefsInRender = owner.stateNode._warnedAboutRefsInRender;
              if (!warnedAboutRefsInRender) {
                error("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.", getComponentName(owner.type) || "A component");
              }
              owner.stateNode._warnedAboutRefsInRender = true;
            }
          }
          if (componentOrElement == null) {
            return null;
          }
          if (componentOrElement.nodeType === ELEMENT_NODE) {
            return componentOrElement;
          }
          {
            return findHostInstanceWithWarning(componentOrElement, "findDOMNode");
          }
        }
        function hydrate(element, container, callback) {
          if (!isValidContainer(container)) {
            {
              throw Error("Target container is not a DOM element.");
            }
          }
          {
            var isModernRoot = isContainerMarkedAsRoot(container) && container._reactRootContainer === void 0;
            if (isModernRoot) {
              error("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOM.createRoot(). This is not supported. Did you mean to call createRoot(container, {hydrate: true}).render(element)?");
            }
          }
          return legacyRenderSubtreeIntoContainer(null, element, container, true, callback);
        }
        function render(element, container, callback) {
          if (!isValidContainer(container)) {
            {
              throw Error("Target container is not a DOM element.");
            }
          }
          {
            var isModernRoot = isContainerMarkedAsRoot(container) && container._reactRootContainer === void 0;
            if (isModernRoot) {
              error("You are calling ReactDOM.render() on a container that was previously passed to ReactDOM.createRoot(). This is not supported. Did you mean to call root.render(element)?");
            }
          }
          return legacyRenderSubtreeIntoContainer(null, element, container, false, callback);
        }
        function unstable_renderSubtreeIntoContainer(parentComponent, element, containerNode, callback) {
          if (!isValidContainer(containerNode)) {
            {
              throw Error("Target container is not a DOM element.");
            }
          }
          if (!(parentComponent != null && has(parentComponent))) {
            {
              throw Error("parentComponent must be a valid React Component");
            }
          }
          return legacyRenderSubtreeIntoContainer(parentComponent, element, containerNode, false, callback);
        }
        function unmountComponentAtNode(container) {
          if (!isValidContainer(container)) {
            {
              throw Error("unmountComponentAtNode(...): Target container is not a DOM element.");
            }
          }
          {
            var isModernRoot = isContainerMarkedAsRoot(container) && container._reactRootContainer === void 0;
            if (isModernRoot) {
              error("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOM.createRoot(). This is not supported. Did you mean to call root.unmount()?");
            }
          }
          if (container._reactRootContainer) {
            {
              var rootEl = getReactRootElementInContainer(container);
              var renderedByDifferentReact = rootEl && !getInstanceFromNode(rootEl);
              if (renderedByDifferentReact) {
                error("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.");
              }
            }
            unbatchedUpdates(function() {
              legacyRenderSubtreeIntoContainer(null, null, container, false, function() {
                container._reactRootContainer = null;
                unmarkContainerAsRoot(container);
              });
            });
            return true;
          } else {
            {
              var _rootEl = getReactRootElementInContainer(container);
              var hasNonRootReactChild = !!(_rootEl && getInstanceFromNode(_rootEl));
              var isContainerReactRoot = container.nodeType === ELEMENT_NODE && isValidContainer(container.parentNode) && !!container.parentNode._reactRootContainer;
              if (hasNonRootReactChild) {
                error("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s", isContainerReactRoot ? "You may have accidentally passed in a React root node instead of its container." : "Instead, have the parent component update its state and rerender in order to remove this component.");
              }
            }
            return false;
          }
        }
        setAttemptUserBlockingHydration(attemptUserBlockingHydration$1);
        setAttemptContinuousHydration(attemptContinuousHydration$1);
        setAttemptHydrationAtCurrentPriority(attemptHydrationAtCurrentPriority$1);
        setAttemptHydrationAtPriority(runWithPriority$2);
        var didWarnAboutUnstableCreatePortal = false;
        {
          if (typeof Map !== "function" || Map.prototype == null || typeof Map.prototype.forEach !== "function" || typeof Set !== "function" || Set.prototype == null || typeof Set.prototype.clear !== "function" || typeof Set.prototype.forEach !== "function") {
            error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills");
          }
        }
        setRestoreImplementation(restoreControlledState$3);
        setBatchingImplementation(batchedUpdates$1, discreteUpdates$1, flushDiscreteUpdates, batchedEventUpdates$1);
        function createPortal$1(children, container) {
          var key = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;
          if (!isValidContainer(container)) {
            {
              throw Error("Target container is not a DOM element.");
            }
          }
          return createPortal(children, container, null, key);
        }
        function renderSubtreeIntoContainer(parentComponent, element, containerNode, callback) {
          return unstable_renderSubtreeIntoContainer(parentComponent, element, containerNode, callback);
        }
        function unstable_createPortal(children, container) {
          var key = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;
          {
            if (!didWarnAboutUnstableCreatePortal) {
              didWarnAboutUnstableCreatePortal = true;
              warn2('The ReactDOM.unstable_createPortal() alias has been deprecated, and will be removed in React 18+. Update your code to use ReactDOM.createPortal() instead. It has the exact same API, but without the "unstable_" prefix.');
            }
          }
          return createPortal$1(children, container, key);
        }
        var Internals = {
          Events: [
            getInstanceFromNode,
            getNodeFromInstance,
            getFiberCurrentPropsFromNode,
            enqueueStateRestore,
            restoreStateIfNeeded,
            flushPassiveEffects,
            IsThisRendererActing
          ]
        };
        var foundDevTools = injectIntoDevTools({
          findFiberByHostInstance: getClosestInstanceFromNode,
          bundleType: 1,
          version: ReactVersion,
          rendererPackageName: "react-dom"
        });
        {
          if (!foundDevTools && canUseDOM && window.top === window.self) {
            if (navigator.userAgent.indexOf("Chrome") > -1 && navigator.userAgent.indexOf("Edge") === -1 || navigator.userAgent.indexOf("Firefox") > -1) {
              var protocol = window.location.protocol;
              if (/^(https?|file):$/.test(protocol)) {
                console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools" + (protocol === "file:" ? "\nYou might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq" : ""), "font-weight:bold");
              }
            }
          }
        }
        exports2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = Internals;
        exports2.createPortal = createPortal$1;
        exports2.findDOMNode = findDOMNode;
        exports2.flushSync = flushSync;
        exports2.hydrate = hydrate;
        exports2.render = render;
        exports2.unmountComponentAtNode = unmountComponentAtNode;
        exports2.unstable_batchedUpdates = batchedUpdates$1;
        exports2.unstable_createPortal = unstable_createPortal;
        exports2.unstable_renderSubtreeIntoContainer = renderSubtreeIntoContainer;
        exports2.version = ReactVersion;
      })();
    }
  }
});

// node_modules/react-dom/index.js
var require_react_dom = __commonJS({
  "node_modules/react-dom/index.js"(exports2, module2) {
    "use strict";
    if (false) {
      checkDCE();
      module2.exports = null;
    } else {
      module2.exports = require_react_dom_development();
    }
  }
});

// node_modules/tslib/tslib.js
var require_tslib = __commonJS({
  "node_modules/tslib/tslib.js"(exports2, module2) {
    var __extends2;
    var __assign2;
    var __rest2;
    var __decorate2;
    var __param2;
    var __metadata2;
    var __awaiter2;
    var __generator2;
    var __exportStar2;
    var __values2;
    var __read2;
    var __spread2;
    var __spreadArrays2;
    var __spreadArray2;
    var __await2;
    var __asyncGenerator2;
    var __asyncDelegator2;
    var __asyncValues2;
    var __makeTemplateObject2;
    var __importStar2;
    var __importDefault2;
    var __classPrivateFieldGet2;
    var __classPrivateFieldSet2;
    var __createBinding2;
    (function(factory) {
      var root = typeof global === "object" ? global : typeof self === "object" ? self : typeof this === "object" ? this : {};
      if (typeof define === "function" && define.amd) {
        define("tslib", ["exports"], function(exports3) {
          factory(createExporter(root, createExporter(exports3)));
        });
      } else if (typeof module2 === "object" && typeof module2.exports === "object") {
        factory(createExporter(root, createExporter(module2.exports)));
      } else {
        factory(createExporter(root));
      }
      function createExporter(exports3, previous) {
        if (exports3 !== root) {
          if (typeof Object.create === "function") {
            Object.defineProperty(exports3, "__esModule", { value: true });
          } else {
            exports3.__esModule = true;
          }
        }
        return function(id, v) {
          return exports3[id] = previous ? previous(id, v) : v;
        };
      }
    })(function(exporter) {
      var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b3) {
        d2.__proto__ = b3;
      } || function(d2, b3) {
        for (var p2 in b3)
          if (Object.prototype.hasOwnProperty.call(b3, p2))
            d2[p2] = b3[p2];
      };
      __extends2 = function(d2, b3) {
        if (typeof b3 !== "function" && b3 !== null)
          throw new TypeError("Class extends value " + String(b3) + " is not a constructor or null");
        extendStatics(d2, b3);
        function __() {
          this.constructor = d2;
        }
        d2.prototype = b3 === null ? Object.create(b3) : (__.prototype = b3.prototype, new __());
      };
      __assign2 = Object.assign || function(t2) {
        for (var s3, i3 = 1, n2 = arguments.length; i3 < n2; i3++) {
          s3 = arguments[i3];
          for (var p2 in s3)
            if (Object.prototype.hasOwnProperty.call(s3, p2))
              t2[p2] = s3[p2];
        }
        return t2;
      };
      __rest2 = function(s3, e) {
        var t2 = {};
        for (var p2 in s3)
          if (Object.prototype.hasOwnProperty.call(s3, p2) && e.indexOf(p2) < 0)
            t2[p2] = s3[p2];
        if (s3 != null && typeof Object.getOwnPropertySymbols === "function")
          for (var i3 = 0, p2 = Object.getOwnPropertySymbols(s3); i3 < p2.length; i3++) {
            if (e.indexOf(p2[i3]) < 0 && Object.prototype.propertyIsEnumerable.call(s3, p2[i3]))
              t2[p2[i3]] = s3[p2[i3]];
          }
        return t2;
      };
      __decorate2 = function(decorators, target, key, desc) {
        var c3 = arguments.length, r3 = c3 < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d2;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
          r3 = Reflect.decorate(decorators, target, key, desc);
        else
          for (var i3 = decorators.length - 1; i3 >= 0; i3--)
            if (d2 = decorators[i3])
              r3 = (c3 < 3 ? d2(r3) : c3 > 3 ? d2(target, key, r3) : d2(target, key)) || r3;
        return c3 > 3 && r3 && Object.defineProperty(target, key, r3), r3;
      };
      __param2 = function(paramIndex, decorator) {
        return function(target, key) {
          decorator(target, key, paramIndex);
        };
      };
      __metadata2 = function(metadataKey, metadataValue) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function")
          return Reflect.metadata(metadataKey, metadataValue);
      };
      __awaiter2 = function(thisArg, _arguments, P2, generator) {
        function adopt(value) {
          return value instanceof P2 ? value : new P2(function(resolve2) {
            resolve2(value);
          });
        }
        return new (P2 || (P2 = Promise))(function(resolve2, reject) {
          function fulfilled(value) {
            try {
              step(generator.next(value));
            } catch (e) {
              reject(e);
            }
          }
          function rejected(value) {
            try {
              step(generator["throw"](value));
            } catch (e) {
              reject(e);
            }
          }
          function step(result) {
            result.done ? resolve2(result.value) : adopt(result.value).then(fulfilled, rejected);
          }
          step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
      };
      __generator2 = function(thisArg, body) {
        var _2 = { label: 0, sent: function() {
          if (t2[0] & 1)
            throw t2[1];
          return t2[1];
        }, trys: [], ops: [] }, f2, y2, t2, g2;
        return g2 = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g2[Symbol.iterator] = function() {
          return this;
        }), g2;
        function verb(n2) {
          return function(v) {
            return step([n2, v]);
          };
        }
        function step(op) {
          if (f2)
            throw new TypeError("Generator is already executing.");
          while (_2)
            try {
              if (f2 = 1, y2 && (t2 = op[0] & 2 ? y2["return"] : op[0] ? y2["throw"] || ((t2 = y2["return"]) && t2.call(y2), 0) : y2.next) && !(t2 = t2.call(y2, op[1])).done)
                return t2;
              if (y2 = 0, t2)
                op = [op[0] & 2, t2.value];
              switch (op[0]) {
                case 0:
                case 1:
                  t2 = op;
                  break;
                case 4:
                  _2.label++;
                  return { value: op[1], done: false };
                case 5:
                  _2.label++;
                  y2 = op[1];
                  op = [0];
                  continue;
                case 7:
                  op = _2.ops.pop();
                  _2.trys.pop();
                  continue;
                default:
                  if (!(t2 = _2.trys, t2 = t2.length > 0 && t2[t2.length - 1]) && (op[0] === 6 || op[0] === 2)) {
                    _2 = 0;
                    continue;
                  }
                  if (op[0] === 3 && (!t2 || op[1] > t2[0] && op[1] < t2[3])) {
                    _2.label = op[1];
                    break;
                  }
                  if (op[0] === 6 && _2.label < t2[1]) {
                    _2.label = t2[1];
                    t2 = op;
                    break;
                  }
                  if (t2 && _2.label < t2[2]) {
                    _2.label = t2[2];
                    _2.ops.push(op);
                    break;
                  }
                  if (t2[2])
                    _2.ops.pop();
                  _2.trys.pop();
                  continue;
              }
              op = body.call(thisArg, _2);
            } catch (e) {
              op = [6, e];
              y2 = 0;
            } finally {
              f2 = t2 = 0;
            }
          if (op[0] & 5)
            throw op[1];
          return { value: op[0] ? op[1] : void 0, done: true };
        }
      };
      __exportStar2 = function(m2, o2) {
        for (var p2 in m2)
          if (p2 !== "default" && !Object.prototype.hasOwnProperty.call(o2, p2))
            __createBinding2(o2, m2, p2);
      };
      __createBinding2 = Object.create ? function(o2, m2, k2, k22) {
        if (k22 === void 0)
          k22 = k2;
        Object.defineProperty(o2, k22, { enumerable: true, get: function() {
          return m2[k2];
        } });
      } : function(o2, m2, k2, k22) {
        if (k22 === void 0)
          k22 = k2;
        o2[k22] = m2[k2];
      };
      __values2 = function(o2) {
        var s3 = typeof Symbol === "function" && Symbol.iterator, m2 = s3 && o2[s3], i3 = 0;
        if (m2)
          return m2.call(o2);
        if (o2 && typeof o2.length === "number")
          return {
            next: function() {
              if (o2 && i3 >= o2.length)
                o2 = void 0;
              return { value: o2 && o2[i3++], done: !o2 };
            }
          };
        throw new TypeError(s3 ? "Object is not iterable." : "Symbol.iterator is not defined.");
      };
      __read2 = function(o2, n2) {
        var m2 = typeof Symbol === "function" && o2[Symbol.iterator];
        if (!m2)
          return o2;
        var i3 = m2.call(o2), r3, ar = [], e;
        try {
          while ((n2 === void 0 || n2-- > 0) && !(r3 = i3.next()).done)
            ar.push(r3.value);
        } catch (error) {
          e = { error };
        } finally {
          try {
            if (r3 && !r3.done && (m2 = i3["return"]))
              m2.call(i3);
          } finally {
            if (e)
              throw e.error;
          }
        }
        return ar;
      };
      __spread2 = function() {
        for (var ar = [], i3 = 0; i3 < arguments.length; i3++)
          ar = ar.concat(__read2(arguments[i3]));
        return ar;
      };
      __spreadArrays2 = function() {
        for (var s3 = 0, i3 = 0, il = arguments.length; i3 < il; i3++)
          s3 += arguments[i3].length;
        for (var r3 = Array(s3), k2 = 0, i3 = 0; i3 < il; i3++)
          for (var a4 = arguments[i3], j = 0, jl = a4.length; j < jl; j++, k2++)
            r3[k2] = a4[j];
        return r3;
      };
      __spreadArray2 = function(to, from, pack) {
        if (pack || arguments.length === 2)
          for (var i3 = 0, l3 = from.length, ar; i3 < l3; i3++) {
            if (ar || !(i3 in from)) {
              if (!ar)
                ar = Array.prototype.slice.call(from, 0, i3);
              ar[i3] = from[i3];
            }
          }
        return to.concat(ar || Array.prototype.slice.call(from));
      };
      __await2 = function(v) {
        return this instanceof __await2 ? (this.v = v, this) : new __await2(v);
      };
      __asyncGenerator2 = function(thisArg, _arguments, generator) {
        if (!Symbol.asyncIterator)
          throw new TypeError("Symbol.asyncIterator is not defined.");
        var g2 = generator.apply(thisArg, _arguments || []), i3, q3 = [];
        return i3 = {}, verb("next"), verb("throw"), verb("return"), i3[Symbol.asyncIterator] = function() {
          return this;
        }, i3;
        function verb(n2) {
          if (g2[n2])
            i3[n2] = function(v) {
              return new Promise(function(a4, b3) {
                q3.push([n2, v, a4, b3]) > 1 || resume(n2, v);
              });
            };
        }
        function resume(n2, v) {
          try {
            step(g2[n2](v));
          } catch (e) {
            settle(q3[0][3], e);
          }
        }
        function step(r3) {
          r3.value instanceof __await2 ? Promise.resolve(r3.value.v).then(fulfill, reject) : settle(q3[0][2], r3);
        }
        function fulfill(value) {
          resume("next", value);
        }
        function reject(value) {
          resume("throw", value);
        }
        function settle(f2, v) {
          if (f2(v), q3.shift(), q3.length)
            resume(q3[0][0], q3[0][1]);
        }
      };
      __asyncDelegator2 = function(o2) {
        var i3, p2;
        return i3 = {}, verb("next"), verb("throw", function(e) {
          throw e;
        }), verb("return"), i3[Symbol.iterator] = function() {
          return this;
        }, i3;
        function verb(n2, f2) {
          i3[n2] = o2[n2] ? function(v) {
            return (p2 = !p2) ? { value: __await2(o2[n2](v)), done: n2 === "return" } : f2 ? f2(v) : v;
          } : f2;
        }
      };
      __asyncValues2 = function(o2) {
        if (!Symbol.asyncIterator)
          throw new TypeError("Symbol.asyncIterator is not defined.");
        var m2 = o2[Symbol.asyncIterator], i3;
        return m2 ? m2.call(o2) : (o2 = typeof __values2 === "function" ? __values2(o2) : o2[Symbol.iterator](), i3 = {}, verb("next"), verb("throw"), verb("return"), i3[Symbol.asyncIterator] = function() {
          return this;
        }, i3);
        function verb(n2) {
          i3[n2] = o2[n2] && function(v) {
            return new Promise(function(resolve2, reject) {
              v = o2[n2](v), settle(resolve2, reject, v.done, v.value);
            });
          };
        }
        function settle(resolve2, reject, d2, v) {
          Promise.resolve(v).then(function(v2) {
            resolve2({ value: v2, done: d2 });
          }, reject);
        }
      };
      __makeTemplateObject2 = function(cooked, raw) {
        if (Object.defineProperty) {
          Object.defineProperty(cooked, "raw", { value: raw });
        } else {
          cooked.raw = raw;
        }
        return cooked;
      };
      var __setModuleDefault = Object.create ? function(o2, v) {
        Object.defineProperty(o2, "default", { enumerable: true, value: v });
      } : function(o2, v) {
        o2["default"] = v;
      };
      __importStar2 = function(mod) {
        if (mod && mod.__esModule)
          return mod;
        var result = {};
        if (mod != null) {
          for (var k2 in mod)
            if (k2 !== "default" && Object.prototype.hasOwnProperty.call(mod, k2))
              __createBinding2(result, mod, k2);
        }
        __setModuleDefault(result, mod);
        return result;
      };
      __importDefault2 = function(mod) {
        return mod && mod.__esModule ? mod : { "default": mod };
      };
      __classPrivateFieldGet2 = function(receiver, state, kind, f2) {
        if (kind === "a" && !f2)
          throw new TypeError("Private accessor was defined without a getter");
        if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
          throw new TypeError("Cannot read private member from an object whose class did not declare it");
        return kind === "m" ? f2 : kind === "a" ? f2.call(receiver) : f2 ? f2.value : state.get(receiver);
      };
      __classPrivateFieldSet2 = function(receiver, state, value, kind, f2) {
        if (kind === "m")
          throw new TypeError("Private method is not writable");
        if (kind === "a" && !f2)
          throw new TypeError("Private accessor was defined without a setter");
        if (typeof state === "function" ? receiver !== state || !f2 : !state.has(receiver))
          throw new TypeError("Cannot write private member to an object whose class did not declare it");
        return kind === "a" ? f2.call(receiver, value) : f2 ? f2.value = value : state.set(receiver, value), value;
      };
      exporter("__extends", __extends2);
      exporter("__assign", __assign2);
      exporter("__rest", __rest2);
      exporter("__decorate", __decorate2);
      exporter("__param", __param2);
      exporter("__metadata", __metadata2);
      exporter("__awaiter", __awaiter2);
      exporter("__generator", __generator2);
      exporter("__exportStar", __exportStar2);
      exporter("__createBinding", __createBinding2);
      exporter("__values", __values2);
      exporter("__read", __read2);
      exporter("__spread", __spread2);
      exporter("__spreadArrays", __spreadArrays2);
      exporter("__spreadArray", __spreadArray2);
      exporter("__await", __await2);
      exporter("__asyncGenerator", __asyncGenerator2);
      exporter("__asyncDelegator", __asyncDelegator2);
      exporter("__asyncValues", __asyncValues2);
      exporter("__makeTemplateObject", __makeTemplateObject2);
      exporter("__importStar", __importStar2);
      exporter("__importDefault", __importDefault2);
      exporter("__classPrivateFieldGet", __classPrivateFieldGet2);
      exporter("__classPrivateFieldSet", __classPrivateFieldSet2);
    });
  }
});

// node_modules/eventemitter3/index.js
var require_eventemitter3 = __commonJS({
  "node_modules/eventemitter3/index.js"(exports2, module2) {
    "use strict";
    var has = Object.prototype.hasOwnProperty;
    var prefix2 = "~";
    function Events() {
    }
    if (Object.create) {
      Events.prototype = Object.create(null);
      if (!new Events().__proto__)
        prefix2 = false;
    }
    function EE(fn, context, once) {
      this.fn = fn;
      this.context = context;
      this.once = once || false;
    }
    function addListener(emitter, event, fn, context, once) {
      if (typeof fn !== "function") {
        throw new TypeError("The listener must be a function");
      }
      var listener = new EE(fn, context || emitter, once), evt = prefix2 ? prefix2 + event : event;
      if (!emitter._events[evt])
        emitter._events[evt] = listener, emitter._eventsCount++;
      else if (!emitter._events[evt].fn)
        emitter._events[evt].push(listener);
      else
        emitter._events[evt] = [emitter._events[evt], listener];
      return emitter;
    }
    function clearEvent(emitter, evt) {
      if (--emitter._eventsCount === 0)
        emitter._events = new Events();
      else
        delete emitter._events[evt];
    }
    function EventEmitter2() {
      this._events = new Events();
      this._eventsCount = 0;
    }
    EventEmitter2.prototype.eventNames = function eventNames() {
      var names = [], events, name;
      if (this._eventsCount === 0)
        return names;
      for (name in events = this._events) {
        if (has.call(events, name))
          names.push(prefix2 ? name.slice(1) : name);
      }
      if (Object.getOwnPropertySymbols) {
        return names.concat(Object.getOwnPropertySymbols(events));
      }
      return names;
    };
    EventEmitter2.prototype.listeners = function listeners(event) {
      var evt = prefix2 ? prefix2 + event : event, handlers = this._events[evt];
      if (!handlers)
        return [];
      if (handlers.fn)
        return [handlers.fn];
      for (var i3 = 0, l3 = handlers.length, ee = new Array(l3); i3 < l3; i3++) {
        ee[i3] = handlers[i3].fn;
      }
      return ee;
    };
    EventEmitter2.prototype.listenerCount = function listenerCount(event) {
      var evt = prefix2 ? prefix2 + event : event, listeners = this._events[evt];
      if (!listeners)
        return 0;
      if (listeners.fn)
        return 1;
      return listeners.length;
    };
    EventEmitter2.prototype.emit = function emit(event, a1, a22, a32, a4, a5) {
      var evt = prefix2 ? prefix2 + event : event;
      if (!this._events[evt])
        return false;
      var listeners = this._events[evt], len = arguments.length, args, i3;
      if (listeners.fn) {
        if (listeners.once)
          this.removeListener(event, listeners.fn, void 0, true);
        switch (len) {
          case 1:
            return listeners.fn.call(listeners.context), true;
          case 2:
            return listeners.fn.call(listeners.context, a1), true;
          case 3:
            return listeners.fn.call(listeners.context, a1, a22), true;
          case 4:
            return listeners.fn.call(listeners.context, a1, a22, a32), true;
          case 5:
            return listeners.fn.call(listeners.context, a1, a22, a32, a4), true;
          case 6:
            return listeners.fn.call(listeners.context, a1, a22, a32, a4, a5), true;
        }
        for (i3 = 1, args = new Array(len - 1); i3 < len; i3++) {
          args[i3 - 1] = arguments[i3];
        }
        listeners.fn.apply(listeners.context, args);
      } else {
        var length = listeners.length, j;
        for (i3 = 0; i3 < length; i3++) {
          if (listeners[i3].once)
            this.removeListener(event, listeners[i3].fn, void 0, true);
          switch (len) {
            case 1:
              listeners[i3].fn.call(listeners[i3].context);
              break;
            case 2:
              listeners[i3].fn.call(listeners[i3].context, a1);
              break;
            case 3:
              listeners[i3].fn.call(listeners[i3].context, a1, a22);
              break;
            case 4:
              listeners[i3].fn.call(listeners[i3].context, a1, a22, a32);
              break;
            default:
              if (!args)
                for (j = 1, args = new Array(len - 1); j < len; j++) {
                  args[j - 1] = arguments[j];
                }
              listeners[i3].fn.apply(listeners[i3].context, args);
          }
        }
      }
      return true;
    };
    EventEmitter2.prototype.on = function on(event, fn, context) {
      return addListener(this, event, fn, context, false);
    };
    EventEmitter2.prototype.once = function once(event, fn, context) {
      return addListener(this, event, fn, context, true);
    };
    EventEmitter2.prototype.removeListener = function removeListener(event, fn, context, once) {
      var evt = prefix2 ? prefix2 + event : event;
      if (!this._events[evt])
        return this;
      if (!fn) {
        clearEvent(this, evt);
        return this;
      }
      var listeners = this._events[evt];
      if (listeners.fn) {
        if (listeners.fn === fn && (!once || listeners.once) && (!context || listeners.context === context)) {
          clearEvent(this, evt);
        }
      } else {
        for (var i3 = 0, events = [], length = listeners.length; i3 < length; i3++) {
          if (listeners[i3].fn !== fn || once && !listeners[i3].once || context && listeners[i3].context !== context) {
            events.push(listeners[i3]);
          }
        }
        if (events.length)
          this._events[evt] = events.length === 1 ? events[0] : events;
        else
          clearEvent(this, evt);
      }
      return this;
    };
    EventEmitter2.prototype.removeAllListeners = function removeAllListeners(event) {
      var evt;
      if (event) {
        evt = prefix2 ? prefix2 + event : event;
        if (this._events[evt])
          clearEvent(this, evt);
      } else {
        this._events = new Events();
        this._eventsCount = 0;
      }
      return this;
    };
    EventEmitter2.prototype.off = EventEmitter2.prototype.removeListener;
    EventEmitter2.prototype.addListener = EventEmitter2.prototype.on;
    EventEmitter2.prefixed = prefix2;
    EventEmitter2.EventEmitter = EventEmitter2;
    if (typeof module2 !== "undefined") {
      module2.exports = EventEmitter2;
    }
  }
});

// node_modules/ts-pattern/lib/symbols.js
var require_symbols = __commonJS({
  "node_modules/ts-pattern/lib/symbols.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.AnonymousSelect = exports2.NamedSelect = exports2.Not = exports2.Guard = exports2.PatternKind = void 0;
    exports2.PatternKind = Symbol("@ts-pattern/pattern-kind");
    exports2.Guard = Symbol("@ts-pattern/guard");
    exports2.Not = Symbol("@ts-pattern/not");
    exports2.NamedSelect = Symbol("@ts-pattern/named-select");
    exports2.AnonymousSelect = Symbol("@ts-pattern/anonymous-select");
  }
});

// node_modules/ts-pattern/lib/guards.js
var require_guards = __commonJS({
  "node_modules/ts-pattern/lib/guards.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.instanceOf = exports2.select = exports2.ANONYMOUS_SELECT_KEY = exports2.not = exports2.when = void 0;
    var symbols = require_symbols();
    var when = (predicate) => ({
      [symbols.PatternKind]: symbols.Guard,
      [symbols.Guard]: predicate
    });
    exports2.when = when;
    var not = (pattern) => ({
      [symbols.PatternKind]: symbols.Not,
      [symbols.Not]: pattern
    });
    exports2.not = not;
    exports2.ANONYMOUS_SELECT_KEY = "@ts-pattern/__anonymous-select-key";
    function select(key) {
      return key === void 0 ? {
        [symbols.PatternKind]: symbols.AnonymousSelect
      } : {
        [symbols.PatternKind]: symbols.NamedSelect,
        [symbols.NamedSelect]: key
      };
    }
    exports2.select = select;
    function isInstanceOf(classConstructor) {
      return (val) => val instanceof classConstructor;
    }
    var instanceOf3 = (classConstructor) => exports2.when(isInstanceOf(classConstructor));
    exports2.instanceOf = instanceOf3;
  }
});

// node_modules/ts-pattern/lib/wildcards.js
var require_wildcards = __commonJS({
  "node_modules/ts-pattern/lib/wildcards.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.__ = void 0;
    var guards_1 = require_guards();
    function isUnknown(x3) {
      return true;
    }
    function isNumber(x3) {
      return typeof x3 === "number" && !Number.isNaN(x3);
    }
    function isString(x3) {
      return typeof x3 === "string";
    }
    function isBoolean(x3) {
      return typeof x3 === "boolean";
    }
    function isNullish(x3) {
      return x3 === null || x3 === void 0;
    }
    var unknownGuard = guards_1.when(isUnknown);
    var stringGuard = guards_1.when(isString);
    var numberGuard = guards_1.when(isNumber);
    var booleanGuard = guards_1.when(isBoolean);
    var nullishGuard = guards_1.when(isNullish);
    exports2.__ = Object.assign(unknownGuard, {
      string: stringGuard,
      number: numberGuard,
      boolean: booleanGuard,
      nullish: nullishGuard
    });
  }
});

// node_modules/ts-pattern/lib/index.js
var require_lib = __commonJS({
  "node_modules/ts-pattern/lib/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.isMatching = exports2.match = exports2.instanceOf = exports2.select = exports2.not = exports2.when = exports2.__ = void 0;
    var symbols = require_symbols();
    var guards_1 = require_guards();
    Object.defineProperty(exports2, "when", { enumerable: true, get: function() {
      return guards_1.when;
    } });
    Object.defineProperty(exports2, "not", { enumerable: true, get: function() {
      return guards_1.not;
    } });
    Object.defineProperty(exports2, "select", { enumerable: true, get: function() {
      return guards_1.select;
    } });
    Object.defineProperty(exports2, "instanceOf", { enumerable: true, get: function() {
      return guards_1.instanceOf;
    } });
    var wildcards_1 = require_wildcards();
    Object.defineProperty(exports2, "__", { enumerable: true, get: function() {
      return wildcards_1.__;
    } });
    var match9 = (value) => builder(value, []);
    exports2.match = match9;
    var builder = (value, cases) => {
      const run = () => {
        const entry = cases.find(({ test }) => test(value));
        if (!entry) {
          let displayedValue;
          try {
            displayedValue = JSON.stringify(value);
          } catch (e) {
            displayedValue = value;
          }
          throw new Error(`Pattern matching error: no pattern matches value ${displayedValue}`);
        }
        return entry.handler(entry.select(value), value);
      };
      return {
        with(...args) {
          const handler = args[args.length - 1];
          const patterns = [];
          const predicates = [];
          for (let i3 = 0; i3 < args.length - 1; i3++) {
            const arg = args[i3];
            if (typeof arg === "function") {
              predicates.push(arg);
            } else {
              patterns.push(arg);
            }
          }
          let selected = {};
          const doesMatch = (value2) => Boolean(patterns.some((pattern) => matchPattern(pattern, value2, (key, value3) => {
            selected[key] = value3;
          })) && predicates.every((predicate) => predicate(value2)));
          return builder(value, cases.concat([
            {
              test: doesMatch,
              handler,
              select: (value2) => Object.keys(selected).length ? selected[guards_1.ANONYMOUS_SELECT_KEY] !== void 0 ? selected[guards_1.ANONYMOUS_SELECT_KEY] : selected : value2
            }
          ]));
        },
        when: (predicate, handler) => builder(value, cases.concat([
          {
            test: predicate,
            handler,
            select: (value2) => value2
          }
        ])),
        otherwise: (handler) => builder(value, cases.concat([
          {
            test: () => true,
            handler,
            select: (value2) => value2
          }
        ])).run(),
        exhaustive: () => run(),
        run
      };
    };
    var isObject = (value) => Boolean(value && typeof value === "object");
    var isGuardPattern = (x3) => {
      const pattern = x3;
      return pattern && pattern[symbols.PatternKind] === symbols.Guard;
    };
    var isNotPattern = (x3) => {
      const pattern = x3;
      return pattern && pattern[symbols.PatternKind] === symbols.Not;
    };
    var isNamedSelectPattern = (x3) => {
      const pattern = x3;
      return pattern && pattern[symbols.PatternKind] === symbols.NamedSelect;
    };
    var isAnonymousSelectPattern = (x3) => {
      const pattern = x3;
      return pattern && pattern[symbols.PatternKind] === symbols.AnonymousSelect;
    };
    var matchPattern = (pattern, value, select) => {
      if (isObject(pattern)) {
        if (isGuardPattern(pattern))
          return Boolean(pattern[symbols.Guard](value));
        if (isNamedSelectPattern(pattern)) {
          select(pattern[symbols.NamedSelect], value);
          return true;
        }
        if (isAnonymousSelectPattern(pattern)) {
          select(guards_1.ANONYMOUS_SELECT_KEY, value);
          return true;
        }
        if (isNotPattern(pattern))
          return !matchPattern(pattern[symbols.Not], value, select);
        if (!isObject(value))
          return false;
        if (Array.isArray(pattern)) {
          if (!Array.isArray(value))
            return false;
          if (pattern.length === 1) {
            const selected = {};
            const listSelect = (key, value2) => {
              selected[key] = (selected[key] || []).concat([value2]);
            };
            const doesMatch = value.every((v) => matchPattern(pattern[0], v, listSelect));
            if (doesMatch) {
              Object.keys(selected).forEach((key) => select(key, selected[key]));
            }
            return doesMatch;
          }
          return pattern.length === value.length ? pattern.every((subPattern, i3) => matchPattern(subPattern, value[i3], select)) : false;
        }
        if (pattern instanceof Map) {
          if (!(value instanceof Map))
            return false;
          return [...pattern.keys()].every((key) => matchPattern(pattern.get(key), value.get(key), select));
        }
        if (pattern instanceof Set) {
          if (!(value instanceof Set))
            return false;
          if (pattern.size === 0)
            return value.size === 0;
          if (pattern.size === 1) {
            const [subPattern] = [...pattern.values()];
            return Object.values(wildcards_1.__).includes(subPattern) ? matchPattern([subPattern], [...value.values()], select) : value.has(subPattern);
          }
          return [...pattern.values()].every((subPattern) => value.has(subPattern));
        }
        return Object.keys(pattern).every((k2) => k2 in value && matchPattern(pattern[k2], value[k2], select));
      }
      return value === pattern;
    };
    function isMatching(...args) {
      if (args.length === 1) {
        const [pattern] = args;
        return (value) => matchPattern(pattern, value, () => {
        });
      }
      if (args.length === 2) {
        const [pattern, value] = args;
        return matchPattern(pattern, value, () => {
        });
      }
      throw new Error(`isMatching wasn't given enough arguments: expected 1 or 2, received ${args.length}.`);
    }
    exports2.isMatching = isMatching;
  }
});

// node_modules/luxon/build/cjs-browser/luxon.js
var require_luxon = __commonJS({
  "node_modules/luxon/build/cjs-browser/luxon.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    function _defineProperties3(target, props) {
      for (var i3 = 0; i3 < props.length; i3++) {
        var descriptor = props[i3];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }
    function _createClass3(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties3(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties3(Constructor, staticProps);
      return Constructor;
    }
    function _extends6() {
      _extends6 = Object.assign || function(target) {
        for (var i3 = 1; i3 < arguments.length; i3++) {
          var source = arguments[i3];
          for (var key in source) {
            if (Object.prototype.hasOwnProperty.call(source, key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      };
      return _extends6.apply(this, arguments);
    }
    function _inheritsLoose(subClass, superClass) {
      subClass.prototype = Object.create(superClass.prototype);
      subClass.prototype.constructor = subClass;
      _setPrototypeOf2(subClass, superClass);
    }
    function _getPrototypeOf2(o2) {
      _getPrototypeOf2 = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf3(o3) {
        return o3.__proto__ || Object.getPrototypeOf(o3);
      };
      return _getPrototypeOf2(o2);
    }
    function _setPrototypeOf2(o2, p2) {
      _setPrototypeOf2 = Object.setPrototypeOf || function _setPrototypeOf3(o3, p3) {
        o3.__proto__ = p3;
        return o3;
      };
      return _setPrototypeOf2(o2, p2);
    }
    function _isNativeReflectConstruct2() {
      if (typeof Reflect === "undefined" || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if (typeof Proxy === "function")
        return true;
      try {
        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        }));
        return true;
      } catch (e) {
        return false;
      }
    }
    function _construct2(Parent, args, Class) {
      if (_isNativeReflectConstruct2()) {
        _construct2 = Reflect.construct;
      } else {
        _construct2 = function _construct3(Parent2, args2, Class2) {
          var a4 = [null];
          a4.push.apply(a4, args2);
          var Constructor = Function.bind.apply(Parent2, a4);
          var instance = new Constructor();
          if (Class2)
            _setPrototypeOf2(instance, Class2.prototype);
          return instance;
        };
      }
      return _construct2.apply(null, arguments);
    }
    function _isNativeFunction2(fn) {
      return Function.toString.call(fn).indexOf("[native code]") !== -1;
    }
    function _wrapNativeSuper2(Class) {
      var _cache = typeof Map === "function" ? new Map() : void 0;
      _wrapNativeSuper2 = function _wrapNativeSuper3(Class2) {
        if (Class2 === null || !_isNativeFunction2(Class2))
          return Class2;
        if (typeof Class2 !== "function") {
          throw new TypeError("Super expression must either be null or a function");
        }
        if (typeof _cache !== "undefined") {
          if (_cache.has(Class2))
            return _cache.get(Class2);
          _cache.set(Class2, Wrapper);
        }
        function Wrapper() {
          return _construct2(Class2, arguments, _getPrototypeOf2(this).constructor);
        }
        Wrapper.prototype = Object.create(Class2.prototype, {
          constructor: {
            value: Wrapper,
            enumerable: false,
            writable: true,
            configurable: true
          }
        });
        return _setPrototypeOf2(Wrapper, Class2);
      };
      return _wrapNativeSuper2(Class);
    }
    function _objectWithoutPropertiesLoose(source, excluded) {
      if (source == null)
        return {};
      var target = {};
      var sourceKeys = Object.keys(source);
      var key, i3;
      for (i3 = 0; i3 < sourceKeys.length; i3++) {
        key = sourceKeys[i3];
        if (excluded.indexOf(key) >= 0)
          continue;
        target[key] = source[key];
      }
      return target;
    }
    function _unsupportedIterableToArray(o2, minLen) {
      if (!o2)
        return;
      if (typeof o2 === "string")
        return _arrayLikeToArray(o2, minLen);
      var n3 = Object.prototype.toString.call(o2).slice(8, -1);
      if (n3 === "Object" && o2.constructor)
        n3 = o2.constructor.name;
      if (n3 === "Map" || n3 === "Set")
        return Array.from(o2);
      if (n3 === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3))
        return _arrayLikeToArray(o2, minLen);
    }
    function _arrayLikeToArray(arr, len) {
      if (len == null || len > arr.length)
        len = arr.length;
      for (var i3 = 0, arr2 = new Array(len); i3 < len; i3++)
        arr2[i3] = arr[i3];
      return arr2;
    }
    function _createForOfIteratorHelperLoose(o2, allowArrayLike) {
      var it = typeof Symbol !== "undefined" && o2[Symbol.iterator] || o2["@@iterator"];
      if (it)
        return (it = it.call(o2)).next.bind(it);
      if (Array.isArray(o2) || (it = _unsupportedIterableToArray(o2)) || allowArrayLike && o2 && typeof o2.length === "number") {
        if (it)
          o2 = it;
        var i3 = 0;
        return function() {
          if (i3 >= o2.length)
            return {
              done: true
            };
          return {
            done: false,
            value: o2[i3++]
          };
        };
      }
      throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    var LuxonError = /* @__PURE__ */ function(_Error) {
      _inheritsLoose(LuxonError2, _Error);
      function LuxonError2() {
        return _Error.apply(this, arguments) || this;
      }
      return LuxonError2;
    }(/* @__PURE__ */ _wrapNativeSuper2(Error));
    var InvalidDateTimeError = /* @__PURE__ */ function(_LuxonError) {
      _inheritsLoose(InvalidDateTimeError2, _LuxonError);
      function InvalidDateTimeError2(reason) {
        return _LuxonError.call(this, "Invalid DateTime: " + reason.toMessage()) || this;
      }
      return InvalidDateTimeError2;
    }(LuxonError);
    var InvalidIntervalError = /* @__PURE__ */ function(_LuxonError2) {
      _inheritsLoose(InvalidIntervalError2, _LuxonError2);
      function InvalidIntervalError2(reason) {
        return _LuxonError2.call(this, "Invalid Interval: " + reason.toMessage()) || this;
      }
      return InvalidIntervalError2;
    }(LuxonError);
    var InvalidDurationError = /* @__PURE__ */ function(_LuxonError3) {
      _inheritsLoose(InvalidDurationError2, _LuxonError3);
      function InvalidDurationError2(reason) {
        return _LuxonError3.call(this, "Invalid Duration: " + reason.toMessage()) || this;
      }
      return InvalidDurationError2;
    }(LuxonError);
    var ConflictingSpecificationError = /* @__PURE__ */ function(_LuxonError4) {
      _inheritsLoose(ConflictingSpecificationError2, _LuxonError4);
      function ConflictingSpecificationError2() {
        return _LuxonError4.apply(this, arguments) || this;
      }
      return ConflictingSpecificationError2;
    }(LuxonError);
    var InvalidUnitError = /* @__PURE__ */ function(_LuxonError5) {
      _inheritsLoose(InvalidUnitError2, _LuxonError5);
      function InvalidUnitError2(unit) {
        return _LuxonError5.call(this, "Invalid unit " + unit) || this;
      }
      return InvalidUnitError2;
    }(LuxonError);
    var InvalidArgumentError = /* @__PURE__ */ function(_LuxonError6) {
      _inheritsLoose(InvalidArgumentError2, _LuxonError6);
      function InvalidArgumentError2() {
        return _LuxonError6.apply(this, arguments) || this;
      }
      return InvalidArgumentError2;
    }(LuxonError);
    var ZoneIsAbstractError = /* @__PURE__ */ function(_LuxonError7) {
      _inheritsLoose(ZoneIsAbstractError2, _LuxonError7);
      function ZoneIsAbstractError2() {
        return _LuxonError7.call(this, "Zone is an abstract class") || this;
      }
      return ZoneIsAbstractError2;
    }(LuxonError);
    var n2 = "numeric";
    var s3 = "short";
    var l3 = "long";
    var DATE_SHORT = {
      year: n2,
      month: n2,
      day: n2
    };
    var DATE_MED = {
      year: n2,
      month: s3,
      day: n2
    };
    var DATE_MED_WITH_WEEKDAY = {
      year: n2,
      month: s3,
      day: n2,
      weekday: s3
    };
    var DATE_FULL = {
      year: n2,
      month: l3,
      day: n2
    };
    var DATE_HUGE = {
      year: n2,
      month: l3,
      day: n2,
      weekday: l3
    };
    var TIME_SIMPLE = {
      hour: n2,
      minute: n2
    };
    var TIME_WITH_SECONDS = {
      hour: n2,
      minute: n2,
      second: n2
    };
    var TIME_WITH_SHORT_OFFSET = {
      hour: n2,
      minute: n2,
      second: n2,
      timeZoneName: s3
    };
    var TIME_WITH_LONG_OFFSET = {
      hour: n2,
      minute: n2,
      second: n2,
      timeZoneName: l3
    };
    var TIME_24_SIMPLE = {
      hour: n2,
      minute: n2,
      hourCycle: "h23"
    };
    var TIME_24_WITH_SECONDS = {
      hour: n2,
      minute: n2,
      second: n2,
      hourCycle: "h23"
    };
    var TIME_24_WITH_SHORT_OFFSET = {
      hour: n2,
      minute: n2,
      second: n2,
      hourCycle: "h23",
      timeZoneName: s3
    };
    var TIME_24_WITH_LONG_OFFSET = {
      hour: n2,
      minute: n2,
      second: n2,
      hourCycle: "h23",
      timeZoneName: l3
    };
    var DATETIME_SHORT = {
      year: n2,
      month: n2,
      day: n2,
      hour: n2,
      minute: n2
    };
    var DATETIME_SHORT_WITH_SECONDS = {
      year: n2,
      month: n2,
      day: n2,
      hour: n2,
      minute: n2,
      second: n2
    };
    var DATETIME_MED = {
      year: n2,
      month: s3,
      day: n2,
      hour: n2,
      minute: n2
    };
    var DATETIME_MED_WITH_SECONDS = {
      year: n2,
      month: s3,
      day: n2,
      hour: n2,
      minute: n2,
      second: n2
    };
    var DATETIME_MED_WITH_WEEKDAY = {
      year: n2,
      month: s3,
      day: n2,
      weekday: s3,
      hour: n2,
      minute: n2
    };
    var DATETIME_FULL = {
      year: n2,
      month: l3,
      day: n2,
      hour: n2,
      minute: n2,
      timeZoneName: s3
    };
    var DATETIME_FULL_WITH_SECONDS = {
      year: n2,
      month: l3,
      day: n2,
      hour: n2,
      minute: n2,
      second: n2,
      timeZoneName: s3
    };
    var DATETIME_HUGE = {
      year: n2,
      month: l3,
      day: n2,
      weekday: l3,
      hour: n2,
      minute: n2,
      timeZoneName: l3
    };
    var DATETIME_HUGE_WITH_SECONDS = {
      year: n2,
      month: l3,
      day: n2,
      weekday: l3,
      hour: n2,
      minute: n2,
      second: n2,
      timeZoneName: l3
    };
    function isUndefined(o2) {
      return typeof o2 === "undefined";
    }
    function isNumber(o2) {
      return typeof o2 === "number";
    }
    function isInteger(o2) {
      return typeof o2 === "number" && o2 % 1 === 0;
    }
    function isString(o2) {
      return typeof o2 === "string";
    }
    function isDate(o2) {
      return Object.prototype.toString.call(o2) === "[object Date]";
    }
    function hasRelative() {
      try {
        return typeof Intl !== "undefined" && !!Intl.RelativeTimeFormat;
      } catch (e) {
        return false;
      }
    }
    function maybeArray(thing) {
      return Array.isArray(thing) ? thing : [thing];
    }
    function bestBy(arr, by, compare) {
      if (arr.length === 0) {
        return void 0;
      }
      return arr.reduce(function(best, next) {
        var pair = [by(next), next];
        if (!best) {
          return pair;
        } else if (compare(best[0], pair[0]) === best[0]) {
          return best;
        } else {
          return pair;
        }
      }, null)[1];
    }
    function pick(obj, keys) {
      return keys.reduce(function(a4, k2) {
        a4[k2] = obj[k2];
        return a4;
      }, {});
    }
    function hasOwnProperty(obj, prop) {
      return Object.prototype.hasOwnProperty.call(obj, prop);
    }
    function integerBetween(thing, bottom, top) {
      return isInteger(thing) && thing >= bottom && thing <= top;
    }
    function floorMod(x3, n3) {
      return x3 - n3 * Math.floor(x3 / n3);
    }
    function padStart(input, n3) {
      if (n3 === void 0) {
        n3 = 2;
      }
      var minus = input < 0 ? "-" : "";
      var target = minus ? input * -1 : input;
      var result;
      if (target.toString().length < n3) {
        result = ("0".repeat(n3) + target).slice(-n3);
      } else {
        result = target.toString();
      }
      return "" + minus + result;
    }
    function parseInteger(string) {
      if (isUndefined(string) || string === null || string === "") {
        return void 0;
      } else {
        return parseInt(string, 10);
      }
    }
    function parseMillis(fraction) {
      if (isUndefined(fraction) || fraction === null || fraction === "") {
        return void 0;
      } else {
        var f2 = parseFloat("0." + fraction) * 1e3;
        return Math.floor(f2);
      }
    }
    function roundTo(number, digits, towardZero) {
      if (towardZero === void 0) {
        towardZero = false;
      }
      var factor = Math.pow(10, digits), rounder = towardZero ? Math.trunc : Math.round;
      return rounder(number * factor) / factor;
    }
    function isLeapYear(year) {
      return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);
    }
    function daysInYear(year) {
      return isLeapYear(year) ? 366 : 365;
    }
    function daysInMonth(year, month) {
      var modMonth = floorMod(month - 1, 12) + 1, modYear = year + (month - modMonth) / 12;
      if (modMonth === 2) {
        return isLeapYear(modYear) ? 29 : 28;
      } else {
        return [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][modMonth - 1];
      }
    }
    function objToLocalTS(obj) {
      var d2 = Date.UTC(obj.year, obj.month - 1, obj.day, obj.hour, obj.minute, obj.second, obj.millisecond);
      if (obj.year < 100 && obj.year >= 0) {
        d2 = new Date(d2);
        d2.setUTCFullYear(d2.getUTCFullYear() - 1900);
      }
      return +d2;
    }
    function weeksInWeekYear(weekYear) {
      var p1 = (weekYear + Math.floor(weekYear / 4) - Math.floor(weekYear / 100) + Math.floor(weekYear / 400)) % 7, last = weekYear - 1, p2 = (last + Math.floor(last / 4) - Math.floor(last / 100) + Math.floor(last / 400)) % 7;
      return p1 === 4 || p2 === 3 ? 53 : 52;
    }
    function untruncateYear(year) {
      if (year > 99) {
        return year;
      } else
        return year > 60 ? 1900 + year : 2e3 + year;
    }
    function parseZoneInfo(ts, offsetFormat, locale, timeZone) {
      if (timeZone === void 0) {
        timeZone = null;
      }
      var date = new Date(ts), intlOpts = {
        hourCycle: "h23",
        year: "numeric",
        month: "2-digit",
        day: "2-digit",
        hour: "2-digit",
        minute: "2-digit"
      };
      if (timeZone) {
        intlOpts.timeZone = timeZone;
      }
      var modified = _extends6({
        timeZoneName: offsetFormat
      }, intlOpts);
      var parsed = new Intl.DateTimeFormat(locale, modified).formatToParts(date).find(function(m2) {
        return m2.type.toLowerCase() === "timezonename";
      });
      return parsed ? parsed.value : null;
    }
    function signedOffset(offHourStr, offMinuteStr) {
      var offHour = parseInt(offHourStr, 10);
      if (Number.isNaN(offHour)) {
        offHour = 0;
      }
      var offMin = parseInt(offMinuteStr, 10) || 0, offMinSigned = offHour < 0 || Object.is(offHour, -0) ? -offMin : offMin;
      return offHour * 60 + offMinSigned;
    }
    function asNumber(value) {
      var numericValue = Number(value);
      if (typeof value === "boolean" || value === "" || Number.isNaN(numericValue))
        throw new InvalidArgumentError("Invalid unit value " + value);
      return numericValue;
    }
    function normalizeObject(obj, normalizer) {
      var normalized = {};
      for (var u4 in obj) {
        if (hasOwnProperty(obj, u4)) {
          var v = obj[u4];
          if (v === void 0 || v === null)
            continue;
          normalized[normalizer(u4)] = asNumber(v);
        }
      }
      return normalized;
    }
    function formatOffset(offset2, format) {
      var hours = Math.trunc(Math.abs(offset2 / 60)), minutes = Math.trunc(Math.abs(offset2 % 60)), sign = offset2 >= 0 ? "+" : "-";
      switch (format) {
        case "short":
          return "" + sign + padStart(hours, 2) + ":" + padStart(minutes, 2);
        case "narrow":
          return "" + sign + hours + (minutes > 0 ? ":" + minutes : "");
        case "techie":
          return "" + sign + padStart(hours, 2) + padStart(minutes, 2);
        default:
          throw new RangeError("Value format " + format + " is out of range for property format");
      }
    }
    function timeObject(obj) {
      return pick(obj, ["hour", "minute", "second", "millisecond"]);
    }
    var ianaRegex = /[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;
    var monthsLong = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    var monthsShort = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
    var monthsNarrow = ["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"];
    function months(length) {
      switch (length) {
        case "narrow":
          return [].concat(monthsNarrow);
        case "short":
          return [].concat(monthsShort);
        case "long":
          return [].concat(monthsLong);
        case "numeric":
          return ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"];
        case "2-digit":
          return ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"];
        default:
          return null;
      }
    }
    var weekdaysLong = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"];
    var weekdaysShort = ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"];
    var weekdaysNarrow = ["M", "T", "W", "T", "F", "S", "S"];
    function weekdays(length) {
      switch (length) {
        case "narrow":
          return [].concat(weekdaysNarrow);
        case "short":
          return [].concat(weekdaysShort);
        case "long":
          return [].concat(weekdaysLong);
        case "numeric":
          return ["1", "2", "3", "4", "5", "6", "7"];
        default:
          return null;
      }
    }
    var meridiems = ["AM", "PM"];
    var erasLong = ["Before Christ", "Anno Domini"];
    var erasShort = ["BC", "AD"];
    var erasNarrow = ["B", "A"];
    function eras(length) {
      switch (length) {
        case "narrow":
          return [].concat(erasNarrow);
        case "short":
          return [].concat(erasShort);
        case "long":
          return [].concat(erasLong);
        default:
          return null;
      }
    }
    function meridiemForDateTime(dt) {
      return meridiems[dt.hour < 12 ? 0 : 1];
    }
    function weekdayForDateTime(dt, length) {
      return weekdays(length)[dt.weekday - 1];
    }
    function monthForDateTime(dt, length) {
      return months(length)[dt.month - 1];
    }
    function eraForDateTime(dt, length) {
      return eras(length)[dt.year < 0 ? 0 : 1];
    }
    function formatRelativeTime(unit, count, numeric, narrow) {
      if (numeric === void 0) {
        numeric = "always";
      }
      if (narrow === void 0) {
        narrow = false;
      }
      var units = {
        years: ["year", "yr."],
        quarters: ["quarter", "qtr."],
        months: ["month", "mo."],
        weeks: ["week", "wk."],
        days: ["day", "day", "days"],
        hours: ["hour", "hr."],
        minutes: ["minute", "min."],
        seconds: ["second", "sec."]
      };
      var lastable = ["hours", "minutes", "seconds"].indexOf(unit) === -1;
      if (numeric === "auto" && lastable) {
        var isDay = unit === "days";
        switch (count) {
          case 1:
            return isDay ? "tomorrow" : "next " + units[unit][0];
          case -1:
            return isDay ? "yesterday" : "last " + units[unit][0];
          case 0:
            return isDay ? "today" : "this " + units[unit][0];
        }
      }
      var isInPast = Object.is(count, -0) || count < 0, fmtValue = Math.abs(count), singular = fmtValue === 1, lilUnits = units[unit], fmtUnit = narrow ? singular ? lilUnits[1] : lilUnits[2] || lilUnits[1] : singular ? units[unit][0] : unit;
      return isInPast ? fmtValue + " " + fmtUnit + " ago" : "in " + fmtValue + " " + fmtUnit;
    }
    function stringifyTokens(splits, tokenToString) {
      var s4 = "";
      for (var _iterator = _createForOfIteratorHelperLoose(splits), _step; !(_step = _iterator()).done; ) {
        var token = _step.value;
        if (token.literal) {
          s4 += token.val;
        } else {
          s4 += tokenToString(token.val);
        }
      }
      return s4;
    }
    var _macroTokenToFormatOpts = {
      D: DATE_SHORT,
      DD: DATE_MED,
      DDD: DATE_FULL,
      DDDD: DATE_HUGE,
      t: TIME_SIMPLE,
      tt: TIME_WITH_SECONDS,
      ttt: TIME_WITH_SHORT_OFFSET,
      tttt: TIME_WITH_LONG_OFFSET,
      T: TIME_24_SIMPLE,
      TT: TIME_24_WITH_SECONDS,
      TTT: TIME_24_WITH_SHORT_OFFSET,
      TTTT: TIME_24_WITH_LONG_OFFSET,
      f: DATETIME_SHORT,
      ff: DATETIME_MED,
      fff: DATETIME_FULL,
      ffff: DATETIME_HUGE,
      F: DATETIME_SHORT_WITH_SECONDS,
      FF: DATETIME_MED_WITH_SECONDS,
      FFF: DATETIME_FULL_WITH_SECONDS,
      FFFF: DATETIME_HUGE_WITH_SECONDS
    };
    var Formatter = /* @__PURE__ */ function() {
      Formatter2.create = function create(locale, opts) {
        if (opts === void 0) {
          opts = {};
        }
        return new Formatter2(locale, opts);
      };
      Formatter2.parseFormat = function parseFormat(fmt) {
        var current = null, currentFull = "", bracketed = false;
        var splits = [];
        for (var i3 = 0; i3 < fmt.length; i3++) {
          var c3 = fmt.charAt(i3);
          if (c3 === "'") {
            if (currentFull.length > 0) {
              splits.push({
                literal: bracketed,
                val: currentFull
              });
            }
            current = null;
            currentFull = "";
            bracketed = !bracketed;
          } else if (bracketed) {
            currentFull += c3;
          } else if (c3 === current) {
            currentFull += c3;
          } else {
            if (currentFull.length > 0) {
              splits.push({
                literal: false,
                val: currentFull
              });
            }
            currentFull = c3;
            current = c3;
          }
        }
        if (currentFull.length > 0) {
          splits.push({
            literal: bracketed,
            val: currentFull
          });
        }
        return splits;
      };
      Formatter2.macroTokenToFormatOpts = function macroTokenToFormatOpts(token) {
        return _macroTokenToFormatOpts[token];
      };
      function Formatter2(locale, formatOpts) {
        this.opts = formatOpts;
        this.loc = locale;
        this.systemLoc = null;
      }
      var _proto = Formatter2.prototype;
      _proto.formatWithSystemDefault = function formatWithSystemDefault(dt, opts) {
        if (this.systemLoc === null) {
          this.systemLoc = this.loc.redefaultToSystem();
        }
        var df = this.systemLoc.dtFormatter(dt, _extends6({}, this.opts, opts));
        return df.format();
      };
      _proto.formatDateTime = function formatDateTime(dt, opts) {
        if (opts === void 0) {
          opts = {};
        }
        var df = this.loc.dtFormatter(dt, _extends6({}, this.opts, opts));
        return df.format();
      };
      _proto.formatDateTimeParts = function formatDateTimeParts(dt, opts) {
        if (opts === void 0) {
          opts = {};
        }
        var df = this.loc.dtFormatter(dt, _extends6({}, this.opts, opts));
        return df.formatToParts();
      };
      _proto.resolvedOptions = function resolvedOptions(dt, opts) {
        if (opts === void 0) {
          opts = {};
        }
        var df = this.loc.dtFormatter(dt, _extends6({}, this.opts, opts));
        return df.resolvedOptions();
      };
      _proto.num = function num(n3, p2) {
        if (p2 === void 0) {
          p2 = 0;
        }
        if (this.opts.forceSimple) {
          return padStart(n3, p2);
        }
        var opts = _extends6({}, this.opts);
        if (p2 > 0) {
          opts.padTo = p2;
        }
        return this.loc.numberFormatter(opts).format(n3);
      };
      _proto.formatDateTimeFromString = function formatDateTimeFromString(dt, fmt) {
        var _this = this;
        var knownEnglish = this.loc.listingMode() === "en", useDateTimeFormatter = this.loc.outputCalendar && this.loc.outputCalendar !== "gregory", string = function string2(opts, extract) {
          return _this.loc.extract(dt, opts, extract);
        }, formatOffset2 = function formatOffset3(opts) {
          if (dt.isOffsetFixed && dt.offset === 0 && opts.allowZ) {
            return "Z";
          }
          return dt.isValid ? dt.zone.formatOffset(dt.ts, opts.format) : "";
        }, meridiem = function meridiem2() {
          return knownEnglish ? meridiemForDateTime(dt) : string({
            hour: "numeric",
            hourCycle: "h12"
          }, "dayperiod");
        }, month = function month2(length, standalone) {
          return knownEnglish ? monthForDateTime(dt, length) : string(standalone ? {
            month: length
          } : {
            month: length,
            day: "numeric"
          }, "month");
        }, weekday = function weekday2(length, standalone) {
          return knownEnglish ? weekdayForDateTime(dt, length) : string(standalone ? {
            weekday: length
          } : {
            weekday: length,
            month: "long",
            day: "numeric"
          }, "weekday");
        }, maybeMacro = function maybeMacro2(token) {
          var formatOpts = Formatter2.macroTokenToFormatOpts(token);
          if (formatOpts) {
            return _this.formatWithSystemDefault(dt, formatOpts);
          } else {
            return token;
          }
        }, era = function era2(length) {
          return knownEnglish ? eraForDateTime(dt, length) : string({
            era: length
          }, "era");
        }, tokenToString = function tokenToString2(token) {
          switch (token) {
            case "S":
              return _this.num(dt.millisecond);
            case "u":
            case "SSS":
              return _this.num(dt.millisecond, 3);
            case "s":
              return _this.num(dt.second);
            case "ss":
              return _this.num(dt.second, 2);
            case "m":
              return _this.num(dt.minute);
            case "mm":
              return _this.num(dt.minute, 2);
            case "h":
              return _this.num(dt.hour % 12 === 0 ? 12 : dt.hour % 12);
            case "hh":
              return _this.num(dt.hour % 12 === 0 ? 12 : dt.hour % 12, 2);
            case "H":
              return _this.num(dt.hour);
            case "HH":
              return _this.num(dt.hour, 2);
            case "Z":
              return formatOffset2({
                format: "narrow",
                allowZ: _this.opts.allowZ
              });
            case "ZZ":
              return formatOffset2({
                format: "short",
                allowZ: _this.opts.allowZ
              });
            case "ZZZ":
              return formatOffset2({
                format: "techie",
                allowZ: _this.opts.allowZ
              });
            case "ZZZZ":
              return dt.zone.offsetName(dt.ts, {
                format: "short",
                locale: _this.loc.locale
              });
            case "ZZZZZ":
              return dt.zone.offsetName(dt.ts, {
                format: "long",
                locale: _this.loc.locale
              });
            case "z":
              return dt.zoneName;
            case "a":
              return meridiem();
            case "d":
              return useDateTimeFormatter ? string({
                day: "numeric"
              }, "day") : _this.num(dt.day);
            case "dd":
              return useDateTimeFormatter ? string({
                day: "2-digit"
              }, "day") : _this.num(dt.day, 2);
            case "c":
              return _this.num(dt.weekday);
            case "ccc":
              return weekday("short", true);
            case "cccc":
              return weekday("long", true);
            case "ccccc":
              return weekday("narrow", true);
            case "E":
              return _this.num(dt.weekday);
            case "EEE":
              return weekday("short", false);
            case "EEEE":
              return weekday("long", false);
            case "EEEEE":
              return weekday("narrow", false);
            case "L":
              return useDateTimeFormatter ? string({
                month: "numeric",
                day: "numeric"
              }, "month") : _this.num(dt.month);
            case "LL":
              return useDateTimeFormatter ? string({
                month: "2-digit",
                day: "numeric"
              }, "month") : _this.num(dt.month, 2);
            case "LLL":
              return month("short", true);
            case "LLLL":
              return month("long", true);
            case "LLLLL":
              return month("narrow", true);
            case "M":
              return useDateTimeFormatter ? string({
                month: "numeric"
              }, "month") : _this.num(dt.month);
            case "MM":
              return useDateTimeFormatter ? string({
                month: "2-digit"
              }, "month") : _this.num(dt.month, 2);
            case "MMM":
              return month("short", false);
            case "MMMM":
              return month("long", false);
            case "MMMMM":
              return month("narrow", false);
            case "y":
              return useDateTimeFormatter ? string({
                year: "numeric"
              }, "year") : _this.num(dt.year);
            case "yy":
              return useDateTimeFormatter ? string({
                year: "2-digit"
              }, "year") : _this.num(dt.year.toString().slice(-2), 2);
            case "yyyy":
              return useDateTimeFormatter ? string({
                year: "numeric"
              }, "year") : _this.num(dt.year, 4);
            case "yyyyyy":
              return useDateTimeFormatter ? string({
                year: "numeric"
              }, "year") : _this.num(dt.year, 6);
            case "G":
              return era("short");
            case "GG":
              return era("long");
            case "GGGGG":
              return era("narrow");
            case "kk":
              return _this.num(dt.weekYear.toString().slice(-2), 2);
            case "kkkk":
              return _this.num(dt.weekYear, 4);
            case "W":
              return _this.num(dt.weekNumber);
            case "WW":
              return _this.num(dt.weekNumber, 2);
            case "o":
              return _this.num(dt.ordinal);
            case "ooo":
              return _this.num(dt.ordinal, 3);
            case "q":
              return _this.num(dt.quarter);
            case "qq":
              return _this.num(dt.quarter, 2);
            case "X":
              return _this.num(Math.floor(dt.ts / 1e3));
            case "x":
              return _this.num(dt.ts);
            default:
              return maybeMacro(token);
          }
        };
        return stringifyTokens(Formatter2.parseFormat(fmt), tokenToString);
      };
      _proto.formatDurationFromString = function formatDurationFromString(dur, fmt) {
        var _this2 = this;
        var tokenToField = function tokenToField2(token) {
          switch (token[0]) {
            case "S":
              return "millisecond";
            case "s":
              return "second";
            case "m":
              return "minute";
            case "h":
              return "hour";
            case "d":
              return "day";
            case "M":
              return "month";
            case "y":
              return "year";
            default:
              return null;
          }
        }, tokenToString = function tokenToString2(lildur) {
          return function(token) {
            var mapped = tokenToField(token);
            if (mapped) {
              return _this2.num(lildur.get(mapped), token.length);
            } else {
              return token;
            }
          };
        }, tokens = Formatter2.parseFormat(fmt), realTokens = tokens.reduce(function(found, _ref) {
          var literal = _ref.literal, val = _ref.val;
          return literal ? found : found.concat(val);
        }, []), collapsed = dur.shiftTo.apply(dur, realTokens.map(tokenToField).filter(function(t2) {
          return t2;
        }));
        return stringifyTokens(tokens, tokenToString(collapsed));
      };
      return Formatter2;
    }();
    var Invalid = /* @__PURE__ */ function() {
      function Invalid2(reason, explanation) {
        this.reason = reason;
        this.explanation = explanation;
      }
      var _proto = Invalid2.prototype;
      _proto.toMessage = function toMessage() {
        if (this.explanation) {
          return this.reason + ": " + this.explanation;
        } else {
          return this.reason;
        }
      };
      return Invalid2;
    }();
    var Zone = /* @__PURE__ */ function() {
      function Zone2() {
      }
      var _proto = Zone2.prototype;
      _proto.offsetName = function offsetName(ts, opts) {
        throw new ZoneIsAbstractError();
      };
      _proto.formatOffset = function formatOffset2(ts, format) {
        throw new ZoneIsAbstractError();
      };
      _proto.offset = function offset2(ts) {
        throw new ZoneIsAbstractError();
      };
      _proto.equals = function equals(otherZone) {
        throw new ZoneIsAbstractError();
      };
      _createClass3(Zone2, [{
        key: "type",
        get: function get() {
          throw new ZoneIsAbstractError();
        }
      }, {
        key: "name",
        get: function get() {
          throw new ZoneIsAbstractError();
        }
      }, {
        key: "isUniversal",
        get: function get() {
          throw new ZoneIsAbstractError();
        }
      }, {
        key: "isValid",
        get: function get() {
          throw new ZoneIsAbstractError();
        }
      }]);
      return Zone2;
    }();
    var singleton$1 = null;
    var SystemZone = /* @__PURE__ */ function(_Zone) {
      _inheritsLoose(SystemZone2, _Zone);
      function SystemZone2() {
        return _Zone.apply(this, arguments) || this;
      }
      var _proto = SystemZone2.prototype;
      _proto.offsetName = function offsetName(ts, _ref) {
        var format = _ref.format, locale = _ref.locale;
        return parseZoneInfo(ts, format, locale);
      };
      _proto.formatOffset = function formatOffset$1(ts, format) {
        return formatOffset(this.offset(ts), format);
      };
      _proto.offset = function offset2(ts) {
        return -new Date(ts).getTimezoneOffset();
      };
      _proto.equals = function equals(otherZone) {
        return otherZone.type === "system";
      };
      _createClass3(SystemZone2, [{
        key: "type",
        get: function get() {
          return "system";
        }
      }, {
        key: "name",
        get: function get() {
          return new Intl.DateTimeFormat().resolvedOptions().timeZone;
        }
      }, {
        key: "isUniversal",
        get: function get() {
          return false;
        }
      }, {
        key: "isValid",
        get: function get() {
          return true;
        }
      }], [{
        key: "instance",
        get: function get() {
          if (singleton$1 === null) {
            singleton$1 = new SystemZone2();
          }
          return singleton$1;
        }
      }]);
      return SystemZone2;
    }(Zone);
    var matchingRegex = RegExp("^" + ianaRegex.source + "$");
    var dtfCache = {};
    function makeDTF(zone) {
      if (!dtfCache[zone]) {
        dtfCache[zone] = new Intl.DateTimeFormat("en-US", {
          hourCycle: "h23",
          timeZone: zone,
          year: "numeric",
          month: "2-digit",
          day: "2-digit",
          hour: "2-digit",
          minute: "2-digit",
          second: "2-digit"
        });
      }
      return dtfCache[zone];
    }
    var typeToPos = {
      year: 0,
      month: 1,
      day: 2,
      hour: 3,
      minute: 4,
      second: 5
    };
    function hackyOffset(dtf, date) {
      var formatted = dtf.format(date).replace(/\u200E/g, ""), parsed = /(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(formatted), fMonth = parsed[1], fDay = parsed[2], fYear = parsed[3], fHour = parsed[4], fMinute = parsed[5], fSecond = parsed[6];
      return [fYear, fMonth, fDay, fHour, fMinute, fSecond];
    }
    function partsOffset(dtf, date) {
      var formatted = dtf.formatToParts(date), filled = [];
      for (var i3 = 0; i3 < formatted.length; i3++) {
        var _formatted$i = formatted[i3], type = _formatted$i.type, value = _formatted$i.value, pos = typeToPos[type];
        if (!isUndefined(pos)) {
          filled[pos] = parseInt(value, 10);
        }
      }
      return filled;
    }
    var ianaZoneCache = {};
    var IANAZone = /* @__PURE__ */ function(_Zone) {
      _inheritsLoose(IANAZone2, _Zone);
      IANAZone2.create = function create(name) {
        if (!ianaZoneCache[name]) {
          ianaZoneCache[name] = new IANAZone2(name);
        }
        return ianaZoneCache[name];
      };
      IANAZone2.resetCache = function resetCache() {
        ianaZoneCache = {};
        dtfCache = {};
      };
      IANAZone2.isValidSpecifier = function isValidSpecifier(s4) {
        return !!(s4 && s4.match(matchingRegex));
      };
      IANAZone2.isValidZone = function isValidZone(zone) {
        try {
          new Intl.DateTimeFormat("en-US", {
            timeZone: zone
          }).format();
          return true;
        } catch (e) {
          return false;
        }
      };
      IANAZone2.parseGMTOffset = function parseGMTOffset(specifier) {
        if (specifier) {
          var match10 = specifier.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);
          if (match10) {
            return -60 * parseInt(match10[1]);
          }
        }
        return null;
      };
      function IANAZone2(name) {
        var _this;
        _this = _Zone.call(this) || this;
        _this.zoneName = name;
        _this.valid = IANAZone2.isValidZone(name);
        return _this;
      }
      var _proto = IANAZone2.prototype;
      _proto.offsetName = function offsetName(ts, _ref) {
        var format = _ref.format, locale = _ref.locale;
        return parseZoneInfo(ts, format, locale, this.name);
      };
      _proto.formatOffset = function formatOffset$1(ts, format) {
        return formatOffset(this.offset(ts), format);
      };
      _proto.offset = function offset2(ts) {
        var date = new Date(ts);
        if (isNaN(date))
          return NaN;
        var dtf = makeDTF(this.name), _ref22 = dtf.formatToParts ? partsOffset(dtf, date) : hackyOffset(dtf, date), year = _ref22[0], month = _ref22[1], day = _ref22[2], hour = _ref22[3], minute = _ref22[4], second = _ref22[5];
        var asUTC = objToLocalTS({
          year,
          month,
          day,
          hour,
          minute,
          second,
          millisecond: 0
        });
        var asTS = +date;
        var over = asTS % 1e3;
        asTS -= over >= 0 ? over : 1e3 + over;
        return (asUTC - asTS) / (60 * 1e3);
      };
      _proto.equals = function equals(otherZone) {
        return otherZone.type === "iana" && otherZone.name === this.name;
      };
      _createClass3(IANAZone2, [{
        key: "type",
        get: function get() {
          return "iana";
        }
      }, {
        key: "name",
        get: function get() {
          return this.zoneName;
        }
      }, {
        key: "isUniversal",
        get: function get() {
          return false;
        }
      }, {
        key: "isValid",
        get: function get() {
          return this.valid;
        }
      }]);
      return IANAZone2;
    }(Zone);
    var singleton = null;
    var FixedOffsetZone = /* @__PURE__ */ function(_Zone) {
      _inheritsLoose(FixedOffsetZone2, _Zone);
      FixedOffsetZone2.instance = function instance(offset2) {
        return offset2 === 0 ? FixedOffsetZone2.utcInstance : new FixedOffsetZone2(offset2);
      };
      FixedOffsetZone2.parseSpecifier = function parseSpecifier(s4) {
        if (s4) {
          var r3 = s4.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);
          if (r3) {
            return new FixedOffsetZone2(signedOffset(r3[1], r3[2]));
          }
        }
        return null;
      };
      function FixedOffsetZone2(offset2) {
        var _this;
        _this = _Zone.call(this) || this;
        _this.fixed = offset2;
        return _this;
      }
      var _proto = FixedOffsetZone2.prototype;
      _proto.offsetName = function offsetName() {
        return this.name;
      };
      _proto.formatOffset = function formatOffset$1(ts, format) {
        return formatOffset(this.fixed, format);
      };
      _proto.offset = function offset2() {
        return this.fixed;
      };
      _proto.equals = function equals(otherZone) {
        return otherZone.type === "fixed" && otherZone.fixed === this.fixed;
      };
      _createClass3(FixedOffsetZone2, [{
        key: "type",
        get: function get() {
          return "fixed";
        }
      }, {
        key: "name",
        get: function get() {
          return this.fixed === 0 ? "UTC" : "UTC" + formatOffset(this.fixed, "narrow");
        }
      }, {
        key: "isUniversal",
        get: function get() {
          return true;
        }
      }, {
        key: "isValid",
        get: function get() {
          return true;
        }
      }], [{
        key: "utcInstance",
        get: function get() {
          if (singleton === null) {
            singleton = new FixedOffsetZone2(0);
          }
          return singleton;
        }
      }]);
      return FixedOffsetZone2;
    }(Zone);
    var InvalidZone = /* @__PURE__ */ function(_Zone) {
      _inheritsLoose(InvalidZone2, _Zone);
      function InvalidZone2(zoneName) {
        var _this;
        _this = _Zone.call(this) || this;
        _this.zoneName = zoneName;
        return _this;
      }
      var _proto = InvalidZone2.prototype;
      _proto.offsetName = function offsetName() {
        return null;
      };
      _proto.formatOffset = function formatOffset2() {
        return "";
      };
      _proto.offset = function offset2() {
        return NaN;
      };
      _proto.equals = function equals() {
        return false;
      };
      _createClass3(InvalidZone2, [{
        key: "type",
        get: function get() {
          return "invalid";
        }
      }, {
        key: "name",
        get: function get() {
          return this.zoneName;
        }
      }, {
        key: "isUniversal",
        get: function get() {
          return false;
        }
      }, {
        key: "isValid",
        get: function get() {
          return false;
        }
      }]);
      return InvalidZone2;
    }(Zone);
    function normalizeZone(input, defaultZone2) {
      var offset2;
      if (isUndefined(input) || input === null) {
        return defaultZone2;
      } else if (input instanceof Zone) {
        return input;
      } else if (isString(input)) {
        var lowered = input.toLowerCase();
        if (lowered === "local" || lowered === "system")
          return defaultZone2;
        else if (lowered === "utc" || lowered === "gmt")
          return FixedOffsetZone.utcInstance;
        else if ((offset2 = IANAZone.parseGMTOffset(input)) != null) {
          return FixedOffsetZone.instance(offset2);
        } else if (IANAZone.isValidSpecifier(lowered))
          return IANAZone.create(input);
        else
          return FixedOffsetZone.parseSpecifier(lowered) || new InvalidZone(input);
      } else if (isNumber(input)) {
        return FixedOffsetZone.instance(input);
      } else if (typeof input === "object" && input.offset && typeof input.offset === "number") {
        return input;
      } else {
        return new InvalidZone(input);
      }
    }
    var now = function now2() {
      return Date.now();
    };
    var defaultZone = "system";
    var defaultLocale = null;
    var defaultNumberingSystem = null;
    var defaultOutputCalendar = null;
    var throwOnInvalid;
    var Settings = /* @__PURE__ */ function() {
      function Settings2() {
      }
      Settings2.resetCaches = function resetCaches2() {
        Locale.resetCache();
        IANAZone.resetCache();
      };
      _createClass3(Settings2, null, [{
        key: "now",
        get: function get() {
          return now;
        },
        set: function set(n3) {
          now = n3;
        }
      }, {
        key: "defaultZone",
        get: function get() {
          return normalizeZone(defaultZone, SystemZone.instance);
        },
        set: function set(zone) {
          defaultZone = zone;
        }
      }, {
        key: "defaultLocale",
        get: function get() {
          return defaultLocale;
        },
        set: function set(locale) {
          defaultLocale = locale;
        }
      }, {
        key: "defaultNumberingSystem",
        get: function get() {
          return defaultNumberingSystem;
        },
        set: function set(numberingSystem) {
          defaultNumberingSystem = numberingSystem;
        }
      }, {
        key: "defaultOutputCalendar",
        get: function get() {
          return defaultOutputCalendar;
        },
        set: function set(outputCalendar) {
          defaultOutputCalendar = outputCalendar;
        }
      }, {
        key: "throwOnInvalid",
        get: function get() {
          return throwOnInvalid;
        },
        set: function set(t2) {
          throwOnInvalid = t2;
        }
      }]);
      return Settings2;
    }();
    var _excluded = ["base"];
    var intlDTCache = {};
    function getCachedDTF(locString, opts) {
      if (opts === void 0) {
        opts = {};
      }
      var key = JSON.stringify([locString, opts]);
      var dtf = intlDTCache[key];
      if (!dtf) {
        dtf = new Intl.DateTimeFormat(locString, opts);
        intlDTCache[key] = dtf;
      }
      return dtf;
    }
    var intlNumCache = {};
    function getCachedINF(locString, opts) {
      if (opts === void 0) {
        opts = {};
      }
      var key = JSON.stringify([locString, opts]);
      var inf = intlNumCache[key];
      if (!inf) {
        inf = new Intl.NumberFormat(locString, opts);
        intlNumCache[key] = inf;
      }
      return inf;
    }
    var intlRelCache = {};
    function getCachedRTF(locString, opts) {
      if (opts === void 0) {
        opts = {};
      }
      var _opts = opts;
      _opts.base;
      var cacheKeyOpts = _objectWithoutPropertiesLoose(_opts, _excluded);
      var key = JSON.stringify([locString, cacheKeyOpts]);
      var inf = intlRelCache[key];
      if (!inf) {
        inf = new Intl.RelativeTimeFormat(locString, opts);
        intlRelCache[key] = inf;
      }
      return inf;
    }
    var sysLocaleCache = null;
    function systemLocale() {
      if (sysLocaleCache) {
        return sysLocaleCache;
      } else {
        sysLocaleCache = new Intl.DateTimeFormat().resolvedOptions().locale;
        return sysLocaleCache;
      }
    }
    function parseLocaleString(localeStr) {
      var uIndex = localeStr.indexOf("-u-");
      if (uIndex === -1) {
        return [localeStr];
      } else {
        var options;
        var smaller = localeStr.substring(0, uIndex);
        try {
          options = getCachedDTF(localeStr).resolvedOptions();
        } catch (e) {
          options = getCachedDTF(smaller).resolvedOptions();
        }
        var _options = options, numberingSystem = _options.numberingSystem, calendar = _options.calendar;
        return [smaller, numberingSystem, calendar];
      }
    }
    function intlConfigString(localeStr, numberingSystem, outputCalendar) {
      if (outputCalendar || numberingSystem) {
        localeStr += "-u";
        if (outputCalendar) {
          localeStr += "-ca-" + outputCalendar;
        }
        if (numberingSystem) {
          localeStr += "-nu-" + numberingSystem;
        }
        return localeStr;
      } else {
        return localeStr;
      }
    }
    function mapMonths(f2) {
      var ms = [];
      for (var i3 = 1; i3 <= 12; i3++) {
        var dt = DateTime4.utc(2016, i3, 1);
        ms.push(f2(dt));
      }
      return ms;
    }
    function mapWeekdays(f2) {
      var ms = [];
      for (var i3 = 1; i3 <= 7; i3++) {
        var dt = DateTime4.utc(2016, 11, 13 + i3);
        ms.push(f2(dt));
      }
      return ms;
    }
    function listStuff(loc, length, defaultOK, englishFn, intlFn) {
      var mode = loc.listingMode(defaultOK);
      if (mode === "error") {
        return null;
      } else if (mode === "en") {
        return englishFn(length);
      } else {
        return intlFn(length);
      }
    }
    function supportsFastNumbers(loc) {
      if (loc.numberingSystem && loc.numberingSystem !== "latn") {
        return false;
      } else {
        return loc.numberingSystem === "latn" || !loc.locale || loc.locale.startsWith("en") || new Intl.DateTimeFormat(loc.intl).resolvedOptions().numberingSystem === "latn";
      }
    }
    var PolyNumberFormatter = /* @__PURE__ */ function() {
      function PolyNumberFormatter2(intl, forceSimple, opts) {
        this.padTo = opts.padTo || 0;
        this.floor = opts.floor || false;
        if (!forceSimple) {
          var intlOpts = {
            useGrouping: false
          };
          if (opts.padTo > 0)
            intlOpts.minimumIntegerDigits = opts.padTo;
          this.inf = getCachedINF(intl, intlOpts);
        }
      }
      var _proto = PolyNumberFormatter2.prototype;
      _proto.format = function format(i3) {
        if (this.inf) {
          var fixed = this.floor ? Math.floor(i3) : i3;
          return this.inf.format(fixed);
        } else {
          var _fixed = this.floor ? Math.floor(i3) : roundTo(i3, 3);
          return padStart(_fixed, this.padTo);
        }
      };
      return PolyNumberFormatter2;
    }();
    var PolyDateFormatter = /* @__PURE__ */ function() {
      function PolyDateFormatter2(dt, intl, opts) {
        this.opts = opts;
        var z2;
        if (dt.zone.isUniversal) {
          var gmtOffset = -1 * (dt.offset / 60);
          var offsetZ = gmtOffset >= 0 ? "Etc/GMT+" + gmtOffset : "Etc/GMT" + gmtOffset;
          var isOffsetZoneSupported = IANAZone.isValidZone(offsetZ);
          if (dt.offset !== 0 && isOffsetZoneSupported) {
            z2 = offsetZ;
            this.dt = dt;
          } else {
            z2 = "UTC";
            if (opts.timeZoneName) {
              this.dt = dt;
            } else {
              this.dt = dt.offset === 0 ? dt : DateTime4.fromMillis(dt.ts + dt.offset * 60 * 1e3);
            }
          }
        } else if (dt.zone.type === "system") {
          this.dt = dt;
        } else {
          this.dt = dt;
          z2 = dt.zone.name;
        }
        var intlOpts = _extends6({}, this.opts);
        if (z2) {
          intlOpts.timeZone = z2;
        }
        this.dtf = getCachedDTF(intl, intlOpts);
      }
      var _proto2 = PolyDateFormatter2.prototype;
      _proto2.format = function format() {
        return this.dtf.format(this.dt.toJSDate());
      };
      _proto2.formatToParts = function formatToParts() {
        return this.dtf.formatToParts(this.dt.toJSDate());
      };
      _proto2.resolvedOptions = function resolvedOptions() {
        return this.dtf.resolvedOptions();
      };
      return PolyDateFormatter2;
    }();
    var PolyRelFormatter = /* @__PURE__ */ function() {
      function PolyRelFormatter2(intl, isEnglish, opts) {
        this.opts = _extends6({
          style: "long"
        }, opts);
        if (!isEnglish && hasRelative()) {
          this.rtf = getCachedRTF(intl, opts);
        }
      }
      var _proto3 = PolyRelFormatter2.prototype;
      _proto3.format = function format(count, unit) {
        if (this.rtf) {
          return this.rtf.format(count, unit);
        } else {
          return formatRelativeTime(unit, count, this.opts.numeric, this.opts.style !== "long");
        }
      };
      _proto3.formatToParts = function formatToParts(count, unit) {
        if (this.rtf) {
          return this.rtf.formatToParts(count, unit);
        } else {
          return [];
        }
      };
      return PolyRelFormatter2;
    }();
    var Locale = /* @__PURE__ */ function() {
      Locale2.fromOpts = function fromOpts(opts) {
        return Locale2.create(opts.locale, opts.numberingSystem, opts.outputCalendar, opts.defaultToEN);
      };
      Locale2.create = function create(locale, numberingSystem, outputCalendar, defaultToEN) {
        if (defaultToEN === void 0) {
          defaultToEN = false;
        }
        var specifiedLocale = locale || Settings.defaultLocale;
        var localeR = specifiedLocale || (defaultToEN ? "en-US" : systemLocale());
        var numberingSystemR = numberingSystem || Settings.defaultNumberingSystem;
        var outputCalendarR = outputCalendar || Settings.defaultOutputCalendar;
        return new Locale2(localeR, numberingSystemR, outputCalendarR, specifiedLocale);
      };
      Locale2.resetCache = function resetCache() {
        sysLocaleCache = null;
        intlDTCache = {};
        intlNumCache = {};
        intlRelCache = {};
      };
      Locale2.fromObject = function fromObject(_temp) {
        var _ref = _temp === void 0 ? {} : _temp, locale = _ref.locale, numberingSystem = _ref.numberingSystem, outputCalendar = _ref.outputCalendar;
        return Locale2.create(locale, numberingSystem, outputCalendar);
      };
      function Locale2(locale, numbering, outputCalendar, specifiedLocale) {
        var _parseLocaleString = parseLocaleString(locale), parsedLocale = _parseLocaleString[0], parsedNumberingSystem = _parseLocaleString[1], parsedOutputCalendar = _parseLocaleString[2];
        this.locale = parsedLocale;
        this.numberingSystem = numbering || parsedNumberingSystem || null;
        this.outputCalendar = outputCalendar || parsedOutputCalendar || null;
        this.intl = intlConfigString(this.locale, this.numberingSystem, this.outputCalendar);
        this.weekdaysCache = {
          format: {},
          standalone: {}
        };
        this.monthsCache = {
          format: {},
          standalone: {}
        };
        this.meridiemCache = null;
        this.eraCache = {};
        this.specifiedLocale = specifiedLocale;
        this.fastNumbersCached = null;
      }
      var _proto4 = Locale2.prototype;
      _proto4.listingMode = function listingMode(defaultOK) {
        var isActuallyEn = this.isEnglish();
        var hasNoWeirdness = (this.numberingSystem === null || this.numberingSystem === "latn") && (this.outputCalendar === null || this.outputCalendar === "gregory");
        return isActuallyEn && hasNoWeirdness ? "en" : "intl";
      };
      _proto4.clone = function clone2(alts) {
        if (!alts || Object.getOwnPropertyNames(alts).length === 0) {
          return this;
        } else {
          return Locale2.create(alts.locale || this.specifiedLocale, alts.numberingSystem || this.numberingSystem, alts.outputCalendar || this.outputCalendar, alts.defaultToEN || false);
        }
      };
      _proto4.redefaultToEN = function redefaultToEN(alts) {
        if (alts === void 0) {
          alts = {};
        }
        return this.clone(_extends6({}, alts, {
          defaultToEN: true
        }));
      };
      _proto4.redefaultToSystem = function redefaultToSystem(alts) {
        if (alts === void 0) {
          alts = {};
        }
        return this.clone(_extends6({}, alts, {
          defaultToEN: false
        }));
      };
      _proto4.months = function months$1(length, format, defaultOK) {
        var _this = this;
        if (format === void 0) {
          format = false;
        }
        if (defaultOK === void 0) {
          defaultOK = true;
        }
        return listStuff(this, length, defaultOK, months, function() {
          var intl = format ? {
            month: length,
            day: "numeric"
          } : {
            month: length
          }, formatStr = format ? "format" : "standalone";
          if (!_this.monthsCache[formatStr][length]) {
            _this.monthsCache[formatStr][length] = mapMonths(function(dt) {
              return _this.extract(dt, intl, "month");
            });
          }
          return _this.monthsCache[formatStr][length];
        });
      };
      _proto4.weekdays = function weekdays$1(length, format, defaultOK) {
        var _this2 = this;
        if (format === void 0) {
          format = false;
        }
        if (defaultOK === void 0) {
          defaultOK = true;
        }
        return listStuff(this, length, defaultOK, weekdays, function() {
          var intl = format ? {
            weekday: length,
            year: "numeric",
            month: "long",
            day: "numeric"
          } : {
            weekday: length
          }, formatStr = format ? "format" : "standalone";
          if (!_this2.weekdaysCache[formatStr][length]) {
            _this2.weekdaysCache[formatStr][length] = mapWeekdays(function(dt) {
              return _this2.extract(dt, intl, "weekday");
            });
          }
          return _this2.weekdaysCache[formatStr][length];
        });
      };
      _proto4.meridiems = function meridiems$1(defaultOK) {
        var _this3 = this;
        if (defaultOK === void 0) {
          defaultOK = true;
        }
        return listStuff(this, void 0, defaultOK, function() {
          return meridiems;
        }, function() {
          if (!_this3.meridiemCache) {
            var intl = {
              hour: "numeric",
              hourCycle: "h12"
            };
            _this3.meridiemCache = [DateTime4.utc(2016, 11, 13, 9), DateTime4.utc(2016, 11, 13, 19)].map(function(dt) {
              return _this3.extract(dt, intl, "dayperiod");
            });
          }
          return _this3.meridiemCache;
        });
      };
      _proto4.eras = function eras$1(length, defaultOK) {
        var _this4 = this;
        if (defaultOK === void 0) {
          defaultOK = true;
        }
        return listStuff(this, length, defaultOK, eras, function() {
          var intl = {
            era: length
          };
          if (!_this4.eraCache[length]) {
            _this4.eraCache[length] = [DateTime4.utc(-40, 1, 1), DateTime4.utc(2017, 1, 1)].map(function(dt) {
              return _this4.extract(dt, intl, "era");
            });
          }
          return _this4.eraCache[length];
        });
      };
      _proto4.extract = function extract(dt, intlOpts, field) {
        var df = this.dtFormatter(dt, intlOpts), results = df.formatToParts(), matching = results.find(function(m2) {
          return m2.type.toLowerCase() === field;
        });
        return matching ? matching.value : null;
      };
      _proto4.numberFormatter = function numberFormatter(opts) {
        if (opts === void 0) {
          opts = {};
        }
        return new PolyNumberFormatter(this.intl, opts.forceSimple || this.fastNumbers, opts);
      };
      _proto4.dtFormatter = function dtFormatter(dt, intlOpts) {
        if (intlOpts === void 0) {
          intlOpts = {};
        }
        return new PolyDateFormatter(dt, this.intl, intlOpts);
      };
      _proto4.relFormatter = function relFormatter(opts) {
        if (opts === void 0) {
          opts = {};
        }
        return new PolyRelFormatter(this.intl, this.isEnglish(), opts);
      };
      _proto4.isEnglish = function isEnglish() {
        return this.locale === "en" || this.locale.toLowerCase() === "en-us" || new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us");
      };
      _proto4.equals = function equals(other) {
        return this.locale === other.locale && this.numberingSystem === other.numberingSystem && this.outputCalendar === other.outputCalendar;
      };
      _createClass3(Locale2, [{
        key: "fastNumbers",
        get: function get() {
          if (this.fastNumbersCached == null) {
            this.fastNumbersCached = supportsFastNumbers(this);
          }
          return this.fastNumbersCached;
        }
      }]);
      return Locale2;
    }();
    function combineRegexes() {
      for (var _len = arguments.length, regexes = new Array(_len), _key = 0; _key < _len; _key++) {
        regexes[_key] = arguments[_key];
      }
      var full = regexes.reduce(function(f2, r3) {
        return f2 + r3.source;
      }, "");
      return RegExp("^" + full + "$");
    }
    function combineExtractors() {
      for (var _len2 = arguments.length, extractors = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        extractors[_key2] = arguments[_key2];
      }
      return function(m2) {
        return extractors.reduce(function(_ref, ex) {
          var mergedVals = _ref[0], mergedZone = _ref[1], cursor = _ref[2];
          var _ex = ex(m2, cursor), val = _ex[0], zone = _ex[1], next = _ex[2];
          return [_extends6({}, mergedVals, val), mergedZone || zone, next];
        }, [{}, null, 1]).slice(0, 2);
      };
    }
    function parse2(s4) {
      if (s4 == null) {
        return [null, null];
      }
      for (var _len3 = arguments.length, patterns = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
        patterns[_key3 - 1] = arguments[_key3];
      }
      for (var _i = 0, _patterns = patterns; _i < _patterns.length; _i++) {
        var _patterns$_i = _patterns[_i], regex = _patterns$_i[0], extractor = _patterns$_i[1];
        var m2 = regex.exec(s4);
        if (m2) {
          return extractor(m2);
        }
      }
      return [null, null];
    }
    function simpleParse() {
      for (var _len4 = arguments.length, keys = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
        keys[_key4] = arguments[_key4];
      }
      return function(match10, cursor) {
        var ret = {};
        var i3;
        for (i3 = 0; i3 < keys.length; i3++) {
          ret[keys[i3]] = parseInteger(match10[cursor + i3]);
        }
        return [ret, null, cursor + i3];
      };
    }
    var offsetRegex = /(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/;
    var isoTimeBaseRegex = /(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/;
    var isoTimeRegex = RegExp("" + isoTimeBaseRegex.source + offsetRegex.source + "?");
    var isoTimeExtensionRegex = RegExp("(?:T" + isoTimeRegex.source + ")?");
    var isoYmdRegex = /([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/;
    var isoWeekRegex = /(\d{4})-?W(\d\d)(?:-?(\d))?/;
    var isoOrdinalRegex = /(\d{4})-?(\d{3})/;
    var extractISOWeekData = simpleParse("weekYear", "weekNumber", "weekDay");
    var extractISOOrdinalData = simpleParse("year", "ordinal");
    var sqlYmdRegex = /(\d{4})-(\d\d)-(\d\d)/;
    var sqlTimeRegex = RegExp(isoTimeBaseRegex.source + " ?(?:" + offsetRegex.source + "|(" + ianaRegex.source + "))?");
    var sqlTimeExtensionRegex = RegExp("(?: " + sqlTimeRegex.source + ")?");
    function int(match10, pos, fallback) {
      var m2 = match10[pos];
      return isUndefined(m2) ? fallback : parseInteger(m2);
    }
    function extractISOYmd(match10, cursor) {
      var item = {
        year: int(match10, cursor),
        month: int(match10, cursor + 1, 1),
        day: int(match10, cursor + 2, 1)
      };
      return [item, null, cursor + 3];
    }
    function extractISOTime(match10, cursor) {
      var item = {
        hours: int(match10, cursor, 0),
        minutes: int(match10, cursor + 1, 0),
        seconds: int(match10, cursor + 2, 0),
        milliseconds: parseMillis(match10[cursor + 3])
      };
      return [item, null, cursor + 4];
    }
    function extractISOOffset(match10, cursor) {
      var local2 = !match10[cursor] && !match10[cursor + 1], fullOffset = signedOffset(match10[cursor + 1], match10[cursor + 2]), zone = local2 ? null : FixedOffsetZone.instance(fullOffset);
      return [{}, zone, cursor + 3];
    }
    function extractIANAZone(match10, cursor) {
      var zone = match10[cursor] ? IANAZone.create(match10[cursor]) : null;
      return [{}, zone, cursor + 1];
    }
    var isoTimeOnly = RegExp("^T?" + isoTimeBaseRegex.source + "$");
    var isoDuration = /^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;
    function extractISODuration(match10) {
      var s4 = match10[0], yearStr = match10[1], monthStr = match10[2], weekStr = match10[3], dayStr = match10[4], hourStr = match10[5], minuteStr = match10[6], secondStr = match10[7], millisecondsStr = match10[8];
      var hasNegativePrefix = s4[0] === "-";
      var negativeSeconds = secondStr && secondStr[0] === "-";
      var maybeNegate = function maybeNegate2(num, force) {
        if (force === void 0) {
          force = false;
        }
        return num !== void 0 && (force || num && hasNegativePrefix) ? -num : num;
      };
      return [{
        years: maybeNegate(parseInteger(yearStr)),
        months: maybeNegate(parseInteger(monthStr)),
        weeks: maybeNegate(parseInteger(weekStr)),
        days: maybeNegate(parseInteger(dayStr)),
        hours: maybeNegate(parseInteger(hourStr)),
        minutes: maybeNegate(parseInteger(minuteStr)),
        seconds: maybeNegate(parseInteger(secondStr), secondStr === "-0"),
        milliseconds: maybeNegate(parseMillis(millisecondsStr), negativeSeconds)
      }];
    }
    var obsOffsets = {
      GMT: 0,
      EDT: -4 * 60,
      EST: -5 * 60,
      CDT: -5 * 60,
      CST: -6 * 60,
      MDT: -6 * 60,
      MST: -7 * 60,
      PDT: -7 * 60,
      PST: -8 * 60
    };
    function fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {
      var result = {
        year: yearStr.length === 2 ? untruncateYear(parseInteger(yearStr)) : parseInteger(yearStr),
        month: monthsShort.indexOf(monthStr) + 1,
        day: parseInteger(dayStr),
        hour: parseInteger(hourStr),
        minute: parseInteger(minuteStr)
      };
      if (secondStr)
        result.second = parseInteger(secondStr);
      if (weekdayStr) {
        result.weekday = weekdayStr.length > 3 ? weekdaysLong.indexOf(weekdayStr) + 1 : weekdaysShort.indexOf(weekdayStr) + 1;
      }
      return result;
    }
    var rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;
    function extractRFC2822(match10) {
      var weekdayStr = match10[1], dayStr = match10[2], monthStr = match10[3], yearStr = match10[4], hourStr = match10[5], minuteStr = match10[6], secondStr = match10[7], obsOffset = match10[8], milOffset = match10[9], offHourStr = match10[10], offMinuteStr = match10[11], result = fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr);
      var offset2;
      if (obsOffset) {
        offset2 = obsOffsets[obsOffset];
      } else if (milOffset) {
        offset2 = 0;
      } else {
        offset2 = signedOffset(offHourStr, offMinuteStr);
      }
      return [result, new FixedOffsetZone(offset2)];
    }
    function preprocessRFC2822(s4) {
      return s4.replace(/\([^)]*\)|[\n\t]/g, " ").replace(/(\s\s+)/g, " ").trim();
    }
    var rfc1123 = /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/;
    var rfc850 = /^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/;
    var ascii = /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;
    function extractRFC1123Or850(match10) {
      var weekdayStr = match10[1], dayStr = match10[2], monthStr = match10[3], yearStr = match10[4], hourStr = match10[5], minuteStr = match10[6], secondStr = match10[7], result = fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr);
      return [result, FixedOffsetZone.utcInstance];
    }
    function extractASCII(match10) {
      var weekdayStr = match10[1], monthStr = match10[2], dayStr = match10[3], hourStr = match10[4], minuteStr = match10[5], secondStr = match10[6], yearStr = match10[7], result = fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr);
      return [result, FixedOffsetZone.utcInstance];
    }
    var isoYmdWithTimeExtensionRegex = combineRegexes(isoYmdRegex, isoTimeExtensionRegex);
    var isoWeekWithTimeExtensionRegex = combineRegexes(isoWeekRegex, isoTimeExtensionRegex);
    var isoOrdinalWithTimeExtensionRegex = combineRegexes(isoOrdinalRegex, isoTimeExtensionRegex);
    var isoTimeCombinedRegex = combineRegexes(isoTimeRegex);
    var extractISOYmdTimeAndOffset = combineExtractors(extractISOYmd, extractISOTime, extractISOOffset);
    var extractISOWeekTimeAndOffset = combineExtractors(extractISOWeekData, extractISOTime, extractISOOffset);
    var extractISOOrdinalDateAndTime = combineExtractors(extractISOOrdinalData, extractISOTime, extractISOOffset);
    var extractISOTimeAndOffset = combineExtractors(extractISOTime, extractISOOffset);
    function parseISODate(s4) {
      return parse2(s4, [isoYmdWithTimeExtensionRegex, extractISOYmdTimeAndOffset], [isoWeekWithTimeExtensionRegex, extractISOWeekTimeAndOffset], [isoOrdinalWithTimeExtensionRegex, extractISOOrdinalDateAndTime], [isoTimeCombinedRegex, extractISOTimeAndOffset]);
    }
    function parseRFC2822Date(s4) {
      return parse2(preprocessRFC2822(s4), [rfc2822, extractRFC2822]);
    }
    function parseHTTPDate(s4) {
      return parse2(s4, [rfc1123, extractRFC1123Or850], [rfc850, extractRFC1123Or850], [ascii, extractASCII]);
    }
    function parseISODuration(s4) {
      return parse2(s4, [isoDuration, extractISODuration]);
    }
    var extractISOTimeOnly = combineExtractors(extractISOTime);
    function parseISOTimeOnly(s4) {
      return parse2(s4, [isoTimeOnly, extractISOTimeOnly]);
    }
    var sqlYmdWithTimeExtensionRegex = combineRegexes(sqlYmdRegex, sqlTimeExtensionRegex);
    var sqlTimeCombinedRegex = combineRegexes(sqlTimeRegex);
    var extractISOYmdTimeOffsetAndIANAZone = combineExtractors(extractISOYmd, extractISOTime, extractISOOffset, extractIANAZone);
    var extractISOTimeOffsetAndIANAZone = combineExtractors(extractISOTime, extractISOOffset, extractIANAZone);
    function parseSQL(s4) {
      return parse2(s4, [sqlYmdWithTimeExtensionRegex, extractISOYmdTimeOffsetAndIANAZone], [sqlTimeCombinedRegex, extractISOTimeOffsetAndIANAZone]);
    }
    var INVALID$2 = "Invalid Duration";
    var lowOrderMatrix = {
      weeks: {
        days: 7,
        hours: 7 * 24,
        minutes: 7 * 24 * 60,
        seconds: 7 * 24 * 60 * 60,
        milliseconds: 7 * 24 * 60 * 60 * 1e3
      },
      days: {
        hours: 24,
        minutes: 24 * 60,
        seconds: 24 * 60 * 60,
        milliseconds: 24 * 60 * 60 * 1e3
      },
      hours: {
        minutes: 60,
        seconds: 60 * 60,
        milliseconds: 60 * 60 * 1e3
      },
      minutes: {
        seconds: 60,
        milliseconds: 60 * 1e3
      },
      seconds: {
        milliseconds: 1e3
      }
    };
    var casualMatrix = _extends6({
      years: {
        quarters: 4,
        months: 12,
        weeks: 52,
        days: 365,
        hours: 365 * 24,
        minutes: 365 * 24 * 60,
        seconds: 365 * 24 * 60 * 60,
        milliseconds: 365 * 24 * 60 * 60 * 1e3
      },
      quarters: {
        months: 3,
        weeks: 13,
        days: 91,
        hours: 91 * 24,
        minutes: 91 * 24 * 60,
        seconds: 91 * 24 * 60 * 60,
        milliseconds: 91 * 24 * 60 * 60 * 1e3
      },
      months: {
        weeks: 4,
        days: 30,
        hours: 30 * 24,
        minutes: 30 * 24 * 60,
        seconds: 30 * 24 * 60 * 60,
        milliseconds: 30 * 24 * 60 * 60 * 1e3
      }
    }, lowOrderMatrix);
    var daysInYearAccurate = 146097 / 400;
    var daysInMonthAccurate = 146097 / 4800;
    var accurateMatrix = _extends6({
      years: {
        quarters: 4,
        months: 12,
        weeks: daysInYearAccurate / 7,
        days: daysInYearAccurate,
        hours: daysInYearAccurate * 24,
        minutes: daysInYearAccurate * 24 * 60,
        seconds: daysInYearAccurate * 24 * 60 * 60,
        milliseconds: daysInYearAccurate * 24 * 60 * 60 * 1e3
      },
      quarters: {
        months: 3,
        weeks: daysInYearAccurate / 28,
        days: daysInYearAccurate / 4,
        hours: daysInYearAccurate * 24 / 4,
        minutes: daysInYearAccurate * 24 * 60 / 4,
        seconds: daysInYearAccurate * 24 * 60 * 60 / 4,
        milliseconds: daysInYearAccurate * 24 * 60 * 60 * 1e3 / 4
      },
      months: {
        weeks: daysInMonthAccurate / 7,
        days: daysInMonthAccurate,
        hours: daysInMonthAccurate * 24,
        minutes: daysInMonthAccurate * 24 * 60,
        seconds: daysInMonthAccurate * 24 * 60 * 60,
        milliseconds: daysInMonthAccurate * 24 * 60 * 60 * 1e3
      }
    }, lowOrderMatrix);
    var orderedUnits$1 = ["years", "quarters", "months", "weeks", "days", "hours", "minutes", "seconds", "milliseconds"];
    var reverseUnits = orderedUnits$1.slice(0).reverse();
    function clone$1(dur, alts, clear) {
      if (clear === void 0) {
        clear = false;
      }
      var conf = {
        values: clear ? alts.values : _extends6({}, dur.values, alts.values || {}),
        loc: dur.loc.clone(alts.loc),
        conversionAccuracy: alts.conversionAccuracy || dur.conversionAccuracy
      };
      return new Duration(conf);
    }
    function antiTrunc(n3) {
      return n3 < 0 ? Math.floor(n3) : Math.ceil(n3);
    }
    function convert(matrix, fromMap, fromUnit, toMap, toUnit) {
      var conv = matrix[toUnit][fromUnit], raw = fromMap[fromUnit] / conv, sameSign = Math.sign(raw) === Math.sign(toMap[toUnit]), added = !sameSign && toMap[toUnit] !== 0 && Math.abs(raw) <= 1 ? antiTrunc(raw) : Math.trunc(raw);
      toMap[toUnit] += added;
      fromMap[fromUnit] -= added * conv;
    }
    function normalizeValues(matrix, vals) {
      reverseUnits.reduce(function(previous, current) {
        if (!isUndefined(vals[current])) {
          if (previous) {
            convert(matrix, vals, previous, vals, current);
          }
          return current;
        } else {
          return previous;
        }
      }, null);
    }
    var Duration = /* @__PURE__ */ function() {
      function Duration2(config) {
        var accurate = config.conversionAccuracy === "longterm" || false;
        this.values = config.values;
        this.loc = config.loc || Locale.create();
        this.conversionAccuracy = accurate ? "longterm" : "casual";
        this.invalid = config.invalid || null;
        this.matrix = accurate ? accurateMatrix : casualMatrix;
        this.isLuxonDuration = true;
      }
      Duration2.fromMillis = function fromMillis(count, opts) {
        return Duration2.fromObject({
          milliseconds: count
        }, opts);
      };
      Duration2.fromObject = function fromObject(obj, opts) {
        if (opts === void 0) {
          opts = {};
        }
        if (obj == null || typeof obj !== "object") {
          throw new InvalidArgumentError("Duration.fromObject: argument expected to be an object, got " + (obj === null ? "null" : typeof obj));
        }
        return new Duration2({
          values: normalizeObject(obj, Duration2.normalizeUnit),
          loc: Locale.fromObject(opts),
          conversionAccuracy: opts.conversionAccuracy
        });
      };
      Duration2.fromISO = function fromISO(text, opts) {
        var _parseISODuration = parseISODuration(text), parsed = _parseISODuration[0];
        if (parsed) {
          return Duration2.fromObject(parsed, opts);
        } else {
          return Duration2.invalid("unparsable", 'the input "' + text + `" can't be parsed as ISO 8601`);
        }
      };
      Duration2.fromISOTime = function fromISOTime(text, opts) {
        var _parseISOTimeOnly = parseISOTimeOnly(text), parsed = _parseISOTimeOnly[0];
        if (parsed) {
          return Duration2.fromObject(parsed, opts);
        } else {
          return Duration2.invalid("unparsable", 'the input "' + text + `" can't be parsed as ISO 8601`);
        }
      };
      Duration2.invalid = function invalid(reason, explanation) {
        if (explanation === void 0) {
          explanation = null;
        }
        if (!reason) {
          throw new InvalidArgumentError("need to specify a reason the Duration is invalid");
        }
        var invalid2 = reason instanceof Invalid ? reason : new Invalid(reason, explanation);
        if (Settings.throwOnInvalid) {
          throw new InvalidDurationError(invalid2);
        } else {
          return new Duration2({
            invalid: invalid2
          });
        }
      };
      Duration2.normalizeUnit = function normalizeUnit2(unit) {
        var normalized = {
          year: "years",
          years: "years",
          quarter: "quarters",
          quarters: "quarters",
          month: "months",
          months: "months",
          week: "weeks",
          weeks: "weeks",
          day: "days",
          days: "days",
          hour: "hours",
          hours: "hours",
          minute: "minutes",
          minutes: "minutes",
          second: "seconds",
          seconds: "seconds",
          millisecond: "milliseconds",
          milliseconds: "milliseconds"
        }[unit ? unit.toLowerCase() : unit];
        if (!normalized)
          throw new InvalidUnitError(unit);
        return normalized;
      };
      Duration2.isDuration = function isDuration(o2) {
        return o2 && o2.isLuxonDuration || false;
      };
      var _proto = Duration2.prototype;
      _proto.toFormat = function toFormat(fmt, opts) {
        if (opts === void 0) {
          opts = {};
        }
        var fmtOpts = _extends6({}, opts, {
          floor: opts.round !== false && opts.floor !== false
        });
        return this.isValid ? Formatter.create(this.loc, fmtOpts).formatDurationFromString(this, fmt) : INVALID$2;
      };
      _proto.toObject = function toObject() {
        if (!this.isValid)
          return {};
        return _extends6({}, this.values);
      };
      _proto.toISO = function toISO() {
        if (!this.isValid)
          return null;
        var s4 = "P";
        if (this.years !== 0)
          s4 += this.years + "Y";
        if (this.months !== 0 || this.quarters !== 0)
          s4 += this.months + this.quarters * 3 + "M";
        if (this.weeks !== 0)
          s4 += this.weeks + "W";
        if (this.days !== 0)
          s4 += this.days + "D";
        if (this.hours !== 0 || this.minutes !== 0 || this.seconds !== 0 || this.milliseconds !== 0)
          s4 += "T";
        if (this.hours !== 0)
          s4 += this.hours + "H";
        if (this.minutes !== 0)
          s4 += this.minutes + "M";
        if (this.seconds !== 0 || this.milliseconds !== 0)
          s4 += roundTo(this.seconds + this.milliseconds / 1e3, 3) + "S";
        if (s4 === "P")
          s4 += "T0S";
        return s4;
      };
      _proto.toISOTime = function toISOTime(opts) {
        if (opts === void 0) {
          opts = {};
        }
        if (!this.isValid)
          return null;
        var millis = this.toMillis();
        if (millis < 0 || millis >= 864e5)
          return null;
        opts = _extends6({
          suppressMilliseconds: false,
          suppressSeconds: false,
          includePrefix: false,
          format: "extended"
        }, opts);
        var value = this.shiftTo("hours", "minutes", "seconds", "milliseconds");
        var fmt = opts.format === "basic" ? "hhmm" : "hh:mm";
        if (!opts.suppressSeconds || value.seconds !== 0 || value.milliseconds !== 0) {
          fmt += opts.format === "basic" ? "ss" : ":ss";
          if (!opts.suppressMilliseconds || value.milliseconds !== 0) {
            fmt += ".SSS";
          }
        }
        var str = value.toFormat(fmt);
        if (opts.includePrefix) {
          str = "T" + str;
        }
        return str;
      };
      _proto.toJSON = function toJSON() {
        return this.toISO();
      };
      _proto.toString = function toString() {
        return this.toISO();
      };
      _proto.toMillis = function toMillis() {
        return this.as("milliseconds");
      };
      _proto.valueOf = function valueOf() {
        return this.toMillis();
      };
      _proto.plus = function plus(duration) {
        if (!this.isValid)
          return this;
        var dur = friendlyDuration(duration), result = {};
        for (var _iterator = _createForOfIteratorHelperLoose(orderedUnits$1), _step; !(_step = _iterator()).done; ) {
          var k2 = _step.value;
          if (hasOwnProperty(dur.values, k2) || hasOwnProperty(this.values, k2)) {
            result[k2] = dur.get(k2) + this.get(k2);
          }
        }
        return clone$1(this, {
          values: result
        }, true);
      };
      _proto.minus = function minus(duration) {
        if (!this.isValid)
          return this;
        var dur = friendlyDuration(duration);
        return this.plus(dur.negate());
      };
      _proto.mapUnits = function mapUnits(fn) {
        if (!this.isValid)
          return this;
        var result = {};
        for (var _i = 0, _Object$keys = Object.keys(this.values); _i < _Object$keys.length; _i++) {
          var k2 = _Object$keys[_i];
          result[k2] = asNumber(fn(this.values[k2], k2));
        }
        return clone$1(this, {
          values: result
        }, true);
      };
      _proto.get = function get(unit) {
        return this[Duration2.normalizeUnit(unit)];
      };
      _proto.set = function set(values) {
        if (!this.isValid)
          return this;
        var mixed = _extends6({}, this.values, normalizeObject(values, Duration2.normalizeUnit));
        return clone$1(this, {
          values: mixed
        });
      };
      _proto.reconfigure = function reconfigure(_temp) {
        var _ref = _temp === void 0 ? {} : _temp, locale = _ref.locale, numberingSystem = _ref.numberingSystem, conversionAccuracy = _ref.conversionAccuracy;
        var loc = this.loc.clone({
          locale,
          numberingSystem
        }), opts = {
          loc
        };
        if (conversionAccuracy) {
          opts.conversionAccuracy = conversionAccuracy;
        }
        return clone$1(this, opts);
      };
      _proto.as = function as(unit) {
        return this.isValid ? this.shiftTo(unit).get(unit) : NaN;
      };
      _proto.normalize = function normalize2() {
        if (!this.isValid)
          return this;
        var vals = this.toObject();
        normalizeValues(this.matrix, vals);
        return clone$1(this, {
          values: vals
        }, true);
      };
      _proto.shiftTo = function shiftTo() {
        for (var _len = arguments.length, units = new Array(_len), _key = 0; _key < _len; _key++) {
          units[_key] = arguments[_key];
        }
        if (!this.isValid)
          return this;
        if (units.length === 0) {
          return this;
        }
        units = units.map(function(u4) {
          return Duration2.normalizeUnit(u4);
        });
        var built = {}, accumulated = {}, vals = this.toObject();
        var lastUnit;
        for (var _iterator2 = _createForOfIteratorHelperLoose(orderedUnits$1), _step2; !(_step2 = _iterator2()).done; ) {
          var k2 = _step2.value;
          if (units.indexOf(k2) >= 0) {
            lastUnit = k2;
            var own = 0;
            for (var ak in accumulated) {
              own += this.matrix[ak][k2] * accumulated[ak];
              accumulated[ak] = 0;
            }
            if (isNumber(vals[k2])) {
              own += vals[k2];
            }
            var i3 = Math.trunc(own);
            built[k2] = i3;
            accumulated[k2] = own - i3;
            for (var down in vals) {
              if (orderedUnits$1.indexOf(down) > orderedUnits$1.indexOf(k2)) {
                convert(this.matrix, vals, down, built, k2);
              }
            }
          } else if (isNumber(vals[k2])) {
            accumulated[k2] = vals[k2];
          }
        }
        for (var key in accumulated) {
          if (accumulated[key] !== 0) {
            built[lastUnit] += key === lastUnit ? accumulated[key] : accumulated[key] / this.matrix[lastUnit][key];
          }
        }
        return clone$1(this, {
          values: built
        }, true).normalize();
      };
      _proto.negate = function negate() {
        if (!this.isValid)
          return this;
        var negated = {};
        for (var _i2 = 0, _Object$keys2 = Object.keys(this.values); _i2 < _Object$keys2.length; _i2++) {
          var k2 = _Object$keys2[_i2];
          negated[k2] = -this.values[k2];
        }
        return clone$1(this, {
          values: negated
        }, true);
      };
      _proto.equals = function equals(other) {
        if (!this.isValid || !other.isValid) {
          return false;
        }
        if (!this.loc.equals(other.loc)) {
          return false;
        }
        function eq(v1, v2) {
          if (v1 === void 0 || v1 === 0)
            return v2 === void 0 || v2 === 0;
          return v1 === v2;
        }
        for (var _iterator3 = _createForOfIteratorHelperLoose(orderedUnits$1), _step3; !(_step3 = _iterator3()).done; ) {
          var u4 = _step3.value;
          if (!eq(this.values[u4], other.values[u4])) {
            return false;
          }
        }
        return true;
      };
      _createClass3(Duration2, [{
        key: "locale",
        get: function get() {
          return this.isValid ? this.loc.locale : null;
        }
      }, {
        key: "numberingSystem",
        get: function get() {
          return this.isValid ? this.loc.numberingSystem : null;
        }
      }, {
        key: "years",
        get: function get() {
          return this.isValid ? this.values.years || 0 : NaN;
        }
      }, {
        key: "quarters",
        get: function get() {
          return this.isValid ? this.values.quarters || 0 : NaN;
        }
      }, {
        key: "months",
        get: function get() {
          return this.isValid ? this.values.months || 0 : NaN;
        }
      }, {
        key: "weeks",
        get: function get() {
          return this.isValid ? this.values.weeks || 0 : NaN;
        }
      }, {
        key: "days",
        get: function get() {
          return this.isValid ? this.values.days || 0 : NaN;
        }
      }, {
        key: "hours",
        get: function get() {
          return this.isValid ? this.values.hours || 0 : NaN;
        }
      }, {
        key: "minutes",
        get: function get() {
          return this.isValid ? this.values.minutes || 0 : NaN;
        }
      }, {
        key: "seconds",
        get: function get() {
          return this.isValid ? this.values.seconds || 0 : NaN;
        }
      }, {
        key: "milliseconds",
        get: function get() {
          return this.isValid ? this.values.milliseconds || 0 : NaN;
        }
      }, {
        key: "isValid",
        get: function get() {
          return this.invalid === null;
        }
      }, {
        key: "invalidReason",
        get: function get() {
          return this.invalid ? this.invalid.reason : null;
        }
      }, {
        key: "invalidExplanation",
        get: function get() {
          return this.invalid ? this.invalid.explanation : null;
        }
      }]);
      return Duration2;
    }();
    function friendlyDuration(durationish) {
      if (isNumber(durationish)) {
        return Duration.fromMillis(durationish);
      } else if (Duration.isDuration(durationish)) {
        return durationish;
      } else if (typeof durationish === "object") {
        return Duration.fromObject(durationish);
      } else {
        throw new InvalidArgumentError("Unknown duration argument " + durationish + " of type " + typeof durationish);
      }
    }
    var INVALID$1 = "Invalid Interval";
    function validateStartEnd(start, end) {
      if (!start || !start.isValid) {
        return Interval.invalid("missing or invalid start");
      } else if (!end || !end.isValid) {
        return Interval.invalid("missing or invalid end");
      } else if (end < start) {
        return Interval.invalid("end before start", "The end of an interval must be after its start, but you had start=" + start.toISO() + " and end=" + end.toISO());
      } else {
        return null;
      }
    }
    var Interval = /* @__PURE__ */ function() {
      function Interval2(config) {
        this.s = config.start;
        this.e = config.end;
        this.invalid = config.invalid || null;
        this.isLuxonInterval = true;
      }
      Interval2.invalid = function invalid(reason, explanation) {
        if (explanation === void 0) {
          explanation = null;
        }
        if (!reason) {
          throw new InvalidArgumentError("need to specify a reason the Interval is invalid");
        }
        var invalid2 = reason instanceof Invalid ? reason : new Invalid(reason, explanation);
        if (Settings.throwOnInvalid) {
          throw new InvalidIntervalError(invalid2);
        } else {
          return new Interval2({
            invalid: invalid2
          });
        }
      };
      Interval2.fromDateTimes = function fromDateTimes(start, end) {
        var builtStart = friendlyDateTime(start), builtEnd = friendlyDateTime(end);
        var validateError = validateStartEnd(builtStart, builtEnd);
        if (validateError == null) {
          return new Interval2({
            start: builtStart,
            end: builtEnd
          });
        } else {
          return validateError;
        }
      };
      Interval2.after = function after(start, duration) {
        var dur = friendlyDuration(duration), dt = friendlyDateTime(start);
        return Interval2.fromDateTimes(dt, dt.plus(dur));
      };
      Interval2.before = function before(end, duration) {
        var dur = friendlyDuration(duration), dt = friendlyDateTime(end);
        return Interval2.fromDateTimes(dt.minus(dur), dt);
      };
      Interval2.fromISO = function fromISO(text, opts) {
        var _split = (text || "").split("/", 2), s4 = _split[0], e = _split[1];
        if (s4 && e) {
          var start, startIsValid;
          try {
            start = DateTime4.fromISO(s4, opts);
            startIsValid = start.isValid;
          } catch (e2) {
            startIsValid = false;
          }
          var end, endIsValid;
          try {
            end = DateTime4.fromISO(e, opts);
            endIsValid = end.isValid;
          } catch (e2) {
            endIsValid = false;
          }
          if (startIsValid && endIsValid) {
            return Interval2.fromDateTimes(start, end);
          }
          if (startIsValid) {
            var dur = Duration.fromISO(e, opts);
            if (dur.isValid) {
              return Interval2.after(start, dur);
            }
          } else if (endIsValid) {
            var _dur = Duration.fromISO(s4, opts);
            if (_dur.isValid) {
              return Interval2.before(end, _dur);
            }
          }
        }
        return Interval2.invalid("unparsable", 'the input "' + text + `" can't be parsed as ISO 8601`);
      };
      Interval2.isInterval = function isInterval(o2) {
        return o2 && o2.isLuxonInterval || false;
      };
      var _proto = Interval2.prototype;
      _proto.length = function length(unit) {
        if (unit === void 0) {
          unit = "milliseconds";
        }
        return this.isValid ? this.toDuration.apply(this, [unit]).get(unit) : NaN;
      };
      _proto.count = function count(unit) {
        if (unit === void 0) {
          unit = "milliseconds";
        }
        if (!this.isValid)
          return NaN;
        var start = this.start.startOf(unit), end = this.end.startOf(unit);
        return Math.floor(end.diff(start, unit).get(unit)) + 1;
      };
      _proto.hasSame = function hasSame(unit) {
        return this.isValid ? this.isEmpty() || this.e.minus(1).hasSame(this.s, unit) : false;
      };
      _proto.isEmpty = function isEmpty() {
        return this.s.valueOf() === this.e.valueOf();
      };
      _proto.isAfter = function isAfter(dateTime) {
        if (!this.isValid)
          return false;
        return this.s > dateTime;
      };
      _proto.isBefore = function isBefore(dateTime) {
        if (!this.isValid)
          return false;
        return this.e <= dateTime;
      };
      _proto.contains = function contains(dateTime) {
        if (!this.isValid)
          return false;
        return this.s <= dateTime && this.e > dateTime;
      };
      _proto.set = function set(_temp) {
        var _ref = _temp === void 0 ? {} : _temp, start = _ref.start, end = _ref.end;
        if (!this.isValid)
          return this;
        return Interval2.fromDateTimes(start || this.s, end || this.e);
      };
      _proto.splitAt = function splitAt() {
        var _this = this;
        if (!this.isValid)
          return [];
        for (var _len = arguments.length, dateTimes = new Array(_len), _key = 0; _key < _len; _key++) {
          dateTimes[_key] = arguments[_key];
        }
        var sorted = dateTimes.map(friendlyDateTime).filter(function(d2) {
          return _this.contains(d2);
        }).sort(), results = [];
        var s4 = this.s, i3 = 0;
        while (s4 < this.e) {
          var added = sorted[i3] || this.e, next = +added > +this.e ? this.e : added;
          results.push(Interval2.fromDateTimes(s4, next));
          s4 = next;
          i3 += 1;
        }
        return results;
      };
      _proto.splitBy = function splitBy(duration) {
        var dur = friendlyDuration(duration);
        if (!this.isValid || !dur.isValid || dur.as("milliseconds") === 0) {
          return [];
        }
        var s4 = this.s, idx = 1, next;
        var results = [];
        while (s4 < this.e) {
          var added = this.start.plus(dur.mapUnits(function(x3) {
            return x3 * idx;
          }));
          next = +added > +this.e ? this.e : added;
          results.push(Interval2.fromDateTimes(s4, next));
          s4 = next;
          idx += 1;
        }
        return results;
      };
      _proto.divideEqually = function divideEqually(numberOfParts) {
        if (!this.isValid)
          return [];
        return this.splitBy(this.length() / numberOfParts).slice(0, numberOfParts);
      };
      _proto.overlaps = function overlaps(other) {
        return this.e > other.s && this.s < other.e;
      };
      _proto.abutsStart = function abutsStart(other) {
        if (!this.isValid)
          return false;
        return +this.e === +other.s;
      };
      _proto.abutsEnd = function abutsEnd(other) {
        if (!this.isValid)
          return false;
        return +other.e === +this.s;
      };
      _proto.engulfs = function engulfs(other) {
        if (!this.isValid)
          return false;
        return this.s <= other.s && this.e >= other.e;
      };
      _proto.equals = function equals(other) {
        if (!this.isValid || !other.isValid) {
          return false;
        }
        return this.s.equals(other.s) && this.e.equals(other.e);
      };
      _proto.intersection = function intersection(other) {
        if (!this.isValid)
          return this;
        var s4 = this.s > other.s ? this.s : other.s, e = this.e < other.e ? this.e : other.e;
        if (s4 >= e) {
          return null;
        } else {
          return Interval2.fromDateTimes(s4, e);
        }
      };
      _proto.union = function union(other) {
        if (!this.isValid)
          return this;
        var s4 = this.s < other.s ? this.s : other.s, e = this.e > other.e ? this.e : other.e;
        return Interval2.fromDateTimes(s4, e);
      };
      Interval2.merge = function merge(intervals) {
        var _intervals$sort$reduc = intervals.sort(function(a4, b3) {
          return a4.s - b3.s;
        }).reduce(function(_ref22, item) {
          var sofar = _ref22[0], current = _ref22[1];
          if (!current) {
            return [sofar, item];
          } else if (current.overlaps(item) || current.abutsStart(item)) {
            return [sofar, current.union(item)];
          } else {
            return [sofar.concat([current]), item];
          }
        }, [[], null]), found = _intervals$sort$reduc[0], final = _intervals$sort$reduc[1];
        if (final) {
          found.push(final);
        }
        return found;
      };
      Interval2.xor = function xor(intervals) {
        var _Array$prototype;
        var start = null, currentCount = 0;
        var results = [], ends = intervals.map(function(i4) {
          return [{
            time: i4.s,
            type: "s"
          }, {
            time: i4.e,
            type: "e"
          }];
        }), flattened = (_Array$prototype = Array.prototype).concat.apply(_Array$prototype, ends), arr = flattened.sort(function(a4, b3) {
          return a4.time - b3.time;
        });
        for (var _iterator = _createForOfIteratorHelperLoose(arr), _step; !(_step = _iterator()).done; ) {
          var i3 = _step.value;
          currentCount += i3.type === "s" ? 1 : -1;
          if (currentCount === 1) {
            start = i3.time;
          } else {
            if (start && +start !== +i3.time) {
              results.push(Interval2.fromDateTimes(start, i3.time));
            }
            start = null;
          }
        }
        return Interval2.merge(results);
      };
      _proto.difference = function difference() {
        var _this2 = this;
        for (var _len2 = arguments.length, intervals = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
          intervals[_key2] = arguments[_key2];
        }
        return Interval2.xor([this].concat(intervals)).map(function(i3) {
          return _this2.intersection(i3);
        }).filter(function(i3) {
          return i3 && !i3.isEmpty();
        });
      };
      _proto.toString = function toString() {
        if (!this.isValid)
          return INVALID$1;
        return "[" + this.s.toISO() + " \u2013 " + this.e.toISO() + ")";
      };
      _proto.toISO = function toISO(opts) {
        if (!this.isValid)
          return INVALID$1;
        return this.s.toISO(opts) + "/" + this.e.toISO(opts);
      };
      _proto.toISODate = function toISODate() {
        if (!this.isValid)
          return INVALID$1;
        return this.s.toISODate() + "/" + this.e.toISODate();
      };
      _proto.toISOTime = function toISOTime(opts) {
        if (!this.isValid)
          return INVALID$1;
        return this.s.toISOTime(opts) + "/" + this.e.toISOTime(opts);
      };
      _proto.toFormat = function toFormat(dateFormat, _temp2) {
        var _ref3 = _temp2 === void 0 ? {} : _temp2, _ref3$separator = _ref3.separator, separator = _ref3$separator === void 0 ? " \u2013 " : _ref3$separator;
        if (!this.isValid)
          return INVALID$1;
        return "" + this.s.toFormat(dateFormat) + separator + this.e.toFormat(dateFormat);
      };
      _proto.toDuration = function toDuration(unit, opts) {
        if (!this.isValid) {
          return Duration.invalid(this.invalidReason);
        }
        return this.e.diff(this.s, unit, opts);
      };
      _proto.mapEndpoints = function mapEndpoints(mapFn) {
        return Interval2.fromDateTimes(mapFn(this.s), mapFn(this.e));
      };
      _createClass3(Interval2, [{
        key: "start",
        get: function get() {
          return this.isValid ? this.s : null;
        }
      }, {
        key: "end",
        get: function get() {
          return this.isValid ? this.e : null;
        }
      }, {
        key: "isValid",
        get: function get() {
          return this.invalidReason === null;
        }
      }, {
        key: "invalidReason",
        get: function get() {
          return this.invalid ? this.invalid.reason : null;
        }
      }, {
        key: "invalidExplanation",
        get: function get() {
          return this.invalid ? this.invalid.explanation : null;
        }
      }]);
      return Interval2;
    }();
    var Info = /* @__PURE__ */ function() {
      function Info2() {
      }
      Info2.hasDST = function hasDST(zone) {
        if (zone === void 0) {
          zone = Settings.defaultZone;
        }
        var proto = DateTime4.now().setZone(zone).set({
          month: 12
        });
        return !zone.isUniversal && proto.offset !== proto.set({
          month: 6
        }).offset;
      };
      Info2.isValidIANAZone = function isValidIANAZone(zone) {
        return IANAZone.isValidSpecifier(zone) && IANAZone.isValidZone(zone);
      };
      Info2.normalizeZone = function normalizeZone$1(input) {
        return normalizeZone(input, Settings.defaultZone);
      };
      Info2.months = function months2(length, _temp) {
        if (length === void 0) {
          length = "long";
        }
        var _ref = _temp === void 0 ? {} : _temp, _ref$locale = _ref.locale, locale = _ref$locale === void 0 ? null : _ref$locale, _ref$numberingSystem = _ref.numberingSystem, numberingSystem = _ref$numberingSystem === void 0 ? null : _ref$numberingSystem, _ref$locObj = _ref.locObj, locObj = _ref$locObj === void 0 ? null : _ref$locObj, _ref$outputCalendar = _ref.outputCalendar, outputCalendar = _ref$outputCalendar === void 0 ? "gregory" : _ref$outputCalendar;
        return (locObj || Locale.create(locale, numberingSystem, outputCalendar)).months(length);
      };
      Info2.monthsFormat = function monthsFormat(length, _temp2) {
        if (length === void 0) {
          length = "long";
        }
        var _ref22 = _temp2 === void 0 ? {} : _temp2, _ref2$locale = _ref22.locale, locale = _ref2$locale === void 0 ? null : _ref2$locale, _ref2$numberingSystem = _ref22.numberingSystem, numberingSystem = _ref2$numberingSystem === void 0 ? null : _ref2$numberingSystem, _ref2$locObj = _ref22.locObj, locObj = _ref2$locObj === void 0 ? null : _ref2$locObj, _ref2$outputCalendar = _ref22.outputCalendar, outputCalendar = _ref2$outputCalendar === void 0 ? "gregory" : _ref2$outputCalendar;
        return (locObj || Locale.create(locale, numberingSystem, outputCalendar)).months(length, true);
      };
      Info2.weekdays = function weekdays2(length, _temp3) {
        if (length === void 0) {
          length = "long";
        }
        var _ref3 = _temp3 === void 0 ? {} : _temp3, _ref3$locale = _ref3.locale, locale = _ref3$locale === void 0 ? null : _ref3$locale, _ref3$numberingSystem = _ref3.numberingSystem, numberingSystem = _ref3$numberingSystem === void 0 ? null : _ref3$numberingSystem, _ref3$locObj = _ref3.locObj, locObj = _ref3$locObj === void 0 ? null : _ref3$locObj;
        return (locObj || Locale.create(locale, numberingSystem, null)).weekdays(length);
      };
      Info2.weekdaysFormat = function weekdaysFormat(length, _temp4) {
        if (length === void 0) {
          length = "long";
        }
        var _ref4 = _temp4 === void 0 ? {} : _temp4, _ref4$locale = _ref4.locale, locale = _ref4$locale === void 0 ? null : _ref4$locale, _ref4$numberingSystem = _ref4.numberingSystem, numberingSystem = _ref4$numberingSystem === void 0 ? null : _ref4$numberingSystem, _ref4$locObj = _ref4.locObj, locObj = _ref4$locObj === void 0 ? null : _ref4$locObj;
        return (locObj || Locale.create(locale, numberingSystem, null)).weekdays(length, true);
      };
      Info2.meridiems = function meridiems2(_temp5) {
        var _ref5 = _temp5 === void 0 ? {} : _temp5, _ref5$locale = _ref5.locale, locale = _ref5$locale === void 0 ? null : _ref5$locale;
        return Locale.create(locale).meridiems();
      };
      Info2.eras = function eras2(length, _temp6) {
        if (length === void 0) {
          length = "short";
        }
        var _ref62 = _temp6 === void 0 ? {} : _temp6, _ref6$locale = _ref62.locale, locale = _ref6$locale === void 0 ? null : _ref6$locale;
        return Locale.create(locale, null, "gregory").eras(length);
      };
      Info2.features = function features() {
        return {
          relative: hasRelative()
        };
      };
      return Info2;
    }();
    function dayDiff(earlier, later) {
      var utcDayStart = function utcDayStart2(dt) {
        return dt.toUTC(0, {
          keepLocalTime: true
        }).startOf("day").valueOf();
      }, ms = utcDayStart(later) - utcDayStart(earlier);
      return Math.floor(Duration.fromMillis(ms).as("days"));
    }
    function highOrderDiffs(cursor, later, units) {
      var differs = [["years", function(a4, b3) {
        return b3.year - a4.year;
      }], ["quarters", function(a4, b3) {
        return b3.quarter - a4.quarter;
      }], ["months", function(a4, b3) {
        return b3.month - a4.month + (b3.year - a4.year) * 12;
      }], ["weeks", function(a4, b3) {
        var days = dayDiff(a4, b3);
        return (days - days % 7) / 7;
      }], ["days", dayDiff]];
      var results = {};
      var lowestOrder, highWater;
      for (var _i = 0, _differs = differs; _i < _differs.length; _i++) {
        var _differs$_i = _differs[_i], unit = _differs$_i[0], differ = _differs$_i[1];
        if (units.indexOf(unit) >= 0) {
          var _cursor$plus;
          lowestOrder = unit;
          var delta = differ(cursor, later);
          highWater = cursor.plus((_cursor$plus = {}, _cursor$plus[unit] = delta, _cursor$plus));
          if (highWater > later) {
            var _cursor$plus2;
            cursor = cursor.plus((_cursor$plus2 = {}, _cursor$plus2[unit] = delta - 1, _cursor$plus2));
            delta -= 1;
          } else {
            cursor = highWater;
          }
          results[unit] = delta;
        }
      }
      return [cursor, results, highWater, lowestOrder];
    }
    function _diff(earlier, later, units, opts) {
      var _highOrderDiffs = highOrderDiffs(earlier, later, units), cursor = _highOrderDiffs[0], results = _highOrderDiffs[1], highWater = _highOrderDiffs[2], lowestOrder = _highOrderDiffs[3];
      var remainingMillis = later - cursor;
      var lowerOrderUnits = units.filter(function(u4) {
        return ["hours", "minutes", "seconds", "milliseconds"].indexOf(u4) >= 0;
      });
      if (lowerOrderUnits.length === 0) {
        if (highWater < later) {
          var _cursor$plus3;
          highWater = cursor.plus((_cursor$plus3 = {}, _cursor$plus3[lowestOrder] = 1, _cursor$plus3));
        }
        if (highWater !== cursor) {
          results[lowestOrder] = (results[lowestOrder] || 0) + remainingMillis / (highWater - cursor);
        }
      }
      var duration = Duration.fromObject(results, opts);
      if (lowerOrderUnits.length > 0) {
        var _Duration$fromMillis;
        return (_Duration$fromMillis = Duration.fromMillis(remainingMillis, opts)).shiftTo.apply(_Duration$fromMillis, lowerOrderUnits).plus(duration);
      } else {
        return duration;
      }
    }
    var numberingSystems = {
      arab: "[\u0660-\u0669]",
      arabext: "[\u06F0-\u06F9]",
      bali: "[\u1B50-\u1B59]",
      beng: "[\u09E6-\u09EF]",
      deva: "[\u0966-\u096F]",
      fullwide: "[\uFF10-\uFF19]",
      gujr: "[\u0AE6-\u0AEF]",
      hanidec: "[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",
      khmr: "[\u17E0-\u17E9]",
      knda: "[\u0CE6-\u0CEF]",
      laoo: "[\u0ED0-\u0ED9]",
      limb: "[\u1946-\u194F]",
      mlym: "[\u0D66-\u0D6F]",
      mong: "[\u1810-\u1819]",
      mymr: "[\u1040-\u1049]",
      orya: "[\u0B66-\u0B6F]",
      tamldec: "[\u0BE6-\u0BEF]",
      telu: "[\u0C66-\u0C6F]",
      thai: "[\u0E50-\u0E59]",
      tibt: "[\u0F20-\u0F29]",
      latn: "\\d"
    };
    var numberingSystemsUTF16 = {
      arab: [1632, 1641],
      arabext: [1776, 1785],
      bali: [6992, 7001],
      beng: [2534, 2543],
      deva: [2406, 2415],
      fullwide: [65296, 65303],
      gujr: [2790, 2799],
      khmr: [6112, 6121],
      knda: [3302, 3311],
      laoo: [3792, 3801],
      limb: [6470, 6479],
      mlym: [3430, 3439],
      mong: [6160, 6169],
      mymr: [4160, 4169],
      orya: [2918, 2927],
      tamldec: [3046, 3055],
      telu: [3174, 3183],
      thai: [3664, 3673],
      tibt: [3872, 3881]
    };
    var hanidecChars = numberingSystems.hanidec.replace(/[\[|\]]/g, "").split("");
    function parseDigits(str) {
      var value = parseInt(str, 10);
      if (isNaN(value)) {
        value = "";
        for (var i3 = 0; i3 < str.length; i3++) {
          var code = str.charCodeAt(i3);
          if (str[i3].search(numberingSystems.hanidec) !== -1) {
            value += hanidecChars.indexOf(str[i3]);
          } else {
            for (var key in numberingSystemsUTF16) {
              var _numberingSystemsUTF = numberingSystemsUTF16[key], min = _numberingSystemsUTF[0], max = _numberingSystemsUTF[1];
              if (code >= min && code <= max) {
                value += code - min;
              }
            }
          }
        }
        return parseInt(value, 10);
      } else {
        return value;
      }
    }
    function digitRegex(_ref, append) {
      var numberingSystem = _ref.numberingSystem;
      if (append === void 0) {
        append = "";
      }
      return new RegExp("" + numberingSystems[numberingSystem || "latn"] + append);
    }
    var MISSING_FTP = "missing Intl.DateTimeFormat.formatToParts support";
    function intUnit(regex, post) {
      if (post === void 0) {
        post = function post2(i3) {
          return i3;
        };
      }
      return {
        regex,
        deser: function deser(_ref) {
          var s4 = _ref[0];
          return post(parseDigits(s4));
        }
      };
    }
    var NBSP = String.fromCharCode(160);
    var spaceOrNBSP = "( |" + NBSP + ")";
    var spaceOrNBSPRegExp = new RegExp(spaceOrNBSP, "g");
    function fixListRegex(s4) {
      return s4.replace(/\./g, "\\.?").replace(spaceOrNBSPRegExp, spaceOrNBSP);
    }
    function stripInsensitivities(s4) {
      return s4.replace(/\./g, "").replace(spaceOrNBSPRegExp, " ").toLowerCase();
    }
    function oneOf(strings, startIndex) {
      if (strings === null) {
        return null;
      } else {
        return {
          regex: RegExp(strings.map(fixListRegex).join("|")),
          deser: function deser(_ref22) {
            var s4 = _ref22[0];
            return strings.findIndex(function(i3) {
              return stripInsensitivities(s4) === stripInsensitivities(i3);
            }) + startIndex;
          }
        };
      }
    }
    function offset(regex, groups) {
      return {
        regex,
        deser: function deser(_ref3) {
          var h3 = _ref3[1], m2 = _ref3[2];
          return signedOffset(h3, m2);
        },
        groups
      };
    }
    function simple(regex) {
      return {
        regex,
        deser: function deser(_ref4) {
          var s4 = _ref4[0];
          return s4;
        }
      };
    }
    function escapeToken(value) {
      return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
    }
    function unitForToken(token, loc) {
      var one = digitRegex(loc), two = digitRegex(loc, "{2}"), three = digitRegex(loc, "{3}"), four = digitRegex(loc, "{4}"), six = digitRegex(loc, "{6}"), oneOrTwo = digitRegex(loc, "{1,2}"), oneToThree = digitRegex(loc, "{1,3}"), oneToSix = digitRegex(loc, "{1,6}"), oneToNine = digitRegex(loc, "{1,9}"), twoToFour = digitRegex(loc, "{2,4}"), fourToSix = digitRegex(loc, "{4,6}"), literal = function literal2(t2) {
        return {
          regex: RegExp(escapeToken(t2.val)),
          deser: function deser(_ref5) {
            var s4 = _ref5[0];
            return s4;
          },
          literal: true
        };
      }, unitate = function unitate2(t2) {
        if (token.literal) {
          return literal(t2);
        }
        switch (t2.val) {
          case "G":
            return oneOf(loc.eras("short", false), 0);
          case "GG":
            return oneOf(loc.eras("long", false), 0);
          case "y":
            return intUnit(oneToSix);
          case "yy":
            return intUnit(twoToFour, untruncateYear);
          case "yyyy":
            return intUnit(four);
          case "yyyyy":
            return intUnit(fourToSix);
          case "yyyyyy":
            return intUnit(six);
          case "M":
            return intUnit(oneOrTwo);
          case "MM":
            return intUnit(two);
          case "MMM":
            return oneOf(loc.months("short", true, false), 1);
          case "MMMM":
            return oneOf(loc.months("long", true, false), 1);
          case "L":
            return intUnit(oneOrTwo);
          case "LL":
            return intUnit(two);
          case "LLL":
            return oneOf(loc.months("short", false, false), 1);
          case "LLLL":
            return oneOf(loc.months("long", false, false), 1);
          case "d":
            return intUnit(oneOrTwo);
          case "dd":
            return intUnit(two);
          case "o":
            return intUnit(oneToThree);
          case "ooo":
            return intUnit(three);
          case "HH":
            return intUnit(two);
          case "H":
            return intUnit(oneOrTwo);
          case "hh":
            return intUnit(two);
          case "h":
            return intUnit(oneOrTwo);
          case "mm":
            return intUnit(two);
          case "m":
            return intUnit(oneOrTwo);
          case "q":
            return intUnit(oneOrTwo);
          case "qq":
            return intUnit(two);
          case "s":
            return intUnit(oneOrTwo);
          case "ss":
            return intUnit(two);
          case "S":
            return intUnit(oneToThree);
          case "SSS":
            return intUnit(three);
          case "u":
            return simple(oneToNine);
          case "a":
            return oneOf(loc.meridiems(), 0);
          case "kkkk":
            return intUnit(four);
          case "kk":
            return intUnit(twoToFour, untruncateYear);
          case "W":
            return intUnit(oneOrTwo);
          case "WW":
            return intUnit(two);
          case "E":
          case "c":
            return intUnit(one);
          case "EEE":
            return oneOf(loc.weekdays("short", false, false), 1);
          case "EEEE":
            return oneOf(loc.weekdays("long", false, false), 1);
          case "ccc":
            return oneOf(loc.weekdays("short", true, false), 1);
          case "cccc":
            return oneOf(loc.weekdays("long", true, false), 1);
          case "Z":
          case "ZZ":
            return offset(new RegExp("([+-]" + oneOrTwo.source + ")(?::(" + two.source + "))?"), 2);
          case "ZZZ":
            return offset(new RegExp("([+-]" + oneOrTwo.source + ")(" + two.source + ")?"), 2);
          case "z":
            return simple(/[a-z_+-/]{1,256}?/i);
          default:
            return literal(t2);
        }
      };
      var unit = unitate(token) || {
        invalidReason: MISSING_FTP
      };
      unit.token = token;
      return unit;
    }
    var partTypeStyleToTokenVal = {
      year: {
        "2-digit": "yy",
        numeric: "yyyyy"
      },
      month: {
        numeric: "M",
        "2-digit": "MM",
        short: "MMM",
        long: "MMMM"
      },
      day: {
        numeric: "d",
        "2-digit": "dd"
      },
      weekday: {
        short: "EEE",
        long: "EEEE"
      },
      dayperiod: "a",
      dayPeriod: "a",
      hour: {
        numeric: "h",
        "2-digit": "hh"
      },
      minute: {
        numeric: "m",
        "2-digit": "mm"
      },
      second: {
        numeric: "s",
        "2-digit": "ss"
      }
    };
    function tokenForPart(part, locale, formatOpts) {
      var type = part.type, value = part.value;
      if (type === "literal") {
        return {
          literal: true,
          val: value
        };
      }
      var style = formatOpts[type];
      var val = partTypeStyleToTokenVal[type];
      if (typeof val === "object") {
        val = val[style];
      }
      if (val) {
        return {
          literal: false,
          val
        };
      }
      return void 0;
    }
    function buildRegex(units) {
      var re = units.map(function(u4) {
        return u4.regex;
      }).reduce(function(f2, r3) {
        return f2 + "(" + r3.source + ")";
      }, "");
      return ["^" + re + "$", units];
    }
    function match9(input, regex, handlers) {
      var matches = input.match(regex);
      if (matches) {
        var all = {};
        var matchIndex = 1;
        for (var i3 in handlers) {
          if (hasOwnProperty(handlers, i3)) {
            var h3 = handlers[i3], groups = h3.groups ? h3.groups + 1 : 1;
            if (!h3.literal && h3.token) {
              all[h3.token.val[0]] = h3.deser(matches.slice(matchIndex, matchIndex + groups));
            }
            matchIndex += groups;
          }
        }
        return [matches, all];
      } else {
        return [matches, {}];
      }
    }
    function dateTimeFromMatches(matches) {
      var toField = function toField2(token) {
        switch (token) {
          case "S":
            return "millisecond";
          case "s":
            return "second";
          case "m":
            return "minute";
          case "h":
          case "H":
            return "hour";
          case "d":
            return "day";
          case "o":
            return "ordinal";
          case "L":
          case "M":
            return "month";
          case "y":
            return "year";
          case "E":
          case "c":
            return "weekday";
          case "W":
            return "weekNumber";
          case "k":
            return "weekYear";
          case "q":
            return "quarter";
          default:
            return null;
        }
      };
      var zone;
      if (!isUndefined(matches.Z)) {
        zone = new FixedOffsetZone(matches.Z);
      } else if (!isUndefined(matches.z)) {
        zone = IANAZone.create(matches.z);
      } else {
        zone = null;
      }
      if (!isUndefined(matches.q)) {
        matches.M = (matches.q - 1) * 3 + 1;
      }
      if (!isUndefined(matches.h)) {
        if (matches.h < 12 && matches.a === 1) {
          matches.h += 12;
        } else if (matches.h === 12 && matches.a === 0) {
          matches.h = 0;
        }
      }
      if (matches.G === 0 && matches.y) {
        matches.y = -matches.y;
      }
      if (!isUndefined(matches.u)) {
        matches.S = parseMillis(matches.u);
      }
      var vals = Object.keys(matches).reduce(function(r3, k2) {
        var f2 = toField(k2);
        if (f2) {
          r3[f2] = matches[k2];
        }
        return r3;
      }, {});
      return [vals, zone];
    }
    var dummyDateTimeCache = null;
    function getDummyDateTime() {
      if (!dummyDateTimeCache) {
        dummyDateTimeCache = DateTime4.fromMillis(1555555555555);
      }
      return dummyDateTimeCache;
    }
    function maybeExpandMacroToken(token, locale) {
      if (token.literal) {
        return token;
      }
      var formatOpts = Formatter.macroTokenToFormatOpts(token.val);
      if (!formatOpts) {
        return token;
      }
      var formatter = Formatter.create(locale, formatOpts);
      var parts = formatter.formatDateTimeParts(getDummyDateTime());
      var tokens = parts.map(function(p2) {
        return tokenForPart(p2, locale, formatOpts);
      });
      if (tokens.includes(void 0)) {
        return token;
      }
      return tokens;
    }
    function expandMacroTokens(tokens, locale) {
      var _Array$prototype;
      return (_Array$prototype = Array.prototype).concat.apply(_Array$prototype, tokens.map(function(t2) {
        return maybeExpandMacroToken(t2, locale);
      }));
    }
    function explainFromTokens(locale, input, format) {
      var tokens = expandMacroTokens(Formatter.parseFormat(format), locale), units = tokens.map(function(t2) {
        return unitForToken(t2, locale);
      }), disqualifyingUnit = units.find(function(t2) {
        return t2.invalidReason;
      });
      if (disqualifyingUnit) {
        return {
          input,
          tokens,
          invalidReason: disqualifyingUnit.invalidReason
        };
      } else {
        var _buildRegex = buildRegex(units), regexString = _buildRegex[0], handlers = _buildRegex[1], regex = RegExp(regexString, "i"), _match = match9(input, regex, handlers), rawMatches = _match[0], matches = _match[1], _ref62 = matches ? dateTimeFromMatches(matches) : [null, null], result = _ref62[0], zone = _ref62[1];
        if (hasOwnProperty(matches, "a") && hasOwnProperty(matches, "H")) {
          throw new ConflictingSpecificationError("Can't include meridiem when specifying 24-hour format");
        }
        return {
          input,
          tokens,
          regex,
          rawMatches,
          matches,
          result,
          zone
        };
      }
    }
    function parseFromTokens(locale, input, format) {
      var _explainFromTokens = explainFromTokens(locale, input, format), result = _explainFromTokens.result, zone = _explainFromTokens.zone, invalidReason = _explainFromTokens.invalidReason;
      return [result, zone, invalidReason];
    }
    var nonLeapLadder = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];
    var leapLadder = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335];
    function unitOutOfRange(unit, value) {
      return new Invalid("unit out of range", "you specified " + value + " (of type " + typeof value + ") as a " + unit + ", which is invalid");
    }
    function dayOfWeek(year, month, day) {
      var js = new Date(Date.UTC(year, month - 1, day)).getUTCDay();
      return js === 0 ? 7 : js;
    }
    function computeOrdinal(year, month, day) {
      return day + (isLeapYear(year) ? leapLadder : nonLeapLadder)[month - 1];
    }
    function uncomputeOrdinal(year, ordinal) {
      var table = isLeapYear(year) ? leapLadder : nonLeapLadder, month0 = table.findIndex(function(i3) {
        return i3 < ordinal;
      }), day = ordinal - table[month0];
      return {
        month: month0 + 1,
        day
      };
    }
    function gregorianToWeek(gregObj) {
      var year = gregObj.year, month = gregObj.month, day = gregObj.day, ordinal = computeOrdinal(year, month, day), weekday = dayOfWeek(year, month, day);
      var weekNumber = Math.floor((ordinal - weekday + 10) / 7), weekYear;
      if (weekNumber < 1) {
        weekYear = year - 1;
        weekNumber = weeksInWeekYear(weekYear);
      } else if (weekNumber > weeksInWeekYear(year)) {
        weekYear = year + 1;
        weekNumber = 1;
      } else {
        weekYear = year;
      }
      return _extends6({
        weekYear,
        weekNumber,
        weekday
      }, timeObject(gregObj));
    }
    function weekToGregorian(weekData) {
      var weekYear = weekData.weekYear, weekNumber = weekData.weekNumber, weekday = weekData.weekday, weekdayOfJan4 = dayOfWeek(weekYear, 1, 4), yearInDays = daysInYear(weekYear);
      var ordinal = weekNumber * 7 + weekday - weekdayOfJan4 - 3, year;
      if (ordinal < 1) {
        year = weekYear - 1;
        ordinal += daysInYear(year);
      } else if (ordinal > yearInDays) {
        year = weekYear + 1;
        ordinal -= daysInYear(weekYear);
      } else {
        year = weekYear;
      }
      var _uncomputeOrdinal = uncomputeOrdinal(year, ordinal), month = _uncomputeOrdinal.month, day = _uncomputeOrdinal.day;
      return _extends6({
        year,
        month,
        day
      }, timeObject(weekData));
    }
    function gregorianToOrdinal(gregData) {
      var year = gregData.year, month = gregData.month, day = gregData.day;
      var ordinal = computeOrdinal(year, month, day);
      return _extends6({
        year,
        ordinal
      }, timeObject(gregData));
    }
    function ordinalToGregorian(ordinalData) {
      var year = ordinalData.year, ordinal = ordinalData.ordinal;
      var _uncomputeOrdinal2 = uncomputeOrdinal(year, ordinal), month = _uncomputeOrdinal2.month, day = _uncomputeOrdinal2.day;
      return _extends6({
        year,
        month,
        day
      }, timeObject(ordinalData));
    }
    function hasInvalidWeekData(obj) {
      var validYear = isInteger(obj.weekYear), validWeek = integerBetween(obj.weekNumber, 1, weeksInWeekYear(obj.weekYear)), validWeekday = integerBetween(obj.weekday, 1, 7);
      if (!validYear) {
        return unitOutOfRange("weekYear", obj.weekYear);
      } else if (!validWeek) {
        return unitOutOfRange("week", obj.week);
      } else if (!validWeekday) {
        return unitOutOfRange("weekday", obj.weekday);
      } else
        return false;
    }
    function hasInvalidOrdinalData(obj) {
      var validYear = isInteger(obj.year), validOrdinal = integerBetween(obj.ordinal, 1, daysInYear(obj.year));
      if (!validYear) {
        return unitOutOfRange("year", obj.year);
      } else if (!validOrdinal) {
        return unitOutOfRange("ordinal", obj.ordinal);
      } else
        return false;
    }
    function hasInvalidGregorianData(obj) {
      var validYear = isInteger(obj.year), validMonth = integerBetween(obj.month, 1, 12), validDay = integerBetween(obj.day, 1, daysInMonth(obj.year, obj.month));
      if (!validYear) {
        return unitOutOfRange("year", obj.year);
      } else if (!validMonth) {
        return unitOutOfRange("month", obj.month);
      } else if (!validDay) {
        return unitOutOfRange("day", obj.day);
      } else
        return false;
    }
    function hasInvalidTimeData(obj) {
      var hour = obj.hour, minute = obj.minute, second = obj.second, millisecond = obj.millisecond;
      var validHour = integerBetween(hour, 0, 23) || hour === 24 && minute === 0 && second === 0 && millisecond === 0, validMinute = integerBetween(minute, 0, 59), validSecond = integerBetween(second, 0, 59), validMillisecond = integerBetween(millisecond, 0, 999);
      if (!validHour) {
        return unitOutOfRange("hour", hour);
      } else if (!validMinute) {
        return unitOutOfRange("minute", minute);
      } else if (!validSecond) {
        return unitOutOfRange("second", second);
      } else if (!validMillisecond) {
        return unitOutOfRange("millisecond", millisecond);
      } else
        return false;
    }
    var INVALID = "Invalid DateTime";
    var MAX_DATE = 864e13;
    function unsupportedZone(zone) {
      return new Invalid("unsupported zone", 'the zone "' + zone.name + '" is not supported');
    }
    function possiblyCachedWeekData(dt) {
      if (dt.weekData === null) {
        dt.weekData = gregorianToWeek(dt.c);
      }
      return dt.weekData;
    }
    function clone(inst, alts) {
      var current = {
        ts: inst.ts,
        zone: inst.zone,
        c: inst.c,
        o: inst.o,
        loc: inst.loc,
        invalid: inst.invalid
      };
      return new DateTime4(_extends6({}, current, alts, {
        old: current
      }));
    }
    function fixOffset(localTS, o2, tz) {
      var utcGuess = localTS - o2 * 60 * 1e3;
      var o22 = tz.offset(utcGuess);
      if (o2 === o22) {
        return [utcGuess, o2];
      }
      utcGuess -= (o22 - o2) * 60 * 1e3;
      var o3 = tz.offset(utcGuess);
      if (o22 === o3) {
        return [utcGuess, o22];
      }
      return [localTS - Math.min(o22, o3) * 60 * 1e3, Math.max(o22, o3)];
    }
    function tsToObj(ts, offset2) {
      ts += offset2 * 60 * 1e3;
      var d2 = new Date(ts);
      return {
        year: d2.getUTCFullYear(),
        month: d2.getUTCMonth() + 1,
        day: d2.getUTCDate(),
        hour: d2.getUTCHours(),
        minute: d2.getUTCMinutes(),
        second: d2.getUTCSeconds(),
        millisecond: d2.getUTCMilliseconds()
      };
    }
    function objToTS(obj, offset2, zone) {
      return fixOffset(objToLocalTS(obj), offset2, zone);
    }
    function adjustTime(inst, dur) {
      var oPre = inst.o, year = inst.c.year + Math.trunc(dur.years), month = inst.c.month + Math.trunc(dur.months) + Math.trunc(dur.quarters) * 3, c3 = _extends6({}, inst.c, {
        year,
        month,
        day: Math.min(inst.c.day, daysInMonth(year, month)) + Math.trunc(dur.days) + Math.trunc(dur.weeks) * 7
      }), millisToAdd = Duration.fromObject({
        years: dur.years - Math.trunc(dur.years),
        quarters: dur.quarters - Math.trunc(dur.quarters),
        months: dur.months - Math.trunc(dur.months),
        weeks: dur.weeks - Math.trunc(dur.weeks),
        days: dur.days - Math.trunc(dur.days),
        hours: dur.hours,
        minutes: dur.minutes,
        seconds: dur.seconds,
        milliseconds: dur.milliseconds
      }).as("milliseconds"), localTS = objToLocalTS(c3);
      var _fixOffset = fixOffset(localTS, oPre, inst.zone), ts = _fixOffset[0], o2 = _fixOffset[1];
      if (millisToAdd !== 0) {
        ts += millisToAdd;
        o2 = inst.zone.offset(ts);
      }
      return {
        ts,
        o: o2
      };
    }
    function parseDataToDateTime(parsed, parsedZone, opts, format, text) {
      var setZone = opts.setZone, zone = opts.zone;
      if (parsed && Object.keys(parsed).length !== 0) {
        var interpretationZone = parsedZone || zone, inst = DateTime4.fromObject(parsed, _extends6({}, opts, {
          zone: interpretationZone
        }));
        return setZone ? inst : inst.setZone(zone);
      } else {
        return DateTime4.invalid(new Invalid("unparsable", 'the input "' + text + `" can't be parsed as ` + format));
      }
    }
    function toTechFormat(dt, format, allowZ) {
      if (allowZ === void 0) {
        allowZ = true;
      }
      return dt.isValid ? Formatter.create(Locale.create("en-US"), {
        allowZ,
        forceSimple: true
      }).formatDateTimeFromString(dt, format) : null;
    }
    function toTechTimeFormat(dt, _ref) {
      var _ref$suppressSeconds = _ref.suppressSeconds, suppressSeconds = _ref$suppressSeconds === void 0 ? false : _ref$suppressSeconds, _ref$suppressMillisec = _ref.suppressMilliseconds, suppressMilliseconds = _ref$suppressMillisec === void 0 ? false : _ref$suppressMillisec, includeOffset = _ref.includeOffset, _ref$includePrefix = _ref.includePrefix, includePrefix = _ref$includePrefix === void 0 ? false : _ref$includePrefix, _ref$includeZone = _ref.includeZone, includeZone = _ref$includeZone === void 0 ? false : _ref$includeZone, _ref$spaceZone = _ref.spaceZone, spaceZone = _ref$spaceZone === void 0 ? false : _ref$spaceZone, _ref$format = _ref.format, format = _ref$format === void 0 ? "extended" : _ref$format;
      var fmt = format === "basic" ? "HHmm" : "HH:mm";
      if (!suppressSeconds || dt.second !== 0 || dt.millisecond !== 0) {
        fmt += format === "basic" ? "ss" : ":ss";
        if (!suppressMilliseconds || dt.millisecond !== 0) {
          fmt += ".SSS";
        }
      }
      if ((includeZone || includeOffset) && spaceZone) {
        fmt += " ";
      }
      if (includeZone) {
        fmt += "z";
      } else if (includeOffset) {
        fmt += format === "basic" ? "ZZZ" : "ZZ";
      }
      var str = toTechFormat(dt, fmt);
      if (includePrefix) {
        str = "T" + str;
      }
      return str;
    }
    var defaultUnitValues = {
      month: 1,
      day: 1,
      hour: 0,
      minute: 0,
      second: 0,
      millisecond: 0
    };
    var defaultWeekUnitValues = {
      weekNumber: 1,
      weekday: 1,
      hour: 0,
      minute: 0,
      second: 0,
      millisecond: 0
    };
    var defaultOrdinalUnitValues = {
      ordinal: 1,
      hour: 0,
      minute: 0,
      second: 0,
      millisecond: 0
    };
    var orderedUnits = ["year", "month", "day", "hour", "minute", "second", "millisecond"];
    var orderedWeekUnits = ["weekYear", "weekNumber", "weekday", "hour", "minute", "second", "millisecond"];
    var orderedOrdinalUnits = ["year", "ordinal", "hour", "minute", "second", "millisecond"];
    function normalizeUnit(unit) {
      var normalized = {
        year: "year",
        years: "year",
        month: "month",
        months: "month",
        day: "day",
        days: "day",
        hour: "hour",
        hours: "hour",
        minute: "minute",
        minutes: "minute",
        quarter: "quarter",
        quarters: "quarter",
        second: "second",
        seconds: "second",
        millisecond: "millisecond",
        milliseconds: "millisecond",
        weekday: "weekday",
        weekdays: "weekday",
        weeknumber: "weekNumber",
        weeksnumber: "weekNumber",
        weeknumbers: "weekNumber",
        weekyear: "weekYear",
        weekyears: "weekYear",
        ordinal: "ordinal"
      }[unit.toLowerCase()];
      if (!normalized)
        throw new InvalidUnitError(unit);
      return normalized;
    }
    function quickDT(obj, opts) {
      var zone = normalizeZone(opts.zone, Settings.defaultZone), loc = Locale.fromObject(opts), tsNow = Settings.now();
      var ts, o2;
      if (!isUndefined(obj.year)) {
        for (var _iterator = _createForOfIteratorHelperLoose(orderedUnits), _step; !(_step = _iterator()).done; ) {
          var u4 = _step.value;
          if (isUndefined(obj[u4])) {
            obj[u4] = defaultUnitValues[u4];
          }
        }
        var invalid = hasInvalidGregorianData(obj) || hasInvalidTimeData(obj);
        if (invalid) {
          return DateTime4.invalid(invalid);
        }
        var offsetProvis = zone.offset(tsNow);
        var _objToTS = objToTS(obj, offsetProvis, zone);
        ts = _objToTS[0];
        o2 = _objToTS[1];
      } else {
        ts = tsNow;
      }
      return new DateTime4({
        ts,
        zone,
        loc,
        o: o2
      });
    }
    function diffRelative(start, end, opts) {
      var round = isUndefined(opts.round) ? true : opts.round, format = function format2(c3, unit2) {
        c3 = roundTo(c3, round || opts.calendary ? 0 : 2, true);
        var formatter = end.loc.clone(opts).relFormatter(opts);
        return formatter.format(c3, unit2);
      }, differ = function differ2(unit2) {
        if (opts.calendary) {
          if (!end.hasSame(start, unit2)) {
            return end.startOf(unit2).diff(start.startOf(unit2), unit2).get(unit2);
          } else
            return 0;
        } else {
          return end.diff(start, unit2).get(unit2);
        }
      };
      if (opts.unit) {
        return format(differ(opts.unit), opts.unit);
      }
      for (var _iterator2 = _createForOfIteratorHelperLoose(opts.units), _step2; !(_step2 = _iterator2()).done; ) {
        var unit = _step2.value;
        var count = differ(unit);
        if (Math.abs(count) >= 1) {
          return format(count, unit);
        }
      }
      return format(start > end ? -0 : 0, opts.units[opts.units.length - 1]);
    }
    function lastOpts(argList) {
      var opts = {}, args;
      if (argList.length > 0 && typeof argList[argList.length - 1] === "object") {
        opts = argList[argList.length - 1];
        args = Array.from(argList).slice(0, argList.length - 1);
      } else {
        args = Array.from(argList);
      }
      return [opts, args];
    }
    var DateTime4 = /* @__PURE__ */ function() {
      function DateTime5(config) {
        var zone = config.zone || Settings.defaultZone;
        var invalid = config.invalid || (Number.isNaN(config.ts) ? new Invalid("invalid input") : null) || (!zone.isValid ? unsupportedZone(zone) : null);
        this.ts = isUndefined(config.ts) ? Settings.now() : config.ts;
        var c3 = null, o2 = null;
        if (!invalid) {
          var unchanged = config.old && config.old.ts === this.ts && config.old.zone.equals(zone);
          if (unchanged) {
            var _ref22 = [config.old.c, config.old.o];
            c3 = _ref22[0];
            o2 = _ref22[1];
          } else {
            var ot = zone.offset(this.ts);
            c3 = tsToObj(this.ts, ot);
            invalid = Number.isNaN(c3.year) ? new Invalid("invalid input") : null;
            c3 = invalid ? null : c3;
            o2 = invalid ? null : ot;
          }
        }
        this._zone = zone;
        this.loc = config.loc || Locale.create();
        this.invalid = invalid;
        this.weekData = null;
        this.c = c3;
        this.o = o2;
        this.isLuxonDateTime = true;
      }
      DateTime5.now = function now2() {
        return new DateTime5({});
      };
      DateTime5.local = function local2() {
        var _lastOpts = lastOpts(arguments), opts = _lastOpts[0], args = _lastOpts[1], year = args[0], month = args[1], day = args[2], hour = args[3], minute = args[4], second = args[5], millisecond = args[6];
        return quickDT({
          year,
          month,
          day,
          hour,
          minute,
          second,
          millisecond
        }, opts);
      };
      DateTime5.utc = function utc() {
        var _lastOpts2 = lastOpts(arguments), opts = _lastOpts2[0], args = _lastOpts2[1], year = args[0], month = args[1], day = args[2], hour = args[3], minute = args[4], second = args[5], millisecond = args[6];
        opts.zone = FixedOffsetZone.utcInstance;
        return quickDT({
          year,
          month,
          day,
          hour,
          minute,
          second,
          millisecond
        }, opts);
      };
      DateTime5.fromJSDate = function fromJSDate(date, options) {
        if (options === void 0) {
          options = {};
        }
        var ts = isDate(date) ? date.valueOf() : NaN;
        if (Number.isNaN(ts)) {
          return DateTime5.invalid("invalid input");
        }
        var zoneToUse = normalizeZone(options.zone, Settings.defaultZone);
        if (!zoneToUse.isValid) {
          return DateTime5.invalid(unsupportedZone(zoneToUse));
        }
        return new DateTime5({
          ts,
          zone: zoneToUse,
          loc: Locale.fromObject(options)
        });
      };
      DateTime5.fromMillis = function fromMillis(milliseconds, options) {
        if (options === void 0) {
          options = {};
        }
        if (!isNumber(milliseconds)) {
          throw new InvalidArgumentError("fromMillis requires a numerical input, but received a " + typeof milliseconds + " with value " + milliseconds);
        } else if (milliseconds < -MAX_DATE || milliseconds > MAX_DATE) {
          return DateTime5.invalid("Timestamp out of range");
        } else {
          return new DateTime5({
            ts: milliseconds,
            zone: normalizeZone(options.zone, Settings.defaultZone),
            loc: Locale.fromObject(options)
          });
        }
      };
      DateTime5.fromSeconds = function fromSeconds(seconds, options) {
        if (options === void 0) {
          options = {};
        }
        if (!isNumber(seconds)) {
          throw new InvalidArgumentError("fromSeconds requires a numerical input");
        } else {
          return new DateTime5({
            ts: seconds * 1e3,
            zone: normalizeZone(options.zone, Settings.defaultZone),
            loc: Locale.fromObject(options)
          });
        }
      };
      DateTime5.fromObject = function fromObject(obj, opts) {
        if (opts === void 0) {
          opts = {};
        }
        obj = obj || {};
        var zoneToUse = normalizeZone(opts.zone, Settings.defaultZone);
        if (!zoneToUse.isValid) {
          return DateTime5.invalid(unsupportedZone(zoneToUse));
        }
        var tsNow = Settings.now(), offsetProvis = zoneToUse.offset(tsNow), normalized = normalizeObject(obj, normalizeUnit), containsOrdinal = !isUndefined(normalized.ordinal), containsGregorYear = !isUndefined(normalized.year), containsGregorMD = !isUndefined(normalized.month) || !isUndefined(normalized.day), containsGregor = containsGregorYear || containsGregorMD, definiteWeekDef = normalized.weekYear || normalized.weekNumber, loc = Locale.fromObject(opts);
        if ((containsGregor || containsOrdinal) && definiteWeekDef) {
          throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");
        }
        if (containsGregorMD && containsOrdinal) {
          throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");
        }
        var useWeekData = definiteWeekDef || normalized.weekday && !containsGregor;
        var units, defaultValues, objNow = tsToObj(tsNow, offsetProvis);
        if (useWeekData) {
          units = orderedWeekUnits;
          defaultValues = defaultWeekUnitValues;
          objNow = gregorianToWeek(objNow);
        } else if (containsOrdinal) {
          units = orderedOrdinalUnits;
          defaultValues = defaultOrdinalUnitValues;
          objNow = gregorianToOrdinal(objNow);
        } else {
          units = orderedUnits;
          defaultValues = defaultUnitValues;
        }
        var foundFirst = false;
        for (var _iterator3 = _createForOfIteratorHelperLoose(units), _step3; !(_step3 = _iterator3()).done; ) {
          var u4 = _step3.value;
          var v = normalized[u4];
          if (!isUndefined(v)) {
            foundFirst = true;
          } else if (foundFirst) {
            normalized[u4] = defaultValues[u4];
          } else {
            normalized[u4] = objNow[u4];
          }
        }
        var higherOrderInvalid = useWeekData ? hasInvalidWeekData(normalized) : containsOrdinal ? hasInvalidOrdinalData(normalized) : hasInvalidGregorianData(normalized), invalid = higherOrderInvalid || hasInvalidTimeData(normalized);
        if (invalid) {
          return DateTime5.invalid(invalid);
        }
        var gregorian = useWeekData ? weekToGregorian(normalized) : containsOrdinal ? ordinalToGregorian(normalized) : normalized, _objToTS2 = objToTS(gregorian, offsetProvis, zoneToUse), tsFinal = _objToTS2[0], offsetFinal = _objToTS2[1], inst = new DateTime5({
          ts: tsFinal,
          zone: zoneToUse,
          o: offsetFinal,
          loc
        });
        if (normalized.weekday && containsGregor && obj.weekday !== inst.weekday) {
          return DateTime5.invalid("mismatched weekday", "you can't specify both a weekday of " + normalized.weekday + " and a date of " + inst.toISO());
        }
        return inst;
      };
      DateTime5.fromISO = function fromISO(text, opts) {
        if (opts === void 0) {
          opts = {};
        }
        var _parseISODate = parseISODate(text), vals = _parseISODate[0], parsedZone = _parseISODate[1];
        return parseDataToDateTime(vals, parsedZone, opts, "ISO 8601", text);
      };
      DateTime5.fromRFC2822 = function fromRFC2822(text, opts) {
        if (opts === void 0) {
          opts = {};
        }
        var _parseRFC2822Date = parseRFC2822Date(text), vals = _parseRFC2822Date[0], parsedZone = _parseRFC2822Date[1];
        return parseDataToDateTime(vals, parsedZone, opts, "RFC 2822", text);
      };
      DateTime5.fromHTTP = function fromHTTP(text, opts) {
        if (opts === void 0) {
          opts = {};
        }
        var _parseHTTPDate = parseHTTPDate(text), vals = _parseHTTPDate[0], parsedZone = _parseHTTPDate[1];
        return parseDataToDateTime(vals, parsedZone, opts, "HTTP", opts);
      };
      DateTime5.fromFormat = function fromFormat(text, fmt, opts) {
        if (opts === void 0) {
          opts = {};
        }
        if (isUndefined(text) || isUndefined(fmt)) {
          throw new InvalidArgumentError("fromFormat requires an input string and a format");
        }
        var _opts = opts, _opts$locale = _opts.locale, locale = _opts$locale === void 0 ? null : _opts$locale, _opts$numberingSystem = _opts.numberingSystem, numberingSystem = _opts$numberingSystem === void 0 ? null : _opts$numberingSystem, localeToUse = Locale.fromOpts({
          locale,
          numberingSystem,
          defaultToEN: true
        }), _parseFromTokens = parseFromTokens(localeToUse, text, fmt), vals = _parseFromTokens[0], parsedZone = _parseFromTokens[1], invalid = _parseFromTokens[2];
        if (invalid) {
          return DateTime5.invalid(invalid);
        } else {
          return parseDataToDateTime(vals, parsedZone, opts, "format " + fmt, text);
        }
      };
      DateTime5.fromString = function fromString(text, fmt, opts) {
        if (opts === void 0) {
          opts = {};
        }
        return DateTime5.fromFormat(text, fmt, opts);
      };
      DateTime5.fromSQL = function fromSQL(text, opts) {
        if (opts === void 0) {
          opts = {};
        }
        var _parseSQL = parseSQL(text), vals = _parseSQL[0], parsedZone = _parseSQL[1];
        return parseDataToDateTime(vals, parsedZone, opts, "SQL", text);
      };
      DateTime5.invalid = function invalid(reason, explanation) {
        if (explanation === void 0) {
          explanation = null;
        }
        if (!reason) {
          throw new InvalidArgumentError("need to specify a reason the DateTime is invalid");
        }
        var invalid2 = reason instanceof Invalid ? reason : new Invalid(reason, explanation);
        if (Settings.throwOnInvalid) {
          throw new InvalidDateTimeError(invalid2);
        } else {
          return new DateTime5({
            invalid: invalid2
          });
        }
      };
      DateTime5.isDateTime = function isDateTime(o2) {
        return o2 && o2.isLuxonDateTime || false;
      };
      var _proto = DateTime5.prototype;
      _proto.get = function get(unit) {
        return this[unit];
      };
      _proto.resolvedLocaleOptions = function resolvedLocaleOptions(opts) {
        if (opts === void 0) {
          opts = {};
        }
        var _Formatter$create$res = Formatter.create(this.loc.clone(opts), opts).resolvedOptions(this), locale = _Formatter$create$res.locale, numberingSystem = _Formatter$create$res.numberingSystem, calendar = _Formatter$create$res.calendar;
        return {
          locale,
          numberingSystem,
          outputCalendar: calendar
        };
      };
      _proto.toUTC = function toUTC(offset2, opts) {
        if (offset2 === void 0) {
          offset2 = 0;
        }
        if (opts === void 0) {
          opts = {};
        }
        return this.setZone(FixedOffsetZone.instance(offset2), opts);
      };
      _proto.toLocal = function toLocal() {
        return this.setZone(Settings.defaultZone);
      };
      _proto.setZone = function setZone(zone, _temp) {
        var _ref3 = _temp === void 0 ? {} : _temp, _ref3$keepLocalTime = _ref3.keepLocalTime, keepLocalTime = _ref3$keepLocalTime === void 0 ? false : _ref3$keepLocalTime, _ref3$keepCalendarTim = _ref3.keepCalendarTime, keepCalendarTime = _ref3$keepCalendarTim === void 0 ? false : _ref3$keepCalendarTim;
        zone = normalizeZone(zone, Settings.defaultZone);
        if (zone.equals(this.zone)) {
          return this;
        } else if (!zone.isValid) {
          return DateTime5.invalid(unsupportedZone(zone));
        } else {
          var newTS = this.ts;
          if (keepLocalTime || keepCalendarTime) {
            var offsetGuess = zone.offset(this.ts);
            var asObj = this.toObject();
            var _objToTS3 = objToTS(asObj, offsetGuess, zone);
            newTS = _objToTS3[0];
          }
          return clone(this, {
            ts: newTS,
            zone
          });
        }
      };
      _proto.reconfigure = function reconfigure(_temp2) {
        var _ref4 = _temp2 === void 0 ? {} : _temp2, locale = _ref4.locale, numberingSystem = _ref4.numberingSystem, outputCalendar = _ref4.outputCalendar;
        var loc = this.loc.clone({
          locale,
          numberingSystem,
          outputCalendar
        });
        return clone(this, {
          loc
        });
      };
      _proto.setLocale = function setLocale(locale) {
        return this.reconfigure({
          locale
        });
      };
      _proto.set = function set(values) {
        if (!this.isValid)
          return this;
        var normalized = normalizeObject(values, normalizeUnit), settingWeekStuff = !isUndefined(normalized.weekYear) || !isUndefined(normalized.weekNumber) || !isUndefined(normalized.weekday), containsOrdinal = !isUndefined(normalized.ordinal), containsGregorYear = !isUndefined(normalized.year), containsGregorMD = !isUndefined(normalized.month) || !isUndefined(normalized.day), containsGregor = containsGregorYear || containsGregorMD, definiteWeekDef = normalized.weekYear || normalized.weekNumber;
        if ((containsGregor || containsOrdinal) && definiteWeekDef) {
          throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");
        }
        if (containsGregorMD && containsOrdinal) {
          throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");
        }
        var mixed;
        if (settingWeekStuff) {
          mixed = weekToGregorian(_extends6({}, gregorianToWeek(this.c), normalized));
        } else if (!isUndefined(normalized.ordinal)) {
          mixed = ordinalToGregorian(_extends6({}, gregorianToOrdinal(this.c), normalized));
        } else {
          mixed = _extends6({}, this.toObject(), normalized);
          if (isUndefined(normalized.day)) {
            mixed.day = Math.min(daysInMonth(mixed.year, mixed.month), mixed.day);
          }
        }
        var _objToTS4 = objToTS(mixed, this.o, this.zone), ts = _objToTS4[0], o2 = _objToTS4[1];
        return clone(this, {
          ts,
          o: o2
        });
      };
      _proto.plus = function plus(duration) {
        if (!this.isValid)
          return this;
        var dur = friendlyDuration(duration);
        return clone(this, adjustTime(this, dur));
      };
      _proto.minus = function minus(duration) {
        if (!this.isValid)
          return this;
        var dur = friendlyDuration(duration).negate();
        return clone(this, adjustTime(this, dur));
      };
      _proto.startOf = function startOf(unit) {
        if (!this.isValid)
          return this;
        var o2 = {}, normalizedUnit = Duration.normalizeUnit(unit);
        switch (normalizedUnit) {
          case "years":
            o2.month = 1;
          case "quarters":
          case "months":
            o2.day = 1;
          case "weeks":
          case "days":
            o2.hour = 0;
          case "hours":
            o2.minute = 0;
          case "minutes":
            o2.second = 0;
          case "seconds":
            o2.millisecond = 0;
            break;
        }
        if (normalizedUnit === "weeks") {
          o2.weekday = 1;
        }
        if (normalizedUnit === "quarters") {
          var q3 = Math.ceil(this.month / 3);
          o2.month = (q3 - 1) * 3 + 1;
        }
        return this.set(o2);
      };
      _proto.endOf = function endOf(unit) {
        var _this$plus;
        return this.isValid ? this.plus((_this$plus = {}, _this$plus[unit] = 1, _this$plus)).startOf(unit).minus(1) : this;
      };
      _proto.toFormat = function toFormat(fmt, opts) {
        if (opts === void 0) {
          opts = {};
        }
        return this.isValid ? Formatter.create(this.loc.redefaultToEN(opts)).formatDateTimeFromString(this, fmt) : INVALID;
      };
      _proto.toLocaleString = function toLocaleString(formatOpts, opts) {
        if (formatOpts === void 0) {
          formatOpts = DATE_SHORT;
        }
        if (opts === void 0) {
          opts = {};
        }
        return this.isValid ? Formatter.create(this.loc.clone(opts), formatOpts).formatDateTime(this) : INVALID;
      };
      _proto.toLocaleParts = function toLocaleParts(opts) {
        if (opts === void 0) {
          opts = {};
        }
        return this.isValid ? Formatter.create(this.loc.clone(opts), opts).formatDateTimeParts(this) : [];
      };
      _proto.toISO = function toISO(opts) {
        if (opts === void 0) {
          opts = {};
        }
        if (!this.isValid) {
          return null;
        }
        return this.toISODate(opts) + "T" + this.toISOTime(opts);
      };
      _proto.toISODate = function toISODate(_temp3) {
        var _ref5 = _temp3 === void 0 ? {} : _temp3, _ref5$format = _ref5.format, format = _ref5$format === void 0 ? "extended" : _ref5$format;
        var fmt = format === "basic" ? "yyyyMMdd" : "yyyy-MM-dd";
        if (this.year > 9999) {
          fmt = "+" + fmt;
        }
        return toTechFormat(this, fmt);
      };
      _proto.toISOWeekDate = function toISOWeekDate() {
        return toTechFormat(this, "kkkk-'W'WW-c");
      };
      _proto.toISOTime = function toISOTime(_temp4) {
        var _ref62 = _temp4 === void 0 ? {} : _temp4, _ref6$suppressMillise = _ref62.suppressMilliseconds, suppressMilliseconds = _ref6$suppressMillise === void 0 ? false : _ref6$suppressMillise, _ref6$suppressSeconds = _ref62.suppressSeconds, suppressSeconds = _ref6$suppressSeconds === void 0 ? false : _ref6$suppressSeconds, _ref6$includeOffset = _ref62.includeOffset, includeOffset = _ref6$includeOffset === void 0 ? true : _ref6$includeOffset, _ref6$includePrefix = _ref62.includePrefix, includePrefix = _ref6$includePrefix === void 0 ? false : _ref6$includePrefix, _ref6$format = _ref62.format, format = _ref6$format === void 0 ? "extended" : _ref6$format;
        return toTechTimeFormat(this, {
          suppressSeconds,
          suppressMilliseconds,
          includeOffset,
          includePrefix,
          format
        });
      };
      _proto.toRFC2822 = function toRFC2822() {
        return toTechFormat(this, "EEE, dd LLL yyyy HH:mm:ss ZZZ", false);
      };
      _proto.toHTTP = function toHTTP() {
        return toTechFormat(this.toUTC(), "EEE, dd LLL yyyy HH:mm:ss 'GMT'");
      };
      _proto.toSQLDate = function toSQLDate() {
        return toTechFormat(this, "yyyy-MM-dd");
      };
      _proto.toSQLTime = function toSQLTime(_temp5) {
        var _ref7 = _temp5 === void 0 ? {} : _temp5, _ref7$includeOffset = _ref7.includeOffset, includeOffset = _ref7$includeOffset === void 0 ? true : _ref7$includeOffset, _ref7$includeZone = _ref7.includeZone, includeZone = _ref7$includeZone === void 0 ? false : _ref7$includeZone;
        return toTechTimeFormat(this, {
          includeOffset,
          includeZone,
          spaceZone: true
        });
      };
      _proto.toSQL = function toSQL(opts) {
        if (opts === void 0) {
          opts = {};
        }
        if (!this.isValid) {
          return null;
        }
        return this.toSQLDate() + " " + this.toSQLTime(opts);
      };
      _proto.toString = function toString() {
        return this.isValid ? this.toISO() : INVALID;
      };
      _proto.valueOf = function valueOf() {
        return this.toMillis();
      };
      _proto.toMillis = function toMillis() {
        return this.isValid ? this.ts : NaN;
      };
      _proto.toSeconds = function toSeconds() {
        return this.isValid ? this.ts / 1e3 : NaN;
      };
      _proto.toJSON = function toJSON() {
        return this.toISO();
      };
      _proto.toBSON = function toBSON() {
        return this.toJSDate();
      };
      _proto.toObject = function toObject(opts) {
        if (opts === void 0) {
          opts = {};
        }
        if (!this.isValid)
          return {};
        var base = _extends6({}, this.c);
        if (opts.includeConfig) {
          base.outputCalendar = this.outputCalendar;
          base.numberingSystem = this.loc.numberingSystem;
          base.locale = this.loc.locale;
        }
        return base;
      };
      _proto.toJSDate = function toJSDate() {
        return new Date(this.isValid ? this.ts : NaN);
      };
      _proto.diff = function diff(otherDateTime, unit, opts) {
        if (unit === void 0) {
          unit = "milliseconds";
        }
        if (opts === void 0) {
          opts = {};
        }
        if (!this.isValid || !otherDateTime.isValid) {
          return Duration.invalid("created by diffing an invalid DateTime");
        }
        var durOpts = _extends6({
          locale: this.locale,
          numberingSystem: this.numberingSystem
        }, opts);
        var units = maybeArray(unit).map(Duration.normalizeUnit), otherIsLater = otherDateTime.valueOf() > this.valueOf(), earlier = otherIsLater ? this : otherDateTime, later = otherIsLater ? otherDateTime : this, diffed = _diff(earlier, later, units, durOpts);
        return otherIsLater ? diffed.negate() : diffed;
      };
      _proto.diffNow = function diffNow(unit, opts) {
        if (unit === void 0) {
          unit = "milliseconds";
        }
        if (opts === void 0) {
          opts = {};
        }
        return this.diff(DateTime5.now(), unit, opts);
      };
      _proto.until = function until(otherDateTime) {
        return this.isValid ? Interval.fromDateTimes(this, otherDateTime) : this;
      };
      _proto.hasSame = function hasSame(otherDateTime, unit) {
        if (!this.isValid)
          return false;
        var inputMs = otherDateTime.valueOf();
        var otherZoneDateTime = this.setZone(otherDateTime.zone, {
          keepLocalTime: true
        });
        return otherZoneDateTime.startOf(unit) <= inputMs && inputMs <= otherZoneDateTime.endOf(unit);
      };
      _proto.equals = function equals(other) {
        return this.isValid && other.isValid && this.valueOf() === other.valueOf() && this.zone.equals(other.zone) && this.loc.equals(other.loc);
      };
      _proto.toRelative = function toRelative(options) {
        if (options === void 0) {
          options = {};
        }
        if (!this.isValid)
          return null;
        var base = options.base || DateTime5.fromObject({}, {
          zone: this.zone
        }), padding = options.padding ? this < base ? -options.padding : options.padding : 0;
        var units = ["years", "months", "days", "hours", "minutes", "seconds"];
        var unit = options.unit;
        if (Array.isArray(options.unit)) {
          units = options.unit;
          unit = void 0;
        }
        return diffRelative(base, this.plus(padding), _extends6({}, options, {
          numeric: "always",
          units,
          unit
        }));
      };
      _proto.toRelativeCalendar = function toRelativeCalendar(options) {
        if (options === void 0) {
          options = {};
        }
        if (!this.isValid)
          return null;
        return diffRelative(options.base || DateTime5.fromObject({}, {
          zone: this.zone
        }), this, _extends6({}, options, {
          numeric: "auto",
          units: ["years", "months", "days"],
          calendary: true
        }));
      };
      DateTime5.min = function min() {
        for (var _len = arguments.length, dateTimes = new Array(_len), _key = 0; _key < _len; _key++) {
          dateTimes[_key] = arguments[_key];
        }
        if (!dateTimes.every(DateTime5.isDateTime)) {
          throw new InvalidArgumentError("min requires all arguments be DateTimes");
        }
        return bestBy(dateTimes, function(i3) {
          return i3.valueOf();
        }, Math.min);
      };
      DateTime5.max = function max() {
        for (var _len2 = arguments.length, dateTimes = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
          dateTimes[_key2] = arguments[_key2];
        }
        if (!dateTimes.every(DateTime5.isDateTime)) {
          throw new InvalidArgumentError("max requires all arguments be DateTimes");
        }
        return bestBy(dateTimes, function(i3) {
          return i3.valueOf();
        }, Math.max);
      };
      DateTime5.fromFormatExplain = function fromFormatExplain(text, fmt, options) {
        if (options === void 0) {
          options = {};
        }
        var _options = options, _options$locale = _options.locale, locale = _options$locale === void 0 ? null : _options$locale, _options$numberingSys = _options.numberingSystem, numberingSystem = _options$numberingSys === void 0 ? null : _options$numberingSys, localeToUse = Locale.fromOpts({
          locale,
          numberingSystem,
          defaultToEN: true
        });
        return explainFromTokens(localeToUse, text, fmt);
      };
      DateTime5.fromStringExplain = function fromStringExplain(text, fmt, options) {
        if (options === void 0) {
          options = {};
        }
        return DateTime5.fromFormatExplain(text, fmt, options);
      };
      _createClass3(DateTime5, [{
        key: "isValid",
        get: function get() {
          return this.invalid === null;
        }
      }, {
        key: "invalidReason",
        get: function get() {
          return this.invalid ? this.invalid.reason : null;
        }
      }, {
        key: "invalidExplanation",
        get: function get() {
          return this.invalid ? this.invalid.explanation : null;
        }
      }, {
        key: "locale",
        get: function get() {
          return this.isValid ? this.loc.locale : null;
        }
      }, {
        key: "numberingSystem",
        get: function get() {
          return this.isValid ? this.loc.numberingSystem : null;
        }
      }, {
        key: "outputCalendar",
        get: function get() {
          return this.isValid ? this.loc.outputCalendar : null;
        }
      }, {
        key: "zone",
        get: function get() {
          return this._zone;
        }
      }, {
        key: "zoneName",
        get: function get() {
          return this.isValid ? this.zone.name : null;
        }
      }, {
        key: "year",
        get: function get() {
          return this.isValid ? this.c.year : NaN;
        }
      }, {
        key: "quarter",
        get: function get() {
          return this.isValid ? Math.ceil(this.c.month / 3) : NaN;
        }
      }, {
        key: "month",
        get: function get() {
          return this.isValid ? this.c.month : NaN;
        }
      }, {
        key: "day",
        get: function get() {
          return this.isValid ? this.c.day : NaN;
        }
      }, {
        key: "hour",
        get: function get() {
          return this.isValid ? this.c.hour : NaN;
        }
      }, {
        key: "minute",
        get: function get() {
          return this.isValid ? this.c.minute : NaN;
        }
      }, {
        key: "second",
        get: function get() {
          return this.isValid ? this.c.second : NaN;
        }
      }, {
        key: "millisecond",
        get: function get() {
          return this.isValid ? this.c.millisecond : NaN;
        }
      }, {
        key: "weekYear",
        get: function get() {
          return this.isValid ? possiblyCachedWeekData(this).weekYear : NaN;
        }
      }, {
        key: "weekNumber",
        get: function get() {
          return this.isValid ? possiblyCachedWeekData(this).weekNumber : NaN;
        }
      }, {
        key: "weekday",
        get: function get() {
          return this.isValid ? possiblyCachedWeekData(this).weekday : NaN;
        }
      }, {
        key: "ordinal",
        get: function get() {
          return this.isValid ? gregorianToOrdinal(this.c).ordinal : NaN;
        }
      }, {
        key: "monthShort",
        get: function get() {
          return this.isValid ? Info.months("short", {
            locObj: this.loc
          })[this.month - 1] : null;
        }
      }, {
        key: "monthLong",
        get: function get() {
          return this.isValid ? Info.months("long", {
            locObj: this.loc
          })[this.month - 1] : null;
        }
      }, {
        key: "weekdayShort",
        get: function get() {
          return this.isValid ? Info.weekdays("short", {
            locObj: this.loc
          })[this.weekday - 1] : null;
        }
      }, {
        key: "weekdayLong",
        get: function get() {
          return this.isValid ? Info.weekdays("long", {
            locObj: this.loc
          })[this.weekday - 1] : null;
        }
      }, {
        key: "offset",
        get: function get() {
          return this.isValid ? +this.o : NaN;
        }
      }, {
        key: "offsetNameShort",
        get: function get() {
          if (this.isValid) {
            return this.zone.offsetName(this.ts, {
              format: "short",
              locale: this.locale
            });
          } else {
            return null;
          }
        }
      }, {
        key: "offsetNameLong",
        get: function get() {
          if (this.isValid) {
            return this.zone.offsetName(this.ts, {
              format: "long",
              locale: this.locale
            });
          } else {
            return null;
          }
        }
      }, {
        key: "isOffsetFixed",
        get: function get() {
          return this.isValid ? this.zone.isUniversal : null;
        }
      }, {
        key: "isInDST",
        get: function get() {
          if (this.isOffsetFixed) {
            return false;
          } else {
            return this.offset > this.set({
              month: 1
            }).offset || this.offset > this.set({
              month: 5
            }).offset;
          }
        }
      }, {
        key: "isInLeapYear",
        get: function get() {
          return isLeapYear(this.year);
        }
      }, {
        key: "daysInMonth",
        get: function get() {
          return daysInMonth(this.year, this.month);
        }
      }, {
        key: "daysInYear",
        get: function get() {
          return this.isValid ? daysInYear(this.year) : NaN;
        }
      }, {
        key: "weeksInWeekYear",
        get: function get() {
          return this.isValid ? weeksInWeekYear(this.weekYear) : NaN;
        }
      }], [{
        key: "DATE_SHORT",
        get: function get() {
          return DATE_SHORT;
        }
      }, {
        key: "DATE_MED",
        get: function get() {
          return DATE_MED;
        }
      }, {
        key: "DATE_MED_WITH_WEEKDAY",
        get: function get() {
          return DATE_MED_WITH_WEEKDAY;
        }
      }, {
        key: "DATE_FULL",
        get: function get() {
          return DATE_FULL;
        }
      }, {
        key: "DATE_HUGE",
        get: function get() {
          return DATE_HUGE;
        }
      }, {
        key: "TIME_SIMPLE",
        get: function get() {
          return TIME_SIMPLE;
        }
      }, {
        key: "TIME_WITH_SECONDS",
        get: function get() {
          return TIME_WITH_SECONDS;
        }
      }, {
        key: "TIME_WITH_SHORT_OFFSET",
        get: function get() {
          return TIME_WITH_SHORT_OFFSET;
        }
      }, {
        key: "TIME_WITH_LONG_OFFSET",
        get: function get() {
          return TIME_WITH_LONG_OFFSET;
        }
      }, {
        key: "TIME_24_SIMPLE",
        get: function get() {
          return TIME_24_SIMPLE;
        }
      }, {
        key: "TIME_24_WITH_SECONDS",
        get: function get() {
          return TIME_24_WITH_SECONDS;
        }
      }, {
        key: "TIME_24_WITH_SHORT_OFFSET",
        get: function get() {
          return TIME_24_WITH_SHORT_OFFSET;
        }
      }, {
        key: "TIME_24_WITH_LONG_OFFSET",
        get: function get() {
          return TIME_24_WITH_LONG_OFFSET;
        }
      }, {
        key: "DATETIME_SHORT",
        get: function get() {
          return DATETIME_SHORT;
        }
      }, {
        key: "DATETIME_SHORT_WITH_SECONDS",
        get: function get() {
          return DATETIME_SHORT_WITH_SECONDS;
        }
      }, {
        key: "DATETIME_MED",
        get: function get() {
          return DATETIME_MED;
        }
      }, {
        key: "DATETIME_MED_WITH_SECONDS",
        get: function get() {
          return DATETIME_MED_WITH_SECONDS;
        }
      }, {
        key: "DATETIME_MED_WITH_WEEKDAY",
        get: function get() {
          return DATETIME_MED_WITH_WEEKDAY;
        }
      }, {
        key: "DATETIME_FULL",
        get: function get() {
          return DATETIME_FULL;
        }
      }, {
        key: "DATETIME_FULL_WITH_SECONDS",
        get: function get() {
          return DATETIME_FULL_WITH_SECONDS;
        }
      }, {
        key: "DATETIME_HUGE",
        get: function get() {
          return DATETIME_HUGE;
        }
      }, {
        key: "DATETIME_HUGE_WITH_SECONDS",
        get: function get() {
          return DATETIME_HUGE_WITH_SECONDS;
        }
      }]);
      return DateTime5;
    }();
    function friendlyDateTime(dateTimeish) {
      if (DateTime4.isDateTime(dateTimeish)) {
        return dateTimeish;
      } else if (dateTimeish && dateTimeish.valueOf && isNumber(dateTimeish.valueOf())) {
        return DateTime4.fromJSDate(dateTimeish);
      } else if (dateTimeish && typeof dateTimeish === "object") {
        return DateTime4.fromObject(dateTimeish);
      } else {
        throw new InvalidArgumentError("Unknown datetime argument: " + dateTimeish + ", of type " + typeof dateTimeish);
      }
    }
    var VERSION = "2.0.2";
    exports2.DateTime = DateTime4;
    exports2.Duration = Duration;
    exports2.FixedOffsetZone = FixedOffsetZone;
    exports2.IANAZone = IANAZone;
    exports2.Info = Info;
    exports2.Interval = Interval;
    exports2.InvalidZone = InvalidZone;
    exports2.Settings = Settings;
    exports2.SystemZone = SystemZone;
    exports2.VERSION = VERSION;
    exports2.Zone = Zone;
  }
});

// node_modules/classnames/index.js
var require_classnames = __commonJS({
  "node_modules/classnames/index.js"(exports2, module2) {
    (function() {
      "use strict";
      var hasOwn = {}.hasOwnProperty;
      function classNames32() {
        var classes = [];
        for (var i3 = 0; i3 < arguments.length; i3++) {
          var arg = arguments[i3];
          if (!arg)
            continue;
          var argType = typeof arg;
          if (argType === "string" || argType === "number") {
            classes.push(arg);
          } else if (Array.isArray(arg)) {
            if (arg.length) {
              var inner = classNames32.apply(null, arg);
              if (inner) {
                classes.push(inner);
              }
            }
          } else if (argType === "object") {
            if (arg.toString === Object.prototype.toString) {
              for (var key in arg) {
                if (hasOwn.call(arg, key) && arg[key]) {
                  classes.push(key);
                }
              }
            } else {
              classes.push(arg.toString());
            }
          }
        }
        return classes.join(" ");
      }
      if (typeof module2 !== "undefined" && module2.exports) {
        classNames32.default = classNames32;
        module2.exports = classNames32;
      } else if (typeof define === "function" && typeof define.amd === "object" && define.amd) {
        define("classnames", [], function() {
          return classNames32;
        });
      } else {
        window.classNames = classNames32;
      }
    })();
  }
});

// node_modules/highlight-words-core/dist/index.js
var require_dist = __commonJS({
  "node_modules/highlight-words-core/dist/index.js"(exports2, module2) {
    module2.exports = function(modules) {
      var installedModules = {};
      function __webpack_require__(moduleId) {
        if (installedModules[moduleId])
          return installedModules[moduleId].exports;
        var module3 = installedModules[moduleId] = {
          exports: {},
          id: moduleId,
          loaded: false
        };
        modules[moduleId].call(module3.exports, module3, module3.exports, __webpack_require__);
        module3.loaded = true;
        return module3.exports;
      }
      __webpack_require__.m = modules;
      __webpack_require__.c = installedModules;
      __webpack_require__.p = "";
      return __webpack_require__(0);
    }([
      function(module3, exports3, __webpack_require__) {
        module3.exports = __webpack_require__(1);
      },
      function(module3, exports3, __webpack_require__) {
        "use strict";
        Object.defineProperty(exports3, "__esModule", {
          value: true
        });
        var _utils = __webpack_require__(2);
        Object.defineProperty(exports3, "combineChunks", {
          enumerable: true,
          get: function get() {
            return _utils.combineChunks;
          }
        });
        Object.defineProperty(exports3, "fillInChunks", {
          enumerable: true,
          get: function get() {
            return _utils.fillInChunks;
          }
        });
        Object.defineProperty(exports3, "findAll", {
          enumerable: true,
          get: function get() {
            return _utils.findAll;
          }
        });
        Object.defineProperty(exports3, "findChunks", {
          enumerable: true,
          get: function get() {
            return _utils.findChunks;
          }
        });
      },
      function(module3, exports3) {
        "use strict";
        Object.defineProperty(exports3, "__esModule", {
          value: true
        });
        var findAll2 = exports3.findAll = function findAll3(_ref) {
          var autoEscape = _ref.autoEscape, _ref$caseSensitive = _ref.caseSensitive, caseSensitive = _ref$caseSensitive === void 0 ? false : _ref$caseSensitive, _ref$findChunks = _ref.findChunks, findChunks = _ref$findChunks === void 0 ? defaultFindChunks : _ref$findChunks, sanitize = _ref.sanitize, searchWords = _ref.searchWords, textToHighlight = _ref.textToHighlight;
          return fillInChunks({
            chunksToHighlight: combineChunks({
              chunks: findChunks({
                autoEscape,
                caseSensitive,
                sanitize,
                searchWords,
                textToHighlight
              })
            }),
            totalLength: textToHighlight ? textToHighlight.length : 0
          });
        };
        var combineChunks = exports3.combineChunks = function combineChunks2(_ref22) {
          var chunks = _ref22.chunks;
          chunks = chunks.sort(function(first, second) {
            return first.start - second.start;
          }).reduce(function(processedChunks, nextChunk) {
            if (processedChunks.length === 0) {
              return [nextChunk];
            } else {
              var prevChunk = processedChunks.pop();
              if (nextChunk.start <= prevChunk.end) {
                var endIndex = Math.max(prevChunk.end, nextChunk.end);
                processedChunks.push({ highlight: false, start: prevChunk.start, end: endIndex });
              } else {
                processedChunks.push(prevChunk, nextChunk);
              }
              return processedChunks;
            }
          }, []);
          return chunks;
        };
        var defaultFindChunks = function defaultFindChunks2(_ref3) {
          var autoEscape = _ref3.autoEscape, caseSensitive = _ref3.caseSensitive, _ref3$sanitize = _ref3.sanitize, sanitize = _ref3$sanitize === void 0 ? defaultSanitize : _ref3$sanitize, searchWords = _ref3.searchWords, textToHighlight = _ref3.textToHighlight;
          textToHighlight = sanitize(textToHighlight);
          return searchWords.filter(function(searchWord) {
            return searchWord;
          }).reduce(function(chunks, searchWord) {
            searchWord = sanitize(searchWord);
            if (autoEscape) {
              searchWord = escapeRegExpFn(searchWord);
            }
            var regex = new RegExp(searchWord, caseSensitive ? "g" : "gi");
            var match9 = void 0;
            while (match9 = regex.exec(textToHighlight)) {
              var _start = match9.index;
              var _end = regex.lastIndex;
              if (_end > _start) {
                chunks.push({ highlight: false, start: _start, end: _end });
              }
              if (match9.index === regex.lastIndex) {
                regex.lastIndex++;
              }
            }
            return chunks;
          }, []);
        };
        exports3.findChunks = defaultFindChunks;
        var fillInChunks = exports3.fillInChunks = function fillInChunks2(_ref4) {
          var chunksToHighlight = _ref4.chunksToHighlight, totalLength = _ref4.totalLength;
          var allChunks = [];
          var append = function append2(start, end, highlight) {
            if (end - start > 0) {
              allChunks.push({
                start,
                end,
                highlight
              });
            }
          };
          if (chunksToHighlight.length === 0) {
            append(0, totalLength, false);
          } else {
            var lastIndex = 0;
            chunksToHighlight.forEach(function(chunk) {
              append(lastIndex, chunk.start, false);
              append(chunk.start, chunk.end, true);
              lastIndex = chunk.end;
            });
            append(lastIndex, totalLength, false);
          }
          return allChunks;
        };
        function defaultSanitize(string) {
          return string;
        }
        function escapeRegExpFn(string) {
          return string.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
        }
      }
    ]);
  }
});

// node_modules/dashjs/dist/dash.all.debug.js
var require_dash_all_debug = __commonJS({
  "node_modules/dashjs/dist/dash.all.debug.js"(exports2, module2) {
    (function webpackUniversalModuleDefinition(root, factory) {
      if (typeof exports2 === "object" && typeof module2 === "object")
        module2.exports = factory();
      else if (typeof define === "function" && define.amd)
        define([], factory);
      else if (typeof exports2 === "object")
        exports2["dashjs"] = factory();
      else
        root["dashjs"] = factory();
    })(window, function() {
      return function(modules) {
        var installedModules = {};
        function __webpack_require__(moduleId) {
          if (installedModules[moduleId]) {
            return installedModules[moduleId].exports;
          }
          var module3 = installedModules[moduleId] = {
            i: moduleId,
            l: false,
            exports: {}
          };
          modules[moduleId].call(module3.exports, module3, module3.exports, __webpack_require__);
          module3.l = true;
          return module3.exports;
        }
        __webpack_require__.m = modules;
        __webpack_require__.c = installedModules;
        __webpack_require__.d = function(exports3, name, getter) {
          if (!__webpack_require__.o(exports3, name)) {
            Object.defineProperty(exports3, name, { enumerable: true, get: getter });
          }
        };
        __webpack_require__.r = function(exports3) {
          if (typeof Symbol !== "undefined" && Symbol.toStringTag) {
            Object.defineProperty(exports3, Symbol.toStringTag, { value: "Module" });
          }
          Object.defineProperty(exports3, "__esModule", { value: true });
        };
        __webpack_require__.t = function(value, mode) {
          if (mode & 1)
            value = __webpack_require__(value);
          if (mode & 8)
            return value;
          if (mode & 4 && typeof value === "object" && value && value.__esModule)
            return value;
          var ns = Object.create(null);
          __webpack_require__.r(ns);
          Object.defineProperty(ns, "default", { enumerable: true, value });
          if (mode & 2 && typeof value != "string")
            for (var key in value)
              __webpack_require__.d(ns, key, function(key2) {
                return value[key2];
              }.bind(null, key));
          return ns;
        };
        __webpack_require__.n = function(module3) {
          var getter = module3 && module3.__esModule ? function getDefault() {
            return module3["default"];
          } : function getModuleExports() {
            return module3;
          };
          __webpack_require__.d(getter, "a", getter);
          return getter;
        };
        __webpack_require__.o = function(object, property) {
          return Object.prototype.hasOwnProperty.call(object, property);
        };
        __webpack_require__.p = "/dist/";
        return __webpack_require__(__webpack_require__.s = "./index.js");
      }({
        "./externals/base64.js": function(module3, exports3, __webpack_require__) {
          var UTF8 = {};
          UTF8.encode = function(s3) {
            var u4 = [];
            for (var i3 = 0; i3 < s3.length; ++i3) {
              var c3 = s3.charCodeAt(i3);
              if (c3 < 128) {
                u4.push(c3);
              } else if (c3 < 2048) {
                u4.push(192 | c3 >> 6);
                u4.push(128 | 63 & c3);
              } else if (c3 < 65536) {
                u4.push(224 | c3 >> 12);
                u4.push(128 | 63 & c3 >> 6);
                u4.push(128 | 63 & c3);
              } else {
                u4.push(240 | c3 >> 18);
                u4.push(128 | 63 & c3 >> 12);
                u4.push(128 | 63 & c3 >> 6);
                u4.push(128 | 63 & c3);
              }
            }
            return u4;
          };
          UTF8.decode = function(u4) {
            var a4 = [];
            var i3 = 0;
            while (i3 < u4.length) {
              var v = u4[i3++];
              if (v < 128) {
              } else if (v < 224) {
                v = (31 & v) << 6;
                v |= 63 & u4[i3++];
              } else if (v < 240) {
                v = (15 & v) << 12;
                v |= (63 & u4[i3++]) << 6;
                v |= 63 & u4[i3++];
              } else {
                v = (7 & v) << 18;
                v |= (63 & u4[i3++]) << 12;
                v |= (63 & u4[i3++]) << 6;
                v |= 63 & u4[i3++];
              }
              a4.push(String.fromCharCode(v));
            }
            return a4.join("");
          };
          var BASE64 = {};
          (function(T) {
            var encodeArray = function encodeArray2(u4) {
              var i3 = 0;
              var a4 = [];
              var n2 = 0 | u4.length / 3;
              while (0 < n2--) {
                var v = (u4[i3] << 16) + (u4[i3 + 1] << 8) + u4[i3 + 2];
                i3 += 3;
                a4.push(T.charAt(63 & v >> 18));
                a4.push(T.charAt(63 & v >> 12));
                a4.push(T.charAt(63 & v >> 6));
                a4.push(T.charAt(63 & v));
              }
              if (u4.length - i3 == 2) {
                var v = (u4[i3] << 16) + (u4[i3 + 1] << 8);
                a4.push(T.charAt(63 & v >> 18));
                a4.push(T.charAt(63 & v >> 12));
                a4.push(T.charAt(63 & v >> 6));
                a4.push("=");
              } else if (u4.length - i3 == 1) {
                var v = u4[i3] << 16;
                a4.push(T.charAt(63 & v >> 18));
                a4.push(T.charAt(63 & v >> 12));
                a4.push("==");
              }
              return a4.join("");
            };
            var R = function() {
              var a4 = [];
              for (var i3 = 0; i3 < T.length; ++i3) {
                a4[T.charCodeAt(i3)] = i3;
              }
              a4["=".charCodeAt(0)] = 0;
              return a4;
            }();
            var decodeArray = function decodeArray2(s3) {
              var i3 = 0;
              var u4 = [];
              var n2 = 0 | s3.length / 4;
              while (0 < n2--) {
                var v = (R[s3.charCodeAt(i3)] << 18) + (R[s3.charCodeAt(i3 + 1)] << 12) + (R[s3.charCodeAt(i3 + 2)] << 6) + R[s3.charCodeAt(i3 + 3)];
                u4.push(255 & v >> 16);
                u4.push(255 & v >> 8);
                u4.push(255 & v);
                i3 += 4;
              }
              if (u4) {
                if (s3.charAt(i3 - 2) == "=") {
                  u4.pop();
                  u4.pop();
                } else if (s3.charAt(i3 - 1) == "=") {
                  u4.pop();
                }
              }
              return u4;
            };
            var ASCII = {};
            ASCII.encode = function(s3) {
              var u4 = [];
              for (var i3 = 0; i3 < s3.length; ++i3) {
                u4.push(s3.charCodeAt(i3));
              }
              return u4;
            };
            ASCII.decode = function(u4) {
              for (var i3 = 0; i3 < s.length; ++i3) {
                a[i3] = String.fromCharCode(a[i3]);
              }
              return a.join("");
            };
            BASE64.decodeArray = function(s3) {
              var u4 = decodeArray(s3);
              return new Uint8Array(u4);
            };
            BASE64.encodeASCII = function(s3) {
              var u4 = ASCII.encode(s3);
              return encodeArray(u4);
            };
            BASE64.decodeASCII = function(s3) {
              var a4 = decodeArray(s3);
              return ASCII.decode(a4);
            };
            BASE64.encode = function(s3) {
              var u4 = UTF8.encode(s3);
              return encodeArray(u4);
            };
            BASE64.decode = function(s3) {
              var u4 = decodeArray(s3);
              return UTF8.decode(u4);
            };
          })("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");
          if (true) {
            exports3.decode = BASE64.decode;
            exports3.decodeArray = BASE64.decodeArray;
            exports3.encode = BASE64.encode;
            exports3.encodeASCII = BASE64.encodeASCII;
          }
        },
        "./externals/cea608-parser.js": function(module3, exports3, __webpack_require__) {
          (function(exports4) {
            "use strict";
            var specialCea608CharsCodes = {
              42: 225,
              92: 233,
              94: 237,
              95: 243,
              96: 250,
              123: 231,
              124: 247,
              125: 209,
              126: 241,
              127: 9608,
              128: 174,
              129: 176,
              130: 189,
              131: 191,
              132: 8482,
              133: 162,
              134: 163,
              135: 9834,
              136: 224,
              137: 32,
              138: 232,
              139: 226,
              140: 234,
              141: 238,
              142: 244,
              143: 251,
              144: 193,
              145: 201,
              146: 211,
              147: 218,
              148: 220,
              149: 252,
              150: 8216,
              151: 161,
              152: 42,
              153: 8217,
              154: 9473,
              155: 169,
              156: 8480,
              157: 8226,
              158: 8220,
              159: 8221,
              160: 192,
              161: 194,
              162: 199,
              163: 200,
              164: 202,
              165: 203,
              166: 235,
              167: 206,
              168: 207,
              169: 239,
              170: 212,
              171: 217,
              172: 249,
              173: 219,
              174: 171,
              175: 187,
              176: 195,
              177: 227,
              178: 205,
              179: 204,
              180: 236,
              181: 210,
              182: 242,
              183: 213,
              184: 245,
              185: 123,
              186: 125,
              187: 92,
              188: 94,
              189: 95,
              190: 124,
              191: 8764,
              192: 196,
              193: 228,
              194: 214,
              195: 246,
              196: 223,
              197: 165,
              198: 164,
              199: 9475,
              200: 197,
              201: 229,
              202: 216,
              203: 248,
              204: 9487,
              205: 9491,
              206: 9495,
              207: 9499
            };
            var getCharForByte = function getCharForByte2(_byte) {
              var charCode = _byte;
              if (specialCea608CharsCodes.hasOwnProperty(_byte)) {
                charCode = specialCea608CharsCodes[_byte];
              }
              return String.fromCharCode(charCode);
            };
            var NR_ROWS = 15, NR_COLS = 32;
            var rowsLowCh1 = {
              17: 1,
              18: 3,
              21: 5,
              22: 7,
              23: 9,
              16: 11,
              19: 12,
              20: 14
            };
            var rowsHighCh1 = {
              17: 2,
              18: 4,
              21: 6,
              22: 8,
              23: 10,
              19: 13,
              20: 15
            };
            var rowsLowCh2 = {
              25: 1,
              26: 3,
              29: 5,
              30: 7,
              31: 9,
              24: 11,
              27: 12,
              28: 14
            };
            var rowsHighCh2 = {
              25: 2,
              26: 4,
              29: 6,
              30: 8,
              31: 10,
              27: 13,
              28: 15
            };
            var backgroundColors = ["white", "green", "blue", "cyan", "red", "yellow", "magenta", "black", "transparent"];
            var logger = {
              verboseFilter: {
                "DATA": 3,
                "DEBUG": 3,
                "INFO": 2,
                "WARNING": 2,
                "TEXT": 1,
                "ERROR": 0
              },
              time: null,
              verboseLevel: 0,
              setTime: function setTime(newTime) {
                this.time = newTime;
              },
              log: function log(severity, msg) {
                var minLevel = this.verboseFilter[severity];
                if (this.verboseLevel >= minLevel) {
                  console.log(this.time + " [" + severity + "] " + msg);
                }
              }
            };
            var numArrayToHexArray = function numArrayToHexArray2(numArray) {
              var hexArray = [];
              for (var j = 0; j < numArray.length; j++) {
                hexArray.push(numArray[j].toString(16));
              }
              return hexArray;
            };
            var PenState = function PenState2(foreground, underline, italics, background, flash) {
              this.foreground = foreground || "white";
              this.underline = underline || false;
              this.italics = italics || false;
              this.background = background || "black";
              this.flash = flash || false;
            };
            PenState.prototype = {
              reset: function reset() {
                this.foreground = "white";
                this.underline = false;
                this.italics = false;
                this.background = "black";
                this.flash = false;
              },
              setStyles: function setStyles(styles) {
                var attribs = ["foreground", "underline", "italics", "background", "flash"];
                for (var i3 = 0; i3 < attribs.length; i3++) {
                  var style = attribs[i3];
                  if (styles.hasOwnProperty(style)) {
                    this[style] = styles[style];
                  }
                }
              },
              isDefault: function isDefault() {
                return this.foreground === "white" && !this.underline && !this.italics && this.background === "black" && !this.flash;
              },
              equals: function equals(other) {
                return this.foreground === other.foreground && this.underline === other.underline && this.italics === other.italics && this.background === other.background && this.flash === other.flash;
              },
              copy: function copy(newPenState) {
                this.foreground = newPenState.foreground;
                this.underline = newPenState.underline;
                this.italics = newPenState.italics;
                this.background = newPenState.background;
                this.flash = newPenState.flash;
              },
              toString: function toString() {
                return "color=" + this.foreground + ", underline=" + this.underline + ", italics=" + this.italics + ", background=" + this.background + ", flash=" + this.flash;
              }
            };
            var StyledUnicodeChar = function StyledUnicodeChar2(uchar, foreground, underline, italics, background, flash) {
              this.uchar = uchar || " ";
              this.penState = new PenState(foreground, underline, italics, background, flash);
            };
            StyledUnicodeChar.prototype = {
              reset: function reset() {
                this.uchar = " ";
                this.penState.reset();
              },
              setChar: function setChar(uchar, newPenState) {
                this.uchar = uchar;
                this.penState.copy(newPenState);
              },
              setPenState: function setPenState(newPenState) {
                this.penState.copy(newPenState);
              },
              equals: function equals(other) {
                return this.uchar === other.uchar && this.penState.equals(other.penState);
              },
              copy: function copy(newChar) {
                this.uchar = newChar.uchar;
                this.penState.copy(newChar.penState);
              },
              isEmpty: function isEmpty() {
                return this.uchar === " " && this.penState.isDefault();
              }
            };
            var Row = function Row2() {
              this.chars = [];
              for (var i3 = 0; i3 < NR_COLS; i3++) {
                this.chars.push(new StyledUnicodeChar());
              }
              this.pos = 0;
              this.currPenState = new PenState();
            };
            Row.prototype = {
              equals: function equals(other) {
                var equal = true;
                for (var i3 = 0; i3 < NR_COLS; i3++) {
                  if (!this.chars[i3].equals(other.chars[i3])) {
                    equal = false;
                    break;
                  }
                }
                return equal;
              },
              copy: function copy(other) {
                for (var i3 = 0; i3 < NR_COLS; i3++) {
                  this.chars[i3].copy(other.chars[i3]);
                }
              },
              isEmpty: function isEmpty() {
                var empty = true;
                for (var i3 = 0; i3 < NR_COLS; i3++) {
                  if (!this.chars[i3].isEmpty()) {
                    empty = false;
                    break;
                  }
                }
                return empty;
              },
              setCursor: function setCursor(absPos) {
                if (this.pos !== absPos) {
                  this.pos = absPos;
                }
                if (this.pos < 0) {
                  logger.log("ERROR", "Negative cursor position " + this.pos);
                  this.pos = 0;
                } else if (this.pos > NR_COLS) {
                  logger.log("ERROR", "Too large cursor position " + this.pos);
                  this.pos = NR_COLS;
                }
              },
              moveCursor: function moveCursor(relPos) {
                var newPos = this.pos + relPos;
                if (relPos > 1) {
                  for (var i3 = this.pos + 1; i3 < newPos + 1; i3++) {
                    this.chars[i3].setPenState(this.currPenState);
                  }
                }
                this.setCursor(newPos);
              },
              backSpace: function backSpace() {
                this.moveCursor(-1);
                this.chars[this.pos].setChar(" ", this.currPenState);
              },
              insertChar: function insertChar(_byte2) {
                if (_byte2 >= 144) {
                  this.backSpace();
                }
                var _char = getCharForByte(_byte2);
                if (this.pos >= NR_COLS) {
                  logger.log("ERROR", "Cannot insert " + _byte2.toString(16) + " (" + _char + ") at position " + this.pos + ". Skipping it!");
                  return;
                }
                this.chars[this.pos].setChar(_char, this.currPenState);
                this.moveCursor(1);
              },
              clearFromPos: function clearFromPos(startPos) {
                var i3;
                for (i3 = startPos; i3 < NR_COLS; i3++) {
                  this.chars[i3].reset();
                }
              },
              clear: function clear() {
                this.clearFromPos(0);
                this.pos = 0;
                this.currPenState.reset();
              },
              clearToEndOfRow: function clearToEndOfRow() {
                this.clearFromPos(this.pos);
              },
              getTextString: function getTextString() {
                var chars = [];
                var empty = true;
                for (var i3 = 0; i3 < NR_COLS; i3++) {
                  var _char2 = this.chars[i3].uchar;
                  if (_char2 !== " ") {
                    empty = false;
                  }
                  chars.push(_char2);
                }
                if (empty) {
                  return "";
                } else {
                  return chars.join("");
                }
              },
              setPenStyles: function setPenStyles(styles) {
                this.currPenState.setStyles(styles);
                var currChar = this.chars[this.pos];
                currChar.setPenState(this.currPenState);
              }
            };
            var CaptionScreen = function CaptionScreen2() {
              this.rows = [];
              for (var i3 = 0; i3 < NR_ROWS; i3++) {
                this.rows.push(new Row());
              }
              this.currRow = NR_ROWS - 1;
              this.nrRollUpRows = null;
              this.reset();
            };
            CaptionScreen.prototype = {
              reset: function reset() {
                for (var i3 = 0; i3 < NR_ROWS; i3++) {
                  this.rows[i3].clear();
                }
                this.currRow = NR_ROWS - 1;
              },
              equals: function equals(other) {
                var equal = true;
                for (var i3 = 0; i3 < NR_ROWS; i3++) {
                  if (!this.rows[i3].equals(other.rows[i3])) {
                    equal = false;
                    break;
                  }
                }
                return equal;
              },
              copy: function copy(other) {
                for (var i3 = 0; i3 < NR_ROWS; i3++) {
                  this.rows[i3].copy(other.rows[i3]);
                }
              },
              isEmpty: function isEmpty() {
                var empty = true;
                for (var i3 = 0; i3 < NR_ROWS; i3++) {
                  if (!this.rows[i3].isEmpty()) {
                    empty = false;
                    break;
                  }
                }
                return empty;
              },
              backSpace: function backSpace() {
                var row = this.rows[this.currRow];
                row.backSpace();
              },
              clearToEndOfRow: function clearToEndOfRow() {
                var row = this.rows[this.currRow];
                row.clearToEndOfRow();
              },
              insertChar: function insertChar(_char3) {
                var row = this.rows[this.currRow];
                row.insertChar(_char3);
              },
              setPen: function setPen(styles) {
                var row = this.rows[this.currRow];
                row.setPenStyles(styles);
              },
              moveCursor: function moveCursor(relPos) {
                var row = this.rows[this.currRow];
                row.moveCursor(relPos);
              },
              setCursor: function setCursor(absPos) {
                logger.log("INFO", "setCursor: " + absPos);
                var row = this.rows[this.currRow];
                row.setCursor(absPos);
              },
              setPAC: function setPAC(pacData) {
                logger.log("INFO", "pacData = " + JSON.stringify(pacData));
                var newRow = pacData.row - 1;
                if (this.nrRollUpRows && newRow < this.nrRollUpRows - 1) {
                  newRow = this.nrRollUpRows - 1;
                }
                this.currRow = newRow;
                var row = this.rows[this.currRow];
                if (pacData.indent !== null) {
                  var indent2 = pacData.indent;
                  var prevPos = Math.max(indent2 - 1, 0);
                  row.setCursor(pacData.indent);
                  pacData.color = row.chars[prevPos].penState.foreground;
                }
                var styles = {
                  foreground: pacData.color,
                  underline: pacData.underline,
                  italics: pacData.italics,
                  background: "black",
                  flash: false
                };
                this.setPen(styles);
              },
              setBkgData: function setBkgData(bkgData) {
                logger.log("INFO", "bkgData = " + JSON.stringify(bkgData));
                this.backSpace();
                this.setPen(bkgData);
                this.insertChar(32);
              },
              setRollUpRows: function setRollUpRows(nrRows) {
                this.nrRollUpRows = nrRows;
              },
              rollUp: function rollUp() {
                if (this.nrRollUpRows === null) {
                  logger.log("DEBUG", "roll_up but nrRollUpRows not set yet");
                  return;
                }
                logger.log("TEXT", this.getDisplayText());
                var topRowIndex = this.currRow + 1 - this.nrRollUpRows;
                var topRow = this.rows.splice(topRowIndex, 1)[0];
                topRow.clear();
                this.rows.splice(this.currRow, 0, topRow);
                logger.log("INFO", "Rolling up");
              },
              getDisplayText: function getDisplayText(asOneRow) {
                asOneRow = asOneRow || false;
                var displayText = [];
                var text = "";
                var rowNr = -1;
                for (var i3 = 0; i3 < NR_ROWS; i3++) {
                  var rowText = this.rows[i3].getTextString();
                  if (rowText) {
                    rowNr = i3 + 1;
                    if (asOneRow) {
                      displayText.push("Row " + rowNr + ': "' + rowText + '"');
                    } else {
                      displayText.push(rowText.trim());
                    }
                  }
                }
                if (displayText.length > 0) {
                  if (asOneRow) {
                    text = "[" + displayText.join(" | ") + "]";
                  } else {
                    text = displayText.join("\n");
                  }
                }
                return text;
              },
              getTextAndFormat: function getTextAndFormat() {
                return this.rows;
              }
            };
            var Cea608Channel = function Cea608Channel2(channelNumber, outputFilter) {
              this.chNr = channelNumber;
              this.outputFilter = outputFilter;
              this.mode = null;
              this.verbose = 0;
              this.displayedMemory = new CaptionScreen();
              this.nonDisplayedMemory = new CaptionScreen();
              this.lastOutputScreen = new CaptionScreen();
              this.currRollUpRow = this.displayedMemory.rows[NR_ROWS - 1];
              this.writeScreen = this.displayedMemory;
              this.mode = null;
              this.cueStartTime = null;
            };
            Cea608Channel.prototype = {
              modes: ["MODE_ROLL-UP", "MODE_POP-ON", "MODE_PAINT-ON", "MODE_TEXT"],
              reset: function reset() {
                this.mode = null;
                this.displayedMemory.reset();
                this.nonDisplayedMemory.reset();
                this.lastOutputScreen.reset();
                this.currRollUpRow = this.displayedMemory.rows[NR_ROWS - 1];
                this.writeScreen = this.displayedMemory;
                this.mode = null;
                this.cueStartTime = null;
                this.lastCueEndTime = null;
              },
              getHandler: function getHandler() {
                return this.outputFilter;
              },
              setHandler: function setHandler(newHandler) {
                this.outputFilter = newHandler;
              },
              setPAC: function setPAC(pacData) {
                this.writeScreen.setPAC(pacData);
              },
              setBkgData: function setBkgData(bkgData) {
                this.writeScreen.setBkgData(bkgData);
              },
              setMode: function setMode(newMode) {
                if (newMode === this.mode) {
                  return;
                }
                this.mode = newMode;
                logger.log("INFO", "MODE=" + newMode);
                if (this.mode == "MODE_POP-ON") {
                  this.writeScreen = this.nonDisplayedMemory;
                } else {
                  this.writeScreen = this.displayedMemory;
                  this.writeScreen.reset();
                }
                if (this.mode !== "MODE_ROLL-UP") {
                  this.displayedMemory.nrRollUpRows = null;
                  this.nonDisplayedMemory.nrRollUpRows = null;
                }
                this.mode = newMode;
              },
              insertChars: function insertChars(chars) {
                for (var i3 = 0; i3 < chars.length; i3++) {
                  this.writeScreen.insertChar(chars[i3]);
                }
                var screen = this.writeScreen === this.displayedMemory ? "DISP" : "NON_DISP";
                logger.log("INFO", screen + ": " + this.writeScreen.getDisplayText(true));
                if (this.mode === "MODE_PAINT-ON" || this.mode === "MODE_ROLL-UP") {
                  logger.log("TEXT", "DISPLAYED: " + this.displayedMemory.getDisplayText(true));
                  this.outputDataUpdate();
                }
              },
              cc_RCL: function cc_RCL() {
                logger.log("INFO", "RCL - Resume Caption Loading");
                this.setMode("MODE_POP-ON");
              },
              cc_BS: function cc_BS() {
                logger.log("INFO", "BS - BackSpace");
                if (this.mode === "MODE_TEXT") {
                  return;
                }
                this.writeScreen.backSpace();
                if (this.writeScreen === this.displayedMemory) {
                  this.outputDataUpdate();
                }
              },
              cc_AOF: function cc_AOF() {
                return;
              },
              cc_AON: function cc_AON() {
                return;
              },
              cc_DER: function cc_DER() {
                logger.log("INFO", "DER- Delete to End of Row");
                this.writeScreen.clearToEndOfRow();
                this.outputDataUpdate();
              },
              cc_RU: function cc_RU(nrRows) {
                logger.log("INFO", "RU(" + nrRows + ") - Roll Up");
                this.writeScreen = this.displayedMemory;
                this.setMode("MODE_ROLL-UP");
                this.writeScreen.setRollUpRows(nrRows);
              },
              cc_FON: function cc_FON() {
                logger.log("INFO", "FON - Flash On");
                this.writeScreen.setPen({
                  flash: true
                });
              },
              cc_RDC: function cc_RDC() {
                logger.log("INFO", "RDC - Resume Direct Captioning");
                this.setMode("MODE_PAINT-ON");
              },
              cc_TR: function cc_TR() {
                logger.log("INFO", "TR");
                this.setMode("MODE_TEXT");
              },
              cc_RTD: function cc_RTD() {
                logger.log("INFO", "RTD");
                this.setMode("MODE_TEXT");
              },
              cc_EDM: function cc_EDM() {
                logger.log("INFO", "EDM - Erase Displayed Memory");
                this.displayedMemory.reset();
                this.outputDataUpdate();
              },
              cc_CR: function cc_CR() {
                logger.log("CR - Carriage Return");
                this.writeScreen.rollUp();
                this.outputDataUpdate();
              },
              cc_ENM: function cc_ENM() {
                logger.log("INFO", "ENM - Erase Non-displayed Memory");
                this.nonDisplayedMemory.reset();
              },
              cc_EOC: function cc_EOC() {
                logger.log("INFO", "EOC - End Of Caption");
                if (this.mode === "MODE_POP-ON") {
                  var tmp = this.displayedMemory;
                  this.displayedMemory = this.nonDisplayedMemory;
                  this.nonDisplayedMemory = tmp;
                  this.writeScreen = this.nonDisplayedMemory;
                  logger.log("TEXT", "DISP: " + this.displayedMemory.getDisplayText());
                }
                this.outputDataUpdate();
              },
              cc_TO: function cc_TO(nrCols) {
                logger.log("INFO", "TO(" + nrCols + ") - Tab Offset");
                this.writeScreen.moveCursor(nrCols);
              },
              cc_MIDROW: function cc_MIDROW(secondByte) {
                var styles = {
                  flash: false
                };
                styles.underline = secondByte % 2 === 1;
                styles.italics = secondByte >= 46;
                if (!styles.italics) {
                  var colorIndex = Math.floor(secondByte / 2) - 16;
                  var colors = ["white", "green", "blue", "cyan", "red", "yellow", "magenta"];
                  styles.foreground = colors[colorIndex];
                } else {
                  styles.foreground = "white";
                }
                logger.log("INFO", "MIDROW: " + JSON.stringify(styles));
                this.writeScreen.setPen(styles);
              },
              outputDataUpdate: function outputDataUpdate() {
                var t2 = logger.time;
                if (t2 === null) {
                  return;
                }
                if (this.outputFilter) {
                  if (this.outputFilter.updateData) {
                    this.outputFilter.updateData(t2, this.displayedMemory);
                  }
                  if (this.cueStartTime === null && !this.displayedMemory.isEmpty()) {
                    this.cueStartTime = t2;
                  } else {
                    if (!this.displayedMemory.equals(this.lastOutputScreen)) {
                      if (this.outputFilter.newCue) {
                        this.outputFilter.newCue(this.cueStartTime, t2, this.lastOutputScreen);
                      }
                      this.cueStartTime = this.displayedMemory.isEmpty() ? null : t2;
                    }
                  }
                  this.lastOutputScreen.copy(this.displayedMemory);
                }
              },
              cueSplitAtTime: function cueSplitAtTime(t2) {
                if (this.outputFilter) {
                  if (!this.displayedMemory.isEmpty()) {
                    if (this.outputFilter.newCue) {
                      this.outputFilter.newCue(this.cueStartTime, t2, this.displayedMemory);
                    }
                    this.cueStartTime = t2;
                  }
                }
              }
            };
            var Cea608Parser = function Cea608Parser2(field, out1, out2) {
              this.field = field || 1;
              this.outputs = [out1, out2];
              this.channels = [new Cea608Channel(1, out1), new Cea608Channel(2, out2)];
              this.currChNr = -1;
              this.lastCmdA = null;
              this.lastCmdB = null;
              this.bufferedData = [];
              this.startTime = null;
              this.lastTime = null;
              this.dataCounters = {
                "padding": 0,
                "char": 0,
                "cmd": 0,
                "other": 0
              };
            };
            Cea608Parser.prototype = {
              getHandler: function getHandler(index) {
                return this.channels[index].getHandler();
              },
              setHandler: function setHandler(index, newHandler) {
                this.channels[index].setHandler(newHandler);
              },
              addData: function addData(t2, byteList) {
                var cmdFound, a4, b3, charsFound = false;
                this.lastTime = t2;
                logger.setTime(t2);
                for (var i3 = 0; i3 < byteList.length; i3 += 2) {
                  a4 = byteList[i3] & 127;
                  b3 = byteList[i3 + 1] & 127;
                  if (a4 >= 16 && a4 <= 31 && a4 === this.lastCmdA && b3 === this.lastCmdB) {
                    this.lastCmdA = null;
                    this.lastCmdB = null;
                    logger.log("DEBUG", "Repeated command (" + numArrayToHexArray([a4, b3]) + ") is dropped");
                    continue;
                  }
                  if (a4 === 0 && b3 === 0) {
                    this.dataCounters.padding += 2;
                    continue;
                  } else {
                    logger.log("DATA", "[" + numArrayToHexArray([byteList[i3], byteList[i3 + 1]]) + "] -> (" + numArrayToHexArray([a4, b3]) + ")");
                  }
                  cmdFound = this.parseCmd(a4, b3);
                  if (!cmdFound) {
                    cmdFound = this.parseMidrow(a4, b3);
                  }
                  if (!cmdFound) {
                    cmdFound = this.parsePAC(a4, b3);
                  }
                  if (!cmdFound) {
                    cmdFound = this.parseBackgroundAttributes(a4, b3);
                  }
                  if (!cmdFound) {
                    charsFound = this.parseChars(a4, b3);
                    if (charsFound) {
                      if (this.currChNr && this.currChNr >= 0) {
                        var channel = this.channels[this.currChNr - 1];
                        channel.insertChars(charsFound);
                      } else {
                        logger.log("WARNING", "No channel found yet. TEXT-MODE?");
                      }
                    }
                  }
                  if (cmdFound) {
                    this.dataCounters.cmd += 2;
                  } else if (charsFound) {
                    this.dataCounters["char"] += 2;
                  } else {
                    this.dataCounters.other += 2;
                    logger.log("WARNING", "Couldn't parse cleaned data " + numArrayToHexArray([a4, b3]) + " orig: " + numArrayToHexArray([byteList[i3], byteList[i3 + 1]]));
                  }
                }
              },
              parseCmd: function parseCmd(a4, b3) {
                var chNr = null;
                var cond1 = (a4 === 20 || a4 === 21 || a4 === 28 || a4 === 29) && 32 <= b3 && b3 <= 47;
                var cond2 = (a4 === 23 || a4 === 31) && 33 <= b3 && b3 <= 35;
                if (!(cond1 || cond2)) {
                  return false;
                }
                if (a4 === 20 || a4 === 21 || a4 === 23) {
                  chNr = 1;
                } else {
                  chNr = 2;
                }
                var channel = this.channels[chNr - 1];
                if (a4 === 20 || a4 === 21 || a4 === 28 || a4 === 29) {
                  if (b3 === 32) {
                    channel.cc_RCL();
                  } else if (b3 === 33) {
                    channel.cc_BS();
                  } else if (b3 === 34) {
                    channel.cc_AOF();
                  } else if (b3 === 35) {
                    channel.cc_AON();
                  } else if (b3 === 36) {
                    channel.cc_DER();
                  } else if (b3 === 37) {
                    channel.cc_RU(2);
                  } else if (b3 === 38) {
                    channel.cc_RU(3);
                  } else if (b3 === 39) {
                    channel.cc_RU(4);
                  } else if (b3 === 40) {
                    channel.cc_FON();
                  } else if (b3 === 41) {
                    channel.cc_RDC();
                  } else if (b3 === 42) {
                    channel.cc_TR();
                  } else if (b3 === 43) {
                    channel.cc_RTD();
                  } else if (b3 === 44) {
                    channel.cc_EDM();
                  } else if (b3 === 45) {
                    channel.cc_CR();
                  } else if (b3 === 46) {
                    channel.cc_ENM();
                  } else if (b3 === 47) {
                    channel.cc_EOC();
                  }
                } else {
                  channel.cc_TO(b3 - 32);
                }
                this.lastCmdA = a4;
                this.lastCmdB = b3;
                this.currChNr = chNr;
                return true;
              },
              parseMidrow: function parseMidrow(a4, b3) {
                var chNr = null;
                if ((a4 === 17 || a4 === 25) && 32 <= b3 && b3 <= 47) {
                  if (a4 === 17) {
                    chNr = 1;
                  } else {
                    chNr = 2;
                  }
                  if (chNr !== this.currChNr) {
                    logger.log("ERROR", "Mismatch channel in midrow parsing");
                    return false;
                  }
                  var channel = this.channels[chNr - 1];
                  channel.insertChars([32]);
                  channel.cc_MIDROW(b3);
                  logger.log("DEBUG", "MIDROW (" + numArrayToHexArray([a4, b3]) + ")");
                  this.lastCmdA = a4;
                  this.lastCmdB = b3;
                  return true;
                }
                return false;
              },
              parsePAC: function parsePAC(a4, b3) {
                var chNr = null;
                var row = null;
                var case1 = (17 <= a4 && a4 <= 23 || 25 <= a4 && a4 <= 31) && 64 <= b3 && b3 <= 127;
                var case2 = (a4 === 16 || a4 === 24) && 64 <= b3 && b3 <= 95;
                if (!(case1 || case2)) {
                  return false;
                }
                chNr = a4 <= 23 ? 1 : 2;
                if (64 <= b3 && b3 <= 95) {
                  row = chNr === 1 ? rowsLowCh1[a4] : rowsLowCh2[a4];
                } else {
                  row = chNr === 1 ? rowsHighCh1[a4] : rowsHighCh2[a4];
                }
                var pacData = this.interpretPAC(row, b3);
                var channel = this.channels[chNr - 1];
                channel.setPAC(pacData);
                this.lastCmdA = a4;
                this.lastCmdB = b3;
                this.currChNr = chNr;
                return true;
              },
              interpretPAC: function interpretPAC(row, _byte3) {
                var pacIndex = _byte3;
                var pacData = {
                  color: null,
                  italics: false,
                  indent: null,
                  underline: false,
                  row
                };
                if (_byte3 > 95) {
                  pacIndex = _byte3 - 96;
                } else {
                  pacIndex = _byte3 - 64;
                }
                pacData.underline = (pacIndex & 1) === 1;
                if (pacIndex <= 13) {
                  pacData.color = ["white", "green", "blue", "cyan", "red", "yellow", "magenta", "white"][Math.floor(pacIndex / 2)];
                } else if (pacIndex <= 15) {
                  pacData.italics = true;
                  pacData.color = "white";
                } else {
                  pacData.indent = Math.floor((pacIndex - 16) / 2) * 4;
                }
                return pacData;
              },
              parseChars: function parseChars(a4, b3) {
                var channelNr = null, charCodes = null, charCode1 = null, charCode2 = null;
                if (a4 >= 25) {
                  channelNr = 2;
                  charCode1 = a4 - 8;
                } else {
                  channelNr = 1;
                  charCode1 = a4;
                }
                if (17 <= charCode1 && charCode1 <= 19) {
                  var oneCode = b3;
                  if (charCode1 === 17) {
                    oneCode = b3 + 80;
                  } else if (charCode1 === 18) {
                    oneCode = b3 + 112;
                  } else {
                    oneCode = b3 + 144;
                  }
                  logger.log("INFO", "Special char '" + getCharForByte(oneCode) + "' in channel " + channelNr);
                  charCodes = [oneCode];
                  this.lastCmdA = a4;
                  this.lastCmdB = b3;
                } else if (32 <= a4 && a4 <= 127) {
                  charCodes = b3 === 0 ? [a4] : [a4, b3];
                  this.lastCmdA = null;
                  this.lastCmdB = null;
                }
                if (charCodes) {
                  var hexCodes = numArrayToHexArray(charCodes);
                  logger.log("DEBUG", "Char codes =  " + hexCodes.join(","));
                }
                return charCodes;
              },
              parseBackgroundAttributes: function parseBackgroundAttributes(a4, b3) {
                var bkgData, index, chNr, channel;
                var case1 = (a4 === 16 || a4 === 24) && 32 <= b3 && b3 <= 47;
                var case2 = (a4 === 23 || a4 === 31) && 45 <= b3 && b3 <= 47;
                if (!(case1 || case2)) {
                  return false;
                }
                bkgData = {};
                if (a4 === 16 || a4 === 24) {
                  index = Math.floor((b3 - 32) / 2);
                  bkgData.background = backgroundColors[index];
                  if (b3 % 2 === 1) {
                    bkgData.background = bkgData.background + "_semi";
                  }
                } else if (b3 === 45) {
                  bkgData.background = "transparent";
                } else {
                  bkgData.foreground = "black";
                  if (b3 === 47) {
                    bkgData.underline = true;
                  }
                }
                chNr = a4 < 24 ? 1 : 2;
                channel = this.channels[chNr - 1];
                channel.setBkgData(bkgData);
                this.lastCmdA = a4;
                this.lastCmdB = b3;
                return true;
              },
              reset: function reset() {
                for (var i3 = 0; i3 < this.channels.length; i3++) {
                  if (this.channels[i3]) {
                    this.channels[i3].reset();
                  }
                }
                this.lastCmdA = null;
                this.lastCmdB = null;
              },
              cueSplitAtTime: function cueSplitAtTime(t2) {
                for (var i3 = 0; i3 < this.channels.length; i3++) {
                  if (this.channels[i3]) {
                    this.channels[i3].cueSplitAtTime(t2);
                  }
                }
              }
            };
            var findCea608Nalus = function findCea608Nalus2(raw, startPos, size) {
              var nalSize = 0, cursor = startPos, nalType = 0, cea608NaluRanges = [], isCEA608SEI = function isCEA608SEI2(payloadType2, payloadSize2, raw2, pos2) {
                if (payloadType2 !== 4 || payloadSize2 < 8) {
                  return null;
                }
                var countryCode = raw2.getUint8(pos2);
                var providerCode = raw2.getUint16(pos2 + 1);
                var userIdentifier = raw2.getUint32(pos2 + 3);
                var userDataTypeCode = raw2.getUint8(pos2 + 7);
                return countryCode == 181 && providerCode == 49 && userIdentifier == 1195456820 && userDataTypeCode == 3;
              };
              while (cursor < startPos + size) {
                nalSize = raw.getUint32(cursor);
                nalType = raw.getUint8(cursor + 4) & 31;
                if (nalType === 6) {
                  var pos = cursor + 5;
                  var payloadType = -1;
                  while (pos < cursor + 4 + nalSize - 1) {
                    payloadType = 0;
                    var b3 = 255;
                    while (b3 === 255) {
                      b3 = raw.getUint8(pos);
                      payloadType += b3;
                      pos++;
                    }
                    var payloadSize = 0;
                    b3 = 255;
                    while (b3 === 255) {
                      b3 = raw.getUint8(pos);
                      payloadSize += b3;
                      pos++;
                    }
                    if (isCEA608SEI(payloadType, payloadSize, raw, pos)) {
                      cea608NaluRanges.push([pos, payloadSize]);
                    }
                    pos += payloadSize;
                  }
                }
                cursor += nalSize + 4;
              }
              return cea608NaluRanges;
            };
            var extractCea608DataFromRange = function extractCea608DataFromRange2(raw, cea608Range) {
              var pos = cea608Range[0];
              var fieldData = [[], []];
              pos += 8;
              var ccCount = raw.getUint8(pos) & 31;
              pos += 2;
              for (var i3 = 0; i3 < ccCount; i3++) {
                var _byte4 = raw.getUint8(pos);
                var ccValid = _byte4 & 4;
                var ccType = _byte4 & 3;
                pos++;
                var ccData1 = raw.getUint8(pos);
                pos++;
                var ccData2 = raw.getUint8(pos);
                pos++;
                if (ccValid && (ccData1 & 127) + (ccData2 & 127) !== 0) {
                  if (ccType === 0) {
                    fieldData[0].push(ccData1);
                    fieldData[0].push(ccData2);
                  } else if (ccType === 1) {
                    fieldData[1].push(ccData1);
                    fieldData[1].push(ccData2);
                  }
                }
              }
              return fieldData;
            };
            exports4.logger = logger;
            exports4.PenState = PenState;
            exports4.CaptionScreen = CaptionScreen;
            exports4.Cea608Parser = Cea608Parser;
            exports4.findCea608Nalus = findCea608Nalus;
            exports4.extractCea608DataFromRange = extractCea608DataFromRange;
          })(false ? void 0 : exports3);
        },
        "./externals/xml2json.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function X2JS(config) {
            "use strict";
            var VERSION = "1.2.0";
            config = config || {};
            initConfigDefaults();
            initRequiredPolyfills();
            function initConfigDefaults() {
              if (config.escapeMode === void 0) {
                config.escapeMode = true;
              }
              if (config.attributePrefix === void 0) {
                config.attributePrefix = "_";
              }
              config.arrayAccessForm = config.arrayAccessForm || "none";
              config.emptyNodeForm = config.emptyNodeForm || "text";
              if (config.enableToStringFunc === void 0) {
                config.enableToStringFunc = true;
              }
              config.arrayAccessFormPaths = config.arrayAccessFormPaths || [];
              if (config.skipEmptyTextNodesForObj === void 0) {
                config.skipEmptyTextNodesForObj = true;
              }
              if (config.stripWhitespaces === void 0) {
                config.stripWhitespaces = true;
              }
              config.datetimeAccessFormPaths = config.datetimeAccessFormPaths || [];
              if (config.useDoubleQuotes === void 0) {
                config.useDoubleQuotes = false;
              }
              config.xmlElementsFilter = config.xmlElementsFilter || [];
              config.jsonPropertiesFilter = config.jsonPropertiesFilter || [];
              if (config.keepCData === void 0) {
                config.keepCData = false;
              }
              if (config.ignoreRoot === void 0) {
                config.ignoreRoot = false;
              }
            }
            var DOMNodeTypes = {
              ELEMENT_NODE: 1,
              TEXT_NODE: 3,
              CDATA_SECTION_NODE: 4,
              COMMENT_NODE: 8,
              DOCUMENT_NODE: 9
            };
            function initRequiredPolyfills() {
            }
            function getNodeLocalName(node) {
              var nodeLocalName = node.localName;
              if (nodeLocalName == null)
                nodeLocalName = node.baseName;
              if (nodeLocalName == null || nodeLocalName == "")
                nodeLocalName = node.nodeName;
              return nodeLocalName;
            }
            function getNodePrefix(node) {
              return node.prefix;
            }
            function escapeXmlChars(str) {
              if (typeof str == "string")
                return str.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;");
              else
                return str;
            }
            function unescapeXmlChars(str) {
              return str.replace(/&lt;/g, "<").replace(/&gt;/g, ">").replace(/&quot;/g, '"').replace(/&apos;/g, "'").replace(/&amp;/g, "&");
            }
            function checkInStdFiltersArrayForm(stdFiltersArrayForm, obj, name, path) {
              var idx = 0;
              for (; idx < stdFiltersArrayForm.length; idx++) {
                var filterPath = stdFiltersArrayForm[idx];
                if (typeof filterPath === "string") {
                  if (filterPath == path)
                    break;
                } else if (filterPath instanceof RegExp) {
                  if (filterPath.test(path))
                    break;
                } else if (typeof filterPath === "function") {
                  if (filterPath(obj, name, path))
                    break;
                }
              }
              return idx != stdFiltersArrayForm.length;
            }
            function toArrayAccessForm(obj, childName, path) {
              switch (config.arrayAccessForm) {
                case "property":
                  if (!(obj[childName] instanceof Array))
                    obj[childName + "_asArray"] = [obj[childName]];
                  else
                    obj[childName + "_asArray"] = obj[childName];
                  break;
              }
              if (!(obj[childName] instanceof Array) && config.arrayAccessFormPaths.length > 0) {
                if (checkInStdFiltersArrayForm(config.arrayAccessFormPaths, obj, childName, path)) {
                  obj[childName] = [obj[childName]];
                }
              }
            }
            function fromXmlDateTime(prop) {
              var bits = prop.split(/[-T:+Z]/g);
              var d2 = new Date(bits[0], bits[1] - 1, bits[2]);
              var secondBits = bits[5].split(".");
              d2.setHours(bits[3], bits[4], secondBits[0]);
              if (secondBits.length > 1)
                d2.setMilliseconds(secondBits[1]);
              if (bits[6] && bits[7]) {
                var offsetMinutes = bits[6] * 60 + Number(bits[7]);
                var sign = /\d\d-\d\d:\d\d$/.test(prop) ? "-" : "+";
                offsetMinutes = 0 + (sign == "-" ? -1 * offsetMinutes : offsetMinutes);
                d2.setMinutes(d2.getMinutes() - offsetMinutes - d2.getTimezoneOffset());
              } else if (prop.indexOf("Z", prop.length - 1) !== -1) {
                d2 = new Date(Date.UTC(d2.getFullYear(), d2.getMonth(), d2.getDate(), d2.getHours(), d2.getMinutes(), d2.getSeconds(), d2.getMilliseconds()));
              }
              return d2;
            }
            function checkFromXmlDateTimePaths(value, childName, fullPath) {
              if (config.datetimeAccessFormPaths.length > 0) {
                var path = fullPath.split(".#")[0];
                if (checkInStdFiltersArrayForm(config.datetimeAccessFormPaths, value, childName, path)) {
                  return fromXmlDateTime(value);
                } else
                  return value;
              } else
                return value;
            }
            function checkXmlElementsFilter(obj, childType, childName, childPath) {
              if (childType == DOMNodeTypes.ELEMENT_NODE && config.xmlElementsFilter.length > 0) {
                return checkInStdFiltersArrayForm(config.xmlElementsFilter, obj, childName, childPath);
              } else
                return true;
            }
            function parseDOMChildren(node, path) {
              if (node.nodeType == DOMNodeTypes.DOCUMENT_NODE) {
                var result = new Object();
                var nodeChildren = node.childNodes;
                for (var cidx = 0; cidx < nodeChildren.length; cidx++) {
                  var child = nodeChildren[cidx];
                  if (child.nodeType == DOMNodeTypes.ELEMENT_NODE) {
                    if (config.ignoreRoot) {
                      result = parseDOMChildren(child);
                    } else {
                      result = {};
                      var childName = getNodeLocalName(child);
                      result[childName] = parseDOMChildren(child);
                    }
                  }
                }
                return result;
              } else if (node.nodeType == DOMNodeTypes.ELEMENT_NODE) {
                var result = new Object();
                result.__cnt = 0;
                var children = [];
                var nodeChildren = node.childNodes;
                for (var cidx = 0; cidx < nodeChildren.length; cidx++) {
                  var child = nodeChildren[cidx];
                  var childName = getNodeLocalName(child);
                  if (child.nodeType != DOMNodeTypes.COMMENT_NODE) {
                    var childPath = path + "." + childName;
                    if (checkXmlElementsFilter(result, child.nodeType, childName, childPath)) {
                      result.__cnt++;
                      if (result[childName] == null) {
                        var c3 = parseDOMChildren(child, childPath);
                        if (childName != "#text" || /[^\s]/.test(c3)) {
                          var o2 = {};
                          o2[childName] = c3;
                          children.push(o2);
                        }
                        result[childName] = c3;
                        toArrayAccessForm(result, childName, childPath);
                      } else {
                        if (result[childName] != null) {
                          if (!(result[childName] instanceof Array)) {
                            result[childName] = [result[childName]];
                            toArrayAccessForm(result, childName, childPath);
                          }
                        }
                        var c3 = parseDOMChildren(child, childPath);
                        if (childName != "#text" || /[^\s]/.test(c3)) {
                          var o2 = {};
                          o2[childName] = c3;
                          children.push(o2);
                        }
                        result[childName][result[childName].length] = c3;
                      }
                    }
                  }
                }
                result.__children = children;
                var nodeLocalName = getNodeLocalName(node);
                for (var aidx = 0; aidx < node.attributes.length; aidx++) {
                  var attr = node.attributes[aidx];
                  result.__cnt++;
                  var value2 = attr.value;
                  for (var m2 = 0, ml = config.matchers.length; m2 < ml; m2++) {
                    var matchobj = config.matchers[m2];
                    if (matchobj.test(attr, nodeLocalName))
                      value2 = matchobj.converter(attr.value);
                  }
                  result[config.attributePrefix + attr.name] = value2;
                }
                var nodePrefix = getNodePrefix(node);
                if (nodePrefix != null && nodePrefix != "") {
                  result.__cnt++;
                  result.__prefix = nodePrefix;
                }
                if (result["#text"] != null) {
                  result.__text = result["#text"];
                  if (result.__text instanceof Array) {
                    result.__text = result.__text.join("\n");
                  }
                  if (config.stripWhitespaces)
                    result.__text = result.__text.trim();
                  delete result["#text"];
                  if (config.arrayAccessForm == "property")
                    delete result["#text_asArray"];
                  result.__text = checkFromXmlDateTimePaths(result.__text, childName, path + "." + childName);
                }
                if (result["#cdata-section"] != null) {
                  result.__cdata = result["#cdata-section"];
                  delete result["#cdata-section"];
                  if (config.arrayAccessForm == "property")
                    delete result["#cdata-section_asArray"];
                }
                if (result.__cnt == 0 && config.emptyNodeForm == "text") {
                  result = "";
                } else if (result.__cnt == 1 && result.__text != null) {
                  result = result.__text;
                } else if (result.__cnt == 1 && result.__cdata != null && !config.keepCData) {
                  result = result.__cdata;
                } else if (result.__cnt > 1 && result.__text != null && config.skipEmptyTextNodesForObj) {
                  if (config.stripWhitespaces && result.__text == "" || result.__text.trim() == "") {
                    delete result.__text;
                  }
                }
                delete result.__cnt;
                if (config.enableToStringFunc && (result.__text != null || result.__cdata != null)) {
                  result.toString = function() {
                    return (this.__text != null ? this.__text : "") + (this.__cdata != null ? this.__cdata : "");
                  };
                }
                return result;
              } else if (node.nodeType == DOMNodeTypes.TEXT_NODE || node.nodeType == DOMNodeTypes.CDATA_SECTION_NODE) {
                return node.nodeValue;
              }
            }
            function startTag(jsonObj, element, attrList, closed) {
              var resultStr = "<" + (jsonObj != null && jsonObj.__prefix != null ? jsonObj.__prefix + ":" : "") + element;
              if (attrList != null) {
                for (var aidx = 0; aidx < attrList.length; aidx++) {
                  var attrName = attrList[aidx];
                  var attrVal = jsonObj[attrName];
                  if (config.escapeMode)
                    attrVal = escapeXmlChars(attrVal);
                  resultStr += " " + attrName.substr(config.attributePrefix.length) + "=";
                  if (config.useDoubleQuotes)
                    resultStr += '"' + attrVal + '"';
                  else
                    resultStr += "'" + attrVal + "'";
                }
              }
              if (!closed)
                resultStr += ">";
              else
                resultStr += "/>";
              return resultStr;
            }
            function endTag(jsonObj, elementName) {
              return "</" + (jsonObj.__prefix != null ? jsonObj.__prefix + ":" : "") + elementName + ">";
            }
            function endsWith(str, suffix) {
              return str.indexOf(suffix, str.length - suffix.length) !== -1;
            }
            function jsonXmlSpecialElem(jsonObj, jsonObjField) {
              if (config.arrayAccessForm == "property" && endsWith(jsonObjField.toString(), "_asArray") || jsonObjField.toString().indexOf(config.attributePrefix) == 0 || jsonObjField.toString().indexOf("__") == 0 || jsonObj[jsonObjField] instanceof Function)
                return true;
              else
                return false;
            }
            function jsonXmlElemCount(jsonObj) {
              var elementsCnt = 0;
              if (jsonObj instanceof Object) {
                for (var it in jsonObj) {
                  if (jsonXmlSpecialElem(jsonObj, it))
                    continue;
                  elementsCnt++;
                }
              }
              return elementsCnt;
            }
            function checkJsonObjPropertiesFilter(jsonObj, propertyName, jsonObjPath) {
              return config.jsonPropertiesFilter.length == 0 || jsonObjPath == "" || checkInStdFiltersArrayForm(config.jsonPropertiesFilter, jsonObj, propertyName, jsonObjPath);
            }
            function parseJSONAttributes(jsonObj) {
              var attrList = [];
              if (jsonObj instanceof Object) {
                for (var ait in jsonObj) {
                  if (ait.toString().indexOf("__") == -1 && ait.toString().indexOf(config.attributePrefix) == 0) {
                    attrList.push(ait);
                  }
                }
              }
              return attrList;
            }
            function parseJSONTextAttrs(jsonTxtObj) {
              var result = "";
              if (jsonTxtObj.__cdata != null) {
                result += "<![CDATA[" + jsonTxtObj.__cdata + "]]>";
              }
              if (jsonTxtObj.__text != null) {
                if (config.escapeMode)
                  result += escapeXmlChars(jsonTxtObj.__text);
                else
                  result += jsonTxtObj.__text;
              }
              return result;
            }
            function parseJSONTextObject(jsonTxtObj) {
              var result = "";
              if (jsonTxtObj instanceof Object) {
                result += parseJSONTextAttrs(jsonTxtObj);
              } else if (jsonTxtObj != null) {
                if (config.escapeMode)
                  result += escapeXmlChars(jsonTxtObj);
                else
                  result += jsonTxtObj;
              }
              return result;
            }
            function getJsonPropertyPath(jsonObjPath, jsonPropName) {
              if (jsonObjPath === "") {
                return jsonPropName;
              } else
                return jsonObjPath + "." + jsonPropName;
            }
            function parseJSONArray(jsonArrRoot, jsonArrObj, attrList, jsonObjPath) {
              var result = "";
              if (jsonArrRoot.length == 0) {
                result += startTag(jsonArrRoot, jsonArrObj, attrList, true);
              } else {
                for (var arIdx = 0; arIdx < jsonArrRoot.length; arIdx++) {
                  result += startTag(jsonArrRoot[arIdx], jsonArrObj, parseJSONAttributes(jsonArrRoot[arIdx]), false);
                  result += parseJSONObject(jsonArrRoot[arIdx], getJsonPropertyPath(jsonObjPath, jsonArrObj));
                  result += endTag(jsonArrRoot[arIdx], jsonArrObj);
                }
              }
              return result;
            }
            function parseJSONObject(jsonObj, jsonObjPath) {
              var result = "";
              var elementsCnt = jsonXmlElemCount(jsonObj);
              if (elementsCnt > 0) {
                for (var it in jsonObj) {
                  if (jsonXmlSpecialElem(jsonObj, it) || jsonObjPath != "" && !checkJsonObjPropertiesFilter(jsonObj, it, getJsonPropertyPath(jsonObjPath, it)))
                    continue;
                  var subObj = jsonObj[it];
                  var attrList = parseJSONAttributes(subObj);
                  if (subObj == null || subObj == void 0) {
                    result += startTag(subObj, it, attrList, true);
                  } else if (subObj instanceof Object) {
                    if (subObj instanceof Array) {
                      result += parseJSONArray(subObj, it, attrList, jsonObjPath);
                    } else if (subObj instanceof Date) {
                      result += startTag(subObj, it, attrList, false);
                      result += subObj.toISOString();
                      result += endTag(subObj, it);
                    } else {
                      var subObjElementsCnt = jsonXmlElemCount(subObj);
                      if (subObjElementsCnt > 0 || subObj.__text != null || subObj.__cdata != null) {
                        result += startTag(subObj, it, attrList, false);
                        result += parseJSONObject(subObj, getJsonPropertyPath(jsonObjPath, it));
                        result += endTag(subObj, it);
                      } else {
                        result += startTag(subObj, it, attrList, true);
                      }
                    }
                  } else {
                    result += startTag(subObj, it, attrList, false);
                    result += parseJSONTextObject(subObj);
                    result += endTag(subObj, it);
                  }
                }
              }
              result += parseJSONTextObject(jsonObj);
              return result;
            }
            this.parseXmlString = function(xmlDocStr) {
              var isIEParser = window.ActiveXObject || "ActiveXObject" in window;
              if (xmlDocStr === void 0) {
                return null;
              }
              var xmlDoc;
              if (window.DOMParser) {
                var parser = new window.DOMParser();
                var parsererrorNS = null;
                try {
                  xmlDoc = parser.parseFromString(xmlDocStr, "text/xml");
                  if (xmlDoc.getElementsByTagNameNS("*", "parsererror").length > 0) {
                    xmlDoc = null;
                  }
                } catch (err) {
                  xmlDoc = null;
                }
              } else {
                if (xmlDocStr.indexOf("<?") == 0) {
                  xmlDocStr = xmlDocStr.substr(xmlDocStr.indexOf("?>") + 2);
                }
                xmlDoc = new ActiveXObject("Microsoft.XMLDOM");
                xmlDoc.async = "false";
                xmlDoc.loadXML(xmlDocStr);
              }
              return xmlDoc;
            };
            this.asArray = function(prop) {
              if (prop === void 0 || prop == null)
                return [];
              else if (prop instanceof Array)
                return prop;
              else
                return [prop];
            };
            this.toXmlDateTime = function(dt) {
              if (dt instanceof Date)
                return dt.toISOString();
              else if (typeof dt === "number")
                return new Date(dt).toISOString();
              else
                return null;
            };
            this.asDateTime = function(prop) {
              if (typeof prop == "string") {
                return fromXmlDateTime(prop);
              } else
                return prop;
            };
            this.xml2json = function(xmlDoc) {
              return parseDOMChildren(xmlDoc);
            };
            this.xml_str2json = function(xmlDocStr) {
              var xmlDoc = this.parseXmlString(xmlDocStr);
              if (xmlDoc != null)
                return this.xml2json(xmlDoc);
              else
                return null;
            };
            this.json2xml_str = function(jsonObj) {
              return parseJSONObject(jsonObj, "");
            };
            this.json2xml = function(jsonObj) {
              var xmlDocStr = this.json2xml_str(jsonObj);
              return this.parseXmlString(xmlDocStr);
            };
            this.getVersion = function() {
              return VERSION;
            };
          }
          __webpack_exports__["default"] = X2JS;
        },
        "./index.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _index_mediaplayerOnly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./index_mediaplayerOnly.js");
          __webpack_require__.d(__webpack_exports__, "MediaPlayer", function() {
            return _index_mediaplayerOnly__WEBPACK_IMPORTED_MODULE_0__["MediaPlayer"];
          });
          var _src_streaming_utils_Capabilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/utils/Capabilities.js");
          __webpack_require__.d(__webpack_exports__, "supportsMediaSource", function() {
            return _src_streaming_utils_Capabilities__WEBPACK_IMPORTED_MODULE_1__["supportsMediaSource"];
          });
          var _src_streaming_metrics_MetricsReporting__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/metrics/MetricsReporting.js");
          __webpack_require__.d(__webpack_exports__, "MetricsReporting", function() {
            return _src_streaming_metrics_MetricsReporting__WEBPACK_IMPORTED_MODULE_2__["default"];
          });
          var _src_streaming_protection_Protection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/protection/Protection.js");
          __webpack_require__.d(__webpack_exports__, "Protection", function() {
            return _src_streaming_protection_Protection__WEBPACK_IMPORTED_MODULE_3__["default"];
          });
          var _src_streaming_MediaPlayerFactory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/MediaPlayerFactory.js");
          __webpack_require__.d(__webpack_exports__, "MediaPlayerFactory", function() {
            return _src_streaming_MediaPlayerFactory__WEBPACK_IMPORTED_MODULE_4__["default"];
          });
          var _src_core_Debug__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/core/Debug.js");
          __webpack_require__.d(__webpack_exports__, "Debug", function() {
            return _src_core_Debug__WEBPACK_IMPORTED_MODULE_5__["default"];
          });
          dashjs.Protection = _src_streaming_protection_Protection__WEBPACK_IMPORTED_MODULE_3__["default"];
          dashjs.MetricsReporting = _src_streaming_metrics_MetricsReporting__WEBPACK_IMPORTED_MODULE_2__["default"];
          dashjs.MediaPlayerFactory = _src_streaming_MediaPlayerFactory__WEBPACK_IMPORTED_MODULE_4__["default"];
          dashjs.Debug = _src_core_Debug__WEBPACK_IMPORTED_MODULE_5__["default"];
          dashjs.supportsMediaSource = _src_streaming_utils_Capabilities__WEBPACK_IMPORTED_MODULE_1__["supportsMediaSource"];
          __webpack_exports__["default"] = dashjs;
        },
        "./index_mediaplayerOnly.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          (function(global2) {
            var _src_streaming_MediaPlayer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/MediaPlayer.js");
            __webpack_require__.d(__webpack_exports__, "MediaPlayer", function() {
              return _src_streaming_MediaPlayer__WEBPACK_IMPORTED_MODULE_0__["default"];
            });
            var _src_core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/FactoryMaker.js");
            __webpack_require__.d(__webpack_exports__, "FactoryMaker", function() {
              return _src_core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__["default"];
            });
            var _src_core_Debug__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/Debug.js");
            __webpack_require__.d(__webpack_exports__, "Debug", function() {
              return _src_core_Debug__WEBPACK_IMPORTED_MODULE_2__["default"];
            });
            var _src_core_Version__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/core/Version.js");
            var es6_promise_auto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/es6-promise/auto.js");
            var es6_promise_auto__WEBPACK_IMPORTED_MODULE_4___default = /* @__PURE__ */ __webpack_require__.n(es6_promise_auto__WEBPACK_IMPORTED_MODULE_4__);
            var context = typeof window !== "undefined" && window || global2;
            var dashjs2 = context.dashjs;
            if (!dashjs2) {
              dashjs2 = context.dashjs = {};
            }
            dashjs2.MediaPlayer = _src_streaming_MediaPlayer__WEBPACK_IMPORTED_MODULE_0__["default"];
            dashjs2.FactoryMaker = _src_core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__["default"];
            dashjs2.Debug = _src_core_Debug__WEBPACK_IMPORTED_MODULE_2__["default"];
            dashjs2.Version = Object(_src_core_Version__WEBPACK_IMPORTED_MODULE_3__["getVersionString"])();
            __webpack_exports__["default"] = dashjs2;
          }).call(this, __webpack_require__("./node_modules/webpack/buildin/global.js"));
        },
        "./node_modules/base64-js/index.js": function(module3, exports3, __webpack_require__) {
          "use strict";
          exports3.byteLength = byteLength;
          exports3.toByteArray = toByteArray;
          exports3.fromByteArray = fromByteArray;
          var lookup = [];
          var revLookup = [];
          var Arr = typeof Uint8Array !== "undefined" ? Uint8Array : Array;
          var code = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
          for (var i3 = 0, len = code.length; i3 < len; ++i3) {
            lookup[i3] = code[i3];
            revLookup[code.charCodeAt(i3)] = i3;
          }
          revLookup["-".charCodeAt(0)] = 62;
          revLookup["_".charCodeAt(0)] = 63;
          function getLens(b64) {
            var len2 = b64.length;
            if (len2 % 4 > 0) {
              throw new Error("Invalid string. Length must be a multiple of 4");
            }
            var validLen = b64.indexOf("=");
            if (validLen === -1)
              validLen = len2;
            var placeHoldersLen = validLen === len2 ? 0 : 4 - validLen % 4;
            return [validLen, placeHoldersLen];
          }
          function byteLength(b64) {
            var lens = getLens(b64);
            var validLen = lens[0];
            var placeHoldersLen = lens[1];
            return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;
          }
          function _byteLength(b64, validLen, placeHoldersLen) {
            return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;
          }
          function toByteArray(b64) {
            var tmp;
            var lens = getLens(b64);
            var validLen = lens[0];
            var placeHoldersLen = lens[1];
            var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));
            var curByte = 0;
            var len2 = placeHoldersLen > 0 ? validLen - 4 : validLen;
            for (var i4 = 0; i4 < len2; i4 += 4) {
              tmp = revLookup[b64.charCodeAt(i4)] << 18 | revLookup[b64.charCodeAt(i4 + 1)] << 12 | revLookup[b64.charCodeAt(i4 + 2)] << 6 | revLookup[b64.charCodeAt(i4 + 3)];
              arr[curByte++] = tmp >> 16 & 255;
              arr[curByte++] = tmp >> 8 & 255;
              arr[curByte++] = tmp & 255;
            }
            if (placeHoldersLen === 2) {
              tmp = revLookup[b64.charCodeAt(i4)] << 2 | revLookup[b64.charCodeAt(i4 + 1)] >> 4;
              arr[curByte++] = tmp & 255;
            }
            if (placeHoldersLen === 1) {
              tmp = revLookup[b64.charCodeAt(i4)] << 10 | revLookup[b64.charCodeAt(i4 + 1)] << 4 | revLookup[b64.charCodeAt(i4 + 2)] >> 2;
              arr[curByte++] = tmp >> 8 & 255;
              arr[curByte++] = tmp & 255;
            }
            return arr;
          }
          function tripletToBase64(num) {
            return lookup[num >> 18 & 63] + lookup[num >> 12 & 63] + lookup[num >> 6 & 63] + lookup[num & 63];
          }
          function encodeChunk(uint8, start, end) {
            var tmp;
            var output = [];
            for (var i4 = start; i4 < end; i4 += 3) {
              tmp = (uint8[i4] << 16 & 16711680) + (uint8[i4 + 1] << 8 & 65280) + (uint8[i4 + 2] & 255);
              output.push(tripletToBase64(tmp));
            }
            return output.join("");
          }
          function fromByteArray(uint8) {
            var tmp;
            var len2 = uint8.length;
            var extraBytes = len2 % 3;
            var parts = [];
            var maxChunkLength = 16383;
            for (var i4 = 0, len22 = len2 - extraBytes; i4 < len22; i4 += maxChunkLength) {
              parts.push(encodeChunk(uint8, i4, i4 + maxChunkLength > len22 ? len22 : i4 + maxChunkLength));
            }
            if (extraBytes === 1) {
              tmp = uint8[len2 - 1];
              parts.push(lookup[tmp >> 2] + lookup[tmp << 4 & 63] + "==");
            } else if (extraBytes === 2) {
              tmp = (uint8[len2 - 2] << 8) + uint8[len2 - 1];
              parts.push(lookup[tmp >> 10] + lookup[tmp >> 4 & 63] + lookup[tmp << 2 & 63] + "=");
            }
            return parts.join("");
          }
        },
        "./node_modules/codem-isoboxer/dist/iso_boxer.js": function(module3, exports3, __webpack_require__) {
          var ISOBoxer = {};
          ISOBoxer.parseBuffer = function(arrayBuffer) {
            return new ISOFile(arrayBuffer).parse();
          };
          ISOBoxer.addBoxProcessor = function(type, parser) {
            if (typeof type !== "string" || typeof parser !== "function") {
              return;
            }
            ISOBox.prototype._boxProcessors[type] = parser;
          };
          ISOBoxer.createFile = function() {
            return new ISOFile();
          };
          ISOBoxer.createBox = function(type, parent, pos) {
            var newBox = ISOBox.create(type);
            if (parent) {
              parent.append(newBox, pos);
            }
            return newBox;
          };
          ISOBoxer.createFullBox = function(type, parent, pos) {
            var newBox = ISOBoxer.createBox(type, parent, pos);
            newBox.version = 0;
            newBox.flags = 0;
            return newBox;
          };
          ISOBoxer.Utils = {};
          ISOBoxer.Utils.dataViewToString = function(dataView, encoding) {
            var impliedEncoding = encoding || "utf-8";
            if (typeof TextDecoder !== "undefined") {
              return new TextDecoder(impliedEncoding).decode(dataView);
            }
            var a4 = [];
            var i3 = 0;
            if (impliedEncoding === "utf-8") {
              while (i3 < dataView.byteLength) {
                var c3 = dataView.getUint8(i3++);
                if (c3 < 128) {
                } else if (c3 < 224) {
                  c3 = (c3 & 31) << 6;
                  c3 |= dataView.getUint8(i3++) & 63;
                } else if (c3 < 240) {
                  c3 = (c3 & 15) << 12;
                  c3 |= (dataView.getUint8(i3++) & 63) << 6;
                  c3 |= dataView.getUint8(i3++) & 63;
                } else {
                  c3 = (c3 & 7) << 18;
                  c3 |= (dataView.getUint8(i3++) & 63) << 12;
                  c3 |= (dataView.getUint8(i3++) & 63) << 6;
                  c3 |= dataView.getUint8(i3++) & 63;
                }
                a4.push(String.fromCharCode(c3));
              }
            } else {
              while (i3 < dataView.byteLength) {
                a4.push(String.fromCharCode(dataView.getUint8(i3++)));
              }
            }
            return a4.join("");
          };
          ISOBoxer.Utils.utf8ToByteArray = function(string) {
            var u4, i3;
            if (typeof TextEncoder !== "undefined") {
              u4 = new TextEncoder().encode(string);
            } else {
              u4 = [];
              for (i3 = 0; i3 < string.length; ++i3) {
                var c3 = string.charCodeAt(i3);
                if (c3 < 128) {
                  u4.push(c3);
                } else if (c3 < 2048) {
                  u4.push(192 | c3 >> 6);
                  u4.push(128 | 63 & c3);
                } else if (c3 < 65536) {
                  u4.push(224 | c3 >> 12);
                  u4.push(128 | 63 & c3 >> 6);
                  u4.push(128 | 63 & c3);
                } else {
                  u4.push(240 | c3 >> 18);
                  u4.push(128 | 63 & c3 >> 12);
                  u4.push(128 | 63 & c3 >> 6);
                  u4.push(128 | 63 & c3);
                }
              }
            }
            return u4;
          };
          ISOBoxer.Utils.appendBox = function(parent, box, pos) {
            box._offset = parent._cursor.offset;
            box._root = parent._root ? parent._root : parent;
            box._raw = parent._raw;
            box._parent = parent;
            if (pos === -1) {
              return;
            }
            if (pos === void 0 || pos === null) {
              parent.boxes.push(box);
              return;
            }
            var index = -1, type;
            if (typeof pos === "number") {
              index = pos;
            } else {
              if (typeof pos === "string") {
                type = pos;
              } else if (typeof pos === "object" && pos.type) {
                type = pos.type;
              } else {
                parent.boxes.push(box);
                return;
              }
              for (var i3 = 0; i3 < parent.boxes.length; i3++) {
                if (type === parent.boxes[i3].type) {
                  index = i3 + 1;
                  break;
                }
              }
            }
            parent.boxes.splice(index, 0, box);
          };
          if (true) {
            exports3.parseBuffer = ISOBoxer.parseBuffer;
            exports3.addBoxProcessor = ISOBoxer.addBoxProcessor;
            exports3.createFile = ISOBoxer.createFile;
            exports3.createBox = ISOBoxer.createBox;
            exports3.createFullBox = ISOBoxer.createFullBox;
            exports3.Utils = ISOBoxer.Utils;
          }
          ISOBoxer.Cursor = function(initialOffset) {
            this.offset = typeof initialOffset == "undefined" ? 0 : initialOffset;
          };
          var ISOFile = function(arrayBuffer) {
            this._cursor = new ISOBoxer.Cursor();
            this.boxes = [];
            if (arrayBuffer) {
              this._raw = new DataView(arrayBuffer);
            }
          };
          ISOFile.prototype.fetch = function(type) {
            var result = this.fetchAll(type, true);
            return result.length ? result[0] : null;
          };
          ISOFile.prototype.fetchAll = function(type, returnEarly) {
            var result = [];
            ISOFile._sweep.call(this, type, result, returnEarly);
            return result;
          };
          ISOFile.prototype.parse = function() {
            this._cursor.offset = 0;
            this.boxes = [];
            while (this._cursor.offset < this._raw.byteLength) {
              var box = ISOBox.parse(this);
              if (typeof box.type === "undefined")
                break;
              this.boxes.push(box);
            }
            return this;
          };
          ISOFile._sweep = function(type, result, returnEarly) {
            if (this.type && this.type == type)
              result.push(this);
            for (var box in this.boxes) {
              if (result.length && returnEarly)
                return;
              ISOFile._sweep.call(this.boxes[box], type, result, returnEarly);
            }
          };
          ISOFile.prototype.write = function() {
            var length = 0, i3;
            for (i3 = 0; i3 < this.boxes.length; i3++) {
              length += this.boxes[i3].getLength(false);
            }
            var bytes = new Uint8Array(length);
            this._rawo = new DataView(bytes.buffer);
            this.bytes = bytes;
            this._cursor.offset = 0;
            for (i3 = 0; i3 < this.boxes.length; i3++) {
              this.boxes[i3].write();
            }
            return bytes.buffer;
          };
          ISOFile.prototype.append = function(box, pos) {
            ISOBoxer.Utils.appendBox(this, box, pos);
          };
          var ISOBox = function() {
            this._cursor = new ISOBoxer.Cursor();
          };
          ISOBox.parse = function(parent) {
            var newBox = new ISOBox();
            newBox._offset = parent._cursor.offset;
            newBox._root = parent._root ? parent._root : parent;
            newBox._raw = parent._raw;
            newBox._parent = parent;
            newBox._parseBox();
            parent._cursor.offset = newBox._raw.byteOffset + newBox._raw.byteLength;
            return newBox;
          };
          ISOBox.create = function(type) {
            var newBox = new ISOBox();
            newBox.type = type;
            newBox.boxes = [];
            return newBox;
          };
          ISOBox.prototype._boxContainers = ["dinf", "edts", "mdia", "meco", "mfra", "minf", "moof", "moov", "mvex", "stbl", "strk", "traf", "trak", "tref", "udta", "vttc", "sinf", "schi", "encv", "enca"];
          ISOBox.prototype._boxProcessors = {};
          ISOBox.prototype._procField = function(name, type, size) {
            if (this._parsing) {
              this[name] = this._readField(type, size);
            } else {
              this._writeField(type, size, this[name]);
            }
          };
          ISOBox.prototype._procFieldArray = function(name, length, type, size) {
            var i3;
            if (this._parsing) {
              this[name] = [];
              for (i3 = 0; i3 < length; i3++) {
                this[name][i3] = this._readField(type, size);
              }
            } else {
              for (i3 = 0; i3 < this[name].length; i3++) {
                this._writeField(type, size, this[name][i3]);
              }
            }
          };
          ISOBox.prototype._procFullBox = function() {
            this._procField("version", "uint", 8);
            this._procField("flags", "uint", 24);
          };
          ISOBox.prototype._procEntries = function(name, length, fn) {
            var i3;
            if (this._parsing) {
              this[name] = [];
              for (i3 = 0; i3 < length; i3++) {
                this[name].push({});
                fn.call(this, this[name][i3]);
              }
            } else {
              for (i3 = 0; i3 < length; i3++) {
                fn.call(this, this[name][i3]);
              }
            }
          };
          ISOBox.prototype._procSubEntries = function(entry, name, length, fn) {
            var i3;
            if (this._parsing) {
              entry[name] = [];
              for (i3 = 0; i3 < length; i3++) {
                entry[name].push({});
                fn.call(this, entry[name][i3]);
              }
            } else {
              for (i3 = 0; i3 < length; i3++) {
                fn.call(this, entry[name][i3]);
              }
            }
          };
          ISOBox.prototype._procEntryField = function(entry, name, type, size) {
            if (this._parsing) {
              entry[name] = this._readField(type, size);
            } else {
              this._writeField(type, size, entry[name]);
            }
          };
          ISOBox.prototype._procSubBoxes = function(name, length) {
            var i3;
            if (this._parsing) {
              this[name] = [];
              for (i3 = 0; i3 < length; i3++) {
                this[name].push(ISOBox.parse(this));
              }
            } else {
              for (i3 = 0; i3 < length; i3++) {
                if (this._rawo) {
                  this[name][i3].write();
                } else {
                  this.size += this[name][i3].getLength();
                }
              }
            }
          };
          ISOBox.prototype._readField = function(type, size) {
            switch (type) {
              case "uint":
                return this._readUint(size);
              case "int":
                return this._readInt(size);
              case "template":
                return this._readTemplate(size);
              case "string":
                return size === -1 ? this._readTerminatedString() : this._readString(size);
              case "data":
                return this._readData(size);
              case "utf8":
                return this._readUTF8String();
              default:
                return -1;
            }
          };
          ISOBox.prototype._readInt = function(size) {
            var result = null, offset = this._cursor.offset - this._raw.byteOffset;
            switch (size) {
              case 8:
                result = this._raw.getInt8(offset);
                break;
              case 16:
                result = this._raw.getInt16(offset);
                break;
              case 32:
                result = this._raw.getInt32(offset);
                break;
              case 64:
                var s1 = this._raw.getInt32(offset);
                var s22 = this._raw.getInt32(offset + 4);
                result = s1 * Math.pow(2, 32) + s22;
                break;
            }
            this._cursor.offset += size >> 3;
            return result;
          };
          ISOBox.prototype._readUint = function(size) {
            var result = null, offset = this._cursor.offset - this._raw.byteOffset, s1, s22;
            switch (size) {
              case 8:
                result = this._raw.getUint8(offset);
                break;
              case 16:
                result = this._raw.getUint16(offset);
                break;
              case 24:
                s1 = this._raw.getUint16(offset);
                s22 = this._raw.getUint8(offset + 2);
                result = (s1 << 8) + s22;
                break;
              case 32:
                result = this._raw.getUint32(offset);
                break;
              case 64:
                s1 = this._raw.getUint32(offset);
                s22 = this._raw.getUint32(offset + 4);
                result = s1 * Math.pow(2, 32) + s22;
                break;
            }
            this._cursor.offset += size >> 3;
            return result;
          };
          ISOBox.prototype._readString = function(length) {
            var str = "";
            for (var c3 = 0; c3 < length; c3++) {
              var char = this._readUint(8);
              str += String.fromCharCode(char);
            }
            return str;
          };
          ISOBox.prototype._readTemplate = function(size) {
            var pre = this._readUint(size / 2);
            var post = this._readUint(size / 2);
            return pre + post / Math.pow(2, size / 2);
          };
          ISOBox.prototype._readTerminatedString = function() {
            var str = "";
            while (this._cursor.offset - this._offset < this._raw.byteLength) {
              var char = this._readUint(8);
              if (char === 0)
                break;
              str += String.fromCharCode(char);
            }
            return str;
          };
          ISOBox.prototype._readData = function(size) {
            var length = size > 0 ? size : this._raw.byteLength - (this._cursor.offset - this._offset);
            if (length > 0) {
              var data = new Uint8Array(this._raw.buffer, this._cursor.offset, length);
              this._cursor.offset += length;
              return data;
            } else {
              return null;
            }
          };
          ISOBox.prototype._readUTF8String = function() {
            var length = this._raw.byteLength - (this._cursor.offset - this._offset);
            var data = null;
            if (length > 0) {
              data = new DataView(this._raw.buffer, this._cursor.offset, length);
              this._cursor.offset += length;
            }
            return data ? ISOBoxer.Utils.dataViewToString(data) : data;
          };
          ISOBox.prototype._parseBox = function() {
            this._parsing = true;
            this._cursor.offset = this._offset;
            if (this._offset + 8 > this._raw.buffer.byteLength) {
              this._root._incomplete = true;
              return;
            }
            this._procField("size", "uint", 32);
            this._procField("type", "string", 4);
            if (this.size === 1) {
              this._procField("largesize", "uint", 64);
            }
            if (this.type === "uuid") {
              this._procFieldArray("usertype", 16, "uint", 8);
            }
            switch (this.size) {
              case 0:
                this._raw = new DataView(this._raw.buffer, this._offset, this._raw.byteLength - this._cursor.offset + 8);
                break;
              case 1:
                if (this._offset + this.size > this._raw.buffer.byteLength) {
                  this._incomplete = true;
                  this._root._incomplete = true;
                } else {
                  this._raw = new DataView(this._raw.buffer, this._offset, this.largesize);
                }
                break;
              default:
                if (this._offset + this.size > this._raw.buffer.byteLength) {
                  this._incomplete = true;
                  this._root._incomplete = true;
                } else {
                  this._raw = new DataView(this._raw.buffer, this._offset, this.size);
                }
            }
            if (!this._incomplete) {
              if (this._boxProcessors[this.type]) {
                this._boxProcessors[this.type].call(this);
              }
              if (this._boxContainers.indexOf(this.type) !== -1) {
                this._parseContainerBox();
              } else {
                this._data = this._readData();
              }
            }
          };
          ISOBox.prototype._parseFullBox = function() {
            this.version = this._readUint(8);
            this.flags = this._readUint(24);
          };
          ISOBox.prototype._parseContainerBox = function() {
            this.boxes = [];
            while (this._cursor.offset - this._raw.byteOffset < this._raw.byteLength) {
              this.boxes.push(ISOBox.parse(this));
            }
          };
          ISOBox.prototype.append = function(box, pos) {
            ISOBoxer.Utils.appendBox(this, box, pos);
          };
          ISOBox.prototype.getLength = function() {
            this._parsing = false;
            this._rawo = null;
            this.size = 0;
            this._procField("size", "uint", 32);
            this._procField("type", "string", 4);
            if (this.size === 1) {
              this._procField("largesize", "uint", 64);
            }
            if (this.type === "uuid") {
              this._procFieldArray("usertype", 16, "uint", 8);
            }
            if (this._boxProcessors[this.type]) {
              this._boxProcessors[this.type].call(this);
            }
            if (this._boxContainers.indexOf(this.type) !== -1) {
              for (var i3 = 0; i3 < this.boxes.length; i3++) {
                this.size += this.boxes[i3].getLength();
              }
            }
            if (this._data) {
              this._writeData(this._data);
            }
            return this.size;
          };
          ISOBox.prototype.write = function() {
            this._parsing = false;
            this._cursor.offset = this._parent._cursor.offset;
            switch (this.size) {
              case 0:
                this._rawo = new DataView(this._parent._rawo.buffer, this._cursor.offset, this.parent._rawo.byteLength - this._cursor.offset);
                break;
              case 1:
                this._rawo = new DataView(this._parent._rawo.buffer, this._cursor.offset, this.largesize);
                break;
              default:
                this._rawo = new DataView(this._parent._rawo.buffer, this._cursor.offset, this.size);
            }
            this._procField("size", "uint", 32);
            this._procField("type", "string", 4);
            if (this.size === 1) {
              this._procField("largesize", "uint", 64);
            }
            if (this.type === "uuid") {
              this._procFieldArray("usertype", 16, "uint", 8);
            }
            if (this._boxProcessors[this.type]) {
              this._boxProcessors[this.type].call(this);
            }
            if (this._boxContainers.indexOf(this.type) !== -1) {
              for (var i3 = 0; i3 < this.boxes.length; i3++) {
                this.boxes[i3].write();
              }
            }
            if (this._data) {
              this._writeData(this._data);
            }
            this._parent._cursor.offset += this.size;
            return this.size;
          };
          ISOBox.prototype._writeInt = function(size, value) {
            if (this._rawo) {
              var offset = this._cursor.offset - this._rawo.byteOffset;
              switch (size) {
                case 8:
                  this._rawo.setInt8(offset, value);
                  break;
                case 16:
                  this._rawo.setInt16(offset, value);
                  break;
                case 32:
                  this._rawo.setInt32(offset, value);
                  break;
                case 64:
                  var s1 = Math.floor(value / Math.pow(2, 32));
                  var s22 = value - s1 * Math.pow(2, 32);
                  this._rawo.setUint32(offset, s1);
                  this._rawo.setUint32(offset + 4, s22);
                  break;
              }
              this._cursor.offset += size >> 3;
            } else {
              this.size += size >> 3;
            }
          };
          ISOBox.prototype._writeUint = function(size, value) {
            if (this._rawo) {
              var offset = this._cursor.offset - this._rawo.byteOffset, s1, s22;
              switch (size) {
                case 8:
                  this._rawo.setUint8(offset, value);
                  break;
                case 16:
                  this._rawo.setUint16(offset, value);
                  break;
                case 24:
                  s1 = (value & 16776960) >> 8;
                  s22 = value & 255;
                  this._rawo.setUint16(offset, s1);
                  this._rawo.setUint8(offset + 2, s22);
                  break;
                case 32:
                  this._rawo.setUint32(offset, value);
                  break;
                case 64:
                  s1 = Math.floor(value / Math.pow(2, 32));
                  s22 = value - s1 * Math.pow(2, 32);
                  this._rawo.setUint32(offset, s1);
                  this._rawo.setUint32(offset + 4, s22);
                  break;
              }
              this._cursor.offset += size >> 3;
            } else {
              this.size += size >> 3;
            }
          };
          ISOBox.prototype._writeString = function(size, str) {
            for (var c3 = 0; c3 < size; c3++) {
              this._writeUint(8, str.charCodeAt(c3));
            }
          };
          ISOBox.prototype._writeTerminatedString = function(str) {
            if (str.length === 0) {
              return;
            }
            for (var c3 = 0; c3 < str.length; c3++) {
              this._writeUint(8, str.charCodeAt(c3));
            }
            this._writeUint(8, 0);
          };
          ISOBox.prototype._writeTemplate = function(size, value) {
            var pre = Math.floor(value);
            var post = (value - pre) * Math.pow(2, size / 2);
            this._writeUint(size / 2, pre);
            this._writeUint(size / 2, post);
          };
          ISOBox.prototype._writeData = function(data) {
            var i3;
            if (data) {
              if (this._rawo) {
                if (data instanceof Array) {
                  var offset = this._cursor.offset - this._rawo.byteOffset;
                  for (var i3 = 0; i3 < data.length; i3++) {
                    this._rawo.setInt8(offset + i3, data[i3]);
                  }
                  this._cursor.offset += data.length;
                }
                if (data instanceof Uint8Array) {
                  this._root.bytes.set(data, this._cursor.offset);
                  this._cursor.offset += data.length;
                }
              } else {
                this.size += data.length;
              }
            }
          };
          ISOBox.prototype._writeUTF8String = function(string) {
            var u4 = ISOBoxer.Utils.utf8ToByteArray(string);
            if (this._rawo) {
              var dataView = new DataView(this._rawo.buffer, this._cursor.offset, u4.length);
              for (var i3 = 0; i3 < u4.length; i3++) {
                dataView.setUint8(i3, u4[i3]);
              }
            } else {
              this.size += u4.length;
            }
          };
          ISOBox.prototype._writeField = function(type, size, value) {
            switch (type) {
              case "uint":
                this._writeUint(size, value);
                break;
              case "int":
                this._writeInt(size, value);
                break;
              case "template":
                this._writeTemplate(size, value);
                break;
              case "string":
                if (size == -1) {
                  this._writeTerminatedString(value);
                } else {
                  this._writeString(size, value);
                }
                break;
              case "data":
                this._writeData(value);
                break;
              case "utf8":
                this._writeUTF8String(value);
                break;
              default:
                break;
            }
          };
          ISOBox.prototype._boxProcessors["avc1"] = ISOBox.prototype._boxProcessors["encv"] = function() {
            this._procFieldArray("reserved1", 6, "uint", 8);
            this._procField("data_reference_index", "uint", 16);
            this._procField("pre_defined1", "uint", 16);
            this._procField("reserved2", "uint", 16);
            this._procFieldArray("pre_defined2", 3, "uint", 32);
            this._procField("width", "uint", 16);
            this._procField("height", "uint", 16);
            this._procField("horizresolution", "template", 32);
            this._procField("vertresolution", "template", 32);
            this._procField("reserved3", "uint", 32);
            this._procField("frame_count", "uint", 16);
            this._procFieldArray("compressorname", 32, "uint", 8);
            this._procField("depth", "uint", 16);
            this._procField("pre_defined3", "int", 16);
            this._procField("config", "data", -1);
          };
          ISOBox.prototype._boxProcessors["dref"] = function() {
            this._procFullBox();
            this._procField("entry_count", "uint", 32);
            this._procSubBoxes("entries", this.entry_count);
          };
          ISOBox.prototype._boxProcessors["elst"] = function() {
            this._procFullBox();
            this._procField("entry_count", "uint", 32);
            this._procEntries("entries", this.entry_count, function(entry) {
              this._procEntryField(entry, "segment_duration", "uint", this.version === 1 ? 64 : 32);
              this._procEntryField(entry, "media_time", "int", this.version === 1 ? 64 : 32);
              this._procEntryField(entry, "media_rate_integer", "int", 16);
              this._procEntryField(entry, "media_rate_fraction", "int", 16);
            });
          };
          ISOBox.prototype._boxProcessors["emsg"] = function() {
            this._procFullBox();
            if (this.version == 1) {
              this._procField("timescale", "uint", 32);
              this._procField("presentation_time", "uint", 64);
              this._procField("event_duration", "uint", 32);
              this._procField("id", "uint", 32);
              this._procField("scheme_id_uri", "string", -1);
              this._procField("value", "string", -1);
            } else {
              this._procField("scheme_id_uri", "string", -1);
              this._procField("value", "string", -1);
              this._procField("timescale", "uint", 32);
              this._procField("presentation_time_delta", "uint", 32);
              this._procField("event_duration", "uint", 32);
              this._procField("id", "uint", 32);
            }
            this._procField("message_data", "data", -1);
          };
          ISOBox.prototype._boxProcessors["free"] = ISOBox.prototype._boxProcessors["skip"] = function() {
            this._procField("data", "data", -1);
          };
          ISOBox.prototype._boxProcessors["frma"] = function() {
            this._procField("data_format", "uint", 32);
          };
          ISOBox.prototype._boxProcessors["ftyp"] = ISOBox.prototype._boxProcessors["styp"] = function() {
            this._procField("major_brand", "string", 4);
            this._procField("minor_version", "uint", 32);
            var nbCompatibleBrands = -1;
            if (this._parsing) {
              nbCompatibleBrands = (this._raw.byteLength - (this._cursor.offset - this._raw.byteOffset)) / 4;
            }
            this._procFieldArray("compatible_brands", nbCompatibleBrands, "string", 4);
          };
          ISOBox.prototype._boxProcessors["hdlr"] = function() {
            this._procFullBox();
            this._procField("pre_defined", "uint", 32);
            this._procField("handler_type", "string", 4);
            this._procFieldArray("reserved", 3, "uint", 32);
            this._procField("name", "string", -1);
          };
          ISOBox.prototype._boxProcessors["mdat"] = function() {
            this._procField("data", "data", -1);
          };
          ISOBox.prototype._boxProcessors["mdhd"] = function() {
            this._procFullBox();
            this._procField("creation_time", "uint", this.version == 1 ? 64 : 32);
            this._procField("modification_time", "uint", this.version == 1 ? 64 : 32);
            this._procField("timescale", "uint", 32);
            this._procField("duration", "uint", this.version == 1 ? 64 : 32);
            if (!this._parsing && typeof this.language === "string") {
              this.language = this.language.charCodeAt(0) - 96 << 10 | this.language.charCodeAt(1) - 96 << 5 | this.language.charCodeAt(2) - 96;
            }
            this._procField("language", "uint", 16);
            if (this._parsing) {
              this.language = String.fromCharCode((this.language >> 10 & 31) + 96, (this.language >> 5 & 31) + 96, (this.language & 31) + 96);
            }
            this._procField("pre_defined", "uint", 16);
          };
          ISOBox.prototype._boxProcessors["mehd"] = function() {
            this._procFullBox();
            this._procField("fragment_duration", "uint", this.version == 1 ? 64 : 32);
          };
          ISOBox.prototype._boxProcessors["mfhd"] = function() {
            this._procFullBox();
            this._procField("sequence_number", "uint", 32);
          };
          ISOBox.prototype._boxProcessors["mfro"] = function() {
            this._procFullBox();
            this._procField("mfra_size", "uint", 32);
          };
          ISOBox.prototype._boxProcessors["mp4a"] = ISOBox.prototype._boxProcessors["enca"] = function() {
            this._procFieldArray("reserved1", 6, "uint", 8);
            this._procField("data_reference_index", "uint", 16);
            this._procFieldArray("reserved2", 2, "uint", 32);
            this._procField("channelcount", "uint", 16);
            this._procField("samplesize", "uint", 16);
            this._procField("pre_defined", "uint", 16);
            this._procField("reserved3", "uint", 16);
            this._procField("samplerate", "template", 32);
            this._procField("esds", "data", -1);
          };
          ISOBox.prototype._boxProcessors["mvhd"] = function() {
            this._procFullBox();
            this._procField("creation_time", "uint", this.version == 1 ? 64 : 32);
            this._procField("modification_time", "uint", this.version == 1 ? 64 : 32);
            this._procField("timescale", "uint", 32);
            this._procField("duration", "uint", this.version == 1 ? 64 : 32);
            this._procField("rate", "template", 32);
            this._procField("volume", "template", 16);
            this._procField("reserved1", "uint", 16);
            this._procFieldArray("reserved2", 2, "uint", 32);
            this._procFieldArray("matrix", 9, "template", 32);
            this._procFieldArray("pre_defined", 6, "uint", 32);
            this._procField("next_track_ID", "uint", 32);
          };
          ISOBox.prototype._boxProcessors["payl"] = function() {
            this._procField("cue_text", "utf8");
          };
          ISOBox.prototype._boxProcessors["pssh"] = function() {
            this._procFullBox();
            this._procFieldArray("SystemID", 16, "uint", 8);
            this._procField("DataSize", "uint", 32);
            this._procFieldArray("Data", this.DataSize, "uint", 8);
          };
          ISOBox.prototype._boxProcessors["schm"] = function() {
            this._procFullBox();
            this._procField("scheme_type", "uint", 32);
            this._procField("scheme_version", "uint", 32);
            if (this.flags & 1) {
              this._procField("scheme_uri", "string", -1);
            }
          };
          ISOBox.prototype._boxProcessors["sdtp"] = function() {
            this._procFullBox();
            var sample_count = -1;
            if (this._parsing) {
              sample_count = this._raw.byteLength - (this._cursor.offset - this._raw.byteOffset);
            }
            this._procFieldArray("sample_dependency_table", sample_count, "uint", 8);
          };
          ISOBox.prototype._boxProcessors["sidx"] = function() {
            this._procFullBox();
            this._procField("reference_ID", "uint", 32);
            this._procField("timescale", "uint", 32);
            this._procField("earliest_presentation_time", "uint", this.version == 1 ? 64 : 32);
            this._procField("first_offset", "uint", this.version == 1 ? 64 : 32);
            this._procField("reserved", "uint", 16);
            this._procField("reference_count", "uint", 16);
            this._procEntries("references", this.reference_count, function(entry) {
              if (!this._parsing) {
                entry.reference = (entry.reference_type & 1) << 31;
                entry.reference |= entry.referenced_size & 2147483647;
                entry.sap = (entry.starts_with_SAP & 1) << 31;
                entry.sap |= (entry.SAP_type & 3) << 28;
                entry.sap |= entry.SAP_delta_time & 268435455;
              }
              this._procEntryField(entry, "reference", "uint", 32);
              this._procEntryField(entry, "subsegment_duration", "uint", 32);
              this._procEntryField(entry, "sap", "uint", 32);
              if (this._parsing) {
                entry.reference_type = entry.reference >> 31 & 1;
                entry.referenced_size = entry.reference & 2147483647;
                entry.starts_with_SAP = entry.sap >> 31 & 1;
                entry.SAP_type = entry.sap >> 28 & 7;
                entry.SAP_delta_time = entry.sap & 268435455;
              }
            });
          };
          ISOBox.prototype._boxProcessors["smhd"] = function() {
            this._procFullBox();
            this._procField("balance", "uint", 16);
            this._procField("reserved", "uint", 16);
          };
          ISOBox.prototype._boxProcessors["ssix"] = function() {
            this._procFullBox();
            this._procField("subsegment_count", "uint", 32);
            this._procEntries("subsegments", this.subsegment_count, function(subsegment) {
              this._procEntryField(subsegment, "ranges_count", "uint", 32);
              this._procSubEntries(subsegment, "ranges", subsegment.ranges_count, function(range) {
                this._procEntryField(range, "level", "uint", 8);
                this._procEntryField(range, "range_size", "uint", 24);
              });
            });
          };
          ISOBox.prototype._boxProcessors["stsd"] = function() {
            this._procFullBox();
            this._procField("entry_count", "uint", 32);
            this._procSubBoxes("entries", this.entry_count);
          };
          ISOBox.prototype._boxProcessors["subs"] = function() {
            this._procFullBox();
            this._procField("entry_count", "uint", 32);
            this._procEntries("entries", this.entry_count, function(entry) {
              this._procEntryField(entry, "sample_delta", "uint", 32);
              this._procEntryField(entry, "subsample_count", "uint", 16);
              this._procSubEntries(entry, "subsamples", entry.subsample_count, function(subsample) {
                this._procEntryField(subsample, "subsample_size", "uint", this.version === 1 ? 32 : 16);
                this._procEntryField(subsample, "subsample_priority", "uint", 8);
                this._procEntryField(subsample, "discardable", "uint", 8);
                this._procEntryField(subsample, "codec_specific_parameters", "uint", 32);
              });
            });
          };
          ISOBox.prototype._boxProcessors["tenc"] = function() {
            this._procFullBox();
            this._procField("default_IsEncrypted", "uint", 24);
            this._procField("default_IV_size", "uint", 8);
            this._procFieldArray("default_KID", 16, "uint", 8);
          };
          ISOBox.prototype._boxProcessors["tfdt"] = function() {
            this._procFullBox();
            this._procField("baseMediaDecodeTime", "uint", this.version == 1 ? 64 : 32);
          };
          ISOBox.prototype._boxProcessors["tfhd"] = function() {
            this._procFullBox();
            this._procField("track_ID", "uint", 32);
            if (this.flags & 1)
              this._procField("base_data_offset", "uint", 64);
            if (this.flags & 2)
              this._procField("sample_description_offset", "uint", 32);
            if (this.flags & 8)
              this._procField("default_sample_duration", "uint", 32);
            if (this.flags & 16)
              this._procField("default_sample_size", "uint", 32);
            if (this.flags & 32)
              this._procField("default_sample_flags", "uint", 32);
          };
          ISOBox.prototype._boxProcessors["tfra"] = function() {
            this._procFullBox();
            this._procField("track_ID", "uint", 32);
            if (!this._parsing) {
              this.reserved = 0;
              this.reserved |= (this.length_size_of_traf_num & 48) << 4;
              this.reserved |= (this.length_size_of_trun_num & 12) << 2;
              this.reserved |= this.length_size_of_sample_num & 3;
            }
            this._procField("reserved", "uint", 32);
            if (this._parsing) {
              this.length_size_of_traf_num = (this.reserved & 48) >> 4;
              this.length_size_of_trun_num = (this.reserved & 12) >> 2;
              this.length_size_of_sample_num = this.reserved & 3;
            }
            this._procField("number_of_entry", "uint", 32);
            this._procEntries("entries", this.number_of_entry, function(entry) {
              this._procEntryField(entry, "time", "uint", this.version === 1 ? 64 : 32);
              this._procEntryField(entry, "moof_offset", "uint", this.version === 1 ? 64 : 32);
              this._procEntryField(entry, "traf_number", "uint", (this.length_size_of_traf_num + 1) * 8);
              this._procEntryField(entry, "trun_number", "uint", (this.length_size_of_trun_num + 1) * 8);
              this._procEntryField(entry, "sample_number", "uint", (this.length_size_of_sample_num + 1) * 8);
            });
          };
          ISOBox.prototype._boxProcessors["tkhd"] = function() {
            this._procFullBox();
            this._procField("creation_time", "uint", this.version == 1 ? 64 : 32);
            this._procField("modification_time", "uint", this.version == 1 ? 64 : 32);
            this._procField("track_ID", "uint", 32);
            this._procField("reserved1", "uint", 32);
            this._procField("duration", "uint", this.version == 1 ? 64 : 32);
            this._procFieldArray("reserved2", 2, "uint", 32);
            this._procField("layer", "uint", 16);
            this._procField("alternate_group", "uint", 16);
            this._procField("volume", "template", 16);
            this._procField("reserved3", "uint", 16);
            this._procFieldArray("matrix", 9, "template", 32);
            this._procField("width", "template", 32);
            this._procField("height", "template", 32);
          };
          ISOBox.prototype._boxProcessors["trex"] = function() {
            this._procFullBox();
            this._procField("track_ID", "uint", 32);
            this._procField("default_sample_description_index", "uint", 32);
            this._procField("default_sample_duration", "uint", 32);
            this._procField("default_sample_size", "uint", 32);
            this._procField("default_sample_flags", "uint", 32);
          };
          ISOBox.prototype._boxProcessors["trun"] = function() {
            this._procFullBox();
            this._procField("sample_count", "uint", 32);
            if (this.flags & 1)
              this._procField("data_offset", "int", 32);
            if (this.flags & 4)
              this._procField("first_sample_flags", "uint", 32);
            this._procEntries("samples", this.sample_count, function(sample) {
              if (this.flags & 256)
                this._procEntryField(sample, "sample_duration", "uint", 32);
              if (this.flags & 512)
                this._procEntryField(sample, "sample_size", "uint", 32);
              if (this.flags & 1024)
                this._procEntryField(sample, "sample_flags", "uint", 32);
              if (this.flags & 2048)
                this._procEntryField(sample, "sample_composition_time_offset", this.version === 1 ? "int" : "uint", 32);
            });
          };
          ISOBox.prototype._boxProcessors["url "] = ISOBox.prototype._boxProcessors["urn "] = function() {
            this._procFullBox();
            if (this.type === "urn ") {
              this._procField("name", "string", -1);
            }
            this._procField("location", "string", -1);
          };
          ISOBox.prototype._boxProcessors["vlab"] = function() {
            this._procField("source_label", "utf8");
          };
          ISOBox.prototype._boxProcessors["vmhd"] = function() {
            this._procFullBox();
            this._procField("graphicsmode", "uint", 16);
            this._procFieldArray("opcolor", 3, "uint", 16);
          };
          ISOBox.prototype._boxProcessors["vttC"] = function() {
            this._procField("config", "utf8");
          };
          ISOBox.prototype._boxProcessors["vtte"] = function() {
          };
        },
        "./node_modules/core-util-is/lib/util.js": function(module3, exports3, __webpack_require__) {
          (function(Buffer2) {
            function isArray(arg) {
              if (Array.isArray) {
                return Array.isArray(arg);
              }
              return objectToString(arg) === "[object Array]";
            }
            exports3.isArray = isArray;
            function isBoolean(arg) {
              return typeof arg === "boolean";
            }
            exports3.isBoolean = isBoolean;
            function isNull(arg) {
              return arg === null;
            }
            exports3.isNull = isNull;
            function isNullOrUndefined(arg) {
              return arg == null;
            }
            exports3.isNullOrUndefined = isNullOrUndefined;
            function isNumber(arg) {
              return typeof arg === "number";
            }
            exports3.isNumber = isNumber;
            function isString(arg) {
              return typeof arg === "string";
            }
            exports3.isString = isString;
            function isSymbol(arg) {
              return typeof arg === "symbol";
            }
            exports3.isSymbol = isSymbol;
            function isUndefined(arg) {
              return arg === void 0;
            }
            exports3.isUndefined = isUndefined;
            function isRegExp(re) {
              return objectToString(re) === "[object RegExp]";
            }
            exports3.isRegExp = isRegExp;
            function isObject(arg) {
              return typeof arg === "object" && arg !== null;
            }
            exports3.isObject = isObject;
            function isDate(d2) {
              return objectToString(d2) === "[object Date]";
            }
            exports3.isDate = isDate;
            function isError(e) {
              return objectToString(e) === "[object Error]" || e instanceof Error;
            }
            exports3.isError = isError;
            function isFunction(arg) {
              return typeof arg === "function";
            }
            exports3.isFunction = isFunction;
            function isPrimitive(arg) {
              return arg === null || typeof arg === "boolean" || typeof arg === "number" || typeof arg === "string" || typeof arg === "symbol" || typeof arg === "undefined";
            }
            exports3.isPrimitive = isPrimitive;
            exports3.isBuffer = Buffer2.isBuffer;
            function objectToString(o2) {
              return Object.prototype.toString.call(o2);
            }
          }).call(this, __webpack_require__("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer);
        },
        "./node_modules/es6-promise/auto.js": function(module3, exports3, __webpack_require__) {
          "use strict";
          module3.exports = __webpack_require__("./node_modules/es6-promise/dist/es6-promise.js").polyfill();
        },
        "./node_modules/es6-promise/dist/es6-promise.js": function(module3, exports3, __webpack_require__) {
          (function(process2, global2) {
            (function(global3, factory) {
              true ? module3.exports = factory() : void 0;
            })(this, function() {
              "use strict";
              function objectOrFunction(x3) {
                var type = typeof x3;
                return x3 !== null && (type === "object" || type === "function");
              }
              function isFunction(x3) {
                return typeof x3 === "function";
              }
              var _isArray = void 0;
              if (Array.isArray) {
                _isArray = Array.isArray;
              } else {
                _isArray = function(x3) {
                  return Object.prototype.toString.call(x3) === "[object Array]";
                };
              }
              var isArray = _isArray;
              var len = 0;
              var vertxNext = void 0;
              var customSchedulerFn = void 0;
              var asap = function asap2(callback, arg) {
                queue[len] = callback;
                queue[len + 1] = arg;
                len += 2;
                if (len === 2) {
                  if (customSchedulerFn) {
                    customSchedulerFn(flush);
                  } else {
                    scheduleFlush();
                  }
                }
              };
              function setScheduler(scheduleFn) {
                customSchedulerFn = scheduleFn;
              }
              function setAsap(asapFn) {
                asap = asapFn;
              }
              var browserWindow = typeof window !== "undefined" ? window : void 0;
              var browserGlobal = browserWindow || {};
              var BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;
              var isNode2 = typeof self === "undefined" && typeof process2 !== "undefined" && {}.toString.call(process2) === "[object process]";
              var isWorker = typeof Uint8ClampedArray !== "undefined" && typeof importScripts !== "undefined" && typeof MessageChannel !== "undefined";
              function useNextTick() {
                return function() {
                  return process2.nextTick(flush);
                };
              }
              function useVertxTimer() {
                if (typeof vertxNext !== "undefined") {
                  return function() {
                    vertxNext(flush);
                  };
                }
                return useSetTimeout();
              }
              function useMutationObserver() {
                var iterations = 0;
                var observer = new BrowserMutationObserver(flush);
                var node = document.createTextNode("");
                observer.observe(node, { characterData: true });
                return function() {
                  node.data = iterations = ++iterations % 2;
                };
              }
              function useMessageChannel() {
                var channel = new MessageChannel();
                channel.port1.onmessage = flush;
                return function() {
                  return channel.port2.postMessage(0);
                };
              }
              function useSetTimeout() {
                var globalSetTimeout = setTimeout;
                return function() {
                  return globalSetTimeout(flush, 1);
                };
              }
              var queue = new Array(1e3);
              function flush() {
                for (var i3 = 0; i3 < len; i3 += 2) {
                  var callback = queue[i3];
                  var arg = queue[i3 + 1];
                  callback(arg);
                  queue[i3] = void 0;
                  queue[i3 + 1] = void 0;
                }
                len = 0;
              }
              function attemptVertx() {
                try {
                  var vertx = Function("return this")().require("vertx");
                  vertxNext = vertx.runOnLoop || vertx.runOnContext;
                  return useVertxTimer();
                } catch (e) {
                  return useSetTimeout();
                }
              }
              var scheduleFlush = void 0;
              if (isNode2) {
                scheduleFlush = useNextTick();
              } else if (BrowserMutationObserver) {
                scheduleFlush = useMutationObserver();
              } else if (isWorker) {
                scheduleFlush = useMessageChannel();
              } else if (browserWindow === void 0 && true) {
                scheduleFlush = attemptVertx();
              } else {
                scheduleFlush = useSetTimeout();
              }
              function then(onFulfillment, onRejection) {
                var parent = this;
                var child = new this.constructor(noop2);
                if (child[PROMISE_ID] === void 0) {
                  makePromise(child);
                }
                var _state = parent._state;
                if (_state) {
                  var callback = arguments[_state - 1];
                  asap(function() {
                    return invokeCallback(_state, child, callback, parent._result);
                  });
                } else {
                  subscribe(parent, child, onFulfillment, onRejection);
                }
                return child;
              }
              function resolve$1(object) {
                var Constructor = this;
                if (object && typeof object === "object" && object.constructor === Constructor) {
                  return object;
                }
                var promise = new Constructor(noop2);
                resolve2(promise, object);
                return promise;
              }
              var PROMISE_ID = Math.random().toString(36).substring(2);
              function noop2() {
              }
              var PENDING = void 0;
              var FULFILLED = 1;
              var REJECTED = 2;
              function selfFulfillment() {
                return new TypeError("You cannot resolve a promise with itself");
              }
              function cannotReturnOwn() {
                return new TypeError("A promises callback cannot return that same promise.");
              }
              function tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {
                try {
                  then$$1.call(value, fulfillmentHandler, rejectionHandler);
                } catch (e) {
                  return e;
                }
              }
              function handleForeignThenable(promise, thenable, then$$1) {
                asap(function(promise2) {
                  var sealed = false;
                  var error = tryThen(then$$1, thenable, function(value) {
                    if (sealed) {
                      return;
                    }
                    sealed = true;
                    if (thenable !== value) {
                      resolve2(promise2, value);
                    } else {
                      fulfill(promise2, value);
                    }
                  }, function(reason) {
                    if (sealed) {
                      return;
                    }
                    sealed = true;
                    reject(promise2, reason);
                  }, "Settle: " + (promise2._label || " unknown promise"));
                  if (!sealed && error) {
                    sealed = true;
                    reject(promise2, error);
                  }
                }, promise);
              }
              function handleOwnThenable(promise, thenable) {
                if (thenable._state === FULFILLED) {
                  fulfill(promise, thenable._result);
                } else if (thenable._state === REJECTED) {
                  reject(promise, thenable._result);
                } else {
                  subscribe(thenable, void 0, function(value) {
                    return resolve2(promise, value);
                  }, function(reason) {
                    return reject(promise, reason);
                  });
                }
              }
              function handleMaybeThenable(promise, maybeThenable, then$$1) {
                if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {
                  handleOwnThenable(promise, maybeThenable);
                } else {
                  if (then$$1 === void 0) {
                    fulfill(promise, maybeThenable);
                  } else if (isFunction(then$$1)) {
                    handleForeignThenable(promise, maybeThenable, then$$1);
                  } else {
                    fulfill(promise, maybeThenable);
                  }
                }
              }
              function resolve2(promise, value) {
                if (promise === value) {
                  reject(promise, selfFulfillment());
                } else if (objectOrFunction(value)) {
                  var then$$1 = void 0;
                  try {
                    then$$1 = value.then;
                  } catch (error) {
                    reject(promise, error);
                    return;
                  }
                  handleMaybeThenable(promise, value, then$$1);
                } else {
                  fulfill(promise, value);
                }
              }
              function publishRejection(promise) {
                if (promise._onerror) {
                  promise._onerror(promise._result);
                }
                publish(promise);
              }
              function fulfill(promise, value) {
                if (promise._state !== PENDING) {
                  return;
                }
                promise._result = value;
                promise._state = FULFILLED;
                if (promise._subscribers.length !== 0) {
                  asap(publish, promise);
                }
              }
              function reject(promise, reason) {
                if (promise._state !== PENDING) {
                  return;
                }
                promise._state = REJECTED;
                promise._result = reason;
                asap(publishRejection, promise);
              }
              function subscribe(parent, child, onFulfillment, onRejection) {
                var _subscribers = parent._subscribers;
                var length = _subscribers.length;
                parent._onerror = null;
                _subscribers[length] = child;
                _subscribers[length + FULFILLED] = onFulfillment;
                _subscribers[length + REJECTED] = onRejection;
                if (length === 0 && parent._state) {
                  asap(publish, parent);
                }
              }
              function publish(promise) {
                var subscribers = promise._subscribers;
                var settled = promise._state;
                if (subscribers.length === 0) {
                  return;
                }
                var child = void 0, callback = void 0, detail = promise._result;
                for (var i3 = 0; i3 < subscribers.length; i3 += 3) {
                  child = subscribers[i3];
                  callback = subscribers[i3 + settled];
                  if (child) {
                    invokeCallback(settled, child, callback, detail);
                  } else {
                    callback(detail);
                  }
                }
                promise._subscribers.length = 0;
              }
              function invokeCallback(settled, promise, callback, detail) {
                var hasCallback = isFunction(callback), value = void 0, error = void 0, succeeded = true;
                if (hasCallback) {
                  try {
                    value = callback(detail);
                  } catch (e) {
                    succeeded = false;
                    error = e;
                  }
                  if (promise === value) {
                    reject(promise, cannotReturnOwn());
                    return;
                  }
                } else {
                  value = detail;
                }
                if (promise._state !== PENDING) {
                } else if (hasCallback && succeeded) {
                  resolve2(promise, value);
                } else if (succeeded === false) {
                  reject(promise, error);
                } else if (settled === FULFILLED) {
                  fulfill(promise, value);
                } else if (settled === REJECTED) {
                  reject(promise, value);
                }
              }
              function initializePromise(promise, resolver) {
                try {
                  resolver(function resolvePromise(value) {
                    resolve2(promise, value);
                  }, function rejectPromise(reason) {
                    reject(promise, reason);
                  });
                } catch (e) {
                  reject(promise, e);
                }
              }
              var id = 0;
              function nextId() {
                return id++;
              }
              function makePromise(promise) {
                promise[PROMISE_ID] = id++;
                promise._state = void 0;
                promise._result = void 0;
                promise._subscribers = [];
              }
              function validationError() {
                return new Error("Array Methods must be provided an Array");
              }
              var Enumerator = function() {
                function Enumerator2(Constructor, input) {
                  this._instanceConstructor = Constructor;
                  this.promise = new Constructor(noop2);
                  if (!this.promise[PROMISE_ID]) {
                    makePromise(this.promise);
                  }
                  if (isArray(input)) {
                    this.length = input.length;
                    this._remaining = input.length;
                    this._result = new Array(this.length);
                    if (this.length === 0) {
                      fulfill(this.promise, this._result);
                    } else {
                      this.length = this.length || 0;
                      this._enumerate(input);
                      if (this._remaining === 0) {
                        fulfill(this.promise, this._result);
                      }
                    }
                  } else {
                    reject(this.promise, validationError());
                  }
                }
                Enumerator2.prototype._enumerate = function _enumerate(input) {
                  for (var i3 = 0; this._state === PENDING && i3 < input.length; i3++) {
                    this._eachEntry(input[i3], i3);
                  }
                };
                Enumerator2.prototype._eachEntry = function _eachEntry(entry, i3) {
                  var c3 = this._instanceConstructor;
                  var resolve$$1 = c3.resolve;
                  if (resolve$$1 === resolve$1) {
                    var _then = void 0;
                    var error = void 0;
                    var didError = false;
                    try {
                      _then = entry.then;
                    } catch (e) {
                      didError = true;
                      error = e;
                    }
                    if (_then === then && entry._state !== PENDING) {
                      this._settledAt(entry._state, i3, entry._result);
                    } else if (typeof _then !== "function") {
                      this._remaining--;
                      this._result[i3] = entry;
                    } else if (c3 === Promise$1) {
                      var promise = new c3(noop2);
                      if (didError) {
                        reject(promise, error);
                      } else {
                        handleMaybeThenable(promise, entry, _then);
                      }
                      this._willSettleAt(promise, i3);
                    } else {
                      this._willSettleAt(new c3(function(resolve$$12) {
                        return resolve$$12(entry);
                      }), i3);
                    }
                  } else {
                    this._willSettleAt(resolve$$1(entry), i3);
                  }
                };
                Enumerator2.prototype._settledAt = function _settledAt(state, i3, value) {
                  var promise = this.promise;
                  if (promise._state === PENDING) {
                    this._remaining--;
                    if (state === REJECTED) {
                      reject(promise, value);
                    } else {
                      this._result[i3] = value;
                    }
                  }
                  if (this._remaining === 0) {
                    fulfill(promise, this._result);
                  }
                };
                Enumerator2.prototype._willSettleAt = function _willSettleAt(promise, i3) {
                  var enumerator = this;
                  subscribe(promise, void 0, function(value) {
                    return enumerator._settledAt(FULFILLED, i3, value);
                  }, function(reason) {
                    return enumerator._settledAt(REJECTED, i3, reason);
                  });
                };
                return Enumerator2;
              }();
              function all(entries) {
                return new Enumerator(this, entries).promise;
              }
              function race(entries) {
                var Constructor = this;
                if (!isArray(entries)) {
                  return new Constructor(function(_2, reject2) {
                    return reject2(new TypeError("You must pass an array to race."));
                  });
                } else {
                  return new Constructor(function(resolve3, reject2) {
                    var length = entries.length;
                    for (var i3 = 0; i3 < length; i3++) {
                      Constructor.resolve(entries[i3]).then(resolve3, reject2);
                    }
                  });
                }
              }
              function reject$1(reason) {
                var Constructor = this;
                var promise = new Constructor(noop2);
                reject(promise, reason);
                return promise;
              }
              function needsResolver() {
                throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");
              }
              function needsNew() {
                throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
              }
              var Promise$1 = function() {
                function Promise2(resolver) {
                  this[PROMISE_ID] = nextId();
                  this._result = this._state = void 0;
                  this._subscribers = [];
                  if (noop2 !== resolver) {
                    typeof resolver !== "function" && needsResolver();
                    this instanceof Promise2 ? initializePromise(this, resolver) : needsNew();
                  }
                }
                Promise2.prototype.catch = function _catch(onRejection) {
                  return this.then(null, onRejection);
                };
                Promise2.prototype.finally = function _finally(callback) {
                  var promise = this;
                  var constructor = promise.constructor;
                  if (isFunction(callback)) {
                    return promise.then(function(value) {
                      return constructor.resolve(callback()).then(function() {
                        return value;
                      });
                    }, function(reason) {
                      return constructor.resolve(callback()).then(function() {
                        throw reason;
                      });
                    });
                  }
                  return promise.then(callback, callback);
                };
                return Promise2;
              }();
              Promise$1.prototype.then = then;
              Promise$1.all = all;
              Promise$1.race = race;
              Promise$1.resolve = resolve$1;
              Promise$1.reject = reject$1;
              Promise$1._setScheduler = setScheduler;
              Promise$1._setAsap = setAsap;
              Promise$1._asap = asap;
              function polyfill() {
                var local2 = void 0;
                if (typeof global2 !== "undefined") {
                  local2 = global2;
                } else if (typeof self !== "undefined") {
                  local2 = self;
                } else {
                  try {
                    local2 = Function("return this")();
                  } catch (e) {
                    throw new Error("polyfill failed because global object is unavailable in this environment");
                  }
                }
                var P2 = local2.Promise;
                if (P2) {
                  var promiseToString = null;
                  try {
                    promiseToString = Object.prototype.toString.call(P2.resolve());
                  } catch (e) {
                  }
                  if (promiseToString === "[object Promise]" && !P2.cast) {
                    return;
                  }
                }
                local2.Promise = Promise$1;
              }
              Promise$1.polyfill = polyfill;
              Promise$1.Promise = Promise$1;
              return Promise$1;
            });
          }).call(this, __webpack_require__("./node_modules/process/browser.js"), __webpack_require__("./node_modules/webpack/buildin/global.js"));
        },
        "./node_modules/fast-deep-equal/index.js": function(module3, exports3, __webpack_require__) {
          "use strict";
          var isArray = Array.isArray;
          var keyList = Object.keys;
          var hasProp = Object.prototype.hasOwnProperty;
          module3.exports = function equal(a4, b3) {
            if (a4 === b3)
              return true;
            if (a4 && b3 && typeof a4 == "object" && typeof b3 == "object") {
              var arrA = isArray(a4), arrB = isArray(b3), i3, length, key;
              if (arrA && arrB) {
                length = a4.length;
                if (length != b3.length)
                  return false;
                for (i3 = length; i3-- !== 0; )
                  if (!equal(a4[i3], b3[i3]))
                    return false;
                return true;
              }
              if (arrA != arrB)
                return false;
              var dateA = a4 instanceof Date, dateB = b3 instanceof Date;
              if (dateA != dateB)
                return false;
              if (dateA && dateB)
                return a4.getTime() == b3.getTime();
              var regexpA = a4 instanceof RegExp, regexpB = b3 instanceof RegExp;
              if (regexpA != regexpB)
                return false;
              if (regexpA && regexpB)
                return a4.toString() == b3.toString();
              var keys = keyList(a4);
              length = keys.length;
              if (length !== keyList(b3).length)
                return false;
              for (i3 = length; i3-- !== 0; )
                if (!hasProp.call(b3, keys[i3]))
                  return false;
              for (i3 = length; i3-- !== 0; ) {
                key = keys[i3];
                if (!equal(a4[key], b3[key]))
                  return false;
              }
              return true;
            }
            return a4 !== a4 && b3 !== b3;
          };
        },
        "./node_modules/ieee754/index.js": function(module3, exports3) {
          exports3.read = function(buffer, offset, isLE, mLen, nBytes) {
            var e, m2;
            var eLen = nBytes * 8 - mLen - 1;
            var eMax = (1 << eLen) - 1;
            var eBias = eMax >> 1;
            var nBits = -7;
            var i3 = isLE ? nBytes - 1 : 0;
            var d2 = isLE ? -1 : 1;
            var s3 = buffer[offset + i3];
            i3 += d2;
            e = s3 & (1 << -nBits) - 1;
            s3 >>= -nBits;
            nBits += eLen;
            for (; nBits > 0; e = e * 256 + buffer[offset + i3], i3 += d2, nBits -= 8) {
            }
            m2 = e & (1 << -nBits) - 1;
            e >>= -nBits;
            nBits += mLen;
            for (; nBits > 0; m2 = m2 * 256 + buffer[offset + i3], i3 += d2, nBits -= 8) {
            }
            if (e === 0) {
              e = 1 - eBias;
            } else if (e === eMax) {
              return m2 ? NaN : (s3 ? -1 : 1) * Infinity;
            } else {
              m2 = m2 + Math.pow(2, mLen);
              e = e - eBias;
            }
            return (s3 ? -1 : 1) * m2 * Math.pow(2, e - mLen);
          };
          exports3.write = function(buffer, value, offset, isLE, mLen, nBytes) {
            var e, m2, c3;
            var eLen = nBytes * 8 - mLen - 1;
            var eMax = (1 << eLen) - 1;
            var eBias = eMax >> 1;
            var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;
            var i3 = isLE ? 0 : nBytes - 1;
            var d2 = isLE ? 1 : -1;
            var s3 = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;
            value = Math.abs(value);
            if (isNaN(value) || value === Infinity) {
              m2 = isNaN(value) ? 1 : 0;
              e = eMax;
            } else {
              e = Math.floor(Math.log(value) / Math.LN2);
              if (value * (c3 = Math.pow(2, -e)) < 1) {
                e--;
                c3 *= 2;
              }
              if (e + eBias >= 1) {
                value += rt / c3;
              } else {
                value += rt * Math.pow(2, 1 - eBias);
              }
              if (value * c3 >= 2) {
                e++;
                c3 /= 2;
              }
              if (e + eBias >= eMax) {
                m2 = 0;
                e = eMax;
              } else if (e + eBias >= 1) {
                m2 = (value * c3 - 1) * Math.pow(2, mLen);
                e = e + eBias;
              } else {
                m2 = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);
                e = 0;
              }
            }
            for (; mLen >= 8; buffer[offset + i3] = m2 & 255, i3 += d2, m2 /= 256, mLen -= 8) {
            }
            e = e << mLen | m2;
            eLen += mLen;
            for (; eLen > 0; buffer[offset + i3] = e & 255, i3 += d2, e /= 256, eLen -= 8) {
            }
            buffer[offset + i3 - d2] |= s3 * 128;
          };
        },
        "./node_modules/imsc/src/main/js/doc.js": function(module3, exports3, __webpack_require__) {
          ;
          (function(imscDoc, sax2, imscNames2, imscStyles2, imscUtils2) {
            imscDoc.fromXML = function(xmlstring, errorHandler, metadataHandler) {
              var p2 = sax2.parser(true, { xmlns: true });
              var estack = [];
              var xmllangstack = [];
              var xmlspacestack = [];
              var metadata_depth = 0;
              var doc = null;
              p2.onclosetag = function(node) {
                if (estack[0] instanceof Styling) {
                  for (var sid in estack[0].styles) {
                    mergeChainedStyles(estack[0], estack[0].styles[sid], errorHandler);
                  }
                } else if (estack[0] instanceof P2 || estack[0] instanceof Span) {
                  if (estack[0].contents.length > 1) {
                    var cs = [estack[0].contents[0]];
                    var c3;
                    for (c3 = 1; c3 < estack[0].contents.length; c3++) {
                      if (estack[0].contents[c3] instanceof AnonymousSpan && cs[cs.length - 1] instanceof AnonymousSpan) {
                        cs[cs.length - 1].text += estack[0].contents[c3].text;
                      } else {
                        cs.push(estack[0].contents[c3]);
                      }
                    }
                    estack[0].contents = cs;
                  }
                  if (estack[0] instanceof Span && estack[0].contents.length === 1 && estack[0].contents[0] instanceof AnonymousSpan) {
                    estack[0].text = estack[0].contents[0].text;
                    delete estack[0].contents;
                  }
                } else if (estack[0] instanceof ForeignElement) {
                  if (estack[0].node.uri === imscNames2.ns_tt && estack[0].node.local === "metadata") {
                    metadata_depth--;
                  } else if (metadata_depth > 0 && metadataHandler && "onCloseTag" in metadataHandler) {
                    metadataHandler.onCloseTag();
                  }
                }
                xmlspacestack.shift();
                xmllangstack.shift();
                estack.shift();
              };
              p2.ontext = function(str) {
                if (estack[0] === void 0) {
                } else if (estack[0] instanceof Span || estack[0] instanceof P2) {
                  var s3 = new AnonymousSpan();
                  s3.initFromText(doc, estack[0], str, xmlspacestack[0], errorHandler);
                  estack[0].contents.push(s3);
                } else if (estack[0] instanceof ForeignElement && metadata_depth > 0 && metadataHandler && "onText" in metadataHandler) {
                  metadataHandler.onText(str);
                }
              };
              p2.onopentag = function(node) {
                var xmlspace = node.attributes["xml:space"];
                if (xmlspace) {
                  xmlspacestack.unshift(xmlspace.value);
                } else {
                  if (xmlspacestack.length === 0) {
                    xmlspacestack.unshift("default");
                  } else {
                    xmlspacestack.unshift(xmlspacestack[0]);
                  }
                }
                var xmllang = node.attributes["xml:lang"];
                if (xmllang) {
                  xmllangstack.unshift(xmllang.value);
                } else {
                  if (xmllangstack.length === 0) {
                    xmllangstack.unshift("");
                  } else {
                    xmllangstack.unshift(xmllangstack[0]);
                  }
                }
                if (node.uri === imscNames2.ns_tt) {
                  if (node.local === "tt") {
                    if (doc !== null) {
                      reportFatal(errorHandler, "Two <tt> elements at (" + this.line + "," + this.column + ")");
                    }
                    doc = new TT();
                    doc.initFromNode(node, errorHandler);
                    estack.unshift(doc);
                  } else if (node.local === "head") {
                    if (!(estack[0] instanceof TT)) {
                      reportFatal(errorHandler, "Parent of <head> element is not <tt> at (" + this.line + "," + this.column + ")");
                    }
                    if (doc.head !== null) {
                      reportFatal("Second <head> element at (" + this.line + "," + this.column + ")");
                    }
                    doc.head = new Head();
                    estack.unshift(doc.head);
                  } else if (node.local === "styling") {
                    if (!(estack[0] instanceof Head)) {
                      reportFatal(errorHandler, "Parent of <styling> element is not <head> at (" + this.line + "," + this.column + ")");
                    }
                    if (doc.head.styling !== null) {
                      reportFatal("Second <styling> element at (" + this.line + "," + this.column + ")");
                    }
                    doc.head.styling = new Styling();
                    estack.unshift(doc.head.styling);
                  } else if (node.local === "style") {
                    var s3;
                    if (estack[0] instanceof Styling) {
                      s3 = new Style();
                      s3.initFromNode(node, errorHandler);
                      if (!s3.id) {
                        reportError(errorHandler, "<style> element missing @id attribute");
                      } else {
                        doc.head.styling.styles[s3.id] = s3;
                      }
                      estack.unshift(s3);
                    } else if (estack[0] instanceof Region) {
                      s3 = new Style();
                      s3.initFromNode(node, errorHandler);
                      mergeStylesIfNotPresent(s3.styleAttrs, estack[0].styleAttrs);
                      estack.unshift(s3);
                    } else {
                      reportFatal(errorHandler, "Parent of <style> element is not <styling> or <region> at (" + this.line + "," + this.column + ")");
                    }
                  } else if (node.local === "layout") {
                    if (!(estack[0] instanceof Head)) {
                      reportFatal(errorHandler, "Parent of <layout> element is not <head> at " + this.line + "," + this.column + ")");
                    }
                    if (doc.head.layout !== null) {
                      reportFatal(errorHandler, "Second <layout> element at " + this.line + "," + this.column + ")");
                    }
                    doc.head.layout = new Layout();
                    estack.unshift(doc.head.layout);
                  } else if (node.local === "region") {
                    if (!(estack[0] instanceof Layout)) {
                      reportFatal(errorHandler, "Parent of <region> element is not <layout> at " + this.line + "," + this.column + ")");
                    }
                    var r3 = new Region();
                    r3.initFromNode(doc, node, errorHandler);
                    if (!r3.id || r3.id in doc.head.layout.regions) {
                      reportError(errorHandler, "Ignoring <region> with duplicate or missing @id at " + this.line + "," + this.column + ")");
                    } else {
                      doc.head.layout.regions[r3.id] = r3;
                    }
                    estack.unshift(r3);
                  } else if (node.local === "body") {
                    if (!(estack[0] instanceof TT)) {
                      reportFatal(errorHandler, "Parent of <body> element is not <tt> at " + this.line + "," + this.column + ")");
                    }
                    if (doc.body !== null) {
                      reportFatal(errorHandler, "Second <body> element at " + this.line + "," + this.column + ")");
                    }
                    var b3 = new Body();
                    b3.initFromNode(doc, node, errorHandler);
                    doc.body = b3;
                    estack.unshift(b3);
                  } else if (node.local === "div") {
                    if (!(estack[0] instanceof Div || estack[0] instanceof Body)) {
                      reportFatal(errorHandler, "Parent of <div> element is not <body> or <div> at " + this.line + "," + this.column + ")");
                    }
                    var d2 = new Div();
                    d2.initFromNode(doc, estack[0], node, errorHandler);
                    estack[0].contents.push(d2);
                    estack.unshift(d2);
                  } else if (node.local === "p") {
                    if (!(estack[0] instanceof Div)) {
                      reportFatal(errorHandler, "Parent of <p> element is not <div> at " + this.line + "," + this.column + ")");
                    }
                    var p3 = new P2();
                    p3.initFromNode(doc, estack[0], node, errorHandler);
                    estack[0].contents.push(p3);
                    estack.unshift(p3);
                  } else if (node.local === "span") {
                    if (!(estack[0] instanceof Span || estack[0] instanceof P2)) {
                      reportFatal(errorHandler, "Parent of <span> element is not <span> or <p> at " + this.line + "," + this.column + ")");
                    }
                    var ns = new Span();
                    ns.initFromNode(doc, estack[0], node, xmlspacestack[0], errorHandler);
                    estack[0].contents.push(ns);
                    estack.unshift(ns);
                  } else if (node.local === "br") {
                    if (!(estack[0] instanceof Span || estack[0] instanceof P2)) {
                      reportFatal(errorHandler, "Parent of <br> element is not <span> or <p> at " + this.line + "," + this.column + ")");
                    }
                    var nb = new Br();
                    nb.initFromNode(doc, estack[0], node, errorHandler);
                    estack[0].contents.push(nb);
                    estack.unshift(nb);
                  } else if (node.local === "set") {
                    if (!(estack[0] instanceof Span || estack[0] instanceof P2 || estack[0] instanceof Div || estack[0] instanceof Body || estack[0] instanceof Region || estack[0] instanceof Br)) {
                      reportFatal(errorHandler, "Parent of <set> element is not a content element or a region at " + this.line + "," + this.column + ")");
                    }
                    var st = new Set2();
                    st.initFromNode(doc, estack[0], node, errorHandler);
                    estack[0].sets.push(st);
                    estack.unshift(st);
                  } else {
                    estack.unshift(new ForeignElement(node));
                  }
                } else {
                  estack.unshift(new ForeignElement(node));
                }
                if (estack[0] instanceof ForeignElement) {
                  if (node.uri === imscNames2.ns_tt && node.local === "metadata") {
                    metadata_depth++;
                  } else if (metadata_depth > 0 && metadataHandler && "onOpenTag" in metadataHandler) {
                    var attrs = [];
                    for (var a4 in node.attributes) {
                      attrs[node.attributes[a4].uri + " " + node.attributes[a4].local] = {
                        uri: node.attributes[a4].uri,
                        local: node.attributes[a4].local,
                        value: node.attributes[a4].value
                      };
                    }
                    metadataHandler.onOpenTag(node.uri, node.local, attrs);
                  }
                }
              };
              p2.write(xmlstring).close();
              if (doc.head !== null) {
                delete doc.head.styling;
              } else {
                doc.head = new Head();
              }
              if (doc.head.layout === null) {
                doc.head.layout = new Layout();
              }
              var hasRegions = false;
              for (var i3 in doc.head.layout.regions) {
                hasRegions = true;
                break;
              }
              if (!hasRegions) {
                var dr = Region.prototype.createDefaultRegion();
                doc.head.layout.regions[dr.id] = dr;
              }
              for (var region_i in doc.head.layout.regions) {
                resolveTiming(doc, doc.head.layout.regions[region_i], null, null);
              }
              if (doc.body) {
                resolveTiming(doc, doc.body, null, null);
              }
              return doc;
            };
            function resolveTiming(doc, element, prev_sibling, parent) {
              var isinseq = parent && parent.timeContainer === "seq";
              var implicit_begin = 0;
              if (parent) {
                if (isinseq && prev_sibling) {
                  implicit_begin = prev_sibling.end;
                } else {
                  implicit_begin = parent.begin;
                }
              }
              element.begin = element.explicit_begin ? element.explicit_begin + implicit_begin : implicit_begin;
              var implicit_end = element.begin;
              var s3 = null;
              for (var set_i in element.sets) {
                resolveTiming(doc, element.sets[set_i], s3, element);
                if (element.timeContainer === "seq") {
                  implicit_end = element.sets[set_i].end;
                } else {
                  implicit_end = Math.max(implicit_end, element.sets[set_i].end);
                }
                s3 = element.sets[set_i];
              }
              if (!("contents" in element)) {
                if (isinseq) {
                  implicit_end = element.begin;
                } else {
                  implicit_end = Number.POSITIVE_INFINITY;
                }
              } else {
                for (var content_i in element.contents) {
                  resolveTiming(doc, element.contents[content_i], s3, element);
                  if (element.timeContainer === "seq") {
                    implicit_end = element.contents[content_i].end;
                  } else {
                    implicit_end = Math.max(implicit_end, element.contents[content_i].end);
                  }
                  s3 = element.contents[content_i];
                }
              }
              if (element.explicit_end !== null && element.explicit_dur !== null) {
                element.end = Math.min(element.begin + element.explicit_dur, implicit_begin + element.explicit_end);
              } else if (element.explicit_end === null && element.explicit_dur !== null) {
                element.end = element.begin + element.explicit_dur;
              } else if (element.explicit_end !== null && element.explicit_dur === null) {
                element.end = implicit_begin + element.explicit_end;
              } else {
                element.end = implicit_end;
              }
              delete element.explicit_begin;
              delete element.explicit_dur;
              delete element.explicit_end;
              doc._registerEvent(element);
            }
            function ForeignElement(node) {
              this.node = node;
            }
            function TT() {
              this.events = [];
              this.head = null;
              this.body = null;
            }
            TT.prototype.initFromNode = function(node, errorHandler) {
              this.cellResolution = extractCellResolution(node, errorHandler);
              var frtr = extractFrameAndTickRate(node, errorHandler);
              this.effectiveFrameRate = frtr.effectiveFrameRate;
              this.tickRate = frtr.tickRate;
              this.aspectRatio = extractAspectRatio(node, errorHandler);
              var attr = findAttribute(node, imscNames2.ns_ttp, "timeBase");
              if (attr !== null && attr !== "media") {
                reportFatal(errorHandler, "Unsupported time base");
              }
              var e = extractExtent(node, errorHandler);
              if (e === null) {
                this.pxDimensions = { "h": 480, "w": 640 };
              } else {
                if (e.h.unit !== "px" || e.w.unit !== "px") {
                  reportFatal(errorHandler, "Extent on TT must be in px or absent");
                }
                this.pxDimensions = { "h": e.h.value, "w": e.w.value };
              }
            };
            TT.prototype._registerEvent = function(elem) {
              if (elem.end <= elem.begin)
                return;
              var b_i = indexOf(this.events, elem.begin);
              if (!b_i.found) {
                this.events.splice(b_i.index, 0, elem.begin);
              }
              if (elem.end !== Number.POSITIVE_INFINITY) {
                var e_i = indexOf(this.events, elem.end);
                if (!e_i.found) {
                  this.events.splice(e_i.index, 0, elem.end);
                }
              }
            };
            TT.prototype.getMediaTimeRange = function() {
              return [this.events[0], this.events[this.events.length - 1]];
            };
            TT.prototype.getMediaTimeEvents = function() {
              return this.events;
            };
            function Head() {
              this.styling = null;
              this.layout = null;
            }
            function Styling() {
              this.styles = {};
            }
            function Style() {
              this.id = null;
              this.styleAttrs = null;
              this.styleRefs = null;
            }
            Style.prototype.initFromNode = function(node, errorHandler) {
              this.id = elementGetXMLID(node);
              this.styleAttrs = elementGetStyles(node, errorHandler);
              this.styleRefs = elementGetStyleRefs(node);
            };
            function Layout() {
              this.regions = {};
            }
            function ContentElement(kind) {
              this.kind = kind;
            }
            function IdentifiedElement(id) {
              this.id = id;
            }
            IdentifiedElement.prototype.initFromNode = function(doc, parent, node, errorHandler) {
              this.id = elementGetXMLID(node);
            };
            function LayoutElement(id) {
              this.regionID = id;
            }
            LayoutElement.prototype.initFromNode = function(doc, parent, node, errorHandler) {
              this.regionID = elementGetRegionID(node);
            };
            function StyledElement(styleAttrs) {
              this.styleAttrs = styleAttrs;
            }
            StyledElement.prototype.initFromNode = function(doc, parent, node, errorHandler) {
              this.styleAttrs = elementGetStyles(node, errorHandler);
              if (doc.head !== null && doc.head.styling !== null) {
                mergeReferencedStyles(doc.head.styling, elementGetStyleRefs(node), this.styleAttrs, errorHandler);
              }
            };
            function AnimatedElement(sets) {
              this.sets = sets;
            }
            AnimatedElement.prototype.initFromNode = function(doc, parent, node, errorHandler) {
              this.sets = [];
            };
            function ContainerElement(contents) {
              this.contents = contents;
            }
            ContainerElement.prototype.initFromNode = function(doc, parent, node, errorHandler) {
              this.contents = [];
            };
            function TimedElement(explicit_begin, explicit_end, explicit_dur) {
              this.explicit_begin = explicit_begin;
              this.explicit_end = explicit_end;
              this.explicit_dur = explicit_dur;
            }
            TimedElement.prototype.initFromNode = function(doc, parent, node, errorHandler) {
              var t2 = processTiming(doc, parent, node, errorHandler);
              this.explicit_begin = t2.explicit_begin;
              this.explicit_end = t2.explicit_end;
              this.explicit_dur = t2.explicit_dur;
              this.timeContainer = elementGetTimeContainer(node, errorHandler);
            };
            function Body() {
              ContentElement.call(this, "body");
            }
            Body.prototype.initFromNode = function(doc, node, errorHandler) {
              StyledElement.prototype.initFromNode.call(this, doc, null, node, errorHandler);
              TimedElement.prototype.initFromNode.call(this, doc, null, node, errorHandler);
              AnimatedElement.prototype.initFromNode.call(this, doc, null, node, errorHandler);
              LayoutElement.prototype.initFromNode.call(this, doc, null, node, errorHandler);
              ContainerElement.prototype.initFromNode.call(this, doc, null, node, errorHandler);
            };
            function Div() {
              ContentElement.call(this, "div");
            }
            Div.prototype.initFromNode = function(doc, parent, node, errorHandler) {
              StyledElement.prototype.initFromNode.call(this, doc, parent, node, errorHandler);
              TimedElement.prototype.initFromNode.call(this, doc, parent, node, errorHandler);
              AnimatedElement.prototype.initFromNode.call(this, doc, parent, node, errorHandler);
              LayoutElement.prototype.initFromNode.call(this, doc, parent, node, errorHandler);
              ContainerElement.prototype.initFromNode.call(this, doc, parent, node, errorHandler);
            };
            function P2() {
              ContentElement.call(this, "p");
            }
            P2.prototype.initFromNode = function(doc, parent, node, errorHandler) {
              StyledElement.prototype.initFromNode.call(this, doc, parent, node, errorHandler);
              TimedElement.prototype.initFromNode.call(this, doc, parent, node, errorHandler);
              AnimatedElement.prototype.initFromNode.call(this, doc, parent, node, errorHandler);
              LayoutElement.prototype.initFromNode.call(this, doc, parent, node, errorHandler);
              ContainerElement.prototype.initFromNode.call(this, doc, parent, node, errorHandler);
            };
            function Span() {
              ContentElement.call(this, "span");
            }
            Span.prototype.initFromNode = function(doc, parent, node, xmlspace, errorHandler) {
              StyledElement.prototype.initFromNode.call(this, doc, parent, node, errorHandler);
              TimedElement.prototype.initFromNode.call(this, doc, parent, node, errorHandler);
              AnimatedElement.prototype.initFromNode.call(this, doc, parent, node, errorHandler);
              LayoutElement.prototype.initFromNode.call(this, doc, parent, node, errorHandler);
              ContainerElement.prototype.initFromNode.call(this, doc, parent, node, errorHandler);
              this.space = xmlspace;
            };
            function AnonymousSpan() {
              ContentElement.call(this, "span");
            }
            AnonymousSpan.prototype.initFromText = function(doc, parent, text, xmlspace, errorHandler) {
              TimedElement.prototype.initFromNode.call(this, doc, parent, null, errorHandler);
              this.text = text;
              this.space = xmlspace;
            };
            function Br() {
              ContentElement.call(this, "br");
            }
            Br.prototype.initFromNode = function(doc, parent, node, errorHandler) {
              LayoutElement.prototype.initFromNode.call(this, doc, parent, node, errorHandler);
              TimedElement.prototype.initFromNode.call(this, doc, parent, node, errorHandler);
            };
            function Region() {
            }
            Region.prototype.createDefaultRegion = function() {
              var r3 = new Region();
              IdentifiedElement.call(r3, "");
              StyledElement.call(r3, {});
              AnimatedElement.call(r3, []);
              TimedElement.call(r3, 0, Number.POSITIVE_INFINITY, null);
              return r3;
            };
            Region.prototype.initFromNode = function(doc, node, errorHandler) {
              IdentifiedElement.prototype.initFromNode.call(this, doc, null, node, errorHandler);
              StyledElement.prototype.initFromNode.call(this, doc, null, node, errorHandler);
              TimedElement.prototype.initFromNode.call(this, doc, null, node, errorHandler);
              AnimatedElement.prototype.initFromNode.call(this, doc, null, node, errorHandler);
              if (doc.head !== null && doc.head.styling !== null) {
                mergeReferencedStyles(doc.head.styling, elementGetStyleRefs(node), this.styleAttrs, errorHandler);
              }
            };
            function Set2() {
            }
            Set2.prototype.initFromNode = function(doc, parent, node, errorHandler) {
              TimedElement.prototype.initFromNode.call(this, doc, parent, node, errorHandler);
              var styles = elementGetStyles(node, errorHandler);
              this.qname = null;
              this.value = null;
              for (var qname in styles) {
                if (this.qname) {
                  reportError(errorHandler, "More than one style specified on set");
                  break;
                }
                this.qname = qname;
                this.value = styles[qname];
              }
            };
            function elementGetXMLID(node) {
              return node && "xml:id" in node.attributes ? node.attributes["xml:id"].value || null : null;
            }
            function elementGetRegionID(node) {
              return node && "region" in node.attributes ? node.attributes.region.value : "";
            }
            function elementGetTimeContainer(node, errorHandler) {
              var tc = node && "timeContainer" in node.attributes ? node.attributes.timeContainer.value : null;
              if (!tc || tc === "par") {
                return "par";
              } else if (tc === "seq") {
                return "seq";
              } else {
                reportError(errorHandler, "Illegal value of timeContainer (assuming 'par')");
                return "par";
              }
            }
            function elementGetStyleRefs(node) {
              return node && "style" in node.attributes ? node.attributes.style.value.split(" ") : [];
            }
            function elementGetStyles(node, errorHandler) {
              var s3 = {};
              if (node !== null) {
                for (var i3 in node.attributes) {
                  var qname = node.attributes[i3].uri + " " + node.attributes[i3].local;
                  var sa = imscStyles2.byQName[qname];
                  if (sa !== void 0) {
                    var val = sa.parse(node.attributes[i3].value);
                    if (val !== null) {
                      s3[qname] = val;
                      if (sa === imscStyles2.byName.zIndex) {
                        reportWarning(errorHandler, "zIndex attribute present but not used by IMSC1 since regions do not overlap");
                      }
                    } else {
                      reportError(errorHandler, "Cannot parse styling attribute " + qname + " --> " + node.attributes[i3].value);
                    }
                  }
                }
              }
              return s3;
            }
            function findAttribute(node, ns, name) {
              for (var i3 in node.attributes) {
                if (node.attributes[i3].uri === ns && node.attributes[i3].local === name) {
                  return node.attributes[i3].value;
                }
              }
              return null;
            }
            function extractAspectRatio(node, errorHandler) {
              var ar = findAttribute(node, imscNames2.ns_ittp, "aspectRatio");
              var rslt = null;
              if (ar !== null) {
                var ASPECT_RATIO_RE = /(\d+) (\d+)/;
                var m2 = ASPECT_RATIO_RE.exec(ar);
                if (m2 !== null) {
                  var w2 = parseInt(m2[1]);
                  var h3 = parseInt(m2[2]);
                  if (w2 !== 0 && h3 !== 0) {
                    rslt = w2 / h3;
                  } else {
                    reportError(errorHandler, "Illegal aspectRatio values (ignoring)");
                  }
                } else {
                  reportError(errorHandler, "Malformed aspectRatio attribute (ignoring)");
                }
              }
              return rslt;
            }
            function extractCellResolution(node, errorHandler) {
              var cr = findAttribute(node, imscNames2.ns_ttp, "cellResolution");
              var h3 = 15;
              var w2 = 32;
              if (cr !== null) {
                var CELL_RESOLUTION_RE = /(\d+) (\d+)/;
                var m2 = CELL_RESOLUTION_RE.exec(cr);
                if (m2 !== null) {
                  w2 = parseInt(m2[1]);
                  h3 = parseInt(m2[2]);
                } else {
                  reportWarning(errorHandler, "Malformed cellResolution value (using initial value instead)");
                }
              }
              return { "w": w2, "h": h3 };
            }
            function extractFrameAndTickRate(node, errorHandler) {
              var fps_attr = findAttribute(node, imscNames2.ns_ttp, "frameRate");
              var fps = 30;
              var m2;
              if (fps_attr !== null) {
                var FRAME_RATE_RE = /(\d+)/;
                m2 = FRAME_RATE_RE.exec(fps_attr);
                if (m2 !== null) {
                  fps = parseInt(m2[1]);
                } else {
                  reportWarning(errorHandler, "Malformed frame rate attribute (using initial value instead)");
                }
              }
              var frm_attr = findAttribute(node, imscNames2.ns_ttp, "frameRateMultiplier");
              var frm = 1;
              if (frm_attr !== null) {
                var FRAME_RATE_MULT_RE = /(\d+) (\d+)/;
                m2 = FRAME_RATE_MULT_RE.exec(frm_attr);
                if (m2 !== null) {
                  frm = parseInt(m2[1]) / parseInt(m2[2]);
                } else {
                  reportWarning(errorHandler, "Malformed frame rate multiplier attribute (using initial value instead)");
                }
              }
              var efps = frm * fps;
              var tr = 1;
              var trattr = findAttribute(node, imscNames2.ns_ttp, "tickRate");
              if (trattr === null) {
                if (fps_attr !== null)
                  tr = efps;
              } else {
                var TICK_RATE_RE = /(\d+)/;
                m2 = TICK_RATE_RE.exec(trattr);
                if (m2 !== null) {
                  tr = parseInt(m2[1]);
                } else {
                  reportWarning(errorHandler, "Malformed tick rate attribute (using initial value instead)");
                }
              }
              return { effectiveFrameRate: efps, tickRate: tr };
            }
            function extractExtent(node, errorHandler) {
              var attr = findAttribute(node, imscNames2.ns_tts, "extent");
              if (attr === null)
                return null;
              var s3 = attr.split(" ");
              if (s3.length !== 2) {
                reportWarning(errorHandler, "Malformed extent (ignoring)");
                return null;
              }
              var w2 = imscUtils2.parseLength(s3[0]);
              var h3 = imscUtils2.parseLength(s3[1]);
              if (!h3 || !w2) {
                reportWarning(errorHandler, "Malformed extent values (ignoring)");
                return null;
              }
              return { "h": h3, "w": w2 };
            }
            function parseTimeExpression(tickRate, effectiveFrameRate, str) {
              var CLOCK_TIME_FRACTION_RE = /^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/;
              var CLOCK_TIME_FRAMES_RE = /^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/;
              var OFFSET_FRAME_RE = /^(\d+(?:\.\d+)?)f$/;
              var OFFSET_TICK_RE = /^(\d+(?:\.\d+)?)t$/;
              var OFFSET_MS_RE = /^(\d+(?:\.\d+)?)ms$/;
              var OFFSET_S_RE = /^(\d+(?:\.\d+)?)s$/;
              var OFFSET_H_RE = /^(\d+(?:\.\d+)?)h$/;
              var OFFSET_M_RE = /^(\d+(?:\.\d+)?)m$/;
              var m2;
              var r3 = null;
              if ((m2 = OFFSET_FRAME_RE.exec(str)) !== null) {
                if (effectiveFrameRate !== null) {
                  r3 = parseFloat(m2[1]) / effectiveFrameRate;
                }
              } else if ((m2 = OFFSET_TICK_RE.exec(str)) !== null) {
                if (tickRate !== null) {
                  r3 = parseFloat(m2[1]) / tickRate;
                }
              } else if ((m2 = OFFSET_MS_RE.exec(str)) !== null) {
                r3 = parseFloat(m2[1]) / 1e3;
              } else if ((m2 = OFFSET_S_RE.exec(str)) !== null) {
                r3 = parseFloat(m2[1]);
              } else if ((m2 = OFFSET_H_RE.exec(str)) !== null) {
                r3 = parseFloat(m2[1]) * 3600;
              } else if ((m2 = OFFSET_M_RE.exec(str)) !== null) {
                r3 = parseFloat(m2[1]) * 60;
              } else if ((m2 = CLOCK_TIME_FRACTION_RE.exec(str)) !== null) {
                r3 = parseInt(m2[1]) * 3600 + parseInt(m2[2]) * 60 + parseFloat(m2[3]);
              } else if ((m2 = CLOCK_TIME_FRAMES_RE.exec(str)) !== null) {
                if (effectiveFrameRate !== null) {
                  r3 = parseInt(m2[1]) * 3600 + parseInt(m2[2]) * 60 + parseInt(m2[3]) + (m2[4] === null ? 0 : parseInt(m2[4]) / effectiveFrameRate);
                }
              }
              return r3;
            }
            function processTiming(doc, parent, node, errorHandler) {
              var explicit_begin = null;
              if (node && "begin" in node.attributes) {
                explicit_begin = parseTimeExpression(doc.tickRate, doc.effectiveFrameRate, node.attributes.begin.value);
                if (explicit_begin === null) {
                  reportWarning(errorHandler, "Malformed begin value " + node.attributes.begin.value + " (using 0)");
                }
              }
              var explicit_dur = null;
              if (node && "dur" in node.attributes) {
                explicit_dur = parseTimeExpression(doc.tickRate, doc.effectiveFrameRate, node.attributes.dur.value);
                if (explicit_dur === null) {
                  reportWarning(errorHandler, "Malformed dur value " + node.attributes.dur.value + " (ignoring)");
                }
              }
              var explicit_end = null;
              if (node && "end" in node.attributes) {
                explicit_end = parseTimeExpression(doc.tickRate, doc.effectiveFrameRate, node.attributes.end.value);
                if (explicit_end === null) {
                  reportWarning(errorHandler, "Malformed end value (ignoring)");
                }
              }
              return {
                explicit_begin,
                explicit_end,
                explicit_dur
              };
            }
            function mergeChainedStyles(styling, style, errorHandler) {
              while (style.styleRefs.length > 0) {
                var sref = style.styleRefs.pop();
                if (!(sref in styling.styles)) {
                  reportError(errorHandler, "Non-existant style id referenced");
                  continue;
                }
                mergeChainedStyles(styling, styling.styles[sref], errorHandler);
                mergeStylesIfNotPresent(styling.styles[sref].styleAttrs, style.styleAttrs);
              }
            }
            function mergeReferencedStyles(styling, stylerefs, styleattrs, errorHandler) {
              for (var i3 = stylerefs.length - 1; i3 >= 0; i3--) {
                var sref = stylerefs[i3];
                if (!(sref in styling.styles)) {
                  reportError(errorHandler, "Non-existant style id referenced");
                  continue;
                }
                mergeStylesIfNotPresent(styling.styles[sref].styleAttrs, styleattrs);
              }
            }
            function mergeStylesIfNotPresent(from_styles, into_styles) {
              for (var sname in from_styles) {
                if (sname in into_styles)
                  continue;
                into_styles[sname] = from_styles[sname];
              }
            }
            function reportInfo(errorHandler, msg) {
              if (errorHandler && errorHandler.info && errorHandler.info(msg))
                throw msg;
            }
            function reportWarning(errorHandler, msg) {
              if (errorHandler && errorHandler.warn && errorHandler.warn(msg))
                throw msg;
            }
            function reportError(errorHandler, msg) {
              if (errorHandler && errorHandler.error && errorHandler.error(msg))
                throw msg;
            }
            function reportFatal(errorHandler, msg) {
              if (errorHandler && errorHandler.fatal)
                errorHandler.fatal(msg);
              throw msg;
            }
            function indexOf(arr, searchval) {
              var min = 0;
              var max = arr.length - 1;
              var cur;
              while (min <= max) {
                cur = Math.floor((min + max) / 2);
                var curval = arr[cur];
                if (curval < searchval) {
                  min = cur + 1;
                } else if (curval > searchval) {
                  max = cur - 1;
                } else {
                  return { found: true, index: cur };
                }
              }
              return { found: false, index: min };
            }
          })(false ? void 0 : exports3, typeof sax === "undefined" ? __webpack_require__("./node_modules/sax/lib/sax.js") : sax, typeof imscNames === "undefined" ? __webpack_require__("./node_modules/imsc/src/main/js/names.js") : imscNames, typeof imscStyles === "undefined" ? __webpack_require__("./node_modules/imsc/src/main/js/styles.js") : imscStyles, typeof imscUtils === "undefined" ? __webpack_require__("./node_modules/imsc/src/main/js/utils.js") : imscUtils);
        },
        "./node_modules/imsc/src/main/js/html.js": function(module3, exports3, __webpack_require__) {
          ;
          (function(imscHTML, imscNames2, imscStyles2) {
            imscHTML.render = function(isd, element, imgResolver, eheight, ewidth, displayForcedOnlyMode, errorHandler, previousISDState, enableRollUp) {
              var height = eheight || element.clientHeight;
              var width = ewidth || element.clientWidth;
              if (isd.aspectRatio !== null) {
                var twidth = height * isd.aspectRatio;
                if (twidth > width) {
                  height = Math.round(width / isd.aspectRatio);
                } else {
                  width = twidth;
                }
              }
              var rootcontainer = document.createElement("div");
              rootcontainer.style.position = "relative";
              rootcontainer.style.width = width + "px";
              rootcontainer.style.height = height + "px";
              rootcontainer.style.margin = "auto";
              rootcontainer.style.top = 0;
              rootcontainer.style.bottom = 0;
              rootcontainer.style.left = 0;
              rootcontainer.style.right = 0;
              rootcontainer.style.zIndex = 0;
              var context = {
                h: height,
                w: width,
                regionH: null,
                regionW: null,
                imgResolver,
                displayForcedOnlyMode: displayForcedOnlyMode || false,
                isd,
                errorHandler,
                previousISDState,
                enableRollUp: enableRollUp || false,
                currentISDState: {},
                flg: null,
                lp: null,
                mra: null,
                ipd: null,
                bpd: null
              };
              element.appendChild(rootcontainer);
              for (var i4 in isd.contents) {
                processElement(context, rootcontainer, isd.contents[i4]);
              }
              return context.currentISDState;
            };
            function processElement(context, dom_parent, isd_element) {
              var e;
              if (isd_element.kind === "region") {
                e = document.createElement("div");
                e.style.position = "absolute";
              } else if (isd_element.kind === "body") {
                e = document.createElement("div");
              } else if (isd_element.kind === "div") {
                e = document.createElement("div");
              } else if (isd_element.kind === "p") {
                e = document.createElement("p");
              } else if (isd_element.kind === "span") {
                e = document.createElement("span");
              } else if (isd_element.kind === "br") {
                e = document.createElement("br");
              }
              if (!e) {
                reportError(context.errorHandler, "Error processing ISD element kind: " + isd_element.kind);
                return;
              }
              e.style.margin = "0";
              for (var i4 in STYLING_MAP_DEFS) {
                var sm = STYLING_MAP_DEFS[i4];
                var attr = isd_element.styleAttrs[sm.qname];
                if (attr !== void 0 && sm.map !== null) {
                  sm.map(context, e, isd_element, attr);
                }
              }
              var proc_e = e;
              if (isd_element.kind === "region") {
                var wdir = isd_element.styleAttrs[imscStyles2.byName.writingMode.qname];
                if (wdir === "lrtb" || wdir === "lr") {
                  context.ipd = "lr";
                  context.bpd = "tb";
                } else if (wdir === "rltb" || wdir === "rl") {
                  context.ipd = "rl";
                  context.bpd = "tb";
                } else if (wdir === "tblr") {
                  context.ipd = "tb";
                  context.bpd = "lr";
                } else if (wdir === "tbrl" || wdir === "tb") {
                  context.ipd = "tb";
                  context.bpd = "rl";
                }
              }
              var lp = isd_element.styleAttrs[imscStyles2.byName.linePadding.qname];
              if (lp && lp > 0) {
                var padmeasure = Math.ceil(lp * context.h) + "px";
                if (context.bpd === "tb") {
                  proc_e.style.paddingLeft = padmeasure;
                  proc_e.style.paddingRight = padmeasure;
                } else {
                  proc_e.style.paddingTop = padmeasure;
                  proc_e.style.paddingBottom = padmeasure;
                }
                context.lp = lp;
              }
              var mra = isd_element.styleAttrs[imscStyles2.byName.multiRowAlign.qname];
              if (mra && mra !== "auto") {
                var s3 = document.createElement("span");
                s3.style.display = "inline-block";
                s3.style.textAlign = mra;
                e.appendChild(s3);
                proc_e = s3;
                context.mra = mra;
              }
              if (isd_element.styleAttrs[imscStyles2.byName.fillLineGap.qname]) {
                context.flg = true;
              }
              if (isd_element.kind === "span" && isd_element.text) {
                if (context.lp || context.mra || context.flg) {
                  var cbuf = "";
                  for (var j = 0; j < isd_element.text.length; j++) {
                    cbuf += isd_element.text.charAt(j);
                    var cc = isd_element.text.charCodeAt(j);
                    if (cc < 55296 || cc > 56319 || j === isd_element.text.length) {
                      var span = document.createElement("span");
                      span.textContent = cbuf;
                      e.appendChild(span);
                      cbuf = "";
                    }
                  }
                } else {
                  e.textContent = isd_element.text;
                }
              }
              dom_parent.appendChild(e);
              for (var k2 in isd_element.contents) {
                processElement(context, proc_e, isd_element.contents[k2]);
              }
              var linelist = [];
              if ((context.lp || context.mra || context.flg) && isd_element.kind === "p") {
                constructLineList(context, proc_e, linelist, null);
                if (context.mra) {
                  applyMultiRowAlign(linelist);
                  context.mra = null;
                }
                if (context.lp) {
                  applyLinePadding(linelist, context.lp * context.h, context);
                  context.lp = null;
                }
                if (context.flg) {
                  var par_edges = rect2edges(proc_e.getBoundingClientRect(), context);
                  applyFillLineGap(linelist, par_edges.before, par_edges.after, context);
                  context.flg = null;
                }
              }
              if (isd_element.kind === "region") {
                constructLineList(context, proc_e, linelist);
                if (context.bpd === "tb" && context.enableRollUp && isd_element.contents.length > 0 && isd_element.styleAttrs[imscStyles2.byName.displayAlign.qname] === "after") {
                  var rid = isd_element.id === "" ? "_" : isd_element.id;
                  var rb = new RegionPBuffer(rid, linelist);
                  context.currentISDState[rb.id] = rb;
                  if (context.previousISDState && rb.id in context.previousISDState && context.previousISDState[rb.id].plist.length > 0 && rb.plist.length > 1 && rb.plist[rb.plist.length - 2].text === context.previousISDState[rb.id].plist[context.previousISDState[rb.id].plist.length - 1].text) {
                    var body_elem = e.firstElementChild;
                    var h3 = rb.plist[rb.plist.length - 1].after - rb.plist[rb.plist.length - 1].before;
                    body_elem.style.bottom = "-" + h3 + "px";
                    body_elem.style.transition = "transform 0.4s";
                    body_elem.style.position = "relative";
                    body_elem.style.transform = "translateY(-" + h3 + "px)";
                  }
                }
              }
            }
            function applyLinePadding(lineList, lp, context) {
              for (var i4 in lineList) {
                var l3 = lineList[i4].elements.length;
                var se = lineList[i4].elements[lineList[i4].start_elem];
                var ee = lineList[i4].elements[lineList[i4].end_elem];
                var pospadpxlen = Math.ceil(lp) + "px";
                var negpadpxlen = "-" + Math.ceil(lp) + "px";
                if (l3 !== 0) {
                  if (context.ipd === "lr") {
                    se.node.style.borderLeftColor = se.bgcolor || "#00000000";
                    se.node.style.borderLeftStyle = "solid";
                    se.node.style.borderLeftWidth = pospadpxlen;
                    se.node.style.marginLeft = negpadpxlen;
                  } else if (context.ipd === "rl") {
                    se.node.style.borderRightColor = se.bgcolor || "#00000000";
                    se.node.style.borderRightStyle = "solid";
                    se.node.style.borderRightWidth = pospadpxlen;
                    se.node.style.marginRight = negpadpxlen;
                  } else if (context.ipd === "tb") {
                    se.node.style.borderTopColor = se.bgcolor || "#00000000";
                    se.node.style.borderTopStyle = "solid";
                    se.node.style.borderTopWidth = pospadpxlen;
                    se.node.style.marginTop = negpadpxlen;
                  }
                  if (context.ipd === "lr") {
                    ee.node.style.borderRightColor = ee.bgcolor || "#00000000";
                    ee.node.style.borderRightStyle = "solid";
                    ee.node.style.borderRightWidth = pospadpxlen;
                    ee.node.style.marginRight = negpadpxlen;
                  } else if (context.ipd === "rl") {
                    ee.node.style.borderLeftColor = ee.bgcolor || "#00000000";
                    ee.node.style.borderLeftStyle = "solid";
                    ee.node.style.borderLeftWidth = pospadpxlen;
                    ee.node.style.marginLeft = negpadpxlen;
                  } else if (context.ipd === "tb") {
                    ee.node.style.borderBottomColor = ee.bgcolor || "#00000000";
                    ee.node.style.borderBottomStyle = "solid";
                    ee.node.style.borderBottomWidth = pospadpxlen;
                    ee.node.style.marginBottom = negpadpxlen;
                  }
                }
              }
            }
            function applyMultiRowAlign(lineList) {
              for (var i4 = 0; i4 < lineList.length - 1; i4++) {
                var l3 = lineList[i4].elements.length;
                if (l3 !== 0 && lineList[i4].br === false) {
                  var br = document.createElement("br");
                  var lastnode = lineList[i4].elements[l3 - 1].node;
                  lastnode.parentElement.insertBefore(br, lastnode.nextSibling);
                }
              }
            }
            function applyFillLineGap(lineList, par_before, par_after, context) {
              var s3 = Math.sign(par_after - par_before);
              for (var i4 = 0; i4 <= lineList.length; i4++) {
                var frontier;
                if (i4 === 0) {
                  frontier = par_before;
                } else if (i4 === lineList.length) {
                  frontier = par_after;
                } else {
                  frontier = (lineList[i4].before + lineList[i4 - 1].after) / 2;
                }
                var pad;
                var e;
                if (i4 > 0) {
                  for (var j = 0; j < lineList[i4 - 1].elements.length; j++) {
                    if (lineList[i4 - 1].elements[j].bgcolor === null)
                      continue;
                    e = lineList[i4 - 1].elements[j];
                    if (s3 * (e.after - frontier) < 0) {
                      pad = Math.ceil(Math.abs(frontier - e.after)) + "px";
                      e.node.style.backgroundColor = e.bgcolor;
                      if (context.bpd === "lr") {
                        e.node.style.paddingRight = pad;
                      } else if (context.bpd === "rl") {
                        e.node.style.paddingLeft = pad;
                      } else if (context.bpd === "tb") {
                        e.node.style.paddingBottom = pad;
                      }
                    }
                  }
                }
                if (i4 < lineList.length) {
                  for (var k2 = 0; k2 < lineList[i4].elements.length; k2++) {
                    e = lineList[i4].elements[k2];
                    if (e.bgcolor === null)
                      continue;
                    if (s3 * (e.before - frontier) > 0) {
                      pad = Math.ceil(Math.abs(e.before - frontier)) + "px";
                      e.node.style.backgroundColor = e.bgcolor;
                      if (context.bpd === "lr") {
                        e.node.style.paddingLeft = pad;
                      } else if (context.bpd === "rl") {
                        e.node.style.paddingRight = pad;
                      } else if (context.bpd === "tb") {
                        e.node.style.paddingTop = pad;
                      }
                    }
                  }
                }
              }
            }
            function RegionPBuffer(id, lineList) {
              this.id = id;
              this.plist = lineList;
            }
            function pruneEmptySpans(element) {
              var child = element.firstChild;
              while (child) {
                var nchild = child.nextSibling;
                if (child.nodeType === Node.ELEMENT_NODE && child.localName === "span") {
                  pruneEmptySpans(child);
                  if (child.childElementCount === 0 && child.textContent.length === 0) {
                    element.removeChild(child);
                  }
                }
                child = nchild;
              }
            }
            function rect2edges(rect, context) {
              var edges = { before: null, after: null, start: null, end: null };
              if (context.bpd === "tb") {
                edges.before = rect.top;
                edges.after = rect.bottom;
                if (context.ipd === "lr") {
                  edges.start = rect.left;
                  edges.end = rect.right;
                } else {
                  edges.start = rect.right;
                  edges.end = rect.left;
                }
              } else if (context.bpd === "lr") {
                edges.before = rect.left;
                edges.after = rect.right;
                edges.start = rect.top;
                edges.end = rect.bottom;
              } else if (context.bpd === "rl") {
                edges.before = rect.right;
                edges.after = rect.left;
                edges.start = rect.top;
                edges.end = rect.bottom;
              }
              return edges;
            }
            function constructLineList(context, element, llist, bgcolor) {
              var curbgcolor = element.style.backgroundColor || bgcolor;
              if (element.childElementCount === 0) {
                if (element.localName === "span") {
                  var r3 = element.getBoundingClientRect();
                  if (r3.height === 0 || r3.width === 0)
                    return;
                  var edges = rect2edges(r3, context);
                  if (llist.length === 0 || !isSameLine(edges.before, edges.after, llist[llist.length - 1].before, llist[llist.length - 1].after)) {
                    llist.push({
                      before: edges.before,
                      after: edges.after,
                      start: edges.start,
                      end: edges.end,
                      start_elem: 0,
                      end_elem: 0,
                      elements: [],
                      text: "",
                      br: false
                    });
                  } else {
                    var bpd_dir = Math.sign(edges.after - edges.before);
                    var ipd_dir = Math.sign(edges.end - edges.start);
                    if (bpd_dir * (edges.before - llist[llist.length - 1].before) < 0) {
                      llist[llist.length - 1].before = edges.before;
                    }
                    if (bpd_dir * (edges.after - llist[llist.length - 1].after) > 0) {
                      llist[llist.length - 1].after = edges.after;
                    }
                    if (ipd_dir * (edges.start - llist[llist.length - 1].start) < 0) {
                      llist[llist.length - 1].start = edges.start;
                      llist[llist.length - 1].start_elem = llist[llist.length - 1].elements.length;
                    }
                    if (ipd_dir * (edges.end - llist[llist.length - 1].end) > 0) {
                      llist[llist.length - 1].end = edges.end;
                      llist[llist.length - 1].end_elem = llist[llist.length - 1].elements.length;
                    }
                  }
                  llist[llist.length - 1].text += element.textContent;
                  llist[llist.length - 1].elements.push({
                    node: element,
                    bgcolor: curbgcolor,
                    before: edges.before,
                    after: edges.after
                  });
                } else if (element.localName === "br" && llist.length !== 0) {
                  llist[llist.length - 1].br = true;
                }
              } else {
                var child = element.firstChild;
                while (child) {
                  if (child.nodeType === Node.ELEMENT_NODE) {
                    constructLineList(context, child, llist, curbgcolor);
                  }
                  child = child.nextSibling;
                }
              }
            }
            function isSameLine(before1, after1, before2, after2) {
              return after1 < after2 && before1 > before2 || after2 <= after1 && before2 >= before1;
            }
            function HTMLStylingMapDefintion(qName, mapFunc) {
              this.qname = qName;
              this.map = mapFunc;
            }
            var STYLING_MAP_DEFS = [
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling backgroundColor", function(context, dom_element, isd_element, attr) {
                if (attr[3] === 0)
                  return;
                dom_element.style.backgroundColor = "rgba(" + attr[0].toString() + "," + attr[1].toString() + "," + attr[2].toString() + "," + (attr[3] / 255).toString() + ")";
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling color", function(context, dom_element, isd_element, attr) {
                dom_element.style.color = "rgba(" + attr[0].toString() + "," + attr[1].toString() + "," + attr[2].toString() + "," + (attr[3] / 255).toString() + ")";
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling direction", function(context, dom_element, isd_element, attr) {
                dom_element.style.direction = attr;
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling display", function(context, dom_element, isd_element, attr) {
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling displayAlign", function(context, dom_element, isd_element, attr) {
                dom_element.style.display = "flex";
                dom_element.style.flexDirection = "column";
                if (attr === "before") {
                  dom_element.style.justifyContent = "flex-start";
                } else if (attr === "center") {
                  dom_element.style.justifyContent = "center";
                } else if (attr === "after") {
                  dom_element.style.justifyContent = "flex-end";
                }
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling extent", function(context, dom_element, isd_element, attr) {
                context.regionH = attr.h * context.h;
                context.regionW = attr.w * context.w;
                var hdelta = 0;
                var wdelta = 0;
                var p2 = isd_element.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];
                if (!p2) {
                } else {
                  hdelta = (p2[0] + p2[2]) * context.h;
                  wdelta = (p2[1] + p2[3]) * context.w;
                }
                dom_element.style.height = context.regionH - hdelta + "px";
                dom_element.style.width = context.regionW - wdelta + "px";
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling fontFamily", function(context, dom_element, isd_element, attr) {
                var rslt = [];
                for (var i4 in attr) {
                  if (attr[i4] === "monospaceSerif") {
                    rslt.push("Courier New");
                    rslt.push('"Liberation Mono"');
                    rslt.push("Courier");
                    rslt.push("monospace");
                  } else if (attr[i4] === "proportionalSansSerif") {
                    rslt.push("Arial");
                    rslt.push("Helvetica");
                    rslt.push('"Liberation Sans"');
                    rslt.push("sans-serif");
                  } else if (attr[i4] === "monospace") {
                    rslt.push("monospace");
                  } else if (attr[i4] === "sansSerif") {
                    rslt.push("sans-serif");
                  } else if (attr[i4] === "serif") {
                    rslt.push("serif");
                  } else if (attr[i4] === "monospaceSansSerif") {
                    rslt.push("Consolas");
                    rslt.push("monospace");
                  } else if (attr[i4] === "proportionalSerif") {
                    rslt.push("serif");
                  } else {
                    rslt.push(attr[i4]);
                  }
                }
                dom_element.style.fontFamily = rslt.join(",");
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling fontSize", function(context, dom_element, isd_element, attr) {
                dom_element.style.fontSize = attr * context.h + "px";
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling fontStyle", function(context, dom_element, isd_element, attr) {
                dom_element.style.fontStyle = attr;
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling fontWeight", function(context, dom_element, isd_element, attr) {
                dom_element.style.fontWeight = attr;
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling lineHeight", function(context, dom_element, isd_element, attr) {
                if (attr === "normal") {
                  dom_element.style.lineHeight = "normal";
                } else {
                  dom_element.style.lineHeight = attr * context.h + "px";
                }
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling opacity", function(context, dom_element, isd_element, attr) {
                dom_element.style.opacity = attr;
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling origin", function(context, dom_element, isd_element, attr) {
                dom_element.style.top = attr.h * context.h + "px";
                dom_element.style.left = attr.w * context.w + "px";
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling overflow", function(context, dom_element, isd_element, attr) {
                dom_element.style.overflow = attr;
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling padding", function(context, dom_element, isd_element, attr) {
                var rslt = [];
                rslt[0] = attr[0] * context.h + "px";
                rslt[1] = attr[3] * context.w + "px";
                rslt[2] = attr[2] * context.h + "px";
                rslt[3] = attr[1] * context.w + "px";
                dom_element.style.padding = rslt.join(" ");
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling showBackground", null),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling textAlign", function(context, dom_element, isd_element, attr) {
                var ta;
                var dir = isd_element.styleAttrs[imscStyles2.byName.direction.qname];
                if (attr === "start") {
                  ta = dir === "rtl" ? "right" : "left";
                } else if (attr === "end") {
                  ta = dir === "rtl" ? "left" : "right";
                } else {
                  ta = attr;
                }
                dom_element.style.textAlign = ta;
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling textDecoration", function(context, dom_element, isd_element, attr) {
                dom_element.style.textDecoration = attr.join(" ").replace("lineThrough", "line-through");
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling textOutline", function(context, dom_element, isd_element, attr) {
                if (attr === "none") {
                  dom_element.style.textShadow = "";
                } else {
                  dom_element.style.textShadow = "rgba(" + attr.color[0].toString() + "," + attr.color[1].toString() + "," + attr.color[2].toString() + "," + (attr.color[3] / 255).toString() + ") 0px 0px " + attr.thickness * context.h + "px";
                }
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling unicodeBidi", function(context, dom_element, isd_element, attr) {
                var ub;
                if (attr === "bidiOverride") {
                  ub = "bidi-override";
                } else {
                  ub = attr;
                }
                dom_element.style.unicodeBidi = ub;
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling visibility", function(context, dom_element, isd_element, attr) {
                dom_element.style.visibility = attr;
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling wrapOption", function(context, dom_element, isd_element, attr) {
                if (attr === "wrap") {
                  if (isd_element.space === "preserve") {
                    dom_element.style.whiteSpace = "pre-wrap";
                  } else {
                    dom_element.style.whiteSpace = "normal";
                  }
                } else {
                  if (isd_element.space === "preserve") {
                    dom_element.style.whiteSpace = "pre";
                  } else {
                    dom_element.style.whiteSpace = "noWrap";
                  }
                }
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling writingMode", function(context, dom_element, isd_element, attr) {
                if (attr === "lrtb" || attr === "lr") {
                  dom_element.style.writingMode = "horizontal-tb";
                } else if (attr === "rltb" || attr === "rl") {
                  dom_element.style.writingMode = "horizontal-tb";
                } else if (attr === "tblr") {
                  dom_element.style.writingMode = "vertical-lr";
                } else if (attr === "tbrl" || attr === "tb") {
                  dom_element.style.writingMode = "vertical-rl";
                }
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling zIndex", function(context, dom_element, isd_element, attr) {
                dom_element.style.zIndex = attr;
              }),
              new HTMLStylingMapDefintion("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt backgroundImage", function(context, dom_element, isd_element, attr) {
                if (context.imgResolver !== null && attr !== null) {
                  var img = document.createElement("img");
                  var uri = context.imgResolver(attr, img);
                  if (uri)
                    img.src = uri;
                  img.height = context.regionH;
                  img.width = context.regionW;
                  dom_element.appendChild(img);
                }
              }),
              new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay", function(context, dom_element, isd_element, attr) {
                if (context.displayForcedOnlyMode && attr === false) {
                  dom_element.style.visibility = "hidden";
                }
              })
            ];
            var STYLMAP_BY_QNAME = {};
            for (var i3 in STYLING_MAP_DEFS) {
              STYLMAP_BY_QNAME[STYLING_MAP_DEFS[i3].qname] = STYLING_MAP_DEFS[i3];
            }
            function reportError(errorHandler, msg) {
              if (errorHandler && errorHandler.error && errorHandler.error(msg))
                throw msg;
            }
          })(false ? void 0 : exports3, typeof imscNames === "undefined" ? __webpack_require__("./node_modules/imsc/src/main/js/names.js") : imscNames, typeof imscStyles === "undefined" ? __webpack_require__("./node_modules/imsc/src/main/js/styles.js") : imscStyles);
        },
        "./node_modules/imsc/src/main/js/isd.js": function(module3, exports3, __webpack_require__) {
          ;
          (function(imscISD, imscNames2, imscStyles2) {
            imscISD.generateISD = function(tt, offset, errorHandler) {
              var isd = new ISD(tt);
              var context = {};
              for (var r3 in tt.head.layout.regions) {
                var c3 = isdProcessContentElement(tt, offset, tt.head.layout.regions[r3], tt.body, null, "", tt.head.layout.regions[r3], errorHandler, context);
                if (c3 !== null) {
                  isd.contents.push(c3.element);
                }
              }
              return isd;
            };
            function isdProcessContentElement(doc, offset, region, body, parent, inherited_region_id, elem, errorHandler, context) {
              if (offset < elem.begin || offset >= elem.end) {
                return null;
              }
              var associated_region_id = "regionID" in elem && elem.regionID !== "" ? elem.regionID : inherited_region_id;
              if (parent !== null && associated_region_id !== region.id && (!("contents" in elem) || "contents" in elem && elem.contents.length === 0 || associated_region_id !== ""))
                return null;
              var isd_element = new ISDContentElement(elem);
              for (var i3 in elem.sets) {
                if (offset < elem.sets[i3].begin || offset >= elem.sets[i3].end)
                  continue;
                isd_element.styleAttrs[elem.sets[i3].qname] = elem.sets[i3].value;
              }
              var spec_attr = {};
              for (var qname in isd_element.styleAttrs) {
                spec_attr[qname] = true;
                if (qname === imscStyles2.byName.writingMode.qname && !(imscStyles2.byName.direction.qname in isd_element.styleAttrs)) {
                  var wm = isd_element.styleAttrs[qname];
                  if (wm === "lrtb" || wm === "lr") {
                    isd_element.styleAttrs[imscStyles2.byName.direction.qname] = "ltr";
                  } else if (wm === "rltb" || wm === "rl") {
                    isd_element.styleAttrs[imscStyles2.byName.direction.qname] = "rtl";
                  }
                }
              }
              if (parent !== null) {
                for (var j in imscStyles2.all) {
                  var sa = imscStyles2.all[j];
                  if (sa.qname === imscStyles2.byName.textDecoration.qname) {
                    var ps = parent.styleAttrs[sa.qname];
                    var es = isd_element.styleAttrs[sa.qname];
                    var outs = [];
                    if (es === void 0) {
                      outs = ps;
                    } else if (es.indexOf("none") === -1) {
                      if (es.indexOf("noUnderline") === -1 && ps.indexOf("underline") !== -1 || es.indexOf("underline") !== -1) {
                        outs.push("underline");
                      }
                      if (es.indexOf("noLineThrough") === -1 && ps.indexOf("lineThrough") !== -1 || es.indexOf("lineThrough") !== -1) {
                        outs.push("lineThrough");
                      }
                      if (es.indexOf("noOverline") === -1 && ps.indexOf("overline") !== -1 || es.indexOf("overline") !== -1) {
                        outs.push("overline");
                      }
                    } else {
                      outs.push("none");
                    }
                    isd_element.styleAttrs[sa.qname] = outs;
                  } else if (sa.inherit && sa.qname in parent.styleAttrs && !(sa.qname in isd_element.styleAttrs)) {
                    isd_element.styleAttrs[sa.qname] = parent.styleAttrs[sa.qname];
                  }
                }
              }
              for (var k2 in imscStyles2.all) {
                var ivs = imscStyles2.all[k2];
                if (ivs.qname in isd_element.styleAttrs)
                  continue;
                if (isd_element.kind === "region" || ivs.inherit === false && ivs.initial !== null) {
                  isd_element.styleAttrs[ivs.qname] = ivs.parse(ivs.initial);
                  spec_attr[ivs.qname] = true;
                }
              }
              for (var z2 in imscStyles2.all) {
                var cs = imscStyles2.all[z2];
                if (!(cs.qname in spec_attr))
                  continue;
                if (cs.compute !== null) {
                  var cstyle = cs.compute(doc, parent, isd_element, isd_element.styleAttrs[cs.qname], context);
                  if (cstyle !== null) {
                    isd_element.styleAttrs[cs.qname] = cstyle;
                  } else {
                    reportError(errorHandler, "Style '" + cs.qname + "' on element '" + isd_element.kind + "' cannot be computed");
                  }
                }
              }
              if (isd_element.styleAttrs[imscStyles2.byName.display.qname] === "none")
                return null;
              var contents;
              if (parent === null) {
                if (body === null) {
                  contents = [];
                } else {
                  contents = [body];
                }
              } else if ("contents" in elem) {
                contents = elem.contents;
              }
              for (var x3 in contents) {
                var c3 = isdProcessContentElement(doc, offset, region, body, isd_element, associated_region_id, contents[x3], errorHandler, context);
                if (c3 !== null) {
                  isd_element.contents.push(c3.element);
                }
              }
              for (var qnameb in isd_element.styleAttrs) {
                var da = imscStyles2.byQName[qnameb];
                if (da.applies.indexOf(isd_element.kind) === -1) {
                  delete isd_element.styleAttrs[qnameb];
                }
              }
              if (isd_element.kind === "span" && isd_element.text && isd_element.space === "default") {
                var trimmedspan = isd_element.text.replace(/\s+/g, " ");
                isd_element.text = trimmedspan;
              }
              if (isd_element.kind === "p") {
                var elist = [];
                constructSpanList(isd_element, elist);
                var l3 = 0;
                var state = "after_br";
                var br_pos = 0;
                while (true) {
                  if (state === "after_br") {
                    if (l3 >= elist.length || elist[l3].kind === "br") {
                      state = "before_br";
                      br_pos = l3;
                      l3--;
                    } else {
                      if (elist[l3].space !== "preserve") {
                        elist[l3].text = elist[l3].text.replace(/^\s+/g, "");
                      }
                      if (elist[l3].text.length > 0) {
                        state = "looking_br";
                        l3++;
                      } else {
                        elist.splice(l3, 1);
                      }
                    }
                  } else if (state === "before_br") {
                    if (l3 < 0 || elist[l3].kind === "br") {
                      state = "after_br";
                      l3 = br_pos + 1;
                      if (l3 >= elist.length)
                        break;
                    } else {
                      if (elist[l3].space !== "preserve") {
                        elist[l3].text = elist[l3].text.replace(/\s+$/g, "");
                      }
                      if (elist[l3].text.length > 0) {
                        state = "after_br";
                        l3 = br_pos + 1;
                        if (l3 >= elist.length)
                          break;
                      } else {
                        elist.splice(l3, 1);
                        l3--;
                      }
                    }
                  } else {
                    if (l3 >= elist.length || elist[l3].kind === "br") {
                      state = "before_br";
                      br_pos = l3;
                      l3--;
                    } else {
                      l3++;
                    }
                  }
                }
                pruneEmptySpans(isd_element);
              }
              if (isd_element.kind === "div" && imscStyles2.byName.backgroundImage.qname in isd_element.styleAttrs || isd_element.kind === "br" || "contents" in isd_element && isd_element.contents.length > 0 || isd_element.kind === "span" && isd_element.text !== null || isd_element.kind === "region" && isd_element.styleAttrs[imscStyles2.byName.showBackground.qname] === "always") {
                return {
                  region_id: associated_region_id,
                  element: isd_element
                };
              }
              return null;
            }
            function constructSpanList(element, elist) {
              if ("contents" in element) {
                for (var i3 in element.contents) {
                  constructSpanList(element.contents[i3], elist);
                }
              } else {
                elist.push(element);
              }
            }
            function pruneEmptySpans(element) {
              if (element.kind === "br") {
                return false;
              } else if ("text" in element) {
                return element.text.length === 0;
              } else if ("contents" in element) {
                var i3 = element.contents.length;
                while (i3--) {
                  if (pruneEmptySpans(element.contents[i3])) {
                    element.contents.splice(i3, 1);
                  }
                }
                return element.contents.length === 0;
              }
            }
            function ISD(tt) {
              this.contents = [];
              this.aspectRatio = tt.aspectRatio;
            }
            function ISDContentElement(ttelem) {
              this.kind = ttelem.kind || "region";
              if (ttelem.id) {
                this.id = ttelem.id;
              }
              this.styleAttrs = {};
              for (var sname in ttelem.styleAttrs) {
                this.styleAttrs[sname] = ttelem.styleAttrs[sname];
              }
              if ("text" in ttelem) {
                this.text = ttelem.text;
              } else if (ttelem.kind !== "br") {
                this.contents = [];
              }
              if ("space" in ttelem) {
                this.space = ttelem.space;
              }
            }
            function reportInfo(errorHandler, msg) {
              if (errorHandler && errorHandler.info && errorHandler.info(msg))
                throw msg;
            }
            function reportWarning(errorHandler, msg) {
              if (errorHandler && errorHandler.warn && errorHandler.warn(msg))
                throw msg;
            }
            function reportError(errorHandler, msg) {
              if (errorHandler && errorHandler.error && errorHandler.error(msg))
                throw msg;
            }
            function reportFatal(errorHandler, msg) {
              if (errorHandler && errorHandler.fatal)
                errorHandler.fatal(msg);
              throw msg;
            }
          })(false ? void 0 : exports3, typeof imscNames === "undefined" ? __webpack_require__("./node_modules/imsc/src/main/js/names.js") : imscNames, typeof imscStyles === "undefined" ? __webpack_require__("./node_modules/imsc/src/main/js/styles.js") : imscStyles);
        },
        "./node_modules/imsc/src/main/js/main.js": function(module3, exports3, __webpack_require__) {
          exports3.generateISD = __webpack_require__("./node_modules/imsc/src/main/js/isd.js").generateISD;
          exports3.fromXML = __webpack_require__("./node_modules/imsc/src/main/js/doc.js").fromXML;
          exports3.renderHTML = __webpack_require__("./node_modules/imsc/src/main/js/html.js").render;
        },
        "./node_modules/imsc/src/main/js/names.js": function(module3, exports3, __webpack_require__) {
          ;
          (function(imscNames2) {
            imscNames2.ns_tt = "http://www.w3.org/ns/ttml";
            imscNames2.ns_tts = "http://www.w3.org/ns/ttml#styling";
            imscNames2.ns_ttp = "http://www.w3.org/ns/ttml#parameter";
            imscNames2.ns_xml = "http://www.w3.org/XML/1998/namespace";
            imscNames2.ns_itts = "http://www.w3.org/ns/ttml/profile/imsc1#styling";
            imscNames2.ns_ittp = "http://www.w3.org/ns/ttml/profile/imsc1#parameter";
            imscNames2.ns_smpte = "http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt";
            imscNames2.ns_ebutts = "urn:ebu:tt:style";
          })(false ? void 0 : exports3);
        },
        "./node_modules/imsc/src/main/js/styles.js": function(module3, exports3, __webpack_require__) {
          ;
          (function(imscStyles2, imscNames2, imscUtils2) {
            function StylingAttributeDefinition(ns, name, initialValue, appliesTo, isInherit, isAnimatable, parseFunc, computeFunc) {
              this.name = name;
              this.ns = ns;
              this.qname = ns + " " + name;
              this.inherit = isInherit;
              this.animatable = isAnimatable;
              this.initial = initialValue;
              this.applies = appliesTo;
              this.parse = parseFunc;
              this.compute = computeFunc;
            }
            imscStyles2.all = [
              new StylingAttributeDefinition(imscNames2.ns_tts, "backgroundColor", "transparent", ["body", "div", "p", "region", "span"], false, true, imscUtils2.parseColor, null),
              new StylingAttributeDefinition(imscNames2.ns_tts, "color", "white", ["span"], true, true, imscUtils2.parseColor, null),
              new StylingAttributeDefinition(imscNames2.ns_tts, "direction", "ltr", ["p", "span"], true, true, function(str) {
                return str;
              }, null),
              new StylingAttributeDefinition(imscNames2.ns_tts, "display", "auto", ["body", "div", "p", "region", "span"], false, true, function(str) {
                return str;
              }, null),
              new StylingAttributeDefinition(imscNames2.ns_tts, "displayAlign", "before", ["region"], false, true, function(str) {
                return str;
              }, null),
              new StylingAttributeDefinition(imscNames2.ns_tts, "extent", "auto", ["tt", "region"], false, true, function(str) {
                if (str === "auto") {
                  return str;
                } else {
                  var s3 = str.split(" ");
                  if (s3.length !== 2)
                    return null;
                  var w2 = imscUtils2.parseLength(s3[0]);
                  var h3 = imscUtils2.parseLength(s3[1]);
                  if (!h3 || !w2)
                    return null;
                  return { "h": h3, "w": w2 };
                }
              }, function(doc, parent, element, attr, context) {
                var h3;
                var w2;
                if (attr === "auto") {
                  h3 = 1;
                } else if (attr.h.unit === "%") {
                  h3 = attr.h.value / 100;
                } else if (attr.h.unit === "px") {
                  h3 = attr.h.value / doc.pxDimensions.h;
                } else {
                  return null;
                }
                if (attr === "auto") {
                  w2 = 1;
                } else if (attr.w.unit === "%") {
                  w2 = attr.w.value / 100;
                } else if (attr.w.unit === "px") {
                  w2 = attr.w.value / doc.pxDimensions.w;
                } else {
                  return null;
                }
                return { "h": h3, "w": w2 };
              }),
              new StylingAttributeDefinition(imscNames2.ns_tts, "fontFamily", "default", ["span"], true, true, function(str) {
                var ffs = str.split(",");
                var rslt = [];
                for (var i4 in ffs) {
                  if (ffs[i4].charAt(0) !== "'" && ffs[i4].charAt(0) !== '"') {
                    if (ffs[i4] === "default") {
                      rslt.push("monospaceSerif");
                    } else {
                      rslt.push(ffs[i4]);
                    }
                  } else {
                    rslt.push(ffs[i4]);
                  }
                }
                return rslt;
              }, null),
              new StylingAttributeDefinition(imscNames2.ns_tts, "fontSize", "1c", ["span"], true, true, imscUtils2.parseLength, function(doc, parent, element, attr, context) {
                var fs;
                if (attr.unit === "%") {
                  if (parent !== null) {
                    fs = parent.styleAttrs[imscStyles2.byName.fontSize.qname] * attr.value / 100;
                  } else {
                    fs = attr.value / 100 / doc.cellResolution.h;
                  }
                } else if (attr.unit === "em") {
                  if (parent !== null) {
                    fs = parent.styleAttrs[imscStyles2.byName.fontSize.qname] * attr.value;
                  } else {
                    fs = attr.value / doc.cellResolution.h;
                  }
                } else if (attr.unit === "c") {
                  fs = attr.value / doc.cellResolution.h;
                } else if (attr.unit === "px") {
                  fs = attr.value / doc.pxDimensions.h;
                } else {
                  return null;
                }
                return fs;
              }),
              new StylingAttributeDefinition(imscNames2.ns_tts, "fontStyle", "normal", ["span"], true, true, function(str) {
                return str;
              }, null),
              new StylingAttributeDefinition(imscNames2.ns_tts, "fontWeight", "normal", ["span"], true, true, function(str) {
                return str;
              }, null),
              new StylingAttributeDefinition(imscNames2.ns_tts, "lineHeight", "normal", ["p"], true, true, function(str) {
                if (str === "normal") {
                  return str;
                } else {
                  return imscUtils2.parseLength(str);
                }
              }, function(doc, parent, element, attr, context) {
                var lh;
                if (attr === "normal") {
                  lh = attr;
                } else if (attr.unit === "%") {
                  lh = element.styleAttrs[imscStyles2.byName.fontSize.qname] * attr.value / 100;
                } else if (attr.unit === "em") {
                  lh = element.styleAttrs[imscStyles2.byName.fontSize.qname] * attr.value;
                } else if (attr.unit === "c") {
                  lh = attr.value / doc.cellResolution.h;
                } else if (attr.unit === "px") {
                  lh = attr.value / doc.pxDimensions.h;
                } else {
                  return null;
                }
                return lh;
              }),
              new StylingAttributeDefinition(imscNames2.ns_tts, "opacity", 1, ["region"], false, true, parseFloat, null),
              new StylingAttributeDefinition(imscNames2.ns_tts, "origin", "auto", ["region"], false, true, function(str) {
                if (str === "auto") {
                  return str;
                } else {
                  var s3 = str.split(" ");
                  if (s3.length !== 2)
                    return null;
                  var w2 = imscUtils2.parseLength(s3[0]);
                  var h3 = imscUtils2.parseLength(s3[1]);
                  if (!h3 || !w2)
                    return null;
                  return { "h": h3, "w": w2 };
                }
              }, function(doc, parent, element, attr, context) {
                var h3;
                var w2;
                if (attr === "auto") {
                  h3 = 0;
                } else if (attr.h.unit === "%") {
                  h3 = attr.h.value / 100;
                } else if (attr.h.unit === "px") {
                  h3 = attr.h.value / doc.pxDimensions.h;
                } else {
                  return null;
                }
                if (attr === "auto") {
                  w2 = 0;
                } else if (attr.w.unit === "%") {
                  w2 = attr.w.value / 100;
                } else if (attr.w.unit === "px") {
                  w2 = attr.w.value / doc.pxDimensions.w;
                } else {
                  return null;
                }
                return { "h": h3, "w": w2 };
              }),
              new StylingAttributeDefinition(imscNames2.ns_tts, "overflow", "hidden", ["region"], false, true, function(str) {
                return str;
              }, null),
              new StylingAttributeDefinition(imscNames2.ns_tts, "padding", "0px", ["region"], false, true, function(str) {
                var s3 = str.split(" ");
                if (s3.length > 4)
                  return null;
                var r3 = [];
                for (var i4 in s3) {
                  var l3 = imscUtils2.parseLength(s3[i4]);
                  if (!l3)
                    return null;
                  r3.push(l3);
                }
                return r3;
              }, function(doc, parent, element, attr, context) {
                var padding;
                if (attr.length === 1) {
                  padding = [attr[0], attr[0], attr[0], attr[0]];
                } else if (attr.length === 2) {
                  padding = [attr[0], attr[1], attr[0], attr[1]];
                } else if (attr.length === 3) {
                  padding = [attr[0], attr[1], attr[2], attr[1]];
                } else if (attr.length === 4) {
                  padding = [attr[0], attr[1], attr[2], attr[3]];
                } else {
                  return null;
                }
                var dir = element.styleAttrs[imscStyles2.byName.writingMode.qname];
                if (dir === "lrtb" || dir === "lr") {
                  padding = [padding[0], padding[3], padding[2], padding[1]];
                } else if (dir === "rltb" || dir === "rl") {
                  padding = [padding[0], padding[1], padding[2], padding[3]];
                } else if (dir === "tblr") {
                  padding = [padding[3], padding[0], padding[1], padding[2]];
                } else if (dir === "tbrl" || dir === "tb") {
                  padding = [padding[3], padding[2], padding[1], padding[0]];
                } else {
                  return null;
                }
                var out = [];
                for (var i4 in padding) {
                  if (padding[i4].value === 0) {
                    out[i4] = 0;
                  } else if (padding[i4].unit === "%") {
                    if (i4 === "0" || i4 === "2") {
                      out[i4] = element.styleAttrs[imscStyles2.byName.extent.qname].h * padding[i4].value / 100;
                    } else {
                      out[i4] = element.styleAttrs[imscStyles2.byName.extent.qname].w * padding[i4].value / 100;
                    }
                  } else if (padding[i4].unit === "em") {
                    out[i4] = element.styleAttrs[imscStyles2.byName.fontSize.qname] * padding[i4].value;
                  } else if (padding[i4].unit === "c") {
                    out[i4] = padding[i4].value / doc.cellResolution.h;
                  } else if (padding[i4].unit === "px") {
                    if (i4 === "0" || i4 === "2") {
                      out[i4] = padding[i4].value / doc.pxDimensions.h;
                    } else {
                      out[i4] = padding[i4].value / doc.pxDimensions.w;
                    }
                  } else {
                    return null;
                  }
                }
                return out;
              }),
              new StylingAttributeDefinition(imscNames2.ns_tts, "showBackground", "always", ["region"], false, true, function(str) {
                return str;
              }, null),
              new StylingAttributeDefinition(imscNames2.ns_tts, "textAlign", "start", ["p"], true, true, function(str) {
                return str;
              }, function(doc, parent, element, attr, context) {
                if (attr === "left") {
                  return "start";
                } else if (attr === "right") {
                  return "end";
                } else {
                  return attr;
                }
              }),
              new StylingAttributeDefinition(imscNames2.ns_tts, "textDecoration", "none", ["span"], true, true, function(str) {
                return str.split(" ");
              }, null),
              new StylingAttributeDefinition(imscNames2.ns_tts, "textOutline", "none", ["span"], true, true, function(str) {
                if (str === "none") {
                  return str;
                } else {
                  var r3 = {};
                  var s3 = str.split(" ");
                  if (s3.length === 0 || s3.length > 2)
                    return null;
                  var c3 = imscUtils2.parseColor(s3[0]);
                  r3.color = c3;
                  if (c3 !== null)
                    s3.shift();
                  if (s3.length !== 1)
                    return null;
                  var l3 = imscUtils2.parseLength(s3[0]);
                  if (!l3)
                    return null;
                  r3.thickness = l3;
                  return r3;
                }
              }, function(doc, parent, element, attr, context) {
                if (attr === "none")
                  return attr;
                var rslt = {};
                if (attr.color === null) {
                  rslt.color = element.styleAttrs[imscStyles2.byName.color.qname];
                } else {
                  rslt.color = attr.color;
                }
                if (attr.thickness.unit === "%") {
                  rslt.thickness = element.styleAttrs[imscStyles2.byName.fontSize.qname] * attr.thickness.value / 100;
                } else if (attr.thickness.unit === "em") {
                  rslt.thickness = element.styleAttrs[imscStyles2.byName.fontSize.qname] * attr.thickness.value;
                } else if (attr.thickness.unit === "c") {
                  rslt.thickness = attr.thickness.value / doc.cellResolution.h;
                } else if (attr.thickness.unit === "px") {
                  rslt.thickness = attr.thickness.value / doc.pxDimensions.h;
                } else {
                  return null;
                }
                return rslt;
              }),
              new StylingAttributeDefinition(imscNames2.ns_tts, "unicodeBidi", "normal", ["span", "p"], false, true, function(str) {
                return str;
              }, null),
              new StylingAttributeDefinition(imscNames2.ns_tts, "visibility", "visible", ["body", "div", "p", "region", "span"], true, true, function(str) {
                return str;
              }, null),
              new StylingAttributeDefinition(imscNames2.ns_tts, "wrapOption", "wrap", ["span"], true, true, function(str) {
                return str;
              }, null),
              new StylingAttributeDefinition(imscNames2.ns_tts, "writingMode", "lrtb", ["region"], false, true, function(str) {
                return str;
              }, null),
              new StylingAttributeDefinition(imscNames2.ns_tts, "zIndex", "auto", ["region"], false, true, function(str) {
                var rslt;
                if (str === "auto") {
                  rslt = str;
                } else {
                  rslt = parseInt(str);
                  if (isNaN(rslt)) {
                    rslt = null;
                  }
                }
                return rslt;
              }, null),
              new StylingAttributeDefinition(imscNames2.ns_ebutts, "linePadding", "0c", ["p"], true, false, imscUtils2.parseLength, function(doc, parent, element, attr, context) {
                if (attr.unit === "c") {
                  return attr.value / doc.cellResolution.h;
                } else {
                  return null;
                }
              }),
              new StylingAttributeDefinition(imscNames2.ns_ebutts, "multiRowAlign", "auto", ["p"], true, false, function(str) {
                return str;
              }, null),
              new StylingAttributeDefinition(imscNames2.ns_smpte, "backgroundImage", null, ["div"], false, false, function(str) {
                return str;
              }, null),
              new StylingAttributeDefinition(imscNames2.ns_itts, "forcedDisplay", "false", ["body", "div", "p", "region", "span"], true, true, function(str) {
                return str === "true" ? true : false;
              }, null),
              new StylingAttributeDefinition(imscNames2.ns_itts, "fillLineGap", "false", ["p"], true, true, function(str) {
                return str === "true" ? true : false;
              }, null)
            ];
            imscStyles2.byQName = {};
            for (var i3 in imscStyles2.all) {
              imscStyles2.byQName[imscStyles2.all[i3].qname] = imscStyles2.all[i3];
            }
            imscStyles2.byName = {};
            for (var j in imscStyles2.all) {
              imscStyles2.byName[imscStyles2.all[j].name] = imscStyles2.all[j];
            }
          })(false ? void 0 : exports3, typeof imscNames === "undefined" ? __webpack_require__("./node_modules/imsc/src/main/js/names.js") : imscNames, typeof imscUtils === "undefined" ? __webpack_require__("./node_modules/imsc/src/main/js/utils.js") : imscUtils);
        },
        "./node_modules/imsc/src/main/js/utils.js": function(module3, exports3, __webpack_require__) {
          ;
          (function(imscUtils2) {
            var HEX_COLOR_RE = /#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/;
            var DEC_COLOR_RE = /rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/;
            var DEC_COLORA_RE = /rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/;
            var NAMED_COLOR = {
              transparent: [0, 0, 0, 0],
              black: [0, 0, 0, 255],
              silver: [192, 192, 192, 255],
              gray: [128, 128, 128, 255],
              white: [255, 255, 255, 255],
              maroon: [128, 0, 0, 255],
              red: [255, 0, 0, 255],
              purple: [128, 0, 128, 255],
              fuchsia: [255, 0, 255, 255],
              magenta: [255, 0, 255, 255],
              green: [0, 128, 0, 255],
              lime: [0, 255, 0, 255],
              olive: [128, 128, 0, 255],
              yellow: [255, 255, 0, 255],
              navy: [0, 0, 128, 255],
              blue: [0, 0, 255, 255],
              teal: [0, 128, 128, 255],
              aqua: [0, 255, 255, 255],
              cyan: [0, 255, 255, 255]
            };
            imscUtils2.parseColor = function(str) {
              var m2;
              var r3 = null;
              var nc = NAMED_COLOR[str.toLowerCase()];
              if (nc !== void 0) {
                r3 = nc;
              } else if ((m2 = HEX_COLOR_RE.exec(str)) !== null) {
                r3 = [
                  parseInt(m2[1], 16),
                  parseInt(m2[2], 16),
                  parseInt(m2[3], 16),
                  m2[4] !== void 0 ? parseInt(m2[4], 16) : 255
                ];
              } else if ((m2 = DEC_COLOR_RE.exec(str)) !== null) {
                r3 = [
                  parseInt(m2[1]),
                  parseInt(m2[2]),
                  parseInt(m2[3]),
                  255
                ];
              } else if ((m2 = DEC_COLORA_RE.exec(str)) !== null) {
                r3 = [
                  parseInt(m2[1]),
                  parseInt(m2[2]),
                  parseInt(m2[3]),
                  parseInt(m2[4])
                ];
              }
              return r3;
            };
            var LENGTH_RE = /^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%)$/;
            imscUtils2.parseLength = function(str) {
              var m2;
              var r3 = null;
              if ((m2 = LENGTH_RE.exec(str)) !== null) {
                r3 = { value: parseFloat(m2[1]), unit: m2[2] };
              }
              return r3;
            };
          })(false ? void 0 : exports3);
        },
        "./node_modules/inherits/inherits_browser.js": function(module3, exports3) {
          if (typeof Object.create === "function") {
            module3.exports = function inherits(ctor, superCtor) {
              ctor.super_ = superCtor;
              ctor.prototype = Object.create(superCtor.prototype, {
                constructor: {
                  value: ctor,
                  enumerable: false,
                  writable: true,
                  configurable: true
                }
              });
            };
          } else {
            module3.exports = function inherits(ctor, superCtor) {
              ctor.super_ = superCtor;
              var TempCtor = function() {
              };
              TempCtor.prototype = superCtor.prototype;
              ctor.prototype = new TempCtor();
              ctor.prototype.constructor = ctor;
            };
          }
        },
        "./node_modules/isarray/index.js": function(module3, exports3) {
          var toString = {}.toString;
          module3.exports = Array.isArray || function(arr) {
            return toString.call(arr) == "[object Array]";
          };
        },
        "./node_modules/node-libs-browser/node_modules/buffer/index.js": function(module3, exports3, __webpack_require__) {
          "use strict";
          (function(global2) {
            var base64 = __webpack_require__("./node_modules/base64-js/index.js");
            var ieee754 = __webpack_require__("./node_modules/ieee754/index.js");
            var isArray = __webpack_require__("./node_modules/isarray/index.js");
            exports3.Buffer = Buffer2;
            exports3.SlowBuffer = SlowBuffer;
            exports3.INSPECT_MAX_BYTES = 50;
            Buffer2.TYPED_ARRAY_SUPPORT = global2.TYPED_ARRAY_SUPPORT !== void 0 ? global2.TYPED_ARRAY_SUPPORT : typedArraySupport();
            exports3.kMaxLength = kMaxLength();
            function typedArraySupport() {
              try {
                var arr = new Uint8Array(1);
                arr.__proto__ = { __proto__: Uint8Array.prototype, foo: function() {
                  return 42;
                } };
                return arr.foo() === 42 && typeof arr.subarray === "function" && arr.subarray(1, 1).byteLength === 0;
              } catch (e) {
                return false;
              }
            }
            function kMaxLength() {
              return Buffer2.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823;
            }
            function createBuffer(that, length) {
              if (kMaxLength() < length) {
                throw new RangeError("Invalid typed array length");
              }
              if (Buffer2.TYPED_ARRAY_SUPPORT) {
                that = new Uint8Array(length);
                that.__proto__ = Buffer2.prototype;
              } else {
                if (that === null) {
                  that = new Buffer2(length);
                }
                that.length = length;
              }
              return that;
            }
            function Buffer2(arg, encodingOrOffset, length) {
              if (!Buffer2.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer2)) {
                return new Buffer2(arg, encodingOrOffset, length);
              }
              if (typeof arg === "number") {
                if (typeof encodingOrOffset === "string") {
                  throw new Error("If encoding is specified then the first argument must be a string");
                }
                return allocUnsafe(this, arg);
              }
              return from(this, arg, encodingOrOffset, length);
            }
            Buffer2.poolSize = 8192;
            Buffer2._augment = function(arr) {
              arr.__proto__ = Buffer2.prototype;
              return arr;
            };
            function from(that, value, encodingOrOffset, length) {
              if (typeof value === "number") {
                throw new TypeError('"value" argument must not be a number');
              }
              if (typeof ArrayBuffer !== "undefined" && value instanceof ArrayBuffer) {
                return fromArrayBuffer(that, value, encodingOrOffset, length);
              }
              if (typeof value === "string") {
                return fromString(that, value, encodingOrOffset);
              }
              return fromObject(that, value);
            }
            Buffer2.from = function(value, encodingOrOffset, length) {
              return from(null, value, encodingOrOffset, length);
            };
            if (Buffer2.TYPED_ARRAY_SUPPORT) {
              Buffer2.prototype.__proto__ = Uint8Array.prototype;
              Buffer2.__proto__ = Uint8Array;
              if (typeof Symbol !== "undefined" && Symbol.species && Buffer2[Symbol.species] === Buffer2) {
                Object.defineProperty(Buffer2, Symbol.species, {
                  value: null,
                  configurable: true
                });
              }
            }
            function assertSize(size) {
              if (typeof size !== "number") {
                throw new TypeError('"size" argument must be a number');
              } else if (size < 0) {
                throw new RangeError('"size" argument must not be negative');
              }
            }
            function alloc(that, size, fill, encoding) {
              assertSize(size);
              if (size <= 0) {
                return createBuffer(that, size);
              }
              if (fill !== void 0) {
                return typeof encoding === "string" ? createBuffer(that, size).fill(fill, encoding) : createBuffer(that, size).fill(fill);
              }
              return createBuffer(that, size);
            }
            Buffer2.alloc = function(size, fill, encoding) {
              return alloc(null, size, fill, encoding);
            };
            function allocUnsafe(that, size) {
              assertSize(size);
              that = createBuffer(that, size < 0 ? 0 : checked(size) | 0);
              if (!Buffer2.TYPED_ARRAY_SUPPORT) {
                for (var i3 = 0; i3 < size; ++i3) {
                  that[i3] = 0;
                }
              }
              return that;
            }
            Buffer2.allocUnsafe = function(size) {
              return allocUnsafe(null, size);
            };
            Buffer2.allocUnsafeSlow = function(size) {
              return allocUnsafe(null, size);
            };
            function fromString(that, string, encoding) {
              if (typeof encoding !== "string" || encoding === "") {
                encoding = "utf8";
              }
              if (!Buffer2.isEncoding(encoding)) {
                throw new TypeError('"encoding" must be a valid string encoding');
              }
              var length = byteLength(string, encoding) | 0;
              that = createBuffer(that, length);
              var actual = that.write(string, encoding);
              if (actual !== length) {
                that = that.slice(0, actual);
              }
              return that;
            }
            function fromArrayLike(that, array) {
              var length = array.length < 0 ? 0 : checked(array.length) | 0;
              that = createBuffer(that, length);
              for (var i3 = 0; i3 < length; i3 += 1) {
                that[i3] = array[i3] & 255;
              }
              return that;
            }
            function fromArrayBuffer(that, array, byteOffset, length) {
              array.byteLength;
              if (byteOffset < 0 || array.byteLength < byteOffset) {
                throw new RangeError("'offset' is out of bounds");
              }
              if (array.byteLength < byteOffset + (length || 0)) {
                throw new RangeError("'length' is out of bounds");
              }
              if (byteOffset === void 0 && length === void 0) {
                array = new Uint8Array(array);
              } else if (length === void 0) {
                array = new Uint8Array(array, byteOffset);
              } else {
                array = new Uint8Array(array, byteOffset, length);
              }
              if (Buffer2.TYPED_ARRAY_SUPPORT) {
                that = array;
                that.__proto__ = Buffer2.prototype;
              } else {
                that = fromArrayLike(that, array);
              }
              return that;
            }
            function fromObject(that, obj) {
              if (Buffer2.isBuffer(obj)) {
                var len = checked(obj.length) | 0;
                that = createBuffer(that, len);
                if (that.length === 0) {
                  return that;
                }
                obj.copy(that, 0, 0, len);
                return that;
              }
              if (obj) {
                if (typeof ArrayBuffer !== "undefined" && obj.buffer instanceof ArrayBuffer || "length" in obj) {
                  if (typeof obj.length !== "number" || isnan(obj.length)) {
                    return createBuffer(that, 0);
                  }
                  return fromArrayLike(that, obj);
                }
                if (obj.type === "Buffer" && isArray(obj.data)) {
                  return fromArrayLike(that, obj.data);
                }
              }
              throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");
            }
            function checked(length) {
              if (length >= kMaxLength()) {
                throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + kMaxLength().toString(16) + " bytes");
              }
              return length | 0;
            }
            function SlowBuffer(length) {
              if (+length != length) {
                length = 0;
              }
              return Buffer2.alloc(+length);
            }
            Buffer2.isBuffer = function isBuffer(b3) {
              return !!(b3 != null && b3._isBuffer);
            };
            Buffer2.compare = function compare(a4, b3) {
              if (!Buffer2.isBuffer(a4) || !Buffer2.isBuffer(b3)) {
                throw new TypeError("Arguments must be Buffers");
              }
              if (a4 === b3)
                return 0;
              var x3 = a4.length;
              var y2 = b3.length;
              for (var i3 = 0, len = Math.min(x3, y2); i3 < len; ++i3) {
                if (a4[i3] !== b3[i3]) {
                  x3 = a4[i3];
                  y2 = b3[i3];
                  break;
                }
              }
              if (x3 < y2)
                return -1;
              if (y2 < x3)
                return 1;
              return 0;
            };
            Buffer2.isEncoding = function isEncoding(encoding) {
              switch (String(encoding).toLowerCase()) {
                case "hex":
                case "utf8":
                case "utf-8":
                case "ascii":
                case "latin1":
                case "binary":
                case "base64":
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return true;
                default:
                  return false;
              }
            };
            Buffer2.concat = function concat(list, length) {
              if (!isArray(list)) {
                throw new TypeError('"list" argument must be an Array of Buffers');
              }
              if (list.length === 0) {
                return Buffer2.alloc(0);
              }
              var i3;
              if (length === void 0) {
                length = 0;
                for (i3 = 0; i3 < list.length; ++i3) {
                  length += list[i3].length;
                }
              }
              var buffer = Buffer2.allocUnsafe(length);
              var pos = 0;
              for (i3 = 0; i3 < list.length; ++i3) {
                var buf = list[i3];
                if (!Buffer2.isBuffer(buf)) {
                  throw new TypeError('"list" argument must be an Array of Buffers');
                }
                buf.copy(buffer, pos);
                pos += buf.length;
              }
              return buffer;
            };
            function byteLength(string, encoding) {
              if (Buffer2.isBuffer(string)) {
                return string.length;
              }
              if (typeof ArrayBuffer !== "undefined" && typeof ArrayBuffer.isView === "function" && (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {
                return string.byteLength;
              }
              if (typeof string !== "string") {
                string = "" + string;
              }
              var len = string.length;
              if (len === 0)
                return 0;
              var loweredCase = false;
              for (; ; ) {
                switch (encoding) {
                  case "ascii":
                  case "latin1":
                  case "binary":
                    return len;
                  case "utf8":
                  case "utf-8":
                  case void 0:
                    return utf8ToBytes(string).length;
                  case "ucs2":
                  case "ucs-2":
                  case "utf16le":
                  case "utf-16le":
                    return len * 2;
                  case "hex":
                    return len >>> 1;
                  case "base64":
                    return base64ToBytes(string).length;
                  default:
                    if (loweredCase)
                      return utf8ToBytes(string).length;
                    encoding = ("" + encoding).toLowerCase();
                    loweredCase = true;
                }
              }
            }
            Buffer2.byteLength = byteLength;
            function slowToString(encoding, start, end) {
              var loweredCase = false;
              if (start === void 0 || start < 0) {
                start = 0;
              }
              if (start > this.length) {
                return "";
              }
              if (end === void 0 || end > this.length) {
                end = this.length;
              }
              if (end <= 0) {
                return "";
              }
              end >>>= 0;
              start >>>= 0;
              if (end <= start) {
                return "";
              }
              if (!encoding)
                encoding = "utf8";
              while (true) {
                switch (encoding) {
                  case "hex":
                    return hexSlice(this, start, end);
                  case "utf8":
                  case "utf-8":
                    return utf8Slice(this, start, end);
                  case "ascii":
                    return asciiSlice(this, start, end);
                  case "latin1":
                  case "binary":
                    return latin1Slice(this, start, end);
                  case "base64":
                    return base64Slice(this, start, end);
                  case "ucs2":
                  case "ucs-2":
                  case "utf16le":
                  case "utf-16le":
                    return utf16leSlice(this, start, end);
                  default:
                    if (loweredCase)
                      throw new TypeError("Unknown encoding: " + encoding);
                    encoding = (encoding + "").toLowerCase();
                    loweredCase = true;
                }
              }
            }
            Buffer2.prototype._isBuffer = true;
            function swap(b3, n2, m2) {
              var i3 = b3[n2];
              b3[n2] = b3[m2];
              b3[m2] = i3;
            }
            Buffer2.prototype.swap16 = function swap16() {
              var len = this.length;
              if (len % 2 !== 0) {
                throw new RangeError("Buffer size must be a multiple of 16-bits");
              }
              for (var i3 = 0; i3 < len; i3 += 2) {
                swap(this, i3, i3 + 1);
              }
              return this;
            };
            Buffer2.prototype.swap32 = function swap32() {
              var len = this.length;
              if (len % 4 !== 0) {
                throw new RangeError("Buffer size must be a multiple of 32-bits");
              }
              for (var i3 = 0; i3 < len; i3 += 4) {
                swap(this, i3, i3 + 3);
                swap(this, i3 + 1, i3 + 2);
              }
              return this;
            };
            Buffer2.prototype.swap64 = function swap64() {
              var len = this.length;
              if (len % 8 !== 0) {
                throw new RangeError("Buffer size must be a multiple of 64-bits");
              }
              for (var i3 = 0; i3 < len; i3 += 8) {
                swap(this, i3, i3 + 7);
                swap(this, i3 + 1, i3 + 6);
                swap(this, i3 + 2, i3 + 5);
                swap(this, i3 + 3, i3 + 4);
              }
              return this;
            };
            Buffer2.prototype.toString = function toString() {
              var length = this.length | 0;
              if (length === 0)
                return "";
              if (arguments.length === 0)
                return utf8Slice(this, 0, length);
              return slowToString.apply(this, arguments);
            };
            Buffer2.prototype.equals = function equals(b3) {
              if (!Buffer2.isBuffer(b3))
                throw new TypeError("Argument must be a Buffer");
              if (this === b3)
                return true;
              return Buffer2.compare(this, b3) === 0;
            };
            Buffer2.prototype.inspect = function inspect2() {
              var str = "";
              var max = exports3.INSPECT_MAX_BYTES;
              if (this.length > 0) {
                str = this.toString("hex", 0, max).match(/.{2}/g).join(" ");
                if (this.length > max)
                  str += " ... ";
              }
              return "<Buffer " + str + ">";
            };
            Buffer2.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {
              if (!Buffer2.isBuffer(target)) {
                throw new TypeError("Argument must be a Buffer");
              }
              if (start === void 0) {
                start = 0;
              }
              if (end === void 0) {
                end = target ? target.length : 0;
              }
              if (thisStart === void 0) {
                thisStart = 0;
              }
              if (thisEnd === void 0) {
                thisEnd = this.length;
              }
              if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
                throw new RangeError("out of range index");
              }
              if (thisStart >= thisEnd && start >= end) {
                return 0;
              }
              if (thisStart >= thisEnd) {
                return -1;
              }
              if (start >= end) {
                return 1;
              }
              start >>>= 0;
              end >>>= 0;
              thisStart >>>= 0;
              thisEnd >>>= 0;
              if (this === target)
                return 0;
              var x3 = thisEnd - thisStart;
              var y2 = end - start;
              var len = Math.min(x3, y2);
              var thisCopy = this.slice(thisStart, thisEnd);
              var targetCopy = target.slice(start, end);
              for (var i3 = 0; i3 < len; ++i3) {
                if (thisCopy[i3] !== targetCopy[i3]) {
                  x3 = thisCopy[i3];
                  y2 = targetCopy[i3];
                  break;
                }
              }
              if (x3 < y2)
                return -1;
              if (y2 < x3)
                return 1;
              return 0;
            };
            function bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {
              if (buffer.length === 0)
                return -1;
              if (typeof byteOffset === "string") {
                encoding = byteOffset;
                byteOffset = 0;
              } else if (byteOffset > 2147483647) {
                byteOffset = 2147483647;
              } else if (byteOffset < -2147483648) {
                byteOffset = -2147483648;
              }
              byteOffset = +byteOffset;
              if (isNaN(byteOffset)) {
                byteOffset = dir ? 0 : buffer.length - 1;
              }
              if (byteOffset < 0)
                byteOffset = buffer.length + byteOffset;
              if (byteOffset >= buffer.length) {
                if (dir)
                  return -1;
                else
                  byteOffset = buffer.length - 1;
              } else if (byteOffset < 0) {
                if (dir)
                  byteOffset = 0;
                else
                  return -1;
              }
              if (typeof val === "string") {
                val = Buffer2.from(val, encoding);
              }
              if (Buffer2.isBuffer(val)) {
                if (val.length === 0) {
                  return -1;
                }
                return arrayIndexOf(buffer, val, byteOffset, encoding, dir);
              } else if (typeof val === "number") {
                val = val & 255;
                if (Buffer2.TYPED_ARRAY_SUPPORT && typeof Uint8Array.prototype.indexOf === "function") {
                  if (dir) {
                    return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset);
                  } else {
                    return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset);
                  }
                }
                return arrayIndexOf(buffer, [val], byteOffset, encoding, dir);
              }
              throw new TypeError("val must be string, number or Buffer");
            }
            function arrayIndexOf(arr, val, byteOffset, encoding, dir) {
              var indexSize = 1;
              var arrLength = arr.length;
              var valLength = val.length;
              if (encoding !== void 0) {
                encoding = String(encoding).toLowerCase();
                if (encoding === "ucs2" || encoding === "ucs-2" || encoding === "utf16le" || encoding === "utf-16le") {
                  if (arr.length < 2 || val.length < 2) {
                    return -1;
                  }
                  indexSize = 2;
                  arrLength /= 2;
                  valLength /= 2;
                  byteOffset /= 2;
                }
              }
              function read2(buf, i4) {
                if (indexSize === 1) {
                  return buf[i4];
                } else {
                  return buf.readUInt16BE(i4 * indexSize);
                }
              }
              var i3;
              if (dir) {
                var foundIndex = -1;
                for (i3 = byteOffset; i3 < arrLength; i3++) {
                  if (read2(arr, i3) === read2(val, foundIndex === -1 ? 0 : i3 - foundIndex)) {
                    if (foundIndex === -1)
                      foundIndex = i3;
                    if (i3 - foundIndex + 1 === valLength)
                      return foundIndex * indexSize;
                  } else {
                    if (foundIndex !== -1)
                      i3 -= i3 - foundIndex;
                    foundIndex = -1;
                  }
                }
              } else {
                if (byteOffset + valLength > arrLength)
                  byteOffset = arrLength - valLength;
                for (i3 = byteOffset; i3 >= 0; i3--) {
                  var found = true;
                  for (var j = 0; j < valLength; j++) {
                    if (read2(arr, i3 + j) !== read2(val, j)) {
                      found = false;
                      break;
                    }
                  }
                  if (found)
                    return i3;
                }
              }
              return -1;
            }
            Buffer2.prototype.includes = function includes(val, byteOffset, encoding) {
              return this.indexOf(val, byteOffset, encoding) !== -1;
            };
            Buffer2.prototype.indexOf = function indexOf(val, byteOffset, encoding) {
              return bidirectionalIndexOf(this, val, byteOffset, encoding, true);
            };
            Buffer2.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {
              return bidirectionalIndexOf(this, val, byteOffset, encoding, false);
            };
            function hexWrite(buf, string, offset, length) {
              offset = Number(offset) || 0;
              var remaining = buf.length - offset;
              if (!length) {
                length = remaining;
              } else {
                length = Number(length);
                if (length > remaining) {
                  length = remaining;
                }
              }
              var strLen = string.length;
              if (strLen % 2 !== 0)
                throw new TypeError("Invalid hex string");
              if (length > strLen / 2) {
                length = strLen / 2;
              }
              for (var i3 = 0; i3 < length; ++i3) {
                var parsed = parseInt(string.substr(i3 * 2, 2), 16);
                if (isNaN(parsed))
                  return i3;
                buf[offset + i3] = parsed;
              }
              return i3;
            }
            function utf8Write(buf, string, offset, length) {
              return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);
            }
            function asciiWrite(buf, string, offset, length) {
              return blitBuffer(asciiToBytes(string), buf, offset, length);
            }
            function latin1Write(buf, string, offset, length) {
              return asciiWrite(buf, string, offset, length);
            }
            function base64Write(buf, string, offset, length) {
              return blitBuffer(base64ToBytes(string), buf, offset, length);
            }
            function ucs2Write(buf, string, offset, length) {
              return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);
            }
            Buffer2.prototype.write = function write2(string, offset, length, encoding) {
              if (offset === void 0) {
                encoding = "utf8";
                length = this.length;
                offset = 0;
              } else if (length === void 0 && typeof offset === "string") {
                encoding = offset;
                length = this.length;
                offset = 0;
              } else if (isFinite(offset)) {
                offset = offset | 0;
                if (isFinite(length)) {
                  length = length | 0;
                  if (encoding === void 0)
                    encoding = "utf8";
                } else {
                  encoding = length;
                  length = void 0;
                }
              } else {
                throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
              }
              var remaining = this.length - offset;
              if (length === void 0 || length > remaining)
                length = remaining;
              if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {
                throw new RangeError("Attempt to write outside buffer bounds");
              }
              if (!encoding)
                encoding = "utf8";
              var loweredCase = false;
              for (; ; ) {
                switch (encoding) {
                  case "hex":
                    return hexWrite(this, string, offset, length);
                  case "utf8":
                  case "utf-8":
                    return utf8Write(this, string, offset, length);
                  case "ascii":
                    return asciiWrite(this, string, offset, length);
                  case "latin1":
                  case "binary":
                    return latin1Write(this, string, offset, length);
                  case "base64":
                    return base64Write(this, string, offset, length);
                  case "ucs2":
                  case "ucs-2":
                  case "utf16le":
                  case "utf-16le":
                    return ucs2Write(this, string, offset, length);
                  default:
                    if (loweredCase)
                      throw new TypeError("Unknown encoding: " + encoding);
                    encoding = ("" + encoding).toLowerCase();
                    loweredCase = true;
                }
              }
            };
            Buffer2.prototype.toJSON = function toJSON() {
              return {
                type: "Buffer",
                data: Array.prototype.slice.call(this._arr || this, 0)
              };
            };
            function base64Slice(buf, start, end) {
              if (start === 0 && end === buf.length) {
                return base64.fromByteArray(buf);
              } else {
                return base64.fromByteArray(buf.slice(start, end));
              }
            }
            function utf8Slice(buf, start, end) {
              end = Math.min(buf.length, end);
              var res = [];
              var i3 = start;
              while (i3 < end) {
                var firstByte = buf[i3];
                var codePoint = null;
                var bytesPerSequence = firstByte > 239 ? 4 : firstByte > 223 ? 3 : firstByte > 191 ? 2 : 1;
                if (i3 + bytesPerSequence <= end) {
                  var secondByte, thirdByte, fourthByte, tempCodePoint;
                  switch (bytesPerSequence) {
                    case 1:
                      if (firstByte < 128) {
                        codePoint = firstByte;
                      }
                      break;
                    case 2:
                      secondByte = buf[i3 + 1];
                      if ((secondByte & 192) === 128) {
                        tempCodePoint = (firstByte & 31) << 6 | secondByte & 63;
                        if (tempCodePoint > 127) {
                          codePoint = tempCodePoint;
                        }
                      }
                      break;
                    case 3:
                      secondByte = buf[i3 + 1];
                      thirdByte = buf[i3 + 2];
                      if ((secondByte & 192) === 128 && (thirdByte & 192) === 128) {
                        tempCodePoint = (firstByte & 15) << 12 | (secondByte & 63) << 6 | thirdByte & 63;
                        if (tempCodePoint > 2047 && (tempCodePoint < 55296 || tempCodePoint > 57343)) {
                          codePoint = tempCodePoint;
                        }
                      }
                      break;
                    case 4:
                      secondByte = buf[i3 + 1];
                      thirdByte = buf[i3 + 2];
                      fourthByte = buf[i3 + 3];
                      if ((secondByte & 192) === 128 && (thirdByte & 192) === 128 && (fourthByte & 192) === 128) {
                        tempCodePoint = (firstByte & 15) << 18 | (secondByte & 63) << 12 | (thirdByte & 63) << 6 | fourthByte & 63;
                        if (tempCodePoint > 65535 && tempCodePoint < 1114112) {
                          codePoint = tempCodePoint;
                        }
                      }
                  }
                }
                if (codePoint === null) {
                  codePoint = 65533;
                  bytesPerSequence = 1;
                } else if (codePoint > 65535) {
                  codePoint -= 65536;
                  res.push(codePoint >>> 10 & 1023 | 55296);
                  codePoint = 56320 | codePoint & 1023;
                }
                res.push(codePoint);
                i3 += bytesPerSequence;
              }
              return decodeCodePointsArray(res);
            }
            var MAX_ARGUMENTS_LENGTH = 4096;
            function decodeCodePointsArray(codePoints) {
              var len = codePoints.length;
              if (len <= MAX_ARGUMENTS_LENGTH) {
                return String.fromCharCode.apply(String, codePoints);
              }
              var res = "";
              var i3 = 0;
              while (i3 < len) {
                res += String.fromCharCode.apply(String, codePoints.slice(i3, i3 += MAX_ARGUMENTS_LENGTH));
              }
              return res;
            }
            function asciiSlice(buf, start, end) {
              var ret = "";
              end = Math.min(buf.length, end);
              for (var i3 = start; i3 < end; ++i3) {
                ret += String.fromCharCode(buf[i3] & 127);
              }
              return ret;
            }
            function latin1Slice(buf, start, end) {
              var ret = "";
              end = Math.min(buf.length, end);
              for (var i3 = start; i3 < end; ++i3) {
                ret += String.fromCharCode(buf[i3]);
              }
              return ret;
            }
            function hexSlice(buf, start, end) {
              var len = buf.length;
              if (!start || start < 0)
                start = 0;
              if (!end || end < 0 || end > len)
                end = len;
              var out = "";
              for (var i3 = start; i3 < end; ++i3) {
                out += toHex(buf[i3]);
              }
              return out;
            }
            function utf16leSlice(buf, start, end) {
              var bytes = buf.slice(start, end);
              var res = "";
              for (var i3 = 0; i3 < bytes.length; i3 += 2) {
                res += String.fromCharCode(bytes[i3] + bytes[i3 + 1] * 256);
              }
              return res;
            }
            Buffer2.prototype.slice = function slice(start, end) {
              var len = this.length;
              start = ~~start;
              end = end === void 0 ? len : ~~end;
              if (start < 0) {
                start += len;
                if (start < 0)
                  start = 0;
              } else if (start > len) {
                start = len;
              }
              if (end < 0) {
                end += len;
                if (end < 0)
                  end = 0;
              } else if (end > len) {
                end = len;
              }
              if (end < start)
                end = start;
              var newBuf;
              if (Buffer2.TYPED_ARRAY_SUPPORT) {
                newBuf = this.subarray(start, end);
                newBuf.__proto__ = Buffer2.prototype;
              } else {
                var sliceLen = end - start;
                newBuf = new Buffer2(sliceLen, void 0);
                for (var i3 = 0; i3 < sliceLen; ++i3) {
                  newBuf[i3] = this[i3 + start];
                }
              }
              return newBuf;
            };
            function checkOffset(offset, ext, length) {
              if (offset % 1 !== 0 || offset < 0)
                throw new RangeError("offset is not uint");
              if (offset + ext > length)
                throw new RangeError("Trying to access beyond buffer length");
            }
            Buffer2.prototype.readUIntLE = function readUIntLE(offset, byteLength2, noAssert) {
              offset = offset | 0;
              byteLength2 = byteLength2 | 0;
              if (!noAssert)
                checkOffset(offset, byteLength2, this.length);
              var val = this[offset];
              var mul = 1;
              var i3 = 0;
              while (++i3 < byteLength2 && (mul *= 256)) {
                val += this[offset + i3] * mul;
              }
              return val;
            };
            Buffer2.prototype.readUIntBE = function readUIntBE(offset, byteLength2, noAssert) {
              offset = offset | 0;
              byteLength2 = byteLength2 | 0;
              if (!noAssert) {
                checkOffset(offset, byteLength2, this.length);
              }
              var val = this[offset + --byteLength2];
              var mul = 1;
              while (byteLength2 > 0 && (mul *= 256)) {
                val += this[offset + --byteLength2] * mul;
              }
              return val;
            };
            Buffer2.prototype.readUInt8 = function readUInt8(offset, noAssert) {
              if (!noAssert)
                checkOffset(offset, 1, this.length);
              return this[offset];
            };
            Buffer2.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {
              if (!noAssert)
                checkOffset(offset, 2, this.length);
              return this[offset] | this[offset + 1] << 8;
            };
            Buffer2.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {
              if (!noAssert)
                checkOffset(offset, 2, this.length);
              return this[offset] << 8 | this[offset + 1];
            };
            Buffer2.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {
              if (!noAssert)
                checkOffset(offset, 4, this.length);
              return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 16777216;
            };
            Buffer2.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {
              if (!noAssert)
                checkOffset(offset, 4, this.length);
              return this[offset] * 16777216 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);
            };
            Buffer2.prototype.readIntLE = function readIntLE(offset, byteLength2, noAssert) {
              offset = offset | 0;
              byteLength2 = byteLength2 | 0;
              if (!noAssert)
                checkOffset(offset, byteLength2, this.length);
              var val = this[offset];
              var mul = 1;
              var i3 = 0;
              while (++i3 < byteLength2 && (mul *= 256)) {
                val += this[offset + i3] * mul;
              }
              mul *= 128;
              if (val >= mul)
                val -= Math.pow(2, 8 * byteLength2);
              return val;
            };
            Buffer2.prototype.readIntBE = function readIntBE(offset, byteLength2, noAssert) {
              offset = offset | 0;
              byteLength2 = byteLength2 | 0;
              if (!noAssert)
                checkOffset(offset, byteLength2, this.length);
              var i3 = byteLength2;
              var mul = 1;
              var val = this[offset + --i3];
              while (i3 > 0 && (mul *= 256)) {
                val += this[offset + --i3] * mul;
              }
              mul *= 128;
              if (val >= mul)
                val -= Math.pow(2, 8 * byteLength2);
              return val;
            };
            Buffer2.prototype.readInt8 = function readInt8(offset, noAssert) {
              if (!noAssert)
                checkOffset(offset, 1, this.length);
              if (!(this[offset] & 128))
                return this[offset];
              return (255 - this[offset] + 1) * -1;
            };
            Buffer2.prototype.readInt16LE = function readInt16LE(offset, noAssert) {
              if (!noAssert)
                checkOffset(offset, 2, this.length);
              var val = this[offset] | this[offset + 1] << 8;
              return val & 32768 ? val | 4294901760 : val;
            };
            Buffer2.prototype.readInt16BE = function readInt16BE(offset, noAssert) {
              if (!noAssert)
                checkOffset(offset, 2, this.length);
              var val = this[offset + 1] | this[offset] << 8;
              return val & 32768 ? val | 4294901760 : val;
            };
            Buffer2.prototype.readInt32LE = function readInt32LE(offset, noAssert) {
              if (!noAssert)
                checkOffset(offset, 4, this.length);
              return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;
            };
            Buffer2.prototype.readInt32BE = function readInt32BE(offset, noAssert) {
              if (!noAssert)
                checkOffset(offset, 4, this.length);
              return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];
            };
            Buffer2.prototype.readFloatLE = function readFloatLE(offset, noAssert) {
              if (!noAssert)
                checkOffset(offset, 4, this.length);
              return ieee754.read(this, offset, true, 23, 4);
            };
            Buffer2.prototype.readFloatBE = function readFloatBE(offset, noAssert) {
              if (!noAssert)
                checkOffset(offset, 4, this.length);
              return ieee754.read(this, offset, false, 23, 4);
            };
            Buffer2.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {
              if (!noAssert)
                checkOffset(offset, 8, this.length);
              return ieee754.read(this, offset, true, 52, 8);
            };
            Buffer2.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {
              if (!noAssert)
                checkOffset(offset, 8, this.length);
              return ieee754.read(this, offset, false, 52, 8);
            };
            function checkInt(buf, value, offset, ext, max, min) {
              if (!Buffer2.isBuffer(buf))
                throw new TypeError('"buffer" argument must be a Buffer instance');
              if (value > max || value < min)
                throw new RangeError('"value" argument is out of bounds');
              if (offset + ext > buf.length)
                throw new RangeError("Index out of range");
            }
            Buffer2.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength2, noAssert) {
              value = +value;
              offset = offset | 0;
              byteLength2 = byteLength2 | 0;
              if (!noAssert) {
                var maxBytes = Math.pow(2, 8 * byteLength2) - 1;
                checkInt(this, value, offset, byteLength2, maxBytes, 0);
              }
              var mul = 1;
              var i3 = 0;
              this[offset] = value & 255;
              while (++i3 < byteLength2 && (mul *= 256)) {
                this[offset + i3] = value / mul & 255;
              }
              return offset + byteLength2;
            };
            Buffer2.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength2, noAssert) {
              value = +value;
              offset = offset | 0;
              byteLength2 = byteLength2 | 0;
              if (!noAssert) {
                var maxBytes = Math.pow(2, 8 * byteLength2) - 1;
                checkInt(this, value, offset, byteLength2, maxBytes, 0);
              }
              var i3 = byteLength2 - 1;
              var mul = 1;
              this[offset + i3] = value & 255;
              while (--i3 >= 0 && (mul *= 256)) {
                this[offset + i3] = value / mul & 255;
              }
              return offset + byteLength2;
            };
            Buffer2.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {
              value = +value;
              offset = offset | 0;
              if (!noAssert)
                checkInt(this, value, offset, 1, 255, 0);
              if (!Buffer2.TYPED_ARRAY_SUPPORT)
                value = Math.floor(value);
              this[offset] = value & 255;
              return offset + 1;
            };
            function objectWriteUInt16(buf, value, offset, littleEndian) {
              if (value < 0)
                value = 65535 + value + 1;
              for (var i3 = 0, j = Math.min(buf.length - offset, 2); i3 < j; ++i3) {
                buf[offset + i3] = (value & 255 << 8 * (littleEndian ? i3 : 1 - i3)) >>> (littleEndian ? i3 : 1 - i3) * 8;
              }
            }
            Buffer2.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {
              value = +value;
              offset = offset | 0;
              if (!noAssert)
                checkInt(this, value, offset, 2, 65535, 0);
              if (Buffer2.TYPED_ARRAY_SUPPORT) {
                this[offset] = value & 255;
                this[offset + 1] = value >>> 8;
              } else {
                objectWriteUInt16(this, value, offset, true);
              }
              return offset + 2;
            };
            Buffer2.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {
              value = +value;
              offset = offset | 0;
              if (!noAssert)
                checkInt(this, value, offset, 2, 65535, 0);
              if (Buffer2.TYPED_ARRAY_SUPPORT) {
                this[offset] = value >>> 8;
                this[offset + 1] = value & 255;
              } else {
                objectWriteUInt16(this, value, offset, false);
              }
              return offset + 2;
            };
            function objectWriteUInt32(buf, value, offset, littleEndian) {
              if (value < 0)
                value = 4294967295 + value + 1;
              for (var i3 = 0, j = Math.min(buf.length - offset, 4); i3 < j; ++i3) {
                buf[offset + i3] = value >>> (littleEndian ? i3 : 3 - i3) * 8 & 255;
              }
            }
            Buffer2.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {
              value = +value;
              offset = offset | 0;
              if (!noAssert)
                checkInt(this, value, offset, 4, 4294967295, 0);
              if (Buffer2.TYPED_ARRAY_SUPPORT) {
                this[offset + 3] = value >>> 24;
                this[offset + 2] = value >>> 16;
                this[offset + 1] = value >>> 8;
                this[offset] = value & 255;
              } else {
                objectWriteUInt32(this, value, offset, true);
              }
              return offset + 4;
            };
            Buffer2.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {
              value = +value;
              offset = offset | 0;
              if (!noAssert)
                checkInt(this, value, offset, 4, 4294967295, 0);
              if (Buffer2.TYPED_ARRAY_SUPPORT) {
                this[offset] = value >>> 24;
                this[offset + 1] = value >>> 16;
                this[offset + 2] = value >>> 8;
                this[offset + 3] = value & 255;
              } else {
                objectWriteUInt32(this, value, offset, false);
              }
              return offset + 4;
            };
            Buffer2.prototype.writeIntLE = function writeIntLE(value, offset, byteLength2, noAssert) {
              value = +value;
              offset = offset | 0;
              if (!noAssert) {
                var limit = Math.pow(2, 8 * byteLength2 - 1);
                checkInt(this, value, offset, byteLength2, limit - 1, -limit);
              }
              var i3 = 0;
              var mul = 1;
              var sub = 0;
              this[offset] = value & 255;
              while (++i3 < byteLength2 && (mul *= 256)) {
                if (value < 0 && sub === 0 && this[offset + i3 - 1] !== 0) {
                  sub = 1;
                }
                this[offset + i3] = (value / mul >> 0) - sub & 255;
              }
              return offset + byteLength2;
            };
            Buffer2.prototype.writeIntBE = function writeIntBE(value, offset, byteLength2, noAssert) {
              value = +value;
              offset = offset | 0;
              if (!noAssert) {
                var limit = Math.pow(2, 8 * byteLength2 - 1);
                checkInt(this, value, offset, byteLength2, limit - 1, -limit);
              }
              var i3 = byteLength2 - 1;
              var mul = 1;
              var sub = 0;
              this[offset + i3] = value & 255;
              while (--i3 >= 0 && (mul *= 256)) {
                if (value < 0 && sub === 0 && this[offset + i3 + 1] !== 0) {
                  sub = 1;
                }
                this[offset + i3] = (value / mul >> 0) - sub & 255;
              }
              return offset + byteLength2;
            };
            Buffer2.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {
              value = +value;
              offset = offset | 0;
              if (!noAssert)
                checkInt(this, value, offset, 1, 127, -128);
              if (!Buffer2.TYPED_ARRAY_SUPPORT)
                value = Math.floor(value);
              if (value < 0)
                value = 255 + value + 1;
              this[offset] = value & 255;
              return offset + 1;
            };
            Buffer2.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {
              value = +value;
              offset = offset | 0;
              if (!noAssert)
                checkInt(this, value, offset, 2, 32767, -32768);
              if (Buffer2.TYPED_ARRAY_SUPPORT) {
                this[offset] = value & 255;
                this[offset + 1] = value >>> 8;
              } else {
                objectWriteUInt16(this, value, offset, true);
              }
              return offset + 2;
            };
            Buffer2.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {
              value = +value;
              offset = offset | 0;
              if (!noAssert)
                checkInt(this, value, offset, 2, 32767, -32768);
              if (Buffer2.TYPED_ARRAY_SUPPORT) {
                this[offset] = value >>> 8;
                this[offset + 1] = value & 255;
              } else {
                objectWriteUInt16(this, value, offset, false);
              }
              return offset + 2;
            };
            Buffer2.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {
              value = +value;
              offset = offset | 0;
              if (!noAssert)
                checkInt(this, value, offset, 4, 2147483647, -2147483648);
              if (Buffer2.TYPED_ARRAY_SUPPORT) {
                this[offset] = value & 255;
                this[offset + 1] = value >>> 8;
                this[offset + 2] = value >>> 16;
                this[offset + 3] = value >>> 24;
              } else {
                objectWriteUInt32(this, value, offset, true);
              }
              return offset + 4;
            };
            Buffer2.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {
              value = +value;
              offset = offset | 0;
              if (!noAssert)
                checkInt(this, value, offset, 4, 2147483647, -2147483648);
              if (value < 0)
                value = 4294967295 + value + 1;
              if (Buffer2.TYPED_ARRAY_SUPPORT) {
                this[offset] = value >>> 24;
                this[offset + 1] = value >>> 16;
                this[offset + 2] = value >>> 8;
                this[offset + 3] = value & 255;
              } else {
                objectWriteUInt32(this, value, offset, false);
              }
              return offset + 4;
            };
            function checkIEEE754(buf, value, offset, ext, max, min) {
              if (offset + ext > buf.length)
                throw new RangeError("Index out of range");
              if (offset < 0)
                throw new RangeError("Index out of range");
            }
            function writeFloat(buf, value, offset, littleEndian, noAssert) {
              if (!noAssert) {
                checkIEEE754(buf, value, offset, 4, 34028234663852886e22, -34028234663852886e22);
              }
              ieee754.write(buf, value, offset, littleEndian, 23, 4);
              return offset + 4;
            }
            Buffer2.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {
              return writeFloat(this, value, offset, true, noAssert);
            };
            Buffer2.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {
              return writeFloat(this, value, offset, false, noAssert);
            };
            function writeDouble(buf, value, offset, littleEndian, noAssert) {
              if (!noAssert) {
                checkIEEE754(buf, value, offset, 8, 17976931348623157e292, -17976931348623157e292);
              }
              ieee754.write(buf, value, offset, littleEndian, 52, 8);
              return offset + 8;
            }
            Buffer2.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {
              return writeDouble(this, value, offset, true, noAssert);
            };
            Buffer2.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {
              return writeDouble(this, value, offset, false, noAssert);
            };
            Buffer2.prototype.copy = function copy(target, targetStart, start, end) {
              if (!start)
                start = 0;
              if (!end && end !== 0)
                end = this.length;
              if (targetStart >= target.length)
                targetStart = target.length;
              if (!targetStart)
                targetStart = 0;
              if (end > 0 && end < start)
                end = start;
              if (end === start)
                return 0;
              if (target.length === 0 || this.length === 0)
                return 0;
              if (targetStart < 0) {
                throw new RangeError("targetStart out of bounds");
              }
              if (start < 0 || start >= this.length)
                throw new RangeError("sourceStart out of bounds");
              if (end < 0)
                throw new RangeError("sourceEnd out of bounds");
              if (end > this.length)
                end = this.length;
              if (target.length - targetStart < end - start) {
                end = target.length - targetStart + start;
              }
              var len = end - start;
              var i3;
              if (this === target && start < targetStart && targetStart < end) {
                for (i3 = len - 1; i3 >= 0; --i3) {
                  target[i3 + targetStart] = this[i3 + start];
                }
              } else if (len < 1e3 || !Buffer2.TYPED_ARRAY_SUPPORT) {
                for (i3 = 0; i3 < len; ++i3) {
                  target[i3 + targetStart] = this[i3 + start];
                }
              } else {
                Uint8Array.prototype.set.call(target, this.subarray(start, start + len), targetStart);
              }
              return len;
            };
            Buffer2.prototype.fill = function fill(val, start, end, encoding) {
              if (typeof val === "string") {
                if (typeof start === "string") {
                  encoding = start;
                  start = 0;
                  end = this.length;
                } else if (typeof end === "string") {
                  encoding = end;
                  end = this.length;
                }
                if (val.length === 1) {
                  var code = val.charCodeAt(0);
                  if (code < 256) {
                    val = code;
                  }
                }
                if (encoding !== void 0 && typeof encoding !== "string") {
                  throw new TypeError("encoding must be a string");
                }
                if (typeof encoding === "string" && !Buffer2.isEncoding(encoding)) {
                  throw new TypeError("Unknown encoding: " + encoding);
                }
              } else if (typeof val === "number") {
                val = val & 255;
              }
              if (start < 0 || this.length < start || this.length < end) {
                throw new RangeError("Out of range index");
              }
              if (end <= start) {
                return this;
              }
              start = start >>> 0;
              end = end === void 0 ? this.length : end >>> 0;
              if (!val)
                val = 0;
              var i3;
              if (typeof val === "number") {
                for (i3 = start; i3 < end; ++i3) {
                  this[i3] = val;
                }
              } else {
                var bytes = Buffer2.isBuffer(val) ? val : utf8ToBytes(new Buffer2(val, encoding).toString());
                var len = bytes.length;
                for (i3 = 0; i3 < end - start; ++i3) {
                  this[i3 + start] = bytes[i3 % len];
                }
              }
              return this;
            };
            var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g;
            function base64clean(str) {
              str = stringtrim(str).replace(INVALID_BASE64_RE, "");
              if (str.length < 2)
                return "";
              while (str.length % 4 !== 0) {
                str = str + "=";
              }
              return str;
            }
            function stringtrim(str) {
              if (str.trim)
                return str.trim();
              return str.replace(/^\s+|\s+$/g, "");
            }
            function toHex(n2) {
              if (n2 < 16)
                return "0" + n2.toString(16);
              return n2.toString(16);
            }
            function utf8ToBytes(string, units) {
              units = units || Infinity;
              var codePoint;
              var length = string.length;
              var leadSurrogate = null;
              var bytes = [];
              for (var i3 = 0; i3 < length; ++i3) {
                codePoint = string.charCodeAt(i3);
                if (codePoint > 55295 && codePoint < 57344) {
                  if (!leadSurrogate) {
                    if (codePoint > 56319) {
                      if ((units -= 3) > -1)
                        bytes.push(239, 191, 189);
                      continue;
                    } else if (i3 + 1 === length) {
                      if ((units -= 3) > -1)
                        bytes.push(239, 191, 189);
                      continue;
                    }
                    leadSurrogate = codePoint;
                    continue;
                  }
                  if (codePoint < 56320) {
                    if ((units -= 3) > -1)
                      bytes.push(239, 191, 189);
                    leadSurrogate = codePoint;
                    continue;
                  }
                  codePoint = (leadSurrogate - 55296 << 10 | codePoint - 56320) + 65536;
                } else if (leadSurrogate) {
                  if ((units -= 3) > -1)
                    bytes.push(239, 191, 189);
                }
                leadSurrogate = null;
                if (codePoint < 128) {
                  if ((units -= 1) < 0)
                    break;
                  bytes.push(codePoint);
                } else if (codePoint < 2048) {
                  if ((units -= 2) < 0)
                    break;
                  bytes.push(codePoint >> 6 | 192, codePoint & 63 | 128);
                } else if (codePoint < 65536) {
                  if ((units -= 3) < 0)
                    break;
                  bytes.push(codePoint >> 12 | 224, codePoint >> 6 & 63 | 128, codePoint & 63 | 128);
                } else if (codePoint < 1114112) {
                  if ((units -= 4) < 0)
                    break;
                  bytes.push(codePoint >> 18 | 240, codePoint >> 12 & 63 | 128, codePoint >> 6 & 63 | 128, codePoint & 63 | 128);
                } else {
                  throw new Error("Invalid code point");
                }
              }
              return bytes;
            }
            function asciiToBytes(str) {
              var byteArray = [];
              for (var i3 = 0; i3 < str.length; ++i3) {
                byteArray.push(str.charCodeAt(i3) & 255);
              }
              return byteArray;
            }
            function utf16leToBytes(str, units) {
              var c3, hi, lo;
              var byteArray = [];
              for (var i3 = 0; i3 < str.length; ++i3) {
                if ((units -= 2) < 0)
                  break;
                c3 = str.charCodeAt(i3);
                hi = c3 >> 8;
                lo = c3 % 256;
                byteArray.push(lo);
                byteArray.push(hi);
              }
              return byteArray;
            }
            function base64ToBytes(str) {
              return base64.toByteArray(base64clean(str));
            }
            function blitBuffer(src, dst, offset, length) {
              for (var i3 = 0; i3 < length; ++i3) {
                if (i3 + offset >= dst.length || i3 >= src.length)
                  break;
                dst[i3 + offset] = src[i3];
              }
              return i3;
            }
            function isnan(val) {
              return val !== val;
            }
          }).call(this, __webpack_require__("./node_modules/webpack/buildin/global.js"));
        },
        "./node_modules/node-libs-browser/node_modules/events/events.js": function(module3, exports3, __webpack_require__) {
          "use strict";
          var R = typeof Reflect === "object" ? Reflect : null;
          var ReflectApply = R && typeof R.apply === "function" ? R.apply : function ReflectApply2(target, receiver, args) {
            return Function.prototype.apply.call(target, receiver, args);
          };
          var ReflectOwnKeys;
          if (R && typeof R.ownKeys === "function") {
            ReflectOwnKeys = R.ownKeys;
          } else if (Object.getOwnPropertySymbols) {
            ReflectOwnKeys = function ReflectOwnKeys2(target) {
              return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));
            };
          } else {
            ReflectOwnKeys = function ReflectOwnKeys2(target) {
              return Object.getOwnPropertyNames(target);
            };
          }
          function ProcessEmitWarning(warning) {
            if (console && console.warn)
              console.warn(warning);
          }
          var NumberIsNaN = Number.isNaN || function NumberIsNaN2(value) {
            return value !== value;
          };
          function EventEmitter2() {
            EventEmitter2.init.call(this);
          }
          module3.exports = EventEmitter2;
          module3.exports.once = once;
          EventEmitter2.EventEmitter = EventEmitter2;
          EventEmitter2.prototype._events = void 0;
          EventEmitter2.prototype._eventsCount = 0;
          EventEmitter2.prototype._maxListeners = void 0;
          var defaultMaxListeners = 10;
          function checkListener(listener) {
            if (typeof listener !== "function") {
              throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof listener);
            }
          }
          Object.defineProperty(EventEmitter2, "defaultMaxListeners", {
            enumerable: true,
            get: function() {
              return defaultMaxListeners;
            },
            set: function(arg) {
              if (typeof arg !== "number" || arg < 0 || NumberIsNaN(arg)) {
                throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + arg + ".");
              }
              defaultMaxListeners = arg;
            }
          });
          EventEmitter2.init = function() {
            if (this._events === void 0 || this._events === Object.getPrototypeOf(this)._events) {
              this._events = Object.create(null);
              this._eventsCount = 0;
            }
            this._maxListeners = this._maxListeners || void 0;
          };
          EventEmitter2.prototype.setMaxListeners = function setMaxListeners(n2) {
            if (typeof n2 !== "number" || n2 < 0 || NumberIsNaN(n2)) {
              throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + n2 + ".");
            }
            this._maxListeners = n2;
            return this;
          };
          function _getMaxListeners(that) {
            if (that._maxListeners === void 0)
              return EventEmitter2.defaultMaxListeners;
            return that._maxListeners;
          }
          EventEmitter2.prototype.getMaxListeners = function getMaxListeners() {
            return _getMaxListeners(this);
          };
          EventEmitter2.prototype.emit = function emit(type) {
            var args = [];
            for (var i3 = 1; i3 < arguments.length; i3++)
              args.push(arguments[i3]);
            var doError = type === "error";
            var events = this._events;
            if (events !== void 0)
              doError = doError && events.error === void 0;
            else if (!doError)
              return false;
            if (doError) {
              var er;
              if (args.length > 0)
                er = args[0];
              if (er instanceof Error) {
                throw er;
              }
              var err = new Error("Unhandled error." + (er ? " (" + er.message + ")" : ""));
              err.context = er;
              throw err;
            }
            var handler = events[type];
            if (handler === void 0)
              return false;
            if (typeof handler === "function") {
              ReflectApply(handler, this, args);
            } else {
              var len = handler.length;
              var listeners = arrayClone(handler, len);
              for (var i3 = 0; i3 < len; ++i3)
                ReflectApply(listeners[i3], this, args);
            }
            return true;
          };
          function _addListener(target, type, listener, prepend) {
            var m2;
            var events;
            var existing;
            checkListener(listener);
            events = target._events;
            if (events === void 0) {
              events = target._events = Object.create(null);
              target._eventsCount = 0;
            } else {
              if (events.newListener !== void 0) {
                target.emit("newListener", type, listener.listener ? listener.listener : listener);
                events = target._events;
              }
              existing = events[type];
            }
            if (existing === void 0) {
              existing = events[type] = listener;
              ++target._eventsCount;
            } else {
              if (typeof existing === "function") {
                existing = events[type] = prepend ? [listener, existing] : [existing, listener];
              } else if (prepend) {
                existing.unshift(listener);
              } else {
                existing.push(listener);
              }
              m2 = _getMaxListeners(target);
              if (m2 > 0 && existing.length > m2 && !existing.warned) {
                existing.warned = true;
                var w2 = new Error("Possible EventEmitter memory leak detected. " + existing.length + " " + String(type) + " listeners added. Use emitter.setMaxListeners() to increase limit");
                w2.name = "MaxListenersExceededWarning";
                w2.emitter = target;
                w2.type = type;
                w2.count = existing.length;
                ProcessEmitWarning(w2);
              }
            }
            return target;
          }
          EventEmitter2.prototype.addListener = function addListener(type, listener) {
            return _addListener(this, type, listener, false);
          };
          EventEmitter2.prototype.on = EventEmitter2.prototype.addListener;
          EventEmitter2.prototype.prependListener = function prependListener(type, listener) {
            return _addListener(this, type, listener, true);
          };
          function onceWrapper() {
            if (!this.fired) {
              this.target.removeListener(this.type, this.wrapFn);
              this.fired = true;
              if (arguments.length === 0)
                return this.listener.call(this.target);
              return this.listener.apply(this.target, arguments);
            }
          }
          function _onceWrap(target, type, listener) {
            var state = { fired: false, wrapFn: void 0, target, type, listener };
            var wrapped = onceWrapper.bind(state);
            wrapped.listener = listener;
            state.wrapFn = wrapped;
            return wrapped;
          }
          EventEmitter2.prototype.once = function once2(type, listener) {
            checkListener(listener);
            this.on(type, _onceWrap(this, type, listener));
            return this;
          };
          EventEmitter2.prototype.prependOnceListener = function prependOnceListener(type, listener) {
            checkListener(listener);
            this.prependListener(type, _onceWrap(this, type, listener));
            return this;
          };
          EventEmitter2.prototype.removeListener = function removeListener(type, listener) {
            var list, events, position, i3, originalListener;
            checkListener(listener);
            events = this._events;
            if (events === void 0)
              return this;
            list = events[type];
            if (list === void 0)
              return this;
            if (list === listener || list.listener === listener) {
              if (--this._eventsCount === 0)
                this._events = Object.create(null);
              else {
                delete events[type];
                if (events.removeListener)
                  this.emit("removeListener", type, list.listener || listener);
              }
            } else if (typeof list !== "function") {
              position = -1;
              for (i3 = list.length - 1; i3 >= 0; i3--) {
                if (list[i3] === listener || list[i3].listener === listener) {
                  originalListener = list[i3].listener;
                  position = i3;
                  break;
                }
              }
              if (position < 0)
                return this;
              if (position === 0)
                list.shift();
              else {
                spliceOne(list, position);
              }
              if (list.length === 1)
                events[type] = list[0];
              if (events.removeListener !== void 0)
                this.emit("removeListener", type, originalListener || listener);
            }
            return this;
          };
          EventEmitter2.prototype.off = EventEmitter2.prototype.removeListener;
          EventEmitter2.prototype.removeAllListeners = function removeAllListeners(type) {
            var listeners, events, i3;
            events = this._events;
            if (events === void 0)
              return this;
            if (events.removeListener === void 0) {
              if (arguments.length === 0) {
                this._events = Object.create(null);
                this._eventsCount = 0;
              } else if (events[type] !== void 0) {
                if (--this._eventsCount === 0)
                  this._events = Object.create(null);
                else
                  delete events[type];
              }
              return this;
            }
            if (arguments.length === 0) {
              var keys = Object.keys(events);
              var key;
              for (i3 = 0; i3 < keys.length; ++i3) {
                key = keys[i3];
                if (key === "removeListener")
                  continue;
                this.removeAllListeners(key);
              }
              this.removeAllListeners("removeListener");
              this._events = Object.create(null);
              this._eventsCount = 0;
              return this;
            }
            listeners = events[type];
            if (typeof listeners === "function") {
              this.removeListener(type, listeners);
            } else if (listeners !== void 0) {
              for (i3 = listeners.length - 1; i3 >= 0; i3--) {
                this.removeListener(type, listeners[i3]);
              }
            }
            return this;
          };
          function _listeners(target, type, unwrap) {
            var events = target._events;
            if (events === void 0)
              return [];
            var evlistener = events[type];
            if (evlistener === void 0)
              return [];
            if (typeof evlistener === "function")
              return unwrap ? [evlistener.listener || evlistener] : [evlistener];
            return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);
          }
          EventEmitter2.prototype.listeners = function listeners(type) {
            return _listeners(this, type, true);
          };
          EventEmitter2.prototype.rawListeners = function rawListeners(type) {
            return _listeners(this, type, false);
          };
          EventEmitter2.listenerCount = function(emitter, type) {
            if (typeof emitter.listenerCount === "function") {
              return emitter.listenerCount(type);
            } else {
              return listenerCount.call(emitter, type);
            }
          };
          EventEmitter2.prototype.listenerCount = listenerCount;
          function listenerCount(type) {
            var events = this._events;
            if (events !== void 0) {
              var evlistener = events[type];
              if (typeof evlistener === "function") {
                return 1;
              } else if (evlistener !== void 0) {
                return evlistener.length;
              }
            }
            return 0;
          }
          EventEmitter2.prototype.eventNames = function eventNames() {
            return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];
          };
          function arrayClone(arr, n2) {
            var copy = new Array(n2);
            for (var i3 = 0; i3 < n2; ++i3)
              copy[i3] = arr[i3];
            return copy;
          }
          function spliceOne(list, index) {
            for (; index + 1 < list.length; index++)
              list[index] = list[index + 1];
            list.pop();
          }
          function unwrapListeners(arr) {
            var ret = new Array(arr.length);
            for (var i3 = 0; i3 < ret.length; ++i3) {
              ret[i3] = arr[i3].listener || arr[i3];
            }
            return ret;
          }
          function once(emitter, name) {
            return new Promise(function(resolve2, reject) {
              function errorListener(err) {
                emitter.removeListener(name, resolver);
                reject(err);
              }
              function resolver() {
                if (typeof emitter.removeListener === "function") {
                  emitter.removeListener("error", errorListener);
                }
                resolve2([].slice.call(arguments));
              }
              ;
              eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });
              if (name !== "error") {
                addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });
              }
            });
          }
          function addErrorHandlerIfEventEmitter(emitter, handler, flags) {
            if (typeof emitter.on === "function") {
              eventTargetAgnosticAddListener(emitter, "error", handler, flags);
            }
          }
          function eventTargetAgnosticAddListener(emitter, name, listener, flags) {
            if (typeof emitter.on === "function") {
              if (flags.once) {
                emitter.once(name, listener);
              } else {
                emitter.on(name, listener);
              }
            } else if (typeof emitter.addEventListener === "function") {
              emitter.addEventListener(name, function wrapListener(arg) {
                if (flags.once) {
                  emitter.removeEventListener(name, wrapListener);
                }
                listener(arg);
              });
            } else {
              throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof emitter);
            }
          }
        },
        "./node_modules/node-libs-browser/node_modules/timers-browserify/main.js": function(module3, exports3, __webpack_require__) {
          (function(global2) {
            var scope = typeof global2 !== "undefined" && global2 || typeof self !== "undefined" && self || window;
            var apply = Function.prototype.apply;
            exports3.setTimeout = function() {
              return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);
            };
            exports3.setInterval = function() {
              return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);
            };
            exports3.clearTimeout = exports3.clearInterval = function(timeout) {
              if (timeout) {
                timeout.close();
              }
            };
            function Timeout(id, clearFn) {
              this._id = id;
              this._clearFn = clearFn;
            }
            Timeout.prototype.unref = Timeout.prototype.ref = function() {
            };
            Timeout.prototype.close = function() {
              this._clearFn.call(scope, this._id);
            };
            exports3.enroll = function(item, msecs) {
              clearTimeout(item._idleTimeoutId);
              item._idleTimeout = msecs;
            };
            exports3.unenroll = function(item) {
              clearTimeout(item._idleTimeoutId);
              item._idleTimeout = -1;
            };
            exports3._unrefActive = exports3.active = function(item) {
              clearTimeout(item._idleTimeoutId);
              var msecs = item._idleTimeout;
              if (msecs >= 0) {
                item._idleTimeoutId = setTimeout(function onTimeout() {
                  if (item._onTimeout)
                    item._onTimeout();
                }, msecs);
              }
            };
            __webpack_require__("./node_modules/setimmediate/setImmediate.js");
            exports3.setImmediate = typeof self !== "undefined" && self.setImmediate || typeof global2 !== "undefined" && global2.setImmediate || this && this.setImmediate;
            exports3.clearImmediate = typeof self !== "undefined" && self.clearImmediate || typeof global2 !== "undefined" && global2.clearImmediate || this && this.clearImmediate;
          }).call(this, __webpack_require__("./node_modules/webpack/buildin/global.js"));
        },
        "./node_modules/path-browserify/index.js": function(module3, exports3, __webpack_require__) {
          (function(process2) {
            function normalizeArray(parts, allowAboveRoot) {
              var up = 0;
              for (var i3 = parts.length - 1; i3 >= 0; i3--) {
                var last = parts[i3];
                if (last === ".") {
                  parts.splice(i3, 1);
                } else if (last === "..") {
                  parts.splice(i3, 1);
                  up++;
                } else if (up) {
                  parts.splice(i3, 1);
                  up--;
                }
              }
              if (allowAboveRoot) {
                for (; up--; up) {
                  parts.unshift("..");
                }
              }
              return parts;
            }
            exports3.resolve = function() {
              var resolvedPath = "", resolvedAbsolute = false;
              for (var i3 = arguments.length - 1; i3 >= -1 && !resolvedAbsolute; i3--) {
                var path = i3 >= 0 ? arguments[i3] : process2.cwd();
                if (typeof path !== "string") {
                  throw new TypeError("Arguments to path.resolve must be strings");
                } else if (!path) {
                  continue;
                }
                resolvedPath = path + "/" + resolvedPath;
                resolvedAbsolute = path.charAt(0) === "/";
              }
              resolvedPath = normalizeArray(filter(resolvedPath.split("/"), function(p2) {
                return !!p2;
              }), !resolvedAbsolute).join("/");
              return (resolvedAbsolute ? "/" : "") + resolvedPath || ".";
            };
            exports3.normalize = function(path) {
              var isAbsolute = exports3.isAbsolute(path), trailingSlash = substr(path, -1) === "/";
              path = normalizeArray(filter(path.split("/"), function(p2) {
                return !!p2;
              }), !isAbsolute).join("/");
              if (!path && !isAbsolute) {
                path = ".";
              }
              if (path && trailingSlash) {
                path += "/";
              }
              return (isAbsolute ? "/" : "") + path;
            };
            exports3.isAbsolute = function(path) {
              return path.charAt(0) === "/";
            };
            exports3.join = function() {
              var paths = Array.prototype.slice.call(arguments, 0);
              return exports3.normalize(filter(paths, function(p2, index) {
                if (typeof p2 !== "string") {
                  throw new TypeError("Arguments to path.join must be strings");
                }
                return p2;
              }).join("/"));
            };
            exports3.relative = function(from, to) {
              from = exports3.resolve(from).substr(1);
              to = exports3.resolve(to).substr(1);
              function trim(arr) {
                var start = 0;
                for (; start < arr.length; start++) {
                  if (arr[start] !== "")
                    break;
                }
                var end = arr.length - 1;
                for (; end >= 0; end--) {
                  if (arr[end] !== "")
                    break;
                }
                if (start > end)
                  return [];
                return arr.slice(start, end - start + 1);
              }
              var fromParts = trim(from.split("/"));
              var toParts = trim(to.split("/"));
              var length = Math.min(fromParts.length, toParts.length);
              var samePartsLength = length;
              for (var i3 = 0; i3 < length; i3++) {
                if (fromParts[i3] !== toParts[i3]) {
                  samePartsLength = i3;
                  break;
                }
              }
              var outputParts = [];
              for (var i3 = samePartsLength; i3 < fromParts.length; i3++) {
                outputParts.push("..");
              }
              outputParts = outputParts.concat(toParts.slice(samePartsLength));
              return outputParts.join("/");
            };
            exports3.sep = "/";
            exports3.delimiter = ":";
            exports3.dirname = function(path) {
              if (typeof path !== "string")
                path = path + "";
              if (path.length === 0)
                return ".";
              var code = path.charCodeAt(0);
              var hasRoot = code === 47;
              var end = -1;
              var matchedSlash = true;
              for (var i3 = path.length - 1; i3 >= 1; --i3) {
                code = path.charCodeAt(i3);
                if (code === 47) {
                  if (!matchedSlash) {
                    end = i3;
                    break;
                  }
                } else {
                  matchedSlash = false;
                }
              }
              if (end === -1)
                return hasRoot ? "/" : ".";
              if (hasRoot && end === 1) {
                return "/";
              }
              return path.slice(0, end);
            };
            function basename(path) {
              if (typeof path !== "string")
                path = path + "";
              var start = 0;
              var end = -1;
              var matchedSlash = true;
              var i3;
              for (i3 = path.length - 1; i3 >= 0; --i3) {
                if (path.charCodeAt(i3) === 47) {
                  if (!matchedSlash) {
                    start = i3 + 1;
                    break;
                  }
                } else if (end === -1) {
                  matchedSlash = false;
                  end = i3 + 1;
                }
              }
              if (end === -1)
                return "";
              return path.slice(start, end);
            }
            exports3.basename = function(path, ext) {
              var f2 = basename(path);
              if (ext && f2.substr(-1 * ext.length) === ext) {
                f2 = f2.substr(0, f2.length - ext.length);
              }
              return f2;
            };
            exports3.extname = function(path) {
              if (typeof path !== "string")
                path = path + "";
              var startDot = -1;
              var startPart = 0;
              var end = -1;
              var matchedSlash = true;
              var preDotState = 0;
              for (var i3 = path.length - 1; i3 >= 0; --i3) {
                var code = path.charCodeAt(i3);
                if (code === 47) {
                  if (!matchedSlash) {
                    startPart = i3 + 1;
                    break;
                  }
                  continue;
                }
                if (end === -1) {
                  matchedSlash = false;
                  end = i3 + 1;
                }
                if (code === 46) {
                  if (startDot === -1)
                    startDot = i3;
                  else if (preDotState !== 1)
                    preDotState = 1;
                } else if (startDot !== -1) {
                  preDotState = -1;
                }
              }
              if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
                return "";
              }
              return path.slice(startDot, end);
            };
            function filter(xs, f2) {
              if (xs.filter)
                return xs.filter(f2);
              var res = [];
              for (var i3 = 0; i3 < xs.length; i3++) {
                if (f2(xs[i3], i3, xs))
                  res.push(xs[i3]);
              }
              return res;
            }
            var substr = "ab".substr(-1) === "b" ? function(str, start, len) {
              return str.substr(start, len);
            } : function(str, start, len) {
              if (start < 0)
                start = str.length + start;
              return str.substr(start, len);
            };
          }).call(this, __webpack_require__("./node_modules/process/browser.js"));
        },
        "./node_modules/process-nextick-args/index.js": function(module3, exports3, __webpack_require__) {
          "use strict";
          (function(process2) {
            if (!process2.version || process2.version.indexOf("v0.") === 0 || process2.version.indexOf("v1.") === 0 && process2.version.indexOf("v1.8.") !== 0) {
              module3.exports = { nextTick };
            } else {
              module3.exports = process2;
            }
            function nextTick(fn, arg1, arg2, arg3) {
              if (typeof fn !== "function") {
                throw new TypeError('"callback" argument must be a function');
              }
              var len = arguments.length;
              var args, i3;
              switch (len) {
                case 0:
                case 1:
                  return process2.nextTick(fn);
                case 2:
                  return process2.nextTick(function afterTickOne() {
                    fn.call(null, arg1);
                  });
                case 3:
                  return process2.nextTick(function afterTickTwo() {
                    fn.call(null, arg1, arg2);
                  });
                case 4:
                  return process2.nextTick(function afterTickThree() {
                    fn.call(null, arg1, arg2, arg3);
                  });
                default:
                  args = new Array(len - 1);
                  i3 = 0;
                  while (i3 < args.length) {
                    args[i3++] = arguments[i3];
                  }
                  return process2.nextTick(function afterTick() {
                    fn.apply(null, args);
                  });
              }
            }
          }).call(this, __webpack_require__("./node_modules/process/browser.js"));
        },
        "./node_modules/process/browser.js": function(module3, exports3) {
          var process2 = module3.exports = {};
          var cachedSetTimeout;
          var cachedClearTimeout;
          function defaultSetTimout() {
            throw new Error("setTimeout has not been defined");
          }
          function defaultClearTimeout() {
            throw new Error("clearTimeout has not been defined");
          }
          (function() {
            try {
              if (typeof setTimeout === "function") {
                cachedSetTimeout = setTimeout;
              } else {
                cachedSetTimeout = defaultSetTimout;
              }
            } catch (e) {
              cachedSetTimeout = defaultSetTimout;
            }
            try {
              if (typeof clearTimeout === "function") {
                cachedClearTimeout = clearTimeout;
              } else {
                cachedClearTimeout = defaultClearTimeout;
              }
            } catch (e) {
              cachedClearTimeout = defaultClearTimeout;
            }
          })();
          function runTimeout(fun) {
            if (cachedSetTimeout === setTimeout) {
              return setTimeout(fun, 0);
            }
            if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
              cachedSetTimeout = setTimeout;
              return setTimeout(fun, 0);
            }
            try {
              return cachedSetTimeout(fun, 0);
            } catch (e) {
              try {
                return cachedSetTimeout.call(null, fun, 0);
              } catch (e2) {
                return cachedSetTimeout.call(this, fun, 0);
              }
            }
          }
          function runClearTimeout(marker) {
            if (cachedClearTimeout === clearTimeout) {
              return clearTimeout(marker);
            }
            if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
              cachedClearTimeout = clearTimeout;
              return clearTimeout(marker);
            }
            try {
              return cachedClearTimeout(marker);
            } catch (e) {
              try {
                return cachedClearTimeout.call(null, marker);
              } catch (e2) {
                return cachedClearTimeout.call(this, marker);
              }
            }
          }
          var queue = [];
          var draining = false;
          var currentQueue;
          var queueIndex = -1;
          function cleanUpNextTick() {
            if (!draining || !currentQueue) {
              return;
            }
            draining = false;
            if (currentQueue.length) {
              queue = currentQueue.concat(queue);
            } else {
              queueIndex = -1;
            }
            if (queue.length) {
              drainQueue();
            }
          }
          function drainQueue() {
            if (draining) {
              return;
            }
            var timeout = runTimeout(cleanUpNextTick);
            draining = true;
            var len = queue.length;
            while (len) {
              currentQueue = queue;
              queue = [];
              while (++queueIndex < len) {
                if (currentQueue) {
                  currentQueue[queueIndex].run();
                }
              }
              queueIndex = -1;
              len = queue.length;
            }
            currentQueue = null;
            draining = false;
            runClearTimeout(timeout);
          }
          process2.nextTick = function(fun) {
            var args = new Array(arguments.length - 1);
            if (arguments.length > 1) {
              for (var i3 = 1; i3 < arguments.length; i3++) {
                args[i3 - 1] = arguments[i3];
              }
            }
            queue.push(new Item(fun, args));
            if (queue.length === 1 && !draining) {
              runTimeout(drainQueue);
            }
          };
          function Item(fun, array) {
            this.fun = fun;
            this.array = array;
          }
          Item.prototype.run = function() {
            this.fun.apply(null, this.array);
          };
          process2.title = "browser";
          process2.browser = true;
          process2.env = {};
          process2.argv = [];
          process2.version = "";
          process2.versions = {};
          function noop2() {
          }
          process2.on = noop2;
          process2.addListener = noop2;
          process2.once = noop2;
          process2.off = noop2;
          process2.removeListener = noop2;
          process2.removeAllListeners = noop2;
          process2.emit = noop2;
          process2.prependListener = noop2;
          process2.prependOnceListener = noop2;
          process2.listeners = function(name) {
            return [];
          };
          process2.binding = function(name) {
            throw new Error("process.binding is not supported");
          };
          process2.cwd = function() {
            return "/";
          };
          process2.chdir = function(dir) {
            throw new Error("process.chdir is not supported");
          };
          process2.umask = function() {
            return 0;
          };
        },
        "./node_modules/readable-stream/duplex-browser.js": function(module3, exports3, __webpack_require__) {
          module3.exports = __webpack_require__("./node_modules/readable-stream/lib/_stream_duplex.js");
        },
        "./node_modules/readable-stream/lib/_stream_duplex.js": function(module3, exports3, __webpack_require__) {
          "use strict";
          var pna = __webpack_require__("./node_modules/process-nextick-args/index.js");
          var objectKeys = Object.keys || function(obj) {
            var keys2 = [];
            for (var key in obj) {
              keys2.push(key);
            }
            return keys2;
          };
          module3.exports = Duplex;
          var util = __webpack_require__("./node_modules/core-util-is/lib/util.js");
          util.inherits = __webpack_require__("./node_modules/inherits/inherits_browser.js");
          var Readable = __webpack_require__("./node_modules/readable-stream/lib/_stream_readable.js");
          var Writable = __webpack_require__("./node_modules/readable-stream/lib/_stream_writable.js");
          util.inherits(Duplex, Readable);
          {
            var keys = objectKeys(Writable.prototype);
            for (var v = 0; v < keys.length; v++) {
              var method = keys[v];
              if (!Duplex.prototype[method])
                Duplex.prototype[method] = Writable.prototype[method];
            }
          }
          function Duplex(options) {
            if (!(this instanceof Duplex))
              return new Duplex(options);
            Readable.call(this, options);
            Writable.call(this, options);
            if (options && options.readable === false)
              this.readable = false;
            if (options && options.writable === false)
              this.writable = false;
            this.allowHalfOpen = true;
            if (options && options.allowHalfOpen === false)
              this.allowHalfOpen = false;
            this.once("end", onend);
          }
          Object.defineProperty(Duplex.prototype, "writableHighWaterMark", {
            enumerable: false,
            get: function() {
              return this._writableState.highWaterMark;
            }
          });
          function onend() {
            if (this.allowHalfOpen || this._writableState.ended)
              return;
            pna.nextTick(onEndNT, this);
          }
          function onEndNT(self2) {
            self2.end();
          }
          Object.defineProperty(Duplex.prototype, "destroyed", {
            get: function() {
              if (this._readableState === void 0 || this._writableState === void 0) {
                return false;
              }
              return this._readableState.destroyed && this._writableState.destroyed;
            },
            set: function(value) {
              if (this._readableState === void 0 || this._writableState === void 0) {
                return;
              }
              this._readableState.destroyed = value;
              this._writableState.destroyed = value;
            }
          });
          Duplex.prototype._destroy = function(err, cb) {
            this.push(null);
            this.end();
            pna.nextTick(cb, err);
          };
        },
        "./node_modules/readable-stream/lib/_stream_passthrough.js": function(module3, exports3, __webpack_require__) {
          "use strict";
          module3.exports = PassThrough;
          var Transform = __webpack_require__("./node_modules/readable-stream/lib/_stream_transform.js");
          var util = __webpack_require__("./node_modules/core-util-is/lib/util.js");
          util.inherits = __webpack_require__("./node_modules/inherits/inherits_browser.js");
          util.inherits(PassThrough, Transform);
          function PassThrough(options) {
            if (!(this instanceof PassThrough))
              return new PassThrough(options);
            Transform.call(this, options);
          }
          PassThrough.prototype._transform = function(chunk, encoding, cb) {
            cb(null, chunk);
          };
        },
        "./node_modules/readable-stream/lib/_stream_readable.js": function(module3, exports3, __webpack_require__) {
          "use strict";
          (function(global2, process2) {
            var pna = __webpack_require__("./node_modules/process-nextick-args/index.js");
            module3.exports = Readable;
            var isArray = __webpack_require__("./node_modules/isarray/index.js");
            var Duplex;
            Readable.ReadableState = ReadableState;
            var EE = __webpack_require__("./node_modules/node-libs-browser/node_modules/events/events.js").EventEmitter;
            var EElistenerCount = function(emitter, type) {
              return emitter.listeners(type).length;
            };
            var Stream = __webpack_require__("./node_modules/readable-stream/lib/internal/streams/stream-browser.js");
            var Buffer2 = __webpack_require__("./node_modules/safe-buffer/index.js").Buffer;
            var OurUint8Array = global2.Uint8Array || function() {
            };
            function _uint8ArrayToBuffer(chunk) {
              return Buffer2.from(chunk);
            }
            function _isUint8Array(obj) {
              return Buffer2.isBuffer(obj) || obj instanceof OurUint8Array;
            }
            var util = __webpack_require__("./node_modules/core-util-is/lib/util.js");
            util.inherits = __webpack_require__("./node_modules/inherits/inherits_browser.js");
            var debugUtil = __webpack_require__(0);
            var debug = void 0;
            if (debugUtil && debugUtil.debuglog) {
              debug = debugUtil.debuglog("stream");
            } else {
              debug = function() {
              };
            }
            var BufferList = __webpack_require__("./node_modules/readable-stream/lib/internal/streams/BufferList.js");
            var destroyImpl = __webpack_require__("./node_modules/readable-stream/lib/internal/streams/destroy.js");
            var StringDecoder;
            util.inherits(Readable, Stream);
            var kProxyEvents = ["error", "close", "destroy", "pause", "resume"];
            function prependListener(emitter, event, fn) {
              if (typeof emitter.prependListener === "function")
                return emitter.prependListener(event, fn);
              if (!emitter._events || !emitter._events[event])
                emitter.on(event, fn);
              else if (isArray(emitter._events[event]))
                emitter._events[event].unshift(fn);
              else
                emitter._events[event] = [fn, emitter._events[event]];
            }
            function ReadableState(options, stream) {
              Duplex = Duplex || __webpack_require__("./node_modules/readable-stream/lib/_stream_duplex.js");
              options = options || {};
              var isDuplex = stream instanceof Duplex;
              this.objectMode = !!options.objectMode;
              if (isDuplex)
                this.objectMode = this.objectMode || !!options.readableObjectMode;
              var hwm = options.highWaterMark;
              var readableHwm = options.readableHighWaterMark;
              var defaultHwm = this.objectMode ? 16 : 16 * 1024;
              if (hwm || hwm === 0)
                this.highWaterMark = hwm;
              else if (isDuplex && (readableHwm || readableHwm === 0))
                this.highWaterMark = readableHwm;
              else
                this.highWaterMark = defaultHwm;
              this.highWaterMark = Math.floor(this.highWaterMark);
              this.buffer = new BufferList();
              this.length = 0;
              this.pipes = null;
              this.pipesCount = 0;
              this.flowing = null;
              this.ended = false;
              this.endEmitted = false;
              this.reading = false;
              this.sync = true;
              this.needReadable = false;
              this.emittedReadable = false;
              this.readableListening = false;
              this.resumeScheduled = false;
              this.destroyed = false;
              this.defaultEncoding = options.defaultEncoding || "utf8";
              this.awaitDrain = 0;
              this.readingMore = false;
              this.decoder = null;
              this.encoding = null;
              if (options.encoding) {
                if (!StringDecoder)
                  StringDecoder = __webpack_require__("./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;
                this.decoder = new StringDecoder(options.encoding);
                this.encoding = options.encoding;
              }
            }
            function Readable(options) {
              Duplex = Duplex || __webpack_require__("./node_modules/readable-stream/lib/_stream_duplex.js");
              if (!(this instanceof Readable))
                return new Readable(options);
              this._readableState = new ReadableState(options, this);
              this.readable = true;
              if (options) {
                if (typeof options.read === "function")
                  this._read = options.read;
                if (typeof options.destroy === "function")
                  this._destroy = options.destroy;
              }
              Stream.call(this);
            }
            Object.defineProperty(Readable.prototype, "destroyed", {
              get: function() {
                if (this._readableState === void 0) {
                  return false;
                }
                return this._readableState.destroyed;
              },
              set: function(value) {
                if (!this._readableState) {
                  return;
                }
                this._readableState.destroyed = value;
              }
            });
            Readable.prototype.destroy = destroyImpl.destroy;
            Readable.prototype._undestroy = destroyImpl.undestroy;
            Readable.prototype._destroy = function(err, cb) {
              this.push(null);
              cb(err);
            };
            Readable.prototype.push = function(chunk, encoding) {
              var state = this._readableState;
              var skipChunkCheck;
              if (!state.objectMode) {
                if (typeof chunk === "string") {
                  encoding = encoding || state.defaultEncoding;
                  if (encoding !== state.encoding) {
                    chunk = Buffer2.from(chunk, encoding);
                    encoding = "";
                  }
                  skipChunkCheck = true;
                }
              } else {
                skipChunkCheck = true;
              }
              return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);
            };
            Readable.prototype.unshift = function(chunk) {
              return readableAddChunk(this, chunk, null, true, false);
            };
            function readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {
              var state = stream._readableState;
              if (chunk === null) {
                state.reading = false;
                onEofChunk(stream, state);
              } else {
                var er;
                if (!skipChunkCheck)
                  er = chunkInvalid(state, chunk);
                if (er) {
                  stream.emit("error", er);
                } else if (state.objectMode || chunk && chunk.length > 0) {
                  if (typeof chunk !== "string" && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer2.prototype) {
                    chunk = _uint8ArrayToBuffer(chunk);
                  }
                  if (addToFront) {
                    if (state.endEmitted)
                      stream.emit("error", new Error("stream.unshift() after end event"));
                    else
                      addChunk(stream, state, chunk, true);
                  } else if (state.ended) {
                    stream.emit("error", new Error("stream.push() after EOF"));
                  } else {
                    state.reading = false;
                    if (state.decoder && !encoding) {
                      chunk = state.decoder.write(chunk);
                      if (state.objectMode || chunk.length !== 0)
                        addChunk(stream, state, chunk, false);
                      else
                        maybeReadMore(stream, state);
                    } else {
                      addChunk(stream, state, chunk, false);
                    }
                  }
                } else if (!addToFront) {
                  state.reading = false;
                }
              }
              return needMoreData(state);
            }
            function addChunk(stream, state, chunk, addToFront) {
              if (state.flowing && state.length === 0 && !state.sync) {
                stream.emit("data", chunk);
                stream.read(0);
              } else {
                state.length += state.objectMode ? 1 : chunk.length;
                if (addToFront)
                  state.buffer.unshift(chunk);
                else
                  state.buffer.push(chunk);
                if (state.needReadable)
                  emitReadable(stream);
              }
              maybeReadMore(stream, state);
            }
            function chunkInvalid(state, chunk) {
              var er;
              if (!_isUint8Array(chunk) && typeof chunk !== "string" && chunk !== void 0 && !state.objectMode) {
                er = new TypeError("Invalid non-string/buffer chunk");
              }
              return er;
            }
            function needMoreData(state) {
              return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);
            }
            Readable.prototype.isPaused = function() {
              return this._readableState.flowing === false;
            };
            Readable.prototype.setEncoding = function(enc) {
              if (!StringDecoder)
                StringDecoder = __webpack_require__("./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;
              this._readableState.decoder = new StringDecoder(enc);
              this._readableState.encoding = enc;
              return this;
            };
            var MAX_HWM = 8388608;
            function computeNewHighWaterMark(n2) {
              if (n2 >= MAX_HWM) {
                n2 = MAX_HWM;
              } else {
                n2--;
                n2 |= n2 >>> 1;
                n2 |= n2 >>> 2;
                n2 |= n2 >>> 4;
                n2 |= n2 >>> 8;
                n2 |= n2 >>> 16;
                n2++;
              }
              return n2;
            }
            function howMuchToRead(n2, state) {
              if (n2 <= 0 || state.length === 0 && state.ended)
                return 0;
              if (state.objectMode)
                return 1;
              if (n2 !== n2) {
                if (state.flowing && state.length)
                  return state.buffer.head.data.length;
                else
                  return state.length;
              }
              if (n2 > state.highWaterMark)
                state.highWaterMark = computeNewHighWaterMark(n2);
              if (n2 <= state.length)
                return n2;
              if (!state.ended) {
                state.needReadable = true;
                return 0;
              }
              return state.length;
            }
            Readable.prototype.read = function(n2) {
              debug("read", n2);
              n2 = parseInt(n2, 10);
              var state = this._readableState;
              var nOrig = n2;
              if (n2 !== 0)
                state.emittedReadable = false;
              if (n2 === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {
                debug("read: emitReadable", state.length, state.ended);
                if (state.length === 0 && state.ended)
                  endReadable(this);
                else
                  emitReadable(this);
                return null;
              }
              n2 = howMuchToRead(n2, state);
              if (n2 === 0 && state.ended) {
                if (state.length === 0)
                  endReadable(this);
                return null;
              }
              var doRead = state.needReadable;
              debug("need readable", doRead);
              if (state.length === 0 || state.length - n2 < state.highWaterMark) {
                doRead = true;
                debug("length less than watermark", doRead);
              }
              if (state.ended || state.reading) {
                doRead = false;
                debug("reading or ended", doRead);
              } else if (doRead) {
                debug("do read");
                state.reading = true;
                state.sync = true;
                if (state.length === 0)
                  state.needReadable = true;
                this._read(state.highWaterMark);
                state.sync = false;
                if (!state.reading)
                  n2 = howMuchToRead(nOrig, state);
              }
              var ret;
              if (n2 > 0)
                ret = fromList(n2, state);
              else
                ret = null;
              if (ret === null) {
                state.needReadable = true;
                n2 = 0;
              } else {
                state.length -= n2;
              }
              if (state.length === 0) {
                if (!state.ended)
                  state.needReadable = true;
                if (nOrig !== n2 && state.ended)
                  endReadable(this);
              }
              if (ret !== null)
                this.emit("data", ret);
              return ret;
            };
            function onEofChunk(stream, state) {
              if (state.ended)
                return;
              if (state.decoder) {
                var chunk = state.decoder.end();
                if (chunk && chunk.length) {
                  state.buffer.push(chunk);
                  state.length += state.objectMode ? 1 : chunk.length;
                }
              }
              state.ended = true;
              emitReadable(stream);
            }
            function emitReadable(stream) {
              var state = stream._readableState;
              state.needReadable = false;
              if (!state.emittedReadable) {
                debug("emitReadable", state.flowing);
                state.emittedReadable = true;
                if (state.sync)
                  pna.nextTick(emitReadable_, stream);
                else
                  emitReadable_(stream);
              }
            }
            function emitReadable_(stream) {
              debug("emit readable");
              stream.emit("readable");
              flow(stream);
            }
            function maybeReadMore(stream, state) {
              if (!state.readingMore) {
                state.readingMore = true;
                pna.nextTick(maybeReadMore_, stream, state);
              }
            }
            function maybeReadMore_(stream, state) {
              var len = state.length;
              while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {
                debug("maybeReadMore read 0");
                stream.read(0);
                if (len === state.length)
                  break;
                else
                  len = state.length;
              }
              state.readingMore = false;
            }
            Readable.prototype._read = function(n2) {
              this.emit("error", new Error("_read() is not implemented"));
            };
            Readable.prototype.pipe = function(dest, pipeOpts) {
              var src = this;
              var state = this._readableState;
              switch (state.pipesCount) {
                case 0:
                  state.pipes = dest;
                  break;
                case 1:
                  state.pipes = [state.pipes, dest];
                  break;
                default:
                  state.pipes.push(dest);
                  break;
              }
              state.pipesCount += 1;
              debug("pipe count=%d opts=%j", state.pipesCount, pipeOpts);
              var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process2.stdout && dest !== process2.stderr;
              var endFn = doEnd ? onend : unpipe;
              if (state.endEmitted)
                pna.nextTick(endFn);
              else
                src.once("end", endFn);
              dest.on("unpipe", onunpipe);
              function onunpipe(readable, unpipeInfo) {
                debug("onunpipe");
                if (readable === src) {
                  if (unpipeInfo && unpipeInfo.hasUnpiped === false) {
                    unpipeInfo.hasUnpiped = true;
                    cleanup();
                  }
                }
              }
              function onend() {
                debug("onend");
                dest.end();
              }
              var ondrain = pipeOnDrain(src);
              dest.on("drain", ondrain);
              var cleanedUp = false;
              function cleanup() {
                debug("cleanup");
                dest.removeListener("close", onclose);
                dest.removeListener("finish", onfinish);
                dest.removeListener("drain", ondrain);
                dest.removeListener("error", onerror);
                dest.removeListener("unpipe", onunpipe);
                src.removeListener("end", onend);
                src.removeListener("end", unpipe);
                src.removeListener("data", ondata);
                cleanedUp = true;
                if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain))
                  ondrain();
              }
              var increasedAwaitDrain = false;
              src.on("data", ondata);
              function ondata(chunk) {
                debug("ondata");
                increasedAwaitDrain = false;
                var ret = dest.write(chunk);
                if (ret === false && !increasedAwaitDrain) {
                  if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {
                    debug("false write response, pause", src._readableState.awaitDrain);
                    src._readableState.awaitDrain++;
                    increasedAwaitDrain = true;
                  }
                  src.pause();
                }
              }
              function onerror(er) {
                debug("onerror", er);
                unpipe();
                dest.removeListener("error", onerror);
                if (EElistenerCount(dest, "error") === 0)
                  dest.emit("error", er);
              }
              prependListener(dest, "error", onerror);
              function onclose() {
                dest.removeListener("finish", onfinish);
                unpipe();
              }
              dest.once("close", onclose);
              function onfinish() {
                debug("onfinish");
                dest.removeListener("close", onclose);
                unpipe();
              }
              dest.once("finish", onfinish);
              function unpipe() {
                debug("unpipe");
                src.unpipe(dest);
              }
              dest.emit("pipe", src);
              if (!state.flowing) {
                debug("pipe resume");
                src.resume();
              }
              return dest;
            };
            function pipeOnDrain(src) {
              return function() {
                var state = src._readableState;
                debug("pipeOnDrain", state.awaitDrain);
                if (state.awaitDrain)
                  state.awaitDrain--;
                if (state.awaitDrain === 0 && EElistenerCount(src, "data")) {
                  state.flowing = true;
                  flow(src);
                }
              };
            }
            Readable.prototype.unpipe = function(dest) {
              var state = this._readableState;
              var unpipeInfo = { hasUnpiped: false };
              if (state.pipesCount === 0)
                return this;
              if (state.pipesCount === 1) {
                if (dest && dest !== state.pipes)
                  return this;
                if (!dest)
                  dest = state.pipes;
                state.pipes = null;
                state.pipesCount = 0;
                state.flowing = false;
                if (dest)
                  dest.emit("unpipe", this, unpipeInfo);
                return this;
              }
              if (!dest) {
                var dests = state.pipes;
                var len = state.pipesCount;
                state.pipes = null;
                state.pipesCount = 0;
                state.flowing = false;
                for (var i3 = 0; i3 < len; i3++) {
                  dests[i3].emit("unpipe", this, unpipeInfo);
                }
                return this;
              }
              var index = indexOf(state.pipes, dest);
              if (index === -1)
                return this;
              state.pipes.splice(index, 1);
              state.pipesCount -= 1;
              if (state.pipesCount === 1)
                state.pipes = state.pipes[0];
              dest.emit("unpipe", this, unpipeInfo);
              return this;
            };
            Readable.prototype.on = function(ev, fn) {
              var res = Stream.prototype.on.call(this, ev, fn);
              if (ev === "data") {
                if (this._readableState.flowing !== false)
                  this.resume();
              } else if (ev === "readable") {
                var state = this._readableState;
                if (!state.endEmitted && !state.readableListening) {
                  state.readableListening = state.needReadable = true;
                  state.emittedReadable = false;
                  if (!state.reading) {
                    pna.nextTick(nReadingNextTick, this);
                  } else if (state.length) {
                    emitReadable(this);
                  }
                }
              }
              return res;
            };
            Readable.prototype.addListener = Readable.prototype.on;
            function nReadingNextTick(self2) {
              debug("readable nexttick read 0");
              self2.read(0);
            }
            Readable.prototype.resume = function() {
              var state = this._readableState;
              if (!state.flowing) {
                debug("resume");
                state.flowing = true;
                resume(this, state);
              }
              return this;
            };
            function resume(stream, state) {
              if (!state.resumeScheduled) {
                state.resumeScheduled = true;
                pna.nextTick(resume_, stream, state);
              }
            }
            function resume_(stream, state) {
              if (!state.reading) {
                debug("resume read 0");
                stream.read(0);
              }
              state.resumeScheduled = false;
              state.awaitDrain = 0;
              stream.emit("resume");
              flow(stream);
              if (state.flowing && !state.reading)
                stream.read(0);
            }
            Readable.prototype.pause = function() {
              debug("call pause flowing=%j", this._readableState.flowing);
              if (this._readableState.flowing !== false) {
                debug("pause");
                this._readableState.flowing = false;
                this.emit("pause");
              }
              return this;
            };
            function flow(stream) {
              var state = stream._readableState;
              debug("flow", state.flowing);
              while (state.flowing && stream.read() !== null) {
              }
            }
            Readable.prototype.wrap = function(stream) {
              var _this = this;
              var state = this._readableState;
              var paused = false;
              stream.on("end", function() {
                debug("wrapped end");
                if (state.decoder && !state.ended) {
                  var chunk = state.decoder.end();
                  if (chunk && chunk.length)
                    _this.push(chunk);
                }
                _this.push(null);
              });
              stream.on("data", function(chunk) {
                debug("wrapped data");
                if (state.decoder)
                  chunk = state.decoder.write(chunk);
                if (state.objectMode && (chunk === null || chunk === void 0))
                  return;
                else if (!state.objectMode && (!chunk || !chunk.length))
                  return;
                var ret = _this.push(chunk);
                if (!ret) {
                  paused = true;
                  stream.pause();
                }
              });
              for (var i3 in stream) {
                if (this[i3] === void 0 && typeof stream[i3] === "function") {
                  this[i3] = function(method) {
                    return function() {
                      return stream[method].apply(stream, arguments);
                    };
                  }(i3);
                }
              }
              for (var n2 = 0; n2 < kProxyEvents.length; n2++) {
                stream.on(kProxyEvents[n2], this.emit.bind(this, kProxyEvents[n2]));
              }
              this._read = function(n3) {
                debug("wrapped _read", n3);
                if (paused) {
                  paused = false;
                  stream.resume();
                }
              };
              return this;
            };
            Object.defineProperty(Readable.prototype, "readableHighWaterMark", {
              enumerable: false,
              get: function() {
                return this._readableState.highWaterMark;
              }
            });
            Readable._fromList = fromList;
            function fromList(n2, state) {
              if (state.length === 0)
                return null;
              var ret;
              if (state.objectMode)
                ret = state.buffer.shift();
              else if (!n2 || n2 >= state.length) {
                if (state.decoder)
                  ret = state.buffer.join("");
                else if (state.buffer.length === 1)
                  ret = state.buffer.head.data;
                else
                  ret = state.buffer.concat(state.length);
                state.buffer.clear();
              } else {
                ret = fromListPartial(n2, state.buffer, state.decoder);
              }
              return ret;
            }
            function fromListPartial(n2, list, hasStrings) {
              var ret;
              if (n2 < list.head.data.length) {
                ret = list.head.data.slice(0, n2);
                list.head.data = list.head.data.slice(n2);
              } else if (n2 === list.head.data.length) {
                ret = list.shift();
              } else {
                ret = hasStrings ? copyFromBufferString(n2, list) : copyFromBuffer(n2, list);
              }
              return ret;
            }
            function copyFromBufferString(n2, list) {
              var p2 = list.head;
              var c3 = 1;
              var ret = p2.data;
              n2 -= ret.length;
              while (p2 = p2.next) {
                var str = p2.data;
                var nb = n2 > str.length ? str.length : n2;
                if (nb === str.length)
                  ret += str;
                else
                  ret += str.slice(0, n2);
                n2 -= nb;
                if (n2 === 0) {
                  if (nb === str.length) {
                    ++c3;
                    if (p2.next)
                      list.head = p2.next;
                    else
                      list.head = list.tail = null;
                  } else {
                    list.head = p2;
                    p2.data = str.slice(nb);
                  }
                  break;
                }
                ++c3;
              }
              list.length -= c3;
              return ret;
            }
            function copyFromBuffer(n2, list) {
              var ret = Buffer2.allocUnsafe(n2);
              var p2 = list.head;
              var c3 = 1;
              p2.data.copy(ret);
              n2 -= p2.data.length;
              while (p2 = p2.next) {
                var buf = p2.data;
                var nb = n2 > buf.length ? buf.length : n2;
                buf.copy(ret, ret.length - n2, 0, nb);
                n2 -= nb;
                if (n2 === 0) {
                  if (nb === buf.length) {
                    ++c3;
                    if (p2.next)
                      list.head = p2.next;
                    else
                      list.head = list.tail = null;
                  } else {
                    list.head = p2;
                    p2.data = buf.slice(nb);
                  }
                  break;
                }
                ++c3;
              }
              list.length -= c3;
              return ret;
            }
            function endReadable(stream) {
              var state = stream._readableState;
              if (state.length > 0)
                throw new Error('"endReadable()" called on non-empty stream');
              if (!state.endEmitted) {
                state.ended = true;
                pna.nextTick(endReadableNT, state, stream);
              }
            }
            function endReadableNT(state, stream) {
              if (!state.endEmitted && state.length === 0) {
                state.endEmitted = true;
                stream.readable = false;
                stream.emit("end");
              }
            }
            function indexOf(xs, x3) {
              for (var i3 = 0, l3 = xs.length; i3 < l3; i3++) {
                if (xs[i3] === x3)
                  return i3;
              }
              return -1;
            }
          }).call(this, __webpack_require__("./node_modules/webpack/buildin/global.js"), __webpack_require__("./node_modules/process/browser.js"));
        },
        "./node_modules/readable-stream/lib/_stream_transform.js": function(module3, exports3, __webpack_require__) {
          "use strict";
          module3.exports = Transform;
          var Duplex = __webpack_require__("./node_modules/readable-stream/lib/_stream_duplex.js");
          var util = __webpack_require__("./node_modules/core-util-is/lib/util.js");
          util.inherits = __webpack_require__("./node_modules/inherits/inherits_browser.js");
          util.inherits(Transform, Duplex);
          function afterTransform(er, data) {
            var ts = this._transformState;
            ts.transforming = false;
            var cb = ts.writecb;
            if (!cb) {
              return this.emit("error", new Error("write callback called multiple times"));
            }
            ts.writechunk = null;
            ts.writecb = null;
            if (data != null)
              this.push(data);
            cb(er);
            var rs = this._readableState;
            rs.reading = false;
            if (rs.needReadable || rs.length < rs.highWaterMark) {
              this._read(rs.highWaterMark);
            }
          }
          function Transform(options) {
            if (!(this instanceof Transform))
              return new Transform(options);
            Duplex.call(this, options);
            this._transformState = {
              afterTransform: afterTransform.bind(this),
              needTransform: false,
              transforming: false,
              writecb: null,
              writechunk: null,
              writeencoding: null
            };
            this._readableState.needReadable = true;
            this._readableState.sync = false;
            if (options) {
              if (typeof options.transform === "function")
                this._transform = options.transform;
              if (typeof options.flush === "function")
                this._flush = options.flush;
            }
            this.on("prefinish", prefinish);
          }
          function prefinish() {
            var _this = this;
            if (typeof this._flush === "function") {
              this._flush(function(er, data) {
                done(_this, er, data);
              });
            } else {
              done(this, null, null);
            }
          }
          Transform.prototype.push = function(chunk, encoding) {
            this._transformState.needTransform = false;
            return Duplex.prototype.push.call(this, chunk, encoding);
          };
          Transform.prototype._transform = function(chunk, encoding, cb) {
            throw new Error("_transform() is not implemented");
          };
          Transform.prototype._write = function(chunk, encoding, cb) {
            var ts = this._transformState;
            ts.writecb = cb;
            ts.writechunk = chunk;
            ts.writeencoding = encoding;
            if (!ts.transforming) {
              var rs = this._readableState;
              if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark)
                this._read(rs.highWaterMark);
            }
          };
          Transform.prototype._read = function(n2) {
            var ts = this._transformState;
            if (ts.writechunk !== null && ts.writecb && !ts.transforming) {
              ts.transforming = true;
              this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);
            } else {
              ts.needTransform = true;
            }
          };
          Transform.prototype._destroy = function(err, cb) {
            var _this2 = this;
            Duplex.prototype._destroy.call(this, err, function(err2) {
              cb(err2);
              _this2.emit("close");
            });
          };
          function done(stream, er, data) {
            if (er)
              return stream.emit("error", er);
            if (data != null)
              stream.push(data);
            if (stream._writableState.length)
              throw new Error("Calling transform done when ws.length != 0");
            if (stream._transformState.transforming)
              throw new Error("Calling transform done when still transforming");
            return stream.push(null);
          }
        },
        "./node_modules/readable-stream/lib/_stream_writable.js": function(module3, exports3, __webpack_require__) {
          "use strict";
          (function(process2, setImmediate, global2) {
            var pna = __webpack_require__("./node_modules/process-nextick-args/index.js");
            module3.exports = Writable;
            function WriteReq(chunk, encoding, cb) {
              this.chunk = chunk;
              this.encoding = encoding;
              this.callback = cb;
              this.next = null;
            }
            function CorkedRequest(state) {
              var _this = this;
              this.next = null;
              this.entry = null;
              this.finish = function() {
                onCorkedFinish(_this, state);
              };
            }
            var asyncWrite = !process2.browser && ["v0.10", "v0.9."].indexOf(process2.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;
            var Duplex;
            Writable.WritableState = WritableState;
            var util = __webpack_require__("./node_modules/core-util-is/lib/util.js");
            util.inherits = __webpack_require__("./node_modules/inherits/inherits_browser.js");
            var internalUtil = {
              deprecate: __webpack_require__("./node_modules/util-deprecate/browser.js")
            };
            var Stream = __webpack_require__("./node_modules/readable-stream/lib/internal/streams/stream-browser.js");
            var Buffer2 = __webpack_require__("./node_modules/safe-buffer/index.js").Buffer;
            var OurUint8Array = global2.Uint8Array || function() {
            };
            function _uint8ArrayToBuffer(chunk) {
              return Buffer2.from(chunk);
            }
            function _isUint8Array(obj) {
              return Buffer2.isBuffer(obj) || obj instanceof OurUint8Array;
            }
            var destroyImpl = __webpack_require__("./node_modules/readable-stream/lib/internal/streams/destroy.js");
            util.inherits(Writable, Stream);
            function nop() {
            }
            function WritableState(options, stream) {
              Duplex = Duplex || __webpack_require__("./node_modules/readable-stream/lib/_stream_duplex.js");
              options = options || {};
              var isDuplex = stream instanceof Duplex;
              this.objectMode = !!options.objectMode;
              if (isDuplex)
                this.objectMode = this.objectMode || !!options.writableObjectMode;
              var hwm = options.highWaterMark;
              var writableHwm = options.writableHighWaterMark;
              var defaultHwm = this.objectMode ? 16 : 16 * 1024;
              if (hwm || hwm === 0)
                this.highWaterMark = hwm;
              else if (isDuplex && (writableHwm || writableHwm === 0))
                this.highWaterMark = writableHwm;
              else
                this.highWaterMark = defaultHwm;
              this.highWaterMark = Math.floor(this.highWaterMark);
              this.finalCalled = false;
              this.needDrain = false;
              this.ending = false;
              this.ended = false;
              this.finished = false;
              this.destroyed = false;
              var noDecode = options.decodeStrings === false;
              this.decodeStrings = !noDecode;
              this.defaultEncoding = options.defaultEncoding || "utf8";
              this.length = 0;
              this.writing = false;
              this.corked = 0;
              this.sync = true;
              this.bufferProcessing = false;
              this.onwrite = function(er) {
                onwrite(stream, er);
              };
              this.writecb = null;
              this.writelen = 0;
              this.bufferedRequest = null;
              this.lastBufferedRequest = null;
              this.pendingcb = 0;
              this.prefinished = false;
              this.errorEmitted = false;
              this.bufferedRequestCount = 0;
              this.corkedRequestsFree = new CorkedRequest(this);
            }
            WritableState.prototype.getBuffer = function getBuffer() {
              var current = this.bufferedRequest;
              var out = [];
              while (current) {
                out.push(current);
                current = current.next;
              }
              return out;
            };
            (function() {
              try {
                Object.defineProperty(WritableState.prototype, "buffer", {
                  get: internalUtil.deprecate(function() {
                    return this.getBuffer();
                  }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003")
                });
              } catch (_2) {
              }
            })();
            var realHasInstance;
            if (typeof Symbol === "function" && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === "function") {
              realHasInstance = Function.prototype[Symbol.hasInstance];
              Object.defineProperty(Writable, Symbol.hasInstance, {
                value: function(object) {
                  if (realHasInstance.call(this, object))
                    return true;
                  if (this !== Writable)
                    return false;
                  return object && object._writableState instanceof WritableState;
                }
              });
            } else {
              realHasInstance = function(object) {
                return object instanceof this;
              };
            }
            function Writable(options) {
              Duplex = Duplex || __webpack_require__("./node_modules/readable-stream/lib/_stream_duplex.js");
              if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {
                return new Writable(options);
              }
              this._writableState = new WritableState(options, this);
              this.writable = true;
              if (options) {
                if (typeof options.write === "function")
                  this._write = options.write;
                if (typeof options.writev === "function")
                  this._writev = options.writev;
                if (typeof options.destroy === "function")
                  this._destroy = options.destroy;
                if (typeof options.final === "function")
                  this._final = options.final;
              }
              Stream.call(this);
            }
            Writable.prototype.pipe = function() {
              this.emit("error", new Error("Cannot pipe, not readable"));
            };
            function writeAfterEnd(stream, cb) {
              var er = new Error("write after end");
              stream.emit("error", er);
              pna.nextTick(cb, er);
            }
            function validChunk(stream, state, chunk, cb) {
              var valid = true;
              var er = false;
              if (chunk === null) {
                er = new TypeError("May not write null values to stream");
              } else if (typeof chunk !== "string" && chunk !== void 0 && !state.objectMode) {
                er = new TypeError("Invalid non-string/buffer chunk");
              }
              if (er) {
                stream.emit("error", er);
                pna.nextTick(cb, er);
                valid = false;
              }
              return valid;
            }
            Writable.prototype.write = function(chunk, encoding, cb) {
              var state = this._writableState;
              var ret = false;
              var isBuf = !state.objectMode && _isUint8Array(chunk);
              if (isBuf && !Buffer2.isBuffer(chunk)) {
                chunk = _uint8ArrayToBuffer(chunk);
              }
              if (typeof encoding === "function") {
                cb = encoding;
                encoding = null;
              }
              if (isBuf)
                encoding = "buffer";
              else if (!encoding)
                encoding = state.defaultEncoding;
              if (typeof cb !== "function")
                cb = nop;
              if (state.ended)
                writeAfterEnd(this, cb);
              else if (isBuf || validChunk(this, state, chunk, cb)) {
                state.pendingcb++;
                ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);
              }
              return ret;
            };
            Writable.prototype.cork = function() {
              var state = this._writableState;
              state.corked++;
            };
            Writable.prototype.uncork = function() {
              var state = this._writableState;
              if (state.corked) {
                state.corked--;
                if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest)
                  clearBuffer(this, state);
              }
            };
            Writable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {
              if (typeof encoding === "string")
                encoding = encoding.toLowerCase();
              if (!(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((encoding + "").toLowerCase()) > -1))
                throw new TypeError("Unknown encoding: " + encoding);
              this._writableState.defaultEncoding = encoding;
              return this;
            };
            function decodeChunk(state, chunk, encoding) {
              if (!state.objectMode && state.decodeStrings !== false && typeof chunk === "string") {
                chunk = Buffer2.from(chunk, encoding);
              }
              return chunk;
            }
            Object.defineProperty(Writable.prototype, "writableHighWaterMark", {
              enumerable: false,
              get: function() {
                return this._writableState.highWaterMark;
              }
            });
            function writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {
              if (!isBuf) {
                var newChunk = decodeChunk(state, chunk, encoding);
                if (chunk !== newChunk) {
                  isBuf = true;
                  encoding = "buffer";
                  chunk = newChunk;
                }
              }
              var len = state.objectMode ? 1 : chunk.length;
              state.length += len;
              var ret = state.length < state.highWaterMark;
              if (!ret)
                state.needDrain = true;
              if (state.writing || state.corked) {
                var last = state.lastBufferedRequest;
                state.lastBufferedRequest = {
                  chunk,
                  encoding,
                  isBuf,
                  callback: cb,
                  next: null
                };
                if (last) {
                  last.next = state.lastBufferedRequest;
                } else {
                  state.bufferedRequest = state.lastBufferedRequest;
                }
                state.bufferedRequestCount += 1;
              } else {
                doWrite(stream, state, false, len, chunk, encoding, cb);
              }
              return ret;
            }
            function doWrite(stream, state, writev, len, chunk, encoding, cb) {
              state.writelen = len;
              state.writecb = cb;
              state.writing = true;
              state.sync = true;
              if (writev)
                stream._writev(chunk, state.onwrite);
              else
                stream._write(chunk, encoding, state.onwrite);
              state.sync = false;
            }
            function onwriteError(stream, state, sync, er, cb) {
              --state.pendingcb;
              if (sync) {
                pna.nextTick(cb, er);
                pna.nextTick(finishMaybe, stream, state);
                stream._writableState.errorEmitted = true;
                stream.emit("error", er);
              } else {
                cb(er);
                stream._writableState.errorEmitted = true;
                stream.emit("error", er);
                finishMaybe(stream, state);
              }
            }
            function onwriteStateUpdate(state) {
              state.writing = false;
              state.writecb = null;
              state.length -= state.writelen;
              state.writelen = 0;
            }
            function onwrite(stream, er) {
              var state = stream._writableState;
              var sync = state.sync;
              var cb = state.writecb;
              onwriteStateUpdate(state);
              if (er)
                onwriteError(stream, state, sync, er, cb);
              else {
                var finished = needFinish(state);
                if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {
                  clearBuffer(stream, state);
                }
                if (sync) {
                  asyncWrite(afterWrite, stream, state, finished, cb);
                } else {
                  afterWrite(stream, state, finished, cb);
                }
              }
            }
            function afterWrite(stream, state, finished, cb) {
              if (!finished)
                onwriteDrain(stream, state);
              state.pendingcb--;
              cb();
              finishMaybe(stream, state);
            }
            function onwriteDrain(stream, state) {
              if (state.length === 0 && state.needDrain) {
                state.needDrain = false;
                stream.emit("drain");
              }
            }
            function clearBuffer(stream, state) {
              state.bufferProcessing = true;
              var entry = state.bufferedRequest;
              if (stream._writev && entry && entry.next) {
                var l3 = state.bufferedRequestCount;
                var buffer = new Array(l3);
                var holder = state.corkedRequestsFree;
                holder.entry = entry;
                var count = 0;
                var allBuffers = true;
                while (entry) {
                  buffer[count] = entry;
                  if (!entry.isBuf)
                    allBuffers = false;
                  entry = entry.next;
                  count += 1;
                }
                buffer.allBuffers = allBuffers;
                doWrite(stream, state, true, state.length, buffer, "", holder.finish);
                state.pendingcb++;
                state.lastBufferedRequest = null;
                if (holder.next) {
                  state.corkedRequestsFree = holder.next;
                  holder.next = null;
                } else {
                  state.corkedRequestsFree = new CorkedRequest(state);
                }
                state.bufferedRequestCount = 0;
              } else {
                while (entry) {
                  var chunk = entry.chunk;
                  var encoding = entry.encoding;
                  var cb = entry.callback;
                  var len = state.objectMode ? 1 : chunk.length;
                  doWrite(stream, state, false, len, chunk, encoding, cb);
                  entry = entry.next;
                  state.bufferedRequestCount--;
                  if (state.writing) {
                    break;
                  }
                }
                if (entry === null)
                  state.lastBufferedRequest = null;
              }
              state.bufferedRequest = entry;
              state.bufferProcessing = false;
            }
            Writable.prototype._write = function(chunk, encoding, cb) {
              cb(new Error("_write() is not implemented"));
            };
            Writable.prototype._writev = null;
            Writable.prototype.end = function(chunk, encoding, cb) {
              var state = this._writableState;
              if (typeof chunk === "function") {
                cb = chunk;
                chunk = null;
                encoding = null;
              } else if (typeof encoding === "function") {
                cb = encoding;
                encoding = null;
              }
              if (chunk !== null && chunk !== void 0)
                this.write(chunk, encoding);
              if (state.corked) {
                state.corked = 1;
                this.uncork();
              }
              if (!state.ending && !state.finished)
                endWritable(this, state, cb);
            };
            function needFinish(state) {
              return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;
            }
            function callFinal(stream, state) {
              stream._final(function(err) {
                state.pendingcb--;
                if (err) {
                  stream.emit("error", err);
                }
                state.prefinished = true;
                stream.emit("prefinish");
                finishMaybe(stream, state);
              });
            }
            function prefinish(stream, state) {
              if (!state.prefinished && !state.finalCalled) {
                if (typeof stream._final === "function") {
                  state.pendingcb++;
                  state.finalCalled = true;
                  pna.nextTick(callFinal, stream, state);
                } else {
                  state.prefinished = true;
                  stream.emit("prefinish");
                }
              }
            }
            function finishMaybe(stream, state) {
              var need = needFinish(state);
              if (need) {
                prefinish(stream, state);
                if (state.pendingcb === 0) {
                  state.finished = true;
                  stream.emit("finish");
                }
              }
              return need;
            }
            function endWritable(stream, state, cb) {
              state.ending = true;
              finishMaybe(stream, state);
              if (cb) {
                if (state.finished)
                  pna.nextTick(cb);
                else
                  stream.once("finish", cb);
              }
              state.ended = true;
              stream.writable = false;
            }
            function onCorkedFinish(corkReq, state, err) {
              var entry = corkReq.entry;
              corkReq.entry = null;
              while (entry) {
                var cb = entry.callback;
                state.pendingcb--;
                cb(err);
                entry = entry.next;
              }
              if (state.corkedRequestsFree) {
                state.corkedRequestsFree.next = corkReq;
              } else {
                state.corkedRequestsFree = corkReq;
              }
            }
            Object.defineProperty(Writable.prototype, "destroyed", {
              get: function() {
                if (this._writableState === void 0) {
                  return false;
                }
                return this._writableState.destroyed;
              },
              set: function(value) {
                if (!this._writableState) {
                  return;
                }
                this._writableState.destroyed = value;
              }
            });
            Writable.prototype.destroy = destroyImpl.destroy;
            Writable.prototype._undestroy = destroyImpl.undestroy;
            Writable.prototype._destroy = function(err, cb) {
              this.end();
              cb(err);
            };
          }).call(this, __webpack_require__("./node_modules/process/browser.js"), __webpack_require__("./node_modules/node-libs-browser/node_modules/timers-browserify/main.js").setImmediate, __webpack_require__("./node_modules/webpack/buildin/global.js"));
        },
        "./node_modules/readable-stream/lib/internal/streams/BufferList.js": function(module3, exports3, __webpack_require__) {
          "use strict";
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var Buffer2 = __webpack_require__("./node_modules/safe-buffer/index.js").Buffer;
          var util = __webpack_require__(1);
          function copyBuffer(src, target, offset) {
            src.copy(target, offset);
          }
          module3.exports = function() {
            function BufferList() {
              _classCallCheck2(this, BufferList);
              this.head = null;
              this.tail = null;
              this.length = 0;
            }
            BufferList.prototype.push = function push(v) {
              var entry = { data: v, next: null };
              if (this.length > 0)
                this.tail.next = entry;
              else
                this.head = entry;
              this.tail = entry;
              ++this.length;
            };
            BufferList.prototype.unshift = function unshift(v) {
              var entry = { data: v, next: this.head };
              if (this.length === 0)
                this.tail = entry;
              this.head = entry;
              ++this.length;
            };
            BufferList.prototype.shift = function shift() {
              if (this.length === 0)
                return;
              var ret = this.head.data;
              if (this.length === 1)
                this.head = this.tail = null;
              else
                this.head = this.head.next;
              --this.length;
              return ret;
            };
            BufferList.prototype.clear = function clear() {
              this.head = this.tail = null;
              this.length = 0;
            };
            BufferList.prototype.join = function join2(s3) {
              if (this.length === 0)
                return "";
              var p2 = this.head;
              var ret = "" + p2.data;
              while (p2 = p2.next) {
                ret += s3 + p2.data;
              }
              return ret;
            };
            BufferList.prototype.concat = function concat(n2) {
              if (this.length === 0)
                return Buffer2.alloc(0);
              if (this.length === 1)
                return this.head.data;
              var ret = Buffer2.allocUnsafe(n2 >>> 0);
              var p2 = this.head;
              var i3 = 0;
              while (p2) {
                copyBuffer(p2.data, ret, i3);
                i3 += p2.data.length;
                p2 = p2.next;
              }
              return ret;
            };
            return BufferList;
          }();
          if (util && util.inspect && util.inspect.custom) {
            module3.exports.prototype[util.inspect.custom] = function() {
              var obj = util.inspect({ length: this.length });
              return this.constructor.name + " " + obj;
            };
          }
        },
        "./node_modules/readable-stream/lib/internal/streams/destroy.js": function(module3, exports3, __webpack_require__) {
          "use strict";
          var pna = __webpack_require__("./node_modules/process-nextick-args/index.js");
          function destroy(err, cb) {
            var _this = this;
            var readableDestroyed = this._readableState && this._readableState.destroyed;
            var writableDestroyed = this._writableState && this._writableState.destroyed;
            if (readableDestroyed || writableDestroyed) {
              if (cb) {
                cb(err);
              } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {
                pna.nextTick(emitErrorNT, this, err);
              }
              return this;
            }
            if (this._readableState) {
              this._readableState.destroyed = true;
            }
            if (this._writableState) {
              this._writableState.destroyed = true;
            }
            this._destroy(err || null, function(err2) {
              if (!cb && err2) {
                pna.nextTick(emitErrorNT, _this, err2);
                if (_this._writableState) {
                  _this._writableState.errorEmitted = true;
                }
              } else if (cb) {
                cb(err2);
              }
            });
            return this;
          }
          function undestroy() {
            if (this._readableState) {
              this._readableState.destroyed = false;
              this._readableState.reading = false;
              this._readableState.ended = false;
              this._readableState.endEmitted = false;
            }
            if (this._writableState) {
              this._writableState.destroyed = false;
              this._writableState.ended = false;
              this._writableState.ending = false;
              this._writableState.finished = false;
              this._writableState.errorEmitted = false;
            }
          }
          function emitErrorNT(self2, err) {
            self2.emit("error", err);
          }
          module3.exports = {
            destroy,
            undestroy
          };
        },
        "./node_modules/readable-stream/lib/internal/streams/stream-browser.js": function(module3, exports3, __webpack_require__) {
          module3.exports = __webpack_require__("./node_modules/node-libs-browser/node_modules/events/events.js").EventEmitter;
        },
        "./node_modules/readable-stream/passthrough.js": function(module3, exports3, __webpack_require__) {
          module3.exports = __webpack_require__("./node_modules/readable-stream/readable-browser.js").PassThrough;
        },
        "./node_modules/readable-stream/readable-browser.js": function(module3, exports3, __webpack_require__) {
          exports3 = module3.exports = __webpack_require__("./node_modules/readable-stream/lib/_stream_readable.js");
          exports3.Stream = exports3;
          exports3.Readable = exports3;
          exports3.Writable = __webpack_require__("./node_modules/readable-stream/lib/_stream_writable.js");
          exports3.Duplex = __webpack_require__("./node_modules/readable-stream/lib/_stream_duplex.js");
          exports3.Transform = __webpack_require__("./node_modules/readable-stream/lib/_stream_transform.js");
          exports3.PassThrough = __webpack_require__("./node_modules/readable-stream/lib/_stream_passthrough.js");
        },
        "./node_modules/readable-stream/transform.js": function(module3, exports3, __webpack_require__) {
          module3.exports = __webpack_require__("./node_modules/readable-stream/readable-browser.js").Transform;
        },
        "./node_modules/readable-stream/writable-browser.js": function(module3, exports3, __webpack_require__) {
          module3.exports = __webpack_require__("./node_modules/readable-stream/lib/_stream_writable.js");
        },
        "./node_modules/safe-buffer/index.js": function(module3, exports3, __webpack_require__) {
          var buffer = __webpack_require__("./node_modules/node-libs-browser/node_modules/buffer/index.js");
          var Buffer2 = buffer.Buffer;
          function copyProps(src, dst) {
            for (var key in src) {
              dst[key] = src[key];
            }
          }
          if (Buffer2.from && Buffer2.alloc && Buffer2.allocUnsafe && Buffer2.allocUnsafeSlow) {
            module3.exports = buffer;
          } else {
            copyProps(buffer, exports3);
            exports3.Buffer = SafeBuffer;
          }
          function SafeBuffer(arg, encodingOrOffset, length) {
            return Buffer2(arg, encodingOrOffset, length);
          }
          copyProps(Buffer2, SafeBuffer);
          SafeBuffer.from = function(arg, encodingOrOffset, length) {
            if (typeof arg === "number") {
              throw new TypeError("Argument must not be a number");
            }
            return Buffer2(arg, encodingOrOffset, length);
          };
          SafeBuffer.alloc = function(size, fill, encoding) {
            if (typeof size !== "number") {
              throw new TypeError("Argument must be a number");
            }
            var buf = Buffer2(size);
            if (fill !== void 0) {
              if (typeof encoding === "string") {
                buf.fill(fill, encoding);
              } else {
                buf.fill(fill);
              }
            } else {
              buf.fill(0);
            }
            return buf;
          };
          SafeBuffer.allocUnsafe = function(size) {
            if (typeof size !== "number") {
              throw new TypeError("Argument must be a number");
            }
            return Buffer2(size);
          };
          SafeBuffer.allocUnsafeSlow = function(size) {
            if (typeof size !== "number") {
              throw new TypeError("Argument must be a number");
            }
            return buffer.SlowBuffer(size);
          };
        },
        "./node_modules/sax/lib/sax.js": function(module3, exports3, __webpack_require__) {
          (function(Buffer2) {
            ;
            (function(sax2) {
              sax2.parser = function(strict, opt) {
                return new SAXParser(strict, opt);
              };
              sax2.SAXParser = SAXParser;
              sax2.SAXStream = SAXStream;
              sax2.createStream = createStream;
              sax2.MAX_BUFFER_LENGTH = 64 * 1024;
              var buffers = [
                "comment",
                "sgmlDecl",
                "textNode",
                "tagName",
                "doctype",
                "procInstName",
                "procInstBody",
                "entity",
                "attribName",
                "attribValue",
                "cdata",
                "script"
              ];
              sax2.EVENTS = [
                "text",
                "processinginstruction",
                "sgmldeclaration",
                "doctype",
                "comment",
                "opentagstart",
                "attribute",
                "opentag",
                "closetag",
                "opencdata",
                "cdata",
                "closecdata",
                "error",
                "end",
                "ready",
                "script",
                "opennamespace",
                "closenamespace"
              ];
              function SAXParser(strict, opt) {
                if (!(this instanceof SAXParser)) {
                  return new SAXParser(strict, opt);
                }
                var parser = this;
                clearBuffers(parser);
                parser.q = parser.c = "";
                parser.bufferCheckPosition = sax2.MAX_BUFFER_LENGTH;
                parser.opt = opt || {};
                parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags;
                parser.looseCase = parser.opt.lowercase ? "toLowerCase" : "toUpperCase";
                parser.tags = [];
                parser.closed = parser.closedRoot = parser.sawRoot = false;
                parser.tag = parser.error = null;
                parser.strict = !!strict;
                parser.noscript = !!(strict || parser.opt.noscript);
                parser.state = S2.BEGIN;
                parser.strictEntities = parser.opt.strictEntities;
                parser.ENTITIES = parser.strictEntities ? Object.create(sax2.XML_ENTITIES) : Object.create(sax2.ENTITIES);
                parser.attribList = [];
                if (parser.opt.xmlns) {
                  parser.ns = Object.create(rootNS);
                }
                parser.trackPosition = parser.opt.position !== false;
                if (parser.trackPosition) {
                  parser.position = parser.line = parser.column = 0;
                }
                emit(parser, "onready");
              }
              if (!Object.create) {
                Object.create = function(o2) {
                  function F2() {
                  }
                  F2.prototype = o2;
                  var newf = new F2();
                  return newf;
                };
              }
              if (!Object.keys) {
                Object.keys = function(o2) {
                  var a4 = [];
                  for (var i3 in o2)
                    if (o2.hasOwnProperty(i3))
                      a4.push(i3);
                  return a4;
                };
              }
              function checkBufferLength(parser) {
                var maxAllowed = Math.max(sax2.MAX_BUFFER_LENGTH, 10);
                var maxActual = 0;
                for (var i3 = 0, l3 = buffers.length; i3 < l3; i3++) {
                  var len = parser[buffers[i3]].length;
                  if (len > maxAllowed) {
                    switch (buffers[i3]) {
                      case "textNode":
                        closeText(parser);
                        break;
                      case "cdata":
                        emitNode(parser, "oncdata", parser.cdata);
                        parser.cdata = "";
                        break;
                      case "script":
                        emitNode(parser, "onscript", parser.script);
                        parser.script = "";
                        break;
                      default:
                        error(parser, "Max buffer length exceeded: " + buffers[i3]);
                    }
                  }
                  maxActual = Math.max(maxActual, len);
                }
                var m2 = sax2.MAX_BUFFER_LENGTH - maxActual;
                parser.bufferCheckPosition = m2 + parser.position;
              }
              function clearBuffers(parser) {
                for (var i3 = 0, l3 = buffers.length; i3 < l3; i3++) {
                  parser[buffers[i3]] = "";
                }
              }
              function flushBuffers(parser) {
                closeText(parser);
                if (parser.cdata !== "") {
                  emitNode(parser, "oncdata", parser.cdata);
                  parser.cdata = "";
                }
                if (parser.script !== "") {
                  emitNode(parser, "onscript", parser.script);
                  parser.script = "";
                }
              }
              SAXParser.prototype = {
                end: function() {
                  end(this);
                },
                write: write2,
                resume: function() {
                  this.error = null;
                  return this;
                },
                close: function() {
                  return this.write(null);
                },
                flush: function() {
                  flushBuffers(this);
                }
              };
              var Stream;
              try {
                Stream = __webpack_require__("./node_modules/stream-browserify/index.js").Stream;
              } catch (ex) {
                Stream = function() {
                };
              }
              var streamWraps = sax2.EVENTS.filter(function(ev) {
                return ev !== "error" && ev !== "end";
              });
              function createStream(strict, opt) {
                return new SAXStream(strict, opt);
              }
              function SAXStream(strict, opt) {
                if (!(this instanceof SAXStream)) {
                  return new SAXStream(strict, opt);
                }
                Stream.apply(this);
                this._parser = new SAXParser(strict, opt);
                this.writable = true;
                this.readable = true;
                var me = this;
                this._parser.onend = function() {
                  me.emit("end");
                };
                this._parser.onerror = function(er) {
                  me.emit("error", er);
                  me._parser.error = null;
                };
                this._decoder = null;
                streamWraps.forEach(function(ev) {
                  Object.defineProperty(me, "on" + ev, {
                    get: function() {
                      return me._parser["on" + ev];
                    },
                    set: function(h3) {
                      if (!h3) {
                        me.removeAllListeners(ev);
                        me._parser["on" + ev] = h3;
                        return h3;
                      }
                      me.on(ev, h3);
                    },
                    enumerable: true,
                    configurable: false
                  });
                });
              }
              SAXStream.prototype = Object.create(Stream.prototype, {
                constructor: {
                  value: SAXStream
                }
              });
              SAXStream.prototype.write = function(data) {
                if (typeof Buffer2 === "function" && typeof Buffer2.isBuffer === "function" && Buffer2.isBuffer(data)) {
                  if (!this._decoder) {
                    var SD = __webpack_require__("./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;
                    this._decoder = new SD("utf8");
                  }
                  data = this._decoder.write(data);
                }
                this._parser.write(data.toString());
                this.emit("data", data);
                return true;
              };
              SAXStream.prototype.end = function(chunk) {
                if (chunk && chunk.length) {
                  this.write(chunk);
                }
                this._parser.end();
                return true;
              };
              SAXStream.prototype.on = function(ev, handler) {
                var me = this;
                if (!me._parser["on" + ev] && streamWraps.indexOf(ev) !== -1) {
                  me._parser["on" + ev] = function() {
                    var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments);
                    args.splice(0, 0, ev);
                    me.emit.apply(me, args);
                  };
                }
                return Stream.prototype.on.call(me, ev, handler);
              };
              var whitespace2 = "\r\n	 ";
              var number = "0124356789";
              var letter = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
              var quote = `'"`;
              var attribEnd = whitespace2 + ">";
              var CDATA = "[CDATA[";
              var DOCTYPE = "DOCTYPE";
              var XML_NAMESPACE = "http://www.w3.org/XML/1998/namespace";
              var XMLNS_NAMESPACE = "http://www.w3.org/2000/xmlns/";
              var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE };
              whitespace2 = charClass(whitespace2);
              number = charClass(number);
              letter = charClass(letter);
              var nameStart = /[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;
              var nameBody = /[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;
              var entityStart = /[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;
              var entityBody = /[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;
              quote = charClass(quote);
              attribEnd = charClass(attribEnd);
              function charClass(str) {
                return str.split("").reduce(function(s4, c3) {
                  s4[c3] = true;
                  return s4;
                }, {});
              }
              function isRegExp(c3) {
                return Object.prototype.toString.call(c3) === "[object RegExp]";
              }
              function is(charclass, c3) {
                return isRegExp(charclass) ? !!c3.match(charclass) : charclass[c3];
              }
              function not(charclass, c3) {
                return !is(charclass, c3);
              }
              var S2 = 0;
              sax2.STATE = {
                BEGIN: S2++,
                BEGIN_WHITESPACE: S2++,
                TEXT: S2++,
                TEXT_ENTITY: S2++,
                OPEN_WAKA: S2++,
                SGML_DECL: S2++,
                SGML_DECL_QUOTED: S2++,
                DOCTYPE: S2++,
                DOCTYPE_QUOTED: S2++,
                DOCTYPE_DTD: S2++,
                DOCTYPE_DTD_QUOTED: S2++,
                COMMENT_STARTING: S2++,
                COMMENT: S2++,
                COMMENT_ENDING: S2++,
                COMMENT_ENDED: S2++,
                CDATA: S2++,
                CDATA_ENDING: S2++,
                CDATA_ENDING_2: S2++,
                PROC_INST: S2++,
                PROC_INST_BODY: S2++,
                PROC_INST_ENDING: S2++,
                OPEN_TAG: S2++,
                OPEN_TAG_SLASH: S2++,
                ATTRIB: S2++,
                ATTRIB_NAME: S2++,
                ATTRIB_NAME_SAW_WHITE: S2++,
                ATTRIB_VALUE: S2++,
                ATTRIB_VALUE_QUOTED: S2++,
                ATTRIB_VALUE_CLOSED: S2++,
                ATTRIB_VALUE_UNQUOTED: S2++,
                ATTRIB_VALUE_ENTITY_Q: S2++,
                ATTRIB_VALUE_ENTITY_U: S2++,
                CLOSE_TAG: S2++,
                CLOSE_TAG_SAW_WHITE: S2++,
                SCRIPT: S2++,
                SCRIPT_ENDING: S2++
              };
              sax2.XML_ENTITIES = {
                "amp": "&",
                "gt": ">",
                "lt": "<",
                "quot": '"',
                "apos": "'"
              };
              sax2.ENTITIES = {
                "amp": "&",
                "gt": ">",
                "lt": "<",
                "quot": '"',
                "apos": "'",
                "AElig": 198,
                "Aacute": 193,
                "Acirc": 194,
                "Agrave": 192,
                "Aring": 197,
                "Atilde": 195,
                "Auml": 196,
                "Ccedil": 199,
                "ETH": 208,
                "Eacute": 201,
                "Ecirc": 202,
                "Egrave": 200,
                "Euml": 203,
                "Iacute": 205,
                "Icirc": 206,
                "Igrave": 204,
                "Iuml": 207,
                "Ntilde": 209,
                "Oacute": 211,
                "Ocirc": 212,
                "Ograve": 210,
                "Oslash": 216,
                "Otilde": 213,
                "Ouml": 214,
                "THORN": 222,
                "Uacute": 218,
                "Ucirc": 219,
                "Ugrave": 217,
                "Uuml": 220,
                "Yacute": 221,
                "aacute": 225,
                "acirc": 226,
                "aelig": 230,
                "agrave": 224,
                "aring": 229,
                "atilde": 227,
                "auml": 228,
                "ccedil": 231,
                "eacute": 233,
                "ecirc": 234,
                "egrave": 232,
                "eth": 240,
                "euml": 235,
                "iacute": 237,
                "icirc": 238,
                "igrave": 236,
                "iuml": 239,
                "ntilde": 241,
                "oacute": 243,
                "ocirc": 244,
                "ograve": 242,
                "oslash": 248,
                "otilde": 245,
                "ouml": 246,
                "szlig": 223,
                "thorn": 254,
                "uacute": 250,
                "ucirc": 251,
                "ugrave": 249,
                "uuml": 252,
                "yacute": 253,
                "yuml": 255,
                "copy": 169,
                "reg": 174,
                "nbsp": 160,
                "iexcl": 161,
                "cent": 162,
                "pound": 163,
                "curren": 164,
                "yen": 165,
                "brvbar": 166,
                "sect": 167,
                "uml": 168,
                "ordf": 170,
                "laquo": 171,
                "not": 172,
                "shy": 173,
                "macr": 175,
                "deg": 176,
                "plusmn": 177,
                "sup1": 185,
                "sup2": 178,
                "sup3": 179,
                "acute": 180,
                "micro": 181,
                "para": 182,
                "middot": 183,
                "cedil": 184,
                "ordm": 186,
                "raquo": 187,
                "frac14": 188,
                "frac12": 189,
                "frac34": 190,
                "iquest": 191,
                "times": 215,
                "divide": 247,
                "OElig": 338,
                "oelig": 339,
                "Scaron": 352,
                "scaron": 353,
                "Yuml": 376,
                "fnof": 402,
                "circ": 710,
                "tilde": 732,
                "Alpha": 913,
                "Beta": 914,
                "Gamma": 915,
                "Delta": 916,
                "Epsilon": 917,
                "Zeta": 918,
                "Eta": 919,
                "Theta": 920,
                "Iota": 921,
                "Kappa": 922,
                "Lambda": 923,
                "Mu": 924,
                "Nu": 925,
                "Xi": 926,
                "Omicron": 927,
                "Pi": 928,
                "Rho": 929,
                "Sigma": 931,
                "Tau": 932,
                "Upsilon": 933,
                "Phi": 934,
                "Chi": 935,
                "Psi": 936,
                "Omega": 937,
                "alpha": 945,
                "beta": 946,
                "gamma": 947,
                "delta": 948,
                "epsilon": 949,
                "zeta": 950,
                "eta": 951,
                "theta": 952,
                "iota": 953,
                "kappa": 954,
                "lambda": 955,
                "mu": 956,
                "nu": 957,
                "xi": 958,
                "omicron": 959,
                "pi": 960,
                "rho": 961,
                "sigmaf": 962,
                "sigma": 963,
                "tau": 964,
                "upsilon": 965,
                "phi": 966,
                "chi": 967,
                "psi": 968,
                "omega": 969,
                "thetasym": 977,
                "upsih": 978,
                "piv": 982,
                "ensp": 8194,
                "emsp": 8195,
                "thinsp": 8201,
                "zwnj": 8204,
                "zwj": 8205,
                "lrm": 8206,
                "rlm": 8207,
                "ndash": 8211,
                "mdash": 8212,
                "lsquo": 8216,
                "rsquo": 8217,
                "sbquo": 8218,
                "ldquo": 8220,
                "rdquo": 8221,
                "bdquo": 8222,
                "dagger": 8224,
                "Dagger": 8225,
                "bull": 8226,
                "hellip": 8230,
                "permil": 8240,
                "prime": 8242,
                "Prime": 8243,
                "lsaquo": 8249,
                "rsaquo": 8250,
                "oline": 8254,
                "frasl": 8260,
                "euro": 8364,
                "image": 8465,
                "weierp": 8472,
                "real": 8476,
                "trade": 8482,
                "alefsym": 8501,
                "larr": 8592,
                "uarr": 8593,
                "rarr": 8594,
                "darr": 8595,
                "harr": 8596,
                "crarr": 8629,
                "lArr": 8656,
                "uArr": 8657,
                "rArr": 8658,
                "dArr": 8659,
                "hArr": 8660,
                "forall": 8704,
                "part": 8706,
                "exist": 8707,
                "empty": 8709,
                "nabla": 8711,
                "isin": 8712,
                "notin": 8713,
                "ni": 8715,
                "prod": 8719,
                "sum": 8721,
                "minus": 8722,
                "lowast": 8727,
                "radic": 8730,
                "prop": 8733,
                "infin": 8734,
                "ang": 8736,
                "and": 8743,
                "or": 8744,
                "cap": 8745,
                "cup": 8746,
                "int": 8747,
                "there4": 8756,
                "sim": 8764,
                "cong": 8773,
                "asymp": 8776,
                "ne": 8800,
                "equiv": 8801,
                "le": 8804,
                "ge": 8805,
                "sub": 8834,
                "sup": 8835,
                "nsub": 8836,
                "sube": 8838,
                "supe": 8839,
                "oplus": 8853,
                "otimes": 8855,
                "perp": 8869,
                "sdot": 8901,
                "lceil": 8968,
                "rceil": 8969,
                "lfloor": 8970,
                "rfloor": 8971,
                "lang": 9001,
                "rang": 9002,
                "loz": 9674,
                "spades": 9824,
                "clubs": 9827,
                "hearts": 9829,
                "diams": 9830
              };
              Object.keys(sax2.ENTITIES).forEach(function(key) {
                var e = sax2.ENTITIES[key];
                var s4 = typeof e === "number" ? String.fromCharCode(e) : e;
                sax2.ENTITIES[key] = s4;
              });
              for (var s3 in sax2.STATE) {
                sax2.STATE[sax2.STATE[s3]] = s3;
              }
              S2 = sax2.STATE;
              function emit(parser, event, data) {
                parser[event] && parser[event](data);
              }
              function emitNode(parser, nodeType, data) {
                if (parser.textNode)
                  closeText(parser);
                emit(parser, nodeType, data);
              }
              function closeText(parser) {
                parser.textNode = textopts(parser.opt, parser.textNode);
                if (parser.textNode)
                  emit(parser, "ontext", parser.textNode);
                parser.textNode = "";
              }
              function textopts(opt, text) {
                if (opt.trim)
                  text = text.trim();
                if (opt.normalize)
                  text = text.replace(/\s+/g, " ");
                return text;
              }
              function error(parser, er) {
                closeText(parser);
                if (parser.trackPosition) {
                  er += "\nLine: " + parser.line + "\nColumn: " + parser.column + "\nChar: " + parser.c;
                }
                er = new Error(er);
                parser.error = er;
                emit(parser, "onerror", er);
                return parser;
              }
              function end(parser) {
                if (parser.sawRoot && !parser.closedRoot)
                  strictFail(parser, "Unclosed root tag");
                if (parser.state !== S2.BEGIN && parser.state !== S2.BEGIN_WHITESPACE && parser.state !== S2.TEXT) {
                  error(parser, "Unexpected end");
                }
                closeText(parser);
                parser.c = "";
                parser.closed = true;
                emit(parser, "onend");
                SAXParser.call(parser, parser.strict, parser.opt);
                return parser;
              }
              function strictFail(parser, message) {
                if (typeof parser !== "object" || !(parser instanceof SAXParser)) {
                  throw new Error("bad call to strictFail");
                }
                if (parser.strict) {
                  error(parser, message);
                }
              }
              function newTag(parser) {
                if (!parser.strict)
                  parser.tagName = parser.tagName[parser.looseCase]();
                var parent = parser.tags[parser.tags.length - 1] || parser;
                var tag = parser.tag = { name: parser.tagName, attributes: {} };
                if (parser.opt.xmlns) {
                  tag.ns = parent.ns;
                }
                parser.attribList.length = 0;
                emitNode(parser, "onopentagstart", tag);
              }
              function qname(name, attribute) {
                var i3 = name.indexOf(":");
                var qualName = i3 < 0 ? ["", name] : name.split(":");
                var prefix2 = qualName[0];
                var local2 = qualName[1];
                if (attribute && name === "xmlns") {
                  prefix2 = "xmlns";
                  local2 = "";
                }
                return { prefix: prefix2, local: local2 };
              }
              function attrib(parser) {
                if (!parser.strict) {
                  parser.attribName = parser.attribName[parser.looseCase]();
                }
                if (parser.attribList.indexOf(parser.attribName) !== -1 || parser.tag.attributes.hasOwnProperty(parser.attribName)) {
                  parser.attribName = parser.attribValue = "";
                  return;
                }
                if (parser.opt.xmlns) {
                  var qn = qname(parser.attribName, true);
                  var prefix2 = qn.prefix;
                  var local2 = qn.local;
                  if (prefix2 === "xmlns") {
                    if (local2 === "xml" && parser.attribValue !== XML_NAMESPACE) {
                      strictFail(parser, "xml: prefix must be bound to " + XML_NAMESPACE + "\nActual: " + parser.attribValue);
                    } else if (local2 === "xmlns" && parser.attribValue !== XMLNS_NAMESPACE) {
                      strictFail(parser, "xmlns: prefix must be bound to " + XMLNS_NAMESPACE + "\nActual: " + parser.attribValue);
                    } else {
                      var tag = parser.tag;
                      var parent = parser.tags[parser.tags.length - 1] || parser;
                      if (tag.ns === parent.ns) {
                        tag.ns = Object.create(parent.ns);
                      }
                      tag.ns[local2] = parser.attribValue;
                    }
                  }
                  parser.attribList.push([parser.attribName, parser.attribValue]);
                } else {
                  parser.tag.attributes[parser.attribName] = parser.attribValue;
                  emitNode(parser, "onattribute", {
                    name: parser.attribName,
                    value: parser.attribValue
                  });
                }
                parser.attribName = parser.attribValue = "";
              }
              function openTag(parser, selfClosing) {
                if (parser.opt.xmlns) {
                  var tag = parser.tag;
                  var qn = qname(parser.tagName);
                  tag.prefix = qn.prefix;
                  tag.local = qn.local;
                  tag.uri = tag.ns[qn.prefix] || "";
                  if (tag.prefix && !tag.uri) {
                    strictFail(parser, "Unbound namespace prefix: " + JSON.stringify(parser.tagName));
                    tag.uri = qn.prefix;
                  }
                  var parent = parser.tags[parser.tags.length - 1] || parser;
                  if (tag.ns && parent.ns !== tag.ns) {
                    Object.keys(tag.ns).forEach(function(p2) {
                      emitNode(parser, "onopennamespace", {
                        prefix: p2,
                        uri: tag.ns[p2]
                      });
                    });
                  }
                  for (var i3 = 0, l3 = parser.attribList.length; i3 < l3; i3++) {
                    var nv = parser.attribList[i3];
                    var name = nv[0];
                    var value = nv[1];
                    var qualName = qname(name, true);
                    var prefix2 = qualName.prefix;
                    var local2 = qualName.local;
                    var uri = prefix2 === "" ? "" : tag.ns[prefix2] || "";
                    var a4 = {
                      name,
                      value,
                      prefix: prefix2,
                      local: local2,
                      uri
                    };
                    if (prefix2 && prefix2 !== "xmlns" && !uri) {
                      strictFail(parser, "Unbound namespace prefix: " + JSON.stringify(prefix2));
                      a4.uri = prefix2;
                    }
                    parser.tag.attributes[name] = a4;
                    emitNode(parser, "onattribute", a4);
                  }
                  parser.attribList.length = 0;
                }
                parser.tag.isSelfClosing = !!selfClosing;
                parser.sawRoot = true;
                parser.tags.push(parser.tag);
                emitNode(parser, "onopentag", parser.tag);
                if (!selfClosing) {
                  if (!parser.noscript && parser.tagName.toLowerCase() === "script") {
                    parser.state = S2.SCRIPT;
                  } else {
                    parser.state = S2.TEXT;
                  }
                  parser.tag = null;
                  parser.tagName = "";
                }
                parser.attribName = parser.attribValue = "";
                parser.attribList.length = 0;
              }
              function closeTag(parser) {
                if (!parser.tagName) {
                  strictFail(parser, "Weird empty close tag.");
                  parser.textNode += "</>";
                  parser.state = S2.TEXT;
                  return;
                }
                if (parser.script) {
                  if (parser.tagName !== "script") {
                    parser.script += "</" + parser.tagName + ">";
                    parser.tagName = "";
                    parser.state = S2.SCRIPT;
                    return;
                  }
                  emitNode(parser, "onscript", parser.script);
                  parser.script = "";
                }
                var t2 = parser.tags.length;
                var tagName = parser.tagName;
                if (!parser.strict) {
                  tagName = tagName[parser.looseCase]();
                }
                var closeTo = tagName;
                while (t2--) {
                  var close = parser.tags[t2];
                  if (close.name !== closeTo) {
                    strictFail(parser, "Unexpected close tag");
                  } else {
                    break;
                  }
                }
                if (t2 < 0) {
                  strictFail(parser, "Unmatched closing tag: " + parser.tagName);
                  parser.textNode += "</" + parser.tagName + ">";
                  parser.state = S2.TEXT;
                  return;
                }
                parser.tagName = tagName;
                var s4 = parser.tags.length;
                while (s4-- > t2) {
                  var tag = parser.tag = parser.tags.pop();
                  parser.tagName = parser.tag.name;
                  emitNode(parser, "onclosetag", parser.tagName);
                  var x3 = {};
                  for (var i3 in tag.ns) {
                    x3[i3] = tag.ns[i3];
                  }
                  var parent = parser.tags[parser.tags.length - 1] || parser;
                  if (parser.opt.xmlns && tag.ns !== parent.ns) {
                    Object.keys(tag.ns).forEach(function(p2) {
                      var n2 = tag.ns[p2];
                      emitNode(parser, "onclosenamespace", { prefix: p2, uri: n2 });
                    });
                  }
                }
                if (t2 === 0)
                  parser.closedRoot = true;
                parser.tagName = parser.attribValue = parser.attribName = "";
                parser.attribList.length = 0;
                parser.state = S2.TEXT;
              }
              function parseEntity(parser) {
                var entity = parser.entity;
                var entityLC = entity.toLowerCase();
                var num;
                var numStr = "";
                if (parser.ENTITIES[entity]) {
                  return parser.ENTITIES[entity];
                }
                if (parser.ENTITIES[entityLC]) {
                  return parser.ENTITIES[entityLC];
                }
                entity = entityLC;
                if (entity.charAt(0) === "#") {
                  if (entity.charAt(1) === "x") {
                    entity = entity.slice(2);
                    num = parseInt(entity, 16);
                    numStr = num.toString(16);
                  } else {
                    entity = entity.slice(1);
                    num = parseInt(entity, 10);
                    numStr = num.toString(10);
                  }
                }
                entity = entity.replace(/^0+/, "");
                if (numStr.toLowerCase() !== entity) {
                  strictFail(parser, "Invalid character entity");
                  return "&" + parser.entity + ";";
                }
                return String.fromCodePoint(num);
              }
              function beginWhiteSpace(parser, c3) {
                if (c3 === "<") {
                  parser.state = S2.OPEN_WAKA;
                  parser.startTagPosition = parser.position;
                } else if (not(whitespace2, c3)) {
                  strictFail(parser, "Non-whitespace before first tag.");
                  parser.textNode = c3;
                  parser.state = S2.TEXT;
                }
              }
              function charAt(chunk, i3) {
                var result = "";
                if (i3 < chunk.length) {
                  result = chunk.charAt(i3);
                }
                return result;
              }
              function write2(chunk) {
                var parser = this;
                if (this.error) {
                  throw this.error;
                }
                if (parser.closed) {
                  return error(parser, "Cannot write after close. Assign an onready handler.");
                }
                if (chunk === null) {
                  return end(parser);
                }
                if (typeof chunk === "object") {
                  chunk = chunk.toString();
                }
                var i3 = 0;
                var c3 = "";
                while (true) {
                  c3 = charAt(chunk, i3++);
                  parser.c = c3;
                  if (!c3) {
                    break;
                  }
                  if (parser.trackPosition) {
                    parser.position++;
                    if (c3 === "\n") {
                      parser.line++;
                      parser.column = 0;
                    } else {
                      parser.column++;
                    }
                  }
                  switch (parser.state) {
                    case S2.BEGIN:
                      parser.state = S2.BEGIN_WHITESPACE;
                      if (c3 === "\uFEFF") {
                        continue;
                      }
                      beginWhiteSpace(parser, c3);
                      continue;
                    case S2.BEGIN_WHITESPACE:
                      beginWhiteSpace(parser, c3);
                      continue;
                    case S2.TEXT:
                      if (parser.sawRoot && !parser.closedRoot) {
                        var starti = i3 - 1;
                        while (c3 && c3 !== "<" && c3 !== "&") {
                          c3 = charAt(chunk, i3++);
                          if (c3 && parser.trackPosition) {
                            parser.position++;
                            if (c3 === "\n") {
                              parser.line++;
                              parser.column = 0;
                            } else {
                              parser.column++;
                            }
                          }
                        }
                        parser.textNode += chunk.substring(starti, i3 - 1);
                      }
                      if (c3 === "<" && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {
                        parser.state = S2.OPEN_WAKA;
                        parser.startTagPosition = parser.position;
                      } else {
                        if (not(whitespace2, c3) && (!parser.sawRoot || parser.closedRoot)) {
                          strictFail(parser, "Text data outside of root node.");
                        }
                        if (c3 === "&") {
                          parser.state = S2.TEXT_ENTITY;
                        } else {
                          parser.textNode += c3;
                        }
                      }
                      continue;
                    case S2.SCRIPT:
                      if (c3 === "<") {
                        parser.state = S2.SCRIPT_ENDING;
                      } else {
                        parser.script += c3;
                      }
                      continue;
                    case S2.SCRIPT_ENDING:
                      if (c3 === "/") {
                        parser.state = S2.CLOSE_TAG;
                      } else {
                        parser.script += "<" + c3;
                        parser.state = S2.SCRIPT;
                      }
                      continue;
                    case S2.OPEN_WAKA:
                      if (c3 === "!") {
                        parser.state = S2.SGML_DECL;
                        parser.sgmlDecl = "";
                      } else if (is(whitespace2, c3)) {
                      } else if (is(nameStart, c3)) {
                        parser.state = S2.OPEN_TAG;
                        parser.tagName = c3;
                      } else if (c3 === "/") {
                        parser.state = S2.CLOSE_TAG;
                        parser.tagName = "";
                      } else if (c3 === "?") {
                        parser.state = S2.PROC_INST;
                        parser.procInstName = parser.procInstBody = "";
                      } else {
                        strictFail(parser, "Unencoded <");
                        if (parser.startTagPosition + 1 < parser.position) {
                          var pad = parser.position - parser.startTagPosition;
                          c3 = new Array(pad).join(" ") + c3;
                        }
                        parser.textNode += "<" + c3;
                        parser.state = S2.TEXT;
                      }
                      continue;
                    case S2.SGML_DECL:
                      if ((parser.sgmlDecl + c3).toUpperCase() === CDATA) {
                        emitNode(parser, "onopencdata");
                        parser.state = S2.CDATA;
                        parser.sgmlDecl = "";
                        parser.cdata = "";
                      } else if (parser.sgmlDecl + c3 === "--") {
                        parser.state = S2.COMMENT;
                        parser.comment = "";
                        parser.sgmlDecl = "";
                      } else if ((parser.sgmlDecl + c3).toUpperCase() === DOCTYPE) {
                        parser.state = S2.DOCTYPE;
                        if (parser.doctype || parser.sawRoot) {
                          strictFail(parser, "Inappropriately located doctype declaration");
                        }
                        parser.doctype = "";
                        parser.sgmlDecl = "";
                      } else if (c3 === ">") {
                        emitNode(parser, "onsgmldeclaration", parser.sgmlDecl);
                        parser.sgmlDecl = "";
                        parser.state = S2.TEXT;
                      } else if (is(quote, c3)) {
                        parser.state = S2.SGML_DECL_QUOTED;
                        parser.sgmlDecl += c3;
                      } else {
                        parser.sgmlDecl += c3;
                      }
                      continue;
                    case S2.SGML_DECL_QUOTED:
                      if (c3 === parser.q) {
                        parser.state = S2.SGML_DECL;
                        parser.q = "";
                      }
                      parser.sgmlDecl += c3;
                      continue;
                    case S2.DOCTYPE:
                      if (c3 === ">") {
                        parser.state = S2.TEXT;
                        emitNode(parser, "ondoctype", parser.doctype);
                        parser.doctype = true;
                      } else {
                        parser.doctype += c3;
                        if (c3 === "[") {
                          parser.state = S2.DOCTYPE_DTD;
                        } else if (is(quote, c3)) {
                          parser.state = S2.DOCTYPE_QUOTED;
                          parser.q = c3;
                        }
                      }
                      continue;
                    case S2.DOCTYPE_QUOTED:
                      parser.doctype += c3;
                      if (c3 === parser.q) {
                        parser.q = "";
                        parser.state = S2.DOCTYPE;
                      }
                      continue;
                    case S2.DOCTYPE_DTD:
                      parser.doctype += c3;
                      if (c3 === "]") {
                        parser.state = S2.DOCTYPE;
                      } else if (is(quote, c3)) {
                        parser.state = S2.DOCTYPE_DTD_QUOTED;
                        parser.q = c3;
                      }
                      continue;
                    case S2.DOCTYPE_DTD_QUOTED:
                      parser.doctype += c3;
                      if (c3 === parser.q) {
                        parser.state = S2.DOCTYPE_DTD;
                        parser.q = "";
                      }
                      continue;
                    case S2.COMMENT:
                      if (c3 === "-") {
                        parser.state = S2.COMMENT_ENDING;
                      } else {
                        parser.comment += c3;
                      }
                      continue;
                    case S2.COMMENT_ENDING:
                      if (c3 === "-") {
                        parser.state = S2.COMMENT_ENDED;
                        parser.comment = textopts(parser.opt, parser.comment);
                        if (parser.comment) {
                          emitNode(parser, "oncomment", parser.comment);
                        }
                        parser.comment = "";
                      } else {
                        parser.comment += "-" + c3;
                        parser.state = S2.COMMENT;
                      }
                      continue;
                    case S2.COMMENT_ENDED:
                      if (c3 !== ">") {
                        strictFail(parser, "Malformed comment");
                        parser.comment += "--" + c3;
                        parser.state = S2.COMMENT;
                      } else {
                        parser.state = S2.TEXT;
                      }
                      continue;
                    case S2.CDATA:
                      if (c3 === "]") {
                        parser.state = S2.CDATA_ENDING;
                      } else {
                        parser.cdata += c3;
                      }
                      continue;
                    case S2.CDATA_ENDING:
                      if (c3 === "]") {
                        parser.state = S2.CDATA_ENDING_2;
                      } else {
                        parser.cdata += "]" + c3;
                        parser.state = S2.CDATA;
                      }
                      continue;
                    case S2.CDATA_ENDING_2:
                      if (c3 === ">") {
                        if (parser.cdata) {
                          emitNode(parser, "oncdata", parser.cdata);
                        }
                        emitNode(parser, "onclosecdata");
                        parser.cdata = "";
                        parser.state = S2.TEXT;
                      } else if (c3 === "]") {
                        parser.cdata += "]";
                      } else {
                        parser.cdata += "]]" + c3;
                        parser.state = S2.CDATA;
                      }
                      continue;
                    case S2.PROC_INST:
                      if (c3 === "?") {
                        parser.state = S2.PROC_INST_ENDING;
                      } else if (is(whitespace2, c3)) {
                        parser.state = S2.PROC_INST_BODY;
                      } else {
                        parser.procInstName += c3;
                      }
                      continue;
                    case S2.PROC_INST_BODY:
                      if (!parser.procInstBody && is(whitespace2, c3)) {
                        continue;
                      } else if (c3 === "?") {
                        parser.state = S2.PROC_INST_ENDING;
                      } else {
                        parser.procInstBody += c3;
                      }
                      continue;
                    case S2.PROC_INST_ENDING:
                      if (c3 === ">") {
                        emitNode(parser, "onprocessinginstruction", {
                          name: parser.procInstName,
                          body: parser.procInstBody
                        });
                        parser.procInstName = parser.procInstBody = "";
                        parser.state = S2.TEXT;
                      } else {
                        parser.procInstBody += "?" + c3;
                        parser.state = S2.PROC_INST_BODY;
                      }
                      continue;
                    case S2.OPEN_TAG:
                      if (is(nameBody, c3)) {
                        parser.tagName += c3;
                      } else {
                        newTag(parser);
                        if (c3 === ">") {
                          openTag(parser);
                        } else if (c3 === "/") {
                          parser.state = S2.OPEN_TAG_SLASH;
                        } else {
                          if (not(whitespace2, c3)) {
                            strictFail(parser, "Invalid character in tag name");
                          }
                          parser.state = S2.ATTRIB;
                        }
                      }
                      continue;
                    case S2.OPEN_TAG_SLASH:
                      if (c3 === ">") {
                        openTag(parser, true);
                        closeTag(parser);
                      } else {
                        strictFail(parser, "Forward-slash in opening tag not followed by >");
                        parser.state = S2.ATTRIB;
                      }
                      continue;
                    case S2.ATTRIB:
                      if (is(whitespace2, c3)) {
                        continue;
                      } else if (c3 === ">") {
                        openTag(parser);
                      } else if (c3 === "/") {
                        parser.state = S2.OPEN_TAG_SLASH;
                      } else if (is(nameStart, c3)) {
                        parser.attribName = c3;
                        parser.attribValue = "";
                        parser.state = S2.ATTRIB_NAME;
                      } else {
                        strictFail(parser, "Invalid attribute name");
                      }
                      continue;
                    case S2.ATTRIB_NAME:
                      if (c3 === "=") {
                        parser.state = S2.ATTRIB_VALUE;
                      } else if (c3 === ">") {
                        strictFail(parser, "Attribute without value");
                        parser.attribValue = parser.attribName;
                        attrib(parser);
                        openTag(parser);
                      } else if (is(whitespace2, c3)) {
                        parser.state = S2.ATTRIB_NAME_SAW_WHITE;
                      } else if (is(nameBody, c3)) {
                        parser.attribName += c3;
                      } else {
                        strictFail(parser, "Invalid attribute name");
                      }
                      continue;
                    case S2.ATTRIB_NAME_SAW_WHITE:
                      if (c3 === "=") {
                        parser.state = S2.ATTRIB_VALUE;
                      } else if (is(whitespace2, c3)) {
                        continue;
                      } else {
                        strictFail(parser, "Attribute without value");
                        parser.tag.attributes[parser.attribName] = "";
                        parser.attribValue = "";
                        emitNode(parser, "onattribute", {
                          name: parser.attribName,
                          value: ""
                        });
                        parser.attribName = "";
                        if (c3 === ">") {
                          openTag(parser);
                        } else if (is(nameStart, c3)) {
                          parser.attribName = c3;
                          parser.state = S2.ATTRIB_NAME;
                        } else {
                          strictFail(parser, "Invalid attribute name");
                          parser.state = S2.ATTRIB;
                        }
                      }
                      continue;
                    case S2.ATTRIB_VALUE:
                      if (is(whitespace2, c3)) {
                        continue;
                      } else if (is(quote, c3)) {
                        parser.q = c3;
                        parser.state = S2.ATTRIB_VALUE_QUOTED;
                      } else {
                        strictFail(parser, "Unquoted attribute value");
                        parser.state = S2.ATTRIB_VALUE_UNQUOTED;
                        parser.attribValue = c3;
                      }
                      continue;
                    case S2.ATTRIB_VALUE_QUOTED:
                      if (c3 !== parser.q) {
                        if (c3 === "&") {
                          parser.state = S2.ATTRIB_VALUE_ENTITY_Q;
                        } else {
                          parser.attribValue += c3;
                        }
                        continue;
                      }
                      attrib(parser);
                      parser.q = "";
                      parser.state = S2.ATTRIB_VALUE_CLOSED;
                      continue;
                    case S2.ATTRIB_VALUE_CLOSED:
                      if (is(whitespace2, c3)) {
                        parser.state = S2.ATTRIB;
                      } else if (c3 === ">") {
                        openTag(parser);
                      } else if (c3 === "/") {
                        parser.state = S2.OPEN_TAG_SLASH;
                      } else if (is(nameStart, c3)) {
                        strictFail(parser, "No whitespace between attributes");
                        parser.attribName = c3;
                        parser.attribValue = "";
                        parser.state = S2.ATTRIB_NAME;
                      } else {
                        strictFail(parser, "Invalid attribute name");
                      }
                      continue;
                    case S2.ATTRIB_VALUE_UNQUOTED:
                      if (not(attribEnd, c3)) {
                        if (c3 === "&") {
                          parser.state = S2.ATTRIB_VALUE_ENTITY_U;
                        } else {
                          parser.attribValue += c3;
                        }
                        continue;
                      }
                      attrib(parser);
                      if (c3 === ">") {
                        openTag(parser);
                      } else {
                        parser.state = S2.ATTRIB;
                      }
                      continue;
                    case S2.CLOSE_TAG:
                      if (!parser.tagName) {
                        if (is(whitespace2, c3)) {
                          continue;
                        } else if (not(nameStart, c3)) {
                          if (parser.script) {
                            parser.script += "</" + c3;
                            parser.state = S2.SCRIPT;
                          } else {
                            strictFail(parser, "Invalid tagname in closing tag.");
                          }
                        } else {
                          parser.tagName = c3;
                        }
                      } else if (c3 === ">") {
                        closeTag(parser);
                      } else if (is(nameBody, c3)) {
                        parser.tagName += c3;
                      } else if (parser.script) {
                        parser.script += "</" + parser.tagName;
                        parser.tagName = "";
                        parser.state = S2.SCRIPT;
                      } else {
                        if (not(whitespace2, c3)) {
                          strictFail(parser, "Invalid tagname in closing tag");
                        }
                        parser.state = S2.CLOSE_TAG_SAW_WHITE;
                      }
                      continue;
                    case S2.CLOSE_TAG_SAW_WHITE:
                      if (is(whitespace2, c3)) {
                        continue;
                      }
                      if (c3 === ">") {
                        closeTag(parser);
                      } else {
                        strictFail(parser, "Invalid characters in closing tag");
                      }
                      continue;
                    case S2.TEXT_ENTITY:
                    case S2.ATTRIB_VALUE_ENTITY_Q:
                    case S2.ATTRIB_VALUE_ENTITY_U:
                      var returnState;
                      var buffer;
                      switch (parser.state) {
                        case S2.TEXT_ENTITY:
                          returnState = S2.TEXT;
                          buffer = "textNode";
                          break;
                        case S2.ATTRIB_VALUE_ENTITY_Q:
                          returnState = S2.ATTRIB_VALUE_QUOTED;
                          buffer = "attribValue";
                          break;
                        case S2.ATTRIB_VALUE_ENTITY_U:
                          returnState = S2.ATTRIB_VALUE_UNQUOTED;
                          buffer = "attribValue";
                          break;
                      }
                      if (c3 === ";") {
                        parser[buffer] += parseEntity(parser);
                        parser.entity = "";
                        parser.state = returnState;
                      } else if (is(parser.entity.length ? entityBody : entityStart, c3)) {
                        parser.entity += c3;
                      } else {
                        strictFail(parser, "Invalid character in entity name");
                        parser[buffer] += "&" + parser.entity + c3;
                        parser.entity = "";
                        parser.state = returnState;
                      }
                      continue;
                    default:
                      throw new Error(parser, "Unknown state: " + parser.state);
                  }
                }
                if (parser.position >= parser.bufferCheckPosition) {
                  checkBufferLength(parser);
                }
                return parser;
              }
              if (!String.fromCodePoint) {
                (function() {
                  var stringFromCharCode = String.fromCharCode;
                  var floor = Math.floor;
                  var fromCodePoint = function() {
                    var MAX_SIZE = 16384;
                    var codeUnits = [];
                    var highSurrogate;
                    var lowSurrogate;
                    var index = -1;
                    var length = arguments.length;
                    if (!length) {
                      return "";
                    }
                    var result = "";
                    while (++index < length) {
                      var codePoint = Number(arguments[index]);
                      if (!isFinite(codePoint) || codePoint < 0 || codePoint > 1114111 || floor(codePoint) !== codePoint) {
                        throw RangeError("Invalid code point: " + codePoint);
                      }
                      if (codePoint <= 65535) {
                        codeUnits.push(codePoint);
                      } else {
                        codePoint -= 65536;
                        highSurrogate = (codePoint >> 10) + 55296;
                        lowSurrogate = codePoint % 1024 + 56320;
                        codeUnits.push(highSurrogate, lowSurrogate);
                      }
                      if (index + 1 === length || codeUnits.length > MAX_SIZE) {
                        result += stringFromCharCode.apply(null, codeUnits);
                        codeUnits.length = 0;
                      }
                    }
                    return result;
                  };
                  if (Object.defineProperty) {
                    Object.defineProperty(String, "fromCodePoint", {
                      value: fromCodePoint,
                      configurable: true,
                      writable: true
                    });
                  } else {
                    String.fromCodePoint = fromCodePoint;
                  }
                })();
              }
            })(false ? void 0 : exports3);
          }).call(this, __webpack_require__("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer);
        },
        "./node_modules/setimmediate/setImmediate.js": function(module3, exports3, __webpack_require__) {
          (function(global2, process2) {
            (function(global3, undefined2) {
              "use strict";
              if (global3.setImmediate) {
                return;
              }
              var nextHandle = 1;
              var tasksByHandle = {};
              var currentlyRunningATask = false;
              var doc = global3.document;
              var registerImmediate;
              function setImmediate(callback) {
                if (typeof callback !== "function") {
                  callback = new Function("" + callback);
                }
                var args = new Array(arguments.length - 1);
                for (var i3 = 0; i3 < args.length; i3++) {
                  args[i3] = arguments[i3 + 1];
                }
                var task = { callback, args };
                tasksByHandle[nextHandle] = task;
                registerImmediate(nextHandle);
                return nextHandle++;
              }
              function clearImmediate(handle) {
                delete tasksByHandle[handle];
              }
              function run(task) {
                var callback = task.callback;
                var args = task.args;
                switch (args.length) {
                  case 0:
                    callback();
                    break;
                  case 1:
                    callback(args[0]);
                    break;
                  case 2:
                    callback(args[0], args[1]);
                    break;
                  case 3:
                    callback(args[0], args[1], args[2]);
                    break;
                  default:
                    callback.apply(undefined2, args);
                    break;
                }
              }
              function runIfPresent(handle) {
                if (currentlyRunningATask) {
                  setTimeout(runIfPresent, 0, handle);
                } else {
                  var task = tasksByHandle[handle];
                  if (task) {
                    currentlyRunningATask = true;
                    try {
                      run(task);
                    } finally {
                      clearImmediate(handle);
                      currentlyRunningATask = false;
                    }
                  }
                }
              }
              function installNextTickImplementation() {
                registerImmediate = function(handle) {
                  process2.nextTick(function() {
                    runIfPresent(handle);
                  });
                };
              }
              function canUsePostMessage() {
                if (global3.postMessage && !global3.importScripts) {
                  var postMessageIsAsynchronous = true;
                  var oldOnMessage = global3.onmessage;
                  global3.onmessage = function() {
                    postMessageIsAsynchronous = false;
                  };
                  global3.postMessage("", "*");
                  global3.onmessage = oldOnMessage;
                  return postMessageIsAsynchronous;
                }
              }
              function installPostMessageImplementation() {
                var messagePrefix = "setImmediate$" + Math.random() + "$";
                var onGlobalMessage = function(event) {
                  if (event.source === global3 && typeof event.data === "string" && event.data.indexOf(messagePrefix) === 0) {
                    runIfPresent(+event.data.slice(messagePrefix.length));
                  }
                };
                if (global3.addEventListener) {
                  global3.addEventListener("message", onGlobalMessage, false);
                } else {
                  global3.attachEvent("onmessage", onGlobalMessage);
                }
                registerImmediate = function(handle) {
                  global3.postMessage(messagePrefix + handle, "*");
                };
              }
              function installMessageChannelImplementation() {
                var channel = new MessageChannel();
                channel.port1.onmessage = function(event) {
                  var handle = event.data;
                  runIfPresent(handle);
                };
                registerImmediate = function(handle) {
                  channel.port2.postMessage(handle);
                };
              }
              function installReadyStateChangeImplementation() {
                var html = doc.documentElement;
                registerImmediate = function(handle) {
                  var script = doc.createElement("script");
                  script.onreadystatechange = function() {
                    runIfPresent(handle);
                    script.onreadystatechange = null;
                    html.removeChild(script);
                    script = null;
                  };
                  html.appendChild(script);
                };
              }
              function installSetTimeoutImplementation() {
                registerImmediate = function(handle) {
                  setTimeout(runIfPresent, 0, handle);
                };
              }
              var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global3);
              attachTo = attachTo && attachTo.setTimeout ? attachTo : global3;
              if ({}.toString.call(global3.process) === "[object process]") {
                installNextTickImplementation();
              } else if (canUsePostMessage()) {
                installPostMessageImplementation();
              } else if (global3.MessageChannel) {
                installMessageChannelImplementation();
              } else if (doc && "onreadystatechange" in doc.createElement("script")) {
                installReadyStateChangeImplementation();
              } else {
                installSetTimeoutImplementation();
              }
              attachTo.setImmediate = setImmediate;
              attachTo.clearImmediate = clearImmediate;
            })(typeof self === "undefined" ? typeof global2 === "undefined" ? this : global2 : self);
          }).call(this, __webpack_require__("./node_modules/webpack/buildin/global.js"), __webpack_require__("./node_modules/process/browser.js"));
        },
        "./node_modules/stream-browserify/index.js": function(module3, exports3, __webpack_require__) {
          module3.exports = Stream;
          var EE = __webpack_require__("./node_modules/node-libs-browser/node_modules/events/events.js").EventEmitter;
          var inherits = __webpack_require__("./node_modules/inherits/inherits_browser.js");
          inherits(Stream, EE);
          Stream.Readable = __webpack_require__("./node_modules/readable-stream/readable-browser.js");
          Stream.Writable = __webpack_require__("./node_modules/readable-stream/writable-browser.js");
          Stream.Duplex = __webpack_require__("./node_modules/readable-stream/duplex-browser.js");
          Stream.Transform = __webpack_require__("./node_modules/readable-stream/transform.js");
          Stream.PassThrough = __webpack_require__("./node_modules/readable-stream/passthrough.js");
          Stream.Stream = Stream;
          function Stream() {
            EE.call(this);
          }
          Stream.prototype.pipe = function(dest, options) {
            var source = this;
            function ondata(chunk) {
              if (dest.writable) {
                if (dest.write(chunk) === false && source.pause) {
                  source.pause();
                }
              }
            }
            source.on("data", ondata);
            function ondrain() {
              if (source.readable && source.resume) {
                source.resume();
              }
            }
            dest.on("drain", ondrain);
            if (!dest._isStdio && (!options || options.end !== false)) {
              source.on("end", onend);
              source.on("close", onclose);
            }
            var didOnEnd = false;
            function onend() {
              if (didOnEnd)
                return;
              didOnEnd = true;
              dest.end();
            }
            function onclose() {
              if (didOnEnd)
                return;
              didOnEnd = true;
              if (typeof dest.destroy === "function")
                dest.destroy();
            }
            function onerror(er) {
              cleanup();
              if (EE.listenerCount(this, "error") === 0) {
                throw er;
              }
            }
            source.on("error", onerror);
            dest.on("error", onerror);
            function cleanup() {
              source.removeListener("data", ondata);
              dest.removeListener("drain", ondrain);
              source.removeListener("end", onend);
              source.removeListener("close", onclose);
              source.removeListener("error", onerror);
              dest.removeListener("error", onerror);
              source.removeListener("end", cleanup);
              source.removeListener("close", cleanup);
              dest.removeListener("close", cleanup);
            }
            source.on("end", cleanup);
            source.on("close", cleanup);
            dest.on("close", cleanup);
            dest.emit("pipe", source);
            return dest;
          };
        },
        "./node_modules/string_decoder/lib/string_decoder.js": function(module3, exports3, __webpack_require__) {
          "use strict";
          var Buffer2 = __webpack_require__("./node_modules/safe-buffer/index.js").Buffer;
          var isEncoding = Buffer2.isEncoding || function(encoding) {
            encoding = "" + encoding;
            switch (encoding && encoding.toLowerCase()) {
              case "hex":
              case "utf8":
              case "utf-8":
              case "ascii":
              case "binary":
              case "base64":
              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
              case "raw":
                return true;
              default:
                return false;
            }
          };
          function _normalizeEncoding(enc) {
            if (!enc)
              return "utf8";
            var retried;
            while (true) {
              switch (enc) {
                case "utf8":
                case "utf-8":
                  return "utf8";
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return "utf16le";
                case "latin1":
                case "binary":
                  return "latin1";
                case "base64":
                case "ascii":
                case "hex":
                  return enc;
                default:
                  if (retried)
                    return;
                  enc = ("" + enc).toLowerCase();
                  retried = true;
              }
            }
          }
          ;
          function normalizeEncoding(enc) {
            var nenc = _normalizeEncoding(enc);
            if (typeof nenc !== "string" && (Buffer2.isEncoding === isEncoding || !isEncoding(enc)))
              throw new Error("Unknown encoding: " + enc);
            return nenc || enc;
          }
          exports3.StringDecoder = StringDecoder;
          function StringDecoder(encoding) {
            this.encoding = normalizeEncoding(encoding);
            var nb;
            switch (this.encoding) {
              case "utf16le":
                this.text = utf16Text;
                this.end = utf16End;
                nb = 4;
                break;
              case "utf8":
                this.fillLast = utf8FillLast;
                nb = 4;
                break;
              case "base64":
                this.text = base64Text;
                this.end = base64End;
                nb = 3;
                break;
              default:
                this.write = simpleWrite;
                this.end = simpleEnd;
                return;
            }
            this.lastNeed = 0;
            this.lastTotal = 0;
            this.lastChar = Buffer2.allocUnsafe(nb);
          }
          StringDecoder.prototype.write = function(buf) {
            if (buf.length === 0)
              return "";
            var r3;
            var i3;
            if (this.lastNeed) {
              r3 = this.fillLast(buf);
              if (r3 === void 0)
                return "";
              i3 = this.lastNeed;
              this.lastNeed = 0;
            } else {
              i3 = 0;
            }
            if (i3 < buf.length)
              return r3 ? r3 + this.text(buf, i3) : this.text(buf, i3);
            return r3 || "";
          };
          StringDecoder.prototype.end = utf8End;
          StringDecoder.prototype.text = utf8Text;
          StringDecoder.prototype.fillLast = function(buf) {
            if (this.lastNeed <= buf.length) {
              buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);
              return this.lastChar.toString(this.encoding, 0, this.lastTotal);
            }
            buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);
            this.lastNeed -= buf.length;
          };
          function utf8CheckByte(byte) {
            if (byte <= 127)
              return 0;
            else if (byte >> 5 === 6)
              return 2;
            else if (byte >> 4 === 14)
              return 3;
            else if (byte >> 3 === 30)
              return 4;
            return byte >> 6 === 2 ? -1 : -2;
          }
          function utf8CheckIncomplete(self2, buf, i3) {
            var j = buf.length - 1;
            if (j < i3)
              return 0;
            var nb = utf8CheckByte(buf[j]);
            if (nb >= 0) {
              if (nb > 0)
                self2.lastNeed = nb - 1;
              return nb;
            }
            if (--j < i3 || nb === -2)
              return 0;
            nb = utf8CheckByte(buf[j]);
            if (nb >= 0) {
              if (nb > 0)
                self2.lastNeed = nb - 2;
              return nb;
            }
            if (--j < i3 || nb === -2)
              return 0;
            nb = utf8CheckByte(buf[j]);
            if (nb >= 0) {
              if (nb > 0) {
                if (nb === 2)
                  nb = 0;
                else
                  self2.lastNeed = nb - 3;
              }
              return nb;
            }
            return 0;
          }
          function utf8CheckExtraBytes(self2, buf, p2) {
            if ((buf[0] & 192) !== 128) {
              self2.lastNeed = 0;
              return "\uFFFD";
            }
            if (self2.lastNeed > 1 && buf.length > 1) {
              if ((buf[1] & 192) !== 128) {
                self2.lastNeed = 1;
                return "\uFFFD";
              }
              if (self2.lastNeed > 2 && buf.length > 2) {
                if ((buf[2] & 192) !== 128) {
                  self2.lastNeed = 2;
                  return "\uFFFD";
                }
              }
            }
          }
          function utf8FillLast(buf) {
            var p2 = this.lastTotal - this.lastNeed;
            var r3 = utf8CheckExtraBytes(this, buf, p2);
            if (r3 !== void 0)
              return r3;
            if (this.lastNeed <= buf.length) {
              buf.copy(this.lastChar, p2, 0, this.lastNeed);
              return this.lastChar.toString(this.encoding, 0, this.lastTotal);
            }
            buf.copy(this.lastChar, p2, 0, buf.length);
            this.lastNeed -= buf.length;
          }
          function utf8Text(buf, i3) {
            var total = utf8CheckIncomplete(this, buf, i3);
            if (!this.lastNeed)
              return buf.toString("utf8", i3);
            this.lastTotal = total;
            var end = buf.length - (total - this.lastNeed);
            buf.copy(this.lastChar, 0, end);
            return buf.toString("utf8", i3, end);
          }
          function utf8End(buf) {
            var r3 = buf && buf.length ? this.write(buf) : "";
            if (this.lastNeed)
              return r3 + "\uFFFD";
            return r3;
          }
          function utf16Text(buf, i3) {
            if ((buf.length - i3) % 2 === 0) {
              var r3 = buf.toString("utf16le", i3);
              if (r3) {
                var c3 = r3.charCodeAt(r3.length - 1);
                if (c3 >= 55296 && c3 <= 56319) {
                  this.lastNeed = 2;
                  this.lastTotal = 4;
                  this.lastChar[0] = buf[buf.length - 2];
                  this.lastChar[1] = buf[buf.length - 1];
                  return r3.slice(0, -1);
                }
              }
              return r3;
            }
            this.lastNeed = 1;
            this.lastTotal = 2;
            this.lastChar[0] = buf[buf.length - 1];
            return buf.toString("utf16le", i3, buf.length - 1);
          }
          function utf16End(buf) {
            var r3 = buf && buf.length ? this.write(buf) : "";
            if (this.lastNeed) {
              var end = this.lastTotal - this.lastNeed;
              return r3 + this.lastChar.toString("utf16le", 0, end);
            }
            return r3;
          }
          function base64Text(buf, i3) {
            var n2 = (buf.length - i3) % 3;
            if (n2 === 0)
              return buf.toString("base64", i3);
            this.lastNeed = 3 - n2;
            this.lastTotal = 3;
            if (n2 === 1) {
              this.lastChar[0] = buf[buf.length - 1];
            } else {
              this.lastChar[0] = buf[buf.length - 2];
              this.lastChar[1] = buf[buf.length - 1];
            }
            return buf.toString("base64", i3, buf.length - n2);
          }
          function base64End(buf) {
            var r3 = buf && buf.length ? this.write(buf) : "";
            if (this.lastNeed)
              return r3 + this.lastChar.toString("base64", 0, 3 - this.lastNeed);
            return r3;
          }
          function simpleWrite(buf) {
            return buf.toString(this.encoding);
          }
          function simpleEnd(buf) {
            return buf && buf.length ? this.write(buf) : "";
          }
        },
        "./node_modules/util-deprecate/browser.js": function(module3, exports3, __webpack_require__) {
          (function(global2) {
            module3.exports = deprecate;
            function deprecate(fn, msg) {
              if (config("noDeprecation")) {
                return fn;
              }
              var warned = false;
              function deprecated() {
                if (!warned) {
                  if (config("throwDeprecation")) {
                    throw new Error(msg);
                  } else if (config("traceDeprecation")) {
                    console.trace(msg);
                  } else {
                    console.warn(msg);
                  }
                  warned = true;
                }
                return fn.apply(this, arguments);
              }
              return deprecated;
            }
            function config(name) {
              try {
                if (!global2.localStorage)
                  return false;
              } catch (_2) {
                return false;
              }
              var val = global2.localStorage[name];
              if (val == null)
                return false;
              return String(val).toLowerCase() === "true";
            }
          }).call(this, __webpack_require__("./node_modules/webpack/buildin/global.js"));
        },
        "./node_modules/webpack/buildin/global.js": function(module3, exports3) {
          var g2;
          g2 = function() {
            return this;
          }();
          try {
            g2 = g2 || new Function("return this")();
          } catch (e) {
            if (typeof window === "object")
              g2 = window;
          }
          module3.exports = g2;
        },
        "./src/core/Debug.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _EventBus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/EventBus.js");
          var _events_Events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/events/Events.js");
          var _FactoryMaker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/FactoryMaker.js");
          var LOG_LEVEL_NONE = 0;
          var LOG_LEVEL_FATAL = 1;
          var LOG_LEVEL_ERROR = 2;
          var LOG_LEVEL_WARNING = 3;
          var LOG_LEVEL_INFO = 4;
          var LOG_LEVEL_DEBUG = 5;
          function Debug(config) {
            config = config || {};
            var context = this.context;
            var eventBus = Object(_EventBus__WEBPACK_IMPORTED_MODULE_0__["default"])(context).getInstance();
            var settings = config.settings;
            var logFn = [];
            var instance, showLogTimestamp, showCalleeName, startTime;
            function setup() {
              showLogTimestamp = true;
              showCalleeName = true;
              startTime = new Date().getTime();
              if (typeof window !== "undefined" && window.console) {
                logFn[LOG_LEVEL_FATAL] = getLogFn(window.console.error);
                logFn[LOG_LEVEL_ERROR] = getLogFn(window.console.error);
                logFn[LOG_LEVEL_WARNING] = getLogFn(window.console.warn);
                logFn[LOG_LEVEL_INFO] = getLogFn(window.console.info);
                logFn[LOG_LEVEL_DEBUG] = getLogFn(window.console.debug);
              }
            }
            function getLogFn(fn) {
              if (fn && fn.bind) {
                return fn.bind(window.console);
              }
              return window.console.log.bind(window.console);
            }
            function getLogger(instance2) {
              return {
                fatal: fatal.bind(instance2),
                error: error.bind(instance2),
                warn: warn2.bind(instance2),
                info: info.bind(instance2),
                debug: debug.bind(instance2)
              };
            }
            function setLogTimestampVisible(value) {
              showLogTimestamp = value;
            }
            function setCalleeNameVisible(value) {
              showCalleeName = value;
            }
            function fatal() {
              for (var _len = arguments.length, params = new Array(_len), _key = 0; _key < _len; _key++) {
                params[_key] = arguments[_key];
              }
              doLog.apply(void 0, [LOG_LEVEL_FATAL, this].concat(params));
            }
            function error() {
              for (var _len2 = arguments.length, params = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
                params[_key2] = arguments[_key2];
              }
              doLog.apply(void 0, [LOG_LEVEL_ERROR, this].concat(params));
            }
            function warn2() {
              for (var _len3 = arguments.length, params = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
                params[_key3] = arguments[_key3];
              }
              doLog.apply(void 0, [LOG_LEVEL_WARNING, this].concat(params));
            }
            function info() {
              for (var _len4 = arguments.length, params = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
                params[_key4] = arguments[_key4];
              }
              doLog.apply(void 0, [LOG_LEVEL_INFO, this].concat(params));
            }
            function debug() {
              for (var _len5 = arguments.length, params = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
                params[_key5] = arguments[_key5];
              }
              doLog.apply(void 0, [LOG_LEVEL_DEBUG, this].concat(params));
            }
            function doLog(level, _this) {
              var message = "";
              var logTime = null;
              if (showLogTimestamp) {
                logTime = new Date().getTime();
                message += "[" + (logTime - startTime) + "]";
              }
              if (showCalleeName && _this && _this.getClassName) {
                message += "[" + _this.getClassName() + "]";
                if (_this.getType) {
                  message += "[" + _this.getType() + "]";
                }
              }
              if (message.length > 0) {
                message += " ";
              }
              for (var _len6 = arguments.length, params = new Array(_len6 > 2 ? _len6 - 2 : 0), _key6 = 2; _key6 < _len6; _key6++) {
                params[_key6 - 2] = arguments[_key6];
              }
              Array.apply(null, params).forEach(function(item) {
                message += item + " ";
              });
              if (logFn[level] && settings.get().debug.logLevel >= level) {
                logFn[level](message);
              }
              if (settings && settings.get().debug.dispatchEvent) {
                eventBus.trigger(_events_Events__WEBPACK_IMPORTED_MODULE_1__["default"].LOG, {
                  message,
                  level
                });
              }
            }
            instance = {
              getLogger,
              setLogTimestampVisible,
              setCalleeNameVisible
            };
            setup();
            return instance;
          }
          Debug.__dashjs_factory_name = "Debug";
          var factory = _FactoryMaker__WEBPACK_IMPORTED_MODULE_2__["default"].getSingletonFactory(Debug);
          factory.LOG_LEVEL_NONE = LOG_LEVEL_NONE;
          factory.LOG_LEVEL_FATAL = LOG_LEVEL_FATAL;
          factory.LOG_LEVEL_ERROR = LOG_LEVEL_ERROR;
          factory.LOG_LEVEL_WARNING = LOG_LEVEL_WARNING;
          factory.LOG_LEVEL_INFO = LOG_LEVEL_INFO;
          factory.LOG_LEVEL_DEBUG = LOG_LEVEL_DEBUG;
          _FactoryMaker__WEBPACK_IMPORTED_MODULE_2__["default"].updateSingletonFactory(Debug.__dashjs_factory_name, factory);
          __webpack_exports__["default"] = factory;
        },
        "./src/core/EventBus.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/MediaPlayerEvents.js");
          var EVENT_PRIORITY_LOW = 0;
          var EVENT_PRIORITY_HIGH = 5e3;
          function EventBus() {
            var handlers = {};
            function on(type, listener, scope) {
              var options = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};
              if (!type) {
                throw new Error("event type cannot be null or undefined");
              }
              if (!listener || typeof listener !== "function") {
                throw new Error("listener must be a function: " + listener);
              }
              var priority = options.priority || EVENT_PRIORITY_LOW;
              if (getHandlerIdx(type, listener, scope) >= 0)
                return;
              handlers[type] = handlers[type] || [];
              var handler = {
                callback: listener,
                scope,
                priority
              };
              if (scope && scope.getStreamId) {
                handler.streamId = scope.getStreamId();
              }
              if (scope && scope.getType) {
                handler.mediaType = scope.getType();
              }
              if (options && options.mode) {
                handler.mode = options.mode;
              }
              var inserted = handlers[type].some(function(item, idx) {
                if (item && priority > item.priority) {
                  handlers[type].splice(idx, 0, handler);
                  return true;
                }
              });
              if (!inserted) {
                handlers[type].push(handler);
              }
            }
            function off(type, listener, scope) {
              if (!type || !listener || !handlers[type])
                return;
              var idx = getHandlerIdx(type, listener, scope);
              if (idx < 0)
                return;
              handlers[type][idx] = null;
            }
            function trigger(type) {
              var payload = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
              var filters = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
              if (!type || !handlers[type])
                return;
              payload = payload || {};
              if (payload.hasOwnProperty("type"))
                throw new Error("'type' is a reserved word for event dispatching");
              payload.type = type;
              if (filters.streamId) {
                payload.streamId = filters.streamId;
              }
              if (filters.mediaType) {
                payload.mediaType = filters.mediaType;
              }
              handlers[type].filter(function(handler) {
                if (!handler) {
                  return false;
                }
                if (filters.streamId && handler.streamId && handler.streamId !== filters.streamId) {
                  return false;
                }
                if (filters.mediaType && handler.mediaType && handler.mediaType !== filters.mediaType) {
                  return false;
                }
                if (filters.mode && handler.mode && handler.mode !== filters.mode || !handler.mode && filters.mode && filters.mode === _streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_1__["default"].EVENT_MODE_ON_RECEIVE) {
                  return false;
                }
                return true;
              }).forEach(function(handler) {
                return handler && handler.callback.call(handler.scope, payload);
              });
            }
            function getHandlerIdx(type, listener, scope) {
              var idx = -1;
              if (!handlers[type])
                return idx;
              handlers[type].some(function(item, index) {
                if (item && item.callback === listener && (!scope || scope === item.scope)) {
                  idx = index;
                  return true;
                }
              });
              return idx;
            }
            function reset() {
              handlers = {};
            }
            var instance = {
              on,
              off,
              trigger,
              reset
            };
            return instance;
          }
          EventBus.__dashjs_factory_name = "EventBus";
          var factory = _FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getSingletonFactory(EventBus);
          factory.EVENT_PRIORITY_LOW = EVENT_PRIORITY_LOW;
          factory.EVENT_PRIORITY_HIGH = EVENT_PRIORITY_HIGH;
          _FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].updateSingletonFactory(EventBus.__dashjs_factory_name, factory);
          __webpack_exports__["default"] = factory;
        },
        "./src/core/FactoryMaker.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var FactoryMaker = function() {
            var instance;
            var singletonContexts = [];
            var singletonFactories = {};
            var classFactories = {};
            function extend(name, childInstance, override, context) {
              if (!context[name] && childInstance) {
                context[name] = {
                  instance: childInstance,
                  override
                };
              }
            }
            function getSingletonInstance(context, className) {
              for (var i3 in singletonContexts) {
                var obj = singletonContexts[i3];
                if (obj.context === context && obj.name === className) {
                  return obj.instance;
                }
              }
              return null;
            }
            function setSingletonInstance(context, className, instance2) {
              for (var i3 in singletonContexts) {
                var obj = singletonContexts[i3];
                if (obj.context === context && obj.name === className) {
                  singletonContexts[i3].instance = instance2;
                  return;
                }
              }
              singletonContexts.push({
                name: className,
                context,
                instance: instance2
              });
            }
            function deleteSingletonInstances(context) {
              singletonContexts = singletonContexts.filter(function(x3) {
                return x3.context !== context;
              });
            }
            function getFactoryByName(name, factoriesArray) {
              return factoriesArray[name];
            }
            function updateFactory(name, factory, factoriesArray) {
              if (name in factoriesArray) {
                factoriesArray[name] = factory;
              }
            }
            function updateClassFactory(name, factory) {
              updateFactory(name, factory, classFactories);
            }
            function getClassFactoryByName(name) {
              return getFactoryByName(name, classFactories);
            }
            function getClassFactory(classConstructor) {
              var factory = getFactoryByName(classConstructor.__dashjs_factory_name, classFactories);
              if (!factory) {
                factory = function factory2(context) {
                  if (context === void 0) {
                    context = {};
                  }
                  return {
                    create: function create() {
                      return merge(classConstructor, context, arguments);
                    }
                  };
                };
                classFactories[classConstructor.__dashjs_factory_name] = factory;
              }
              return factory;
            }
            function updateSingletonFactory(name, factory) {
              updateFactory(name, factory, singletonFactories);
            }
            function getSingletonFactoryByName(name) {
              return getFactoryByName(name, singletonFactories);
            }
            function getSingletonFactory(classConstructor) {
              var factory = getFactoryByName(classConstructor.__dashjs_factory_name, singletonFactories);
              if (!factory) {
                factory = function factory2(context) {
                  var instance2;
                  if (context === void 0) {
                    context = {};
                  }
                  return {
                    getInstance: function getInstance() {
                      if (!instance2) {
                        instance2 = getSingletonInstance(context, classConstructor.__dashjs_factory_name);
                      }
                      if (!instance2) {
                        instance2 = merge(classConstructor, context, arguments);
                        singletonContexts.push({
                          name: classConstructor.__dashjs_factory_name,
                          context,
                          instance: instance2
                        });
                      }
                      return instance2;
                    }
                  };
                };
                singletonFactories[classConstructor.__dashjs_factory_name] = factory;
              }
              return factory;
            }
            function merge(classConstructor, context, args) {
              var classInstance;
              var className = classConstructor.__dashjs_factory_name;
              var extensionObject = context[className];
              if (extensionObject) {
                var extension = extensionObject.instance;
                if (extensionObject.override) {
                  classInstance = classConstructor.apply({
                    context
                  }, args);
                  extension = extension.apply({
                    context,
                    factory: instance,
                    parent: classInstance
                  }, args);
                  for (var prop in extension) {
                    if (classInstance.hasOwnProperty(prop)) {
                      classInstance[prop] = extension[prop];
                    }
                  }
                } else {
                  return extension.apply({
                    context,
                    factory: instance
                  }, args);
                }
              } else {
                classInstance = classConstructor.apply({
                  context
                }, args);
              }
              classInstance.getClassName = function() {
                return className;
              };
              return classInstance;
            }
            instance = {
              extend,
              getSingletonInstance,
              setSingletonInstance,
              deleteSingletonInstances,
              getSingletonFactory,
              getSingletonFactoryByName,
              updateSingletonFactory,
              getClassFactory,
              getClassFactoryByName,
              updateClassFactory
            };
            return instance;
          }();
          __webpack_exports__["default"] = FactoryMaker;
        },
        "./src/core/Settings.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _Utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/Utils.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/Debug.js");
          var _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/vo/metrics/HTTPRequest.js");
          function _typeof5(obj) {
            "@babel/helpers - typeof";
            if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
              _typeof5 = function _typeof6(obj2) {
                return typeof obj2;
              };
            } else {
              _typeof5 = function _typeof6(obj2) {
                return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
              };
            }
            return _typeof5(obj);
          }
          function _defineProperty(obj, key, value) {
            if (key in obj) {
              Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
            } else {
              obj[key] = value;
            }
            return obj;
          }
          function Settings() {
            var _retryIntervals, _retryAttempts;
            var instance;
            var defaultSettings = {
              debug: {
                logLevel: _core_Debug__WEBPACK_IMPORTED_MODULE_2__["default"].LOG_LEVEL_WARNING,
                dispatchEvent: false
              },
              streaming: {
                abandonLoadTimeout: 1e4,
                wallclockTimeUpdateInterval: 100,
                lowLatencyEnabled: false,
                lowLatencyEnabledByManifest: true,
                manifestUpdateRetryInterval: 100,
                cacheInitSegments: false,
                eventControllerRefreshDelay: 150,
                capabilities: {
                  filterUnsupportedEssentialProperties: true,
                  useMediaCapabilitiesApi: false
                },
                timeShiftBuffer: {
                  calcFromSegmentTimeline: false,
                  fallbackToSegmentTimeline: true
                },
                metrics: {
                  maxListDepth: 100
                },
                delay: {
                  liveDelayFragmentCount: NaN,
                  liveDelay: NaN,
                  useSuggestedPresentationDelay: true,
                  applyServiceDescription: true
                },
                protection: {
                  keepProtectionMediaKeys: false
                },
                buffer: {
                  enableSeekDecorrelationFix: false,
                  fastSwitchEnabled: true,
                  flushBufferAtTrackSwitch: false,
                  reuseExistingSourceBuffers: true,
                  bufferPruningInterval: 10,
                  bufferToKeep: 20,
                  bufferTimeAtTopQuality: 30,
                  bufferTimeAtTopQualityLongForm: 60,
                  initialBufferLevel: NaN,
                  stableBufferTime: 12,
                  longFormContentDurationThreshold: 600,
                  stallThreshold: 0.3,
                  useAppendWindow: true,
                  setStallState: true
                },
                gaps: {
                  jumpGaps: true,
                  jumpLargeGaps: true,
                  smallGapLimit: 1.5,
                  threshold: 0.3,
                  enableSeekFix: false
                },
                utcSynchronization: {
                  useManifestDateHeaderTimeSource: true,
                  backgroundAttempts: 2,
                  timeBetweenSyncAttempts: 30,
                  maximumTimeBetweenSyncAttempts: 600,
                  minimumTimeBetweenSyncAttempts: 2,
                  timeBetweenSyncAttemptsAdjustmentFactor: 2,
                  maximumAllowedDrift: 100,
                  enableBackgroundSyncAfterSegmentDownloadError: true,
                  defaultTimingSource: {
                    scheme: "urn:mpeg:dash:utc:http-xsdate:2014",
                    value: "https://time.akamai.com/?iso&ms"
                  }
                },
                scheduling: {
                  defaultTimeout: 500,
                  lowLatencyTimeout: 0,
                  scheduleWhilePaused: true
                },
                text: {
                  defaultEnabled: true
                },
                liveCatchup: {
                  minDrift: 0.02,
                  maxDrift: 12,
                  playbackRate: 0.5,
                  latencyThreshold: 60,
                  playbackBufferMin: 0.5,
                  enabled: false,
                  mode: _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].LIVE_CATCHUP_MODE_DEFAULT
                },
                lastBitrateCachingInfo: {
                  enabled: true,
                  ttl: 36e4
                },
                lastMediaSettingsCachingInfo: {
                  enabled: true,
                  ttl: 36e4
                },
                cacheLoadThresholds: {
                  video: 50,
                  audio: 5
                },
                trackSwitchMode: {
                  audio: _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].TRACK_SWITCH_MODE_ALWAYS_REPLACE,
                  video: _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].TRACK_SWITCH_MODE_NEVER_REPLACE
                },
                selectionModeForInitialTrack: _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,
                fragmentRequestTimeout: 0,
                retryIntervals: (_retryIntervals = {}, _defineProperty(_retryIntervals, _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_4__["HTTPRequest"].MPD_TYPE, 500), _defineProperty(_retryIntervals, _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_4__["HTTPRequest"].XLINK_EXPANSION_TYPE, 500), _defineProperty(_retryIntervals, _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_4__["HTTPRequest"].MEDIA_SEGMENT_TYPE, 1e3), _defineProperty(_retryIntervals, _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_4__["HTTPRequest"].INIT_SEGMENT_TYPE, 1e3), _defineProperty(_retryIntervals, _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_4__["HTTPRequest"].BITSTREAM_SWITCHING_SEGMENT_TYPE, 1e3), _defineProperty(_retryIntervals, _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_4__["HTTPRequest"].INDEX_SEGMENT_TYPE, 1e3), _defineProperty(_retryIntervals, _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_4__["HTTPRequest"].MSS_FRAGMENT_INFO_SEGMENT_TYPE, 1e3), _defineProperty(_retryIntervals, _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_4__["HTTPRequest"].LICENSE, 1e3), _defineProperty(_retryIntervals, _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_4__["HTTPRequest"].OTHER_TYPE, 1e3), _defineProperty(_retryIntervals, "lowLatencyReductionFactor", 10), _retryIntervals),
                retryAttempts: (_retryAttempts = {}, _defineProperty(_retryAttempts, _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_4__["HTTPRequest"].MPD_TYPE, 3), _defineProperty(_retryAttempts, _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_4__["HTTPRequest"].XLINK_EXPANSION_TYPE, 1), _defineProperty(_retryAttempts, _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_4__["HTTPRequest"].MEDIA_SEGMENT_TYPE, 3), _defineProperty(_retryAttempts, _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_4__["HTTPRequest"].INIT_SEGMENT_TYPE, 3), _defineProperty(_retryAttempts, _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_4__["HTTPRequest"].BITSTREAM_SWITCHING_SEGMENT_TYPE, 3), _defineProperty(_retryAttempts, _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_4__["HTTPRequest"].INDEX_SEGMENT_TYPE, 3), _defineProperty(_retryAttempts, _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_4__["HTTPRequest"].MSS_FRAGMENT_INFO_SEGMENT_TYPE, 3), _defineProperty(_retryAttempts, _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_4__["HTTPRequest"].LICENSE, 3), _defineProperty(_retryAttempts, _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_4__["HTTPRequest"].OTHER_TYPE, 3), _defineProperty(_retryAttempts, "lowLatencyMultiplyFactor", 5), _retryAttempts),
                abr: {
                  movingAverageMethod: _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].MOVING_AVERAGE_SLIDING_WINDOW,
                  ABRStrategy: _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].ABR_STRATEGY_DYNAMIC,
                  additionalAbrRules: {
                    insufficientBufferRule: true,
                    switchHistoryRule: true,
                    droppedFramesRule: true,
                    abandonRequestsRule: false
                  },
                  bandwidthSafetyFactor: 0.9,
                  useDefaultABRRules: true,
                  useDeadTimeLatency: true,
                  limitBitrateByPortal: false,
                  usePixelRatioInLimitBitrateByPortal: false,
                  maxBitrate: {
                    audio: -1,
                    video: -1
                  },
                  minBitrate: {
                    audio: -1,
                    video: -1
                  },
                  maxRepresentationRatio: {
                    audio: 1,
                    video: 1
                  },
                  initialBitrate: {
                    audio: -1,
                    video: -1
                  },
                  initialRepresentationRatio: {
                    audio: -1,
                    video: -1
                  },
                  autoSwitchBitrate: {
                    audio: true,
                    video: true
                  },
                  fetchThroughputCalculationMode: _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING
                },
                cmcd: {
                  enabled: false,
                  sid: null,
                  cid: null,
                  rtp: null,
                  rtpSafetyFactor: 5,
                  mode: _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CMCD_MODE_QUERY
                }
              },
              errors: {
                recoverAttempts: {
                  mediaErrorDecode: 5
                }
              }
            };
            var settings = _Utils_js__WEBPACK_IMPORTED_MODULE_1__["default"].clone(defaultSettings);
            function mixinSettings(source, dest, path) {
              for (var n2 in source) {
                if (source.hasOwnProperty(n2)) {
                  if (dest.hasOwnProperty(n2)) {
                    if (_typeof5(source[n2]) === "object" && source[n2] !== null) {
                      mixinSettings(source[n2], dest[n2], path.slice() + n2 + ".");
                    } else {
                      dest[n2] = _Utils_js__WEBPACK_IMPORTED_MODULE_1__["default"].clone(source[n2]);
                    }
                  }
                }
              }
            }
            function get() {
              return settings;
            }
            function update(settingsObj) {
              if (_typeof5(settingsObj) === "object") {
                mixinSettings(settingsObj, settings, "");
              }
            }
            function reset() {
              settings = _Utils_js__WEBPACK_IMPORTED_MODULE_1__["default"].clone(defaultSettings);
            }
            instance = {
              get,
              update,
              reset
            };
            return instance;
          }
          Settings.__dashjs_factory_name = "Settings";
          var factory = _FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getSingletonFactory(Settings);
          __webpack_exports__["default"] = factory;
        },
        "./src/core/Utils.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var path_browserify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/path-browserify/index.js");
          var path_browserify__WEBPACK_IMPORTED_MODULE_0___default = /* @__PURE__ */ __webpack_require__.n(path_browserify__WEBPACK_IMPORTED_MODULE_0__);
          function _typeof5(obj) {
            "@babel/helpers - typeof";
            if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
              _typeof5 = function _typeof6(obj2) {
                return typeof obj2;
              };
            } else {
              _typeof5 = function _typeof6(obj2) {
                return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
              };
            }
            return _typeof5(obj);
          }
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties3(target, props) {
            for (var i3 = 0; i3 < props.length; i3++) {
              var descriptor = props[i3];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass3(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties3(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties3(Constructor, staticProps);
            return Constructor;
          }
          var Utils = /* @__PURE__ */ function() {
            function Utils2() {
              _classCallCheck2(this, Utils2);
            }
            _createClass3(Utils2, null, [{
              key: "mixin",
              value: function mixin(dest, source, copy) {
                var s3;
                var empty = {};
                if (dest) {
                  for (var name in source) {
                    if (source.hasOwnProperty(name)) {
                      s3 = source[name];
                      if (!(name in dest) || dest[name] !== s3 && (!(name in empty) || empty[name] !== s3)) {
                        if (_typeof5(dest[name]) === "object" && dest[name] !== null) {
                          dest[name] = Utils2.mixin(dest[name], s3, copy);
                        } else {
                          dest[name] = copy(s3);
                        }
                      }
                    }
                  }
                }
                return dest;
              }
            }, {
              key: "clone",
              value: function clone(src) {
                if (!src || _typeof5(src) !== "object") {
                  return src;
                }
                var r3;
                if (src instanceof Array) {
                  r3 = [];
                  for (var i3 = 0, l3 = src.length; i3 < l3; ++i3) {
                    if (i3 in src) {
                      r3.push(Utils2.clone(src[i3]));
                    }
                  }
                } else {
                  r3 = {};
                }
                return Utils2.mixin(r3, src, Utils2.clone);
              }
            }, {
              key: "addAditionalQueryParameterToUrl",
              value: function addAditionalQueryParameterToUrl(url, params) {
                try {
                  if (!params || params.length === 0) {
                    return url;
                  }
                  var modifiedUrl = new URL(url);
                  params.forEach(function(param) {
                    if (param.key && param.value) {
                      modifiedUrl.searchParams.set(param.key, param.value);
                    }
                  });
                  return modifiedUrl.href;
                } catch (e) {
                  return url;
                }
              }
            }, {
              key: "parseHttpHeaders",
              value: function parseHttpHeaders(headerStr) {
                var headers = {};
                if (!headerStr) {
                  return headers;
                }
                var headerPairs = headerStr.trim().split("\r\n");
                for (var i3 = 0, ilen = headerPairs.length; i3 < ilen; i3++) {
                  var headerPair = headerPairs[i3];
                  var index = headerPair.indexOf(": ");
                  if (index > 0) {
                    headers[headerPair.substring(0, index)] = headerPair.substring(index + 2);
                  }
                }
                return headers;
              }
            }, {
              key: "generateUuid",
              value: function generateUuid() {
                var dt = new Date().getTime();
                var uuid = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(c3) {
                  var r3 = (dt + Math.random() * 16) % 16 | 0;
                  dt = Math.floor(dt / 16);
                  return (c3 == "x" ? r3 : r3 & 3 | 8).toString(16);
                });
                return uuid;
              }
            }, {
              key: "generateHashCode",
              value: function generateHashCode(string) {
                var hash2 = 0;
                if (string.length === 0) {
                  return hash2;
                }
                for (var i3 = 0; i3 < string.length; i3++) {
                  var chr = string.charCodeAt(i3);
                  hash2 = (hash2 << 5) - hash2 + chr;
                  hash2 |= 0;
                }
                return hash2;
              }
            }, {
              key: "getRelativeUrl",
              value: function getRelativeUrl(originalUrl, targetUrl) {
                try {
                  var original = new URL(originalUrl);
                  var target = new URL(targetUrl);
                  original.protocol = target.protocol;
                  if (original.origin !== target.origin) {
                    return targetUrl;
                  }
                  var relativePath = path_browserify__WEBPACK_IMPORTED_MODULE_0___default.a.relative(original.pathname.substr(0, original.pathname.lastIndexOf("/")), target.pathname.substr(0, target.pathname.lastIndexOf("/")));
                  var startIndexOffset = relativePath.length === 0 ? 1 : 0;
                  relativePath += target.pathname.substr(target.pathname.lastIndexOf("/") + startIndexOffset, target.pathname.length - 1);
                  if (target.pathname.length < relativePath.length) {
                    return target.pathname;
                  }
                  return relativePath;
                } catch (e) {
                  return targetUrl;
                }
              }
            }]);
            return Utils2;
          }();
          __webpack_exports__["default"] = Utils;
        },
        "./src/core/Version.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          __webpack_require__.d(__webpack_exports__, "getVersionString", function() {
            return getVersionString;
          });
          var VERSION = "4.1.0";
          function getVersionString() {
            return VERSION;
          }
        },
        "./src/core/errors/Errors.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _ErrorsBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/errors/ErrorsBase.js");
          function _typeof5(obj) {
            "@babel/helpers - typeof";
            if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
              _typeof5 = function _typeof6(obj2) {
                return typeof obj2;
              };
            } else {
              _typeof5 = function _typeof6(obj2) {
                return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
              };
            }
            return _typeof5(obj);
          }
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _inherits2(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            if (superClass)
              _setPrototypeOf2(subClass, superClass);
          }
          function _setPrototypeOf2(o2, p2) {
            _setPrototypeOf2 = Object.setPrototypeOf || function _setPrototypeOf3(o3, p3) {
              o3.__proto__ = p3;
              return o3;
            };
            return _setPrototypeOf2(o2, p2);
          }
          function _createSuper2(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct2();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf2(Derived), result;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf2(this).constructor;
                result = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn2(this, result);
            };
          }
          function _possibleConstructorReturn2(self2, call) {
            if (call && (_typeof5(call) === "object" || typeof call === "function")) {
              return call;
            }
            return _assertThisInitialized2(self2);
          }
          function _assertThisInitialized2(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct2() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e) {
              return false;
            }
          }
          function _getPrototypeOf2(o2) {
            _getPrototypeOf2 = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf3(o3) {
              return o3.__proto__ || Object.getPrototypeOf(o3);
            };
            return _getPrototypeOf2(o2);
          }
          var Errors = /* @__PURE__ */ function(_ErrorsBase) {
            _inherits2(Errors2, _ErrorsBase);
            var _super = _createSuper2(Errors2);
            function Errors2() {
              var _this;
              _classCallCheck2(this, Errors2);
              _this = _super.call(this);
              _this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE = 10;
              _this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE = 11;
              _this.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE = 12;
              _this.SEGMENT_BASE_LOADER_ERROR_CODE = 15;
              _this.TIME_SYNC_FAILED_ERROR_CODE = 16;
              _this.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE = 17;
              _this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE = 18;
              _this.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE = 19;
              _this.APPEND_ERROR_CODE = 20;
              _this.REMOVE_ERROR_CODE = 21;
              _this.DATA_UPDATE_FAILED_ERROR_CODE = 22;
              _this.CAPABILITY_MEDIASOURCE_ERROR_CODE = 23;
              _this.CAPABILITY_MEDIAKEYS_ERROR_CODE = 24;
              _this.DOWNLOAD_ERROR_ID_MANIFEST_CODE = 25;
              _this.DOWNLOAD_ERROR_ID_SIDX_CODE = 26;
              _this.DOWNLOAD_ERROR_ID_CONTENT_CODE = 27;
              _this.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE = 28;
              _this.DOWNLOAD_ERROR_ID_XLINK_CODE = 29;
              _this.MANIFEST_ERROR_ID_PARSE_CODE = 31;
              _this.MANIFEST_ERROR_ID_NOSTREAMS_CODE = 32;
              _this.TIMED_TEXT_ERROR_ID_PARSE_CODE = 33;
              _this.MANIFEST_ERROR_ID_MULTIPLEXED_CODE = 34;
              _this.MEDIASOURCE_TYPE_UNSUPPORTED_CODE = 35;
              _this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE = "parsing failed for ";
              _this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE = "Failed loading manifest: ";
              _this.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE = "Failed loading Xlink element: ";
              _this.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE = "Segments update failed";
              _this.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE = "no segments are available yet";
              _this.SEGMENT_BASE_LOADER_ERROR_MESSAGE = "error loading segment ranges from sidx";
              _this.TIME_SYNC_FAILED_ERROR_MESSAGE = "Failed to synchronize client and server time";
              _this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE = "request is null";
              _this.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE = "Failed to resolve a valid URL";
              _this.APPEND_ERROR_MESSAGE = "chunk is not defined";
              _this.REMOVE_ERROR_MESSAGE = "Removing data from the SourceBuffer";
              _this.DATA_UPDATE_FAILED_ERROR_MESSAGE = "Data update failed";
              _this.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE = "mediasource is not supported";
              _this.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE = "mediakeys is not supported";
              _this.TIMED_TEXT_ERROR_MESSAGE_PARSE = "parsing error :";
              _this.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE = "Error creating source buffer of type : ";
              return _this;
            }
            return Errors2;
          }(_ErrorsBase__WEBPACK_IMPORTED_MODULE_0__["default"]);
          var errors = new Errors();
          __webpack_exports__["default"] = errors;
        },
        "./src/core/errors/ErrorsBase.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties3(target, props) {
            for (var i3 = 0; i3 < props.length; i3++) {
              var descriptor = props[i3];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass3(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties3(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties3(Constructor, staticProps);
            return Constructor;
          }
          var ErrorsBase = /* @__PURE__ */ function() {
            function ErrorsBase2() {
              _classCallCheck2(this, ErrorsBase2);
            }
            _createClass3(ErrorsBase2, [{
              key: "extend",
              value: function extend(errors, config) {
                if (!errors)
                  return;
                var override = config ? config.override : false;
                var publicOnly = config ? config.publicOnly : false;
                for (var err in errors) {
                  if (!errors.hasOwnProperty(err) || this[err] && !override)
                    continue;
                  if (publicOnly && errors[err].indexOf("public_") === -1)
                    continue;
                  this[err] = errors[err];
                }
              }
            }]);
            return ErrorsBase2;
          }();
          __webpack_exports__["default"] = ErrorsBase;
        },
        "./src/core/events/CoreEvents.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _EventsBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/events/EventsBase.js");
          function _typeof5(obj) {
            "@babel/helpers - typeof";
            if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
              _typeof5 = function _typeof6(obj2) {
                return typeof obj2;
              };
            } else {
              _typeof5 = function _typeof6(obj2) {
                return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
              };
            }
            return _typeof5(obj);
          }
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _inherits2(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            if (superClass)
              _setPrototypeOf2(subClass, superClass);
          }
          function _setPrototypeOf2(o2, p2) {
            _setPrototypeOf2 = Object.setPrototypeOf || function _setPrototypeOf3(o3, p3) {
              o3.__proto__ = p3;
              return o3;
            };
            return _setPrototypeOf2(o2, p2);
          }
          function _createSuper2(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct2();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf2(Derived), result;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf2(this).constructor;
                result = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn2(this, result);
            };
          }
          function _possibleConstructorReturn2(self2, call) {
            if (call && (_typeof5(call) === "object" || typeof call === "function")) {
              return call;
            }
            return _assertThisInitialized2(self2);
          }
          function _assertThisInitialized2(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct2() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e) {
              return false;
            }
          }
          function _getPrototypeOf2(o2) {
            _getPrototypeOf2 = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf3(o3) {
              return o3.__proto__ || Object.getPrototypeOf(o3);
            };
            return _getPrototypeOf2(o2);
          }
          var CoreEvents = /* @__PURE__ */ function(_EventsBase) {
            _inherits2(CoreEvents2, _EventsBase);
            var _super = _createSuper2(CoreEvents2);
            function CoreEvents2() {
              var _this;
              _classCallCheck2(this, CoreEvents2);
              _this = _super.call(this);
              _this.ATTEMPT_BACKGROUND_SYNC = "attemptBackgroundSync";
              _this.BUFFERING_COMPLETED = "bufferingCompleted";
              _this.BUFFER_CLEARED = "bufferCleared";
              _this.BYTES_APPENDED_END_FRAGMENT = "bytesAppendedEndFragment";
              _this.BUFFER_REPLACEMENT_STARTED = "bufferReplacementStarted";
              _this.CHECK_FOR_EXISTENCE_COMPLETED = "checkForExistenceCompleted";
              _this.CURRENT_TRACK_CHANGED = "currentTrackChanged";
              _this.DATA_UPDATE_COMPLETED = "dataUpdateCompleted";
              _this.INBAND_EVENTS = "inbandEvents";
              _this.INITIAL_STREAM_SWITCH = "initialStreamSwitch";
              _this.INIT_FRAGMENT_LOADED = "initFragmentLoaded";
              _this.INIT_FRAGMENT_NEEDED = "initFragmentNeeded";
              _this.INTERNAL_MANIFEST_LOADED = "internalManifestLoaded";
              _this.ORIGINAL_MANIFEST_LOADED = "originalManifestLoaded";
              _this.LOADING_COMPLETED = "loadingCompleted";
              _this.LOADING_PROGRESS = "loadingProgress";
              _this.LOADING_DATA_PROGRESS = "loadingDataProgress";
              _this.LOADING_ABANDONED = "loadingAborted";
              _this.MANIFEST_UPDATED = "manifestUpdated";
              _this.MEDIA_FRAGMENT_LOADED = "mediaFragmentLoaded";
              _this.MEDIA_FRAGMENT_NEEDED = "mediaFragmentNeeded";
              _this.QUOTA_EXCEEDED = "quotaExceeded";
              _this.SEGMENT_LOCATION_BLACKLIST_ADD = "segmentLocationBlacklistAdd";
              _this.SEGMENT_LOCATION_BLACKLIST_CHANGED = "segmentLocationBlacklistChanged";
              _this.SERVICE_LOCATION_BLACKLIST_ADD = "serviceLocationBlacklistAdd";
              _this.SERVICE_LOCATION_BLACKLIST_CHANGED = "serviceLocationBlacklistChanged";
              _this.SET_FRAGMENTED_TEXT_AFTER_DISABLED = "setFragmentedTextAfterDisabled";
              _this.SET_NON_FRAGMENTED_TEXT = "setNonFragmentedText";
              _this.SOURCE_BUFFER_ERROR = "sourceBufferError";
              _this.STREAMS_COMPOSED = "streamsComposed";
              _this.STREAM_BUFFERING_COMPLETED = "streamBufferingCompleted";
              _this.STREAM_REQUESTING_COMPLETED = "streamRequestingCompleted";
              _this.TEXT_TRACKS_QUEUE_INITIALIZED = "textTracksQueueInitialized";
              _this.TIME_SYNCHRONIZATION_COMPLETED = "timeSynchronizationComplete";
              _this.UPDATE_TIME_SYNC_OFFSET = "updateTimeSyncOffset";
              _this.URL_RESOLUTION_FAILED = "urlResolutionFailed";
              _this.VIDEO_CHUNK_RECEIVED = "videoChunkReceived";
              _this.WALLCLOCK_TIME_UPDATED = "wallclockTimeUpdated";
              _this.XLINK_ELEMENT_LOADED = "xlinkElementLoaded";
              _this.XLINK_READY = "xlinkReady";
              _this.SEEK_TARGET = "seekTarget";
              return _this;
            }
            return CoreEvents2;
          }(_EventsBase__WEBPACK_IMPORTED_MODULE_0__["default"]);
          __webpack_exports__["default"] = CoreEvents;
        },
        "./src/core/events/Events.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _CoreEvents__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/events/CoreEvents.js");
          function _typeof5(obj) {
            "@babel/helpers - typeof";
            if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
              _typeof5 = function _typeof6(obj2) {
                return typeof obj2;
              };
            } else {
              _typeof5 = function _typeof6(obj2) {
                return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
              };
            }
            return _typeof5(obj);
          }
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _inherits2(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            if (superClass)
              _setPrototypeOf2(subClass, superClass);
          }
          function _setPrototypeOf2(o2, p2) {
            _setPrototypeOf2 = Object.setPrototypeOf || function _setPrototypeOf3(o3, p3) {
              o3.__proto__ = p3;
              return o3;
            };
            return _setPrototypeOf2(o2, p2);
          }
          function _createSuper2(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct2();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf2(Derived), result;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf2(this).constructor;
                result = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn2(this, result);
            };
          }
          function _possibleConstructorReturn2(self2, call) {
            if (call && (_typeof5(call) === "object" || typeof call === "function")) {
              return call;
            }
            return _assertThisInitialized2(self2);
          }
          function _assertThisInitialized2(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct2() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e) {
              return false;
            }
          }
          function _getPrototypeOf2(o2) {
            _getPrototypeOf2 = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf3(o3) {
              return o3.__proto__ || Object.getPrototypeOf(o3);
            };
            return _getPrototypeOf2(o2);
          }
          var Events = /* @__PURE__ */ function(_CoreEvents) {
            _inherits2(Events2, _CoreEvents);
            var _super = _createSuper2(Events2);
            function Events2() {
              _classCallCheck2(this, Events2);
              return _super.apply(this, arguments);
            }
            return Events2;
          }(_CoreEvents__WEBPACK_IMPORTED_MODULE_0__["default"]);
          var events = new Events();
          __webpack_exports__["default"] = events;
        },
        "./src/core/events/EventsBase.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties3(target, props) {
            for (var i3 = 0; i3 < props.length; i3++) {
              var descriptor = props[i3];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass3(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties3(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties3(Constructor, staticProps);
            return Constructor;
          }
          var EventsBase = /* @__PURE__ */ function() {
            function EventsBase2() {
              _classCallCheck2(this, EventsBase2);
            }
            _createClass3(EventsBase2, [{
              key: "extend",
              value: function extend(events, config) {
                if (!events)
                  return;
                var override = config ? config.override : false;
                var publicOnly = config ? config.publicOnly : false;
                for (var evt in events) {
                  if (!events.hasOwnProperty(evt) || this[evt] && !override)
                    continue;
                  if (publicOnly && events[evt].indexOf("public_") === -1)
                    continue;
                  this[evt] = events[evt];
                }
              }
            }]);
            return EventsBase2;
          }();
          __webpack_exports__["default"] = EventsBase;
        },
        "./src/dash/DashAdapter.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_DashConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/dash/constants/DashConstants.js");
          var _vo_RepresentationInfo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/dash/vo/RepresentationInfo.js");
          var _vo_MediaInfo__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/dash/vo/MediaInfo.js");
          var _vo_StreamInfo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/dash/vo/StreamInfo.js");
          var _vo_ManifestInfo__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/dash/vo/ManifestInfo.js");
          var _vo_Event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/dash/vo/Event.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _models_DashManifestModel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/dash/models/DashManifestModel.js");
          var _models_PatchManifestModel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/dash/models/PatchManifestModel.js");
          function DashAdapter() {
            var instance, dashManifestModel, patchManifestModel, voPeriods, currentMediaInfo, constants, cea608parser;
            var context = this.context;
            var PROFILE_DVB = "urn:dvb:dash:profile:dvb-dash:2014";
            function setup() {
              dashManifestModel = Object(_models_DashManifestModel__WEBPACK_IMPORTED_MODULE_7__["default"])(context).getInstance();
              patchManifestModel = Object(_models_PatchManifestModel__WEBPACK_IMPORTED_MODULE_8__["default"])(context).getInstance();
              reset();
            }
            function setConfig(config) {
              if (!config)
                return;
              if (config.constants) {
                constants = config.constants;
              }
              if (config.cea608parser) {
                cea608parser = config.cea608parser;
              }
              if (config.errHandler) {
                dashManifestModel.setConfig({
                  errHandler: config.errHandler
                });
              }
              if (config.BASE64) {
                dashManifestModel.setConfig({
                  BASE64: config.BASE64
                });
              }
            }
            function convertRepresentationToRepresentationInfo(voRepresentation) {
              if (voRepresentation) {
                var representationInfo = new _vo_RepresentationInfo__WEBPACK_IMPORTED_MODULE_1__["default"]();
                var realAdaptation = voRepresentation.adaptation.period.mpd.manifest.Period_asArray[voRepresentation.adaptation.period.index].AdaptationSet_asArray[voRepresentation.adaptation.index];
                var realRepresentation = dashManifestModel.getRepresentationFor(voRepresentation.index, realAdaptation);
                representationInfo.id = voRepresentation.id;
                representationInfo.quality = voRepresentation.index;
                representationInfo.bandwidth = dashManifestModel.getBandwidth(realRepresentation);
                representationInfo.fragmentDuration = voRepresentation.segmentDuration || (voRepresentation.segments && voRepresentation.segments.length > 0 ? voRepresentation.segments[0].duration : NaN);
                representationInfo.MSETimeOffset = voRepresentation.MSETimeOffset;
                representationInfo.mediaInfo = convertAdaptationToMediaInfo(voRepresentation.adaptation);
                return representationInfo;
              } else {
                return null;
              }
            }
            function getMediaInfoForType(streamInfo, type) {
              if (voPeriods.length === 0 || !streamInfo) {
                return null;
              }
              var selectedVoPeriod = getPeriodForStreamInfo(streamInfo, voPeriods);
              if (!selectedVoPeriod)
                return null;
              var voAdaptations = dashManifestModel.getAdaptationsForPeriod(selectedVoPeriod);
              var realAdaptation = getAdaptationForType(streamInfo.index, type, streamInfo);
              if (!realAdaptation)
                return null;
              var idx = dashManifestModel.getIndexForAdaptation(realAdaptation, voPeriods[0].mpd.manifest, streamInfo.index);
              return convertAdaptationToMediaInfo(voAdaptations[idx]);
            }
            function getIsMain(adaptation) {
              return dashManifestModel.getRolesForAdaptation(adaptation).filter(function(role) {
                return role.value === _constants_DashConstants__WEBPACK_IMPORTED_MODULE_0__["default"].MAIN;
              })[0];
            }
            function getAdaptationForType(periodIndex, type, streamInfo) {
              var adaptations = dashManifestModel.getAdaptationsForType(voPeriods[0].mpd.manifest, periodIndex, type);
              if (!adaptations || adaptations.length === 0)
                return null;
              if (adaptations.length > 1 && streamInfo) {
                var allMediaInfoForType = getAllMediaInfoForType(streamInfo, type);
                if (currentMediaInfo[streamInfo.id] && currentMediaInfo[streamInfo.id][type]) {
                  for (var i3 = 0, ln = adaptations.length; i3 < ln; i3++) {
                    if (areMediaInfosEqual(currentMediaInfo[streamInfo.id][type], allMediaInfoForType[i3])) {
                      return adaptations[i3];
                    }
                  }
                }
                for (var _i = 0, _ln = adaptations.length; _i < _ln; _i++) {
                  if (getIsMain(adaptations[_i])) {
                    return adaptations[_i];
                  }
                }
              }
              return adaptations[0];
            }
            function areMediaInfosEqual(mInfoOne, mInfoTwo) {
              if (!mInfoOne || !mInfoTwo) {
                return false;
              }
              var sameId = mInfoOne.id === mInfoTwo.id;
              var sameCodec = mInfoOne.codec === mInfoTwo.codec;
              var sameViewpoint = mInfoOne.viewpoint === mInfoTwo.viewpoint;
              var sameLang = mInfoOne.lang === mInfoTwo.lang;
              var sameRoles = mInfoOne.roles.toString() === mInfoTwo.roles.toString();
              var sameAccessibility = mInfoOne.accessibility.toString() === mInfoTwo.accessibility.toString();
              var sameAudioChannelConfiguration = mInfoOne.audioChannelConfiguration.toString() === mInfoTwo.audioChannelConfiguration.toString();
              return sameId && sameCodec && sameViewpoint && sameLang && sameRoles && sameAccessibility && sameAudioChannelConfiguration;
            }
            function _getAllMediaInfo(manifest, period, streamInfo, adaptations, type, embeddedText) {
              var mediaArr = [];
              var data, media, idx, i3, j, ln;
              if (!adaptations || adaptations.length === 0) {
                return [];
              }
              var voAdaptations = dashManifestModel.getAdaptationsForPeriod(period);
              for (i3 = 0, ln = adaptations.length; i3 < ln; i3++) {
                data = adaptations[i3];
                idx = dashManifestModel.getIndexForAdaptation(data, manifest, streamInfo.index);
                media = convertAdaptationToMediaInfo(voAdaptations[idx]);
                if (embeddedText) {
                  var accessibilityLength = media.accessibility.length;
                  for (j = 0; j < accessibilityLength; j++) {
                    if (!media) {
                      continue;
                    }
                    var accessibility = media.accessibility[j];
                    if (accessibility.indexOf("cea-608:") === 0) {
                      var value = accessibility.substring(8);
                      var parts = value.split(";");
                      if (parts[0].substring(0, 2) === "CC") {
                        for (j = 0; j < parts.length; j++) {
                          if (!media) {
                            media = convertAdaptationToMediaInfo.call(this, voAdaptations[idx]);
                          }
                          convertVideoInfoToEmbeddedTextInfo(media, parts[j].substring(0, 3), parts[j].substring(4));
                          mediaArr.push(media);
                          media = null;
                        }
                      } else {
                        for (j = 0; j < parts.length; j++) {
                          if (!media) {
                            media = convertAdaptationToMediaInfo.call(this, voAdaptations[idx]);
                          }
                          convertVideoInfoToEmbeddedTextInfo(media, "CC" + (j + 1), parts[j]);
                          mediaArr.push(media);
                          media = null;
                        }
                      }
                    } else if (accessibility.indexOf("cea-608") === 0) {
                      convertVideoInfoToEmbeddedTextInfo(media, constants.CC1, "eng");
                      mediaArr.push(media);
                      media = null;
                    }
                  }
                } else if (type === constants.IMAGE) {
                  convertVideoInfoToThumbnailInfo(media);
                  mediaArr.push(media);
                  media = null;
                } else if (media) {
                  mediaArr.push(media);
                }
              }
              return mediaArr;
            }
            function getAllMediaInfoForType(streamInfo, type, externalManifest) {
              var voLocalPeriods = voPeriods;
              var manifest = externalManifest;
              var mediaArr = [];
              if (manifest) {
                checkConfig();
                voLocalPeriods = getRegularPeriods(manifest);
              } else {
                if (voPeriods.length > 0) {
                  manifest = voPeriods[0].mpd.manifest;
                } else {
                  return mediaArr;
                }
              }
              var selectedVoPeriod = getPeriodForStreamInfo(streamInfo, voLocalPeriods);
              var adaptationsForType = dashManifestModel.getAdaptationsForType(manifest, streamInfo ? streamInfo.index : null, type);
              mediaArr = _getAllMediaInfo(manifest, selectedVoPeriod, streamInfo, adaptationsForType, type);
              if (type === constants.TEXT) {
                adaptationsForType = dashManifestModel.getAdaptationsForType(manifest, streamInfo ? streamInfo.index : null, constants.VIDEO);
                mediaArr = mediaArr.concat(_getAllMediaInfo(manifest, selectedVoPeriod, streamInfo, adaptationsForType, type, true));
              }
              return mediaArr;
            }
            function updatePeriods(newManifest) {
              if (!newManifest)
                return null;
              checkConfig();
              voPeriods = getRegularPeriods(newManifest);
            }
            function getStreamsInfo(externalManifest, maxStreamsInfo) {
              var streams = [];
              var voLocalPeriods = voPeriods;
              if (externalManifest) {
                checkConfig();
                voLocalPeriods = getRegularPeriods(externalManifest);
              }
              if (voLocalPeriods.length > 0) {
                if (!maxStreamsInfo || maxStreamsInfo > voLocalPeriods.length) {
                  maxStreamsInfo = voLocalPeriods.length;
                }
                for (var i3 = 0; i3 < maxStreamsInfo; i3++) {
                  streams.push(convertPeriodToStreamInfo(voLocalPeriods[i3]));
                }
              }
              return streams;
            }
            function getRealAdaptation(streamInfo, mediaInfo) {
              var id, realAdaptation;
              var selectedVoPeriod = getPeriodForStreamInfo(streamInfo, voPeriods);
              id = mediaInfo ? mediaInfo.id : null;
              if (voPeriods.length > 0 && selectedVoPeriod) {
                realAdaptation = id ? dashManifestModel.getAdaptationForId(id, voPeriods[0].mpd.manifest, selectedVoPeriod.index) : dashManifestModel.getAdaptationForIndex(mediaInfo ? mediaInfo.index : null, voPeriods[0].mpd.manifest, selectedVoPeriod.index);
              }
              return realAdaptation;
            }
            function getEssentialPropertiesForRepresentation(representation) {
              try {
                return dashManifestModel.getEssentialPropertiesForRepresentation(representation);
              } catch (e) {
                return [];
              }
            }
            function getRealPeriodByIndex(index) {
              return dashManifestModel.getRealPeriodForIndex(index, voPeriods[0].mpd.manifest);
            }
            function getVoRepresentations(mediaInfo) {
              var voReps;
              var voAdaptation = getAdaptationForMediaInfo(mediaInfo);
              voReps = dashManifestModel.getRepresentationsForAdaptation(voAdaptation);
              return voReps;
            }
            function getEvent(eventBox, eventStreams, mediaStartTime, voRepresentation) {
              try {
                if (!eventBox || !eventStreams || isNaN(mediaStartTime) || !voRepresentation) {
                  return null;
                }
                var schemeIdUri = eventBox.scheme_id_uri;
                var value = eventBox.value;
                if (!eventStreams[schemeIdUri + "/" + value]) {
                  return null;
                }
                var event = new _vo_Event__WEBPACK_IMPORTED_MODULE_5__["default"]();
                var timescale = eventBox.timescale || 1;
                var periodStart = voRepresentation.adaptation.period.start;
                var eventStream = eventStreams[schemeIdUri + "/" + value];
                var presentationTimeOffset = !isNaN(voRepresentation.presentationTimeOffset) ? voRepresentation.presentationTimeOffset : !isNaN(eventStream.presentationTimeOffset) ? eventStream.presentationTimeOffset : 0;
                var presentationTimeDelta = eventBox.presentation_time_delta / timescale;
                var calculatedPresentationTime;
                if (eventBox.version === 0) {
                  calculatedPresentationTime = periodStart + mediaStartTime - presentationTimeOffset + presentationTimeDelta;
                } else {
                  calculatedPresentationTime = periodStart - presentationTimeOffset + presentationTimeDelta;
                }
                var duration = eventBox.event_duration;
                var id = eventBox.id;
                var messageData = eventBox.message_data;
                event.eventStream = eventStream;
                event.eventStream.value = value;
                event.eventStream.timescale = timescale;
                event.duration = duration;
                event.id = id;
                event.calculatedPresentationTime = calculatedPresentationTime;
                event.messageData = messageData;
                event.presentationTimeDelta = presentationTimeDelta;
                return event;
              } catch (e) {
                return null;
              }
            }
            function getEventsFor(info, voRepresentation) {
              var events = [];
              if (voPeriods.length > 0) {
                var manifest = voPeriods[0].mpd.manifest;
                if (info instanceof _vo_StreamInfo__WEBPACK_IMPORTED_MODULE_3__["default"]) {
                  events = dashManifestModel.getEventsForPeriod(getPeriodForStreamInfo(info, voPeriods));
                } else if (info instanceof _vo_MediaInfo__WEBPACK_IMPORTED_MODULE_2__["default"]) {
                  events = dashManifestModel.getEventStreamForAdaptationSet(manifest, getAdaptationForMediaInfo(info));
                } else if (info instanceof _vo_RepresentationInfo__WEBPACK_IMPORTED_MODULE_1__["default"]) {
                  events = dashManifestModel.getEventStreamForRepresentation(manifest, voRepresentation);
                }
              }
              return events;
            }
            function setCurrentMediaInfo(streamId, type, mediaInfo) {
              currentMediaInfo[streamId] = currentMediaInfo[streamId] || {};
              currentMediaInfo[streamId][type] = currentMediaInfo[streamId][type] || {};
              currentMediaInfo[streamId][type] = mediaInfo;
            }
            function getIsTextTrack(adaptation) {
              return dashManifestModel.getIsText(adaptation);
            }
            function getUTCTimingSources() {
              var manifest = getManifest();
              return dashManifestModel.getUTCTimingSources(manifest);
            }
            function getSuggestedPresentationDelay() {
              var mpd = voPeriods.length > 0 ? voPeriods[0].mpd : null;
              return dashManifestModel.getSuggestedPresentationDelay(mpd);
            }
            function getAvailabilityStartTime(externalManifest) {
              var mpd = getMpd(externalManifest);
              return dashManifestModel.getAvailabilityStartTime(mpd);
            }
            function getIsDynamic(externalManifest) {
              var manifest = getManifest(externalManifest);
              return dashManifestModel.getIsDynamic(manifest);
            }
            function getDuration(externalManifest) {
              var manifest = getManifest(externalManifest);
              return dashManifestModel.getDuration(manifest);
            }
            function getRegularPeriods(externalManifest) {
              var mpd = getMpd(externalManifest);
              return dashManifestModel.getRegularPeriods(mpd);
            }
            function getMpd(externalManifest) {
              var manifest = getManifest(externalManifest);
              return dashManifestModel.getMpd(manifest);
            }
            function getLocation2(manifest) {
              return dashManifestModel.getLocation(manifest);
            }
            function getManifestUpdatePeriod(manifest) {
              var latencyOfLastUpdate = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
              return dashManifestModel.getManifestUpdatePeriod(manifest, latencyOfLastUpdate);
            }
            function getPublishTime(manifest) {
              return dashManifestModel.getPublishTime(manifest);
            }
            function getPatchLocation(manifest) {
              var patchLocation = dashManifestModel.getPatchLocation(manifest);
              var publishTime = dashManifestModel.getPublishTime(manifest);
              if (!patchLocation || !publishTime) {
                return null;
              }
              if (patchLocation.hasOwnProperty("ttl") && publishTime) {
                var ttl = parseFloat(patchLocation.ttl) * 1e3;
                if (publishTime.getTime() + ttl <= new Date().getTime()) {
                  return null;
                }
              }
              return patchLocation.__text;
            }
            function getIsDVB(manifest) {
              return dashManifestModel.hasProfile(manifest, PROFILE_DVB);
            }
            function getIsPatch(manifest) {
              return patchManifestModel.getIsPatch(manifest);
            }
            function getBaseURLsFromElement(node) {
              return dashManifestModel.getBaseURLsFromElement(node);
            }
            function getRepresentationSortFunction() {
              return dashManifestModel.getRepresentationSortFunction();
            }
            function getCodec(adaptation, representationId, addResolutionInfo) {
              return dashManifestModel.getCodec(adaptation, representationId, addResolutionInfo);
            }
            function getBandwidthForRepresentation(representationId, periodIdx) {
              var representation;
              var period = getPeriod(periodIdx);
              representation = findRepresentation(period, representationId);
              return representation ? representation.bandwidth : null;
            }
            function getIndexForRepresentation(representationId, periodIdx) {
              var period = getPeriod(periodIdx);
              return findRepresentationIndex(period, representationId);
            }
            function getMaxIndexForBufferType(bufferType, periodIdx) {
              var period = getPeriod(periodIdx);
              return findMaxBufferIndex(period, bufferType);
            }
            function getPeriodById(id) {
              if (!id || voPeriods.length === 0) {
                return null;
              }
              var periods = voPeriods.filter(function(p2) {
                return p2.id === id;
              });
              if (periods && periods.length > 0) {
                return periods[0];
              }
              return null;
            }
            function getIsTypeOf(adaptation, type) {
              return dashManifestModel.getIsTypeOf(adaptation, type);
            }
            function reset() {
              voPeriods = [];
              currentMediaInfo = {};
            }
            function isPatchValid(manifest, patch) {
              var manifestId = dashManifestModel.getId(manifest);
              var patchManifestId = patchManifestModel.getMpdId(patch);
              var manifestPublishTime = dashManifestModel.getPublishTime(manifest);
              var patchPublishTime = patchManifestModel.getPublishTime(patch);
              var originalManifestPublishTime = patchManifestModel.getOriginalPublishTime(patch);
              return !!(manifestId && patchManifestId && manifestId == patchManifestId && manifestPublishTime && originalManifestPublishTime && manifestPublishTime.getTime() == originalManifestPublishTime.getTime() && patchPublishTime && manifestPublishTime.getTime() < patchPublishTime.getTime());
            }
            function applyPatchToManifest(manifest, patch) {
              patchManifestModel.getPatchOperations(patch).forEach(function(operation) {
                var result = operation.getMpdTarget(manifest);
                if (result === null) {
                  return;
                }
                var name = result.name, target = result.target, leaf = result.leaf;
                if (operation.xpath.findsAttribute()) {
                  switch (operation.action) {
                    case "add":
                    case "replace":
                      target[name] = operation.value;
                      break;
                    case "remove":
                      delete target[name];
                      break;
                  }
                  return;
                }
                var relativePosition = (target[name + "_asArray"] || []).indexOf(leaf);
                var insertBefore = operation.position === "prepend" || operation.position === "before";
                if (operation.action === "remove" || operation.action === "replace") {
                  delete target[name];
                  if (relativePosition != -1) {
                    var targetArray = target[name + "_asArray"];
                    targetArray.splice(relativePosition, 1);
                    if (targetArray.length > 1) {
                      target[name] = targetArray;
                    } else if (targetArray.length == 1) {
                      target[name] = targetArray[0];
                    } else {
                      delete target[name + "_asArray"];
                    }
                  }
                }
                if (operation.action === "add" || operation.action === "replace") {
                  Object.keys(operation.value).forEach(function(insert) {
                    var insertNodes = operation.value[insert];
                    var updatedNodes = target[insert + "_asArray"] || [];
                    if (updatedNodes.length === 0 && target[insert]) {
                      updatedNodes.push(target[insert]);
                    }
                    if (updatedNodes.length === 0) {
                      updatedNodes = insertNodes;
                    } else {
                      var position = updatedNodes.length;
                      if (insert == name && relativePosition != -1) {
                        position = relativePosition + (insertBefore ? 0 : 1) + (operation.action == "replace" ? -1 : 0);
                      } else {
                        position = insertBefore ? 0 : updatedNodes.length;
                      }
                      updatedNodes.splice.apply(updatedNodes, [position, 0].concat(insertNodes));
                    }
                    target[insert + "_asArray"] = updatedNodes;
                    target[insert] = updatedNodes.length == 1 ? updatedNodes[0] : updatedNodes;
                  });
                }
              });
            }
            function getManifest(externalManifest) {
              return externalManifest ? externalManifest : voPeriods.length > 0 ? voPeriods[0].mpd.manifest : null;
            }
            function getAdaptationForMediaInfo(mediaInfo) {
              try {
                var selectedVoPeriod = getPeriodForStreamInfo(mediaInfo.streamInfo, voPeriods);
                var voAdaptations = dashManifestModel.getAdaptationsForPeriod(selectedVoPeriod);
                if (!mediaInfo || !mediaInfo.streamInfo || mediaInfo.streamInfo.id === void 0 || !voAdaptations)
                  return null;
                return voAdaptations[mediaInfo.index];
              } catch (e) {
                return null;
              }
            }
            function getPeriodForStreamInfo(streamInfo, voPeriodsArray) {
              var ln = voPeriodsArray.length;
              for (var i3 = 0; i3 < ln; i3++) {
                var voPeriod = voPeriodsArray[i3];
                if (streamInfo && streamInfo.id === voPeriod.id)
                  return voPeriod;
              }
              return null;
            }
            function convertAdaptationToMediaInfo(adaptation) {
              if (!adaptation) {
                return null;
              }
              var mediaInfo = new _vo_MediaInfo__WEBPACK_IMPORTED_MODULE_2__["default"]();
              var realAdaptation = adaptation.period.mpd.manifest.Period_asArray[adaptation.period.index].AdaptationSet_asArray[adaptation.index];
              var viewpoint;
              mediaInfo.id = adaptation.id;
              mediaInfo.index = adaptation.index;
              mediaInfo.type = adaptation.type;
              mediaInfo.streamInfo = convertPeriodToStreamInfo(adaptation.period);
              mediaInfo.representationCount = dashManifestModel.getRepresentationCount(realAdaptation);
              mediaInfo.labels = dashManifestModel.getLabelsForAdaptation(realAdaptation);
              mediaInfo.lang = dashManifestModel.getLanguageForAdaptation(realAdaptation);
              viewpoint = dashManifestModel.getViewpointForAdaptation(realAdaptation);
              mediaInfo.viewpoint = viewpoint ? viewpoint.value : void 0;
              mediaInfo.accessibility = dashManifestModel.getAccessibilityForAdaptation(realAdaptation).map(function(accessibility) {
                var accessibilityValue = accessibility.value;
                var accessibilityData = accessibilityValue;
                if (accessibility.schemeIdUri && accessibility.schemeIdUri.search("cea-608") >= 0 && typeof cea608parser !== "undefined") {
                  if (accessibilityValue) {
                    accessibilityData = "cea-608:" + accessibilityValue;
                  } else {
                    accessibilityData = "cea-608";
                  }
                  mediaInfo.embeddedCaptions = true;
                }
                return accessibilityData;
              });
              mediaInfo.audioChannelConfiguration = dashManifestModel.getAudioChannelConfigurationForAdaptation(realAdaptation).map(function(audioChannelConfiguration) {
                return audioChannelConfiguration.value;
              });
              if (mediaInfo.audioChannelConfiguration.length === 0 && Array.isArray(realAdaptation.Representation_asArray) && realAdaptation.Representation_asArray.length > 0) {
                mediaInfo.audioChannelConfiguration = dashManifestModel.getAudioChannelConfigurationForRepresentation(realAdaptation.Representation_asArray[0]).map(function(audioChannelConfiguration) {
                  return audioChannelConfiguration.value;
                });
              }
              mediaInfo.roles = dashManifestModel.getRolesForAdaptation(realAdaptation).map(function(role) {
                return role.value;
              });
              mediaInfo.codec = dashManifestModel.getCodec(realAdaptation);
              mediaInfo.mimeType = dashManifestModel.getMimeType(realAdaptation);
              mediaInfo.contentProtection = dashManifestModel.getContentProtectionData(realAdaptation);
              mediaInfo.bitrateList = dashManifestModel.getBitrateListForAdaptation(realAdaptation);
              mediaInfo.selectionPriority = dashManifestModel.getSelectionPriority(realAdaptation);
              if (mediaInfo.contentProtection) {
                mediaInfo.contentProtection.forEach(function(item) {
                  item.KID = dashManifestModel.getKID(item);
                });
              }
              mediaInfo.isText = dashManifestModel.getIsText(realAdaptation);
              mediaInfo.supplementalProperties = dashManifestModel.getSupplementalProperties(realAdaptation);
              mediaInfo.isFragmented = dashManifestModel.getIsFragmented(realAdaptation);
              mediaInfo.isEmbedded = false;
              return mediaInfo;
            }
            function convertVideoInfoToEmbeddedTextInfo(mediaInfo, channel, lang) {
              mediaInfo.id = channel;
              mediaInfo.index = 100 + parseInt(channel.substring(2, 3));
              mediaInfo.type = constants.TEXT;
              mediaInfo.codec = "cea-608-in-SEI";
              mediaInfo.isEmbedded = true;
              mediaInfo.isFragmented = false;
              mediaInfo.lang = lang;
              mediaInfo.roles = ["caption"];
            }
            function convertVideoInfoToThumbnailInfo(mediaInfo) {
              mediaInfo.type = constants.IMAGE;
            }
            function convertPeriodToStreamInfo(period) {
              var streamInfo = new _vo_StreamInfo__WEBPACK_IMPORTED_MODULE_3__["default"]();
              var THRESHOLD = 1;
              streamInfo.id = period.id;
              streamInfo.index = period.index;
              streamInfo.start = period.start;
              streamInfo.duration = period.duration;
              streamInfo.manifestInfo = convertMpdToManifestInfo(period.mpd);
              streamInfo.isLast = period.mpd.manifest.Period_asArray.length === 1 || Math.abs(streamInfo.start + streamInfo.duration - streamInfo.manifestInfo.duration) < THRESHOLD;
              return streamInfo;
            }
            function convertMpdToManifestInfo(mpd) {
              var manifestInfo = new _vo_ManifestInfo__WEBPACK_IMPORTED_MODULE_4__["default"]();
              manifestInfo.dvrWindowSize = mpd.timeShiftBufferDepth;
              manifestInfo.loadedTime = mpd.manifest.loadedTime;
              manifestInfo.availableFrom = mpd.availabilityStartTime;
              manifestInfo.minBufferTime = mpd.manifest.minBufferTime;
              manifestInfo.maxFragmentDuration = mpd.maxSegmentDuration;
              manifestInfo.duration = dashManifestModel.getDuration(mpd.manifest);
              manifestInfo.isDynamic = dashManifestModel.getIsDynamic(mpd.manifest);
              manifestInfo.serviceDescriptions = dashManifestModel.getServiceDescriptions(mpd.manifest);
              manifestInfo.protocol = mpd.manifest.protocol;
              return manifestInfo;
            }
            function checkConfig() {
              if (!constants) {
                throw new Error("setConfig function has to be called previously");
              }
            }
            function getPeriod(periodIdx) {
              return voPeriods.length > 0 ? voPeriods[0].mpd.manifest.Period_asArray[periodIdx] : null;
            }
            function findRepresentationIndex(period, representationId) {
              var index = findRepresentation(period, representationId, true);
              return index !== null ? index : -1;
            }
            function findRepresentation(period, representationId, returnIndex) {
              var adaptationSet, adaptationSetArray, representation, representationArray, adaptationSetArrayIndex, representationArrayIndex;
              if (period) {
                adaptationSetArray = period.AdaptationSet_asArray;
                for (adaptationSetArrayIndex = 0; adaptationSetArrayIndex < adaptationSetArray.length; adaptationSetArrayIndex = adaptationSetArrayIndex + 1) {
                  adaptationSet = adaptationSetArray[adaptationSetArrayIndex];
                  representationArray = adaptationSet.Representation_asArray;
                  for (representationArrayIndex = 0; representationArrayIndex < representationArray.length; representationArrayIndex = representationArrayIndex + 1) {
                    representation = representationArray[representationArrayIndex];
                    if (representationId === representation.id) {
                      if (returnIndex) {
                        return representationArrayIndex;
                      } else {
                        return representation;
                      }
                    }
                  }
                }
              }
              return null;
            }
            function findMaxBufferIndex(period, bufferType) {
              var adaptationSet, adaptationSetArray, representationArray, adaptationSetArrayIndex;
              if (!period || !bufferType)
                return -1;
              adaptationSetArray = period.AdaptationSet_asArray;
              for (adaptationSetArrayIndex = 0; adaptationSetArrayIndex < adaptationSetArray.length; adaptationSetArrayIndex = adaptationSetArrayIndex + 1) {
                adaptationSet = adaptationSetArray[adaptationSetArrayIndex];
                representationArray = adaptationSet.Representation_asArray;
                if (dashManifestModel.getIsTypeOf(adaptationSet, bufferType)) {
                  return representationArray.length;
                }
              }
              return -1;
            }
            instance = {
              getBandwidthForRepresentation,
              getIndexForRepresentation,
              getMaxIndexForBufferType,
              convertRepresentationToRepresentationInfo,
              getStreamsInfo,
              getMediaInfoForType,
              getAllMediaInfoForType,
              getAdaptationForType,
              getRealAdaptation,
              getRealPeriodByIndex,
              getEssentialPropertiesForRepresentation,
              getVoRepresentations,
              getEventsFor,
              getEvent,
              getMpd,
              setConfig,
              updatePeriods,
              getIsTextTrack,
              getUTCTimingSources,
              getSuggestedPresentationDelay,
              getAvailabilityStartTime,
              getIsTypeOf,
              getIsDynamic,
              getDuration,
              getRegularPeriods,
              getLocation: getLocation2,
              getPatchLocation,
              getManifestUpdatePeriod,
              getPublishTime,
              getIsDVB,
              getIsPatch,
              getBaseURLsFromElement,
              getRepresentationSortFunction,
              getCodec,
              getPeriodById,
              setCurrentMediaInfo,
              isPatchValid,
              applyPatchToManifest,
              areMediaInfosEqual,
              reset
            };
            setup();
            return instance;
          }
          DashAdapter.__dashjs_factory_name = "DashAdapter";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_6__["default"].getSingletonFactory(DashAdapter);
        },
        "./src/dash/DashHandler.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _streaming_vo_FragmentRequest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/vo/FragmentRequest.js");
          var _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/vo/metrics/HTTPRequest.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/MediaPlayerEvents.js");
          var _utils_SegmentsUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/dash/utils/SegmentsUtils.js");
          var _constants_DashConstants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/dash/constants/DashConstants.js");
          var DEFAULT_ADJUST_SEEK_TIME_THRESHOLD = 0.5;
          function DashHandler(config) {
            config = config || {};
            var eventBus = config.eventBus;
            var debug = config.debug;
            var urlUtils = config.urlUtils;
            var type = config.type;
            var streamInfo = config.streamInfo;
            var segmentsController = config.segmentsController;
            var timelineConverter = config.timelineConverter;
            var baseURLController = config.baseURLController;
            var instance, logger, lastSegment, isDynamicManifest, mediaHasFinished;
            function setup() {
              logger = debug.getLogger(instance);
              resetInitialSettings();
              eventBus.on(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_3__["default"].DYNAMIC_TO_STATIC, _onDynamicToStatic, instance);
            }
            function initialize(isDynamic) {
              isDynamicManifest = isDynamic;
              mediaHasFinished = false;
              segmentsController.initialize(isDynamic);
            }
            function getStreamId() {
              return streamInfo.id;
            }
            function getType() {
              return type;
            }
            function getStreamInfo() {
              return streamInfo;
            }
            function resetInitialSettings() {
              lastSegment = null;
            }
            function reset() {
              resetInitialSettings();
              eventBus.off(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_3__["default"].DYNAMIC_TO_STATIC, _onDynamicToStatic, instance);
            }
            function _setRequestUrl(request, destination, representation) {
              var baseURL = baseURLController.resolve(representation.path);
              var url, serviceLocation;
              if (!baseURL || destination === baseURL.url || !urlUtils.isRelative(destination)) {
                url = destination;
              } else {
                url = baseURL.url;
                serviceLocation = baseURL.serviceLocation;
                if (destination) {
                  url = urlUtils.resolve(destination, url);
                }
              }
              if (urlUtils.isRelative(url)) {
                return false;
              }
              request.url = url;
              request.serviceLocation = serviceLocation;
              return true;
            }
            function getInitRequest(mediaInfo, representation) {
              if (!representation)
                return null;
              return _generateInitRequest(mediaInfo, representation, getType());
            }
            function _generateInitRequest(mediaInfo, representation, mediaType) {
              var request = new _streaming_vo_FragmentRequest__WEBPACK_IMPORTED_MODULE_0__["default"]();
              var period = representation.adaptation.period;
              var presentationStartTime = period.start;
              request.mediaType = mediaType;
              request.type = _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_1__["HTTPRequest"].INIT_SEGMENT_TYPE;
              request.range = representation.range;
              request.availabilityStartTime = timelineConverter.calcAvailabilityStartTimeFromPresentationTime(presentationStartTime, representation, isDynamicManifest);
              request.availabilityEndTime = timelineConverter.calcAvailabilityEndTimeFromPresentationTime(presentationStartTime + period.duration, representation, isDynamicManifest);
              request.quality = representation.index;
              request.mediaInfo = mediaInfo;
              request.representationId = representation.id;
              if (_setRequestUrl(request, representation.initialization, representation)) {
                request.url = Object(_utils_SegmentsUtils__WEBPACK_IMPORTED_MODULE_4__["replaceTokenForTemplate"])(request.url, "Bandwidth", representation.bandwidth);
                return request;
              }
            }
            function _getRequestForSegment(mediaInfo, segment) {
              if (segment === null || segment === void 0) {
                return null;
              }
              var request = new _streaming_vo_FragmentRequest__WEBPACK_IMPORTED_MODULE_0__["default"]();
              var representation = segment.representation;
              var bandwidth = representation.adaptation.period.mpd.manifest.Period_asArray[representation.adaptation.period.index].AdaptationSet_asArray[representation.adaptation.index].Representation_asArray[representation.index].bandwidth;
              var url = segment.media;
              url = Object(_utils_SegmentsUtils__WEBPACK_IMPORTED_MODULE_4__["replaceTokenForTemplate"])(url, "Number", segment.replacementNumber);
              url = Object(_utils_SegmentsUtils__WEBPACK_IMPORTED_MODULE_4__["replaceTokenForTemplate"])(url, "Time", segment.replacementTime);
              url = Object(_utils_SegmentsUtils__WEBPACK_IMPORTED_MODULE_4__["replaceTokenForTemplate"])(url, "Bandwidth", bandwidth);
              url = Object(_utils_SegmentsUtils__WEBPACK_IMPORTED_MODULE_4__["replaceIDForTemplate"])(url, representation.id);
              url = Object(_utils_SegmentsUtils__WEBPACK_IMPORTED_MODULE_4__["unescapeDollarsInTemplate"])(url);
              request.mediaType = getType();
              request.type = _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_1__["HTTPRequest"].MEDIA_SEGMENT_TYPE;
              request.range = segment.mediaRange;
              request.startTime = segment.presentationStartTime;
              request.mediaStartTime = segment.mediaStartTime;
              request.duration = segment.duration;
              request.timescale = representation.timescale;
              request.availabilityStartTime = segment.availabilityStartTime;
              request.availabilityEndTime = segment.availabilityEndTime;
              request.wallStartTime = segment.wallStartTime;
              request.quality = representation.index;
              request.index = segment.index;
              request.mediaInfo = mediaInfo;
              request.adaptationIndex = representation.adaptation.index;
              request.representationId = representation.id;
              if (_setRequestUrl(request, url, representation)) {
                return request;
              }
            }
            function isLastSegmentRequested(representation, bufferingTime) {
              if (!representation || !lastSegment) {
                return false;
              }
              if (mediaHasFinished) {
                return true;
              }
              if (!isFinite(representation.adaptation.period.duration)) {
                return false;
              }
              if (lastSegment.presentationStartTime + lastSegment.duration > bufferingTime) {
                return false;
              }
              if (representation.mediaFinishedInformation && !isNaN(representation.mediaFinishedInformation.numberOfSegments) && !isNaN(lastSegment.index) && lastSegment.index >= representation.mediaFinishedInformation.numberOfSegments - 1) {
                if (!isDynamicManifest || representation.segmentInfoType === _constants_DashConstants__WEBPACK_IMPORTED_MODULE_5__["default"].SEGMENT_TEMPLATE) {
                  return true;
                } else if (isDynamicManifest && representation.segmentInfoType === _constants_DashConstants__WEBPACK_IMPORTED_MODULE_5__["default"].SEGMENT_LIST && representation.adaptation.period.nextPeriodId) {
                  return true;
                }
              }
              return !!(isDynamicManifest && representation.adaptation.period.nextPeriodId && representation.segmentInfoType === _constants_DashConstants__WEBPACK_IMPORTED_MODULE_5__["default"].SEGMENT_TIMELINE && representation.mediaFinishedInformation && !isNaN(representation.mediaFinishedInformation.mediaTimeOfLastSignaledSegment) && lastSegment && !isNaN(lastSegment.mediaStartTime) && !isNaN(lastSegment.duration) && lastSegment.mediaStartTime + lastSegment.duration >= representation.mediaFinishedInformation.mediaTimeOfLastSignaledSegment - 0.05);
            }
            function getSegmentRequestForTime(mediaInfo, representation, time) {
              var request = null;
              if (!representation || !representation.segmentInfoType) {
                return request;
              }
              var segment = segmentsController.getSegmentByTime(representation, time);
              if (segment) {
                lastSegment = segment;
                logger.debug("Index for time " + time + " is " + segment.index);
                request = _getRequestForSegment(mediaInfo, segment);
              }
              return request;
            }
            function getNextSegmentRequestIdempotent(mediaInfo, representation) {
              var request = null;
              var indexToRequest = lastSegment ? lastSegment.index + 1 : 0;
              var segment = segmentsController.getSegmentByIndex(representation, indexToRequest, lastSegment ? lastSegment.mediaStartTime : -1);
              if (!segment)
                return null;
              request = _getRequestForSegment(mediaInfo, segment);
              return request;
            }
            function getNextSegmentRequest(mediaInfo, representation) {
              var request = null;
              if (!representation || !representation.segmentInfoType) {
                return null;
              }
              var indexToRequest = lastSegment ? lastSegment.index + 1 : 0;
              var segment = segmentsController.getSegmentByIndex(representation, indexToRequest, lastSegment ? lastSegment.mediaStartTime : -1);
              if (!segment) {
                if (isDynamicManifest && !mediaHasFinished) {
                  logger.debug(getType() + " No segment found at index: " + indexToRequest + ". Wait for next loop");
                  return null;
                } else {
                  mediaHasFinished = true;
                }
              } else {
                request = _getRequestForSegment(mediaInfo, segment);
                lastSegment = segment;
              }
              return request;
            }
            function getValidSeekTimeCloseToTargetTime(time, mediaInfo, representation, targetThreshold) {
              try {
                if (isNaN(time) || !mediaInfo || !representation) {
                  return NaN;
                }
                if (time < 0) {
                  time = 0;
                }
                if (isNaN(targetThreshold)) {
                  targetThreshold = DEFAULT_ADJUST_SEEK_TIME_THRESHOLD;
                }
                if (getSegmentRequestForTime(mediaInfo, representation, time)) {
                  return time;
                }
                var start = representation.adaptation.period.start;
                var end = representation.adaptation.period.start + representation.adaptation.period.duration;
                var currentUpperTime = Math.min(time + targetThreshold, end);
                var currentLowerTime = Math.max(time - targetThreshold, start);
                var adjustedTime = NaN;
                var targetRequest = null;
                while (currentUpperTime <= end || currentLowerTime >= start) {
                  var upperRequest = null;
                  var lowerRequest = null;
                  if (currentUpperTime <= end) {
                    upperRequest = getSegmentRequestForTime(mediaInfo, representation, currentUpperTime);
                  }
                  if (currentLowerTime >= start) {
                    lowerRequest = getSegmentRequestForTime(mediaInfo, representation, currentLowerTime);
                  }
                  if (lowerRequest) {
                    adjustedTime = currentLowerTime;
                    targetRequest = lowerRequest;
                    break;
                  } else if (upperRequest) {
                    adjustedTime = currentUpperTime;
                    targetRequest = upperRequest;
                    break;
                  }
                  currentUpperTime += targetThreshold;
                  currentLowerTime -= targetThreshold;
                }
                if (targetRequest) {
                  var requestEndTime = targetRequest.startTime + targetRequest.duration;
                  if (time >= targetRequest.startTime && requestEndTime - time > targetThreshold) {
                    return time;
                  }
                  if (time < targetRequest.startTime) {
                    return targetRequest.startTime;
                  }
                  return Math.min(requestEndTime - targetThreshold, adjustedTime);
                }
                return adjustedTime;
              } catch (e) {
                return NaN;
              }
            }
            function getCurrentIndex() {
              return lastSegment ? lastSegment.index : -1;
            }
            function _onDynamicToStatic() {
              logger.debug("Dynamic stream complete");
              mediaHasFinished = true;
            }
            instance = {
              initialize,
              getStreamId,
              getType,
              getStreamInfo,
              getInitRequest,
              getSegmentRequestForTime,
              getCurrentIndex,
              getNextSegmentRequest,
              isLastSegmentRequested,
              reset,
              getNextSegmentRequestIdempotent,
              getValidSeekTimeCloseToTargetTime
            };
            setup();
            return instance;
          }
          DashHandler.__dashjs_factory_name = "DashHandler";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__["default"].getClassFactory(DashHandler);
        },
        "./src/dash/DashMetrics.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/vo/metrics/HTTPRequest.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _streaming_constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/constants/MetricsConstants.js");
          var _utils_Round10__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/dash/utils/Round10.js");
          var _streaming_models_MetricsModel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/models/MetricsModel.js");
          var _core_Utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/core/Utils.js");
          var _streaming_vo_metrics_PlayList__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/streaming/vo/metrics/PlayList.js");
          function DashMetrics(config) {
            config = config || {};
            var context = this.context;
            var instance, playListTraceMetricsClosed, playListTraceMetrics, playListMetrics;
            var metricsModel = config.metricsModel;
            function setup() {
              metricsModel = metricsModel || Object(_streaming_models_MetricsModel__WEBPACK_IMPORTED_MODULE_5__["default"])(context).getInstance({
                settings: config.settings
              });
              resetInitialSettings();
            }
            function resetInitialSettings() {
              playListTraceMetricsClosed = true;
              playListTraceMetrics = null;
              playListMetrics = null;
            }
            function getCurrentRepresentationSwitch(mediaType) {
              var metrics = metricsModel.getMetricsFor(mediaType, true);
              return getCurrent(metrics, _streaming_constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_3__["default"].TRACK_SWITCH);
            }
            function addRepresentationSwitch(mediaType, t2, mt, to, lto) {
              metricsModel.addRepresentationSwitch(mediaType, t2, mt, to, lto);
            }
            function getCurrentBufferState(mediaType) {
              var metrics = metricsModel.getMetricsFor(mediaType, true);
              return getCurrent(metrics, _streaming_constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_3__["default"].BUFFER_STATE);
            }
            function getCurrentBufferLevel(mediaType) {
              var metrics = metricsModel.getMetricsFor(mediaType, true);
              var metric = getCurrent(metrics, _streaming_constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_3__["default"].BUFFER_LEVEL);
              if (metric) {
                return _utils_Round10__WEBPACK_IMPORTED_MODULE_4__["default"].round10(metric.level / 1e3, -3);
              }
              return 0;
            }
            function addBufferLevel(mediaType, t2, level) {
              metricsModel.addBufferLevel(mediaType, t2, level);
            }
            function addBufferState(mediaType, state, target) {
              metricsModel.addBufferState(mediaType, state, target);
            }
            function clearAllCurrentMetrics() {
              metricsModel.clearAllCurrentMetrics();
            }
            function getCurrentHttpRequest(mediaType) {
              var metrics = metricsModel.getMetricsFor(mediaType, true);
              if (!metrics) {
                return null;
              }
              var httpList = metrics.HttpList;
              var currentHttpList = null;
              var httpListLastIndex;
              if (!httpList || httpList.length <= 0) {
                return null;
              }
              httpListLastIndex = httpList.length - 1;
              while (httpListLastIndex >= 0) {
                if (httpList[httpListLastIndex].responsecode) {
                  currentHttpList = httpList[httpListLastIndex];
                  break;
                }
                httpListLastIndex--;
              }
              return currentHttpList;
            }
            function getHttpRequests(mediaType) {
              var metrics = metricsModel.getMetricsFor(mediaType, true);
              if (!metrics) {
                return [];
              }
              return !!metrics.HttpList ? metrics.HttpList : [];
            }
            function addRequestsQueue(mediaType, loadingRequests, executedRequests) {
              metricsModel.addRequestsQueue(mediaType, loadingRequests, executedRequests);
            }
            function getCurrent(metrics, metricName) {
              if (!metrics) {
                return null;
              }
              var list = metrics[metricName];
              return !list || list.length === 0 ? null : list[list.length - 1];
            }
            function getCurrentDroppedFrames() {
              var metrics = metricsModel.getMetricsFor(_streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO, true);
              return getCurrent(metrics, _streaming_constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_3__["default"].DROPPED_FRAMES);
            }
            function addDroppedFrames(quality) {
              metricsModel.addDroppedFrames(_streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO, quality);
            }
            function getCurrentSchedulingInfo(mediaType) {
              var metrics = metricsModel.getMetricsFor(mediaType, true);
              return getCurrent(metrics, _streaming_constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_3__["default"].SCHEDULING_INFO);
            }
            function addSchedulingInfo(request, state) {
              metricsModel.addSchedulingInfo(request.mediaType, new Date(), request.type, request.startTime, request.availabilityStartTime, request.duration, request.quality, request.range, state);
            }
            function getCurrentManifestUpdate() {
              var streamMetrics = metricsModel.getMetricsFor(_streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].STREAM);
              return getCurrent(streamMetrics, _streaming_constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_3__["default"].MANIFEST_UPDATE);
            }
            function updateManifestUpdateInfo(updatedFields) {
              var manifestUpdate = this.getCurrentManifestUpdate();
              metricsModel.updateManifestUpdateInfo(manifestUpdate, updatedFields);
            }
            function addManifestUpdateStreamInfo(streamInfo) {
              if (streamInfo) {
                var manifestUpdate = this.getCurrentManifestUpdate();
                metricsModel.addManifestUpdateStreamInfo(manifestUpdate, streamInfo.id, streamInfo.index, streamInfo.start, streamInfo.duration);
              }
            }
            function addManifestUpdate(request) {
              metricsModel.addManifestUpdate(_streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].STREAM, request.type, request.requestStartDate, request.requestEndDate);
            }
            function addHttpRequest(request, responseURL, responseStatus, responseHeaders, traces) {
              metricsModel.addHttpRequest(request.mediaType, null, request.type, request.url, request.quality, responseURL, request.serviceLocation || null, request.range || null, request.requestStartDate, request.firstByteDate, request.requestEndDate, responseStatus, request.duration, responseHeaders, traces);
            }
            function addManifestUpdateRepresentationInfo(representation, mediaType) {
              if (representation) {
                var manifestUpdateInfo = this.getCurrentManifestUpdate();
                metricsModel.addManifestUpdateRepresentationInfo(manifestUpdateInfo, representation.id, representation.index, representation.streamIndex, mediaType, representation.presentationTimeOffset, representation.startNumber, representation.fragmentInfoType);
              }
            }
            function getCurrentDVRInfo(mediaType) {
              var metrics = mediaType ? metricsModel.getMetricsFor(mediaType, true) : metricsModel.getMetricsFor(_streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO, true) || metricsModel.getMetricsFor(_streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO, true);
              return getCurrent(metrics, _streaming_constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_3__["default"].DVR_INFO);
            }
            function addDVRInfo(mediaType, currentTime, mpd, range) {
              metricsModel.addDVRInfo(mediaType, currentTime, mpd, range);
            }
            function getLatestMPDRequestHeaderValueByID(id) {
              if (!id) {
                return null;
              }
              var headers = {};
              var httpRequestList, httpRequest, i3;
              httpRequestList = getHttpRequests(_streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].STREAM);
              for (i3 = httpRequestList.length - 1; i3 >= 0; i3--) {
                httpRequest = httpRequestList[i3];
                if (httpRequest.type === _streaming_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_1__["HTTPRequest"].MPD_TYPE) {
                  headers = _core_Utils__WEBPACK_IMPORTED_MODULE_6__["default"].parseHttpHeaders(httpRequest._responseHeaders);
                  break;
                }
              }
              var value = headers[id.toLowerCase()];
              return value === void 0 ? null : value;
            }
            function getLatestFragmentRequestHeaderValueByID(mediaType, id) {
              if (!id) {
                return null;
              }
              var headers = {};
              var httpRequest = getCurrentHttpRequest(mediaType);
              if (httpRequest) {
                headers = _core_Utils__WEBPACK_IMPORTED_MODULE_6__["default"].parseHttpHeaders(httpRequest._responseHeaders);
              }
              var value = headers[id.toLowerCase()];
              return value === void 0 ? null : value;
            }
            function addPlayList() {
              if (playListMetrics) {
                metricsModel.addPlayList(playListMetrics);
                playListMetrics = null;
              }
            }
            function createPlaylistMetrics(mediaStartTime, startReason) {
              playListMetrics = new _streaming_vo_metrics_PlayList__WEBPACK_IMPORTED_MODULE_7__["PlayList"]();
              playListMetrics.start = new Date();
              playListMetrics.mstart = mediaStartTime;
              playListMetrics.starttype = startReason;
            }
            function createPlaylistTraceMetrics(representationId, mediaStartTime, speed) {
              if (playListTraceMetricsClosed === true) {
                playListTraceMetricsClosed = false;
                playListTraceMetrics = new _streaming_vo_metrics_PlayList__WEBPACK_IMPORTED_MODULE_7__["PlayListTrace"]();
                playListTraceMetrics.representationid = representationId;
                playListTraceMetrics.start = new Date();
                playListTraceMetrics.mstart = mediaStartTime;
                playListTraceMetrics.playbackspeed = speed !== null ? speed.toString() : null;
              }
            }
            function updatePlayListTraceMetrics(traceToUpdate) {
              if (playListTraceMetrics) {
                for (var field in playListTraceMetrics) {
                  playListTraceMetrics[field] = traceToUpdate[field];
                }
              }
            }
            function pushPlayListTraceMetrics(endTime, reason) {
              if (playListTraceMetricsClosed === false && playListMetrics && playListTraceMetrics && playListTraceMetrics.start) {
                var startTime = playListTraceMetrics.start;
                var duration = endTime.getTime() - startTime.getTime();
                playListTraceMetrics.duration = duration;
                playListTraceMetrics.stopreason = reason;
                playListMetrics.trace.push(playListTraceMetrics);
                playListTraceMetricsClosed = true;
              }
            }
            function addDVBErrors(errors) {
              metricsModel.addDVBErrors(errors);
            }
            instance = {
              getCurrentRepresentationSwitch,
              getCurrentBufferState,
              getCurrentBufferLevel,
              getCurrentHttpRequest,
              getHttpRequests,
              getCurrentDroppedFrames,
              getCurrentSchedulingInfo,
              getCurrentDVRInfo,
              getCurrentManifestUpdate,
              getLatestFragmentRequestHeaderValueByID,
              getLatestMPDRequestHeaderValueByID,
              addRepresentationSwitch,
              addDVRInfo,
              updateManifestUpdateInfo,
              addManifestUpdateStreamInfo,
              addManifestUpdateRepresentationInfo,
              addManifestUpdate,
              addHttpRequest,
              addSchedulingInfo,
              addRequestsQueue,
              addBufferLevel,
              addBufferState,
              addDroppedFrames,
              addPlayList,
              addDVBErrors,
              createPlaylistMetrics,
              createPlaylistTraceMetrics,
              updatePlayListTraceMetrics,
              pushPlayListTraceMetrics,
              clearAllCurrentMetrics
            };
            setup();
            return instance;
          }
          DashMetrics.__dashjs_factory_name = "DashMetrics";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__["default"].getSingletonFactory(DashMetrics);
        },
        "./src/dash/SegmentBaseLoader.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _vo_Segment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/dash/vo/Segment.js");
          var _streaming_vo_DashJSError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/vo/DashJSError.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _streaming_vo_FragmentRequest__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/vo/FragmentRequest.js");
          var _streaming_net_URLLoader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/net/URLLoader.js");
          function SegmentBaseLoader() {
            var context = this.context;
            var instance, logger, errHandler, boxParser, requestModifier, dashMetrics, mediaPlayerModel, urlLoader, errors, constants, dashConstants, urlUtils, baseURLController;
            function setup() {
            }
            function initialize() {
              urlLoader = Object(_streaming_net_URLLoader__WEBPACK_IMPORTED_MODULE_4__["default"])(context).create({
                errHandler,
                dashMetrics,
                mediaPlayerModel,
                requestModifier,
                boxParser,
                errors,
                urlUtils,
                constants,
                dashConstants
              });
            }
            function setConfig(config) {
              if (config.baseURLController) {
                baseURLController = config.baseURLController;
              }
              if (config.dashMetrics) {
                dashMetrics = config.dashMetrics;
              }
              if (config.mediaPlayerModel) {
                mediaPlayerModel = config.mediaPlayerModel;
              }
              if (config.errHandler) {
                errHandler = config.errHandler;
              }
              if (config.boxParser) {
                boxParser = config.boxParser;
              }
              if (config.debug) {
                logger = config.debug.getLogger(instance);
              }
              if (config.requestModifier) {
                requestModifier = config.requestModifier;
              }
              if (config.errors) {
                errors = config.errors;
              }
              if (config.urlUtils) {
                urlUtils = config.urlUtils;
              }
              if (config.constants) {
                constants = config.constants;
              }
              if (config.dashConstants) {
                dashConstants = config.dashConstants;
              }
            }
            function loadInitialization(representation, mediaType) {
              return new Promise(function(resolve2) {
                _loadInitializationRecursively(representation, mediaType, resolve2);
              });
            }
            function _loadInitializationRecursively(representation, mediaType, resolve2, loadingInfo) {
              var initRange = null;
              var baseUrl = representation ? baseURLController.resolve(representation.path) : null;
              var info = loadingInfo || {
                init: true,
                url: baseUrl ? baseUrl.url : void 0,
                range: {
                  start: 0,
                  end: 1500
                },
                searching: false,
                bytesLoaded: 0,
                bytesToLoad: 1500,
                mediaType
              };
              logger.debug("Start searching for initialization.");
              var request = getFragmentRequest(info);
              var onload = function onload2(response) {
                info.bytesLoaded = info.range.end;
                initRange = boxParser.findInitRange(response);
                if (initRange) {
                  representation.range = initRange;
                  resolve2(representation);
                } else {
                  info.range.end = info.bytesLoaded + info.bytesToLoad;
                  return _loadInitializationRecursively(representation, mediaType, resolve2, info);
                }
              };
              var onerror = function onerror2() {
                resolve2(representation);
              };
              urlLoader.load({
                request,
                success: onload,
                error: onerror
              });
              logger.debug("Perform init search: " + info.url);
            }
            function loadSegments(representation, mediaType, range) {
              return new Promise(function(resolve2) {
                _loadSegmentsRecursively(representation, mediaType, range, resolve2);
              });
            }
            function _loadSegmentsRecursively(representation, mediaType, range, resolve2, callback, loadingInfo) {
              if (range && (range.start === void 0 || range.end === void 0)) {
                var parts = range ? range.toString().split("-") : null;
                range = parts ? {
                  start: parseFloat(parts[0]),
                  end: parseFloat(parts[1])
                } : null;
              }
              callback = !callback ? onLoaded : callback;
              var isoFile = null;
              var sidx = null;
              var hasRange = !!range;
              var baseUrl = representation ? baseURLController.resolve(representation.path) : null;
              var info = {
                init: false,
                url: baseUrl ? baseUrl.url : void 0,
                range: hasRange ? range : {
                  start: 0,
                  end: 1500
                },
                searching: !hasRange,
                bytesLoaded: loadingInfo ? loadingInfo.bytesLoaded : 0,
                bytesToLoad: 1500,
                mediaType
              };
              var request = getFragmentRequest(info);
              var onload = function onload2(response) {
                var extraBytes = info.bytesToLoad;
                var loadedLength = response.byteLength;
                info.bytesLoaded = info.range.end - info.range.start;
                isoFile = boxParser.parse(response);
                sidx = isoFile.getBox("sidx");
                if (!sidx || !sidx.isComplete) {
                  if (sidx) {
                    info.range.start = sidx.offset || info.range.start;
                    info.range.end = info.range.start + (sidx.size || extraBytes);
                  } else if (loadedLength < info.bytesLoaded) {
                    callback(null, representation, resolve2);
                    return;
                  } else {
                    var lastBox = isoFile.getLastBox();
                    if (lastBox && lastBox.size) {
                      info.range.start = lastBox.offset + lastBox.size;
                      info.range.end = info.range.start + extraBytes;
                    } else {
                      info.range.end += extraBytes;
                    }
                  }
                  _loadSegmentsRecursively(representation, mediaType, info.range, resolve2, null, info);
                } else {
                  var ref = sidx.references;
                  var loadMultiSidx, segments;
                  if (ref !== null && ref !== void 0 && ref.length > 0) {
                    loadMultiSidx = ref[0].reference_type === 1;
                  }
                  if (loadMultiSidx) {
                    logger.debug("Initiate multiple SIDX load.");
                    info.range.end = info.range.start + sidx.size;
                    var j, len, ss, se, r3;
                    var segs = [];
                    var count = 0;
                    var offset = (sidx.offset || info.range.start) + sidx.size;
                    var tmpCallback = function tmpCallback2(result) {
                      if (result) {
                        segs = segs.concat(result);
                        count++;
                        if (count >= len) {
                          segs.sort(function(a4, b3) {
                            return a4.startTime - b3.startTime < 0 ? -1 : 0;
                          });
                          callback(segs, representation, resolve2);
                        }
                      } else {
                        callback(null, representation, resolve2);
                      }
                    };
                    for (j = 0, len = ref.length; j < len; j++) {
                      ss = offset;
                      se = offset + ref[j].referenced_size - 1;
                      offset = offset + ref[j].referenced_size;
                      r3 = {
                        start: ss,
                        end: se
                      };
                      _loadSegmentsRecursively(representation, mediaType, r3, resolve2, tmpCallback, info);
                    }
                  } else {
                    logger.debug("Parsing segments from SIDX. representation " + mediaType + " - id: " + representation.id + " for range : " + info.range.start + " - " + info.range.end);
                    segments = getSegmentsForSidx(sidx, info);
                    callback(segments, representation, resolve2);
                  }
                }
              };
              var onerror = function onerror2() {
                callback(null, representation, resolve2);
              };
              urlLoader.load({
                request,
                success: onload,
                error: onerror
              });
              logger.debug("Perform SIDX load for type ".concat(mediaType, " : ").concat(info.url, " with range ").concat(info.range.start, " - ").concat(info.range.end));
            }
            function onLoaded(segments, representation, resolve2) {
              resolve2({
                segments,
                representation,
                error: segments ? void 0 : new _streaming_vo_DashJSError__WEBPACK_IMPORTED_MODULE_1__["default"](errors.SEGMENT_BASE_LOADER_ERROR_CODE, errors.SEGMENT_BASE_LOADER_ERROR_MESSAGE)
              });
            }
            function reset() {
              if (urlLoader) {
                urlLoader.abort();
                urlLoader = null;
              }
            }
            function getSegmentsForSidx(sidx, info) {
              var refs = sidx.references;
              var len = refs.length;
              var timescale = sidx.timescale;
              var time = sidx.earliest_presentation_time;
              var start = info.range.start + sidx.offset + sidx.first_offset + sidx.size;
              var segments = [];
              var segment, end, duration, size;
              for (var i3 = 0; i3 < len; i3++) {
                duration = refs[i3].subsegment_duration;
                size = refs[i3].referenced_size;
                segment = new _vo_Segment__WEBPACK_IMPORTED_MODULE_0__["default"]();
                segment.duration = duration;
                segment.startTime = time;
                segment.timescale = timescale;
                end = start + size - 1;
                segment.mediaRange = start + "-" + end;
                segments.push(segment);
                time += duration;
                start += size;
              }
              return segments;
            }
            function getFragmentRequest(info) {
              if (!info.url) {
                return;
              }
              var request = new _streaming_vo_FragmentRequest__WEBPACK_IMPORTED_MODULE_3__["default"]();
              request.setInfo(info);
              return request;
            }
            instance = {
              setConfig,
              initialize,
              loadInitialization,
              loadSegments,
              reset
            };
            setup();
            return instance;
          }
          SegmentBaseLoader.__dashjs_factory_name = "SegmentBaseLoader";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__["default"].getSingletonFactory(SegmentBaseLoader);
        },
        "./src/dash/WebmSegmentBaseLoader.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _streaming_utils_EBMLParser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/utils/EBMLParser.js");
          var _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _vo_Segment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/dash/vo/Segment.js");
          var _streaming_vo_FragmentRequest__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/vo/FragmentRequest.js");
          var _streaming_net_URLLoader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/net/URLLoader.js");
          var _streaming_vo_DashJSError__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/streaming/vo/DashJSError.js");
          function WebmSegmentBaseLoader() {
            var context = this.context;
            var instance, logger, WebM, errHandler, requestModifier, dashMetrics, mediaPlayerModel, urlLoader, errors, baseURLController;
            function setup() {
              WebM = {
                EBML: {
                  tag: 440786851,
                  required: true
                },
                Segment: {
                  tag: 408125543,
                  required: true,
                  SeekHead: {
                    tag: 290298740,
                    required: true
                  },
                  Info: {
                    tag: 357149030,
                    required: true,
                    TimecodeScale: {
                      tag: 2807729,
                      required: true,
                      parse: "getMatroskaUint"
                    },
                    Duration: {
                      tag: 17545,
                      required: true,
                      parse: "getMatroskaFloat"
                    }
                  },
                  Tracks: {
                    tag: 374648427,
                    required: true
                  },
                  Cues: {
                    tag: 475249515,
                    required: true,
                    CuePoint: {
                      tag: 187,
                      required: true,
                      CueTime: {
                        tag: 179,
                        required: true,
                        parse: "getMatroskaUint"
                      },
                      CueTrackPositions: {
                        tag: 183,
                        required: true,
                        CueTrack: {
                          tag: 247,
                          required: true,
                          parse: "getMatroskaUint"
                        },
                        CueClusterPosition: {
                          tag: 241,
                          required: true,
                          parse: "getMatroskaUint"
                        }
                      }
                    }
                  }
                },
                Void: {
                  tag: 236,
                  required: true
                }
              };
            }
            function initialize() {
              urlLoader = Object(_streaming_net_URLLoader__WEBPACK_IMPORTED_MODULE_5__["default"])(context).create({
                errHandler,
                dashMetrics,
                mediaPlayerModel,
                requestModifier,
                errors
              });
            }
            function setConfig(config) {
              if (!config.baseURLController || !config.dashMetrics || !config.mediaPlayerModel || !config.errHandler) {
                throw new Error(_streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].MISSING_CONFIG_ERROR);
              }
              baseURLController = config.baseURLController;
              dashMetrics = config.dashMetrics;
              mediaPlayerModel = config.mediaPlayerModel;
              errHandler = config.errHandler;
              errors = config.errors;
              logger = config.debug.getLogger(instance);
              requestModifier = config.requestModifier;
            }
            function parseCues(ab) {
              var cues = [];
              var ebmlParser = Object(_streaming_utils_EBMLParser__WEBPACK_IMPORTED_MODULE_0__["default"])(context).create({
                data: ab
              });
              var cue, cueTrack;
              ebmlParser.consumeTagAndSize(WebM.Segment.Cues);
              while (ebmlParser.moreData() && ebmlParser.consumeTagAndSize(WebM.Segment.Cues.CuePoint, true)) {
                cue = {};
                cue.CueTime = ebmlParser.parseTag(WebM.Segment.Cues.CuePoint.CueTime);
                cue.CueTracks = [];
                while (ebmlParser.moreData() && ebmlParser.consumeTag(WebM.Segment.Cues.CuePoint.CueTrackPositions, true)) {
                  var cueTrackPositionSize = ebmlParser.getMatroskaCodedNum();
                  var startPos = ebmlParser.getPos();
                  cueTrack = {};
                  cueTrack.Track = ebmlParser.parseTag(WebM.Segment.Cues.CuePoint.CueTrackPositions.CueTrack);
                  if (cueTrack.Track === 0) {
                    throw new Error("Cue track cannot be 0");
                  }
                  cueTrack.ClusterPosition = ebmlParser.parseTag(WebM.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition);
                  cue.CueTracks.push(cueTrack);
                  ebmlParser.setPos(startPos + cueTrackPositionSize);
                }
                if (cue.CueTracks.length === 0) {
                  throw new Error("Mandatory cuetrack not found");
                }
                cues.push(cue);
              }
              if (cues.length === 0) {
                throw new Error("mandatory cuepoint not found");
              }
              return cues;
            }
            function parseSegments(data, segmentStart, segmentEnd, segmentDuration) {
              var duration, parsed, segments, segment, i3, len, start, end;
              parsed = parseCues(data);
              segments = [];
              for (i3 = 0, len = parsed.length; i3 < len; i3 += 1) {
                segment = new _vo_Segment__WEBPACK_IMPORTED_MODULE_3__["default"]();
                duration = 0;
                if (i3 < parsed.length - 1) {
                  duration = parsed[i3 + 1].CueTime - parsed[i3].CueTime;
                } else {
                  duration = segmentDuration - parsed[i3].CueTime;
                }
                segment.duration = duration;
                segment.startTime = parsed[i3].CueTime;
                segment.timescale = 1e3;
                start = parsed[i3].CueTracks[0].ClusterPosition + segmentStart;
                if (i3 < parsed.length - 1) {
                  end = parsed[i3 + 1].CueTracks[0].ClusterPosition + segmentStart - 1;
                } else {
                  end = segmentEnd - 1;
                }
                segment.mediaRange = start + "-" + end;
                segments.push(segment);
              }
              logger.debug("Parsed cues: " + segments.length + " cues.");
              return segments;
            }
            function parseEbmlHeader(data, media, theRange, callback) {
              if (!data || data.byteLength === 0) {
                callback(null);
                return;
              }
              var ebmlParser = Object(_streaming_utils_EBMLParser__WEBPACK_IMPORTED_MODULE_0__["default"])(context).create({
                data
              });
              var duration, segments, segmentEnd, segmentStart;
              var parts = theRange ? theRange.split("-") : null;
              var request = null;
              var info = {
                url: media,
                range: {
                  start: parts ? parseFloat(parts[0]) : null,
                  end: parts ? parseFloat(parts[1]) : null
                },
                request
              };
              logger.debug("Parse EBML header: " + info.url);
              ebmlParser.skipOverElement(WebM.EBML);
              ebmlParser.consumeTag(WebM.Segment);
              segmentEnd = ebmlParser.getMatroskaCodedNum();
              segmentEnd += ebmlParser.getPos();
              segmentStart = ebmlParser.getPos();
              while (ebmlParser.moreData() && !ebmlParser.consumeTagAndSize(WebM.Segment.Info, true)) {
                if (!(ebmlParser.skipOverElement(WebM.Segment.SeekHead, true) || ebmlParser.skipOverElement(WebM.Segment.Tracks, true) || ebmlParser.skipOverElement(WebM.Segment.Cues, true) || ebmlParser.skipOverElement(WebM.Void, true))) {
                  throw new Error("no valid top level element found");
                }
              }
              while (duration === void 0) {
                var infoTag = ebmlParser.getMatroskaCodedNum(true);
                var infoElementSize = ebmlParser.getMatroskaCodedNum();
                switch (infoTag) {
                  case WebM.Segment.Info.Duration.tag:
                    duration = ebmlParser[WebM.Segment.Info.Duration.parse](infoElementSize);
                    break;
                  default:
                    ebmlParser.setPos(ebmlParser.getPos() + infoElementSize);
                    break;
                }
              }
              request = _getFragmentRequest(info);
              var onload = function onload2(response) {
                segments = parseSegments(response, segmentStart, segmentEnd, duration);
                callback(segments);
              };
              var onloadend = function onloadend2() {
                logger.error("Download Error: Cues " + info.url);
                callback(null);
              };
              urlLoader.load({
                request,
                success: onload,
                error: onloadend
              });
              logger.debug("Perform cues load: " + info.url + " bytes=" + info.range.start + "-" + info.range.end);
            }
            function loadInitialization(representation, mediaType) {
              return new Promise(function(resolve2) {
                var request = null;
                var baseUrl = representation ? baseURLController.resolve(representation.path) : null;
                var initRange = representation ? representation.range.split("-") : null;
                var info = {
                  range: {
                    start: initRange ? parseFloat(initRange[0]) : null,
                    end: initRange ? parseFloat(initRange[1]) : null
                  },
                  request,
                  url: baseUrl ? baseUrl.url : void 0,
                  init: true,
                  mediaType
                };
                logger.info("Start loading initialization.");
                request = _getFragmentRequest(info);
                var onload = function onload2() {
                  resolve2(representation);
                };
                var onloadend = function onloadend2() {
                  resolve2(representation);
                };
                urlLoader.load({
                  request,
                  success: onload,
                  error: onloadend
                });
                logger.debug("Perform init load: " + info.url);
              });
            }
            function loadSegments(representation, mediaType, theRange) {
              return new Promise(function(resolve2) {
                var request = null;
                var baseUrl = representation ? baseURLController.resolve(representation.path) : null;
                var media = baseUrl ? baseUrl.url : void 0;
                var bytesToLoad = 8192;
                var info = {
                  bytesLoaded: 0,
                  bytesToLoad,
                  range: {
                    start: 0,
                    end: bytesToLoad
                  },
                  request,
                  url: media,
                  init: false,
                  mediaType
                };
                request = _getFragmentRequest(info);
                logger.debug("Parsing ebml header");
                var onload = function onload2(response) {
                  parseEbmlHeader(response, media, theRange, function(segments) {
                    resolve2({
                      segments,
                      representation,
                      error: segments ? void 0 : new _streaming_vo_DashJSError__WEBPACK_IMPORTED_MODULE_6__["default"](errors.SEGMENT_BASE_LOADER_ERROR_CODE, errors.SEGMENT_BASE_LOADER_ERROR_MESSAGE)
                    });
                  });
                };
                var onloadend = function onloadend2() {
                  resolve2({
                    representation,
                    error: new _streaming_vo_DashJSError__WEBPACK_IMPORTED_MODULE_6__["default"](errors.SEGMENT_BASE_LOADER_ERROR_CODE, errors.SEGMENT_BASE_LOADER_ERROR_MESSAGE)
                  });
                };
                urlLoader.load({
                  request,
                  success: onload,
                  error: onloadend
                });
              });
            }
            function _getFragmentRequest(info) {
              var request = new _streaming_vo_FragmentRequest__WEBPACK_IMPORTED_MODULE_4__["default"]();
              request.setInfo(info);
              return request;
            }
            function reset() {
              if (urlLoader) {
                urlLoader.abort();
                urlLoader = null;
              }
            }
            instance = {
              setConfig,
              initialize,
              loadInitialization,
              loadSegments,
              reset
            };
            setup();
            return instance;
          }
          WebmSegmentBaseLoader.__dashjs_factory_name = "WebmSegmentBaseLoader";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__["default"].getSingletonFactory(WebmSegmentBaseLoader);
        },
        "./src/dash/constants/DashConstants.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties3(target, props) {
            for (var i3 = 0; i3 < props.length; i3++) {
              var descriptor = props[i3];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass3(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties3(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties3(Constructor, staticProps);
            return Constructor;
          }
          var DashConstants = /* @__PURE__ */ function() {
            function DashConstants2() {
              _classCallCheck2(this, DashConstants2);
              this.init();
            }
            _createClass3(DashConstants2, [{
              key: "init",
              value: function init() {
                this.BASE_URL = "BaseURL";
                this.SEGMENT_BASE = "SegmentBase";
                this.SEGMENT_TEMPLATE = "SegmentTemplate";
                this.SEGMENT_LIST = "SegmentList";
                this.SEGMENT_URL = "SegmentURL";
                this.SEGMENT_TIMELINE = "SegmentTimeline";
                this.SEGMENT_PROFILES = "segmentProfiles";
                this.ADAPTATION_SET = "AdaptationSet";
                this.REPRESENTATION = "Representation";
                this.REPRESENTATION_INDEX = "RepresentationIndex";
                this.SUB_REPRESENTATION = "SubRepresentation";
                this.INITIALIZATION = "Initialization";
                this.INITIALIZATION_MINUS = "initialization";
                this.MPD = "MPD";
                this.PERIOD = "Period";
                this.ASSET_IDENTIFIER = "AssetIdentifier";
                this.EVENT_STREAM = "EventStream";
                this.ID = "id";
                this.PROFILES = "profiles";
                this.SERVICE_LOCATION = "serviceLocation";
                this.RANGE = "range";
                this.INDEX = "index";
                this.MEDIA = "media";
                this.BYTE_RANGE = "byteRange";
                this.INDEX_RANGE = "indexRange";
                this.MEDIA_RANGE = "mediaRange";
                this.VALUE = "value";
                this.CONTENT_TYPE = "contentType";
                this.MIME_TYPE = "mimeType";
                this.BITSTREAM_SWITCHING = "BitstreamSwitching";
                this.BITSTREAM_SWITCHING_MINUS = "bitstreamSwitching";
                this.CODECS = "codecs";
                this.DEPENDENCY_ID = "dependencyId";
                this.MEDIA_STREAM_STRUCTURE_ID = "mediaStreamStructureId";
                this.METRICS = "Metrics";
                this.METRICS_MINUS = "metrics";
                this.REPORTING = "Reporting";
                this.WIDTH = "width";
                this.HEIGHT = "height";
                this.SAR = "sar";
                this.FRAMERATE = "frameRate";
                this.AUDIO_SAMPLING_RATE = "audioSamplingRate";
                this.MAXIMUM_SAP_PERIOD = "maximumSAPPeriod";
                this.START_WITH_SAP = "startWithSAP";
                this.MAX_PLAYOUT_RATE = "maxPlayoutRate";
                this.CODING_DEPENDENCY = "codingDependency";
                this.SCAN_TYPE = "scanType";
                this.FRAME_PACKING = "FramePacking";
                this.AUDIO_CHANNEL_CONFIGURATION = "AudioChannelConfiguration";
                this.CONTENT_PROTECTION = "ContentProtection";
                this.ESSENTIAL_PROPERTY = "EssentialProperty";
                this.SUPPLEMENTAL_PROPERTY = "SupplementalProperty";
                this.INBAND_EVENT_STREAM = "InbandEventStream";
                this.ACCESSIBILITY = "Accessibility";
                this.ROLE = "Role";
                this.RATING = "Rating";
                this.CONTENT_COMPONENT = "ContentComponent";
                this.SUBSET = "Subset";
                this.LANG = "lang";
                this.VIEWPOINT = "Viewpoint";
                this.ROLE_ASARRAY = "Role_asArray";
                this.ACCESSIBILITY_ASARRAY = "Accessibility_asArray";
                this.AUDIOCHANNELCONFIGURATION_ASARRAY = "AudioChannelConfiguration_asArray";
                this.CONTENTPROTECTION_ASARRAY = "ContentProtection_asArray";
                this.MAIN = "main";
                this.DYNAMIC = "dynamic";
                this.STATIC = "static";
                this.MEDIA_PRESENTATION_DURATION = "mediaPresentationDuration";
                this.MINIMUM_UPDATE_PERIOD = "minimumUpdatePeriod";
                this.CODEC_PRIVATE_DATA = "codecPrivateData";
                this.BANDWITH = "bandwidth";
                this.SOURCE_URL = "sourceURL";
                this.TIMESCALE = "timescale";
                this.DURATION = "duration";
                this.START_NUMBER = "startNumber";
                this.PRESENTATION_TIME_OFFSET = "presentationTimeOffset";
                this.AVAILABILITY_START_TIME = "availabilityStartTime";
                this.AVAILABILITY_END_TIME = "availabilityEndTime";
                this.TIMESHIFT_BUFFER_DEPTH = "timeShiftBufferDepth";
                this.MAX_SEGMENT_DURATION = "maxSegmentDuration";
                this.PRESENTATION_TIME = "presentationTime";
                this.MIN_BUFFER_TIME = "minBufferTime";
                this.MAX_SUBSEGMENT_DURATION = "maxSubsegmentDuration";
                this.START = "start";
                this.AVAILABILITY_TIME_OFFSET = "availabilityTimeOffset";
                this.AVAILABILITY_TIME_COMPLETE = "availabilityTimeComplete";
                this.CENC_DEFAULT_KID = "cenc:default_KID";
                this.DVB_PRIORITY = "dvb:priority";
                this.DVB_WEIGHT = "dvb:weight";
                this.SUGGESTED_PRESENTATION_DELAY = "suggestedPresentationDelay";
                this.SERVICE_DESCRIPTION = "ServiceDescription";
                this.SERVICE_DESCRIPTION_SCOPE = "Scope";
                this.SERVICE_DESCRIPTION_LATENCY = "Latency";
                this.SERVICE_DESCRIPTION_PLAYBACK_RATE = "PlaybackRate";
                this.PATCH_LOCATION = "PatchLocation";
                this.PUBLISH_TIME = "publishTime";
                this.ORIGINAL_PUBLISH_TIME = "originalPublishTime";
                this.ORIGINAL_MPD_ID = "mpdId";
              }
            }]);
            return DashConstants2;
          }();
          var constants = new DashConstants();
          __webpack_exports__["default"] = constants;
        },
        "./src/dash/controllers/RepresentationController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/MediaPlayerEvents.js");
          var _utils_SegmentsUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/dash/utils/SegmentsUtils.js");
          function RepresentationController(config) {
            config = config || {};
            var eventBus = config.eventBus;
            var events = config.events;
            var abrController = config.abrController;
            var dashMetrics = config.dashMetrics;
            var playbackController = config.playbackController;
            var timelineConverter = config.timelineConverter;
            var type = config.type;
            var streamInfo = config.streamInfo;
            var dashConstants = config.dashConstants;
            var segmentsController = config.segmentsController;
            var isDynamic = config.isDynamic;
            var instance, realAdaptation, updating, voAvailableRepresentations, currentVoRepresentation;
            function setup() {
              resetInitialSettings();
              eventBus.on(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_2__["default"].MANIFEST_VALIDITY_CHANGED, onManifestValidityChanged, instance);
            }
            function getStreamId() {
              return streamInfo.id;
            }
            function getType() {
              return type;
            }
            function checkConfig() {
              if (!abrController || !dashMetrics || !playbackController || !timelineConverter) {
                throw new Error(_streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].MISSING_CONFIG_ERROR);
              }
            }
            function getData() {
              return realAdaptation;
            }
            function isUpdating() {
              return updating;
            }
            function getCurrentRepresentation() {
              return currentVoRepresentation;
            }
            function resetInitialSettings() {
              realAdaptation = null;
              updating = true;
              voAvailableRepresentations = [];
            }
            function reset() {
              eventBus.off(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_2__["default"].MANIFEST_VALIDITY_CHANGED, onManifestValidityChanged, instance);
              resetInitialSettings();
            }
            function updateData(newRealAdaptation, availableRepresentations, type2, isFragmented, quality) {
              checkConfig();
              updating = true;
              voAvailableRepresentations = availableRepresentations;
              var rep = getRepresentationForQuality(quality);
              _setCurrentVoRepresentation(rep);
              realAdaptation = newRealAdaptation;
              if (type2 !== _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO && type2 !== _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO && (type2 !== _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT || !isFragmented)) {
                endDataUpdate();
                return Promise.resolve();
              }
              var promises = [];
              for (var i3 = 0, ln = voAvailableRepresentations.length; i3 < ln; i3++) {
                var currentRep = voAvailableRepresentations[i3];
                promises.push(_updateRepresentation(currentRep));
              }
              return Promise.all(promises);
            }
            function _updateRepresentation(currentRep) {
              return new Promise(function(resolve2, reject) {
                var hasInitialization = currentRep.hasInitialization();
                var hasSegments = currentRep.hasSegments();
                var promises = [];
                promises.push(segmentsController.updateInitData(currentRep, hasInitialization));
                promises.push(segmentsController.updateSegmentData(currentRep, hasSegments));
                Promise.all(promises).then(function(data) {
                  if (data[0] && !data[0].error) {
                    currentRep = _onInitLoaded(currentRep, data[0]);
                  }
                  if (data[1] && !data[1].error) {
                    currentRep = _onSegmentsLoaded(currentRep, data[1]);
                  }
                  _setMediaFinishedInformation(currentRep);
                  _onRepresentationUpdated(currentRep);
                  resolve2();
                })["catch"](function(e) {
                  reject(e);
                });
              });
            }
            function _setMediaFinishedInformation(representation) {
              representation.mediaFinishedInformation = segmentsController.getMediaFinishedInformation(representation);
            }
            function _onInitLoaded(representation, e) {
              if (!e || e.error || !e.representation) {
                return representation;
              }
              return e.representation;
            }
            function _onSegmentsLoaded(representation, e) {
              if (!e || e.error)
                return;
              var fragments = e.segments;
              var segments = [];
              var count = 0;
              var i3, len, s3, seg;
              for (i3 = 0, len = fragments ? fragments.length : 0; i3 < len; i3++) {
                s3 = fragments[i3];
                seg = Object(_utils_SegmentsUtils__WEBPACK_IMPORTED_MODULE_3__["getTimeBasedSegment"])(timelineConverter, isDynamic, representation, s3.startTime, s3.duration, s3.timescale, s3.media, s3.mediaRange, count);
                if (seg) {
                  segments.push(seg);
                  seg = null;
                  count++;
                }
              }
              if (segments.length > 0) {
                representation.segments = segments;
              }
              return representation;
            }
            function _addRepresentationSwitch() {
              checkConfig();
              var now = new Date();
              var currentRepresentation = getCurrentRepresentation();
              var currentVideoTimeMs = playbackController.getTime() * 1e3;
              if (currentRepresentation) {
                dashMetrics.addRepresentationSwitch(currentRepresentation.adaptation.type, now, currentVideoTimeMs, currentRepresentation.id);
              }
              eventBus.trigger(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_2__["default"].REPRESENTATION_SWITCH, {
                mediaType: type,
                streamId: streamInfo.id,
                currentRepresentation,
                numberOfRepresentations: voAvailableRepresentations.length
              }, {
                streamId: streamInfo.id,
                mediaType: type
              });
            }
            function getRepresentationForQuality(quality) {
              return quality === null || quality === void 0 || quality >= voAvailableRepresentations.length ? null : voAvailableRepresentations[quality];
            }
            function getQualityForRepresentation(voRepresentation) {
              return voAvailableRepresentations.indexOf(voRepresentation);
            }
            function isAllRepresentationsUpdated() {
              for (var i3 = 0, ln = voAvailableRepresentations.length; i3 < ln; i3++) {
                var segmentInfoType = voAvailableRepresentations[i3].segmentInfoType;
                if (!voAvailableRepresentations[i3].hasInitialization() || (segmentInfoType === dashConstants.SEGMENT_BASE || segmentInfoType === dashConstants.BASE_URL) && !voAvailableRepresentations[i3].segments) {
                  return false;
                }
              }
              return true;
            }
            function endDataUpdate(error) {
              updating = false;
              eventBus.trigger(events.DATA_UPDATE_COMPLETED, {
                data: realAdaptation,
                currentRepresentation: currentVoRepresentation,
                error
              }, {
                streamId: streamInfo.id,
                mediaType: type
              });
            }
            function _onRepresentationUpdated(r3) {
              if (!isUpdating())
                return;
              var manifestUpdateInfo = dashMetrics.getCurrentManifestUpdate();
              var alreadyAdded = false;
              var repInfo, repSwitch;
              if (manifestUpdateInfo) {
                for (var i3 = 0; i3 < manifestUpdateInfo.representationInfo.length; i3++) {
                  repInfo = manifestUpdateInfo.representationInfo[i3];
                  if (repInfo.index === r3.index && repInfo.mediaType === getType()) {
                    alreadyAdded = true;
                    break;
                  }
                }
                if (!alreadyAdded) {
                  dashMetrics.addManifestUpdateRepresentationInfo(r3, getType());
                }
              }
              if (isAllRepresentationsUpdated()) {
                abrController.setPlaybackQuality(type, streamInfo, getQualityForRepresentation(currentVoRepresentation));
                var dvrInfo = dashMetrics.getCurrentDVRInfo(type);
                if (dvrInfo) {
                  dashMetrics.updateManifestUpdateInfo({
                    latency: dvrInfo.range.end - playbackController.getTime()
                  });
                }
                repSwitch = dashMetrics.getCurrentRepresentationSwitch(getCurrentRepresentation().adaptation.type);
                if (!repSwitch) {
                  _addRepresentationSwitch();
                }
                endDataUpdate();
              }
            }
            function prepareQualityChange(newQuality) {
              var newRep = getRepresentationForQuality(newQuality);
              _setCurrentVoRepresentation(newRep);
              _addRepresentationSwitch();
            }
            function _setCurrentVoRepresentation(value) {
              currentVoRepresentation = value;
            }
            function onManifestValidityChanged(e) {
              if (e.newDuration) {
                var representation = getCurrentRepresentation();
                if (representation && representation.adaptation.period) {
                  var period = representation.adaptation.period;
                  period.duration = e.newDuration;
                }
              }
            }
            instance = {
              getStreamId,
              getType,
              getData,
              isUpdating,
              updateData,
              getCurrentRepresentation,
              getRepresentationForQuality,
              prepareQualityChange,
              reset
            };
            setup();
            return instance;
          }
          RepresentationController.__dashjs_factory_name = "RepresentationController";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__["default"].getClassFactory(RepresentationController);
        },
        "./src/dash/controllers/SegmentBaseController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _SegmentBaseLoader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/dash/SegmentBaseLoader.js");
          var _WebmSegmentBaseLoader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/dash/WebmSegmentBaseLoader.js");
          function SegmentBaseController(config) {
            config = config || {};
            var context = this.context;
            var eventBus = config.eventBus;
            var events = config.events;
            var dashMetrics = config.dashMetrics;
            var mediaPlayerModel = config.mediaPlayerModel;
            var errHandler = config.errHandler;
            var baseURLController = config.baseURLController;
            var debug = config.debug;
            var boxParser = config.boxParser;
            var requestModifier = config.requestModifier;
            var errors = config.errors;
            var instance, segmentBaseLoader, webmSegmentBaseLoader;
            function setup() {
              segmentBaseLoader = Object(_SegmentBaseLoader__WEBPACK_IMPORTED_MODULE_1__["default"])(context).getInstance();
              webmSegmentBaseLoader = Object(_WebmSegmentBaseLoader__WEBPACK_IMPORTED_MODULE_2__["default"])(context).getInstance();
              segmentBaseLoader.setConfig({
                baseURLController,
                dashMetrics,
                mediaPlayerModel,
                errHandler,
                eventBus,
                events,
                errors,
                debug,
                boxParser,
                requestModifier
              });
              webmSegmentBaseLoader.setConfig({
                baseURLController,
                dashMetrics,
                mediaPlayerModel,
                errHandler,
                eventBus,
                events,
                errors,
                debug,
                requestModifier
              });
            }
            function isWebM(mimeType) {
              var type = mimeType ? mimeType.split("/")[1] : "";
              return type.toLowerCase() === "webm";
            }
            function initialize() {
              segmentBaseLoader.initialize();
              webmSegmentBaseLoader.initialize();
            }
            function getSegmentBaseInitSegment(data) {
              if (isWebM(data.representation.mimeType)) {
                return webmSegmentBaseLoader.loadInitialization(data.representation, data.mediaType);
              } else {
                return segmentBaseLoader.loadInitialization(data.representation, data.mediaType);
              }
            }
            function getSegmentList(e) {
              if (isWebM(e.mimeType)) {
                return webmSegmentBaseLoader.loadSegments(e.representation, e.mediaType, e.representation ? e.representation.indexRange : null);
              } else {
                return segmentBaseLoader.loadSegments(e.representation, e.mediaType, e.representation ? e.representation.indexRange : null);
              }
            }
            function reset() {
              segmentBaseLoader.reset();
              webmSegmentBaseLoader.reset();
            }
            instance = {
              initialize,
              getSegmentBaseInitSegment,
              getSegmentList,
              reset
            };
            setup();
            return instance;
          }
          SegmentBaseController.__dashjs_factory_name = "SegmentBaseController";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getSingletonFactory(SegmentBaseController);
          __webpack_exports__["default"] = factory;
        },
        "./src/dash/controllers/SegmentsController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _utils_TimelineSegmentsGetter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/dash/utils/TimelineSegmentsGetter.js");
          var _utils_TemplateSegmentsGetter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/dash/utils/TemplateSegmentsGetter.js");
          var _utils_ListSegmentsGetter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/dash/utils/ListSegmentsGetter.js");
          var _utils_SegmentBaseGetter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/dash/utils/SegmentBaseGetter.js");
          function SegmentsController(config) {
            config = config || {};
            var context = this.context;
            var dashConstants = config.dashConstants;
            var type = config.type;
            var segmentBaseController = config.segmentBaseController;
            var instance, getters;
            function setup() {
              getters = {};
            }
            function initialize(isDynamic) {
              getters[dashConstants.SEGMENT_TIMELINE] = Object(_utils_TimelineSegmentsGetter__WEBPACK_IMPORTED_MODULE_1__["default"])(context).create(config, isDynamic);
              getters[dashConstants.SEGMENT_TEMPLATE] = Object(_utils_TemplateSegmentsGetter__WEBPACK_IMPORTED_MODULE_2__["default"])(context).create(config, isDynamic);
              getters[dashConstants.SEGMENT_LIST] = Object(_utils_ListSegmentsGetter__WEBPACK_IMPORTED_MODULE_3__["default"])(context).create(config, isDynamic);
              getters[dashConstants.SEGMENT_BASE] = Object(_utils_SegmentBaseGetter__WEBPACK_IMPORTED_MODULE_4__["default"])(context).create(config, isDynamic);
            }
            function updateInitData(voRepresentation, hasInitialization) {
              if (hasInitialization) {
                return Promise.resolve();
              }
              return segmentBaseController.getSegmentBaseInitSegment({
                representation: voRepresentation,
                mediaType: type
              });
            }
            function updateSegmentData(voRepresentation, hasSegments) {
              if (hasSegments) {
                return Promise.resolve();
              }
              return segmentBaseController.getSegmentList({
                mimeType: voRepresentation.mimeType,
                representation: voRepresentation,
                mediaType: type
              });
            }
            function getSegmentsGetter(representation) {
              return representation ? representation.segments ? getters[dashConstants.SEGMENT_BASE] : getters[representation.segmentInfoType] : null;
            }
            function getSegmentByIndex(representation, index, lastSegmentTime) {
              var getter = getSegmentsGetter(representation);
              return getter ? getter.getSegmentByIndex(representation, index, lastSegmentTime) : null;
            }
            function getSegmentByTime(representation, time) {
              var getter = getSegmentsGetter(representation);
              return getter ? getter.getSegmentByTime(representation, time) : null;
            }
            function getMediaFinishedInformation(representation) {
              var getter = getSegmentsGetter(representation);
              return getter ? getter.getMediaFinishedInformation(representation) : {
                numberOfSegments: 0,
                mediaTimeOfLastSignaledSegment: NaN
              };
            }
            instance = {
              initialize,
              updateInitData,
              updateSegmentData,
              getSegmentByIndex,
              getSegmentByTime,
              getMediaFinishedInformation
            };
            setup();
            return instance;
          }
          SegmentsController.__dashjs_factory_name = "SegmentsController";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(SegmentsController);
          __webpack_exports__["default"] = factory;
        },
        "./src/dash/models/DashManifestModel.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/dash/constants/DashConstants.js");
          var _vo_Representation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/dash/vo/Representation.js");
          var _vo_AdaptationSet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/dash/vo/AdaptationSet.js");
          var _vo_Period__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/dash/vo/Period.js");
          var _vo_Mpd__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/dash/vo/Mpd.js");
          var _vo_UTCTiming__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/dash/vo/UTCTiming.js");
          var _vo_Event__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/dash/vo/Event.js");
          var _vo_BaseURL__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/dash/vo/BaseURL.js");
          var _vo_EventStream__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/dash/vo/EventStream.js");
          var _streaming_utils_ObjectUtils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/streaming/utils/ObjectUtils.js");
          var _streaming_utils_URLUtils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/streaming/utils/URLUtils.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/core/Debug.js");
          var _streaming_vo_DashJSError__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/streaming/vo/DashJSError.js");
          var _core_errors_Errors__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/core/errors/Errors.js");
          var _streaming_thumbnail_ThumbnailTracks__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/streaming/thumbnail/ThumbnailTracks.js");
          function _createForOfIteratorHelper(o2, allowArrayLike) {
            var it;
            if (typeof Symbol === "undefined" || o2[Symbol.iterator] == null) {
              if (Array.isArray(o2) || (it = _unsupportedIterableToArray(o2)) || allowArrayLike && o2 && typeof o2.length === "number") {
                if (it)
                  o2 = it;
                var i3 = 0;
                var F2 = function F3() {
                };
                return { s: F2, n: function n2() {
                  if (i3 >= o2.length)
                    return { done: true };
                  return { done: false, value: o2[i3++] };
                }, e: function e(_e) {
                  throw _e;
                }, f: F2 };
              }
              throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var normalCompletion = true, didErr = false, err;
            return { s: function s3() {
              it = o2[Symbol.iterator]();
            }, n: function n2() {
              var step = it.next();
              normalCompletion = step.done;
              return step;
            }, e: function e(_e2) {
              didErr = true;
              err = _e2;
            }, f: function f2() {
              try {
                if (!normalCompletion && it["return"] != null)
                  it["return"]();
              } finally {
                if (didErr)
                  throw err;
              }
            } };
          }
          function _unsupportedIterableToArray(o2, minLen) {
            if (!o2)
              return;
            if (typeof o2 === "string")
              return _arrayLikeToArray(o2, minLen);
            var n2 = Object.prototype.toString.call(o2).slice(8, -1);
            if (n2 === "Object" && o2.constructor)
              n2 = o2.constructor.name;
            if (n2 === "Map" || n2 === "Set")
              return Array.from(o2);
            if (n2 === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))
              return _arrayLikeToArray(o2, minLen);
          }
          function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length)
              len = arr.length;
            for (var i3 = 0, arr2 = new Array(len); i3 < len; i3++) {
              arr2[i3] = arr[i3];
            }
            return arr2;
          }
          function DashManifestModel() {
            var instance, logger, errHandler, BASE64;
            var context = this.context;
            var urlUtils = Object(_streaming_utils_URLUtils__WEBPACK_IMPORTED_MODULE_11__["default"])(context).getInstance();
            var isInteger = Number.isInteger || function(value) {
              return typeof value === "number" && isFinite(value) && Math.floor(value) === value;
            };
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_13__["default"])(context).getInstance().getLogger(instance);
            }
            function getIsTypeOf(adaptation, type) {
              if (!adaptation) {
                throw new Error("adaptation is not defined");
              }
              if (!type) {
                throw new Error("type is not defined");
              }
              if (adaptation.Representation_asArray && adaptation.Representation_asArray.length) {
                var essentialProperties = getEssentialPropertiesForRepresentation(adaptation.Representation_asArray[0]);
                if (essentialProperties && essentialProperties.length > 0 && _streaming_thumbnail_ThumbnailTracks__WEBPACK_IMPORTED_MODULE_16__["THUMBNAILS_SCHEME_ID_URIS"].indexOf(essentialProperties[0].schemeIdUri) >= 0) {
                  return type === _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].IMAGE;
                }
              }
              if (adaptation.ContentComponent_asArray && adaptation.ContentComponent_asArray.length > 0) {
                if (adaptation.ContentComponent_asArray.length > 1) {
                  return type === _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].MUXED;
                } else if (adaptation.ContentComponent_asArray[0].contentType === type) {
                  return true;
                }
              }
              var mimeTypeRegEx = type === _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT ? new RegExp("(ttml|vtt|wvtt|stpp)") : new RegExp(type);
              if (adaptation.Representation_asArray && adaptation.Representation_asArray.length) {
                var codecs = adaptation.Representation_asArray[0].codecs;
                if (mimeTypeRegEx.test(codecs)) {
                  return true;
                }
              }
              if (adaptation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MIME_TYPE)) {
                return mimeTypeRegEx.test(adaptation.mimeType);
              }
              if (adaptation.Representation_asArray) {
                var representation;
                for (var i3 = 0; i3 < adaptation.Representation_asArray.length; i3++) {
                  representation = adaptation.Representation_asArray[i3];
                  if (representation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MIME_TYPE)) {
                    return mimeTypeRegEx.test(representation.mimeType);
                  }
                }
              }
              return false;
            }
            function getIsFragmented(adaptation) {
              if (!adaptation) {
                throw new Error("adaptation is not defined");
              }
              if (adaptation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_TEMPLATE) || adaptation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_TIMELINE) || adaptation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_LIST) || adaptation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_BASE)) {
                return true;
              }
              if (adaptation.Representation_asArray && adaptation.Representation_asArray.length > 0) {
                var representation = adaptation.Representation_asArray[0];
                if (representation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_TEMPLATE) || representation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_TIMELINE) || representation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_LIST) || representation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_BASE)) {
                  return true;
                }
              }
              return false;
            }
            function getIsAudio(adaptation) {
              return getIsTypeOf(adaptation, _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO);
            }
            function getIsVideo(adaptation) {
              return getIsTypeOf(adaptation, _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO);
            }
            function getIsText(adaptation) {
              return getIsTypeOf(adaptation, _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT);
            }
            function getIsMuxed(adaptation) {
              return getIsTypeOf(adaptation, _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].MUXED);
            }
            function getIsImage(adaptation) {
              return getIsTypeOf(adaptation, _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].IMAGE);
            }
            function getLanguageForAdaptation(adaptation) {
              var lang = "";
              if (adaptation && adaptation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].LANG)) {
                lang = adaptation.lang.replace(/[^A-Za-z0-9-]/g, "");
              }
              return lang;
            }
            function getViewpointForAdaptation(adaptation) {
              return adaptation && adaptation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].VIEWPOINT) ? adaptation.Viewpoint : null;
            }
            function getRolesForAdaptation(adaptation) {
              return adaptation && adaptation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ROLE_ASARRAY) ? adaptation.Role_asArray : [];
            }
            function getAccessibilityForAdaptation(adaptation) {
              return adaptation && adaptation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ACCESSIBILITY_ASARRAY) ? adaptation.Accessibility_asArray : [];
            }
            function getAudioChannelConfigurationForAdaptation(adaptation) {
              return adaptation && adaptation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].AUDIOCHANNELCONFIGURATION_ASARRAY) ? adaptation.AudioChannelConfiguration_asArray : [];
            }
            function getAudioChannelConfigurationForRepresentation(representation) {
              return representation && representation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].AUDIOCHANNELCONFIGURATION_ASARRAY) ? representation.AudioChannelConfiguration_asArray : [];
            }
            function getRepresentationSortFunction() {
              return function(a4, b3) {
                return a4.bandwidth - b3.bandwidth;
              };
            }
            function processAdaptation(realAdaptation) {
              if (realAdaptation && Array.isArray(realAdaptation.Representation_asArray)) {
                realAdaptation.Representation_asArray.sort(getRepresentationSortFunction());
              }
              return realAdaptation;
            }
            function getRealAdaptations(manifest, periodIndex) {
              return manifest && manifest.Period_asArray && isInteger(periodIndex) ? manifest.Period_asArray[periodIndex] ? manifest.Period_asArray[periodIndex].AdaptationSet_asArray : [] : [];
            }
            function getRealPeriods(manifest) {
              return manifest && manifest.Period_asArray ? manifest.Period_asArray : [];
            }
            function getRealPeriodForIndex(index, manifest) {
              var realPeriods = getRealPeriods(manifest);
              if (realPeriods.length > 0 && isInteger(index)) {
                return realPeriods[index];
              } else {
                return null;
              }
            }
            function getAdaptationForId(id, manifest, periodIndex) {
              var realAdaptations = getRealAdaptations(manifest, periodIndex);
              var i3, len;
              for (i3 = 0, len = realAdaptations.length; i3 < len; i3++) {
                if (realAdaptations[i3].hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID) && realAdaptations[i3].id === id) {
                  return realAdaptations[i3];
                }
              }
              return null;
            }
            function getAdaptationForIndex(index, manifest, periodIndex) {
              var realAdaptations = getRealAdaptations(manifest, periodIndex);
              if (realAdaptations.length > 0 && isInteger(index)) {
                return realAdaptations[index];
              } else {
                return null;
              }
            }
            function getIndexForAdaptation(realAdaptation, manifest, periodIndex) {
              if (!realAdaptation) {
                return -1;
              }
              var realAdaptations = getRealAdaptations(manifest, periodIndex);
              for (var i3 = 0; i3 < realAdaptations.length; i3++) {
                var objectUtils = Object(_streaming_utils_ObjectUtils__WEBPACK_IMPORTED_MODULE_10__["default"])(context).getInstance();
                if (objectUtils.areEqual(realAdaptations[i3], realAdaptation)) {
                  return i3;
                }
              }
              return -1;
            }
            function getAdaptationsForType(manifest, periodIndex, type) {
              var realAdaptations = getRealAdaptations(manifest, periodIndex);
              var i3, len;
              var adaptations = [];
              for (i3 = 0, len = realAdaptations.length; i3 < len; i3++) {
                if (getIsTypeOf(realAdaptations[i3], type)) {
                  adaptations.push(processAdaptation(realAdaptations[i3]));
                }
              }
              return adaptations;
            }
            function getCodec(adaptation, representationId, addResolutionInfo) {
              var codec = null;
              if (adaptation && adaptation.Representation_asArray && adaptation.Representation_asArray.length > 0) {
                var representation = isInteger(representationId) && representationId >= 0 && representationId < adaptation.Representation_asArray.length ? adaptation.Representation_asArray[representationId] : adaptation.Representation_asArray[0];
                if (representation) {
                  codec = representation.mimeType + ';codecs="' + representation.codecs + '"';
                  if (addResolutionInfo && representation.width !== void 0) {
                    codec += ';width="' + representation.width + '";height="' + representation.height + '"';
                  }
                }
              }
              if (codec) {
                codec = codec.replace(/\sprofiles=[^;]*/g, "");
              }
              return codec;
            }
            function getMimeType(adaptation) {
              return adaptation && adaptation.Representation_asArray && adaptation.Representation_asArray.length > 0 ? adaptation.Representation_asArray[0].mimeType : null;
            }
            function getKID(adaptation) {
              if (!adaptation || !adaptation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].CENC_DEFAULT_KID)) {
                return null;
              }
              return adaptation[_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].CENC_DEFAULT_KID];
            }
            function getLabelsForAdaptation(adaptation) {
              if (!adaptation || !Array.isArray(adaptation.Label_asArray)) {
                return [];
              }
              var labelArray = [];
              for (var i3 = 0; i3 < adaptation.Label_asArray.length; i3++) {
                labelArray.push({
                  lang: adaptation.Label_asArray[i3].lang,
                  text: adaptation.Label_asArray[i3].__text || adaptation.Label_asArray[i3]
                });
              }
              return labelArray;
            }
            function getContentProtectionData(adaptation) {
              if (!adaptation || !adaptation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].CONTENTPROTECTION_ASARRAY) || adaptation.ContentProtection_asArray.length === 0) {
                return null;
              }
              return adaptation.ContentProtection_asArray;
            }
            function getIsDynamic(manifest) {
              var isDynamic = false;
              if (manifest && manifest.hasOwnProperty("type")) {
                isDynamic = manifest.type === _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].DYNAMIC;
              }
              return isDynamic;
            }
            function getId(manifest) {
              return manifest && manifest[_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID] || null;
            }
            function hasProfile(manifest, profile) {
              var has = false;
              if (manifest && manifest.profiles && manifest.profiles.length > 0) {
                has = manifest.profiles.indexOf(profile) !== -1;
              }
              return has;
            }
            function getDuration(manifest) {
              var mpdDuration;
              if (manifest && manifest.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MEDIA_PRESENTATION_DURATION)) {
                mpdDuration = manifest.mediaPresentationDuration;
              } else if (manifest && manifest.type == "dynamic") {
                mpdDuration = Number.POSITIVE_INFINITY;
              } else {
                mpdDuration = Number.MAX_SAFE_INTEGER || Number.MAX_VALUE;
              }
              return mpdDuration;
            }
            function getBandwidth(representation) {
              return representation && representation.bandwidth ? representation.bandwidth : NaN;
            }
            function getManifestUpdatePeriod(manifest) {
              var latencyOfLastUpdate = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
              var delay = NaN;
              if (manifest && manifest.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MINIMUM_UPDATE_PERIOD)) {
                delay = manifest.minimumUpdatePeriod;
              }
              return isNaN(delay) ? delay : Math.max(delay - latencyOfLastUpdate, 1);
            }
            function getPublishTime(manifest) {
              return manifest && manifest.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].PUBLISH_TIME) ? new Date(manifest[_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].PUBLISH_TIME]) : null;
            }
            function getRepresentationCount(adaptation) {
              return adaptation && Array.isArray(adaptation.Representation_asArray) ? adaptation.Representation_asArray.length : 0;
            }
            function getBitrateListForAdaptation(realAdaptation) {
              var processedRealAdaptation = processAdaptation(realAdaptation);
              var realRepresentations = processedRealAdaptation && Array.isArray(processedRealAdaptation.Representation_asArray) ? processedRealAdaptation.Representation_asArray : [];
              return realRepresentations.map(function(realRepresentation) {
                return {
                  bandwidth: realRepresentation.bandwidth,
                  width: realRepresentation.width || 0,
                  height: realRepresentation.height || 0,
                  scanType: realRepresentation.scanType || null,
                  id: realRepresentation.id || null
                };
              });
            }
            function getSelectionPriority(realAdaption) {
              try {
                var priority = realAdaption && typeof realAdaption.selectionPriority !== "undefined" ? parseInt(realAdaption.selectionPriority) : 1;
                return isNaN(priority) ? 1 : priority;
              } catch (e) {
                return 1;
              }
            }
            function getEssentialPropertiesForRepresentation(realRepresentation) {
              if (!realRepresentation || !realRepresentation.EssentialProperty_asArray || !realRepresentation.EssentialProperty_asArray.length)
                return null;
              return realRepresentation.EssentialProperty_asArray.map(function(prop) {
                return {
                  schemeIdUri: prop.schemeIdUri,
                  value: prop.value
                };
              });
            }
            function getRepresentationFor(index, adaptation) {
              return adaptation && adaptation.Representation_asArray && adaptation.Representation_asArray.length > 0 && isInteger(index) ? adaptation.Representation_asArray[index] : null;
            }
            function getRealAdaptationFor(voAdaptation) {
              if (voAdaptation && voAdaptation.period && isInteger(voAdaptation.period.index)) {
                var periodArray = voAdaptation.period.mpd.manifest.Period_asArray[voAdaptation.period.index];
                if (periodArray && periodArray.AdaptationSet_asArray && isInteger(voAdaptation.index)) {
                  return processAdaptation(periodArray.AdaptationSet_asArray[voAdaptation.index]);
                }
              }
            }
            function getRepresentationsForAdaptation(voAdaptation) {
              var voRepresentations = [];
              var processedRealAdaptation = getRealAdaptationFor(voAdaptation);
              var segmentInfo, baseUrl;
              if (processedRealAdaptation && processedRealAdaptation.Representation_asArray) {
                if (voAdaptation && voAdaptation.period && isInteger(voAdaptation.period.index)) {
                  var baseUrls = getBaseURLsFromElement(voAdaptation.period.mpd.manifest);
                  if (baseUrls) {
                    baseUrl = baseUrls[0];
                  }
                }
                for (var i3 = 0, len = processedRealAdaptation.Representation_asArray.length; i3 < len; ++i3) {
                  var realRepresentation = processedRealAdaptation.Representation_asArray[i3];
                  var voRepresentation = new _vo_Representation__WEBPACK_IMPORTED_MODULE_2__["default"]();
                  voRepresentation.index = i3;
                  voRepresentation.adaptation = voAdaptation;
                  if (realRepresentation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID)) {
                    voRepresentation.id = realRepresentation.id;
                  }
                  if (realRepresentation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].CODECS)) {
                    voRepresentation.codecs = realRepresentation.codecs;
                  }
                  if (realRepresentation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MIME_TYPE)) {
                    voRepresentation.mimeType = realRepresentation[_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MIME_TYPE];
                  }
                  if (realRepresentation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].CODEC_PRIVATE_DATA)) {
                    voRepresentation.codecPrivateData = realRepresentation.codecPrivateData;
                  }
                  if (realRepresentation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].BANDWITH)) {
                    voRepresentation.bandwidth = realRepresentation.bandwidth;
                  }
                  if (realRepresentation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].WIDTH)) {
                    voRepresentation.width = realRepresentation.width;
                  }
                  if (realRepresentation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].HEIGHT)) {
                    voRepresentation.height = realRepresentation.height;
                  }
                  if (realRepresentation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SCAN_TYPE)) {
                    voRepresentation.scanType = realRepresentation.scanType;
                  }
                  if (realRepresentation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MAX_PLAYOUT_RATE)) {
                    voRepresentation.maxPlayoutRate = realRepresentation.maxPlayoutRate;
                  }
                  if (realRepresentation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_BASE)) {
                    segmentInfo = realRepresentation.SegmentBase;
                    voRepresentation.segmentInfoType = _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_BASE;
                  } else if (realRepresentation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_LIST)) {
                    segmentInfo = realRepresentation.SegmentList;
                    if (segmentInfo.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_TIMELINE)) {
                      voRepresentation.segmentInfoType = _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_TIMELINE;
                    } else {
                      voRepresentation.segmentInfoType = _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_LIST;
                    }
                  } else if (realRepresentation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_TEMPLATE)) {
                    segmentInfo = realRepresentation.SegmentTemplate;
                    if (segmentInfo.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_TIMELINE)) {
                      voRepresentation.segmentInfoType = _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_TIMELINE;
                    } else {
                      voRepresentation.segmentInfoType = _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_TEMPLATE;
                    }
                    if (segmentInfo.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].INITIALIZATION_MINUS)) {
                      voRepresentation.initialization = segmentInfo.initialization.split("$Bandwidth$").join(realRepresentation.bandwidth).split("$RepresentationID$").join(realRepresentation.id);
                    }
                  } else {
                    voRepresentation.segmentInfoType = _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].BASE_URL;
                  }
                  voRepresentation.essentialProperties = getEssentialPropertiesForRepresentation(realRepresentation);
                  if (segmentInfo) {
                    if (segmentInfo.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].INITIALIZATION)) {
                      var initialization = segmentInfo.Initialization;
                      if (initialization.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SOURCE_URL)) {
                        voRepresentation.initialization = initialization.sourceURL;
                      }
                      if (initialization.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].RANGE)) {
                        voRepresentation.range = initialization.range;
                      }
                    } else if (getIsText(processedRealAdaptation) && getIsFragmented(processedRealAdaptation) && processedRealAdaptation.mimeType && processedRealAdaptation.mimeType.indexOf("application/mp4") === -1) {
                      voRepresentation.range = 0;
                    }
                    if (segmentInfo.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].TIMESCALE)) {
                      voRepresentation.timescale = segmentInfo.timescale;
                    }
                    if (segmentInfo.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].DURATION)) {
                      voRepresentation.segmentDuration = segmentInfo.duration / voRepresentation.timescale;
                    } else if (realRepresentation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_TEMPLATE)) {
                      segmentInfo = realRepresentation.SegmentTemplate;
                      if (segmentInfo.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_TIMELINE)) {
                        voRepresentation.segmentDuration = calcSegmentDuration(segmentInfo.SegmentTimeline) / voRepresentation.timescale;
                      }
                    }
                    if (segmentInfo.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MEDIA)) {
                      voRepresentation.media = segmentInfo.media;
                    }
                    if (segmentInfo.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].START_NUMBER)) {
                      voRepresentation.startNumber = segmentInfo.startNumber;
                    }
                    if (segmentInfo.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].INDEX_RANGE)) {
                      voRepresentation.indexRange = segmentInfo.indexRange;
                    }
                    if (segmentInfo.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].PRESENTATION_TIME_OFFSET)) {
                      voRepresentation.presentationTimeOffset = segmentInfo.presentationTimeOffset / voRepresentation.timescale;
                    }
                    if (segmentInfo.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].AVAILABILITY_TIME_OFFSET)) {
                      voRepresentation.availabilityTimeOffset = segmentInfo.availabilityTimeOffset;
                    } else if (baseUrl && baseUrl.availabilityTimeOffset !== void 0) {
                      voRepresentation.availabilityTimeOffset = baseUrl.availabilityTimeOffset;
                    }
                    if (segmentInfo.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].AVAILABILITY_TIME_COMPLETE)) {
                      voRepresentation.availabilityTimeComplete = segmentInfo.availabilityTimeComplete !== "false";
                    } else if (baseUrl && baseUrl.availabilityTimeComplete !== void 0) {
                      voRepresentation.availabilityTimeComplete = baseUrl.availabilityTimeComplete;
                    }
                  }
                  voRepresentation.MSETimeOffset = calcMSETimeOffset(voRepresentation);
                  voRepresentation.path = [voAdaptation.period.index, voAdaptation.index, i3];
                  voRepresentations.push(voRepresentation);
                }
              }
              return voRepresentations;
            }
            function calcSegmentDuration(segmentTimeline) {
              if (!segmentTimeline || !segmentTimeline.S_asArray) {
                return NaN;
              }
              var s0 = segmentTimeline.S_asArray[0];
              var s1 = segmentTimeline.S_asArray[1];
              return s0.hasOwnProperty("d") ? s0.d : s1.t - s0.t;
            }
            function calcMSETimeOffset(representation) {
              var presentationOffset = representation.presentationTimeOffset;
              var periodStart = representation.adaptation.period.start;
              return periodStart - presentationOffset;
            }
            function getAdaptationsForPeriod(voPeriod) {
              var realPeriod = voPeriod && isInteger(voPeriod.index) ? voPeriod.mpd.manifest.Period_asArray[voPeriod.index] : null;
              var voAdaptations = [];
              var voAdaptationSet, realAdaptationSet, i3;
              if (realPeriod && realPeriod.AdaptationSet_asArray) {
                for (i3 = 0; i3 < realPeriod.AdaptationSet_asArray.length; i3++) {
                  realAdaptationSet = realPeriod.AdaptationSet_asArray[i3];
                  voAdaptationSet = new _vo_AdaptationSet__WEBPACK_IMPORTED_MODULE_3__["default"]();
                  if (realAdaptationSet.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID)) {
                    voAdaptationSet.id = realAdaptationSet.id;
                  }
                  voAdaptationSet.index = i3;
                  voAdaptationSet.period = voPeriod;
                  if (getIsMuxed(realAdaptationSet)) {
                    voAdaptationSet.type = _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].MUXED;
                  } else if (getIsAudio(realAdaptationSet)) {
                    voAdaptationSet.type = _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO;
                  } else if (getIsVideo(realAdaptationSet)) {
                    voAdaptationSet.type = _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO;
                  } else if (getIsText(realAdaptationSet)) {
                    voAdaptationSet.type = _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT;
                  } else if (getIsImage(realAdaptationSet)) {
                    voAdaptationSet.type = _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].IMAGE;
                  } else {
                    logger.warn("Unknown Adaptation stream type");
                  }
                  voAdaptations.push(voAdaptationSet);
                }
              }
              return voAdaptations;
            }
            function getRegularPeriods(mpd) {
              var isDynamic = mpd ? getIsDynamic(mpd.manifest) : false;
              var voPeriods = [];
              var realPreviousPeriod = null;
              var realPeriod = null;
              var voPreviousPeriod = null;
              var voPeriod = null;
              var len, i3;
              for (i3 = 0, len = mpd && mpd.manifest && mpd.manifest.Period_asArray ? mpd.manifest.Period_asArray.length : 0; i3 < len; i3++) {
                realPeriod = mpd.manifest.Period_asArray[i3];
                if (realPeriod.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].START)) {
                  voPeriod = new _vo_Period__WEBPACK_IMPORTED_MODULE_4__["default"]();
                  voPeriod.start = realPeriod.start;
                } else if (realPreviousPeriod !== null && realPreviousPeriod.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].DURATION) && voPreviousPeriod !== null) {
                  voPeriod = new _vo_Period__WEBPACK_IMPORTED_MODULE_4__["default"]();
                  voPeriod.start = parseFloat((voPreviousPeriod.start + voPreviousPeriod.duration).toFixed(5));
                } else if (i3 === 0 && !isDynamic) {
                  voPeriod = new _vo_Period__WEBPACK_IMPORTED_MODULE_4__["default"]();
                  voPeriod.start = 0;
                }
                if (voPreviousPeriod !== null && isNaN(voPreviousPeriod.duration)) {
                  if (voPeriod !== null) {
                    voPreviousPeriod.duration = parseFloat((voPeriod.start - voPreviousPeriod.start).toFixed(5));
                  } else {
                    logger.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback");
                  }
                }
                if (voPeriod !== null) {
                  voPeriod.id = getPeriodId(realPeriod, i3);
                  voPeriod.index = i3;
                  voPeriod.mpd = mpd;
                  if (realPeriod.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].DURATION)) {
                    voPeriod.duration = realPeriod.duration;
                  }
                  if (voPreviousPeriod) {
                    voPreviousPeriod.nextPeriodId = voPeriod.id;
                  }
                  voPeriods.push(voPeriod);
                  realPreviousPeriod = realPeriod;
                  voPreviousPeriod = voPeriod;
                }
                realPeriod = null;
                voPeriod = null;
              }
              if (voPeriods.length === 0) {
                return voPeriods;
              }
              if (voPreviousPeriod !== null && isNaN(voPreviousPeriod.duration)) {
                voPreviousPeriod.duration = parseFloat((getEndTimeForLastPeriod(voPreviousPeriod) - voPreviousPeriod.start).toFixed(5));
              }
              return voPeriods;
            }
            function getPeriodId(realPeriod, i3) {
              if (!realPeriod) {
                throw new Error("Period cannot be null or undefined");
              }
              var id = _vo_Period__WEBPACK_IMPORTED_MODULE_4__["default"].DEFAULT_ID + "_" + i3;
              if (realPeriod.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID) && realPeriod.id.length > 0 && realPeriod.id !== "__proto__") {
                id = realPeriod.id;
              }
              return id;
            }
            function getMpd(manifest) {
              var mpd = new _vo_Mpd__WEBPACK_IMPORTED_MODULE_5__["default"]();
              if (manifest) {
                mpd.manifest = manifest;
                if (manifest.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].AVAILABILITY_START_TIME)) {
                  mpd.availabilityStartTime = new Date(manifest.availabilityStartTime.getTime());
                } else {
                  if (manifest.loadedTime) {
                    mpd.availabilityStartTime = new Date(manifest.loadedTime.getTime());
                  }
                }
                if (manifest.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].AVAILABILITY_END_TIME)) {
                  mpd.availabilityEndTime = new Date(manifest.availabilityEndTime.getTime());
                }
                if (manifest.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MINIMUM_UPDATE_PERIOD)) {
                  mpd.minimumUpdatePeriod = manifest.minimumUpdatePeriod;
                }
                if (manifest.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MEDIA_PRESENTATION_DURATION)) {
                  mpd.mediaPresentationDuration = manifest.mediaPresentationDuration;
                }
                if (manifest.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SUGGESTED_PRESENTATION_DELAY)) {
                  mpd.suggestedPresentationDelay = manifest.suggestedPresentationDelay;
                }
                if (manifest.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].TIMESHIFT_BUFFER_DEPTH)) {
                  mpd.timeShiftBufferDepth = manifest.timeShiftBufferDepth;
                }
                if (manifest.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MAX_SEGMENT_DURATION)) {
                  mpd.maxSegmentDuration = manifest.maxSegmentDuration;
                }
                if (manifest.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].PUBLISH_TIME)) {
                  mpd.publishTime = new Date(manifest.publishTime);
                }
              }
              return mpd;
            }
            function checkConfig() {
              if (!errHandler || !errHandler.hasOwnProperty("error")) {
                throw new Error(_streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].MISSING_CONFIG_ERROR);
              }
            }
            function getEndTimeForLastPeriod(voPeriod) {
              checkConfig();
              var isDynamic = getIsDynamic(voPeriod.mpd.manifest);
              var periodEnd;
              if (voPeriod.mpd.manifest.mediaPresentationDuration) {
                periodEnd = voPeriod.mpd.manifest.mediaPresentationDuration;
              } else if (voPeriod.duration) {
                periodEnd = voPeriod.duration;
              } else if (isDynamic) {
                periodEnd = Number.POSITIVE_INFINITY;
              } else {
                errHandler.error(new _streaming_vo_DashJSError__WEBPACK_IMPORTED_MODULE_14__["default"](_core_errors_Errors__WEBPACK_IMPORTED_MODULE_15__["default"].MANIFEST_ERROR_ID_PARSE_CODE, "Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.", voPeriod));
              }
              return periodEnd;
            }
            function getEventsForPeriod(period) {
              var manifest = period && period.mpd && period.mpd.manifest ? period.mpd.manifest : null;
              var periodArray = manifest ? manifest.Period_asArray : null;
              var eventStreams = periodArray && period && isInteger(period.index) ? periodArray[period.index].EventStream_asArray : null;
              var events = [];
              var i3, j;
              if (eventStreams) {
                for (i3 = 0; i3 < eventStreams.length; i3++) {
                  var eventStream = new _vo_EventStream__WEBPACK_IMPORTED_MODULE_9__["default"]();
                  eventStream.period = period;
                  eventStream.timescale = 1;
                  if (eventStreams[i3].hasOwnProperty(_streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].SCHEME_ID_URI)) {
                    eventStream.schemeIdUri = eventStreams[i3][_streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].SCHEME_ID_URI];
                  } else {
                    throw new Error("Invalid EventStream. SchemeIdUri has to be set");
                  }
                  if (eventStreams[i3].hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].TIMESCALE)) {
                    eventStream.timescale = eventStreams[i3][_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].TIMESCALE];
                  }
                  if (eventStreams[i3].hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].VALUE)) {
                    eventStream.value = eventStreams[i3][_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].VALUE];
                  }
                  if (eventStreams[i3].hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].PRESENTATION_TIME_OFFSET)) {
                    eventStream.presentationTimeOffset = eventStreams[i3][_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].PRESENTATION_TIME_OFFSET];
                  }
                  for (j = 0; eventStreams[i3].Event_asArray && j < eventStreams[i3].Event_asArray.length; j++) {
                    var currentMpdEvent = eventStreams[i3].Event_asArray[j];
                    var event = new _vo_Event__WEBPACK_IMPORTED_MODULE_7__["default"]();
                    event.presentationTime = 0;
                    event.eventStream = eventStream;
                    if (currentMpdEvent.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].PRESENTATION_TIME)) {
                      event.presentationTime = currentMpdEvent.presentationTime;
                      var presentationTimeOffset = eventStream.presentationTimeOffset ? eventStream.presentationTimeOffset / eventStream.timescale : 0;
                      event.calculatedPresentationTime = event.presentationTime / eventStream.timescale + period.start - presentationTimeOffset;
                    }
                    if (currentMpdEvent.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].DURATION)) {
                      event.duration = currentMpdEvent.duration / eventStream.timescale;
                    }
                    if (currentMpdEvent.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID)) {
                      event.id = currentMpdEvent.id;
                    }
                    if (currentMpdEvent.Signal && currentMpdEvent.Signal.Binary) {
                      event.messageData = BASE64.decodeArray(currentMpdEvent.Signal.Binary.toString());
                    } else {
                      event.messageData = currentMpdEvent.messageData || currentMpdEvent.__text;
                    }
                    events.push(event);
                  }
                }
              }
              return events;
            }
            function getEventStreams(inbandStreams, representation) {
              var eventStreams = [];
              var i3;
              if (!inbandStreams)
                return eventStreams;
              for (i3 = 0; i3 < inbandStreams.length; i3++) {
                var eventStream = new _vo_EventStream__WEBPACK_IMPORTED_MODULE_9__["default"]();
                eventStream.timescale = 1;
                eventStream.representation = representation;
                if (inbandStreams[i3].hasOwnProperty(_streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].SCHEME_ID_URI)) {
                  eventStream.schemeIdUri = inbandStreams[i3].schemeIdUri;
                } else {
                  throw new Error("Invalid EventStream. SchemeIdUri has to be set");
                }
                if (inbandStreams[i3].hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].TIMESCALE)) {
                  eventStream.timescale = inbandStreams[i3].timescale;
                }
                if (inbandStreams[i3].hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].VALUE)) {
                  eventStream.value = inbandStreams[i3].value;
                }
                eventStreams.push(eventStream);
              }
              return eventStreams;
            }
            function getEventStreamForAdaptationSet(manifest, adaptation) {
              var inbandStreams, periodArray, adaptationArray;
              if (manifest && manifest.Period_asArray && adaptation && adaptation.period && isInteger(adaptation.period.index)) {
                periodArray = manifest.Period_asArray[adaptation.period.index];
                if (periodArray && periodArray.AdaptationSet_asArray && isInteger(adaptation.index)) {
                  adaptationArray = periodArray.AdaptationSet_asArray[adaptation.index];
                  if (adaptationArray) {
                    inbandStreams = adaptationArray.InbandEventStream_asArray;
                  }
                }
              }
              return getEventStreams(inbandStreams, null);
            }
            function getEventStreamForRepresentation(manifest, representation) {
              var inbandStreams, periodArray, adaptationArray, representationArray;
              if (manifest && manifest.Period_asArray && representation && representation.adaptation && representation.adaptation.period && isInteger(representation.adaptation.period.index)) {
                periodArray = manifest.Period_asArray[representation.adaptation.period.index];
                if (periodArray && periodArray.AdaptationSet_asArray && isInteger(representation.adaptation.index)) {
                  adaptationArray = periodArray.AdaptationSet_asArray[representation.adaptation.index];
                  if (adaptationArray && adaptationArray.Representation_asArray && isInteger(representation.index)) {
                    representationArray = adaptationArray.Representation_asArray[representation.index];
                    if (representationArray) {
                      inbandStreams = representationArray.InbandEventStream_asArray;
                    }
                  }
                }
              }
              return getEventStreams(inbandStreams, representation);
            }
            function getUTCTimingSources(manifest) {
              var isDynamic = getIsDynamic(manifest);
              var hasAST = manifest ? manifest.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].AVAILABILITY_START_TIME) : false;
              var utcTimingsArray = manifest ? manifest.UTCTiming_asArray : null;
              var utcTimingEntries = [];
              if (isDynamic || hasAST) {
                if (utcTimingsArray) {
                  utcTimingsArray.forEach(function(utcTiming) {
                    var entry = new _vo_UTCTiming__WEBPACK_IMPORTED_MODULE_6__["default"]();
                    if (utcTiming.hasOwnProperty(_streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].SCHEME_ID_URI)) {
                      entry.schemeIdUri = utcTiming.schemeIdUri;
                    } else {
                      return;
                    }
                    if (utcTiming.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].VALUE)) {
                      entry.value = utcTiming.value.toString();
                    } else {
                      return;
                    }
                    utcTimingEntries.push(entry);
                  });
                }
              }
              return utcTimingEntries;
            }
            function getBaseURLsFromElement(node) {
              var baseUrls = [];
              var entries = node.BaseURL_asArray || [node.baseUri];
              var earlyReturn = false;
              entries.some(function(entry) {
                if (entry) {
                  var baseUrl = new _vo_BaseURL__WEBPACK_IMPORTED_MODULE_8__["default"]();
                  var text = entry.__text || entry;
                  if (urlUtils.isRelative(text)) {
                    earlyReturn = true;
                    if (node.baseUri) {
                      text = urlUtils.resolve(text, node.baseUri);
                    }
                  }
                  baseUrl.url = text;
                  if (entry.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SERVICE_LOCATION) && entry.serviceLocation.length) {
                    baseUrl.serviceLocation = entry.serviceLocation;
                  } else {
                    baseUrl.serviceLocation = text;
                  }
                  if (entry.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].DVB_PRIORITY)) {
                    baseUrl.dvb_priority = entry[_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].DVB_PRIORITY];
                  }
                  if (entry.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].DVB_WEIGHT)) {
                    baseUrl.dvb_weight = entry[_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].DVB_WEIGHT];
                  }
                  if (entry.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].AVAILABILITY_TIME_OFFSET)) {
                    baseUrl.availabilityTimeOffset = entry[_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].AVAILABILITY_TIME_OFFSET];
                  }
                  if (entry.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].AVAILABILITY_TIME_COMPLETE)) {
                    baseUrl.availabilityTimeComplete = entry[_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].AVAILABILITY_TIME_COMPLETE] !== "false";
                  }
                  baseUrls.push(baseUrl);
                  return earlyReturn;
                }
              });
              return baseUrls;
            }
            function getLocation2(manifest) {
              if (manifest && manifest.hasOwnProperty(_streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].LOCATION)) {
                manifest.Location = manifest.Location_asArray[0];
                return manifest.Location;
              }
              return void 0;
            }
            function getPatchLocation(manifest) {
              if (manifest && manifest.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].PATCH_LOCATION)) {
                manifest.PatchLocation = manifest.PatchLocation_asArray[0];
                return manifest.PatchLocation;
              }
              return void 0;
            }
            function getSuggestedPresentationDelay(mpd) {
              return mpd && mpd.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SUGGESTED_PRESENTATION_DELAY) ? mpd.suggestedPresentationDelay : null;
            }
            function getAvailabilityStartTime(mpd) {
              return mpd && mpd.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].AVAILABILITY_START_TIME) && mpd.availabilityStartTime !== null ? mpd.availabilityStartTime.getTime() : null;
            }
            function getServiceDescriptions(manifest) {
              var serviceDescriptions = [];
              if (manifest && manifest.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SERVICE_DESCRIPTION)) {
                var _iterator = _createForOfIteratorHelper(manifest.ServiceDescription_asArray), _step;
                try {
                  for (_iterator.s(); !(_step = _iterator.n()).done; ) {
                    var sd = _step.value;
                    var id = void 0, schemeIdUri = void 0, latency = void 0, playbackRate = void 0;
                    for (var prop in sd) {
                      if (sd.hasOwnProperty(prop)) {
                        if (prop === _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID) {
                          id = sd[prop];
                        } else if (prop === _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SERVICE_DESCRIPTION_SCOPE) {
                          schemeIdUri = sd[prop].schemeIdUri;
                        } else if (prop === _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SERVICE_DESCRIPTION_LATENCY) {
                          latency = {
                            target: sd[prop].target,
                            max: sd[prop].max,
                            min: sd[prop].min
                          };
                        } else if (prop === _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SERVICE_DESCRIPTION_PLAYBACK_RATE) {
                          playbackRate = {
                            max: sd[prop].max,
                            min: sd[prop].min
                          };
                        }
                      }
                    }
                    if (schemeIdUri === _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].SERVICE_DESCRIPTION_LL_SCHEME && (latency || playbackRate)) {
                      serviceDescriptions.push({
                        id,
                        schemeIdUri,
                        latency,
                        playbackRate
                      });
                    }
                  }
                } catch (err) {
                  _iterator.e(err);
                } finally {
                  _iterator.f();
                }
              }
              return serviceDescriptions;
            }
            function getSupplementalProperties(adaptation) {
              var supplementalProperties = {};
              if (adaptation && adaptation.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SUPPLEMENTAL_PROPERTY)) {
                var _iterator2 = _createForOfIteratorHelper(adaptation.SupplementalProperty_asArray), _step2;
                try {
                  for (_iterator2.s(); !(_step2 = _iterator2.n()).done; ) {
                    var sp = _step2.value;
                    if (sp.hasOwnProperty(_streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].SCHEME_ID_URI) && sp.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].VALUE)) {
                      supplementalProperties[sp[_streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].SCHEME_ID_URI]] = sp[_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].VALUE];
                    }
                  }
                } catch (err) {
                  _iterator2.e(err);
                } finally {
                  _iterator2.f();
                }
              }
              return supplementalProperties;
            }
            function setConfig(config) {
              if (!config)
                return;
              if (config.errHandler) {
                errHandler = config.errHandler;
              }
              if (config.BASE64) {
                BASE64 = config.BASE64;
              }
            }
            instance = {
              getIsTypeOf,
              getIsText,
              getIsFragmented,
              getLanguageForAdaptation,
              getViewpointForAdaptation,
              getRolesForAdaptation,
              getAccessibilityForAdaptation,
              getAudioChannelConfigurationForAdaptation,
              getAudioChannelConfigurationForRepresentation,
              getAdaptationForIndex,
              getIndexForAdaptation,
              getAdaptationForId,
              getAdaptationsForType,
              getRealPeriods,
              getRealPeriodForIndex,
              getCodec,
              getSelectionPriority,
              getMimeType,
              getKID,
              getLabelsForAdaptation,
              getContentProtectionData,
              getIsDynamic,
              getId,
              hasProfile,
              getDuration,
              getBandwidth,
              getManifestUpdatePeriod,
              getPublishTime,
              getRepresentationCount,
              getBitrateListForAdaptation,
              getRepresentationFor,
              getRepresentationsForAdaptation,
              getAdaptationsForPeriod,
              getRegularPeriods,
              getMpd,
              getEventsForPeriod,
              getEssentialPropertiesForRepresentation,
              getEventStreamForAdaptationSet,
              getEventStreamForRepresentation,
              getUTCTimingSources,
              getBaseURLsFromElement,
              getRepresentationSortFunction,
              getLocation: getLocation2,
              getPatchLocation,
              getSuggestedPresentationDelay,
              getAvailabilityStartTime,
              getServiceDescriptions,
              getSupplementalProperties,
              setConfig
            };
            setup();
            return instance;
          }
          DashManifestModel.__dashjs_factory_name = "DashManifestModel";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_12__["default"].getSingletonFactory(DashManifestModel);
        },
        "./src/dash/models/PatchManifestModel.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_DashConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/dash/constants/DashConstants.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/Debug.js");
          var _vo_SimpleXPath__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/dash/vo/SimpleXPath.js");
          var _vo_PatchOperation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/dash/vo/PatchOperation.js");
          function PatchManifestModel() {
            var instance, logger;
            var context = this.context;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_2__["default"])(context).getInstance().getLogger(instance);
            }
            function getIsPatch(patch) {
              return patch && patch.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_0__["default"].ORIGINAL_MPD_ID) || false;
            }
            function getPublishTime(patch) {
              return patch && patch.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_0__["default"].PUBLISH_TIME) ? new Date(patch[_constants_DashConstants__WEBPACK_IMPORTED_MODULE_0__["default"].PUBLISH_TIME]) : null;
            }
            function getOriginalPublishTime(patch) {
              return patch && patch.hasOwnProperty(_constants_DashConstants__WEBPACK_IMPORTED_MODULE_0__["default"].ORIGINAL_PUBLISH_TIME) ? new Date(patch[_constants_DashConstants__WEBPACK_IMPORTED_MODULE_0__["default"].ORIGINAL_PUBLISH_TIME]) : null;
            }
            function getMpdId(patch) {
              return patch && patch[_constants_DashConstants__WEBPACK_IMPORTED_MODULE_0__["default"].ORIGINAL_MPD_ID] || null;
            }
            function getPatchOperations(patch) {
              if (!patch) {
                return [];
              }
              return (patch.__children || []).map(function(nodeContainer) {
                var action = Object.keys(nodeContainer)[0];
                if (action !== "add" && action !== "remove" && action !== "replace") {
                  logger.warn("Ignoring node of invalid action: ".concat(action));
                  return null;
                }
                var node = nodeContainer[action];
                var selector = node.sel;
                if (action === "add" && node.type) {
                  if (!node.type.startsWith("@")) {
                    logger.warn("Ignoring add action for prefixed namespace declaration: ".concat(node.type, "=").concat(node.__text));
                    return null;
                  }
                  selector = "".concat(selector, "/").concat(node.type);
                }
                var xpath = new _vo_SimpleXPath__WEBPACK_IMPORTED_MODULE_3__["default"](selector);
                if (!xpath.isValid()) {
                  logger.warn("Ignoring action with invalid selector: ".concat(action, " - ").concat(selector));
                  return null;
                }
                var value = null;
                if (xpath.findsAttribute()) {
                  value = node.__text || "";
                } else if (action !== "remove") {
                  value = node.__children.reduce(function(groups, child) {
                    var key = Object.keys(child)[0];
                    if (key !== "#text") {
                      groups[key] = groups[key] || [];
                      groups[key].push(child[key]);
                    }
                    return groups;
                  }, {});
                }
                var operation = new _vo_PatchOperation__WEBPACK_IMPORTED_MODULE_4__["default"](action, xpath, value);
                if (action === "add") {
                  operation.position = node.pos;
                }
                return operation;
              }).filter(function(operation) {
                return !!operation;
              });
            }
            instance = {
              getIsPatch,
              getPublishTime,
              getOriginalPublishTime,
              getMpdId,
              getPatchOperations
            };
            setup();
            return instance;
          }
          PatchManifestModel.__dashjs_factory_name = "PatchManifestModel";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__["default"].getSingletonFactory(PatchManifestModel);
        },
        "./src/dash/parser/DashParser.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _objectiron__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/dash/parser/objectiron.js");
          var _externals_xml2json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./externals/xml2json.js");
          var _matchers_StringMatcher__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/dash/parser/matchers/StringMatcher.js");
          var _matchers_DurationMatcher__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/dash/parser/matchers/DurationMatcher.js");
          var _matchers_DateTimeMatcher__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/dash/parser/matchers/DateTimeMatcher.js");
          var _matchers_NumericMatcher__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/dash/parser/matchers/NumericMatcher.js");
          var _maps_RepresentationBaseValuesMap__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/dash/parser/maps/RepresentationBaseValuesMap.js");
          var _maps_SegmentValuesMap__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/dash/parser/maps/SegmentValuesMap.js");
          function DashParser(config) {
            config = config || {};
            var context = this.context;
            var debug = config.debug;
            var instance, logger, matchers, converter, objectIron;
            function setup() {
              logger = debug.getLogger(instance);
              matchers = [
                new _matchers_DurationMatcher__WEBPACK_IMPORTED_MODULE_4__["default"](),
                new _matchers_DateTimeMatcher__WEBPACK_IMPORTED_MODULE_5__["default"](),
                new _matchers_NumericMatcher__WEBPACK_IMPORTED_MODULE_6__["default"](),
                new _matchers_StringMatcher__WEBPACK_IMPORTED_MODULE_3__["default"]()
              ];
              converter = new _externals_xml2json__WEBPACK_IMPORTED_MODULE_2__["default"]({
                escapeMode: false,
                attributePrefix: "",
                arrayAccessForm: "property",
                emptyNodeForm: "object",
                stripWhitespaces: false,
                enableToStringFunc: true,
                ignoreRoot: false,
                matchers
              });
              objectIron = Object(_objectiron__WEBPACK_IMPORTED_MODULE_1__["default"])(context).create({
                adaptationset: new _maps_RepresentationBaseValuesMap__WEBPACK_IMPORTED_MODULE_7__["default"](),
                period: new _maps_SegmentValuesMap__WEBPACK_IMPORTED_MODULE_8__["default"]()
              });
            }
            function getMatchers() {
              return matchers;
            }
            function getIron() {
              return objectIron;
            }
            function parse2(data) {
              var manifest;
              var startTime = window.performance.now();
              manifest = converter.xml_str2json(data);
              if (!manifest) {
                throw new Error("parsing the manifest failed");
              }
              var jsonTime = window.performance.now();
              if (manifest.Patch) {
                manifest = manifest.Patch;
                if (manifest.add_asArray) {
                  manifest.add_asArray.forEach(function(operand) {
                    return objectIron.run(operand);
                  });
                }
                if (manifest.replace_asArray) {
                  manifest.replace_asArray.forEach(function(operand) {
                    return objectIron.run(operand);
                  });
                }
              } else {
                manifest = manifest.MPD;
                objectIron.run(manifest);
              }
              var ironedTime = window.performance.now();
              logger.info("Parsing complete: ( xml2json: " + (jsonTime - startTime).toPrecision(3) + "ms, objectiron: " + (ironedTime - jsonTime).toPrecision(3) + "ms, total: " + ((ironedTime - startTime) / 1e3).toPrecision(3) + "s)");
              manifest.protocol = "DASH";
              return manifest;
            }
            instance = {
              parse: parse2,
              getMatchers,
              getIron
            };
            setup();
            return instance;
          }
          DashParser.__dashjs_factory_name = "DashParser";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(DashParser);
        },
        "./src/dash/parser/maps/CommonProperty.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties3(target, props) {
            for (var i3 = 0; i3 < props.length; i3++) {
              var descriptor = props[i3];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass3(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties3(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties3(Constructor, staticProps);
            return Constructor;
          }
          var CommonProperty = /* @__PURE__ */ function() {
            function CommonProperty2(name) {
              _classCallCheck2(this, CommonProperty2);
              var getDefaultMergeForName = function getDefaultMergeForName2(n2) {
                return n2 && n2.length && n2.charAt(0) === n2.charAt(0).toUpperCase();
              };
              this._name = name;
              this._merge = getDefaultMergeForName(name);
            }
            _createClass3(CommonProperty2, [{
              key: "name",
              get: function get() {
                return this._name;
              }
            }, {
              key: "merge",
              get: function get() {
                return this._merge;
              }
            }]);
            return CommonProperty2;
          }();
          __webpack_exports__["default"] = CommonProperty;
        },
        "./src/dash/parser/maps/MapNode.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _CommonProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/dash/parser/maps/CommonProperty.js");
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties3(target, props) {
            for (var i3 = 0; i3 < props.length; i3++) {
              var descriptor = props[i3];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass3(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties3(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties3(Constructor, staticProps);
            return Constructor;
          }
          var MapNode = /* @__PURE__ */ function() {
            function MapNode2(name, properties, children) {
              var _this = this;
              _classCallCheck2(this, MapNode2);
              this._name = name || "";
              this._properties = [];
              this._children = children || [];
              if (Array.isArray(properties)) {
                properties.forEach(function(p2) {
                  _this._properties.push(new _CommonProperty__WEBPACK_IMPORTED_MODULE_0__["default"](p2));
                });
              }
            }
            _createClass3(MapNode2, [{
              key: "name",
              get: function get() {
                return this._name;
              }
            }, {
              key: "children",
              get: function get() {
                return this._children;
              }
            }, {
              key: "properties",
              get: function get() {
                return this._properties;
              }
            }]);
            return MapNode2;
          }();
          __webpack_exports__["default"] = MapNode;
        },
        "./src/dash/parser/maps/RepresentationBaseValuesMap.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _MapNode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/dash/parser/maps/MapNode.js");
          var _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/dash/constants/DashConstants.js");
          function _typeof5(obj) {
            "@babel/helpers - typeof";
            if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
              _typeof5 = function _typeof6(obj2) {
                return typeof obj2;
              };
            } else {
              _typeof5 = function _typeof6(obj2) {
                return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
              };
            }
            return _typeof5(obj);
          }
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _inherits2(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            if (superClass)
              _setPrototypeOf2(subClass, superClass);
          }
          function _setPrototypeOf2(o2, p2) {
            _setPrototypeOf2 = Object.setPrototypeOf || function _setPrototypeOf3(o3, p3) {
              o3.__proto__ = p3;
              return o3;
            };
            return _setPrototypeOf2(o2, p2);
          }
          function _createSuper2(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct2();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf2(Derived), result;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf2(this).constructor;
                result = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn2(this, result);
            };
          }
          function _possibleConstructorReturn2(self2, call) {
            if (call && (_typeof5(call) === "object" || typeof call === "function")) {
              return call;
            }
            return _assertThisInitialized2(self2);
          }
          function _assertThisInitialized2(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct2() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e) {
              return false;
            }
          }
          function _getPrototypeOf2(o2) {
            _getPrototypeOf2 = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf3(o3) {
              return o3.__proto__ || Object.getPrototypeOf(o3);
            };
            return _getPrototypeOf2(o2);
          }
          var RepresentationBaseValuesMap = /* @__PURE__ */ function(_MapNode) {
            _inherits2(RepresentationBaseValuesMap2, _MapNode);
            var _super = _createSuper2(RepresentationBaseValuesMap2);
            function RepresentationBaseValuesMap2() {
              _classCallCheck2(this, RepresentationBaseValuesMap2);
              var commonProperties = [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].PROFILES, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].WIDTH, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].HEIGHT, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SAR, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].FRAMERATE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].AUDIO_SAMPLING_RATE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MIME_TYPE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_PROFILES, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].CODECS, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MAXIMUM_SAP_PERIOD, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].START_WITH_SAP, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MAX_PLAYOUT_RATE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].CODING_DEPENDENCY, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SCAN_TYPE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].FRAME_PACKING, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].AUDIO_CHANNEL_CONFIGURATION, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].CONTENT_PROTECTION, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ESSENTIAL_PROPERTY, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SUPPLEMENTAL_PROPERTY, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].INBAND_EVENT_STREAM];
              return _super.call(this, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ADAPTATION_SET, commonProperties, [new _MapNode__WEBPACK_IMPORTED_MODULE_0__["default"](_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].REPRESENTATION, commonProperties, [new _MapNode__WEBPACK_IMPORTED_MODULE_0__["default"](_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SUB_REPRESENTATION, commonProperties)])]);
            }
            return RepresentationBaseValuesMap2;
          }(_MapNode__WEBPACK_IMPORTED_MODULE_0__["default"]);
          __webpack_exports__["default"] = RepresentationBaseValuesMap;
        },
        "./src/dash/parser/maps/SegmentValuesMap.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _MapNode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/dash/parser/maps/MapNode.js");
          var _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/dash/constants/DashConstants.js");
          function _typeof5(obj) {
            "@babel/helpers - typeof";
            if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
              _typeof5 = function _typeof6(obj2) {
                return typeof obj2;
              };
            } else {
              _typeof5 = function _typeof6(obj2) {
                return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
              };
            }
            return _typeof5(obj);
          }
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _inherits2(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            if (superClass)
              _setPrototypeOf2(subClass, superClass);
          }
          function _setPrototypeOf2(o2, p2) {
            _setPrototypeOf2 = Object.setPrototypeOf || function _setPrototypeOf3(o3, p3) {
              o3.__proto__ = p3;
              return o3;
            };
            return _setPrototypeOf2(o2, p2);
          }
          function _createSuper2(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct2();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf2(Derived), result;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf2(this).constructor;
                result = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn2(this, result);
            };
          }
          function _possibleConstructorReturn2(self2, call) {
            if (call && (_typeof5(call) === "object" || typeof call === "function")) {
              return call;
            }
            return _assertThisInitialized2(self2);
          }
          function _assertThisInitialized2(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct2() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e) {
              return false;
            }
          }
          function _getPrototypeOf2(o2) {
            _getPrototypeOf2 = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf3(o3) {
              return o3.__proto__ || Object.getPrototypeOf(o3);
            };
            return _getPrototypeOf2(o2);
          }
          var SegmentValuesMap = /* @__PURE__ */ function(_MapNode) {
            _inherits2(SegmentValuesMap2, _MapNode);
            var _super = _createSuper2(SegmentValuesMap2);
            function SegmentValuesMap2() {
              _classCallCheck2(this, SegmentValuesMap2);
              var commonProperties = [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_BASE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_TEMPLATE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_LIST];
              return _super.call(this, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].PERIOD, commonProperties, [new _MapNode__WEBPACK_IMPORTED_MODULE_0__["default"](_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ADAPTATION_SET, commonProperties, [new _MapNode__WEBPACK_IMPORTED_MODULE_0__["default"](_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].REPRESENTATION, commonProperties)])]);
            }
            return SegmentValuesMap2;
          }(_MapNode__WEBPACK_IMPORTED_MODULE_0__["default"]);
          __webpack_exports__["default"] = SegmentValuesMap;
        },
        "./src/dash/parser/matchers/BaseMatcher.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties3(target, props) {
            for (var i3 = 0; i3 < props.length; i3++) {
              var descriptor = props[i3];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass3(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties3(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties3(Constructor, staticProps);
            return Constructor;
          }
          var BaseMatcher = /* @__PURE__ */ function() {
            function BaseMatcher2(test, converter) {
              _classCallCheck2(this, BaseMatcher2);
              this._test = test;
              this._converter = converter;
            }
            _createClass3(BaseMatcher2, [{
              key: "test",
              get: function get() {
                return this._test;
              }
            }, {
              key: "converter",
              get: function get() {
                return this._converter;
              }
            }]);
            return BaseMatcher2;
          }();
          __webpack_exports__["default"] = BaseMatcher;
        },
        "./src/dash/parser/matchers/DateTimeMatcher.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _BaseMatcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/dash/parser/matchers/BaseMatcher.js");
          function _typeof5(obj) {
            "@babel/helpers - typeof";
            if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
              _typeof5 = function _typeof6(obj2) {
                return typeof obj2;
              };
            } else {
              _typeof5 = function _typeof6(obj2) {
                return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
              };
            }
            return _typeof5(obj);
          }
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _inherits2(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            if (superClass)
              _setPrototypeOf2(subClass, superClass);
          }
          function _setPrototypeOf2(o2, p2) {
            _setPrototypeOf2 = Object.setPrototypeOf || function _setPrototypeOf3(o3, p3) {
              o3.__proto__ = p3;
              return o3;
            };
            return _setPrototypeOf2(o2, p2);
          }
          function _createSuper2(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct2();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf2(Derived), result;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf2(this).constructor;
                result = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn2(this, result);
            };
          }
          function _possibleConstructorReturn2(self2, call) {
            if (call && (_typeof5(call) === "object" || typeof call === "function")) {
              return call;
            }
            return _assertThisInitialized2(self2);
          }
          function _assertThisInitialized2(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct2() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e) {
              return false;
            }
          }
          function _getPrototypeOf2(o2) {
            _getPrototypeOf2 = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf3(o3) {
              return o3.__proto__ || Object.getPrototypeOf(o3);
            };
            return _getPrototypeOf2(o2);
          }
          var SECONDS_IN_MIN = 60;
          var MINUTES_IN_HOUR = 60;
          var MILLISECONDS_IN_SECONDS = 1e3;
          var datetimeRegex = /^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;
          var DateTimeMatcher = /* @__PURE__ */ function(_BaseMatcher) {
            _inherits2(DateTimeMatcher2, _BaseMatcher);
            var _super = _createSuper2(DateTimeMatcher2);
            function DateTimeMatcher2() {
              _classCallCheck2(this, DateTimeMatcher2);
              return _super.call(this, function(attr) {
                return datetimeRegex.test(attr.value);
              }, function(str) {
                var match9 = datetimeRegex.exec(str);
                var utcDate;
                utcDate = Date.UTC(parseInt(match9[1], 10), parseInt(match9[2], 10) - 1, parseInt(match9[3], 10), parseInt(match9[4], 10), parseInt(match9[5], 10), match9[6] && parseInt(match9[6], 10) || 0, match9[7] && parseFloat(match9[7]) * MILLISECONDS_IN_SECONDS || 0);
                if (match9[9] && match9[10]) {
                  var timezoneOffset = parseInt(match9[9], 10) * MINUTES_IN_HOUR + parseInt(match9[10], 10);
                  utcDate += (match9[8] === "+" ? -1 : 1) * timezoneOffset * SECONDS_IN_MIN * MILLISECONDS_IN_SECONDS;
                }
                return new Date(utcDate);
              });
            }
            return DateTimeMatcher2;
          }(_BaseMatcher__WEBPACK_IMPORTED_MODULE_0__["default"]);
          __webpack_exports__["default"] = DateTimeMatcher;
        },
        "./src/dash/parser/matchers/DurationMatcher.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _BaseMatcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/dash/parser/matchers/BaseMatcher.js");
          var _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _constants_DashConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/dash/constants/DashConstants.js");
          function _typeof5(obj) {
            "@babel/helpers - typeof";
            if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
              _typeof5 = function _typeof6(obj2) {
                return typeof obj2;
              };
            } else {
              _typeof5 = function _typeof6(obj2) {
                return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
              };
            }
            return _typeof5(obj);
          }
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _inherits2(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            if (superClass)
              _setPrototypeOf2(subClass, superClass);
          }
          function _setPrototypeOf2(o2, p2) {
            _setPrototypeOf2 = Object.setPrototypeOf || function _setPrototypeOf3(o3, p3) {
              o3.__proto__ = p3;
              return o3;
            };
            return _setPrototypeOf2(o2, p2);
          }
          function _createSuper2(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct2();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf2(Derived), result;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf2(this).constructor;
                result = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn2(this, result);
            };
          }
          function _possibleConstructorReturn2(self2, call) {
            if (call && (_typeof5(call) === "object" || typeof call === "function")) {
              return call;
            }
            return _assertThisInitialized2(self2);
          }
          function _assertThisInitialized2(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct2() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e) {
              return false;
            }
          }
          function _getPrototypeOf2(o2) {
            _getPrototypeOf2 = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf3(o3) {
              return o3.__proto__ || Object.getPrototypeOf(o3);
            };
            return _getPrototypeOf2(o2);
          }
          var durationRegex = /^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;
          var SECONDS_IN_YEAR = 365 * 24 * 60 * 60;
          var SECONDS_IN_MONTH = 30 * 24 * 60 * 60;
          var SECONDS_IN_DAY = 24 * 60 * 60;
          var SECONDS_IN_HOUR = 60 * 60;
          var SECONDS_IN_MIN = 60;
          var DurationMatcher = /* @__PURE__ */ function(_BaseMatcher) {
            _inherits2(DurationMatcher2, _BaseMatcher);
            var _super = _createSuper2(DurationMatcher2);
            function DurationMatcher2() {
              _classCallCheck2(this, DurationMatcher2);
              return _super.call(this, function(attr) {
                var attributeList = [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_2__["default"].MIN_BUFFER_TIME, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_2__["default"].MEDIA_PRESENTATION_DURATION, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_2__["default"].MINIMUM_UPDATE_PERIOD, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_2__["default"].TIMESHIFT_BUFFER_DEPTH, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_2__["default"].MAX_SEGMENT_DURATION, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_2__["default"].MAX_SUBSEGMENT_DURATION, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_2__["default"].SUGGESTED_PRESENTATION_DELAY, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_2__["default"].START, _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].START_TIME, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_2__["default"].DURATION];
                var len = attributeList.length;
                for (var i3 = 0; i3 < len; i3++) {
                  if (attr.nodeName === attributeList[i3]) {
                    return durationRegex.test(attr.value);
                  }
                }
                return false;
              }, function(str) {
                var match9 = durationRegex.exec(str);
                var result = parseFloat(match9[3] || 0) * SECONDS_IN_YEAR + parseFloat(match9[5] || 0) * SECONDS_IN_MONTH + parseFloat(match9[7] || 0) * SECONDS_IN_DAY + parseFloat(match9[9] || 0) * SECONDS_IN_HOUR + parseFloat(match9[11] || 0) * SECONDS_IN_MIN + parseFloat(match9[13] || 0);
                if (match9[1] !== void 0) {
                  result = -result;
                }
                return result;
              });
            }
            return DurationMatcher2;
          }(_BaseMatcher__WEBPACK_IMPORTED_MODULE_0__["default"]);
          __webpack_exports__["default"] = DurationMatcher;
        },
        "./src/dash/parser/matchers/NumericMatcher.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _BaseMatcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/dash/parser/matchers/BaseMatcher.js");
          function _typeof5(obj) {
            "@babel/helpers - typeof";
            if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
              _typeof5 = function _typeof6(obj2) {
                return typeof obj2;
              };
            } else {
              _typeof5 = function _typeof6(obj2) {
                return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
              };
            }
            return _typeof5(obj);
          }
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _inherits2(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            if (superClass)
              _setPrototypeOf2(subClass, superClass);
          }
          function _setPrototypeOf2(o2, p2) {
            _setPrototypeOf2 = Object.setPrototypeOf || function _setPrototypeOf3(o3, p3) {
              o3.__proto__ = p3;
              return o3;
            };
            return _setPrototypeOf2(o2, p2);
          }
          function _createSuper2(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct2();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf2(Derived), result;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf2(this).constructor;
                result = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn2(this, result);
            };
          }
          function _possibleConstructorReturn2(self2, call) {
            if (call && (_typeof5(call) === "object" || typeof call === "function")) {
              return call;
            }
            return _assertThisInitialized2(self2);
          }
          function _assertThisInitialized2(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct2() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e) {
              return false;
            }
          }
          function _getPrototypeOf2(o2) {
            _getPrototypeOf2 = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf3(o3) {
              return o3.__proto__ || Object.getPrototypeOf(o3);
            };
            return _getPrototypeOf2(o2);
          }
          var numericRegex = /^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;
          var NumericMatcher = /* @__PURE__ */ function(_BaseMatcher) {
            _inherits2(NumericMatcher2, _BaseMatcher);
            var _super = _createSuper2(NumericMatcher2);
            function NumericMatcher2() {
              _classCallCheck2(this, NumericMatcher2);
              return _super.call(this, function(attr) {
                return numericRegex.test(attr.value);
              }, function(str) {
                return parseFloat(str);
              });
            }
            return NumericMatcher2;
          }(_BaseMatcher__WEBPACK_IMPORTED_MODULE_0__["default"]);
          __webpack_exports__["default"] = NumericMatcher;
        },
        "./src/dash/parser/matchers/StringMatcher.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _BaseMatcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/dash/parser/matchers/BaseMatcher.js");
          var _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/dash/constants/DashConstants.js");
          function _typeof5(obj) {
            "@babel/helpers - typeof";
            if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
              _typeof5 = function _typeof6(obj2) {
                return typeof obj2;
              };
            } else {
              _typeof5 = function _typeof6(obj2) {
                return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
              };
            }
            return _typeof5(obj);
          }
          function _defineProperty(obj, key, value) {
            if (key in obj) {
              Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
            } else {
              obj[key] = value;
            }
            return obj;
          }
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _inherits2(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            if (superClass)
              _setPrototypeOf2(subClass, superClass);
          }
          function _setPrototypeOf2(o2, p2) {
            _setPrototypeOf2 = Object.setPrototypeOf || function _setPrototypeOf3(o3, p3) {
              o3.__proto__ = p3;
              return o3;
            };
            return _setPrototypeOf2(o2, p2);
          }
          function _createSuper2(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct2();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf2(Derived), result;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf2(this).constructor;
                result = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn2(this, result);
            };
          }
          function _possibleConstructorReturn2(self2, call) {
            if (call && (_typeof5(call) === "object" || typeof call === "function")) {
              return call;
            }
            return _assertThisInitialized2(self2);
          }
          function _assertThisInitialized2(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct2() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e) {
              return false;
            }
          }
          function _getPrototypeOf2(o2) {
            _getPrototypeOf2 = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf3(o3) {
              return o3.__proto__ || Object.getPrototypeOf(o3);
            };
            return _getPrototypeOf2(o2);
          }
          var StringMatcher = /* @__PURE__ */ function(_BaseMatcher) {
            _inherits2(StringMatcher2, _BaseMatcher);
            var _super = _createSuper2(StringMatcher2);
            function StringMatcher2() {
              _classCallCheck2(this, StringMatcher2);
              return _super.call(this, function(attr, nodeName) {
                var _stringAttrsInElement;
                var stringAttrsInElements = (_stringAttrsInElement = {}, _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MPD, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].PROFILES]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].PERIOD, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].BASE_URL, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SERVICE_LOCATION, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].BYTE_RANGE]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_BASE, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].INDEX_RANGE]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].INITIALIZATION, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].RANGE]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].REPRESENTATION_INDEX, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].RANGE]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_LIST, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].INDEX_RANGE]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].BITSTREAM_SWITCHING, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].RANGE]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_URL, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MEDIA_RANGE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].INDEX_RANGE]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_TEMPLATE, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].INDEX_RANGE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MEDIA, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].INDEX, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].INITIALIZATION_MINUS, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].BITSTREAM_SWITCHING_MINUS]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ASSET_IDENTIFIER, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].VALUE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].EVENT_STREAM, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].VALUE]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ADAPTATION_SET, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].PROFILES, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MIME_TYPE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_PROFILES, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].CODECS, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].CONTENT_TYPE]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].FRAME_PACKING, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].VALUE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].AUDIO_CHANNEL_CONFIGURATION, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].VALUE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].CONTENT_PROTECTION, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].VALUE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ESSENTIAL_PROPERTY, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].VALUE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SUPPLEMENTAL_PROPERTY, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].VALUE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].INBAND_EVENT_STREAM, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].VALUE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ACCESSIBILITY, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].VALUE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ROLE, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].VALUE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].RATING, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].VALUE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].VIEWPOINT, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].VALUE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].CONTENT_COMPONENT, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].CONTENT_TYPE]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].REPRESENTATION, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].DEPENDENCY_ID, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MEDIA_STREAM_STRUCTURE_ID]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SUBSET, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].METRICS, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].METRICS_MINUS]), _defineProperty(_stringAttrsInElement, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].REPORTING, [_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].VALUE, _constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].ID]), _stringAttrsInElement);
                if (stringAttrsInElements.hasOwnProperty(nodeName)) {
                  var attrNames = stringAttrsInElements[nodeName];
                  if (attrNames !== void 0) {
                    return attrNames.indexOf(attr.name) >= 0;
                  } else {
                    return false;
                  }
                }
                return false;
              }, function(str) {
                return String(str);
              });
            }
            return StringMatcher2;
          }(_BaseMatcher__WEBPACK_IMPORTED_MODULE_0__["default"]);
          __webpack_exports__["default"] = StringMatcher;
        },
        "./src/dash/parser/objectiron.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          function _typeof5(obj) {
            "@babel/helpers - typeof";
            if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
              _typeof5 = function _typeof6(obj2) {
                return typeof obj2;
              };
            } else {
              _typeof5 = function _typeof6(obj2) {
                return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
              };
            }
            return _typeof5(obj);
          }
          function ObjectIron(mappers) {
            function mergeValues(parentItem, childItem) {
              for (var name in parentItem) {
                if (!childItem.hasOwnProperty(name)) {
                  childItem[name] = parentItem[name];
                }
              }
            }
            function mapProperties(properties, parent, child) {
              for (var i3 = 0, len = properties.length; i3 < len; ++i3) {
                var property = properties[i3];
                if (parent[property.name]) {
                  if (child[property.name]) {
                    if (property.merge) {
                      var parentValue = parent[property.name];
                      var childValue = child[property.name];
                      if (_typeof5(parentValue) === "object" && _typeof5(childValue) === "object") {
                        mergeValues(parentValue, childValue);
                      } else {
                        child[property.name] = parentValue + childValue;
                      }
                    }
                  } else {
                    child[property.name] = parent[property.name];
                  }
                }
              }
            }
            function mapItem(item, node) {
              for (var i3 = 0, len = item.children.length; i3 < len; ++i3) {
                var childItem = item.children[i3];
                var array = node[childItem.name + "_asArray"];
                if (array) {
                  for (var v = 0, len2 = array.length; v < len2; ++v) {
                    var childNode = array[v];
                    mapProperties(item.properties, node, childNode);
                    mapItem(childItem, childNode);
                  }
                }
              }
            }
            function run(source) {
              if (source === null || _typeof5(source) !== "object") {
                return source;
              }
              if (source.Period_asArray && "period" in mappers) {
                var periodMapper = mappers.period;
                var periods = source.Period_asArray;
                for (var i3 = 0, len = periods.length; i3 < len; ++i3) {
                  var period = periods[i3];
                  mapItem(periodMapper, period);
                  if ("adaptationset" in mappers) {
                    var adaptationSets = period.AdaptationSet_asArray;
                    if (adaptationSets) {
                      var adaptationSetMapper = mappers.adaptationset;
                      for (var _i = 0, _len = adaptationSets.length; _i < _len; ++_i) {
                        mapItem(adaptationSetMapper, adaptationSets[_i]);
                      }
                    }
                  }
                }
              }
              return source;
            }
            return {
              run
            };
          }
          ObjectIron.__dashjs_factory_name = "ObjectIron";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(ObjectIron);
          __webpack_exports__["default"] = factory;
        },
        "./src/dash/utils/ListSegmentsGetter.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _SegmentsUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/dash/utils/SegmentsUtils.js");
          function ListSegmentsGetter(config, isDynamic) {
            config = config || {};
            var timelineConverter = config.timelineConverter;
            var instance;
            function checkConfig() {
              if (!timelineConverter || !timelineConverter.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime")) {
                throw new Error(_streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].MISSING_CONFIG_ERROR);
              }
            }
            function getMediaFinishedInformation(representation) {
              var mediaFinishedInformation = {
                numberOfSegments: 0,
                mediaTimeOfLastSignaledSegment: NaN
              };
              if (!representation) {
                return mediaFinishedInformation;
              }
              var list = representation.adaptation.period.mpd.manifest.Period_asArray[representation.adaptation.period.index].AdaptationSet_asArray[representation.adaptation.index].Representation_asArray[representation.index].SegmentList;
              var startNumber = representation && !isNaN(representation.startNumber) ? representation.startNumber : 1;
              var offset = Math.max(startNumber - 1, 0);
              mediaFinishedInformation.numberOfSegments = offset + list.SegmentURL_asArray.length;
              return mediaFinishedInformation;
            }
            function getSegmentByIndex(representation, index) {
              checkConfig();
              if (!representation) {
                return null;
              }
              var list = representation.adaptation.period.mpd.manifest.Period_asArray[representation.adaptation.period.index].AdaptationSet_asArray[representation.adaptation.index].Representation_asArray[representation.index].SegmentList;
              var len = list.SegmentURL_asArray.length;
              var startNumber = representation && !isNaN(representation.startNumber) ? representation.startNumber : 1;
              var offsetToSubtract = Math.max(startNumber - 1, 0);
              var relativeIndex = Math.max(index - offsetToSubtract, 0);
              var segment = null;
              if (relativeIndex < len) {
                var s3 = list.SegmentURL_asArray[relativeIndex];
                segment = Object(_SegmentsUtils__WEBPACK_IMPORTED_MODULE_2__["getIndexBasedSegment"])(timelineConverter, isDynamic, representation, index);
                if (segment) {
                  segment.replacementTime = (startNumber + index - 1) * representation.segmentDuration;
                  segment.media = s3.media ? s3.media : "";
                  segment.mediaRange = s3.mediaRange;
                  segment.indexRange = s3.indexRange;
                }
              }
              return segment;
            }
            function getSegmentByTime(representation, requestedTime) {
              checkConfig();
              if (!representation) {
                return null;
              }
              var duration = representation.segmentDuration;
              if (isNaN(duration)) {
                return null;
              }
              var periodTime = timelineConverter.calcPeriodRelativeTimeFromMpdRelativeTime(representation, requestedTime);
              var index = Math.floor(periodTime / duration);
              return getSegmentByIndex(representation, index);
            }
            instance = {
              getSegmentByIndex,
              getSegmentByTime,
              getMediaFinishedInformation
            };
            return instance;
          }
          ListSegmentsGetter.__dashjs_factory_name = "ListSegmentsGetter";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(ListSegmentsGetter);
          __webpack_exports__["default"] = factory;
        },
        "./src/dash/utils/Round10.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          __webpack_require__.d(__webpack_exports__, "default", function() {
            return Round10;
          });
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties3(target, props) {
            for (var i3 = 0; i3 < props.length; i3++) {
              var descriptor = props[i3];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass3(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties3(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties3(Constructor, staticProps);
            return Constructor;
          }
          var Round10 = /* @__PURE__ */ function() {
            function Round102() {
              _classCallCheck2(this, Round102);
            }
            _createClass3(Round102, null, [{
              key: "round10",
              value: function round10(value, exp) {
                return _decimalAdjust("round", value, exp);
              }
            }]);
            return Round102;
          }();
          function _decimalAdjust(type, value, exp) {
            if (typeof exp === "undefined" || +exp === 0) {
              return Math[type](value);
            }
            value = +value;
            exp = +exp;
            if (value === null || isNaN(value) || !(typeof exp === "number" && exp % 1 === 0)) {
              return NaN;
            }
            value = value.toString().split("e");
            value = Math[type](+(value[0] + "e" + (value[1] ? +value[1] - exp : -exp)));
            value = value.toString().split("e");
            return +(value[0] + "e" + (value[1] ? +value[1] + exp : exp));
          }
        },
        "./src/dash/utils/SegmentBaseGetter.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/constants/Constants.js");
          function SegmentBaseGetter(config) {
            config = config || {};
            var timelineConverter = config.timelineConverter;
            var instance;
            function checkConfig() {
              if (!timelineConverter || !timelineConverter.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime")) {
                throw new Error(_streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].MISSING_CONFIG_ERROR);
              }
            }
            function getMediaFinishedInformation(representation) {
              var mediaFinishedInformation = {
                numberOfSegments: 0,
                mediaTimeOfLastSignaledSegment: NaN
              };
              if (!representation || !representation.segments) {
                return mediaFinishedInformation;
              }
              mediaFinishedInformation.numberOfSegments = representation.segments.length;
              return mediaFinishedInformation;
            }
            function getSegmentByIndex(representation, index) {
              checkConfig();
              if (!representation) {
                return null;
              }
              var len = representation.segments ? representation.segments.length : -1;
              var seg;
              if (index < len) {
                seg = representation.segments[index];
                if (seg && seg.index === index) {
                  return seg;
                }
              }
              for (var i3 = 0; i3 < len; i3++) {
                seg = representation.segments[i3];
                if (seg && seg.index === index) {
                  return seg;
                }
              }
              return null;
            }
            function getSegmentByTime(representation, requestedTime) {
              checkConfig();
              var index = getIndexByTime(representation, requestedTime);
              return getSegmentByIndex(representation, index);
            }
            function getIndexByTime(representation, time) {
              if (!representation) {
                return -1;
              }
              var segments = representation.segments;
              var ln = segments ? segments.length : null;
              var idx = -1;
              var epsilon, seg, ft, fd, i3;
              if (segments && ln > 0) {
                for (i3 = 0; i3 < ln; i3++) {
                  seg = segments[i3];
                  ft = seg.presentationStartTime;
                  fd = seg.duration;
                  epsilon = fd / 2;
                  if (time + epsilon >= ft && time - epsilon < ft + fd) {
                    idx = seg.index;
                    break;
                  }
                }
              }
              return idx;
            }
            instance = {
              getSegmentByIndex,
              getSegmentByTime,
              getMediaFinishedInformation
            };
            return instance;
          }
          SegmentBaseGetter.__dashjs_factory_name = "SegmentBaseGetter";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(SegmentBaseGetter);
          __webpack_exports__["default"] = factory;
        },
        "./src/dash/utils/SegmentsUtils.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          __webpack_require__.d(__webpack_exports__, "unescapeDollarsInTemplate", function() {
            return unescapeDollarsInTemplate;
          });
          __webpack_require__.d(__webpack_exports__, "replaceIDForTemplate", function() {
            return replaceIDForTemplate;
          });
          __webpack_require__.d(__webpack_exports__, "replaceTokenForTemplate", function() {
            return replaceTokenForTemplate;
          });
          __webpack_require__.d(__webpack_exports__, "getIndexBasedSegment", function() {
            return getIndexBasedSegment;
          });
          __webpack_require__.d(__webpack_exports__, "getTimeBasedSegment", function() {
            return getTimeBasedSegment;
          });
          var _vo_Segment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/dash/vo/Segment.js");
          function zeroPadToLength(numStr, minStrLength) {
            while (numStr.length < minStrLength) {
              numStr = "0" + numStr;
            }
            return numStr;
          }
          function getNumberForSegment(segment, segmentIndex) {
            return segment.representation.startNumber + segmentIndex;
          }
          function unescapeDollarsInTemplate(url) {
            return url ? url.split("$$").join("$") : url;
          }
          function replaceIDForTemplate(url, value) {
            if (!value || !url || url.indexOf("$RepresentationID$") === -1) {
              return url;
            }
            var v = value.toString();
            return url.split("$RepresentationID$").join(v);
          }
          function replaceTokenForTemplate(url, token, value) {
            var formatTag = "%0";
            var startPos, endPos, formatTagPos, specifier, width, paddedValue;
            var tokenLen = token.length;
            var formatTagLen = formatTag.length;
            if (!url) {
              return url;
            }
            while (true) {
              startPos = url.indexOf("$" + token);
              if (startPos < 0) {
                return url;
              }
              endPos = url.indexOf("$", startPos + tokenLen);
              if (endPos < 0) {
                return url;
              }
              formatTagPos = url.indexOf(formatTag, startPos + tokenLen);
              if (formatTagPos > startPos && formatTagPos < endPos) {
                specifier = url.charAt(endPos - 1);
                width = parseInt(url.substring(formatTagPos + formatTagLen, endPos - 1), 10);
                switch (specifier) {
                  case "d":
                  case "i":
                  case "u":
                    paddedValue = zeroPadToLength(value.toString(), width);
                    break;
                  case "x":
                    paddedValue = zeroPadToLength(value.toString(16), width);
                    break;
                  case "X":
                    paddedValue = zeroPadToLength(value.toString(16), width).toUpperCase();
                    break;
                  case "o":
                    paddedValue = zeroPadToLength(value.toString(8), width);
                    break;
                  default:
                    return url;
                }
              } else {
                paddedValue = value;
              }
              url = url.substring(0, startPos) + paddedValue + url.substring(endPos + 1);
            }
          }
          function getSegment(representation, duration, presentationStartTime, mediaStartTime, timelineConverter, presentationEndTime, isDynamic, index) {
            var seg = new _vo_Segment__WEBPACK_IMPORTED_MODULE_0__["default"]();
            seg.representation = representation;
            seg.duration = duration;
            seg.presentationStartTime = presentationStartTime;
            seg.mediaStartTime = mediaStartTime;
            seg.availabilityStartTime = timelineConverter.calcAvailabilityStartTimeFromPresentationTime(presentationEndTime, representation, isDynamic);
            seg.availabilityEndTime = timelineConverter.calcAvailabilityEndTimeFromPresentationTime(presentationEndTime + duration, representation, isDynamic);
            seg.wallStartTime = timelineConverter.calcWallTimeForSegment(seg, isDynamic);
            seg.replacementNumber = getNumberForSegment(seg, index);
            seg.index = index;
            return seg;
          }
          function isSegmentAvailable(timelineConverter, representation, segment, isDynamic) {
            var voPeriod = representation.adaptation.period;
            if (isFinite(voPeriod.duration) && voPeriod.start + voPeriod.duration <= segment.presentationStartTime) {
              return false;
            }
            if (isDynamic) {
              if (representation.availabilityTimeOffset === "INF") {
                return true;
              }
              var refTime = timelineConverter.getClientReferenceTime();
              return segment.availabilityStartTime.getTime() <= refTime && (!isFinite(segment.availabilityEndTime) || segment.availabilityEndTime.getTime() >= refTime);
            }
            return true;
          }
          function getIndexBasedSegment(timelineConverter, isDynamic, representation, index) {
            var duration, presentationStartTime, presentationEndTime;
            duration = representation.segmentDuration;
            if (isNaN(duration)) {
              duration = representation.adaptation.period.duration;
            }
            presentationStartTime = parseFloat((representation.adaptation.period.start + index * duration).toFixed(5));
            presentationEndTime = parseFloat((presentationStartTime + duration).toFixed(5));
            var mediaTime = timelineConverter.calcMediaTimeFromPresentationTime(presentationStartTime, representation);
            var segment = getSegment(representation, duration, presentationStartTime, mediaTime, timelineConverter, presentationEndTime, isDynamic, index);
            if (!isSegmentAvailable(timelineConverter, representation, segment, isDynamic)) {
              return null;
            }
            return segment;
          }
          function getTimeBasedSegment(timelineConverter, isDynamic, representation, time, duration, fTimescale, url, range, index, tManifest) {
            var scaledTime = time / fTimescale;
            var scaledDuration = duration / fTimescale;
            var presentationStartTime, presentationEndTime, seg;
            presentationStartTime = timelineConverter.calcPresentationTimeFromMediaTime(scaledTime, representation);
            presentationEndTime = presentationStartTime + scaledDuration;
            seg = getSegment(representation, scaledDuration, presentationStartTime, scaledTime, timelineConverter, presentationEndTime, isDynamic, index);
            if (!isSegmentAvailable(timelineConverter, representation, seg, isDynamic)) {
              return null;
            }
            seg.replacementTime = tManifest ? tManifest : time;
            url = replaceTokenForTemplate(url, "Number", seg.replacementNumber);
            url = replaceTokenForTemplate(url, "Time", seg.replacementTime);
            seg.media = url;
            seg.mediaRange = range;
            return seg;
          }
        },
        "./src/dash/utils/TemplateSegmentsGetter.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _SegmentsUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/dash/utils/SegmentsUtils.js");
          function TemplateSegmentsGetter(config, isDynamic) {
            config = config || {};
            var timelineConverter = config.timelineConverter;
            var instance;
            function checkConfig() {
              if (!timelineConverter || !timelineConverter.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime")) {
                throw new Error(_streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].MISSING_CONFIG_ERROR);
              }
            }
            function getMediaFinishedInformation(representation) {
              var mediaFinishedInformation = {
                numberOfSegments: 0,
                mediaTimeOfLastSignaledSegment: NaN
              };
              if (!representation) {
                return mediaFinishedInformation;
              }
              var duration = representation.segmentDuration;
              if (isNaN(duration)) {
                mediaFinishedInformation.numberOfSegments = 1;
              } else {
                mediaFinishedInformation.numberOfSegments = Math.ceil(representation.adaptation.period.duration / duration);
              }
              return mediaFinishedInformation;
            }
            function getSegmentByIndex(representation, index) {
              checkConfig();
              if (!representation) {
                return null;
              }
              var template = representation.adaptation.period.mpd.manifest.Period_asArray[representation.adaptation.period.index].AdaptationSet_asArray[representation.adaptation.index].Representation_asArray[representation.index].SegmentTemplate;
              index = Math.max(index, 0);
              var seg = Object(_SegmentsUtils__WEBPACK_IMPORTED_MODULE_2__["getIndexBasedSegment"])(timelineConverter, isDynamic, representation, index);
              if (seg) {
                seg.replacementTime = Math.round((index - 1) * representation.segmentDuration * representation.timescale, 10);
                var url = template.media;
                url = Object(_SegmentsUtils__WEBPACK_IMPORTED_MODULE_2__["replaceTokenForTemplate"])(url, "Number", seg.replacementNumber);
                url = Object(_SegmentsUtils__WEBPACK_IMPORTED_MODULE_2__["replaceTokenForTemplate"])(url, "Time", seg.replacementTime);
                seg.media = url;
              }
              return seg;
            }
            function getSegmentByTime(representation, requestedTime) {
              checkConfig();
              if (!representation) {
                return null;
              }
              var duration = representation.segmentDuration;
              if (isNaN(duration)) {
                return null;
              }
              var periodTime = timelineConverter.calcPeriodRelativeTimeFromMpdRelativeTime(representation, requestedTime);
              var index = Math.floor(periodTime / duration);
              return getSegmentByIndex(representation, index);
            }
            instance = {
              getSegmentByIndex,
              getSegmentByTime,
              getMediaFinishedInformation
            };
            return instance;
          }
          TemplateSegmentsGetter.__dashjs_factory_name = "TemplateSegmentsGetter";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(TemplateSegmentsGetter);
          __webpack_exports__["default"] = factory;
        },
        "./src/dash/utils/TimelineConverter.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/events/Events.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _constants_DashConstants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/dash/constants/DashConstants.js");
          var _models_DashManifestModel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/dash/models/DashManifestModel.js");
          var _core_Settings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/core/Settings.js");
          var _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/streaming/MediaPlayerEvents.js");
          var _streaming_constants_ConformanceViolationConstants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/streaming/constants/ConformanceViolationConstants.js");
          function TimelineConverter() {
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_0__["default"])(context).getInstance();
            var settings = Object(_core_Settings__WEBPACK_IMPORTED_MODULE_5__["default"])(context).getInstance();
            var instance, dashManifestModel, timelineAnchorAvailabilityOffset, clientServerTimeShift;
            function setup() {
              dashManifestModel = Object(_models_DashManifestModel__WEBPACK_IMPORTED_MODULE_4__["default"])(context).getInstance();
              reset();
            }
            function initialize() {
              resetInitialSettings();
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_1__["default"].UPDATE_TIME_SYNC_OFFSET, _onUpdateTimeSyncOffset, this);
            }
            function getClientTimeOffset() {
              return clientServerTimeShift;
            }
            function setClientTimeOffset(value) {
              clientServerTimeShift = value;
            }
            function getClientReferenceTime() {
              return Date.now() - timelineAnchorAvailabilityOffset * 1e3 + clientServerTimeShift * 1e3;
            }
            function _calcAvailabilityTimeFromPresentationTime(presentationEndTime, representation, isDynamic, calculateAvailabilityEndTime) {
              var availabilityTime;
              var mpd = representation.adaptation.period.mpd;
              var availabilityStartTime = mpd.availabilityStartTime;
              if (calculateAvailabilityEndTime) {
                if (isDynamic && mpd.timeShiftBufferDepth !== Number.POSITIVE_INFINITY) {
                  availabilityTime = new Date(availabilityStartTime.getTime() + (presentationEndTime + mpd.timeShiftBufferDepth) * 1e3);
                } else {
                  availabilityTime = mpd.availabilityEndTime;
                }
              } else {
                if (isDynamic) {
                  var availabilityTimeOffset = representation.availabilityTimeOffset;
                  availabilityTime = new Date(availabilityStartTime.getTime() + (presentationEndTime - availabilityTimeOffset) * 1e3);
                } else {
                  availabilityTime = availabilityStartTime;
                }
              }
              return availabilityTime;
            }
            function calcAvailabilityStartTimeFromPresentationTime(presentationEndTime, representation, isDynamic) {
              return _calcAvailabilityTimeFromPresentationTime(presentationEndTime, representation, isDynamic);
            }
            function calcAvailabilityEndTimeFromPresentationTime(presentationEndTime, representation, isDynamic) {
              return _calcAvailabilityTimeFromPresentationTime(presentationEndTime, representation, isDynamic, true);
            }
            function calcPresentationTimeFromWallTime(wallTime, period) {
              return (wallTime.getTime() - period.mpd.availabilityStartTime.getTime() + clientServerTimeShift * 1e3) / 1e3;
            }
            function calcPresentationTimeFromMediaTime(mediaTime, representation) {
              var periodStart = representation.adaptation.period.start;
              var presentationOffset = representation.presentationTimeOffset;
              return mediaTime + (periodStart - presentationOffset);
            }
            function calcMediaTimeFromPresentationTime(presentationTime, representation) {
              var periodStart = representation.adaptation.period.start;
              var presentationOffset = representation.presentationTimeOffset;
              return presentationTime - periodStart + presentationOffset;
            }
            function calcWallTimeForSegment(segment, isDynamic) {
              var suggestedPresentationDelay, displayStartTime, wallTime;
              if (isDynamic) {
                suggestedPresentationDelay = segment.representation.adaptation.period.mpd.suggestedPresentationDelay;
                displayStartTime = segment.presentationStartTime + suggestedPresentationDelay;
                wallTime = new Date(segment.availabilityStartTime.getTime() + displayStartTime * 1e3);
              }
              return wallTime;
            }
            function calcTimeShiftBufferWindow(streams, isDynamic) {
              if (!isDynamic) {
                return _calcTimeshiftBufferForStaticManifest(streams);
              }
              if (settings.get().streaming.timeShiftBuffer.calcFromSegmentTimeline) {
                var data = _calcTimeShiftBufferWindowForDynamicTimelineManifest(streams);
                _adjustTimelineAnchorAvailabilityOffset(data.now, data.range);
                return data.range;
              }
              return _calcTimeShiftBufferWindowForDynamicManifest(streams);
            }
            function _calcTimeshiftBufferForStaticManifest(streams) {
              var range = {
                start: NaN,
                end: NaN
              };
              var duration = 0;
              var start = NaN;
              streams.forEach(function(stream) {
                var streamInfo = stream.getStreamInfo();
                duration += streamInfo.duration;
                if (isNaN(start) || streamInfo.start < start) {
                  start = streamInfo.start;
                }
              });
              range.start = start;
              range.end = start + duration;
              return range;
            }
            function _calcTimeShiftBufferWindowForDynamicManifest(streams) {
              var range = {
                start: NaN,
                end: NaN
              };
              if (!streams || streams.length === 0) {
                return range;
              }
              var voPeriod = streams[0].getAdapter().getRegularPeriods()[0];
              var now = calcPresentationTimeFromWallTime(new Date(), voPeriod);
              var timeShiftBufferDepth = voPeriod.mpd.timeShiftBufferDepth;
              var start = !isNaN(timeShiftBufferDepth) ? now - timeShiftBufferDepth : 0;
              range.start = _adjustTimeBasedOnPeriodRanges(streams, start);
              range.end = !isNaN(range.start) && now < range.start ? now : _adjustTimeBasedOnPeriodRanges(streams, now, true);
              if (!isNaN(timeShiftBufferDepth) && range.end < now - timeShiftBufferDepth) {
                range.end = NaN;
              }
              if (settings.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline) {
                var timelineRefData = _calcTimeShiftBufferWindowForDynamicTimelineManifest(streams);
                if (timelineRefData.range.end < range.start) {
                  eventBus.trigger(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].CONFORMANCE_VIOLATION, {
                    level: _streaming_constants_ConformanceViolationConstants__WEBPACK_IMPORTED_MODULE_8__["default"].LEVELS.WARNING,
                    event: _streaming_constants_ConformanceViolationConstants__WEBPACK_IMPORTED_MODULE_8__["default"].EVENTS.INVALID_DVR_WINDOW
                  });
                  _adjustTimelineAnchorAvailabilityOffset(timelineRefData.now, timelineRefData.range);
                  return timelineRefData.range;
                }
              }
              return range;
            }
            function _calcTimeShiftBufferWindowForDynamicTimelineManifest(streams) {
              var range = {
                start: NaN,
                end: NaN
              };
              var voPeriod = streams[0].getAdapter().getRegularPeriods()[0];
              var now = calcPresentationTimeFromWallTime(new Date(), voPeriod);
              if (!streams || streams.length === 0) {
                return {
                  range,
                  now
                };
              }
              streams.forEach(function(stream) {
                var adapter = stream.getAdapter();
                var mediaInfo = adapter.getMediaInfoForType(stream.getStreamInfo(), _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].VIDEO) || adapter.getMediaInfoForType(stream.getStreamInfo(), _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].AUDIO);
                var voRepresentations = adapter.getVoRepresentations(mediaInfo);
                var voRepresentation = voRepresentations[0];
                var periodRange = {
                  start: NaN,
                  end: NaN
                };
                if (voRepresentation) {
                  if (voRepresentation.segmentInfoType === _constants_DashConstants__WEBPACK_IMPORTED_MODULE_3__["default"].SEGMENT_TIMELINE) {
                    periodRange = _calcRangeForTimeline(voRepresentation);
                  } else {
                    var currentVoPeriod = voRepresentation.adaptation.period;
                    periodRange.start = currentVoPeriod.start;
                    periodRange.end = Math.max(now, currentVoPeriod.start + currentVoPeriod.duration);
                  }
                }
                if (!isNaN(periodRange.start) && (isNaN(range.start) || range.start > periodRange.start)) {
                  range.start = periodRange.start;
                }
                if (!isNaN(periodRange.end) && (isNaN(range.end) || range.end < periodRange.end)) {
                  range.end = periodRange.end;
                }
              });
              range.end = Math.min(now, range.end);
              var adjustedEndTime = _adjustTimeBasedOnPeriodRanges(streams, range.end, true);
              range.end = isNaN(adjustedEndTime) ? range.end : adjustedEndTime;
              range.start = voPeriod && voPeriod.mpd && voPeriod.mpd.timeShiftBufferDepth && !isNaN(voPeriod.mpd.timeShiftBufferDepth) && !isNaN(range.end) ? Math.max(range.end - voPeriod.mpd.timeShiftBufferDepth, range.start) : range.start;
              range.start = _adjustTimeBasedOnPeriodRanges(streams, range.start);
              return {
                range,
                now
              };
            }
            function _adjustTimelineAnchorAvailabilityOffset(now, range) {
              timelineAnchorAvailabilityOffset = now - range.end;
            }
            function _adjustTimeBasedOnPeriodRanges(streams, time) {
              var isEndOfDvrWindow = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;
              try {
                var i3 = 0;
                var found = false;
                var adjustedTime = NaN;
                while (!found && i3 < streams.length) {
                  var streamInfo = streams[i3].getStreamInfo();
                  if (streamInfo.start <= time && (!isFinite(streamInfo.duration) || streamInfo.start + streamInfo.duration >= time)) {
                    adjustedTime = time;
                    found = true;
                  } else if (!isEndOfDvrWindow && streamInfo.start > time && (isNaN(adjustedTime) || streamInfo.start < adjustedTime)) {
                    adjustedTime = streamInfo.start;
                  } else if (isEndOfDvrWindow && streamInfo.start + streamInfo.duration < time && (isNaN(adjustedTime) || streamInfo.start + streamInfo.duration > adjustedTime)) {
                    adjustedTime = streamInfo.start + streamInfo.duration;
                  }
                  i3 += 1;
                }
                return adjustedTime;
              } catch (e) {
                return time;
              }
            }
            function _calcRangeForTimeline(voRepresentation) {
              var adaptation = voRepresentation.adaptation.period.mpd.manifest.Period_asArray[voRepresentation.adaptation.period.index].AdaptationSet_asArray[voRepresentation.adaptation.index];
              var representation = dashManifestModel.getRepresentationFor(voRepresentation.index, adaptation);
              var timeline = representation.SegmentTemplate.SegmentTimeline;
              var timescale = representation.SegmentTemplate.timescale;
              var segments = timeline.S_asArray;
              var range = {
                start: 0,
                end: 0
              };
              var d2 = 0;
              var segment, repeat, i3, len;
              range.start = calcPresentationTimeFromMediaTime(segments[0].t / timescale, voRepresentation);
              for (i3 = 0, len = segments.length; i3 < len; i3++) {
                segment = segments[i3];
                repeat = 0;
                if (segment.hasOwnProperty("r")) {
                  repeat = segment.r;
                }
                d2 += segment.d / timescale * (1 + repeat);
              }
              range.end = range.start + d2;
              return range;
            }
            function calcPeriodRelativeTimeFromMpdRelativeTime(representation, mpdRelativeTime) {
              var periodStartTime = representation.adaptation.period.start;
              return mpdRelativeTime - periodStartTime;
            }
            function _onUpdateTimeSyncOffset(e) {
              if (e.offset !== void 0 && !isNaN(e.offset)) {
                setClientTimeOffset(e.offset / 1e3);
              }
            }
            function resetInitialSettings() {
              clientServerTimeShift = 0;
              timelineAnchorAvailabilityOffset = 0;
            }
            function reset() {
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_1__["default"].UPDATE_TIME_SYNC_OFFSET, _onUpdateTimeSyncOffset, this);
              resetInitialSettings();
            }
            instance = {
              initialize,
              getClientTimeOffset,
              setClientTimeOffset,
              getClientReferenceTime,
              calcAvailabilityStartTimeFromPresentationTime,
              calcAvailabilityEndTimeFromPresentationTime,
              calcPresentationTimeFromWallTime,
              calcPresentationTimeFromMediaTime,
              calcPeriodRelativeTimeFromMpdRelativeTime,
              calcMediaTimeFromPresentationTime,
              calcWallTimeForSegment,
              calcTimeShiftBufferWindow,
              reset
            };
            setup();
            return instance;
          }
          TimelineConverter.__dashjs_factory_name = "TimelineConverter";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__["default"].getSingletonFactory(TimelineConverter);
        },
        "./src/dash/utils/TimelineSegmentsGetter.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _SegmentsUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/dash/utils/SegmentsUtils.js");
          function TimelineSegmentsGetter(config, isDynamic) {
            config = config || {};
            var timelineConverter = config.timelineConverter;
            var dashMetrics = config.dashMetrics;
            var instance;
            function checkConfig() {
              if (!timelineConverter) {
                throw new Error(_streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].MISSING_CONFIG_ERROR);
              }
            }
            function getMediaFinishedInformation(representation) {
              if (!representation) {
                return 0;
              }
              var base = representation.adaptation.period.mpd.manifest.Period_asArray[representation.adaptation.period.index].AdaptationSet_asArray[representation.adaptation.index].Representation_asArray[representation.index].SegmentTemplate || representation.adaptation.period.mpd.manifest.Period_asArray[representation.adaptation.period.index].AdaptationSet_asArray[representation.adaptation.index].Representation_asArray[representation.index].SegmentList;
              var timeline = base.SegmentTimeline;
              var time = 0;
              var scaledTime = 0;
              var availableSegments = 0;
              var fragments, frag, i3, len, j, repeat, fTimescale;
              fTimescale = representation.timescale;
              fragments = timeline.S_asArray;
              len = fragments.length;
              for (i3 = 0; i3 < len; i3++) {
                frag = fragments[i3];
                repeat = 0;
                if (frag.hasOwnProperty("r")) {
                  repeat = frag.r;
                }
                if (frag.hasOwnProperty("t")) {
                  time = frag.t;
                  scaledTime = time / fTimescale;
                }
                if (repeat < 0) {
                  var nextFrag = fragments[i3 + 1];
                  repeat = _calculateRepeatCountForNegativeR(representation, nextFrag, frag, fTimescale, scaledTime);
                }
                for (j = 0; j <= repeat; j++) {
                  availableSegments++;
                  time += frag.d;
                  scaledTime = time / fTimescale;
                }
              }
              return {
                numberOfSegments: availableSegments,
                mediaTimeOfLastSignaledSegment: scaledTime
              };
            }
            function iterateSegments(representation, iterFunc) {
              var base = representation.adaptation.period.mpd.manifest.Period_asArray[representation.adaptation.period.index].AdaptationSet_asArray[representation.adaptation.index].Representation_asArray[representation.index].SegmentTemplate || representation.adaptation.period.mpd.manifest.Period_asArray[representation.adaptation.period.index].AdaptationSet_asArray[representation.adaptation.index].Representation_asArray[representation.index].SegmentList;
              var timeline = base.SegmentTimeline;
              var list = base.SegmentURL_asArray;
              var time = 0;
              var scaledTime = 0;
              var relativeIdx = -1;
              var fragments, frag, i3, len, j, repeat, fTimescale;
              fTimescale = representation.timescale;
              fragments = timeline.S_asArray;
              var breakIterator = false;
              for (i3 = 0, len = fragments.length; i3 < len && !breakIterator; i3++) {
                frag = fragments[i3];
                repeat = 0;
                if (frag.hasOwnProperty("r")) {
                  repeat = frag.r;
                }
                if (frag.hasOwnProperty("t")) {
                  time = frag.t;
                  scaledTime = time / fTimescale;
                }
                if (repeat < 0) {
                  var nextFrag = fragments[i3 + 1];
                  repeat = _calculateRepeatCountForNegativeR(representation, nextFrag, frag, fTimescale, scaledTime);
                }
                for (j = 0; j <= repeat && !breakIterator; j++) {
                  relativeIdx++;
                  breakIterator = iterFunc(time, scaledTime, base, list, frag, fTimescale, relativeIdx, i3);
                  if (breakIterator) {
                    representation.segmentDuration = frag.d / fTimescale;
                  }
                  time += frag.d;
                  scaledTime = time / fTimescale;
                }
              }
            }
            function _calculateRepeatCountForNegativeR(representation, nextFrag, frag, fTimescale, scaledTime) {
              var repeatEndTime;
              if (nextFrag && nextFrag.hasOwnProperty("t")) {
                repeatEndTime = nextFrag.t / fTimescale;
              } else {
                try {
                  var availabilityEnd = 0;
                  if (!isNaN(representation.adaptation.period.start) && !isNaN(representation.adaptation.period.duration) && isFinite(representation.adaptation.period.duration)) {
                    availabilityEnd = representation.adaptation.period.start + representation.adaptation.period.duration;
                  } else {
                    var dvrWindow = dashMetrics.getCurrentDVRInfo();
                    availabilityEnd = !isNaN(dvrWindow.end) ? dvrWindow.end : 0;
                  }
                  repeatEndTime = timelineConverter.calcMediaTimeFromPresentationTime(availabilityEnd, representation);
                  representation.segmentDuration = frag.d / fTimescale;
                } catch (e) {
                  repeatEndTime = 0;
                }
              }
              return Math.max(Math.ceil((repeatEndTime - scaledTime) / (frag.d / fTimescale)) - 1, 0);
            }
            function getSegmentByIndex(representation, index, lastSegmentTime) {
              checkConfig();
              if (!representation) {
                return null;
              }
              var segment = null;
              var found = false;
              iterateSegments(representation, function(time, scaledTime, base, list, frag, fTimescale, relativeIdx, i3) {
                if (found || lastSegmentTime < 0) {
                  var media = base.media;
                  var mediaRange = frag.mediaRange;
                  if (list) {
                    media = list[i3].media || "";
                    mediaRange = list[i3].mediaRange;
                  }
                  segment = Object(_SegmentsUtils__WEBPACK_IMPORTED_MODULE_2__["getTimeBasedSegment"])(timelineConverter, isDynamic, representation, time, frag.d, fTimescale, media, mediaRange, relativeIdx, frag.tManifest);
                  return true;
                } else if (scaledTime >= lastSegmentTime - frag.d * 0.5 / fTimescale) {
                  found = true;
                }
                return false;
              });
              return segment;
            }
            function getSegmentByTime(representation, requestedTime) {
              checkConfig();
              if (!representation) {
                return null;
              }
              if (requestedTime === void 0) {
                requestedTime = null;
              }
              var segment = null;
              var requiredMediaTime = timelineConverter.calcMediaTimeFromPresentationTime(requestedTime, representation);
              iterateSegments(representation, function(time, scaledTime, base, list, frag, fTimescale, relativeIdx, i3) {
                if (requiredMediaTime < scaledTime + frag.d / fTimescale) {
                  var media = base.media;
                  var mediaRange = frag.mediaRange;
                  if (list) {
                    media = list[i3].media || "";
                    mediaRange = list[i3].mediaRange;
                  }
                  segment = Object(_SegmentsUtils__WEBPACK_IMPORTED_MODULE_2__["getTimeBasedSegment"])(timelineConverter, isDynamic, representation, time, frag.d, fTimescale, media, mediaRange, relativeIdx, frag.tManifest);
                  return true;
                }
                return false;
              });
              return segment;
            }
            instance = {
              getSegmentByIndex,
              getSegmentByTime,
              getMediaFinishedInformation
            };
            return instance;
          }
          TimelineSegmentsGetter.__dashjs_factory_name = "TimelineSegmentsGetter";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(TimelineSegmentsGetter);
          __webpack_exports__["default"] = factory;
        },
        "./src/dash/vo/AdaptationSet.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var AdaptationSet = function AdaptationSet2() {
            _classCallCheck2(this, AdaptationSet2);
            this.period = null;
            this.index = -1;
            this.type = null;
          };
          __webpack_exports__["default"] = AdaptationSet;
        },
        "./src/dash/vo/BaseURL.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var DEFAULT_DVB_PRIORITY = 1;
          var DEFAULT_DVB_WEIGHT = 1;
          var BaseURL = function BaseURL2(url, serviceLocation, priority, weight) {
            _classCallCheck2(this, BaseURL2);
            this.url = url || "";
            this.serviceLocation = serviceLocation || url || "";
            this.dvb_priority = priority || DEFAULT_DVB_PRIORITY;
            this.dvb_weight = weight || DEFAULT_DVB_WEIGHT;
            this.availabilityTimeOffset = 0;
            this.availabilityTimeComplete = true;
          };
          BaseURL.DEFAULT_DVB_PRIORITY = DEFAULT_DVB_PRIORITY;
          BaseURL.DEFAULT_DVB_WEIGHT = DEFAULT_DVB_WEIGHT;
          __webpack_exports__["default"] = BaseURL;
        },
        "./src/dash/vo/Event.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var Event2 = function Event3() {
            _classCallCheck2(this, Event3);
            this.duration = NaN;
            this.presentationTime = NaN;
            this.id = NaN;
            this.messageData = "";
            this.eventStream = null;
            this.presentationTimeDelta = NaN;
          };
          __webpack_exports__["default"] = Event2;
        },
        "./src/dash/vo/EventStream.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var EventStream = function EventStream2() {
            _classCallCheck2(this, EventStream2);
            this.adaptionSet = null;
            this.representation = null;
            this.period = null;
            this.timescale = 1;
            this.value = "";
            this.schemeIdUri = "";
            this.presentationTimeOffset = 0;
          };
          __webpack_exports__["default"] = EventStream;
        },
        "./src/dash/vo/ManifestInfo.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var ManifestInfo = function ManifestInfo2() {
            _classCallCheck2(this, ManifestInfo2);
            this.dvrWindowSize = NaN;
            this.loadedTime = null;
            this.availableFrom = null;
            this.minBufferTime = NaN;
            this.duration = NaN;
            this.isDynamic = false;
            this.maxFragmentDuration = null;
          };
          __webpack_exports__["default"] = ManifestInfo;
        },
        "./src/dash/vo/MediaInfo.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var MediaInfo = function MediaInfo2() {
            _classCallCheck2(this, MediaInfo2);
            this.id = null;
            this.index = null;
            this.type = null;
            this.streamInfo = null;
            this.representationCount = 0;
            this.labels = null;
            this.lang = null;
            this.viewpoint = null;
            this.accessibility = null;
            this.audioChannelConfiguration = null;
            this.roles = null;
            this.codec = null;
            this.mimeType = null;
            this.contentProtection = null;
            this.KID = null;
            this.bitrateList = null;
            this.isFragmented = null;
            this.isEmbedded = null;
            this.selectionPriority = 1;
          };
          __webpack_exports__["default"] = MediaInfo;
        },
        "./src/dash/vo/Mpd.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var Mpd = function Mpd2() {
            _classCallCheck2(this, Mpd2);
            this.manifest = null;
            this.suggestedPresentationDelay = 0;
            this.availabilityStartTime = null;
            this.availabilityEndTime = Number.POSITIVE_INFINITY;
            this.timeShiftBufferDepth = Number.POSITIVE_INFINITY;
            this.maxSegmentDuration = Number.POSITIVE_INFINITY;
            this.publishTime = null;
            this.minimumUpdatePeriod = NaN;
            this.mediaPresentationDuration = NaN;
          };
          __webpack_exports__["default"] = Mpd;
        },
        "./src/dash/vo/PatchOperation.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties3(target, props) {
            for (var i3 = 0; i3 < props.length; i3++) {
              var descriptor = props[i3];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass3(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties3(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties3(Constructor, staticProps);
            return Constructor;
          }
          var PatchOperation = /* @__PURE__ */ function() {
            function PatchOperation2(action, xpath, value) {
              _classCallCheck2(this, PatchOperation2);
              this.action = action;
              this.xpath = xpath;
              this.value = value;
              this.position = null;
            }
            _createClass3(PatchOperation2, [{
              key: "getMpdTarget",
              value: function getMpdTarget(root) {
                var isSiblingOperation = this.action === "remove" || this.action === "replace" || this.position === "before" || this.position === "after";
                return this.xpath.getMpdTarget(root, isSiblingOperation);
              }
            }]);
            return PatchOperation2;
          }();
          __webpack_exports__["default"] = PatchOperation;
        },
        "./src/dash/vo/Period.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var Period = function Period2() {
            _classCallCheck2(this, Period2);
            this.id = null;
            this.index = -1;
            this.duration = NaN;
            this.start = NaN;
            this.mpd = null;
            this.nextPeriodId = null;
          };
          Period.DEFAULT_ID = "defaultId";
          __webpack_exports__["default"] = Period;
        },
        "./src/dash/vo/Representation.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_DashConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/dash/constants/DashConstants.js");
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties3(target, props) {
            for (var i3 = 0; i3 < props.length; i3++) {
              var descriptor = props[i3];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass3(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties3(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties3(Constructor, staticProps);
            return Constructor;
          }
          var Representation = /* @__PURE__ */ function() {
            function Representation2() {
              _classCallCheck2(this, Representation2);
              this.id = null;
              this.index = -1;
              this.adaptation = null;
              this.segmentInfoType = null;
              this.initialization = null;
              this.codecs = null;
              this.mimeType = null;
              this.codecPrivateData = null;
              this.segmentDuration = NaN;
              this.timescale = 1;
              this.startNumber = 1;
              this.indexRange = null;
              this.range = null;
              this.presentationTimeOffset = 0;
              this.MSETimeOffset = NaN;
              this.mediaFinishedInformation = {
                numberOfSegments: 0,
                mediaTimeOfLastSignaledSegment: NaN
              };
              this.bandwidth = NaN;
              this.width = NaN;
              this.height = NaN;
              this.scanType = null;
              this.maxPlayoutRate = NaN;
              this.availabilityTimeOffset = 0;
              this.availabilityTimeComplete = true;
            }
            _createClass3(Representation2, [{
              key: "hasInitialization",
              value: function hasInitialization() {
                return this.initialization !== null || this.range !== null;
              }
            }, {
              key: "hasSegments",
              value: function hasSegments() {
                return this.segmentInfoType !== _constants_DashConstants__WEBPACK_IMPORTED_MODULE_0__["default"].BASE_URL && this.segmentInfoType !== _constants_DashConstants__WEBPACK_IMPORTED_MODULE_0__["default"].SEGMENT_BASE && !this.indexRange;
              }
            }]);
            return Representation2;
          }();
          __webpack_exports__["default"] = Representation;
        },
        "./src/dash/vo/RepresentationInfo.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var RepresentationInfo = function RepresentationInfo2() {
            _classCallCheck2(this, RepresentationInfo2);
            this.id = null;
            this.quality = null;
            this.fragmentDuration = null;
            this.mediaInfo = null;
            this.MSETimeOffset = null;
          };
          __webpack_exports__["default"] = RepresentationInfo;
        },
        "./src/dash/vo/Segment.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var Segment = function Segment2() {
            _classCallCheck2(this, Segment2);
            this.indexRange = null;
            this.index = null;
            this.mediaRange = null;
            this.media = null;
            this.duration = NaN;
            this.replacementTime = null;
            this.replacementNumber = NaN;
            this.mediaStartTime = NaN;
            this.presentationStartTime = NaN;
            this.availabilityStartTime = NaN;
            this.availabilityEndTime = NaN;
            this.wallStartTime = NaN;
            this.representation = null;
          };
          __webpack_exports__["default"] = Segment;
        },
        "./src/dash/vo/SimpleXPath.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties3(target, props) {
            for (var i3 = 0; i3 < props.length; i3++) {
              var descriptor = props[i3];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass3(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties3(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties3(Constructor, staticProps);
            return Constructor;
          }
          var SimpleXPath = /* @__PURE__ */ function() {
            function SimpleXPath2(selector) {
              var _this = this;
              _classCallCheck2(this, SimpleXPath2);
              this.valid = selector[0] == "/";
              this.path = selector.split("/").filter(function(component) {
                return component.length !== 0;
              }).map(function(component) {
                var parsed = {
                  name: component
                };
                var qualifierPoint = component.indexOf("[");
                if (qualifierPoint != -1) {
                  parsed.name = component.substring(0, qualifierPoint);
                  var qualifier = component.substring(qualifierPoint + 1, component.length - 1);
                  _this.valid = _this.valid && qualifier.indexOf("[") == -1;
                  var equalityPoint = qualifier.indexOf("=");
                  if (equalityPoint != -1) {
                    parsed.attribute = {
                      name: qualifier.substring(1, equalityPoint),
                      value: qualifier.substring(equalityPoint + 1)
                    };
                    if (["'", '"'].indexOf(parsed.attribute.value[0]) != -1) {
                      parsed.attribute.value = parsed.attribute.value.substring(1, parsed.attribute.value.length - 1);
                    }
                  } else {
                    parsed.position = parseInt(qualifier, 10) - 1;
                  }
                }
                return parsed;
              });
            }
            _createClass3(SimpleXPath2, [{
              key: "isValid",
              value: function isValid() {
                return this.valid;
              }
            }, {
              key: "findsElement",
              value: function findsElement() {
                return !this.findsAttribute();
              }
            }, {
              key: "findsAttribute",
              value: function findsAttribute() {
                return this.path[this.path.length - 1].name.startsWith("@");
              }
            }, {
              key: "getMpdTarget",
              value: function getMpdTarget(root, isSiblingOperation) {
                var parent = null;
                var leaf = root;
                var level = 1;
                var name = "MPD";
                while (level < this.path.length && leaf !== null) {
                  parent = leaf;
                  var component = this.path[level];
                  name = component.name;
                  if (level !== this.path.length - 1 || !name.startsWith("@")) {
                    var children = parent[name + "_asArray"] || [];
                    if (children.length === 0 && parent[name]) {
                      children.push(parent[name]);
                    }
                    if (component.position) {
                      leaf = children[component.position] || null;
                    } else if (component.attribute) {
                      (function() {
                        var attr = component.attribute;
                        leaf = children.filter(function(elm) {
                          return elm[attr.name] == attr.value;
                        })[0] || null;
                      })();
                    } else {
                      leaf = children[0] || null;
                    }
                  }
                  level++;
                }
                if (leaf === null) {
                  return null;
                }
                if (name.startsWith("@")) {
                  return {
                    name: name.substring(1),
                    leaf,
                    target: leaf
                  };
                }
                return {
                  name,
                  leaf,
                  target: isSiblingOperation ? parent : leaf
                };
              }
            }]);
            return SimpleXPath2;
          }();
          __webpack_exports__["default"] = SimpleXPath;
        },
        "./src/dash/vo/StreamInfo.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var StreamInfo = function StreamInfo2() {
            _classCallCheck2(this, StreamInfo2);
            this.id = null;
            this.index = null;
            this.start = NaN;
            this.duration = NaN;
            this.manifestInfo = null;
            this.isLast = true;
          };
          __webpack_exports__["default"] = StreamInfo;
        },
        "./src/dash/vo/UTCTiming.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var UTCTiming = function UTCTiming2() {
            _classCallCheck2(this, UTCTiming2);
            this.schemeIdUri = "";
            this.value = "";
          };
          __webpack_exports__["default"] = UTCTiming;
        },
        "./src/streaming/FragmentLoader.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _net_URLLoader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/net/URLLoader.js");
          var _vo_HeadRequest__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/vo/HeadRequest.js");
          var _vo_DashJSError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/vo/DashJSError.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/core/FactoryMaker.js");
          function FragmentLoader(config) {
            config = config || {};
            var context = this.context;
            var eventBus = config.eventBus;
            var events = config.events;
            var urlUtils = config.urlUtils;
            var errors = config.errors;
            var streamId = config.streamId;
            var instance, urlLoader;
            function setup() {
              urlLoader = Object(_net_URLLoader__WEBPACK_IMPORTED_MODULE_1__["default"])(context).create({
                errHandler: config.errHandler,
                errors,
                dashMetrics: config.dashMetrics,
                mediaPlayerModel: config.mediaPlayerModel,
                requestModifier: config.requestModifier,
                urlUtils,
                constants: _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"],
                boxParser: config.boxParser,
                dashConstants: config.dashConstants,
                requestTimeout: config.settings.get().streaming.fragmentRequestTimeout
              });
            }
            function checkForExistence(request) {
              var report = function report2(success) {
                eventBus.trigger(events.CHECK_FOR_EXISTENCE_COMPLETED, {
                  request,
                  exists: success
                });
              };
              if (request) {
                var headRequest = new _vo_HeadRequest__WEBPACK_IMPORTED_MODULE_2__["default"](request.url);
                urlLoader.load({
                  request: headRequest,
                  success: function success() {
                    report(true);
                  },
                  error: function error() {
                    report(false);
                  }
                });
              } else {
                report(false);
              }
            }
            function load(request) {
              var report = function report2(data, error) {
                eventBus.trigger(events.LOADING_COMPLETED, {
                  request,
                  response: data || null,
                  error: error || null,
                  sender: instance
                });
              };
              if (request) {
                urlLoader.load({
                  request,
                  progress: function progress(event) {
                    eventBus.trigger(events.LOADING_PROGRESS, {
                      request,
                      stream: event.stream,
                      streamId
                    });
                    if (event.data) {
                      eventBus.trigger(events.LOADING_DATA_PROGRESS, {
                        request,
                        response: event.data || null,
                        error: null,
                        sender: instance
                      });
                    }
                  },
                  success: function success(data) {
                    report(data);
                  },
                  error: function error(request2, statusText, errorText) {
                    report(void 0, new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_3__["default"](errors.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE, errorText, statusText));
                  },
                  abort: function abort2(request2) {
                    if (request2) {
                      eventBus.trigger(events.LOADING_ABANDONED, {
                        mediaType: request2.mediaType,
                        request: request2,
                        sender: instance
                      });
                    }
                  }
                });
              } else {
                report(void 0, new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_3__["default"](errors.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE, errors.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE));
              }
            }
            function abort() {
              if (urlLoader) {
                urlLoader.abort();
              }
            }
            function reset() {
              if (urlLoader) {
                urlLoader.abort();
                urlLoader = null;
              }
            }
            instance = {
              checkForExistence,
              load,
              abort,
              reset
            };
            setup();
            return instance;
          }
          FragmentLoader.__dashjs_factory_name = "FragmentLoader";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_4__["default"].getClassFactory(FragmentLoader);
        },
        "./src/streaming/ManifestLoader.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/dash/constants/DashConstants.js");
          var _controllers_XlinkController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/controllers/XlinkController.js");
          var _net_URLLoader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/net/URLLoader.js");
          var _utils_URLUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/utils/URLUtils.js");
          var _vo_TextRequest__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/vo/TextRequest.js");
          var _vo_DashJSError__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/streaming/vo/DashJSError.js");
          var _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/streaming/vo/metrics/HTTPRequest.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/core/events/Events.js");
          var _core_errors_Errors__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/core/errors/Errors.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _dash_parser_DashParser__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/dash/parser/DashParser.js");
          function ManifestLoader(config) {
            config = config || {};
            var context = this.context;
            var debug = config.debug;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_8__["default"])(context).getInstance();
            var urlUtils = Object(_utils_URLUtils__WEBPACK_IMPORTED_MODULE_4__["default"])(context).getInstance();
            var instance, logger, urlLoader, xlinkController, parser;
            var mssHandler = config.mssHandler;
            var errHandler = config.errHandler;
            function setup() {
              logger = debug.getLogger(instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_9__["default"].XLINK_READY, onXlinkReady, instance);
              urlLoader = Object(_net_URLLoader__WEBPACK_IMPORTED_MODULE_3__["default"])(context).create({
                errHandler: config.errHandler,
                dashMetrics: config.dashMetrics,
                mediaPlayerModel: config.mediaPlayerModel,
                requestModifier: config.requestModifier,
                urlUtils,
                constants: _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"],
                dashConstants: _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"],
                errors: _core_errors_Errors__WEBPACK_IMPORTED_MODULE_10__["default"]
              });
              xlinkController = Object(_controllers_XlinkController__WEBPACK_IMPORTED_MODULE_2__["default"])(context).create({
                errHandler,
                dashMetrics: config.dashMetrics,
                mediaPlayerModel: config.mediaPlayerModel,
                requestModifier: config.requestModifier,
                settings: config.settings
              });
              parser = null;
            }
            function onXlinkReady(event) {
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_9__["default"].INTERNAL_MANIFEST_LOADED, {
                manifest: event.manifest
              });
            }
            function createParser(data) {
              var parser2 = null;
              if (data.indexOf("SmoothStreamingMedia") > -1) {
                if (mssHandler) {
                  parser2 = mssHandler.createMssParser();
                  mssHandler.registerEvents();
                }
                return parser2;
              } else if (data.indexOf("MPD") > -1 || data.indexOf("Patch") > -1) {
                return Object(_dash_parser_DashParser__WEBPACK_IMPORTED_MODULE_12__["default"])(context).create({
                  debug
                });
              } else {
                return parser2;
              }
            }
            function load(url) {
              var request = new _vo_TextRequest__WEBPACK_IMPORTED_MODULE_5__["default"](url, _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_7__["HTTPRequest"].MPD_TYPE);
              urlLoader.load({
                request,
                success: function success(data, textStatus, responseURL) {
                  if (!xlinkController)
                    return;
                  var actualUrl, baseUri, manifest;
                  if (responseURL && responseURL !== url) {
                    baseUri = urlUtils.parseBaseUrl(responseURL);
                    actualUrl = responseURL;
                  } else {
                    if (urlUtils.isRelative(url)) {
                      url = urlUtils.resolve(url, window.location.href);
                    }
                    baseUri = urlUtils.parseBaseUrl(url);
                  }
                  if (textStatus == "No Content") {
                    eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_9__["default"].INTERNAL_MANIFEST_LOADED, {
                      manifest: null
                    });
                    return;
                  }
                  if (parser === null) {
                    parser = createParser(data);
                  }
                  if (parser === null) {
                    eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_9__["default"].INTERNAL_MANIFEST_LOADED, {
                      manifest: null,
                      error: new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_6__["default"](_core_errors_Errors__WEBPACK_IMPORTED_MODULE_10__["default"].MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE, _core_errors_Errors__WEBPACK_IMPORTED_MODULE_10__["default"].MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE + "".concat(url))
                    });
                    return;
                  }
                  xlinkController.setMatchers(parser.getMatchers());
                  xlinkController.setIron(parser.getIron());
                  try {
                    manifest = parser.parse(data);
                  } catch (e) {
                    eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_9__["default"].INTERNAL_MANIFEST_LOADED, {
                      manifest: null,
                      error: new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_6__["default"](_core_errors_Errors__WEBPACK_IMPORTED_MODULE_10__["default"].MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE, _core_errors_Errors__WEBPACK_IMPORTED_MODULE_10__["default"].MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE + "".concat(url))
                    });
                    return;
                  }
                  if (manifest) {
                    manifest.url = actualUrl || url;
                    if (!manifest.originalUrl) {
                      manifest.originalUrl = manifest.url;
                    }
                    if (manifest.hasOwnProperty(_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].LOCATION)) {
                      baseUri = urlUtils.parseBaseUrl(manifest.Location_asArray[0]);
                      logger.debug("BaseURI set by Location to: " + baseUri);
                    }
                    manifest.baseUri = baseUri;
                    manifest.loadedTime = new Date();
                    xlinkController.resolveManifestOnLoad(manifest);
                    eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_9__["default"].ORIGINAL_MANIFEST_LOADED, {
                      originalManifest: data
                    });
                  } else {
                    eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_9__["default"].INTERNAL_MANIFEST_LOADED, {
                      manifest: null,
                      error: new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_6__["default"](_core_errors_Errors__WEBPACK_IMPORTED_MODULE_10__["default"].MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE, _core_errors_Errors__WEBPACK_IMPORTED_MODULE_10__["default"].MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE + "".concat(url))
                    });
                  }
                },
                error: function error(request2, statusText, errorText) {
                  eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_9__["default"].INTERNAL_MANIFEST_LOADED, {
                    manifest: null,
                    error: new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_6__["default"](_core_errors_Errors__WEBPACK_IMPORTED_MODULE_10__["default"].MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE, _core_errors_Errors__WEBPACK_IMPORTED_MODULE_10__["default"].MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE + "".concat(url, ", ").concat(errorText))
                  });
                }
              });
            }
            function reset() {
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_9__["default"].XLINK_READY, onXlinkReady, instance);
              if (mssHandler) {
                mssHandler.reset();
              }
              if (xlinkController) {
                xlinkController.reset();
                xlinkController = null;
              }
              if (urlLoader) {
                urlLoader.abort();
                urlLoader = null;
              }
            }
            instance = {
              load,
              reset
            };
            setup();
            return instance;
          }
          ManifestLoader.__dashjs_factory_name = "ManifestLoader";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_11__["default"].getClassFactory(ManifestLoader);
          __webpack_exports__["default"] = factory;
        },
        "./src/streaming/ManifestUpdater.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/events/Events.js");
          var _streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/MediaPlayerEvents.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/core/Debug.js");
          var _core_errors_Errors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/core/errors/Errors.js");
          var _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/dash/constants/DashConstants.js");
          var _utils_URLUtils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/streaming/utils/URLUtils.js");
          function ManifestUpdater() {
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_0__["default"])(context).getInstance();
            var urlUtils = Object(_utils_URLUtils__WEBPACK_IMPORTED_MODULE_7__["default"])(context).getInstance();
            var instance, logger, refreshDelay, refreshTimer, isPaused, isStopped, isUpdating, manifestLoader, manifestModel, adapter, errHandler, settings;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_4__["default"])(context).getInstance().getLogger(instance);
            }
            function setConfig(config) {
              if (!config)
                return;
              if (config.manifestModel) {
                manifestModel = config.manifestModel;
              }
              if (config.adapter) {
                adapter = config.adapter;
              }
              if (config.manifestLoader) {
                manifestLoader = config.manifestLoader;
              }
              if (config.errHandler) {
                errHandler = config.errHandler;
              }
              if (config.settings) {
                settings = config.settings;
              }
            }
            function initialize() {
              resetInitialSettings();
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_1__["default"].STREAMS_COMPOSED, onStreamsComposed, this);
              eventBus.on(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_2__["default"].PLAYBACK_STARTED, onPlaybackStarted, this);
              eventBus.on(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_2__["default"].PLAYBACK_PAUSED, onPlaybackPaused, this);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_1__["default"].INTERNAL_MANIFEST_LOADED, onManifestLoaded, this);
            }
            function setManifest(manifest) {
              update(manifest);
            }
            function resetInitialSettings() {
              refreshDelay = NaN;
              isUpdating = false;
              isPaused = true;
              isStopped = false;
              stopManifestRefreshTimer();
            }
            function reset() {
              eventBus.off(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_2__["default"].PLAYBACK_STARTED, onPlaybackStarted, this);
              eventBus.off(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_2__["default"].PLAYBACK_PAUSED, onPlaybackPaused, this);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_1__["default"].STREAMS_COMPOSED, onStreamsComposed, this);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_1__["default"].INTERNAL_MANIFEST_LOADED, onManifestLoaded, this);
              resetInitialSettings();
            }
            function stopManifestRefreshTimer() {
              if (refreshTimer !== null) {
                clearTimeout(refreshTimer);
                refreshTimer = null;
              }
            }
            function startManifestRefreshTimer(delay) {
              stopManifestRefreshTimer();
              if (isStopped) {
                return;
              }
              if (isNaN(delay) && !isNaN(refreshDelay)) {
                delay = refreshDelay * 1e3;
              }
              if (!isNaN(delay)) {
                logger.debug("Refresh manifest in " + delay + " milliseconds.");
                refreshTimer = setTimeout(onRefreshTimer, delay);
              }
            }
            function refreshManifest() {
              var ignorePatch = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;
              isUpdating = true;
              var manifest = manifestModel.getValue();
              var url = manifest.url;
              var patchLocation = adapter.getPatchLocation(manifest);
              var location = adapter.getLocation(manifest);
              if (patchLocation && !ignorePatch) {
                url = patchLocation;
              } else if (location) {
                url = location;
              }
              if (urlUtils.isRelative(url)) {
                url = urlUtils.resolve(url, manifest.url);
              }
              manifestLoader.load(url);
            }
            function update(manifest) {
              if (!manifest) {
                manifest = manifestModel.getValue();
                manifest.loadedTime = new Date();
              } else if (adapter.getIsPatch(manifest)) {
                var patch = manifest;
                manifest = manifestModel.getValue();
                var isPatchValid = adapter.isPatchValid(manifest, patch);
                var patchSuccessful = isPatchValid;
                if (isPatchValid) {
                  var publishTime = adapter.getPublishTime(manifest);
                  patchSuccessful = adapter.applyPatchToManifest(manifest, patch);
                  var updatedPublishTime = adapter.getPublishTime(manifest);
                  patchSuccessful = publishTime.getTime() != updatedPublishTime.getTime();
                }
                if (!patchSuccessful) {
                  logger.debug("Patch provided is invalid, performing full manifest refresh");
                  refreshManifest(true);
                  return;
                }
                manifest.loadedTime = new Date();
              }
              if (manifestModel.getValue() && manifestModel.getValue().type === _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_6__["default"].DYNAMIC && manifest.type === _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_6__["default"].STATIC) {
                eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_1__["default"].DYNAMIC_TO_STATIC);
                isUpdating = false;
                isStopped = true;
                return;
              }
              manifestModel.setValue(manifest);
              var date = new Date();
              var latencyOfLastUpdate = (date.getTime() - manifest.loadedTime.getTime()) / 1e3;
              refreshDelay = adapter.getManifestUpdatePeriod(manifest, latencyOfLastUpdate);
              if (refreshDelay * 1e3 > 2147483647) {
                refreshDelay = 2147483647 / 1e3;
              }
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_1__["default"].MANIFEST_UPDATED, {
                manifest
              });
              logger.info("Manifest has been refreshed at " + date + "[" + date.getTime() / 1e3 + "] ");
              if (!isPaused) {
                startManifestRefreshTimer();
              }
            }
            function onRefreshTimer() {
              if (isPaused) {
                return;
              }
              if (isUpdating) {
                startManifestRefreshTimer(settings.get().streaming.manifestUpdateRetryInterval);
                return;
              }
              refreshManifest();
            }
            function onManifestLoaded(e) {
              if (!e.error) {
                update(e.manifest);
              } else if (e.error.code === _core_errors_Errors__WEBPACK_IMPORTED_MODULE_5__["default"].MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE) {
                errHandler.error(e.error);
              }
            }
            function onPlaybackStarted() {
              isPaused = false;
              startManifestRefreshTimer();
            }
            function onPlaybackPaused() {
              isPaused = !settings.get().streaming.scheduling.scheduleWhilePaused;
              if (isPaused) {
                stopManifestRefreshTimer();
              }
            }
            function onStreamsComposed() {
              isUpdating = false;
            }
            instance = {
              initialize,
              setManifest,
              refreshManifest,
              setConfig,
              reset
            };
            setup();
            return instance;
          }
          ManifestUpdater.__dashjs_factory_name = "ManifestUpdater";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_3__["default"].getClassFactory(ManifestUpdater);
        },
        "./src/streaming/MediaPlayer.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _externals_cea608_parser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./externals/cea608-parser.js");
          var _externals_cea608_parser__WEBPACK_IMPORTED_MODULE_0___default = /* @__PURE__ */ __webpack_require__.n(_externals_cea608_parser__WEBPACK_IMPORTED_MODULE_0__);
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/dash/constants/DashConstants.js");
          var _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/constants/MetricsConstants.js");
          var _controllers_PlaybackController__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/controllers/PlaybackController.js");
          var _controllers_StreamController__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/controllers/StreamController.js");
          var _controllers_GapController__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/streaming/controllers/GapController.js");
          var _controllers_MediaController__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/streaming/controllers/MediaController.js");
          var _controllers_BaseURLController__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/streaming/controllers/BaseURLController.js");
          var _ManifestLoader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/streaming/ManifestLoader.js");
          var _utils_ErrorHandler__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/streaming/utils/ErrorHandler.js");
          var _utils_Capabilities__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/streaming/utils/Capabilities.js");
          var _utils_CapabilitiesFilter__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/streaming/utils/CapabilitiesFilter.js");
          var _utils_RequestModifier__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/streaming/utils/RequestModifier.js");
          var _models_URIFragmentModel__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/streaming/models/URIFragmentModel.js");
          var _models_ManifestModel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/streaming/models/ManifestModel.js");
          var _models_MediaPlayerModel__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/streaming/models/MediaPlayerModel.js");
          var _controllers_AbrController__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./src/streaming/controllers/AbrController.js");
          var _net_SchemeLoaderFactory__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./src/streaming/net/SchemeLoaderFactory.js");
          var _models_VideoModel__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./src/streaming/models/VideoModel.js");
          var _models_CmcdModel__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("./src/streaming/models/CmcdModel.js");
          var _utils_DOMStorage__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("./src/streaming/utils/DOMStorage.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("./src/core/Debug.js");
          var _core_errors_Errors__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("./src/core/errors/Errors.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("./src/core/events/Events.js");
          var _MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__("./src/streaming/MediaPlayerEvents.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Settings__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__("./src/core/Settings.js");
          var _core_Version__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__("./src/core/Version.js");
          var _dash_controllers_SegmentBaseController__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__("./src/dash/controllers/SegmentBaseController.js");
          var _dash_DashAdapter__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__("./src/dash/DashAdapter.js");
          var _dash_DashMetrics__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__("./src/dash/DashMetrics.js");
          var _dash_utils_TimelineConverter__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__("./src/dash/utils/TimelineConverter.js");
          var _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__("./src/streaming/vo/metrics/HTTPRequest.js");
          var _externals_base64__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__("./externals/base64.js");
          var _externals_base64__WEBPACK_IMPORTED_MODULE_35___default = /* @__PURE__ */ __webpack_require__.n(_externals_base64__WEBPACK_IMPORTED_MODULE_35__);
          var codem_isoboxer__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__("./node_modules/codem-isoboxer/dist/iso_boxer.js");
          var codem_isoboxer__WEBPACK_IMPORTED_MODULE_36___default = /* @__PURE__ */ __webpack_require__.n(codem_isoboxer__WEBPACK_IMPORTED_MODULE_36__);
          var _vo_DashJSError__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__("./src/streaming/vo/DashJSError.js");
          var _utils_SupervisorTools__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__("./src/streaming/utils/SupervisorTools.js");
          var _ManifestUpdater__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__("./src/streaming/ManifestUpdater.js");
          var _streaming_utils_URLUtils__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__("./src/streaming/utils/URLUtils.js");
          var _utils_BoxParser__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__("./src/streaming/utils/BoxParser.js");
          var _text_TextController__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__("./src/streaming/text/TextController.js");
          function MediaPlayer2() {
            var STREAMING_NOT_INITIALIZED_ERROR = "You must first call initialize() and set a source before calling this method";
            var PLAYBACK_NOT_INITIALIZED_ERROR = "You must first call initialize() and set a valid source and view before calling this method";
            var ELEMENT_NOT_ATTACHED_ERROR = "You must first call attachView() to set the video element before calling this method";
            var SOURCE_NOT_ATTACHED_ERROR = "You must first call attachSource() with a valid source before calling this method";
            var MEDIA_PLAYER_NOT_INITIALIZED_ERROR = "MediaPlayer not initialized!";
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_24__["default"])(context).getInstance();
            var settings = Object(_core_Settings__WEBPACK_IMPORTED_MODULE_28__["default"])(context).getInstance();
            var debug = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_22__["default"])(context).getInstance({
              settings
            });
            var instance, logger, source, protectionData, mediaPlayerInitialized, streamingInitialized, playbackInitialized, autoPlay, abrController, schemeLoaderFactory, timelineConverter, mediaController, protectionController, metricsReportingController, mssHandler, offlineController, adapter, mediaPlayerModel, errHandler, baseURLController, capabilities, capabilitiesFilter, streamController, textController, gapController, playbackController, dashMetrics, manifestModel, cmcdModel, videoModel, uriFragmentModel, domStorage, segmentBaseController, licenseRequestFilters, licenseResponseFilters, customCapabilitiesFilters;
            function setup() {
              logger = debug.getLogger(instance);
              mediaPlayerInitialized = false;
              playbackInitialized = false;
              streamingInitialized = false;
              autoPlay = true;
              protectionController = null;
              offlineController = null;
              protectionData = null;
              adapter = null;
              segmentBaseController = null;
              _core_events_Events__WEBPACK_IMPORTED_MODULE_25__["default"].extend(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_26__["default"]);
              mediaPlayerModel = Object(_models_MediaPlayerModel__WEBPACK_IMPORTED_MODULE_16__["default"])(context).getInstance();
              videoModel = Object(_models_VideoModel__WEBPACK_IMPORTED_MODULE_19__["default"])(context).getInstance();
              uriFragmentModel = Object(_models_URIFragmentModel__WEBPACK_IMPORTED_MODULE_14__["default"])(context).getInstance();
              licenseRequestFilters = [];
              licenseResponseFilters = [];
              customCapabilitiesFilters = [];
            }
            function setConfig(config) {
              if (!config) {
                return;
              }
              if (config.capabilities) {
                capabilities = config.capabilities;
              }
              if (config.capabilitiesFilter) {
                capabilitiesFilter = config.capabilitiesFilter;
              }
              if (config.streamController) {
                streamController = config.streamController;
              }
              if (config.textController) {
                textController = config.textController;
              }
              if (config.gapController) {
                gapController = config.gapController;
              }
              if (config.playbackController) {
                playbackController = config.playbackController;
              }
              if (config.mediaPlayerModel) {
                mediaPlayerModel = config.mediaPlayerModel;
              }
              if (config.abrController) {
                abrController = config.abrController;
              }
              if (config.schemeLoaderFactory) {
                schemeLoaderFactory = config.schemeLoaderFactory;
              }
              if (config.mediaController) {
                mediaController = config.mediaController;
              }
              if (config.settings) {
                settings = config.settings;
              }
            }
            function initialize(view, source2, AutoPlay) {
              if (!capabilities) {
                capabilities = Object(_utils_Capabilities__WEBPACK_IMPORTED_MODULE_11__["default"])(context).getInstance();
                capabilities.setConfig({
                  settings
                });
              }
              if (!errHandler) {
                errHandler = Object(_utils_ErrorHandler__WEBPACK_IMPORTED_MODULE_10__["default"])(context).getInstance();
              }
              if (!capabilities.supportsMediaSource()) {
                errHandler.error(new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_37__["default"](_core_errors_Errors__WEBPACK_IMPORTED_MODULE_23__["default"].CAPABILITY_MEDIASOURCE_ERROR_CODE, _core_errors_Errors__WEBPACK_IMPORTED_MODULE_23__["default"].CAPABILITY_MEDIASOURCE_ERROR_MESSAGE));
                return;
              }
              if (!mediaPlayerInitialized) {
                mediaPlayerInitialized = true;
                timelineConverter = Object(_dash_utils_TimelineConverter__WEBPACK_IMPORTED_MODULE_33__["default"])(context).getInstance();
                if (!abrController) {
                  abrController = Object(_controllers_AbrController__WEBPACK_IMPORTED_MODULE_17__["default"])(context).getInstance();
                  abrController.setConfig({
                    settings
                  });
                }
                if (!schemeLoaderFactory) {
                  schemeLoaderFactory = Object(_net_SchemeLoaderFactory__WEBPACK_IMPORTED_MODULE_18__["default"])(context).getInstance();
                }
                if (!playbackController) {
                  playbackController = Object(_controllers_PlaybackController__WEBPACK_IMPORTED_MODULE_4__["default"])(context).getInstance();
                }
                if (!mediaController) {
                  mediaController = Object(_controllers_MediaController__WEBPACK_IMPORTED_MODULE_7__["default"])(context).getInstance();
                }
                if (!streamController) {
                  streamController = Object(_controllers_StreamController__WEBPACK_IMPORTED_MODULE_5__["default"])(context).getInstance();
                }
                if (!gapController) {
                  gapController = Object(_controllers_GapController__WEBPACK_IMPORTED_MODULE_6__["default"])(context).getInstance();
                }
                if (!capabilitiesFilter) {
                  capabilitiesFilter = Object(_utils_CapabilitiesFilter__WEBPACK_IMPORTED_MODULE_12__["default"])(context).getInstance();
                }
                adapter = Object(_dash_DashAdapter__WEBPACK_IMPORTED_MODULE_31__["default"])(context).getInstance();
                manifestModel = Object(_models_ManifestModel__WEBPACK_IMPORTED_MODULE_15__["default"])(context).getInstance();
                cmcdModel = Object(_models_CmcdModel__WEBPACK_IMPORTED_MODULE_20__["default"])(context).getInstance();
                dashMetrics = Object(_dash_DashMetrics__WEBPACK_IMPORTED_MODULE_32__["default"])(context).getInstance({
                  settings
                });
                domStorage = Object(_utils_DOMStorage__WEBPACK_IMPORTED_MODULE_21__["default"])(context).getInstance({
                  settings
                });
                adapter.setConfig({
                  constants: _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"],
                  cea608parser: _externals_cea608_parser__WEBPACK_IMPORTED_MODULE_0___default.a,
                  errHandler,
                  BASE64: _externals_base64__WEBPACK_IMPORTED_MODULE_35___default.a
                });
                if (!baseURLController) {
                  baseURLController = Object(_controllers_BaseURLController__WEBPACK_IMPORTED_MODULE_8__["default"])(context).create();
                }
                baseURLController.setConfig({
                  adapter
                });
                if (!segmentBaseController) {
                  segmentBaseController = Object(_dash_controllers_SegmentBaseController__WEBPACK_IMPORTED_MODULE_30__["default"])(context).getInstance({
                    dashMetrics,
                    mediaPlayerModel,
                    errHandler,
                    baseURLController,
                    events: _core_events_Events__WEBPACK_IMPORTED_MODULE_25__["default"],
                    eventBus,
                    debug,
                    boxParser: Object(_utils_BoxParser__WEBPACK_IMPORTED_MODULE_41__["default"])(context).getInstance(),
                    requestModifier: Object(_utils_RequestModifier__WEBPACK_IMPORTED_MODULE_13__["default"])(context).getInstance(),
                    errors: _core_errors_Errors__WEBPACK_IMPORTED_MODULE_23__["default"]
                  });
                }
                mediaController.setConfig({
                  domStorage,
                  settings
                });
                restoreDefaultUTCTimingSources();
                setAutoPlay(AutoPlay !== void 0 ? AutoPlay : true);
                _detectOffline();
              }
              if (view) {
                attachView(view);
              }
              if (source2) {
                attachSource(source2);
              }
              logger.info("[dash.js " + getVersion() + "] MediaPlayer has been initialized");
            }
            function reset() {
              attachSource(null);
              attachView(null);
              protectionData = null;
              if (protectionController) {
                protectionController.reset();
                protectionController = null;
              }
              if (metricsReportingController) {
                metricsReportingController.reset();
                metricsReportingController = null;
              }
              settings.reset();
              if (offlineController) {
                offlineController.reset();
                offlineController = null;
              }
            }
            function destroy() {
              reset();
              licenseRequestFilters = [];
              licenseResponseFilters = [];
              customCapabilitiesFilters = [];
              _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_27__["default"].deleteSingletonInstances(context);
            }
            function isReady() {
              return !!source && !!videoModel.getElement();
            }
            function on(type, listener, scope, options) {
              eventBus.on(type, listener, scope, options);
            }
            function off(type, listener, scope) {
              eventBus.off(type, listener, scope);
            }
            function getVersion() {
              return Object(_core_Version__WEBPACK_IMPORTED_MODULE_29__["getVersionString"])();
            }
            function getDebug() {
              return debug;
            }
            function play() {
              if (!playbackInitialized) {
                throw PLAYBACK_NOT_INITIALIZED_ERROR;
              }
              if (!autoPlay || isPaused() && playbackInitialized) {
                playbackController.play();
              }
            }
            function pause() {
              if (!playbackInitialized) {
                throw PLAYBACK_NOT_INITIALIZED_ERROR;
              }
              playbackController.pause();
            }
            function isPaused() {
              if (!playbackInitialized) {
                throw PLAYBACK_NOT_INITIALIZED_ERROR;
              }
              return playbackController.isPaused();
            }
            function seek(value) {
              if (!playbackInitialized) {
                throw PLAYBACK_NOT_INITIALIZED_ERROR;
              }
              Object(_utils_SupervisorTools__WEBPACK_IMPORTED_MODULE_38__["checkParameterType"])(value, "number");
              if (isNaN(value)) {
                throw _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].BAD_ARGUMENT_ERROR;
              }
              var s3 = playbackController.getIsDynamic() ? getDVRSeekOffset(value) : value;
              playbackController.seek(s3);
            }
            function isSeeking() {
              if (!playbackInitialized) {
                throw PLAYBACK_NOT_INITIALIZED_ERROR;
              }
              return playbackController.isSeeking();
            }
            function isDynamic() {
              if (!playbackInitialized) {
                throw PLAYBACK_NOT_INITIALIZED_ERROR;
              }
              return playbackController.getIsDynamic();
            }
            function setPlaybackRate(value) {
              getVideoElement().playbackRate = value;
            }
            function getPlaybackRate() {
              return getVideoElement().playbackRate;
            }
            function setMute(value) {
              Object(_utils_SupervisorTools__WEBPACK_IMPORTED_MODULE_38__["checkParameterType"])(value, "boolean");
              getVideoElement().muted = value;
            }
            function isMuted() {
              return getVideoElement().muted;
            }
            function setVolume(value) {
              if (typeof value !== "number" || isNaN(value) || value < 0 || value > 1) {
                throw _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].BAD_ARGUMENT_ERROR;
              }
              getVideoElement().volume = value;
            }
            function getVolume() {
              return getVideoElement().volume;
            }
            function getBufferLength(type) {
              var types = [_constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].VIDEO, _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].AUDIO, _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].TEXT];
              if (!type) {
                var buffer = types.map(function(t2) {
                  return getTracksFor(t2).length > 0 ? getDashMetrics().getCurrentBufferLevel(t2) : Number.MAX_VALUE;
                }).reduce(function(p2, c3) {
                  return Math.min(p2, c3);
                });
                return buffer === Number.MAX_VALUE ? NaN : buffer;
              } else {
                if (types.indexOf(type) !== -1) {
                  var _buffer = getDashMetrics().getCurrentBufferLevel(type);
                  return _buffer ? _buffer : NaN;
                } else {
                  logger.warn("getBufferLength requested for invalid type");
                  return NaN;
                }
              }
            }
            function getDVRWindowSize() {
              var type = streamController && streamController.hasVideoTrack() ? _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].VIDEO : _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].AUDIO;
              var metric = dashMetrics.getCurrentDVRInfo(type);
              if (!metric) {
                return 0;
              }
              return metric.manifestInfo.dvrWindowSize;
            }
            function getDVRSeekOffset(value) {
              var type = streamController && streamController.hasVideoTrack() ? _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].VIDEO : _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].AUDIO;
              var metric = dashMetrics.getCurrentDVRInfo(type);
              if (!metric) {
                return 0;
              }
              var liveDelay = playbackController.getLiveDelay();
              var val = metric.range.start + value;
              if (val > metric.range.end - liveDelay) {
                val = metric.range.end - liveDelay;
              }
              return val;
            }
            function time(streamId) {
              if (!playbackInitialized) {
                throw PLAYBACK_NOT_INITIALIZED_ERROR;
              }
              var t2 = getVideoElement().currentTime;
              if (streamId !== void 0) {
                t2 = streamController.getTimeRelativeToStreamId(t2, streamId);
              } else if (playbackController.getIsDynamic()) {
                var type = streamController && streamController.hasVideoTrack() ? _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].VIDEO : _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].AUDIO;
                var metric = dashMetrics.getCurrentDVRInfo(type);
                t2 = metric === null || t2 === 0 ? 0 : Math.max(0, t2 - metric.range.start);
              }
              return t2;
            }
            function duration() {
              if (!playbackInitialized) {
                throw PLAYBACK_NOT_INITIALIZED_ERROR;
              }
              var d2 = getVideoElement().duration;
              if (playbackController.getIsDynamic()) {
                var type = streamController && streamController.hasVideoTrack() ? _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].VIDEO : _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].AUDIO;
                var metric = dashMetrics.getCurrentDVRInfo(type);
                d2 = metric ? metric.range.end - metric.range.start : 0;
              }
              return d2;
            }
            function timeAsUTC() {
              if (!playbackInitialized) {
                throw PLAYBACK_NOT_INITIALIZED_ERROR;
              }
              if (time() < 0) {
                return NaN;
              }
              return _getAsUTC(time());
            }
            function durationAsUTC() {
              if (!playbackInitialized) {
                throw PLAYBACK_NOT_INITIALIZED_ERROR;
              }
              return _getAsUTC(duration());
            }
            function getTopBitrateInfoFor(type) {
              if (!streamingInitialized) {
                throw STREAMING_NOT_INITIALIZED_ERROR;
              }
              return abrController.getTopBitrateInfoFor(type);
            }
            function getQualityFor(type) {
              if (!streamingInitialized) {
                throw STREAMING_NOT_INITIALIZED_ERROR;
              }
              if (type === _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].IMAGE) {
                var activeStream = getActiveStream();
                if (!activeStream) {
                  return -1;
                }
                var thumbnailController = activeStream.getThumbnailController();
                return !thumbnailController ? -1 : thumbnailController.getCurrentTrackIndex();
              }
              return abrController.getQualityFor(type);
            }
            function setQualityFor(type, value) {
              var forceReplace = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;
              if (!streamingInitialized) {
                throw STREAMING_NOT_INITIALIZED_ERROR;
              }
              if (type === _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].IMAGE) {
                var activeStream = getActiveStream();
                if (!activeStream) {
                  return;
                }
                var thumbnailController = activeStream.getThumbnailController();
                if (thumbnailController) {
                  thumbnailController.setTrackByIndex(value);
                }
              }
              abrController.setPlaybackQuality(type, streamController.getActiveStreamInfo(), value, {
                forceReplace
              });
            }
            function updatePortalSize() {
              abrController.setElementSize();
              abrController.setWindowResizeEventCalled(true);
            }
            function setAutoPlay(value) {
              Object(_utils_SupervisorTools__WEBPACK_IMPORTED_MODULE_38__["checkParameterType"])(value, "boolean");
              autoPlay = value;
            }
            function getAutoPlay() {
              return autoPlay;
            }
            function getCurrentLiveLatency() {
              if (!mediaPlayerInitialized) {
                throw MEDIA_PLAYER_NOT_INITIALIZED_ERROR;
              }
              if (!playbackInitialized) {
                return NaN;
              }
              return playbackController.getCurrentLiveLatency();
            }
            function addABRCustomRule(type, rulename, rule) {
              mediaPlayerModel.addABRCustomRule(type, rulename, rule);
            }
            function removeABRCustomRule(rulename) {
              mediaPlayerModel.removeABRCustomRule(rulename);
            }
            function removeAllABRCustomRule() {
              mediaPlayerModel.removeABRCustomRule();
            }
            function addUTCTimingSource(schemeIdUri, value) {
              mediaPlayerModel.addUTCTimingSource(schemeIdUri, value);
            }
            function removeUTCTimingSource(schemeIdUri, value) {
              mediaPlayerModel.removeUTCTimingSource(schemeIdUri, value);
            }
            function clearDefaultUTCTimingSources() {
              mediaPlayerModel.clearDefaultUTCTimingSources();
            }
            function restoreDefaultUTCTimingSources() {
              mediaPlayerModel.restoreDefaultUTCTimingSources();
            }
            function getAverageThroughput(type) {
              var throughputHistory = abrController.getThroughputHistory();
              return throughputHistory ? throughputHistory.getAverageThroughput(type) : 0;
            }
            function setXHRWithCredentialsForType(type, value) {
              mediaPlayerModel.setXHRWithCredentialsForType(type, value);
            }
            function getXHRWithCredentialsForType(type) {
              return mediaPlayerModel.getXHRWithCredentialsForType(type);
            }
            function getOfflineController() {
              return _detectOffline();
            }
            function getDashMetrics() {
              return dashMetrics;
            }
            function enableText(enable) {
              var activeStreamInfo = streamController.getActiveStreamInfo();
              if (!activeStreamInfo || !textController) {
                return false;
              }
              return textController.enableText(activeStreamInfo.id, enable);
            }
            function enableForcedTextStreaming(enable) {
              var activeStreamInfo = streamController.getActiveStreamInfo();
              if (!activeStreamInfo || !textController) {
                return false;
              }
              return textController.enableForcedTextStreaming(enable);
            }
            function isTextEnabled() {
              var activeStreamInfo = streamController.getActiveStreamInfo();
              if (!activeStreamInfo || !textController) {
                return false;
              }
              return textController.isTextEnabled(activeStreamInfo);
            }
            function setTextTrack(idx) {
              if (!playbackInitialized) {
                throw PLAYBACK_NOT_INITIALIZED_ERROR;
              }
              var activeStreamInfo = streamController.getActiveStreamInfo();
              if (!activeStreamInfo || !textController) {
                return;
              }
              textController.setTextTrack(activeStreamInfo.id, idx);
            }
            function getCurrentTextTrackIndex() {
              var idx = NaN;
              var activeStreamInfo = streamController.getActiveStreamInfo();
              if (!activeStreamInfo || !textController) {
                return;
              }
              idx = textController.getCurrentTrackIdx(activeStreamInfo.id);
              return idx;
            }
            function getVideoElement() {
              if (!videoModel.getElement()) {
                throw ELEMENT_NOT_ATTACHED_ERROR;
              }
              return videoModel.getElement();
            }
            function attachView(element) {
              if (!mediaPlayerInitialized) {
                throw MEDIA_PLAYER_NOT_INITIALIZED_ERROR;
              }
              videoModel.setElement(element);
              if (element) {
                _detectProtection();
                _detectMetricsReporting();
                _detectMss();
                if (streamController) {
                  streamController.switchToVideoElement();
                }
              }
              if (playbackInitialized) {
                _resetPlaybackControllers();
              }
              _initializePlayback();
            }
            function getTTMLRenderingDiv() {
              return videoModel ? videoModel.getTTMLRenderingDiv() : null;
            }
            function attachTTMLRenderingDiv(div) {
              if (!videoModel.getElement()) {
                throw ELEMENT_NOT_ATTACHED_ERROR;
              }
              videoModel.setTTMLRenderingDiv(div);
            }
            function getBitrateInfoListFor(type) {
              if (!streamingInitialized) {
                throw STREAMING_NOT_INITIALIZED_ERROR;
              }
              var stream = getActiveStream();
              return stream ? stream.getBitrateListFor(type) : [];
            }
            function getStreamsFromManifest(manifest) {
              if (!streamingInitialized) {
                throw STREAMING_NOT_INITIALIZED_ERROR;
              }
              return adapter.getStreamsInfo(manifest);
            }
            function getTracksFor(type) {
              if (!streamingInitialized) {
                throw STREAMING_NOT_INITIALIZED_ERROR;
              }
              var streamInfo = streamController.getActiveStreamInfo();
              if (!streamInfo) {
                return [];
              }
              return mediaController.getTracksFor(type, streamInfo.id);
            }
            function getTracksForTypeFromManifest(type, manifest, streamInfo) {
              if (!streamingInitialized) {
                throw STREAMING_NOT_INITIALIZED_ERROR;
              }
              streamInfo = streamInfo || adapter.getStreamsInfo(manifest, 1)[0];
              return streamInfo ? adapter.getAllMediaInfoForType(streamInfo, type, manifest) : [];
            }
            function getCurrentTrackFor(type) {
              if (!streamingInitialized) {
                throw STREAMING_NOT_INITIALIZED_ERROR;
              }
              var streamInfo = streamController.getActiveStreamInfo();
              return mediaController.getCurrentTrackFor(type, streamInfo.id);
            }
            function setInitialMediaSettingsFor(type, value) {
              if (!mediaPlayerInitialized) {
                throw MEDIA_PLAYER_NOT_INITIALIZED_ERROR;
              }
              mediaController.setInitialSettings(type, value);
            }
            function getInitialMediaSettingsFor(type) {
              if (!mediaPlayerInitialized) {
                throw MEDIA_PLAYER_NOT_INITIALIZED_ERROR;
              }
              return mediaController.getInitialSettings(type);
            }
            function setCurrentTrack(track) {
              if (!streamingInitialized) {
                throw STREAMING_NOT_INITIALIZED_ERROR;
              }
              mediaController.setTrack(track);
            }
            function getProtectionController() {
              return _detectProtection();
            }
            function attachProtectionController(value) {
              protectionController = value;
            }
            function setProtectionData(value) {
              protectionData = value;
              if (streamController) {
                streamController.setProtectionData(protectionData);
              }
            }
            function registerLicenseRequestFilter(filter) {
              licenseRequestFilters.push(filter);
              if (protectionController) {
                protectionController.setLicenseRequestFilters(licenseRequestFilters);
              }
            }
            function registerLicenseResponseFilter(filter) {
              licenseResponseFilters.push(filter);
              if (protectionController) {
                protectionController.setLicenseResponseFilters(licenseResponseFilters);
              }
            }
            function unregisterLicenseRequestFilter(filter) {
              unregisterFilter(licenseRequestFilters, filter);
              if (protectionController) {
                protectionController.setLicenseRequestFilters(licenseRequestFilters);
              }
            }
            function unregisterLicenseResponseFilter(filter) {
              unregisterFilter(licenseResponseFilters, filter);
              if (protectionController) {
                protectionController.setLicenseResponseFilters(licenseResponseFilters);
              }
            }
            function registerCustomCapabilitiesFilter(filter) {
              customCapabilitiesFilters.push(filter);
              if (capabilitiesFilter) {
                capabilitiesFilter.setCustomCapabilitiesFilters(customCapabilitiesFilters);
              }
            }
            function unregisterCustomCapabilitiesFilter(filter) {
              unregisterFilter(customCapabilitiesFilters, filter);
              if (capabilitiesFilter) {
                capabilitiesFilter.setCustomCapabilitiesFilters(customCapabilitiesFilters);
              }
            }
            function unregisterFilter(filters, filter) {
              var index = -1;
              filters.some(function(item, i3) {
                if (item === filter) {
                  index = i3;
                  return true;
                }
              });
              if (index < 0)
                return;
              filters.splice(index, 1);
            }
            function setCustomInitialTrackSelectionFunction(customFunc) {
              if (mediaController) {
                mediaController.setCustomInitialTrackSelectionFunction(customFunc);
              }
            }
            function resetCustomInitialTrackSelectionFunction() {
              if (mediaController) {
                mediaController.setCustomInitialTrackSelectionFunction(null);
              }
            }
            function provideThumbnail(time2, callback) {
              if (typeof callback !== "function") {
                return;
              }
              if (time2 < 0) {
                callback(null);
                return;
              }
              var s3 = playbackController.getIsDynamic() ? getDVRSeekOffset(time2) : time2;
              var stream = streamController.getStreamForTime(s3);
              if (stream === null) {
                callback(null);
                return;
              }
              var thumbnailController = stream.getThumbnailController();
              if (!thumbnailController) {
                callback(null);
                return;
              }
              var timeInPeriod = streamController.getTimeRelativeToStreamId(s3, stream.getId());
              return thumbnailController.provide(timeInPeriod, callback);
            }
            function retrieveManifest(url, callback) {
              var manifestLoader = _createManifestLoader();
              var self2 = this;
              var handler = function handler2(e) {
                if (!e.error) {
                  callback(e.manifest);
                } else {
                  callback(null, e.error);
                }
                eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_25__["default"].INTERNAL_MANIFEST_LOADED, handler2, self2);
                manifestLoader.reset();
              };
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_25__["default"].INTERNAL_MANIFEST_LOADED, handler, self2);
              uriFragmentModel.initialize(url);
              manifestLoader.load(url);
            }
            function getSource() {
              if (!source) {
                throw SOURCE_NOT_ATTACHED_ERROR;
              }
              return source;
            }
            function attachSource(urlOrManifest) {
              if (!mediaPlayerInitialized) {
                throw MEDIA_PLAYER_NOT_INITIALIZED_ERROR;
              }
              if (typeof urlOrManifest === "string") {
                uriFragmentModel.initialize(urlOrManifest);
              }
              source = urlOrManifest;
              if (streamingInitialized || playbackInitialized) {
                _resetPlaybackControllers();
              }
              if (isReady()) {
                _initializePlayback();
              }
            }
            function getSettings() {
              return settings.get();
            }
            function updateSettings(settingsObj) {
              settings.update(settingsObj);
            }
            function resetSettings() {
              settings.reset();
            }
            function formatUTC(time2, locales, hour12) {
              var withDate = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : false;
              var dt = new Date(time2 * 1e3);
              var d2 = dt.toLocaleDateString(locales);
              var t2 = dt.toLocaleTimeString(locales, {
                hour12
              });
              return withDate ? t2 + " " + d2 : t2;
            }
            function convertToTimeCode(value) {
              value = Math.max(value, 0);
              var h3 = Math.floor(value / 3600);
              var m2 = Math.floor(value % 3600 / 60);
              var s3 = Math.floor(value % 3600 % 60);
              return (h3 === 0 ? "" : h3 < 10 ? "0" + h3.toString() + ":" : h3.toString() + ":") + (m2 < 10 ? "0" + m2.toString() : m2.toString()) + ":" + (s3 < 10 ? "0" + s3.toString() : s3.toString());
            }
            function extend(parentNameString, childInstance, override) {
              _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_27__["default"].extend(parentNameString, childInstance, override, context);
            }
            function getActiveStream() {
              if (!streamingInitialized) {
                throw STREAMING_NOT_INITIALIZED_ERROR;
              }
              var streamInfo = streamController.getActiveStreamInfo();
              return streamInfo ? streamController.getStreamById(streamInfo.id) : null;
            }
            function getDashAdapter() {
              return adapter;
            }
            function _resetPlaybackControllers() {
              playbackInitialized = false;
              streamingInitialized = false;
              adapter.reset();
              streamController.reset();
              gapController.reset();
              playbackController.reset();
              abrController.reset();
              mediaController.reset();
              segmentBaseController.reset();
              if (protectionController) {
                if (settings.get().streaming.protection.keepProtectionMediaKeys) {
                  protectionController.stop();
                } else {
                  protectionController.reset();
                  protectionController = null;
                  _detectProtection();
                }
              }
              textController.reset();
              cmcdModel.reset();
            }
            function _createPlaybackControllers() {
              var manifestLoader = _createManifestLoader();
              if (!streamController) {
                streamController = Object(_controllers_StreamController__WEBPACK_IMPORTED_MODULE_5__["default"])(context).getInstance();
              }
              if (!textController) {
                textController = Object(_text_TextController__WEBPACK_IMPORTED_MODULE_42__["default"])(context).create({
                  errHandler,
                  manifestModel,
                  adapter,
                  mediaController,
                  videoModel,
                  settings
                });
              }
              capabilitiesFilter.setConfig({
                capabilities,
                adapter,
                settings,
                manifestModel,
                errHandler
              });
              capabilitiesFilter.setCustomCapabilitiesFilters(customCapabilitiesFilters);
              streamController.setConfig({
                capabilities,
                capabilitiesFilter,
                manifestLoader,
                manifestModel,
                mediaPlayerModel,
                protectionController,
                textController,
                adapter,
                dashMetrics,
                errHandler,
                timelineConverter,
                videoModel,
                playbackController,
                abrController,
                mediaController,
                settings,
                baseURLController,
                uriFragmentModel,
                segmentBaseController
              });
              gapController.setConfig({
                settings,
                playbackController,
                streamController,
                videoModel,
                timelineConverter,
                adapter
              });
              playbackController.setConfig({
                streamController,
                dashMetrics,
                mediaPlayerModel,
                adapter,
                videoModel,
                timelineConverter,
                settings
              });
              abrController.setConfig({
                streamController,
                domStorage,
                mediaPlayerModel,
                dashMetrics,
                adapter,
                videoModel,
                settings
              });
              cmcdModel.setConfig({
                abrController,
                dashMetrics,
                playbackController
              });
              abrController.initialize();
              streamController.initialize(autoPlay, protectionData);
              textController.initialize();
              gapController.initialize();
              cmcdModel.initialize();
              segmentBaseController.initialize();
            }
            function _createManifestLoader() {
              return Object(_ManifestLoader__WEBPACK_IMPORTED_MODULE_9__["default"])(context).create({
                debug,
                errHandler,
                dashMetrics,
                mediaPlayerModel,
                requestModifier: Object(_utils_RequestModifier__WEBPACK_IMPORTED_MODULE_13__["default"])(context).getInstance(),
                mssHandler,
                settings
              });
            }
            function _detectProtection() {
              if (protectionController) {
                return protectionController;
              }
              var Protection = dashjs.Protection;
              if (typeof Protection === "function") {
                var protection = Protection(context).create();
                _core_events_Events__WEBPACK_IMPORTED_MODULE_25__["default"].extend(Protection.events);
                _MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_26__["default"].extend(Protection.events, {
                  publicOnly: true
                });
                _core_errors_Errors__WEBPACK_IMPORTED_MODULE_23__["default"].extend(Protection.errors);
                if (!capabilities) {
                  capabilities = Object(_utils_Capabilities__WEBPACK_IMPORTED_MODULE_11__["default"])(context).getInstance();
                }
                protectionController = protection.createProtectionSystem({
                  debug,
                  errHandler,
                  videoModel,
                  capabilities,
                  eventBus,
                  events: _core_events_Events__WEBPACK_IMPORTED_MODULE_25__["default"],
                  BASE64: _externals_base64__WEBPACK_IMPORTED_MODULE_35___default.a,
                  constants: _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"],
                  cmcdModel,
                  settings
                });
                if (protectionController) {
                  protectionController.setLicenseRequestFilters(licenseRequestFilters);
                  protectionController.setLicenseResponseFilters(licenseResponseFilters);
                }
                return protectionController;
              }
              return null;
            }
            function _detectMetricsReporting() {
              if (metricsReportingController) {
                return;
              }
              var MetricsReporting = dashjs.MetricsReporting;
              if (typeof MetricsReporting === "function") {
                var metricsReporting = MetricsReporting(context).create();
                metricsReportingController = metricsReporting.createMetricsReporting({
                  debug,
                  eventBus,
                  mediaElement: getVideoElement(),
                  adapter,
                  dashMetrics,
                  events: _core_events_Events__WEBPACK_IMPORTED_MODULE_25__["default"],
                  constants: _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"],
                  metricsConstants: _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_3__["default"]
                });
              }
            }
            function _detectMss() {
              if (mssHandler) {
                return;
              }
              var MssHandler = dashjs.MssHandler;
              if (typeof MssHandler === "function") {
                _core_errors_Errors__WEBPACK_IMPORTED_MODULE_23__["default"].extend(MssHandler.errors);
                mssHandler = MssHandler(context).create({
                  eventBus,
                  mediaPlayerModel,
                  dashMetrics,
                  manifestModel,
                  playbackController,
                  streamController,
                  protectionController,
                  baseURLController,
                  errHandler,
                  events: _core_events_Events__WEBPACK_IMPORTED_MODULE_25__["default"],
                  constants: _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"],
                  debug,
                  initSegmentType: _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_34__["HTTPRequest"].INIT_SEGMENT_TYPE,
                  BASE64: _externals_base64__WEBPACK_IMPORTED_MODULE_35___default.a,
                  ISOBoxer: codem_isoboxer__WEBPACK_IMPORTED_MODULE_36___default.a,
                  settings
                });
              }
            }
            function _detectOffline() {
              if (!mediaPlayerInitialized) {
                throw MEDIA_PLAYER_NOT_INITIALIZED_ERROR;
              }
              if (offlineController) {
                return offlineController;
              }
              var OfflineController = dashjs.OfflineController;
              if (typeof OfflineController === "function") {
                _core_events_Events__WEBPACK_IMPORTED_MODULE_25__["default"].extend(OfflineController.events);
                _MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_26__["default"].extend(OfflineController.events, {
                  publicOnly: true
                });
                _core_errors_Errors__WEBPACK_IMPORTED_MODULE_23__["default"].extend(OfflineController.errors);
                var manifestLoader = _createManifestLoader();
                var manifestUpdater = Object(_ManifestUpdater__WEBPACK_IMPORTED_MODULE_39__["default"])(context).create();
                manifestUpdater.setConfig({
                  manifestModel,
                  adapter,
                  manifestLoader,
                  errHandler
                });
                offlineController = OfflineController(context).create({
                  debug,
                  manifestUpdater,
                  baseURLController,
                  manifestLoader,
                  manifestModel,
                  mediaPlayerModel,
                  abrController,
                  playbackController,
                  adapter,
                  errHandler,
                  dashMetrics,
                  timelineConverter,
                  segmentBaseController,
                  schemeLoaderFactory,
                  eventBus,
                  events: _core_events_Events__WEBPACK_IMPORTED_MODULE_25__["default"],
                  errors: _core_errors_Errors__WEBPACK_IMPORTED_MODULE_23__["default"],
                  constants: _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"],
                  settings,
                  dashConstants: _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_2__["default"],
                  urlUtils: Object(_streaming_utils_URLUtils__WEBPACK_IMPORTED_MODULE_40__["default"])(context).getInstance()
                });
                return offlineController;
              }
              return null;
            }
            function _getAsUTC(valToConvert) {
              var type = streamController && streamController.hasVideoTrack() ? _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].VIDEO : _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].AUDIO;
              var metric = dashMetrics.getCurrentDVRInfo(type);
              var availableFrom, utcValue;
              if (!metric) {
                return 0;
              }
              availableFrom = metric.manifestInfo.availableFrom.getTime() / 1e3;
              utcValue = valToConvert + (availableFrom + metric.range.start);
              return utcValue;
            }
            function _initializePlayback() {
              if (offlineController) {
                offlineController.resetRecords();
              }
              if (!streamingInitialized && source) {
                streamingInitialized = true;
                logger.info("Streaming Initialized");
                _createPlaybackControllers();
                if (typeof source === "string") {
                  streamController.load(source);
                } else {
                  streamController.loadWithManifest(source);
                }
              }
              if (!playbackInitialized && isReady()) {
                playbackInitialized = true;
                logger.info("Playback Initialized");
              }
            }
            instance = {
              initialize,
              setConfig,
              on,
              off,
              extend,
              attachView,
              attachSource,
              isReady,
              play,
              isPaused,
              pause,
              isSeeking,
              isDynamic,
              seek,
              setPlaybackRate,
              getPlaybackRate,
              setMute,
              isMuted,
              setVolume,
              getVolume,
              time,
              duration,
              timeAsUTC,
              durationAsUTC,
              getActiveStream,
              getDVRWindowSize,
              getDVRSeekOffset,
              convertToTimeCode,
              formatUTC,
              getVersion,
              getDebug,
              getBufferLength,
              getTTMLRenderingDiv,
              getVideoElement,
              getSource,
              getCurrentLiveLatency,
              getTopBitrateInfoFor,
              setAutoPlay,
              getAutoPlay,
              getDashMetrics,
              getQualityFor,
              setQualityFor,
              updatePortalSize,
              enableText,
              enableForcedTextStreaming,
              isTextEnabled,
              setTextTrack,
              getBitrateInfoListFor,
              getStreamsFromManifest,
              getTracksFor,
              getTracksForTypeFromManifest,
              getCurrentTrackFor,
              setInitialMediaSettingsFor,
              getInitialMediaSettingsFor,
              setCurrentTrack,
              addABRCustomRule,
              removeABRCustomRule,
              removeAllABRCustomRule,
              getAverageThroughput,
              retrieveManifest,
              addUTCTimingSource,
              removeUTCTimingSource,
              clearDefaultUTCTimingSources,
              restoreDefaultUTCTimingSources,
              setXHRWithCredentialsForType,
              getXHRWithCredentialsForType,
              getProtectionController,
              attachProtectionController,
              setProtectionData,
              registerLicenseRequestFilter,
              registerLicenseResponseFilter,
              unregisterLicenseRequestFilter,
              unregisterLicenseResponseFilter,
              registerCustomCapabilitiesFilter,
              unregisterCustomCapabilitiesFilter,
              setCustomInitialTrackSelectionFunction,
              resetCustomInitialTrackSelectionFunction,
              attachTTMLRenderingDiv,
              getCurrentTextTrackIndex,
              provideThumbnail,
              getDashAdapter,
              getOfflineController,
              getSettings,
              updateSettings,
              resetSettings,
              reset,
              destroy
            };
            setup();
            return instance;
          }
          MediaPlayer2.__dashjs_factory_name = "MediaPlayer";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_27__["default"].getClassFactory(MediaPlayer2);
          factory.events = _MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_26__["default"];
          factory.errors = _core_errors_Errors__WEBPACK_IMPORTED_MODULE_23__["default"];
          _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_27__["default"].updateClassFactory(MediaPlayer2.__dashjs_factory_name, factory);
          __webpack_exports__["default"] = factory;
        },
        "./src/streaming/MediaPlayerEvents.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_events_EventsBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/events/EventsBase.js");
          function _typeof5(obj) {
            "@babel/helpers - typeof";
            if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
              _typeof5 = function _typeof6(obj2) {
                return typeof obj2;
              };
            } else {
              _typeof5 = function _typeof6(obj2) {
                return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
              };
            }
            return _typeof5(obj);
          }
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _inherits2(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            if (superClass)
              _setPrototypeOf2(subClass, superClass);
          }
          function _setPrototypeOf2(o2, p2) {
            _setPrototypeOf2 = Object.setPrototypeOf || function _setPrototypeOf3(o3, p3) {
              o3.__proto__ = p3;
              return o3;
            };
            return _setPrototypeOf2(o2, p2);
          }
          function _createSuper2(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct2();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf2(Derived), result;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf2(this).constructor;
                result = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn2(this, result);
            };
          }
          function _possibleConstructorReturn2(self2, call) {
            if (call && (_typeof5(call) === "object" || typeof call === "function")) {
              return call;
            }
            return _assertThisInitialized2(self2);
          }
          function _assertThisInitialized2(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct2() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e) {
              return false;
            }
          }
          function _getPrototypeOf2(o2) {
            _getPrototypeOf2 = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf3(o3) {
              return o3.__proto__ || Object.getPrototypeOf(o3);
            };
            return _getPrototypeOf2(o2);
          }
          var MediaPlayerEvents = /* @__PURE__ */ function(_EventsBase) {
            _inherits2(MediaPlayerEvents2, _EventsBase);
            var _super = _createSuper2(MediaPlayerEvents2);
            function MediaPlayerEvents2() {
              var _this;
              _classCallCheck2(this, MediaPlayerEvents2);
              _this = _super.call(this);
              _this.AST_IN_FUTURE = "astInFuture";
              _this.BUFFER_EMPTY = "bufferStalled";
              _this.BUFFER_LOADED = "bufferLoaded";
              _this.BUFFER_LEVEL_STATE_CHANGED = "bufferStateChanged";
              _this.BUFFER_LEVEL_UPDATED = "bufferLevelUpdated";
              _this.DYNAMIC_TO_STATIC = "dynamicToStatic";
              _this.ERROR = "error";
              _this.FRAGMENT_LOADING_COMPLETED = "fragmentLoadingCompleted";
              _this.FRAGMENT_LOADING_PROGRESS = "fragmentLoadingProgress";
              _this.FRAGMENT_LOADING_STARTED = "fragmentLoadingStarted";
              _this.FRAGMENT_LOADING_ABANDONED = "fragmentLoadingAbandoned";
              _this.LOG = "log";
              _this.MANIFEST_LOADED = "manifestLoaded";
              _this.METRICS_CHANGED = "metricsChanged";
              _this.METRIC_CHANGED = "metricChanged";
              _this.METRIC_ADDED = "metricAdded";
              _this.METRIC_UPDATED = "metricUpdated";
              _this.PERIOD_SWITCH_COMPLETED = "periodSwitchCompleted";
              _this.STREAM_SWITCH_STARTED = "streamSwitchStarted";
              _this.QUALITY_CHANGE_REQUESTED = "qualityChangeRequested";
              _this.QUALITY_CHANGE_RENDERED = "qualityChangeRendered";
              _this.TRACK_CHANGE_RENDERED = "trackChangeRendered";
              _this.STREAM_INITIALIZING = "streamInitializing";
              _this.STREAM_UPDATED = "streamUpdated";
              _this.STREAM_ACTIVATED = "streamActivated";
              _this.STREAM_DEACTIVATED = "streamDeactivated";
              _this.STREAM_INITIALIZED = "streamInitialized";
              _this.STREAM_TEARDOWN_COMPLETE = "streamTeardownComplete";
              _this.TEXT_TRACKS_ADDED = "allTextTracksAdded";
              _this.TEXT_TRACK_ADDED = "textTrackAdded";
              _this.TTML_PARSED = "ttmlParsed";
              _this.TTML_TO_PARSE = "ttmlToParse";
              _this.CAPTION_RENDERED = "captionRendered";
              _this.CAPTION_CONTAINER_RESIZE = "captionContainerResize";
              _this.CAN_PLAY = "canPlay";
              _this.CAN_PLAY_THROUGH = "canPlayThrough";
              _this.PLAYBACK_ENDED = "playbackEnded";
              _this.PLAYBACK_ERROR = "playbackError";
              _this.PLAYBACK_NOT_ALLOWED = "playbackNotAllowed";
              _this.PLAYBACK_METADATA_LOADED = "playbackMetaDataLoaded";
              _this.PLAYBACK_LOADED_DATA = "playbackLoadedData";
              _this.PLAYBACK_PAUSED = "playbackPaused";
              _this.PLAYBACK_PLAYING = "playbackPlaying";
              _this.PLAYBACK_PROGRESS = "playbackProgress";
              _this.PLAYBACK_RATE_CHANGED = "playbackRateChanged";
              _this.PLAYBACK_SEEKED = "playbackSeeked";
              _this.PLAYBACK_SEEKING = "playbackSeeking";
              _this.PLAYBACK_SEEK_ASKED = "playbackSeekAsked";
              _this.PLAYBACK_STALLED = "playbackStalled";
              _this.PLAYBACK_STARTED = "playbackStarted";
              _this.PLAYBACK_TIME_UPDATED = "playbackTimeUpdated";
              _this.PLAYBACK_WAITING = "playbackWaiting";
              _this.MANIFEST_VALIDITY_CHANGED = "manifestValidityChanged";
              _this.EVENT_MODE_ON_START = "eventModeOnStart";
              _this.EVENT_MODE_ON_RECEIVE = "eventModeOnReceive";
              _this.CONFORMANCE_VIOLATION = "conformanceViolation";
              _this.REPRESENTATION_SWITCH = "representationSwitch";
              return _this;
            }
            return MediaPlayerEvents2;
          }(_core_events_EventsBase__WEBPACK_IMPORTED_MODULE_0__["default"]);
          var mediaPlayerEvents = new MediaPlayerEvents();
          __webpack_exports__["default"] = mediaPlayerEvents;
        },
        "./src/streaming/MediaPlayerFactory.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _MediaPlayer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/MediaPlayer.js");
          function MediaPlayerFactory() {
            var SUPPORTED_MIME_TYPE = "application/dash+xml";
            var logger;
            function create(video, source, context) {
              if (!video || !/^VIDEO$/i.test(video.nodeName))
                return null;
              if (video._dashjs_player)
                return video._dashjs_player;
              var player;
              var videoID = video.id || video.name || "video element";
              source = source || [].slice.call(video.querySelectorAll("source")).filter(function(s3) {
                return s3.type == SUPPORTED_MIME_TYPE;
              })[0];
              if (!source && video.src) {
                source = document.createElement("source");
                source.src = video.src;
              } else if (!source && !video.src) {
                return null;
              }
              context = context || {};
              player = Object(_MediaPlayer__WEBPACK_IMPORTED_MODULE_0__["default"])(context).create();
              player.initialize(video, source.src, video.autoplay);
              if (!logger) {
                logger = player.getDebug().getLogger();
              }
              logger.debug("Converted " + videoID + " to dash.js player and added content: " + source.src);
              video._dashjs_player = player;
              return player;
            }
            function createAll(selector, scope) {
              var aPlayers = [];
              selector = selector || "[data-dashjs-player]";
              scope = scope || document;
              var videos = scope.querySelectorAll(selector);
              for (var i3 = 0; i3 < videos.length; i3++) {
                var player = create(videos[i3], null);
                aPlayers.push(player);
              }
              var sources = scope.querySelectorAll('source[type="' + SUPPORTED_MIME_TYPE + '"]');
              for (var _i = 0; _i < sources.length; _i++) {
                var video = findVideo(sources[_i]);
                var _player = create(video, null);
                aPlayers.push(_player);
              }
              return aPlayers;
            }
            function findVideo(el) {
              if (/^VIDEO$/i.test(el.nodeName)) {
                return el;
              } else {
                return findVideo(el.parentNode);
              }
            }
            return {
              create,
              createAll
            };
          }
          var instance = MediaPlayerFactory();
          var loadInterval;
          function loadHandler() {
            window.removeEventListener("load", loadHandler);
            instance.createAll();
          }
          function loadIntervalHandler() {
            if (window.dashjs) {
              window.clearInterval(loadInterval);
              instance.createAll();
            }
          }
          var avoidAutoCreate = typeof window !== "undefined" && window && window.dashjs && window.dashjs.skipAutoCreate;
          if (!avoidAutoCreate && typeof window !== "undefined" && window && window.addEventListener) {
            if (window.document.readyState === "complete") {
              if (window.dashjs) {
                instance.createAll();
              } else {
                loadInterval = window.setInterval(loadIntervalHandler, 500);
              }
            } else {
              window.addEventListener("load", loadHandler);
            }
          }
          __webpack_exports__["default"] = instance;
        },
        "./src/streaming/SourceBufferSink.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_Debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/Debug.js");
          var _vo_DashJSError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/vo/DashJSError.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_errors_Errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/core/errors/Errors.js");
          var _core_Settings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/core/Settings.js");
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/streaming/vo/metrics/HTTPRequest.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/core/events/Events.js");
          var APPEND_WINDOW_START_OFFSET = 0.1;
          var APPEND_WINDOW_END_OFFSET = 0.01;
          var CHECK_INTERVAL = 50;
          function SourceBufferSink(config) {
            var context = this.context;
            var settings = Object(_core_Settings__WEBPACK_IMPORTED_MODULE_4__["default"])(context).getInstance();
            var textController = config.textController;
            var eventBus = config.eventBus;
            var instance, type, logger, buffer, mediaInfo, intervalId;
            var callbacks = [];
            var appendQueue = [];
            var isAppendingInProgress = false;
            var mediaSource = config.mediaSource;
            var lastRequestAppended = null;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_0__["default"])(context).getInstance().getLogger(instance);
            }
            function initializeForStreamSwitch(mInfo, selectedRepresentation, oldSourceBufferSink) {
              mediaInfo = mInfo;
              type = mediaInfo.type;
              var codec = mediaInfo.codec;
              _copyPreviousSinkData(oldSourceBufferSink);
              _addEventListeners();
              var promises = [];
              promises.push(_abortBeforeAppend);
              promises.push(updateAppendWindow(mediaInfo.streamInfo));
              promises.push(changeType(codec));
              if (selectedRepresentation && selectedRepresentation.MSETimeOffset !== void 0) {
                promises.push(updateTimestampOffset(selectedRepresentation.MSETimeOffset));
              }
              return Promise.all(promises);
            }
            function changeType(codec) {
              return new Promise(function(resolve2) {
                _waitForUpdateEnd(function() {
                  if (buffer.changeType) {
                    buffer.changeType(codec);
                  }
                  resolve2();
                });
              });
            }
            function _copyPreviousSinkData(oldSourceBufferSink) {
              buffer = oldSourceBufferSink.getBuffer();
            }
            function initializeForFirstUse(streamInfo, mInfo, selectedRepresentation) {
              mediaInfo = mInfo;
              type = mediaInfo.type;
              var codec = mediaInfo.codec;
              try {
                if (codec.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i)) {
                  return _initializeForText(streamInfo);
                }
                buffer = mediaSource.addSourceBuffer(codec);
                _addEventListeners();
                var promises = [];
                promises.push(updateAppendWindow(mediaInfo.streamInfo));
                if (selectedRepresentation && selectedRepresentation.MSETimeOffset !== void 0) {
                  promises.push(updateTimestampOffset(selectedRepresentation.MSETimeOffset));
                }
                return Promise.all(promises);
              } catch (e) {
                if (mediaInfo.type == _constants_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].TEXT && !mediaInfo.isFragmented || codec.indexOf('codecs="stpp') !== -1 || codec.indexOf('codecs="vtt') !== -1) {
                  return _initializeForText(streamInfo);
                }
                return Promise.reject(e);
              }
            }
            function _initializeForText(streamInfo) {
              buffer = textController.getTextSourceBuffer(streamInfo);
              return Promise.resolve();
            }
            function _addEventListeners() {
              if (typeof buffer.addEventListener === "function") {
                try {
                  buffer.addEventListener("updateend", _updateEndHandler, false);
                  buffer.addEventListener("error", _errHandler, false);
                  buffer.addEventListener("abort", _errHandler, false);
                } catch (err) {
                  intervalId = setInterval(_updateEndHandler, CHECK_INTERVAL);
                }
              } else {
                intervalId = setInterval(_updateEndHandler, CHECK_INTERVAL);
              }
            }
            function getType() {
              return type;
            }
            function _removeEventListeners() {
              try {
                if (typeof buffer.removeEventListener === "function") {
                  buffer.removeEventListener("updateend", _updateEndHandler, false);
                  buffer.removeEventListener("error", _errHandler, false);
                  buffer.removeEventListener("abort", _errHandler, false);
                }
                clearInterval(intervalId);
              } catch (e) {
                logger.error(e);
              }
            }
            function updateAppendWindow(sInfo) {
              return new Promise(function(resolve2) {
                if (!buffer || !settings.get().streaming.buffer.useAppendWindow) {
                  resolve2();
                  return;
                }
                _waitForUpdateEnd(function() {
                  try {
                    if (!buffer) {
                      resolve2();
                      return;
                    }
                    var appendWindowEnd = mediaSource.duration;
                    var appendWindowStart = 0;
                    if (sInfo && !isNaN(sInfo.start) && !isNaN(sInfo.duration) && isFinite(sInfo.duration)) {
                      appendWindowEnd = sInfo.start + sInfo.duration;
                    }
                    if (sInfo && !isNaN(sInfo.start)) {
                      appendWindowStart = sInfo.start;
                    }
                    if (buffer.appendWindowEnd !== appendWindowEnd || buffer.appendWindowStart !== appendWindowStart) {
                      buffer.appendWindowStart = 0;
                      buffer.appendWindowEnd = appendWindowEnd + APPEND_WINDOW_END_OFFSET;
                      buffer.appendWindowStart = Math.max(appendWindowStart - APPEND_WINDOW_START_OFFSET, 0);
                      logger.debug("Updated append window for ".concat(mediaInfo.type, ". Set start to ").concat(buffer.appendWindowStart, " and end to ").concat(buffer.appendWindowEnd));
                    }
                    resolve2();
                  } catch (e) {
                    logger.warn("Failed to set append window");
                    resolve2();
                  }
                });
              });
            }
            function updateTimestampOffset(MSETimeOffset) {
              return new Promise(function(resolve2) {
                if (!buffer) {
                  resolve2();
                  return;
                }
                _waitForUpdateEnd(function() {
                  try {
                    if (buffer.timestampOffset !== MSETimeOffset && !isNaN(MSETimeOffset)) {
                      buffer.timestampOffset = MSETimeOffset;
                      logger.debug("Set MSE timestamp offset to ".concat(MSETimeOffset));
                    }
                    resolve2();
                  } catch (e) {
                    resolve2();
                  }
                });
              });
            }
            function reset() {
              if (buffer) {
                try {
                  callbacks = [];
                  _removeEventListeners();
                  isAppendingInProgress = false;
                  appendQueue = [];
                  if (!buffer.getClassName || buffer.getClassName() !== "TextSourceBuffer") {
                    logger.debug("Removing sourcebuffer from media source");
                    mediaSource.removeSourceBuffer(buffer);
                  }
                } catch (e) {
                }
                buffer = null;
              }
              lastRequestAppended = null;
            }
            function getBuffer() {
              return buffer;
            }
            function getAllBufferRanges() {
              try {
                return buffer.buffered;
              } catch (e) {
                logger.error("getAllBufferRanges exception: " + e.message);
                return null;
              }
            }
            function append(chunk) {
              var _this = this;
              var request = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;
              return new Promise(function(resolve2, reject) {
                if (!chunk) {
                  reject({
                    chunk,
                    error: new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_1__["default"](_core_errors_Errors__WEBPACK_IMPORTED_MODULE_3__["default"].APPEND_ERROR_CODE, _core_errors_Errors__WEBPACK_IMPORTED_MODULE_3__["default"].APPEND_ERROR_MESSAGE)
                  });
                  return;
                }
                appendQueue.push({
                  data: chunk,
                  promise: {
                    resolve: resolve2,
                    reject
                  },
                  request
                });
                _waitForUpdateEnd(_appendNextInQueue.bind(_this));
              });
            }
            function _abortBeforeAppend() {
              return new Promise(function(resolve2) {
                _waitForUpdateEnd(function() {
                  var appendWindowStart = buffer.appendWindowStart;
                  var appendWindowEnd = buffer.appendWindowEnd;
                  if (buffer) {
                    buffer.abort();
                    buffer.appendWindowStart = appendWindowStart;
                    buffer.appendWindowEnd = appendWindowEnd;
                  }
                  resolve2();
                });
              });
            }
            function remove(range) {
              return new Promise(function(resolve2, reject) {
                var start = range.start;
                var end = range.end;
                if (!(start >= 0 && end > start)) {
                  resolve2();
                  return;
                }
                _waitForUpdateEnd(function() {
                  try {
                    buffer.remove(start, end);
                    _waitForUpdateEnd(function() {
                      resolve2({
                        from: start,
                        to: end,
                        unintended: false
                      });
                      if (range.resolve) {
                        range.resolve();
                      }
                    });
                  } catch (err) {
                    reject({
                      from: start,
                      to: end,
                      unintended: false,
                      error: new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_1__["default"](_core_errors_Errors__WEBPACK_IMPORTED_MODULE_3__["default"].REMOVE_ERROR_CODE, _core_errors_Errors__WEBPACK_IMPORTED_MODULE_3__["default"].REMOVE_ERROR_MESSAGE)
                    });
                    if (range.reject) {
                      range.reject(err);
                    }
                  }
                });
              });
            }
            function _appendNextInQueue() {
              if (isAppendingInProgress) {
                return;
              }
              if (appendQueue.length > 0) {
                isAppendingInProgress = true;
                var nextChunk = appendQueue[0];
                appendQueue.splice(0, 1);
                var afterSuccess = function afterSuccess2() {
                  isAppendingInProgress = false;
                  if (appendQueue.length > 0) {
                    _appendNextInQueue.call(this);
                  }
                  if (nextChunk && nextChunk.data && nextChunk.data.segmentType && nextChunk.data.segmentType !== _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_6__["HTTPRequest"].INIT_SEGMENT_TYPE) {
                    delete nextChunk.data.bytes;
                  }
                  nextChunk.promise.resolve({
                    chunk: nextChunk.data
                  });
                };
                try {
                  lastRequestAppended = nextChunk.request;
                  if (nextChunk.data.bytes.byteLength === 0) {
                    afterSuccess.call(this);
                  } else {
                    if (buffer.appendBuffer) {
                      buffer.appendBuffer(nextChunk.data.bytes);
                    } else {
                      buffer.append(nextChunk.data.bytes, nextChunk.data);
                    }
                    _waitForUpdateEnd(afterSuccess.bind(this));
                  }
                } catch (err) {
                  logger.fatal('SourceBuffer append failed "' + err + '"');
                  if (appendQueue.length > 0) {
                    _appendNextInQueue();
                  } else {
                    isAppendingInProgress = false;
                  }
                  delete nextChunk.data.bytes;
                  nextChunk.promise.reject({
                    chunk: nextChunk.data,
                    error: new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_1__["default"](err.code, err.message)
                  });
                }
              }
            }
            function abort() {
              return new Promise(function(resolve2) {
                try {
                  appendQueue = [];
                  if (mediaSource.readyState === "open") {
                    _waitForUpdateEnd(function() {
                      if (buffer) {
                        buffer.abort();
                      }
                      resolve2();
                    });
                  } else if (buffer && buffer.setTextTrack && mediaSource.readyState === "ended") {
                    buffer.abort();
                    resolve2();
                  } else {
                    resolve2();
                  }
                } catch (e) {
                  resolve2();
                }
              });
            }
            function _executeCallback() {
              if (callbacks.length > 0) {
                if (!buffer.updating) {
                  var cb = callbacks.shift();
                  cb();
                  _executeCallback();
                }
              }
            }
            function _updateEndHandler() {
              if (buffer.updating) {
                return;
              }
              _executeCallback();
            }
            function _errHandler(e) {
              var error = e.target || {};
              _triggerEvent(_core_events_Events__WEBPACK_IMPORTED_MODULE_7__["default"].SOURCE_BUFFER_ERROR, {
                error,
                lastRequestAppended
              });
            }
            function _triggerEvent(eventType, data) {
              var payload = data || {};
              eventBus.trigger(eventType, payload, {
                streamId: mediaInfo.streamInfo.id,
                mediaType: type
              });
            }
            function _waitForUpdateEnd(callback) {
              callbacks.push(callback);
              if (!buffer.updating) {
                _executeCallback();
              }
            }
            instance = {
              getType,
              getAllBufferRanges,
              getBuffer,
              append,
              remove,
              abort,
              reset,
              updateTimestampOffset,
              initializeForStreamSwitch,
              initializeForFirstUse,
              updateAppendWindow,
              changeType
            };
            setup();
            return instance;
          }
          SourceBufferSink.__dashjs_factory_name = "SourceBufferSink";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__["default"].getClassFactory(SourceBufferSink);
          __webpack_exports__["default"] = factory;
        },
        "./src/streaming/Stream.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/dash/constants/DashConstants.js");
          var _StreamProcessor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/StreamProcessor.js");
          var _controllers_FragmentController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/controllers/FragmentController.js");
          var _thumbnail_ThumbnailController__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/thumbnail/ThumbnailController.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/core/events/Events.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/core/Debug.js");
          var _core_errors_Errors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/core/errors/Errors.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _vo_DashJSError__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/streaming/vo/DashJSError.js");
          var _utils_BoxParser__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/streaming/utils/BoxParser.js");
          var _utils_URLUtils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/streaming/utils/URLUtils.js");
          var _controllers_BlacklistController__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/streaming/controllers/BlacklistController.js");
          var MEDIA_TYPES = [_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO, _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO, _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT, _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].MUXED, _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].IMAGE];
          function Stream(config) {
            config = config || {};
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_5__["default"])(context).getInstance();
            var urlUtils = Object(_utils_URLUtils__WEBPACK_IMPORTED_MODULE_12__["default"])(context).getInstance();
            var manifestModel = config.manifestModel;
            var mediaPlayerModel = config.mediaPlayerModel;
            var dashMetrics = config.dashMetrics;
            var manifestUpdater = config.manifestUpdater;
            var adapter = config.adapter;
            var timelineConverter = config.timelineConverter;
            var capabilities = config.capabilities;
            var errHandler = config.errHandler;
            var abrController = config.abrController;
            var playbackController = config.playbackController;
            var eventController = config.eventController;
            var mediaController = config.mediaController;
            var protectionController = config.protectionController;
            var textController = config.textController;
            var videoModel = config.videoModel;
            var streamInfo = config.streamInfo;
            var settings = config.settings;
            var instance, logger, streamProcessors, isInitialized, isActive, hasFinishedBuffering, hasVideoTrack, hasAudioTrack, updateError, isUpdating, fragmentController, thumbnailController, segmentBlacklistController, preloaded, boxParser, debug, isEndedEventSignaled, trackChangedEvents;
            function setup() {
              try {
                debug = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_7__["default"])(context).getInstance();
                logger = debug.getLogger(instance);
                resetInitialSettings();
                boxParser = Object(_utils_BoxParser__WEBPACK_IMPORTED_MODULE_11__["default"])(context).getInstance();
                segmentBlacklistController = Object(_controllers_BlacklistController__WEBPACK_IMPORTED_MODULE_13__["default"])(context).create({
                  updateEventName: _core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].SEGMENT_LOCATION_BLACKLIST_CHANGED,
                  addBlacklistEventName: _core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].SEGMENT_LOCATION_BLACKLIST_ADD
                });
                fragmentController = Object(_controllers_FragmentController__WEBPACK_IMPORTED_MODULE_3__["default"])(context).create({
                  streamInfo,
                  mediaPlayerModel,
                  dashMetrics,
                  errHandler,
                  settings,
                  boxParser,
                  dashConstants: _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"],
                  urlUtils
                });
              } catch (e) {
                throw e;
              }
            }
            function initialize() {
              registerEvents();
              registerProtectionEvents();
              textController.initializeForStream(streamInfo);
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].STREAM_UPDATED, {
                streamInfo
              });
            }
            function registerEvents() {
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].BUFFERING_COMPLETED, onBufferingCompleted, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].DATA_UPDATE_COMPLETED, onDataUpdateCompleted, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].INBAND_EVENTS, onInbandEvents, instance);
            }
            function unRegisterEvents() {
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].DATA_UPDATE_COMPLETED, onDataUpdateCompleted, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].BUFFERING_COMPLETED, onBufferingCompleted, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].INBAND_EVENTS, onInbandEvents, instance);
            }
            function registerProtectionEvents() {
              if (protectionController) {
                eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].KEY_ERROR, onProtectionError, instance);
                eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].SERVER_CERTIFICATE_UPDATED, onProtectionError, instance);
                eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].LICENSE_REQUEST_COMPLETE, onProtectionError, instance);
                eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].KEY_SYSTEM_SELECTED, onProtectionError, instance);
                eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].KEY_SESSION_CREATED, onProtectionError, instance);
                eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].KEY_STATUSES_CHANGED, onProtectionError, instance);
              }
            }
            function unRegisterProtectionEvents() {
              if (protectionController) {
                eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].KEY_ERROR, onProtectionError, instance);
                eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].SERVER_CERTIFICATE_UPDATED, onProtectionError, instance);
                eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].LICENSE_REQUEST_COMPLETE, onProtectionError, instance);
                eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].KEY_SYSTEM_SELECTED, onProtectionError, instance);
                eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].KEY_SESSION_CREATED, onProtectionError, instance);
                eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].KEY_STATUSES_CHANGED, onProtectionError, instance);
              }
            }
            function getStreamId() {
              return streamInfo ? streamInfo.id : null;
            }
            function activate(mediaSource, previousBufferSinks) {
              return new Promise(function(resolve2, reject) {
                if (isActive) {
                  resolve2(previousBufferSinks);
                  return;
                }
                if (getPreloaded()) {
                  isActive = true;
                  eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].STREAM_ACTIVATED, {
                    streamInfo
                  });
                  resolve2(previousBufferSinks);
                  return;
                }
                _initializeMedia(mediaSource, previousBufferSinks).then(function(bufferSinks) {
                  isActive = true;
                  eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].STREAM_ACTIVATED, {
                    streamInfo
                  });
                  resolve2(bufferSinks);
                })["catch"](function(e) {
                  reject(e);
                });
              });
            }
            function _initializeMedia(mediaSource, previousBufferSinks) {
              return _commonMediaInitialization(mediaSource, previousBufferSinks);
            }
            function startPreloading(mediaSource, previousBuffers) {
              return new Promise(function(resolve2, reject) {
                if (getPreloaded()) {
                  reject();
                  return;
                }
                logger.info("[startPreloading] Preloading next stream with id ".concat(getId()));
                setPreloaded(true);
                _commonMediaInitialization(mediaSource, previousBuffers).then(function() {
                  for (var i3 = 0; i3 < streamProcessors.length && streamProcessors[i3]; i3++) {
                    streamProcessors[i3].setExplicitBufferingTime(getStartTime());
                    streamProcessors[i3].getScheduleController().startScheduleTimer();
                  }
                  resolve2();
                })["catch"](function() {
                  setPreloaded(false);
                  reject();
                });
              });
            }
            function _commonMediaInitialization(mediaSource, previousBufferSinks) {
              return new Promise(function(resolve2, reject) {
                checkConfig();
                isUpdating = true;
                addInlineEvents();
                var element = videoModel.getElement();
                MEDIA_TYPES.forEach(function(mediaType) {
                  if (mediaType !== _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO || !element || element && /^VIDEO$/i.test(element.nodeName)) {
                    _initializeMediaForType(mediaType, mediaSource);
                  }
                });
                _createBufferSinks(previousBufferSinks).then(function(bufferSinks) {
                  isUpdating = false;
                  if (streamProcessors.length === 0) {
                    var msg = "No streams to play.";
                    errHandler.error(new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_10__["default"](_core_errors_Errors__WEBPACK_IMPORTED_MODULE_8__["default"].MANIFEST_ERROR_ID_NOSTREAMS_CODE, msg, manifestModel.getValue()));
                    logger.fatal(msg);
                  } else {
                    _checkIfInitializationCompleted();
                  }
                  textController.createTracks(streamInfo);
                  resolve2(bufferSinks);
                })["catch"](function(e) {
                  reject(e);
                });
              });
            }
            function _initializeMediaForType(type, mediaSource) {
              var allMediaForType = adapter.getAllMediaInfoForType(streamInfo, type);
              var embeddedMediaInfos = [];
              var mediaInfo = null;
              var initialMediaInfo;
              if (!allMediaForType || allMediaForType.length === 0) {
                logger.info("No " + type + " data.");
                return;
              }
              if (type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO) {
                hasVideoTrack = true;
              }
              if (type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO) {
                hasAudioTrack = true;
              }
              for (var i3 = 0, ln = allMediaForType.length; i3 < ln; i3++) {
                mediaInfo = allMediaForType[i3];
                if (type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT && !!mediaInfo.isEmbedded) {
                  textController.addEmbeddedTrack(streamInfo, mediaInfo);
                  embeddedMediaInfos.push(mediaInfo);
                }
                if (_isMediaSupported(mediaInfo)) {
                  mediaController.addTrack(mediaInfo);
                }
              }
              if (embeddedMediaInfos.length > 0) {
                mediaController.setInitialMediaSettingsForType(type, streamInfo);
                textController.setInitialSettings(mediaController.getInitialSettings(type));
                textController.addMediaInfosToBuffer(streamInfo, type, embeddedMediaInfos);
              }
              allMediaForType = allMediaForType.filter(function(mediaInfo2) {
                return !mediaInfo2.isEmbedded;
              });
              if (allMediaForType.length === 0) {
                return;
              }
              if (type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].IMAGE) {
                thumbnailController = Object(_thumbnail_ThumbnailController__WEBPACK_IMPORTED_MODULE_4__["default"])(context).create({
                  streamInfo,
                  adapter,
                  baseURLController: config.baseURLController,
                  timelineConverter: config.timelineConverter,
                  debug,
                  eventBus,
                  events: _core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"],
                  dashConstants: _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"],
                  dashMetrics: config.dashMetrics,
                  segmentBaseController: config.segmentBaseController
                });
                thumbnailController.initialize();
                return;
              }
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].STREAM_INITIALIZING, {
                streamInfo,
                mediaInfo
              });
              mediaController.setInitialMediaSettingsForType(type, streamInfo);
              var streamProcessor = _createStreamProcessor(allMediaForType, mediaSource);
              initialMediaInfo = mediaController.getCurrentTrackFor(type, streamInfo.id);
              if (initialMediaInfo) {
                abrController.updateTopQualityIndex(initialMediaInfo);
                streamProcessor.selectMediaInfo(type !== _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT || !initialMediaInfo.isEmbedded ? initialMediaInfo : allMediaForType[0]);
              }
            }
            function _isMediaSupported(mediaInfo) {
              var type = mediaInfo ? mediaInfo.type : null;
              var msg;
              if (type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].MUXED) {
                msg = "Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines";
                logger.fatal(msg);
                errHandler.error(new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_10__["default"](_core_errors_Errors__WEBPACK_IMPORTED_MODULE_8__["default"].MANIFEST_ERROR_ID_MULTIPLEXED_CODE, msg, manifestModel.getValue()));
                return false;
              }
              if (type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT || type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].IMAGE) {
                return true;
              }
              if (!!mediaInfo.contentProtection && !capabilities.supportsEncryptedMedia()) {
                errHandler.error(new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_10__["default"](_core_errors_Errors__WEBPACK_IMPORTED_MODULE_8__["default"].CAPABILITY_MEDIAKEYS_ERROR_CODE, _core_errors_Errors__WEBPACK_IMPORTED_MODULE_8__["default"].CAPABILITY_MEDIAKEYS_ERROR_MESSAGE));
                return false;
              }
              return true;
            }
            function _createStreamProcessor(allMediaForType, mediaSource) {
              var mediaInfo = allMediaForType && allMediaForType.length > 0 ? allMediaForType[0] : null;
              var fragmentModel = fragmentController.getModel(mediaInfo ? mediaInfo.type : null);
              var type = mediaInfo ? mediaInfo.type : null;
              var mimeType = mediaInfo ? mediaInfo.mimeType : null;
              var isFragmented = mediaInfo ? mediaInfo.isFragmented : null;
              var streamProcessor = Object(_StreamProcessor__WEBPACK_IMPORTED_MODULE_2__["default"])(context).create({
                streamInfo,
                type,
                mimeType,
                timelineConverter,
                adapter,
                manifestModel,
                mediaPlayerModel,
                fragmentModel,
                dashMetrics: config.dashMetrics,
                baseURLController: config.baseURLController,
                segmentBaseController: config.segmentBaseController,
                abrController,
                playbackController,
                mediaController,
                textController,
                errHandler,
                settings,
                boxParser,
                segmentBlacklistController
              });
              streamProcessor.initialize(mediaSource, hasVideoTrack, isFragmented);
              streamProcessors.push(streamProcessor);
              for (var i3 = 0; i3 < allMediaForType.length; i3++) {
                streamProcessor.addMediaInfo(allMediaForType[i3]);
              }
              if (type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT) {
                textController.addMediaInfosToBuffer(streamInfo, type, allMediaForType, fragmentModel);
              }
              return streamProcessor;
            }
            function _createBufferSinks(previousBuffersSinks) {
              return new Promise(function(resolve2) {
                var buffers = {};
                var promises = streamProcessors.map(function(sp) {
                  return sp.createBufferSinks(previousBuffersSinks);
                });
                Promise.all(promises).then(function(bufferSinks) {
                  bufferSinks.forEach(function(sink) {
                    if (sink) {
                      buffers[sink.getType()] = sink;
                    }
                  });
                  resolve2(buffers);
                })["catch"](function() {
                  resolve2(buffers);
                });
              });
            }
            function deactivate(keepBuffers) {
              var ln = streamProcessors ? streamProcessors.length : 0;
              var errored = false;
              for (var i3 = 0; i3 < ln; i3++) {
                var fragmentModel = streamProcessors[i3].getFragmentModel();
                fragmentModel.abortRequests();
                fragmentModel.resetInitialSettings();
                streamProcessors[i3].reset(errored, keepBuffers);
              }
              if (textController) {
                textController.deactivateStream(streamInfo);
              }
              streamProcessors = [];
              isActive = false;
              hasFinishedBuffering = false;
              setPreloaded(false);
              setIsEndedEventSignaled(false);
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].STREAM_DEACTIVATED, {
                streamInfo
              });
            }
            function getIsActive() {
              return isActive;
            }
            function setMediaSource(mediaSource) {
              for (var i3 = 0; i3 < streamProcessors.length; ) {
                if (_isMediaSupported(streamProcessors[i3].getMediaInfo())) {
                  streamProcessors[i3].setMediaSource(mediaSource);
                  i3++;
                } else {
                  streamProcessors[i3].reset();
                  streamProcessors.splice(i3, 1);
                }
              }
              if (streamProcessors.length === 0) {
                var msg = "No streams to play.";
                errHandler.error(new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_10__["default"](_core_errors_Errors__WEBPACK_IMPORTED_MODULE_8__["default"].MANIFEST_ERROR_ID_NOSTREAMS_CODE, msg + "nostreams", manifestModel.getValue()));
                logger.fatal(msg);
              }
            }
            function resetInitialSettings(keepBuffers) {
              deactivate(keepBuffers);
              isInitialized = false;
              hasVideoTrack = false;
              hasAudioTrack = false;
              updateError = {};
              isUpdating = false;
              isEndedEventSignaled = false;
              trackChangedEvents = [];
            }
            function reset(keepBuffers) {
              if (fragmentController) {
                fragmentController.reset();
                fragmentController = null;
              }
              if (abrController && streamInfo) {
                abrController.clearDataForStream(streamInfo.id);
              }
              if (segmentBlacklistController) {
                segmentBlacklistController.reset();
                segmentBlacklistController = null;
              }
              resetInitialSettings(keepBuffers);
              streamInfo = null;
              unRegisterEvents();
              unRegisterProtectionEvents();
            }
            function getDuration() {
              return streamInfo ? streamInfo.duration : NaN;
            }
            function getIsEndedEventSignaled() {
              return isEndedEventSignaled;
            }
            function setIsEndedEventSignaled(value) {
              isEndedEventSignaled = value;
            }
            function getStartTime() {
              return streamInfo ? streamInfo.start : NaN;
            }
            function getId() {
              return streamInfo ? streamInfo.id : null;
            }
            function getStreamInfo() {
              return streamInfo;
            }
            function getHasAudioTrack() {
              return hasAudioTrack;
            }
            function getHasVideoTrack() {
              return hasVideoTrack;
            }
            function getThumbnailController() {
              return thumbnailController;
            }
            function checkConfig() {
              if (!videoModel || !abrController) {
                throw new Error(_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].MISSING_CONFIG_ERROR);
              }
            }
            function getBitrateListFor(type) {
              checkConfig();
              if (type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].IMAGE) {
                if (!thumbnailController) {
                  return [];
                }
                return thumbnailController.getBitrateList();
              }
              var mediaInfo = getMediaInfo(type);
              return abrController.getBitrateList(mediaInfo);
            }
            function onProtectionError(event) {
              if (event.error) {
                errHandler.error(event.error);
                logger.fatal(event.error.message);
              }
            }
            function prepareTrackChange(e) {
              if (!isActive || !streamInfo) {
                return;
              }
              hasFinishedBuffering = false;
              var mediaInfo = e.newMediaInfo;
              var manifest = manifestModel.getValue();
              adapter.setCurrentMediaInfo(streamInfo.id, mediaInfo.type, mediaInfo);
              var processor = getProcessorForMediaInfo(mediaInfo);
              if (!processor)
                return;
              var currentTime = playbackController.getTime();
              logger.info("Stream -  Process track changed at current time " + currentTime);
              if (manifest.refreshManifestOnSwitchTrack) {
                logger.debug("Stream -  Refreshing manifest for switch track");
                trackChangedEvents.push(e);
                manifestUpdater.refreshManifest();
              } else {
                processor.selectMediaInfo(mediaInfo).then(function() {
                  if (mediaInfo.type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO || mediaInfo.type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO) {
                    abrController.updateTopQualityIndex(mediaInfo);
                  }
                  processor.prepareTrackSwitch();
                });
              }
            }
            function prepareQualityChange(e) {
              var processor = _getProcessorByType(e.mediaType);
              if (processor) {
                processor.prepareQualityChange(e);
              }
            }
            function addInlineEvents() {
              if (eventController) {
                var events = adapter.getEventsFor(streamInfo);
                eventController.addInlineEvents(events);
              }
            }
            function _checkIfInitializationCompleted() {
              var ln = streamProcessors.length;
              var hasError = !!updateError.audio || !!updateError.video;
              var error = hasError ? new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_10__["default"](_core_errors_Errors__WEBPACK_IMPORTED_MODULE_8__["default"].DATA_UPDATE_FAILED_ERROR_CODE, _core_errors_Errors__WEBPACK_IMPORTED_MODULE_8__["default"].DATA_UPDATE_FAILED_ERROR_MESSAGE) : null;
              for (var i3 = 0; i3 < ln; i3++) {
                if (streamProcessors[i3].isUpdating() || isUpdating) {
                  return;
                }
              }
              if (protectionController) {
                protectionController.clearMediaInfoArrayByStreamId(getId());
                for (var _i = 0; _i < ln && streamProcessors[_i]; _i++) {
                  var type = streamProcessors[_i].getType();
                  var mediaInfo = streamProcessors[_i].getMediaInfo();
                  if (type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO || type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO || type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT && mediaInfo.isFragmented) {
                    var _mediaInfo = streamProcessors[_i].getMediaInfo();
                    if (_mediaInfo) {
                      protectionController.initializeForMedia(_mediaInfo);
                    }
                  }
                }
              }
              if (error) {
                errHandler.error(error);
              } else if (!isInitialized) {
                isInitialized = true;
                eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].STREAM_INITIALIZED, {
                  streamInfo
                });
              }
            }
            function getMediaInfo(type) {
              var streamProcessor = null;
              for (var i3 = 0; i3 < streamProcessors.length; i3++) {
                streamProcessor = streamProcessors[i3];
                if (streamProcessor.getType() === type) {
                  return streamProcessor.getMediaInfo();
                }
              }
              return null;
            }
            function onBufferingCompleted() {
              var processors = getProcessors();
              var ln = processors.length;
              if (ln === 0) {
                logger.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined");
                return;
              }
              for (var i3 = 0; i3 < ln; i3++) {
                if (!processors[i3].isBufferingCompleted() && (processors[i3].getType() === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO || processors[i3].getType() === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO)) {
                  logger.debug("onBufferingCompleted - One streamProcessor has finished but", processors[i3].getType(), "one is not buffering completed");
                  return;
                }
              }
              logger.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED");
              hasFinishedBuffering = true;
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].STREAM_BUFFERING_COMPLETED, {
                streamInfo
              }, {
                streamInfo
              });
            }
            function onDataUpdateCompleted(e) {
              updateError[e.mediaType] = e.error;
              _checkIfInitializationCompleted();
            }
            function onInbandEvents(e) {
              if (eventController) {
                eventController.addInbandEvents(e.events);
              }
            }
            function getProcessorForMediaInfo(mediaInfo) {
              if (!mediaInfo || !mediaInfo.type) {
                return null;
              }
              return _getProcessorByType(mediaInfo.type);
            }
            function _getProcessorByType(type) {
              if (!type) {
                return null;
              }
              var processors = getProcessors();
              return processors.filter(function(processor) {
                return processor.getType() === type;
              })[0];
            }
            function getProcessors() {
              var arr = [];
              var type, streamProcessor;
              for (var i3 = 0; i3 < streamProcessors.length; i3++) {
                streamProcessor = streamProcessors[i3];
                type = streamProcessor.getType();
                if (type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO || type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO || type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT) {
                  arr.push(streamProcessor);
                }
              }
              return arr;
            }
            function startScheduleControllers() {
              var ln = streamProcessors.length;
              for (var i3 = 0; i3 < ln && streamProcessors[i3]; i3++) {
                streamProcessors[i3].getScheduleController().startScheduleTimer();
              }
            }
            function updateData(updatedStreamInfo) {
              return new Promise(function(resolve2) {
                isUpdating = true;
                streamInfo = updatedStreamInfo;
                if (eventController) {
                  addInlineEvents();
                }
                var promises = [];
                for (var i3 = 0, ln = streamProcessors.length; i3 < ln; i3++) {
                  var streamProcessor = streamProcessors[i3];
                  var currentMediaInfo = streamProcessor.getMediaInfo();
                  promises.push(streamProcessor.updateStreamInfo(streamInfo));
                  var allMediaForType = adapter.getAllMediaInfoForType(streamInfo, streamProcessor.getType());
                  if (allMediaForType) {
                    streamProcessor.clearMediaInfoArray();
                    for (var j = 0; j < allMediaForType.length; j++) {
                      var mInfo = allMediaForType[j];
                      streamProcessor.addMediaInfo(allMediaForType[j]);
                      if (adapter.areMediaInfosEqual(currentMediaInfo, mInfo)) {
                        abrController.updateTopQualityIndex(mInfo);
                        promises.push(streamProcessor.selectMediaInfo(mInfo));
                      }
                    }
                  }
                }
                Promise.all(promises).then(function() {
                  promises = [];
                  while (trackChangedEvents.length > 0) {
                    var trackChangedEvent = trackChangedEvents.pop();
                    var mediaInfo = trackChangedEvent.newMediaInfo;
                    var processor = getProcessorForMediaInfo(trackChangedEvent.oldMediaInfo);
                    if (!processor)
                      return;
                    promises.push(processor.prepareTrackSwitch());
                    processor.selectMediaInfo(mediaInfo);
                  }
                  return Promise.all(promises);
                }).then(function() {
                  isUpdating = false;
                  _checkIfInitializationCompleted();
                  eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].STREAM_UPDATED, {
                    streamInfo
                  });
                  resolve2();
                });
              });
            }
            function isMediaCodecCompatible(newStream) {
              var previousStream = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;
              return compareCodecs(newStream, _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO, previousStream) && compareCodecs(newStream, _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO, previousStream);
            }
            function isProtectionCompatible(newStream) {
              if (!newStream) {
                return true;
              }
              return _compareProtectionConfig(_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO, newStream) && _compareProtectionConfig(_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO, newStream);
            }
            function _compareProtectionConfig(type, newStream) {
              var currentStreamInfo = getStreamInfo();
              var newStreamInfo = newStream.getStreamInfo();
              if (!newStreamInfo || !currentStreamInfo) {
                return true;
              }
              var newAdaptation = adapter.getAdaptationForType(newStreamInfo.index, type, newStreamInfo);
              var currentAdaptation = adapter.getAdaptationForType(currentStreamInfo.index, type, currentStreamInfo);
              if (!newAdaptation || !currentAdaptation) {
                return !newAdaptation && !currentAdaptation;
              }
              return !(!_isAdaptationDrmProtected(currentAdaptation) && _isAdaptationDrmProtected(newAdaptation));
            }
            function _isAdaptationDrmProtected(adaptation) {
              if (!adaptation) {
                return false;
              }
              return !!(adaptation.ContentProtection || adaptation.Representation && adaptation.Representation.length > 0 && adaptation.Representation[0].ContentProtection);
            }
            function compareCodecs(newStream, type) {
              var previousStream = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;
              if (!newStream || !newStream.hasOwnProperty("getStreamInfo")) {
                return false;
              }
              var newStreamInfo = newStream.getStreamInfo();
              var currentStreamInfo = previousStream ? previousStream.getStreamInfo() : getStreamInfo();
              if (!newStreamInfo || !currentStreamInfo) {
                return false;
              }
              var newAdaptation = adapter.getAdaptationForType(newStreamInfo.index, type, newStreamInfo);
              var currentAdaptation = adapter.getAdaptationForType(currentStreamInfo.index, type, currentStreamInfo);
              if (!newAdaptation || !currentAdaptation) {
                return !newAdaptation && !currentAdaptation;
              }
              var sameMimeType = newAdaptation && currentAdaptation && newAdaptation.mimeType === currentAdaptation.mimeType;
              var oldCodecs = currentAdaptation.Representation_asArray.map(function(representation) {
                return representation.codecs;
              });
              var newCodecs = newAdaptation.Representation_asArray.map(function(representation) {
                return representation.codecs;
              });
              var codecMatch = newCodecs.some(function(newCodec) {
                return oldCodecs.indexOf(newCodec) > -1;
              });
              var partialCodecMatch = newCodecs.some(function(newCodec) {
                return oldCodecs.some(function(oldCodec) {
                  return capabilities.codecRootCompatibleWithCodec(oldCodec, newCodec);
                });
              });
              return codecMatch || partialCodecMatch && sameMimeType;
            }
            function setPreloaded(value) {
              preloaded = value;
            }
            function getPreloaded() {
              return preloaded;
            }
            function getHasFinishedBuffering() {
              return hasFinishedBuffering;
            }
            function getAdapter() {
              return adapter;
            }
            instance = {
              initialize,
              getStreamId,
              activate,
              deactivate,
              getIsActive,
              getDuration,
              getStartTime,
              getId,
              getStreamInfo,
              getHasAudioTrack,
              getHasVideoTrack,
              startPreloading,
              getThumbnailController,
              getBitrateListFor,
              updateData,
              reset,
              getProcessors,
              setMediaSource,
              isMediaCodecCompatible,
              isProtectionCompatible,
              getPreloaded,
              getIsEndedEventSignaled,
              setIsEndedEventSignaled,
              getAdapter,
              getHasFinishedBuffering,
              setPreloaded,
              startScheduleControllers,
              prepareTrackChange,
              prepareQualityChange
            };
            setup();
            return instance;
          }
          Stream.__dashjs_factory_name = "Stream";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_9__["default"].getClassFactory(Stream);
        },
        "./src/streaming/StreamProcessor.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/dash/constants/DashConstants.js");
          var _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/constants/MetricsConstants.js");
          var _models_FragmentModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/models/FragmentModel.js");
          var _controllers_BufferController__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/controllers/BufferController.js");
          var _text_NotFragmentedTextBufferController__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/text/NotFragmentedTextBufferController.js");
          var _controllers_ScheduleController__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/streaming/controllers/ScheduleController.js");
          var _dash_controllers_RepresentationController__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/dash/controllers/RepresentationController.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _utils_SupervisorTools__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/streaming/utils/SupervisorTools.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/core/events/Events.js");
          var _dash_DashHandler__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/dash/DashHandler.js");
          var _core_errors_Errors__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/core/errors/Errors.js");
          var _vo_DashJSError__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/streaming/vo/DashJSError.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/core/Debug.js");
          var _utils_RequestModifier__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/streaming/utils/RequestModifier.js");
          var _streaming_utils_URLUtils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./src/streaming/utils/URLUtils.js");
          var _utils_BoxParser__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./src/streaming/utils/BoxParser.js");
          var _vo_metrics_PlayList__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./src/streaming/vo/metrics/PlayList.js");
          var _dash_controllers_SegmentsController__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("./src/dash/controllers/SegmentsController.js");
          var _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("./src/streaming/vo/metrics/HTTPRequest.js");
          function StreamProcessor(config) {
            config = config || {};
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_10__["default"])(context).getInstance();
            var streamInfo = config.streamInfo;
            var type = config.type;
            var errHandler = config.errHandler;
            var mimeType = config.mimeType;
            var timelineConverter = config.timelineConverter;
            var adapter = config.adapter;
            var manifestModel = config.manifestModel;
            var mediaPlayerModel = config.mediaPlayerModel;
            var fragmentModel = config.fragmentModel;
            var abrController = config.abrController;
            var playbackController = config.playbackController;
            var mediaController = config.mediaController;
            var textController = config.textController;
            var dashMetrics = config.dashMetrics;
            var settings = config.settings;
            var boxParser = config.boxParser;
            var segmentBlacklistController = config.segmentBlacklistController;
            var instance, logger, isDynamic, mediaInfo, mediaInfoArr, bufferController, scheduleController, representationController, shouldUseExplicitTimeForRequest, qualityChangeInProgress, manifestUpdateInProgress, dashHandler, segmentsController, bufferingTime;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_15__["default"])(context).getInstance().getLogger(instance);
              resetInitialSettings();
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].DATA_UPDATE_COMPLETED, _onDataUpdateCompleted, instance, {
                priority: _core_EventBus__WEBPACK_IMPORTED_MODULE_10__["default"].EVENT_PRIORITY_HIGH
              });
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].INIT_FRAGMENT_NEEDED, _onInitFragmentNeeded, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].MEDIA_FRAGMENT_NEEDED, _onMediaFragmentNeeded, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].MEDIA_FRAGMENT_LOADED, _onMediaFragmentLoaded, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].BUFFER_LEVEL_STATE_CHANGED, _onBufferLevelStateChanged, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].BUFFER_CLEARED, _onBufferCleared, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].SEEK_TARGET, _onSeekTarget, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].FRAGMENT_LOADING_ABANDONED, _onFragmentLoadingAbandoned, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].FRAGMENT_LOADING_COMPLETED, _onFragmentLoadingCompleted, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].QUOTA_EXCEEDED, _onQuotaExceeded, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].SET_FRAGMENTED_TEXT_AFTER_DISABLED, _onSetFragmentedTextAfterDisabled, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].SET_NON_FRAGMENTED_TEXT, _onSetNonFragmentedText, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].MANIFEST_UPDATED, _onManifestUpdated, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].STREAMS_COMPOSED, _onStreamsComposed, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].SOURCE_BUFFER_ERROR, _onSourceBufferError, instance);
            }
            function initialize(mediaSource, hasVideoTrack, isFragmented) {
              segmentsController = Object(_dash_controllers_SegmentsController__WEBPACK_IMPORTED_MODULE_20__["default"])(context).create({
                events: _core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"],
                eventBus,
                streamInfo,
                timelineConverter,
                dashConstants: _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"],
                segmentBaseController: config.segmentBaseController,
                type
              });
              dashHandler = Object(_dash_DashHandler__WEBPACK_IMPORTED_MODULE_12__["default"])(context).create({
                streamInfo,
                type,
                timelineConverter,
                dashMetrics,
                mediaPlayerModel,
                baseURLController: config.baseURLController,
                errHandler,
                segmentsController,
                settings,
                boxParser,
                events: _core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"],
                eventBus,
                errors: _core_errors_Errors__WEBPACK_IMPORTED_MODULE_13__["default"],
                debug: Object(_core_Debug__WEBPACK_IMPORTED_MODULE_15__["default"])(context).getInstance(),
                requestModifier: Object(_utils_RequestModifier__WEBPACK_IMPORTED_MODULE_16__["default"])(context).getInstance(),
                dashConstants: _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"],
                constants: _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"],
                urlUtils: Object(_streaming_utils_URLUtils__WEBPACK_IMPORTED_MODULE_17__["default"])(context).getInstance()
              });
              isDynamic = streamInfo.manifestInfo.isDynamic;
              dashHandler.initialize(isDynamic);
              abrController.registerStreamType(type, instance);
              representationController = Object(_dash_controllers_RepresentationController__WEBPACK_IMPORTED_MODULE_7__["default"])(context).create({
                streamInfo,
                type,
                abrController,
                dashMetrics,
                playbackController,
                timelineConverter,
                dashConstants: _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"],
                events: _core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"],
                eventBus,
                errors: _core_errors_Errors__WEBPACK_IMPORTED_MODULE_13__["default"],
                isDynamic,
                segmentsController
              });
              bufferController = _createBufferControllerForType(type, isFragmented);
              if (bufferController) {
                bufferController.initialize(mediaSource);
              }
              scheduleController = Object(_controllers_ScheduleController__WEBPACK_IMPORTED_MODULE_6__["default"])(context).create({
                streamInfo,
                type,
                mimeType,
                adapter,
                dashMetrics,
                mediaPlayerModel,
                fragmentModel,
                abrController,
                playbackController,
                textController,
                mediaController,
                bufferController,
                settings
              });
              scheduleController.initialize(hasVideoTrack);
              bufferingTime = 0;
              shouldUseExplicitTimeForRequest = false;
            }
            function getStreamId() {
              return streamInfo.id;
            }
            function getType() {
              return type;
            }
            function getIsTextTrack() {
              return adapter.getIsTextTrack(representationController.getData());
            }
            function resetInitialSettings() {
              mediaInfoArr = [];
              mediaInfo = null;
              bufferingTime = 0;
              shouldUseExplicitTimeForRequest = false;
              manifestUpdateInProgress = false;
              qualityChangeInProgress = false;
            }
            function reset(errored, keepBuffers) {
              if (dashHandler) {
                dashHandler.reset();
              }
              if (bufferController) {
                bufferController.reset(errored, keepBuffers);
                bufferController = null;
              }
              if (scheduleController) {
                scheduleController.reset();
                scheduleController = null;
              }
              if (representationController) {
                representationController.reset();
                representationController = null;
              }
              if (segmentsController) {
                segmentsController = null;
              }
              if (abrController) {
                abrController.unRegisterStreamType(getStreamId(), type);
              }
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].DATA_UPDATE_COMPLETED, _onDataUpdateCompleted, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].INIT_FRAGMENT_NEEDED, _onInitFragmentNeeded, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].MEDIA_FRAGMENT_NEEDED, _onMediaFragmentNeeded, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].MEDIA_FRAGMENT_LOADED, _onMediaFragmentLoaded, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].BUFFER_LEVEL_STATE_CHANGED, _onBufferLevelStateChanged, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].BUFFER_CLEARED, _onBufferCleared, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].SEEK_TARGET, _onSeekTarget, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].FRAGMENT_LOADING_ABANDONED, _onFragmentLoadingAbandoned, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].FRAGMENT_LOADING_COMPLETED, _onFragmentLoadingCompleted, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].SET_FRAGMENTED_TEXT_AFTER_DISABLED, _onSetFragmentedTextAfterDisabled, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].SET_NON_FRAGMENTED_TEXT, _onSetNonFragmentedText, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].QUOTA_EXCEEDED, _onQuotaExceeded, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].MANIFEST_UPDATED, _onManifestUpdated, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].STREAMS_COMPOSED, _onStreamsComposed, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].SOURCE_BUFFER_ERROR, _onSourceBufferError, instance);
              resetInitialSettings();
              type = null;
              streamInfo = null;
            }
            function isUpdating() {
              return representationController ? representationController.isUpdating() : false;
            }
            function prepareInnerPeriodPlaybackSeeking(e) {
              return new Promise(function(resolve2) {
                scheduleController.clearScheduleTimer();
                fragmentModel.abortRequests();
                bufferController.prepareForPlaybackSeek().then(function() {
                  var clearRanges = bufferController.getAllRangesWithSafetyFactor(e.seekTime);
                  return bufferController.clearBuffers(clearRanges);
                }).then(function() {
                  var targetTime = bufferController.getContinuousBufferTimeForTargetTime(e.seekTime);
                  if (!isNaN(streamInfo.duration) && isFinite(streamInfo.duration) && targetTime >= streamInfo.start + streamInfo.duration) {
                    bufferController.setIsBufferingCompleted(true);
                    resolve2();
                  } else {
                    setExplicitBufferingTime(targetTime);
                    bufferController.setSeekTarget(targetTime);
                    var promises = [];
                    promises.push(bufferController.updateAppendWindow());
                    var representationInfo = getRepresentationInfo();
                    promises.push(bufferController.updateBufferTimestampOffset(representationInfo));
                    Promise.all(promises).then(function() {
                      scheduleController.setInitSegmentRequired(true);
                      scheduleController.setCheckPlaybackQuality(false);
                      scheduleController.startScheduleTimer();
                      resolve2();
                    });
                  }
                })["catch"](function(e2) {
                  logger.error(e2);
                });
              });
            }
            function prepareOuterPeriodPlaybackSeeking() {
              return new Promise(function(resolve2, reject) {
                try {
                  scheduleController.clearScheduleTimer();
                  fragmentModel.abortRequests();
                  bufferController.prepareForPlaybackSeek().then(function() {
                    return bufferController.pruneAllSafely();
                  }).then(function() {
                    resolve2();
                  });
                } catch (e) {
                  reject(e);
                }
              });
            }
            function _onInitFragmentNeeded(e) {
              var rescheduleIfNoRequest = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;
              if (!e.sender)
                return;
              if (manifestUpdateInProgress) {
                _noValidRequest();
                return;
              }
              if (getIsTextTrack() && !textController.isTextEnabled())
                return;
              if (bufferController && e.representationId) {
                if (!bufferController.appendInitSegmentFromCache(e.representationId)) {
                  var rep = representationController.getCurrentRepresentation();
                  if (rep.range === 0) {
                    _onMediaFragmentNeeded();
                    return;
                  }
                  var request = dashHandler ? dashHandler.getInitRequest(mediaInfo, rep) : null;
                  if (request) {
                    fragmentModel.executeRequest(request);
                  } else if (rescheduleIfNoRequest) {
                    scheduleController.setInitSegmentRequired(true);
                    _noValidRequest();
                  }
                }
              }
            }
            function _onMediaFragmentNeeded(e) {
              var rescheduleIfNoRequest = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;
              if (manifestUpdateInProgress || bufferController.getIsPruningInProgress()) {
                _noValidRequest();
                return;
              }
              var request = _getFragmentRequest();
              if (request) {
                shouldUseExplicitTimeForRequest = false;
                _mediaRequestGenerated(request);
              } else {
                _noMediaRequestGenerated(rescheduleIfNoRequest);
              }
            }
            function _mediaRequestGenerated(request) {
              if (!isNaN(request.startTime + request.duration)) {
                bufferingTime = request.startTime + request.duration;
              }
              request.delayLoadingTime = new Date().getTime() + scheduleController.getTimeToLoadDelay();
              scheduleController.setTimeToLoadDelay(0);
              if (!_shouldIgnoreRequest(request)) {
                logger.debug("Next fragment request url for stream id ".concat(streamInfo.id, " and media type ").concat(type, " is ").concat(request.url));
                fragmentModel.executeRequest(request);
              } else {
                logger.warn("Fragment request url ".concat(request.url, " for stream id ").concat(streamInfo.id, " and media type ").concat(type, " is on the ignore list and will be skipped"));
                _noValidRequest();
              }
            }
            function _noMediaRequestGenerated(rescheduleIfNoRequest) {
              var representation = representationController.getCurrentRepresentation();
              if (settings.get().streaming.gaps.enableSeekFix && !isDynamic && shouldUseExplicitTimeForRequest && playbackController.isSeeking()) {
                var adjustedTime = dashHandler.getValidSeekTimeCloseToTargetTime(bufferingTime, mediaInfo, representation, settings.get().streaming.gaps.threshold);
                if (!isNaN(adjustedTime)) {
                  playbackController.seek(adjustedTime, false, false);
                  return;
                }
              }
              var isLastSegmentRequested = dashHandler.isLastSegmentRequested(representation, bufferingTime);
              if (isLastSegmentRequested) {
                var segmentIndex = dashHandler.getCurrentIndex();
                logger.debug("Segment requesting for stream ".concat(streamInfo.id, " has finished"));
                eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].STREAM_REQUESTING_COMPLETED, {
                  segmentIndex
                }, {
                  streamId: streamInfo.id,
                  mediaType: type
                });
                bufferController.segmentRequestingCompleted(segmentIndex);
                scheduleController.clearScheduleTimer();
                return;
              }
              if (rescheduleIfNoRequest) {
                _noValidRequest();
              }
            }
            function _shouldIgnoreRequest(request) {
              var blacklistUrl = request.url;
              if (request.range) {
                blacklistUrl = blacklistUrl.concat("_", request.range);
              }
              return segmentBlacklistController.contains(blacklistUrl);
            }
            function _getFragmentRequest() {
              var representationInfo = getRepresentationInfo();
              var request;
              if (isNaN(bufferingTime) || getType() === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT && !textController.isTextEnabled()) {
                return null;
              }
              var useTime = shouldUseExplicitTimeForRequest;
              if (dashHandler) {
                var representation = representationController && representationInfo ? representationController.getRepresentationForQuality(representationInfo.quality) : null;
                if (useTime) {
                  request = dashHandler.getSegmentRequestForTime(mediaInfo, representation, bufferingTime);
                } else {
                  request = dashHandler.getNextSegmentRequest(mediaInfo, representation);
                }
              }
              return request;
            }
            function _noValidRequest() {
              scheduleController.startScheduleTimer(settings.get().streaming.lowLatencyEnabled ? settings.get().streaming.scheduling.lowLatencyTimeout : settings.get().streaming.scheduling.defaultTimeout);
            }
            function _onManifestUpdated() {
              manifestUpdateInProgress = true;
            }
            function _onStreamsComposed() {
              manifestUpdateInProgress = false;
            }
            function _onDataUpdateCompleted(e) {
              if (!e.error) {
                scheduleController.setCurrentRepresentation(adapter.convertRepresentationToRepresentationInfo(e.currentRepresentation));
                if (!bufferController.getIsBufferingCompleted()) {
                  bufferController.updateBufferTimestampOffset(e.currentRepresentation);
                }
              }
            }
            function _onBufferLevelStateChanged(e) {
              dashMetrics.addBufferState(type, e.state, scheduleController.getBufferTarget());
              if (e.state === _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_2__["default"].BUFFER_EMPTY && !playbackController.isSeeking()) {
                logger.info("Buffer is empty! Stalling!");
                dashMetrics.pushPlayListTraceMetrics(new Date(), _vo_metrics_PlayList__WEBPACK_IMPORTED_MODULE_19__["PlayListTrace"].REBUFFERING_REASON);
              }
            }
            function _onBufferCleared(e) {
              fragmentModel.syncExecutedRequestsWithBufferedRange(bufferController.getBuffer().getAllBufferRanges(), streamInfo.duration);
              if (e.quotaExceeded && e.from > playbackController.getTime()) {
                setExplicitBufferingTime(e.from);
              }
              if (e.hasEnoughSpaceToAppend && e.quotaExceeded) {
                scheduleController.startScheduleTimer();
              }
            }
            function _onSourceBufferError(e) {
              if (!e || !e.lastRequestAppended || !e.lastRequestAppended.url) {
                return;
              }
              var blacklistUrl = e.lastRequestAppended.url;
              if (e.lastRequestAppended.range) {
                blacklistUrl = blacklistUrl.concat("_", e.lastRequestAppended.range);
              }
              logger.warn("Blacklisting segment with url ".concat(blacklistUrl));
              segmentBlacklistController.add(blacklistUrl);
            }
            function prepareQualityChange(e) {
              logger.debug("Preparing quality switch for type ".concat(type));
              var newQuality = e.newQuality;
              qualityChangeInProgress = true;
              scheduleController.clearScheduleTimer();
              var representationInfo = getRepresentationInfo(newQuality);
              scheduleController.setCurrentRepresentation(representationInfo);
              representationController.prepareQualityChange(newQuality);
              fragmentModel.abortRequests();
              bufferController.updateBufferTimestampOffset(representationInfo).then(function() {
                if (e.reason && e.reason.forceReplace) {
                  _prepareReplacementQualitySwitch();
                } else if (settings.get().streaming.buffer.fastSwitchEnabled) {
                  _prepareForFastQualitySwitch(representationInfo);
                } else {
                  _prepareForDefaultQualitySwitch();
                }
                dashMetrics.pushPlayListTraceMetrics(new Date(), _vo_metrics_PlayList__WEBPACK_IMPORTED_MODULE_19__["PlayListTrace"].REPRESENTATION_SWITCH_STOP_REASON);
                dashMetrics.createPlaylistTraceMetrics(representationInfo.id, playbackController.getTime() * 1e3, playbackController.getPlaybackRate());
              });
            }
            function _prepareReplacementQualitySwitch() {
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].BUFFER_REPLACEMENT_STARTED, {
                mediaType: type,
                streamId: streamInfo.id
              }, {
                mediaType: type,
                streamId: streamInfo.id
              });
              bufferController.prepareForReplacementQualitySwitch().then(function() {
                _bufferClearedForReplacement();
                qualityChangeInProgress = false;
              })["catch"](function() {
                _bufferClearedForReplacement();
                qualityChangeInProgress = false;
              });
            }
            function _prepareForFastQualitySwitch(representationInfo) {
              var time = playbackController.getTime();
              var safeBufferLevel = 1.5;
              var request = fragmentModel.getRequests({
                state: _models_FragmentModel__WEBPACK_IMPORTED_MODULE_3__["default"].FRAGMENT_MODEL_EXECUTED,
                time: time + safeBufferLevel,
                threshold: 0
              })[0];
              if (request && !getIsTextTrack()) {
                var bufferLevel = bufferController.getBufferLevel();
                var abandonmentState = abrController.getAbandonmentStateFor(streamInfo.id, type);
                if (request.quality < representationInfo.quality && bufferLevel >= safeBufferLevel && abandonmentState !== _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_2__["default"].ABANDON_LOAD) {
                  var targetTime = time + safeBufferLevel;
                  setExplicitBufferingTime(targetTime);
                  scheduleController.setCheckPlaybackQuality(false);
                  scheduleController.startScheduleTimer();
                } else {
                  _prepareForDefaultQualitySwitch();
                }
              } else {
                scheduleController.startScheduleTimer();
              }
              qualityChangeInProgress = false;
            }
            function _prepareForDefaultQualitySwitch() {
              _bufferClearedForNonReplacement();
              qualityChangeInProgress = false;
            }
            function _onFragmentLoadingAbandoned(e) {
              logger.info("onFragmentLoadingAbandoned request: " + e.request.url + " has been aborted");
              if (!playbackController.isSeeking() && !scheduleController.getSwitchStrack() && !qualityChangeInProgress) {
                logger.info("onFragmentLoadingAbandoned request: " + e.request.url + " has to be downloaded again, origin is not seeking process or switch track call");
                if (e.request && e.request.isInitializationRequest()) {
                  scheduleController.setInitSegmentRequired(true);
                } else {
                  setExplicitBufferingTime(e.request.startTime + e.request.duration / 2);
                }
                scheduleController.startScheduleTimer(0);
              }
            }
            function _onFragmentLoadingCompleted(e) {
              logger.info("OnFragmentLoadingCompleted for stream id " + streamInfo.id + " and media type " + type + " - Url:", e.request ? e.request.url : "undefined", e.request.range ? ", Range:" + e.request.range : "");
              if (getIsTextTrack()) {
                scheduleController.startScheduleTimer(0);
              }
              if (e.error && e.request.serviceLocation) {
                _handleFragmentLoadingError(e);
              }
            }
            function _handleFragmentLoadingError(e) {
              logger.info("Fragment loading completed with an error");
              if (!e || !e.request || !e.request.type) {
                return;
              }
              if (e.request.type === _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_21__["HTTPRequest"].INIT_SEGMENT_TYPE) {
                _onInitFragmentNeeded({
                  representationId: e.request.representationId,
                  sender: {}
                }, false);
              } else if (e.request.type === _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_21__["HTTPRequest"].MEDIA_SEGMENT_TYPE) {
                setExplicitBufferingTime(e.request.startTime + e.request.duration / 2);
                _onMediaFragmentNeeded({}, false);
              }
            }
            function _onSetFragmentedTextAfterDisabled() {
              setExplicitBufferingTime(playbackController.getTime());
              getScheduleController().startScheduleTimer();
            }
            function _onSetNonFragmentedText(e) {
              var currentTrackInfo = e.currentTrackInfo;
              if (!currentTrackInfo) {
                return;
              }
              var mInfo = mediaInfoArr.find(function(info) {
                return info.index === currentTrackInfo.index && info.lang === currentTrackInfo.lang;
              });
              if (mInfo) {
                selectMediaInfo(mInfo).then(function() {
                  bufferController.setIsBufferingCompleted(false);
                  setExplicitBufferingTime(playbackController.getTime());
                  scheduleController.setInitSegmentRequired(true);
                  scheduleController.startScheduleTimer();
                });
              }
            }
            function _onQuotaExceeded(e) {
              setExplicitBufferingTime(e.quotaExceededTime);
              scheduleController.clearScheduleTimer();
            }
            function getRepresentationController() {
              return representationController;
            }
            function getBuffer() {
              return bufferController ? bufferController.getBuffer() : null;
            }
            function getBufferController() {
              return bufferController;
            }
            function getFragmentModel() {
              return fragmentModel;
            }
            function updateStreamInfo(newStreamInfo) {
              streamInfo = newStreamInfo;
              if (!isBufferingCompleted()) {
                return bufferController.updateAppendWindow();
              }
              return Promise.resolve();
            }
            function getStreamInfo() {
              return streamInfo;
            }
            function selectMediaInfo(newMediaInfo) {
              if (newMediaInfo !== mediaInfo && (!newMediaInfo || !mediaInfo || newMediaInfo.type === mediaInfo.type)) {
                mediaInfo = newMediaInfo;
              }
              var newRealAdaptation = adapter.getRealAdaptation(streamInfo, mediaInfo);
              var voRepresentations = adapter.getVoRepresentations(mediaInfo);
              if (representationController) {
                var realAdaptation = representationController.getData();
                var maxQuality = abrController.getMaxAllowedIndexFor(type, streamInfo.id);
                var minIdx = abrController.getMinAllowedIndexFor(type, streamInfo.id);
                var quality, averageThroughput;
                var bitrate = null;
                if ((realAdaptation === null || realAdaptation.id !== newRealAdaptation.id) && type !== _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT) {
                  averageThroughput = abrController.getThroughputHistory().getAverageThroughput(type);
                  bitrate = averageThroughput || abrController.getInitialBitrateFor(type, streamInfo.id);
                  quality = abrController.getQualityForBitrate(mediaInfo, bitrate, streamInfo.id);
                } else {
                  quality = abrController.getQualityFor(type, streamInfo.id);
                }
                if (minIdx !== void 0 && quality < minIdx) {
                  quality = minIdx;
                }
                if (quality > maxQuality) {
                  quality = maxQuality;
                }
                return representationController.updateData(newRealAdaptation, voRepresentations, type, mediaInfo.isFragmented, quality);
              } else {
                return Promise.resolve();
              }
            }
            function addMediaInfo(newMediaInfo) {
              if (mediaInfoArr.indexOf(newMediaInfo) === -1) {
                mediaInfoArr.push(newMediaInfo);
              }
            }
            function clearMediaInfoArray() {
              mediaInfoArr = [];
            }
            function getMediaInfo() {
              return mediaInfo;
            }
            function getMediaSource() {
              return bufferController.getMediaSource();
            }
            function setMediaSource(mediaSource) {
              bufferController.setMediaSource(mediaSource);
            }
            function getScheduleController() {
              return scheduleController;
            }
            function getRepresentationInfo(quality) {
              var voRepresentation;
              if (quality !== void 0) {
                Object(_utils_SupervisorTools__WEBPACK_IMPORTED_MODULE_9__["checkInteger"])(quality);
                voRepresentation = representationController ? representationController.getRepresentationForQuality(quality) : null;
              } else {
                voRepresentation = representationController ? representationController.getCurrentRepresentation() : null;
              }
              return adapter.convertRepresentationToRepresentationInfo(voRepresentation);
            }
            function isBufferingCompleted() {
              return bufferController ? bufferController.getIsBufferingCompleted() : false;
            }
            function getBufferLevel() {
              return bufferController ? bufferController.getBufferLevel() : 0;
            }
            function probeNextRequest() {
              var representationInfo = getRepresentationInfo();
              var representation = representationController && representationInfo ? representationController.getRepresentationForQuality(representationInfo.quality) : null;
              var request = dashHandler.getNextSegmentRequestIdempotent(mediaInfo, representation);
              return request;
            }
            function _onMediaFragmentLoaded(e) {
              var chunk = e.chunk;
              var bytes = chunk.bytes;
              var quality = chunk.quality;
              var currentRepresentation = getRepresentationInfo(quality);
              var voRepresentation = representationController && currentRepresentation ? representationController.getRepresentationForQuality(currentRepresentation.quality) : null;
              if (currentRepresentation && voRepresentation) {
                var eventStreamMedia = adapter.getEventsFor(currentRepresentation.mediaInfo);
                var eventStreamTrack = adapter.getEventsFor(currentRepresentation, voRepresentation);
                if (eventStreamMedia && eventStreamMedia.length > 0 || eventStreamTrack && eventStreamTrack.length > 0) {
                  var request = fragmentModel.getRequests({
                    state: _models_FragmentModel__WEBPACK_IMPORTED_MODULE_3__["default"].FRAGMENT_MODEL_EXECUTED,
                    quality,
                    index: chunk.index
                  })[0];
                  var events = _handleInbandEvents(bytes, request, eventStreamMedia, eventStreamTrack);
                  eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].INBAND_EVENTS, {
                    events
                  }, {
                    streamId: streamInfo.id
                  });
                }
              }
            }
            function _handleInbandEvents(data, request, mediaInbandEvents, trackInbandEvents) {
              try {
                var eventStreams = {};
                var events = [];
                var inbandEvents = mediaInbandEvents.concat(trackInbandEvents);
                for (var i3 = 0, ln = inbandEvents.length; i3 < ln; i3++) {
                  eventStreams[inbandEvents[i3].schemeIdUri + "/" + inbandEvents[i3].value] = inbandEvents[i3];
                }
                var isoFile = Object(_utils_BoxParser__WEBPACK_IMPORTED_MODULE_18__["default"])(context).getInstance().parse(data);
                var eventBoxes = isoFile.getBoxes("emsg");
                if (!eventBoxes || eventBoxes.length === 0) {
                  return events;
                }
                var sidx = isoFile.getBox("sidx");
                var mediaAnchorTime = sidx && !isNaN(sidx.earliest_presentation_time) && !isNaN(sidx.timescale) ? sidx.earliest_presentation_time / sidx.timescale : request && !isNaN(request.mediaStartTime) ? request.mediaStartTime : 0;
                var fragmentMediaStartTime = Math.max(mediaAnchorTime, 0);
                var voRepresentation = representationController.getCurrentRepresentation();
                for (var _i = 0, _ln = eventBoxes.length; _i < _ln; _i++) {
                  var event = adapter.getEvent(eventBoxes[_i], eventStreams, fragmentMediaStartTime, voRepresentation);
                  if (event) {
                    events.push(event);
                  }
                }
                return events;
              } catch (e) {
                return [];
              }
            }
            function createBufferSinks(previousBufferSinks) {
              var buffer = getBuffer();
              if (buffer) {
                return Promise.resolve(buffer);
              }
              return bufferController ? bufferController.createBufferSink(mediaInfo, previousBufferSinks) : Promise.resolve(null);
            }
            function prepareTrackSwitch() {
              return new Promise(function(resolve2) {
                logger.debug("Preparing track switch for type ".concat(type));
                var shouldReplace = type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT || settings.get().streaming.trackSwitchMode[type] === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TRACK_SWITCH_MODE_ALWAYS_REPLACE && playbackController.getTimeToStreamEnd(streamInfo) > settings.get().streaming.buffer.stallThreshold;
                if (bufferController.getIsBufferingCompleted() && !shouldReplace) {
                  bufferController.prepareForNonReplacementTrackSwitch(mediaInfo.codec).then(function() {
                    eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].BUFFERING_COMPLETED, {}, {
                      streamId: streamInfo.id,
                      mediaType: type
                    });
                  })["catch"](function() {
                    eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].BUFFERING_COMPLETED, {}, {
                      streamId: streamInfo.id,
                      mediaType: type
                    });
                  });
                  resolve2();
                  return;
                }
                scheduleController.clearScheduleTimer();
                scheduleController.setSwitchTrack(true);
                if (shouldReplace) {
                  eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].BUFFER_REPLACEMENT_STARTED, {
                    mediaType: type,
                    streamId: streamInfo.id
                  }, {
                    mediaType: type,
                    streamId: streamInfo.id
                  });
                  fragmentModel.abortRequests();
                  bufferController.prepareForReplacementTrackSwitch(mediaInfo.codec).then(function() {
                    var representationInfo = getRepresentationInfo();
                    return bufferController.updateBufferTimestampOffset(representationInfo);
                  }).then(function() {
                    _bufferClearedForReplacement();
                    resolve2();
                  })["catch"](function() {
                    _bufferClearedForReplacement();
                    resolve2();
                  });
                } else {
                  bufferController.prepareForNonReplacementTrackSwitch(mediaInfo.codec).then(function() {
                    _bufferClearedForNonReplacement();
                    resolve2();
                  })["catch"](function() {
                    _bufferClearedForNonReplacement();
                    resolve2();
                  });
                }
              });
            }
            function _bufferClearedForReplacement() {
              var targetTime = playbackController.getTime();
              if (settings.get().streaming.buffer.flushBufferAtTrackSwitch) {
                playbackController.seek(targetTime + 1e-3, false, true);
              }
              setExplicitBufferingTime(targetTime);
              bufferController.setSeekTarget(targetTime);
              scheduleController.startScheduleTimer();
            }
            function _bufferClearedForNonReplacement() {
              var time = playbackController.getTime();
              var targetTime = bufferController.getContinuousBufferTimeForTargetTime(time);
              setExplicitBufferingTime(targetTime);
              scheduleController.startScheduleTimer();
            }
            function _createBufferControllerForType(type2, isFragmented) {
              var controller = null;
              if (!type2) {
                errHandler.error(new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_14__["default"](_core_errors_Errors__WEBPACK_IMPORTED_MODULE_13__["default"].MEDIASOURCE_TYPE_UNSUPPORTED_CODE, _core_errors_Errors__WEBPACK_IMPORTED_MODULE_13__["default"].MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE + "not properly defined"));
                return null;
              }
              if (type2 === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT && !isFragmented) {
                controller = Object(_text_NotFragmentedTextBufferController__WEBPACK_IMPORTED_MODULE_5__["default"])(context).create({
                  streamInfo,
                  type: type2,
                  mimeType,
                  fragmentModel,
                  textController,
                  errHandler,
                  settings
                });
              } else {
                controller = Object(_controllers_BufferController__WEBPACK_IMPORTED_MODULE_4__["default"])(context).create({
                  streamInfo,
                  type: type2,
                  mediaPlayerModel,
                  manifestModel,
                  fragmentModel,
                  errHandler,
                  mediaController,
                  representationController,
                  adapter,
                  textController,
                  abrController,
                  playbackController,
                  settings
                });
              }
              return controller;
            }
            function _onSeekTarget(e) {
              if (e && e.time) {
                setExplicitBufferingTime(e.time);
                bufferController.setSeekTarget(e.time);
              }
            }
            function setExplicitBufferingTime(value) {
              bufferingTime = value;
              shouldUseExplicitTimeForRequest = true;
            }
            function finalisePlayList(time, reason) {
              dashMetrics.pushPlayListTraceMetrics(time, reason);
            }
            instance = {
              initialize,
              getStreamId,
              getType,
              isUpdating,
              getBufferController,
              getFragmentModel,
              getScheduleController,
              getRepresentationController,
              getRepresentationInfo,
              getBufferLevel,
              isBufferingCompleted,
              createBufferSinks,
              updateStreamInfo,
              getStreamInfo,
              selectMediaInfo,
              clearMediaInfoArray,
              addMediaInfo,
              prepareTrackSwitch,
              prepareQualityChange,
              getMediaInfo,
              getMediaSource,
              setMediaSource,
              getBuffer,
              setExplicitBufferingTime,
              finalisePlayList,
              probeNextRequest,
              prepareInnerPeriodPlaybackSeeking,
              prepareOuterPeriodPlaybackSeeking,
              reset
            };
            setup();
            return instance;
          }
          StreamProcessor.__dashjs_factory_name = "StreamProcessor";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_8__["default"].getClassFactory(StreamProcessor);
        },
        "./src/streaming/XlinkLoader.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _vo_DashJSError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/vo/DashJSError.js");
          var _net_URLLoader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/net/URLLoader.js");
          var _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/vo/metrics/HTTPRequest.js");
          var _vo_TextRequest__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/vo/TextRequest.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/core/events/Events.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_errors_Errors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/core/errors/Errors.js");
          function XlinkLoader(config) {
            config = config || {};
            var RESOLVE_TO_ZERO = "urn:mpeg:dash:resolve-to-zero:2013";
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_4__["default"])(context).getInstance();
            var urlLoader = Object(_net_URLLoader__WEBPACK_IMPORTED_MODULE_1__["default"])(context).create({
              errHandler: config.errHandler,
              dashMetrics: config.dashMetrics,
              mediaPlayerModel: config.mediaPlayerModel,
              requestModifier: config.requestModifier,
              errors: _core_errors_Errors__WEBPACK_IMPORTED_MODULE_7__["default"]
            });
            var instance;
            function load(url, element, resolveObject) {
              var report = function report2(content, resolveToZero) {
                element.resolved = true;
                element.resolvedContent = content ? content : null;
                eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].XLINK_ELEMENT_LOADED, {
                  element,
                  resolveObject,
                  error: content || resolveToZero ? null : new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_0__["default"](_core_errors_Errors__WEBPACK_IMPORTED_MODULE_7__["default"].XLINK_LOADER_LOADING_FAILURE_ERROR_CODE, _core_errors_Errors__WEBPACK_IMPORTED_MODULE_7__["default"].XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE + url)
                });
              };
              if (url === RESOLVE_TO_ZERO) {
                report(null, true);
              } else {
                var request = new _vo_TextRequest__WEBPACK_IMPORTED_MODULE_3__["default"](url, _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_2__["HTTPRequest"].XLINK_EXPANSION_TYPE);
                urlLoader.load({
                  request,
                  success: function success(data) {
                    report(data);
                  },
                  error: function error() {
                    report(null);
                  }
                });
              }
            }
            function reset() {
              if (urlLoader) {
                urlLoader.abort();
                urlLoader = null;
              }
            }
            instance = {
              load,
              reset
            };
            return instance;
          }
          XlinkLoader.__dashjs_factory_name = "XlinkLoader";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_6__["default"].getClassFactory(XlinkLoader);
        },
        "./src/streaming/constants/ConformanceViolationConstants.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          __webpack_exports__["default"] = {
            LEVELS: {
              SUGGESTION: "Suggestion",
              WARNING: "Warning",
              ERROR: "Error"
            },
            EVENTS: {
              NO_UTC_TIMING_ELEMENT: {
                key: "NO_UTC_TIMING_ELEMENT",
                message: "No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"
              },
              NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE: {
                key: "NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",
                message: 'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'
              },
              INVALID_DVR_WINDOW: {
                key: "INVALID_DVR_WINDOW",
                message: "No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."
              }
            }
          };
        },
        "./src/streaming/constants/Constants.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties3(target, props) {
            for (var i3 = 0; i3 < props.length; i3++) {
              var descriptor = props[i3];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass3(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties3(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties3(Constructor, staticProps);
            return Constructor;
          }
          var Constants = /* @__PURE__ */ function() {
            function Constants2() {
              _classCallCheck2(this, Constants2);
              this.init();
            }
            _createClass3(Constants2, [{
              key: "init",
              value: function init() {
                this.STREAM = "stream";
                this.VIDEO = "video";
                this.AUDIO = "audio";
                this.TEXT = "text";
                this.MUXED = "muxed";
                this.IMAGE = "image";
                this.STPP = "stpp";
                this.TTML = "ttml";
                this.VTT = "vtt";
                this.WVTT = "wvtt";
                this.ABR_STRATEGY_DYNAMIC = "abrDynamic";
                this.ABR_STRATEGY_BOLA = "abrBola";
                this.ABR_STRATEGY_L2A = "abrL2A";
                this.ABR_STRATEGY_LoLP = "abrLoLP";
                this.ABR_STRATEGY_THROUGHPUT = "abrThroughput";
                this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA = "abrFetchThroughputCalculationDownloadedData";
                this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING = "abrFetchThroughputCalculationMoofParsing";
                this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST = "abrFetchThroughputCalculationAAST";
                this.LIVE_CATCHUP_MODE_DEFAULT = "liveCatchupModeDefault";
                this.LIVE_CATCHUP_MODE_LOLP = "liveCatchupModeLoLP";
                this.MOVING_AVERAGE_SLIDING_WINDOW = "slidingWindow";
                this.MOVING_AVERAGE_EWMA = "ewma";
                this.BAD_ARGUMENT_ERROR = "Invalid Arguments";
                this.MISSING_CONFIG_ERROR = "Missing config parameter(s)";
                this.TRACK_SWITCH_MODE_ALWAYS_REPLACE = "alwaysReplace";
                this.TRACK_SWITCH_MODE_NEVER_REPLACE = "neverReplace";
                this.TRACK_SELECTION_MODE_FIRST_TRACK = "firstTrack";
                this.TRACK_SELECTION_MODE_HIGHEST_BITRATE = "highestBitrate";
                this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY = "highestEfficiency";
                this.TRACK_SELECTION_MODE_WIDEST_RANGE = "widestRange";
                this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY = "highestSelectionPriority";
                this.CMCD_MODE_QUERY = "query";
                this.CMCD_MODE_HEADER = "header";
                this.LOCATION = "Location";
                this.INITIALIZE = "initialize";
                this.TEXT_SHOWING = "showing";
                this.TEXT_HIDDEN = "hidden";
                this.CC1 = "CC1";
                this.CC3 = "CC3";
                this.UTF8 = "utf-8";
                this.SCHEME_ID_URI = "schemeIdUri";
                this.START_TIME = "starttime";
                this.SERVICE_DESCRIPTION_LL_SCHEME = "urn:dvb:dash:lowlatency:scope:2019";
                this.SUPPLEMENTAL_PROPERTY_LL_SCHEME = "urn:dvb:dash:lowlatency:critical:2019";
                this.XML = "XML";
                this.ARRAY_BUFFER = "ArrayBuffer";
                this.DVB_REPORTING_URL = "dvb:reportingUrl";
                this.DVB_PROBABILITY = "dvb:probability";
                this.VIDEO_ELEMENT_READY_STATES = {
                  HAVE_NOTHING: 0,
                  HAVE_METADATA: 1,
                  HAVE_CURRENT_DATA: 2,
                  HAVE_FUTURE_DATA: 3,
                  HAVE_ENOUGH_DATA: 4
                };
              }
            }]);
            return Constants2;
          }();
          var constants = new Constants();
          __webpack_exports__["default"] = constants;
        },
        "./src/streaming/constants/MetricsConstants.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties3(target, props) {
            for (var i3 = 0; i3 < props.length; i3++) {
              var descriptor = props[i3];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass3(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties3(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties3(Constructor, staticProps);
            return Constructor;
          }
          var MetricsConstants = /* @__PURE__ */ function() {
            function MetricsConstants2() {
              _classCallCheck2(this, MetricsConstants2);
              this.init();
            }
            _createClass3(MetricsConstants2, [{
              key: "init",
              value: function init() {
                this.TCP_CONNECTION = "TcpList";
                this.HTTP_REQUEST = "HttpList";
                this.TRACK_SWITCH = "RepSwitchList";
                this.BUFFER_LEVEL = "BufferLevel";
                this.BUFFER_LOADED = "bufferLoaded";
                this.ABANDON_LOAD = "abandonload";
                this.ALLOW_LOAD = "allowload";
                this.BUFFER_EMPTY = "bufferStalled";
                this.BUFFER_STATE = "BufferState";
                this.DVR_INFO = "DVRInfo";
                this.DROPPED_FRAMES = "DroppedFrames";
                this.SCHEDULING_INFO = "SchedulingInfo";
                this.REQUESTS_QUEUE = "RequestsQueue";
                this.MANIFEST_UPDATE = "ManifestUpdate";
                this.MANIFEST_UPDATE_STREAM_INFO = "ManifestUpdatePeriodInfo";
                this.MANIFEST_UPDATE_TRACK_INFO = "ManifestUpdateRepresentationInfo";
                this.PLAY_LIST = "PlayList";
                this.DVB_ERRORS = "DVBErrors";
              }
            }]);
            return MetricsConstants2;
          }();
          var constants = new MetricsConstants();
          __webpack_exports__["default"] = constants;
        },
        "./src/streaming/constants/ProtectionConstants.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties3(target, props) {
            for (var i3 = 0; i3 < props.length; i3++) {
              var descriptor = props[i3];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass3(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties3(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties3(Constructor, staticProps);
            return Constructor;
          }
          var ProtectionConstants = /* @__PURE__ */ function() {
            function ProtectionConstants2() {
              _classCallCheck2(this, ProtectionConstants2);
              this.init();
            }
            _createClass3(ProtectionConstants2, [{
              key: "init",
              value: function init() {
                this.CLEARKEY_KEYSTEM_STRING = "org.w3.clearkey";
                this.WIDEVINE_KEYSTEM_STRING = "com.widevine.alpha";
                this.PLAYREADY_KEYSTEM_STRING = "com.microsoft.playready";
              }
            }]);
            return ProtectionConstants2;
          }();
          var constants = new ProtectionConstants();
          __webpack_exports__["default"] = constants;
        },
        "./src/streaming/controllers/AbrController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _rules_abr_ABRRulesCollection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/rules/abr/ABRRulesCollection.js");
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/constants/MetricsConstants.js");
          var _vo_BitrateInfo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/vo/BitrateInfo.js");
          var _models_FragmentModel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/models/FragmentModel.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/core/events/Events.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _rules_RulesContext__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/streaming/rules/RulesContext.js");
          var _rules_SwitchRequest__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/streaming/rules/SwitchRequest.js");
          var _rules_SwitchRequestHistory__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/streaming/rules/SwitchRequestHistory.js");
          var _rules_DroppedFramesHistory__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/streaming/rules/DroppedFramesHistory.js");
          var _rules_ThroughputHistory__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/streaming/rules/ThroughputHistory.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/core/Debug.js");
          var _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/streaming/vo/metrics/HTTPRequest.js");
          var _utils_SupervisorTools__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/streaming/utils/SupervisorTools.js");
          var _MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/streaming/MediaPlayerEvents.js");
          var DEFAULT_VIDEO_BITRATE = 1e3;
          var DEFAULT_AUDIO_BITRATE = 100;
          var QUALITY_DEFAULT = 0;
          function AbrController() {
            var context = this.context;
            var debug = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_13__["default"])(context).getInstance();
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_5__["default"])(context).getInstance();
            var instance, logger, abrRulesCollection, streamController, topQualities, qualityDict, streamProcessorDict, abandonmentStateDict, abandonmentTimeout, windowResizeEventCalled, elementWidth, elementHeight, adapter, videoModel, mediaPlayerModel, domStorage, playbackIndex, switchHistoryDict, droppedFramesHistory, throughputHistory, isUsingBufferOccupancyAbrDict, isUsingL2AAbrDict, isUsingLoLPAbrDict, dashMetrics, settings;
            function setup() {
              logger = debug.getLogger(instance);
              resetInitialSettings();
            }
            function initialize() {
              droppedFramesHistory = Object(_rules_DroppedFramesHistory__WEBPACK_IMPORTED_MODULE_11__["default"])(context).create();
              throughputHistory = Object(_rules_ThroughputHistory__WEBPACK_IMPORTED_MODULE_12__["default"])(context).create({
                settings
              });
              abrRulesCollection = Object(_rules_abr_ABRRulesCollection__WEBPACK_IMPORTED_MODULE_0__["default"])(context).create({
                dashMetrics,
                mediaPlayerModel,
                settings
              });
              abrRulesCollection.initialize();
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_16__["default"].QUALITY_CHANGE_RENDERED, _onQualityChangeRendered, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_16__["default"].METRIC_ADDED, _onMetricAdded, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].LOADING_PROGRESS, _onFragmentLoadProgress, instance);
            }
            function registerStreamType(type, streamProcessor) {
              var streamId = streamProcessor.getStreamInfo().id;
              if (!streamProcessorDict[streamId]) {
                streamProcessorDict[streamId] = {};
              }
              if (!switchHistoryDict[streamId]) {
                switchHistoryDict[streamId] = {};
              }
              if (!abandonmentStateDict[streamId]) {
                abandonmentStateDict[streamId] = {};
              }
              switchHistoryDict[streamId][type] = Object(_rules_SwitchRequestHistory__WEBPACK_IMPORTED_MODULE_10__["default"])(context).create();
              streamProcessorDict[streamId][type] = streamProcessor;
              abandonmentStateDict[streamId][type] = {};
              abandonmentStateDict[streamId][type].state = _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_2__["default"].ALLOW_LOAD;
              _initializeAbrStrategy(type);
              if (type === _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].VIDEO) {
                setElementSize();
              }
            }
            function _initializeAbrStrategy(type) {
              var strategy = settings.get().streaming.abr.ABRStrategy;
              if (strategy === _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].ABR_STRATEGY_L2A) {
                isUsingBufferOccupancyAbrDict[type] = false;
                isUsingLoLPAbrDict[type] = false;
                isUsingL2AAbrDict[type] = true;
              } else if (strategy === _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].ABR_STRATEGY_LoLP) {
                isUsingBufferOccupancyAbrDict[type] = false;
                isUsingLoLPAbrDict[type] = true;
                isUsingL2AAbrDict[type] = false;
              } else if (strategy === _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].ABR_STRATEGY_BOLA) {
                isUsingBufferOccupancyAbrDict[type] = true;
                isUsingLoLPAbrDict[type] = false;
                isUsingL2AAbrDict[type] = false;
              } else if (strategy === _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].ABR_STRATEGY_THROUGHPUT) {
                isUsingBufferOccupancyAbrDict[type] = false;
                isUsingLoLPAbrDict[type] = false;
                isUsingL2AAbrDict[type] = false;
              } else if (strategy === _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].ABR_STRATEGY_DYNAMIC) {
                isUsingBufferOccupancyAbrDict[type] = isUsingBufferOccupancyAbrDict && isUsingBufferOccupancyAbrDict[type] ? isUsingBufferOccupancyAbrDict[type] : false;
                isUsingLoLPAbrDict[type] = false;
                isUsingL2AAbrDict[type] = false;
              }
            }
            function unRegisterStreamType(streamId, type) {
              try {
                if (streamProcessorDict[streamId] && streamProcessorDict[streamId][type]) {
                  delete streamProcessorDict[streamId][type];
                }
                if (switchHistoryDict[streamId] && switchHistoryDict[streamId][type]) {
                  delete switchHistoryDict[streamId][type];
                }
                if (abandonmentStateDict[streamId] && abandonmentStateDict[streamId][type]) {
                  delete abandonmentStateDict[streamId][type];
                }
              } catch (e) {
              }
            }
            function resetInitialSettings() {
              topQualities = {};
              qualityDict = {};
              abandonmentStateDict = {};
              streamProcessorDict = {};
              switchHistoryDict = {};
              isUsingBufferOccupancyAbrDict = {};
              isUsingL2AAbrDict = {};
              isUsingLoLPAbrDict = {};
              if (windowResizeEventCalled === void 0) {
                windowResizeEventCalled = false;
              }
              if (droppedFramesHistory) {
                droppedFramesHistory.reset();
              }
              playbackIndex = void 0;
              droppedFramesHistory = void 0;
              throughputHistory = void 0;
              clearTimeout(abandonmentTimeout);
              abandonmentTimeout = null;
            }
            function reset() {
              resetInitialSettings();
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].LOADING_PROGRESS, _onFragmentLoadProgress, instance);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_16__["default"].QUALITY_CHANGE_RENDERED, _onQualityChangeRendered, instance);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_16__["default"].METRIC_ADDED, _onMetricAdded, instance);
              if (abrRulesCollection) {
                abrRulesCollection.reset();
              }
            }
            function setConfig(config) {
              if (!config)
                return;
              if (config.streamController) {
                streamController = config.streamController;
              }
              if (config.domStorage) {
                domStorage = config.domStorage;
              }
              if (config.mediaPlayerModel) {
                mediaPlayerModel = config.mediaPlayerModel;
              }
              if (config.dashMetrics) {
                dashMetrics = config.dashMetrics;
              }
              if (config.adapter) {
                adapter = config.adapter;
              }
              if (config.videoModel) {
                videoModel = config.videoModel;
              }
              if (config.settings) {
                settings = config.settings;
              }
            }
            function checkConfig() {
              if (!domStorage || !domStorage.hasOwnProperty("getSavedBitrateSettings")) {
                throw new Error(_constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].MISSING_CONFIG_ERROR);
              }
            }
            function _onFragmentLoadProgress(e) {
              var type = e.request.mediaType;
              var streamId = e.streamId;
              if (!type || !streamId || !streamProcessorDict[streamId] || !settings.get().streaming.abr.autoSwitchBitrate[type]) {
                return;
              }
              var streamProcessor = streamProcessorDict[streamId][type];
              if (!streamProcessor) {
                return;
              }
              var rulesContext = Object(_rules_RulesContext__WEBPACK_IMPORTED_MODULE_8__["default"])(context).create({
                abrController: instance,
                streamProcessor,
                currentRequest: e.request,
                useBufferOccupancyABR: isUsingBufferOccupancyAbrDict[type],
                useL2AABR: isUsingL2AAbrDict[type],
                useLoLPABR: isUsingLoLPAbrDict[type],
                videoModel
              });
              var switchRequest = abrRulesCollection.shouldAbandonFragment(rulesContext, streamId);
              if (switchRequest.quality > _rules_SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"].NO_CHANGE) {
                var fragmentModel = streamProcessor.getFragmentModel();
                var request = fragmentModel.getRequests({
                  state: _models_FragmentModel__WEBPACK_IMPORTED_MODULE_4__["default"].FRAGMENT_MODEL_LOADING,
                  index: e.request.index
                })[0];
                if (request) {
                  fragmentModel.abortRequests();
                  abandonmentStateDict[streamId][type].state = _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_2__["default"].ABANDON_LOAD;
                  switchHistoryDict[streamId][type].reset();
                  switchHistoryDict[streamId][type].push({
                    oldValue: getQualityFor(type, streamId),
                    newValue: switchRequest.quality,
                    confidence: 1,
                    reason: switchRequest.reason
                  });
                  setPlaybackQuality(type, streamController.getActiveStreamInfo(), switchRequest.quality, switchRequest.reason);
                  clearTimeout(abandonmentTimeout);
                  abandonmentTimeout = setTimeout(function() {
                    abandonmentStateDict[streamId][type].state = _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_2__["default"].ALLOW_LOAD;
                    abandonmentTimeout = null;
                  }, settings.get().streaming.abandonLoadTimeout);
                }
              }
            }
            function _onQualityChangeRendered(e) {
              if (e.mediaType === _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].VIDEO) {
                if (playbackIndex !== void 0) {
                  droppedFramesHistory.push(e.streamId, playbackIndex, videoModel.getPlaybackQuality());
                }
                playbackIndex = e.newQuality;
              }
            }
            function _onMetricAdded(e) {
              if (e.metric === _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_2__["default"].HTTP_REQUEST && e.value && e.value.type === _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_14__["HTTPRequest"].MEDIA_SEGMENT_TYPE && (e.mediaType === _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].AUDIO || e.mediaType === _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].VIDEO)) {
                throughputHistory.push(e.mediaType, e.value, settings.get().streaming.abr.useDeadTimeLatency);
              }
              if (e.metric === _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_2__["default"].BUFFER_LEVEL && (e.mediaType === _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].AUDIO || e.mediaType === _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].VIDEO)) {
                _updateAbrStrategy(e.mediaType, 1e-3 * e.value.level);
              }
            }
            function getMaxAllowedIndexFor(type, streamId) {
              try {
                var idx;
                topQualities[streamId] = topQualities[streamId] || {};
                if (!topQualities[streamId].hasOwnProperty(type)) {
                  topQualities[streamId][type] = 0;
                }
                idx = _checkMaxBitrate(type, streamId);
                idx = _checkMaxRepresentationRatio(idx, type, streamId);
                idx = _checkPortalSize(idx, type, streamId);
                return idx;
              } catch (e) {
                return void 0;
              }
            }
            function getMinAllowedIndexFor(type, streamId) {
              try {
                return _getMinIndexBasedOnBitrateFor(type, streamId);
              } catch (e) {
                return void 0;
              }
            }
            function _getMaxIndexBasedOnBitrateFor(type, streamId) {
              try {
                var maxBitrate = settings.get().streaming.abr.maxBitrate[type];
                if (maxBitrate > -1) {
                  return getQualityForBitrate(streamProcessorDict[streamId][type].getMediaInfo(), maxBitrate, streamId);
                } else {
                  return void 0;
                }
              } catch (e) {
                return void 0;
              }
            }
            function _getMinIndexBasedOnBitrateFor(type, streamId) {
              try {
                var minBitrate = settings.get().streaming.abr.minBitrate[type];
                if (minBitrate > -1) {
                  var mediaInfo = streamProcessorDict[streamId][type].getMediaInfo();
                  var bitrateList = getBitrateList(mediaInfo);
                  var minIdx = getQualityForBitrate(mediaInfo, minBitrate, streamId);
                  if (bitrateList[minIdx] && minIdx < bitrateList.length - 1 && bitrateList[minIdx].bitrate < minBitrate * 1e3) {
                    minIdx++;
                  }
                  return minIdx;
                } else {
                  return void 0;
                }
              } catch (e) {
                return void 0;
              }
            }
            function _checkMaxBitrate(type, streamId) {
              var idx = topQualities[streamId][type];
              var newIdx = idx;
              if (!streamProcessorDict[streamId] || !streamProcessorDict[streamId][type]) {
                return newIdx;
              }
              var minIdx = getMinAllowedIndexFor(type, streamId);
              if (minIdx !== void 0) {
                newIdx = Math.max(idx, minIdx);
              }
              var maxIdx = _getMaxIndexBasedOnBitrateFor(type, streamId);
              if (maxIdx !== void 0) {
                newIdx = Math.min(newIdx, maxIdx);
              }
              return newIdx;
            }
            function _checkMaxRepresentationRatio(idx, type, streamId) {
              var maxIdx = topQualities[streamId][type];
              var maxRepresentationRatio = settings.get().streaming.abr.maxRepresentationRatio[type];
              if (isNaN(maxRepresentationRatio) || maxRepresentationRatio >= 1 || maxRepresentationRatio < 0) {
                return idx;
              }
              return Math.min(idx, Math.round(maxIdx * maxRepresentationRatio));
            }
            function _checkPortalSize(idx, type, streamId) {
              if (type !== _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].VIDEO || !settings.get().streaming.abr.limitBitrateByPortal || !streamProcessorDict[streamId] || !streamProcessorDict[streamId][type]) {
                return idx;
              }
              if (!windowResizeEventCalled) {
                setElementSize();
              }
              var streamInfo = streamProcessorDict[streamId][type].getStreamInfo();
              var representation = adapter.getAdaptationForType(streamInfo.index, type, streamInfo).Representation;
              var newIdx = idx;
              if (elementWidth > 0 && elementHeight > 0) {
                while (newIdx > 0 && representation[newIdx] && elementWidth < representation[newIdx].width && elementWidth - representation[newIdx - 1].width < representation[newIdx].width - elementWidth) {
                  newIdx = newIdx - 1;
                }
                while (newIdx < representation.length - 1 && representation[newIdx].width === representation[newIdx + 1].width) {
                  newIdx = newIdx + 1;
                }
              }
              return newIdx;
            }
            function getTopBitrateInfoFor(type) {
              var streamId = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;
              if (!streamId) {
                streamId = streamController.getActiveStreamInfo().id;
              }
              if (type && streamProcessorDict && streamProcessorDict[streamId] && streamProcessorDict[streamId][type]) {
                var idx = getMaxAllowedIndexFor(type, streamId);
                var bitrates = getBitrateList(streamProcessorDict[streamId][type].getMediaInfo());
                return bitrates[idx] ? bitrates[idx] : null;
              }
              return null;
            }
            function getInitialBitrateFor(type, streamId) {
              checkConfig();
              if (type === _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].TEXT) {
                return NaN;
              }
              var savedBitrate = domStorage.getSavedBitrateSettings(type);
              var configBitrate = settings.get().streaming.abr.initialBitrate[type];
              var configRatio = settings.get().streaming.abr.initialRepresentationRatio[type];
              if (configBitrate === -1) {
                if (configRatio > -1) {
                  var streamInfo = streamProcessorDict[streamId][type].getStreamInfo();
                  var representation = adapter.getAdaptationForType(streamInfo.index, type, streamInfo).Representation;
                  if (Array.isArray(representation)) {
                    var repIdx = Math.max(Math.round(representation.length * configRatio) - 1, 0);
                    configBitrate = representation[repIdx].bandwidth / 1e3;
                  } else {
                    configBitrate = 0;
                  }
                } else if (!isNaN(savedBitrate)) {
                  configBitrate = savedBitrate;
                } else {
                  configBitrate = type === _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].VIDEO ? DEFAULT_VIDEO_BITRATE : DEFAULT_AUDIO_BITRATE;
                }
              }
              return configBitrate;
            }
            function checkPlaybackQuality(type, streamId) {
              try {
                if (!type || !streamProcessorDict || !streamProcessorDict[streamId] || !streamProcessorDict[streamId][type]) {
                  return false;
                }
                if (droppedFramesHistory) {
                  var playbackQuality = videoModel.getPlaybackQuality();
                  if (playbackQuality) {
                    droppedFramesHistory.push(streamId, playbackIndex, playbackQuality);
                  }
                }
                if (!settings.get().streaming.abr.autoSwitchBitrate[type]) {
                  return false;
                }
                var oldQuality = getQualityFor(type, streamId);
                var rulesContext = Object(_rules_RulesContext__WEBPACK_IMPORTED_MODULE_8__["default"])(context).create({
                  abrController: instance,
                  switchHistory: switchHistoryDict[streamId][type],
                  droppedFramesHistory,
                  streamProcessor: streamProcessorDict[streamId][type],
                  currentValue: oldQuality,
                  useBufferOccupancyABR: isUsingBufferOccupancyAbrDict[type],
                  useL2AABR: isUsingL2AAbrDict[type],
                  useLoLPABR: isUsingLoLPAbrDict[type],
                  videoModel
                });
                var minIdx = getMinAllowedIndexFor(type, streamId);
                var maxIdx = getMaxAllowedIndexFor(type, streamId);
                var switchRequest = abrRulesCollection.getMaxQuality(rulesContext);
                var newQuality = switchRequest.quality;
                if (minIdx !== void 0 && (newQuality > _rules_SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"].NO_CHANGE ? newQuality : oldQuality) < minIdx) {
                  newQuality = minIdx;
                }
                if (newQuality > maxIdx) {
                  newQuality = maxIdx;
                }
                switchHistoryDict[streamId][type].push({
                  oldValue: oldQuality,
                  newValue: newQuality
                });
                if (newQuality > _rules_SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"].NO_CHANGE && newQuality !== oldQuality && (abandonmentStateDict[streamId][type].state === _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_2__["default"].ALLOW_LOAD || newQuality > oldQuality)) {
                  _changeQuality(type, oldQuality, newQuality, maxIdx, switchRequest.reason, streamId);
                  return true;
                }
                return false;
              } catch (e) {
                return false;
              }
            }
            function getQualityFor(type) {
              var streamId = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;
              try {
                if (!streamId) {
                  streamId = streamController.getActiveStreamInfo().id;
                }
                if (type && streamProcessorDict[streamId] && streamProcessorDict[streamId][type]) {
                  var quality;
                  if (streamId) {
                    qualityDict[streamId] = qualityDict[streamId] || {};
                    if (!qualityDict[streamId].hasOwnProperty(type)) {
                      qualityDict[streamId][type] = QUALITY_DEFAULT;
                    }
                    quality = qualityDict[streamId][type];
                    return quality;
                  }
                }
                return QUALITY_DEFAULT;
              } catch (e) {
                return QUALITY_DEFAULT;
              }
            }
            function setPlaybackQuality(type, streamInfo, newQuality) {
              var reason = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : null;
              if (!streamInfo || !streamInfo.id || !type) {
                return;
              }
              var streamId = streamInfo.id;
              var oldQuality = getQualityFor(type, streamId);
              Object(_utils_SupervisorTools__WEBPACK_IMPORTED_MODULE_15__["checkInteger"])(newQuality);
              var topQualityIdx = getMaxAllowedIndexFor(type, streamId);
              if (newQuality !== oldQuality && newQuality >= 0 && newQuality <= topQualityIdx) {
                _changeQuality(type, oldQuality, newQuality, topQualityIdx, reason, streamId);
              }
            }
            function getAbandonmentStateFor(streamId, type) {
              return abandonmentStateDict[streamId] && abandonmentStateDict[streamId][type] ? abandonmentStateDict[streamId][type].state : null;
            }
            function _changeQuality(type, oldQuality, newQuality, maxIdx, reason, streamId) {
              if (type && streamProcessorDict[streamId] && streamProcessorDict[streamId][type]) {
                var streamInfo = streamProcessorDict[streamId][type].getStreamInfo();
                var bufferLevel = dashMetrics.getCurrentBufferLevel(type);
                logger.info("Stream ID: " + streamId + " [" + type + "] switch from " + oldQuality + " to " + newQuality + "/" + maxIdx + " (buffer: " + bufferLevel + ") " + (reason ? JSON.stringify(reason) : "."));
                qualityDict[streamId] = qualityDict[streamId] || {};
                qualityDict[streamId][type] = newQuality;
                var bitrateInfo = _getBitrateInfoForQuality(streamId, type, newQuality);
                eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].QUALITY_CHANGE_REQUESTED, {
                  oldQuality,
                  newQuality,
                  reason,
                  streamInfo,
                  bitrateInfo,
                  maxIdx,
                  mediaType: type
                }, {
                  streamId: streamInfo.id,
                  mediaType: type
                });
                var bitrate = throughputHistory.getAverageThroughput(type);
                if (!isNaN(bitrate)) {
                  domStorage.setSavedBitrateSettings(type, bitrate);
                }
              }
            }
            function _getBitrateInfoForQuality(streamId, type, idx) {
              if (type && streamProcessorDict && streamProcessorDict[streamId] && streamProcessorDict[streamId][type]) {
                var bitrates = getBitrateList(streamProcessorDict[streamId][type].getMediaInfo());
                return bitrates[idx] ? bitrates[idx] : null;
              }
              return null;
            }
            function getQualityForBitrate(mediaInfo, bitrate, streamId) {
              var latency = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : null;
              var voRepresentation = mediaInfo && mediaInfo.type ? streamProcessorDict[streamId][mediaInfo.type].getRepresentationInfo() : null;
              if (settings.get().streaming.abr.useDeadTimeLatency && latency && voRepresentation && voRepresentation.fragmentDuration) {
                latency = latency / 1e3;
                var fragmentDuration = voRepresentation.fragmentDuration;
                if (latency > fragmentDuration) {
                  return 0;
                } else {
                  var deadTimeRatio = latency / fragmentDuration;
                  bitrate = bitrate * (1 - deadTimeRatio);
                }
              }
              var bitrateList = getBitrateList(mediaInfo);
              for (var i3 = bitrateList.length - 1; i3 >= 0; i3--) {
                var bitrateInfo = bitrateList[i3];
                if (bitrate * 1e3 >= bitrateInfo.bitrate) {
                  return i3;
                }
              }
              return QUALITY_DEFAULT;
            }
            function getBitrateList(mediaInfo) {
              var infoList = [];
              if (!mediaInfo || !mediaInfo.bitrateList)
                return infoList;
              var bitrateList = mediaInfo.bitrateList;
              var type = mediaInfo.type;
              var bitrateInfo;
              for (var i3 = 0, ln = bitrateList.length; i3 < ln; i3++) {
                bitrateInfo = new _vo_BitrateInfo__WEBPACK_IMPORTED_MODULE_3__["default"]();
                bitrateInfo.mediaType = type;
                bitrateInfo.qualityIndex = i3;
                bitrateInfo.bitrate = bitrateList[i3].bandwidth;
                bitrateInfo.width = bitrateList[i3].width;
                bitrateInfo.height = bitrateList[i3].height;
                bitrateInfo.scanType = bitrateList[i3].scanType;
                infoList.push(bitrateInfo);
              }
              return infoList;
            }
            function _updateAbrStrategy(mediaType, bufferLevel) {
              var strategy = settings.get().streaming.abr.ABRStrategy;
              if (strategy === _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].ABR_STRATEGY_DYNAMIC) {
                _updateDynamicAbrStrategy(mediaType, bufferLevel);
              }
            }
            function _updateDynamicAbrStrategy(mediaType, bufferLevel) {
              var stableBufferTime = mediaPlayerModel.getStableBufferTime();
              var switchOnThreshold = stableBufferTime;
              var switchOffThreshold = 0.5 * stableBufferTime;
              var useBufferABR = isUsingBufferOccupancyAbrDict[mediaType];
              var newUseBufferABR = bufferLevel > (useBufferABR ? switchOffThreshold : switchOnThreshold);
              isUsingBufferOccupancyAbrDict[mediaType] = newUseBufferABR;
              if (newUseBufferABR !== useBufferABR) {
                if (newUseBufferABR) {
                  logger.info("[" + mediaType + "] switching from throughput to buffer occupancy ABR rule (buffer: " + bufferLevel.toFixed(3) + ").");
                } else {
                  logger.info("[" + mediaType + "] switching from buffer occupancy to throughput ABR rule (buffer: " + bufferLevel.toFixed(3) + ").");
                }
              }
            }
            function getThroughputHistory() {
              return throughputHistory;
            }
            function updateTopQualityIndex(mediaInfo) {
              var type = mediaInfo.type;
              var streamId = mediaInfo.streamInfo.id;
              var max = mediaInfo.representationCount - 1;
              topQualities[streamId] = topQualities[streamId] || {};
              topQualities[streamId][type] = max;
              return max;
            }
            function isPlayingAtTopQuality(streamInfo) {
              var streamId = streamInfo ? streamInfo.id : null;
              var audioQuality = getQualityFor(_constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].AUDIO, streamId);
              var videoQuality = getQualityFor(_constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].VIDEO, streamId);
              var isAtTop = audioQuality === getMaxAllowedIndexFor(_constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].AUDIO, streamId) && videoQuality === getMaxAllowedIndexFor(_constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].VIDEO, streamId);
              return isAtTop;
            }
            function setWindowResizeEventCalled(value) {
              windowResizeEventCalled = value;
            }
            function setElementSize() {
              if (videoModel) {
                var hasPixelRatio = settings.get().streaming.abr.usePixelRatioInLimitBitrateByPortal && window.hasOwnProperty("devicePixelRatio");
                var pixelRatio = hasPixelRatio ? window.devicePixelRatio : 1;
                elementWidth = videoModel.getClientWidth() * pixelRatio;
                elementHeight = videoModel.getClientHeight() * pixelRatio;
              }
            }
            function clearDataForStream(streamId) {
              if (droppedFramesHistory) {
                droppedFramesHistory.clearForStream(streamId);
              }
              if (streamProcessorDict[streamId]) {
                delete streamProcessorDict[streamId];
              }
              if (switchHistoryDict[streamId]) {
                delete switchHistoryDict[streamId];
              }
              if (abandonmentStateDict[streamId]) {
                delete abandonmentStateDict[streamId];
              }
            }
            instance = {
              initialize,
              isPlayingAtTopQuality,
              updateTopQualityIndex,
              clearDataForStream,
              getThroughputHistory,
              getBitrateList,
              getQualityForBitrate,
              getTopBitrateInfoFor,
              getMinAllowedIndexFor,
              getMaxAllowedIndexFor,
              getInitialBitrateFor,
              getQualityFor,
              getAbandonmentStateFor,
              setPlaybackQuality,
              checkPlaybackQuality,
              setElementSize,
              setWindowResizeEventCalled,
              registerStreamType,
              unRegisterStreamType,
              setConfig,
              reset
            };
            setup();
            return instance;
          }
          AbrController.__dashjs_factory_name = "AbrController";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_7__["default"].getSingletonFactory(AbrController);
          factory.QUALITY_DEFAULT = QUALITY_DEFAULT;
          _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_7__["default"].updateSingletonFactory(AbrController.__dashjs_factory_name, factory);
          __webpack_exports__["default"] = factory;
        },
        "./src/streaming/controllers/BaseURLController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _models_BaseURLTreeModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/models/BaseURLTreeModel.js");
          var _utils_BaseURLSelector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/utils/BaseURLSelector.js");
          var _utils_URLUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/utils/URLUtils.js");
          var _dash_vo_BaseURL__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/dash/vo/BaseURL.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/core/events/Events.js");
          function BaseURLController() {
            var instance, adapter;
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_5__["default"])(context).getInstance();
            var urlUtils = Object(_utils_URLUtils__WEBPACK_IMPORTED_MODULE_2__["default"])(context).getInstance();
            var baseURLTreeModel, baseURLSelector;
            function onBlackListChanged(e) {
              baseURLTreeModel.invalidateSelectedIndexes(e.entry);
            }
            function setup() {
              baseURLTreeModel = Object(_models_BaseURLTreeModel__WEBPACK_IMPORTED_MODULE_0__["default"])(context).create();
              baseURLSelector = Object(_utils_BaseURLSelector__WEBPACK_IMPORTED_MODULE_1__["default"])(context).create();
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].SERVICE_LOCATION_BLACKLIST_CHANGED, onBlackListChanged, instance);
            }
            function setConfig(config) {
              if (config.baseURLTreeModel) {
                baseURLTreeModel = config.baseURLTreeModel;
              }
              if (config.baseURLSelector) {
                baseURLSelector = config.baseURLSelector;
              }
              if (config.adapter) {
                adapter = config.adapter;
              }
            }
            function update(manifest) {
              baseURLTreeModel.update(manifest);
              baseURLSelector.chooseSelector(adapter.getIsDVB(manifest));
            }
            function resolve2(path) {
              var baseUrls = baseURLTreeModel.getForPath(path);
              var baseUrl = baseUrls.reduce(function(p2, c3) {
                var b3 = baseURLSelector.select(c3);
                if (b3) {
                  if (!urlUtils.isRelative(b3.url)) {
                    p2.url = b3.url;
                    p2.serviceLocation = b3.serviceLocation;
                  } else {
                    p2.url = urlUtils.resolve(b3.url, p2.url);
                  }
                  p2.availabilityTimeOffset = b3.availabilityTimeOffset;
                  p2.availabilityTimeComplete = b3.availabilityTimeComplete;
                } else {
                  return new _dash_vo_BaseURL__WEBPACK_IMPORTED_MODULE_3__["default"]();
                }
                return p2;
              }, new _dash_vo_BaseURL__WEBPACK_IMPORTED_MODULE_3__["default"]());
              if (!urlUtils.isRelative(baseUrl.url)) {
                return baseUrl;
              }
            }
            function reset() {
              baseURLTreeModel.reset();
              baseURLSelector.reset();
            }
            function initialize(data) {
              baseURLTreeModel.setConfig({
                adapter
              });
              update(data);
            }
            instance = {
              reset,
              initialize,
              resolve: resolve2,
              setConfig
            };
            setup();
            return instance;
          }
          BaseURLController.__dashjs_factory_name = "BaseURLController";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_4__["default"].getClassFactory(BaseURLController);
        },
        "./src/streaming/controllers/BlacklistController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/EventBus.js");
          function BlackListController(config) {
            config = config || {};
            var instance;
            var blacklist = [];
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_1__["default"])(this.context).getInstance();
            var updateEventName = config.updateEventName;
            var addBlacklistEventName = config.addBlacklistEventName;
            function contains(query2) {
              if (!blacklist.length || !query2 || !query2.length) {
                return false;
              }
              return blacklist.indexOf(query2) !== -1;
            }
            function add(entry) {
              if (blacklist.indexOf(entry) !== -1) {
                return;
              }
              blacklist.push(entry);
              eventBus.trigger(updateEventName, {
                entry
              });
            }
            function onAddBlackList(e) {
              add(e.entry);
            }
            function setup() {
              if (addBlacklistEventName) {
                eventBus.on(addBlacklistEventName, onAddBlackList, instance);
              }
            }
            function reset() {
              blacklist = [];
            }
            instance = {
              add,
              contains,
              reset
            };
            setup();
            return instance;
          }
          BlackListController.__dashjs_factory_name = "BlackListController";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(BlackListController);
        },
        "./src/streaming/controllers/BufferController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/constants/MetricsConstants.js");
          var _models_FragmentModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/models/FragmentModel.js");
          var _SourceBufferSink__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/SourceBufferSink.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/core/events/Events.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/core/Debug.js");
          var _utils_InitCache__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/streaming/utils/InitCache.js");
          var _vo_DashJSError__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/streaming/vo/DashJSError.js");
          var _core_errors_Errors__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/core/errors/Errors.js");
          var _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/streaming/vo/metrics/HTTPRequest.js");
          var _streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/streaming/MediaPlayerEvents.js");
          var BUFFER_END_THRESHOLD = 0.5;
          var BUFFER_RANGE_CALCULATION_THRESHOLD = 0.01;
          var QUOTA_EXCEEDED_ERROR_CODE = 22;
          var BUFFER_CONTROLLER_TYPE = "BufferController";
          function BufferController(config) {
            config = config || {};
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_4__["default"])(context).getInstance();
            var errHandler = config.errHandler;
            var fragmentModel = config.fragmentModel;
            var representationController = config.representationController;
            var adapter = config.adapter;
            var textController = config.textController;
            var abrController = config.abrController;
            var playbackController = config.playbackController;
            var streamInfo = config.streamInfo;
            var type = config.type;
            var settings = config.settings;
            var instance, logger, isBufferingCompleted, bufferLevel, criticalBufferLevel, mediaSource, maxAppendedIndex, maximumIndex, sourceBufferSink, bufferState, appendedBytesInfo, wallclockTicked, isPruningInProgress, isQuotaExceeded, initCache, pendingPruningRanges, replacingBuffer, seekTarget;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_7__["default"])(context).getInstance().getLogger(instance);
              initCache = Object(_utils_InitCache__WEBPACK_IMPORTED_MODULE_8__["default"])(context).getInstance();
              resetInitialSettings();
            }
            function initialize(mediaSource2) {
              setMediaSource(mediaSource2);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].INIT_FRAGMENT_LOADED, _onInitFragmentLoaded, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].MEDIA_FRAGMENT_LOADED, _onMediaFragmentLoaded, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].WALLCLOCK_TIME_UPDATED, _onWallclockTimeUpdated, instance);
              eventBus.on(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_12__["default"].PLAYBACK_PLAYING, _onPlaybackPlaying, instance);
              eventBus.on(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_12__["default"].PLAYBACK_PROGRESS, _onPlaybackProgression, instance);
              eventBus.on(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_12__["default"].PLAYBACK_TIME_UPDATED, _onPlaybackProgression, instance);
              eventBus.on(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_12__["default"].PLAYBACK_RATE_CHANGED, _onPlaybackRateChanged, instance);
              eventBus.on(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_12__["default"].PLAYBACK_STALLED, _onPlaybackStalled, instance);
            }
            function getStreamId() {
              return streamInfo.id;
            }
            function getType() {
              return type;
            }
            function getBufferControllerType() {
              return BUFFER_CONTROLLER_TYPE;
            }
            function setMediaSource(value) {
              mediaSource = value;
            }
            function _getRepresentationInfo(quality) {
              return adapter.convertRepresentationToRepresentationInfo(representationController.getRepresentationForQuality(quality));
            }
            function createBufferSink(mediaInfo) {
              var oldBufferSinks = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];
              return new Promise(function(resolve2, reject) {
                if (!initCache || !mediaInfo || !mediaSource) {
                  resolve2(null);
                  return;
                }
                var requiredQuality = abrController.getQualityFor(type, streamInfo.id);
                sourceBufferSink = Object(_SourceBufferSink__WEBPACK_IMPORTED_MODULE_3__["default"])(context).create({
                  mediaSource,
                  textController,
                  eventBus
                });
                _initializeSink(mediaInfo, oldBufferSinks, requiredQuality).then(function() {
                  return updateBufferTimestampOffset(_getRepresentationInfo(requiredQuality));
                }).then(function() {
                  resolve2(sourceBufferSink);
                })["catch"](function(e) {
                  logger.fatal("Caught error on create SourceBuffer: " + e);
                  errHandler.error(new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_9__["default"](_core_errors_Errors__WEBPACK_IMPORTED_MODULE_10__["default"].MEDIASOURCE_TYPE_UNSUPPORTED_CODE, _core_errors_Errors__WEBPACK_IMPORTED_MODULE_10__["default"].MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE + type));
                  reject(e);
                });
              });
            }
            function _initializeSink(mediaInfo, oldBufferSinks, requiredQuality) {
              var selectedRepresentation = _getRepresentationInfo(requiredQuality);
              if (oldBufferSinks && oldBufferSinks[type] && (type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO || type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO)) {
                return sourceBufferSink.initializeForStreamSwitch(mediaInfo, selectedRepresentation, oldBufferSinks[type]);
              } else {
                return sourceBufferSink.initializeForFirstUse(streamInfo, mediaInfo, selectedRepresentation);
              }
            }
            function _onInitFragmentLoaded(e) {
              if (settings.get().streaming.cacheInitSegments) {
                logger.info("Init fragment finished loading saving to", type + "'s init cache");
                initCache.save(e.chunk);
              }
              logger.debug("Append Init fragment", type, " with representationId:", e.chunk.representationId, " and quality:", e.chunk.quality, ", data size:", e.chunk.bytes.byteLength);
              _appendToBuffer(e.chunk);
            }
            function appendInitSegmentFromCache(representationId) {
              var chunk = initCache.extract(streamInfo.id, representationId);
              if (!chunk) {
                return false;
              }
              logger.info("Append Init fragment", type, " with representationId:", chunk.representationId, " and quality:", chunk.quality, ", data size:", chunk.bytes.byteLength);
              _appendToBuffer(chunk);
              return true;
            }
            function _onMediaFragmentLoaded(e) {
              _appendToBuffer(e.chunk, e.request);
            }
            function _appendToBuffer(chunk) {
              var request = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;
              sourceBufferSink.append(chunk, request).then(function(e) {
                _onAppended(e);
              })["catch"](function(e) {
                _onAppended(e);
              });
              if (chunk.mediaInfo.type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO) {
                _triggerEvent(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].VIDEO_CHUNK_RECEIVED, {
                  chunk
                });
              }
            }
            function _showBufferRanges(ranges) {
              if (ranges && ranges.length > 0) {
                for (var i3 = 0, len = ranges.length; i3 < len; i3++) {
                  logger.debug("Buffered range: " + ranges.start(i3) + " - " + ranges.end(i3) + ", currentTime = ", playbackController.getTime());
                }
              }
            }
            function _onAppended(e) {
              if (e.error) {
                if (e.error.code === QUOTA_EXCEEDED_ERROR_CODE) {
                  _handleQuotaExceededError();
                }
                if (e.error.code === QUOTA_EXCEEDED_ERROR_CODE || !hasEnoughSpaceToAppend()) {
                  logger.warn("Clearing playback buffer to overcome quota exceed situation");
                  _triggerEvent(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].QUOTA_EXCEEDED, {
                    criticalBufferLevel,
                    quotaExceededTime: e.chunk.start
                  });
                  clearBuffers(getClearRanges());
                }
                return;
              }
              if (!sourceBufferSink)
                return;
              _updateBufferLevel();
              isQuotaExceeded = false;
              appendedBytesInfo = e.chunk;
              if (!appendedBytesInfo || !appendedBytesInfo.endFragment) {
                return;
              }
              if (appendedBytesInfo && !isNaN(appendedBytesInfo.index)) {
                maxAppendedIndex = Math.max(appendedBytesInfo.index, maxAppendedIndex);
                _checkIfBufferingCompleted();
              }
              var ranges = sourceBufferSink.getAllBufferRanges();
              if (appendedBytesInfo.segmentType === _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_11__["HTTPRequest"].MEDIA_SEGMENT_TYPE) {
                _showBufferRanges(ranges);
                _onPlaybackProgression();
                _adjustSeekTarget();
              }
              if (appendedBytesInfo) {
                _triggerEvent(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].BYTES_APPENDED_END_FRAGMENT, {
                  quality: appendedBytesInfo.quality,
                  startTime: appendedBytesInfo.start,
                  index: appendedBytesInfo.index,
                  bufferedRanges: ranges,
                  segmentType: appendedBytesInfo.segmentType,
                  mediaType: type
                });
              }
            }
            function _adjustSeekTarget() {
              if (isNaN(seekTarget))
                return;
              if (type !== _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO && type !== _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO) {
                seekTarget = NaN;
                return;
              }
              var currentTime = playbackController.getTime();
              var range = getRangeAt(seekTarget, 0);
              if (currentTime === seekTarget && range) {
                seekTarget = NaN;
                return;
              }
              var segmentDuration = representationController.getCurrentRepresentation().segmentDuration;
              range = getRangeAt(seekTarget, segmentDuration);
              if (!range)
                return;
              if (settings.get().streaming.buffer.enableSeekDecorrelationFix && Math.abs(currentTime - seekTarget) > segmentDuration) {
                if (seekTarget <= range.end) {
                  playbackController.seek(Math.max(seekTarget, range.start), false, true);
                  seekTarget = NaN;
                }
              } else if (currentTime < range.start) {
                playbackController.seek(range.start, false, true);
                seekTarget = NaN;
              }
            }
            function _handleQuotaExceededError() {
              isQuotaExceeded = true;
              criticalBufferLevel = getTotalBufferedTime() * 0.8;
              logger.warn("Quota exceeded, Critical Buffer: " + criticalBufferLevel);
              if (criticalBufferLevel > 0) {
                var bufferToKeep = Math.max(0.2 * criticalBufferLevel, 1);
                var bufferAhead = criticalBufferLevel - bufferToKeep;
                var bufferTimeAtTopQuality = Math.min(settings.get().streaming.buffer.bufferTimeAtTopQuality, bufferAhead * 0.9);
                var bufferTimeAtTopQualityLongForm = Math.min(settings.get().streaming.buffer.bufferTimeAtTopQualityLongForm, bufferAhead * 0.9);
                var s3 = {
                  streaming: {
                    buffer: {
                      bufferToKeep: parseFloat(bufferToKeep.toFixed(5)),
                      bufferTimeAtTopQuality: parseFloat(bufferTimeAtTopQuality.toFixed(5)),
                      bufferTimeAtTopQualityLongForm: parseFloat(bufferTimeAtTopQualityLongForm.toFixed(5))
                    }
                  }
                };
                settings.update(s3);
              }
            }
            function prepareForPlaybackSeek() {
              if (isBufferingCompleted) {
                setIsBufferingCompleted(false);
              }
              return sourceBufferSink.abort();
            }
            function prepareForReplacementTrackSwitch(codec) {
              return new Promise(function(resolve2, reject) {
                sourceBufferSink.abort().then(function() {
                  return updateAppendWindow();
                }).then(function() {
                  return sourceBufferSink.changeType(codec);
                }).then(function() {
                  return pruneAllSafely();
                }).then(function() {
                  setIsBufferingCompleted(false);
                  resolve2();
                })["catch"](function(e) {
                  reject(e);
                });
              });
            }
            function prepareForReplacementQualitySwitch() {
              return new Promise(function(resolve2, reject) {
                sourceBufferSink.abort().then(function() {
                  return updateAppendWindow();
                }).then(function() {
                  return pruneAllSafely();
                }).then(function() {
                  setIsBufferingCompleted(false);
                  resolve2();
                })["catch"](function(e) {
                  reject(e);
                });
              });
            }
            function prepareForNonReplacementTrackSwitch(codec) {
              return new Promise(function(resolve2, reject) {
                updateAppendWindow().then(function() {
                  return sourceBufferSink.changeType(codec);
                }).then(function() {
                  resolve2();
                })["catch"](function(e) {
                  reject(e);
                });
              });
            }
            function pruneAllSafely() {
              return new Promise(function(resolve2, reject) {
                var ranges = getAllRangesWithSafetyFactor();
                if (!ranges || ranges.length === 0) {
                  _onPlaybackProgression();
                  resolve2();
                  return;
                }
                clearBuffers(ranges).then(function() {
                  resolve2();
                })["catch"](function(e) {
                  reject(e);
                });
              });
            }
            function getAllRangesWithSafetyFactor(seekTime) {
              var clearRanges = [];
              var ranges = sourceBufferSink.getAllBufferRanges();
              if (!ranges || ranges.length === 0) {
                return clearRanges;
              }
              if (!seekTime && seekTime !== 0 || isNaN(seekTime)) {
                clearRanges.push({
                  start: ranges.start(0),
                  end: ranges.end(ranges.length - 1) + BUFFER_END_THRESHOLD
                });
              } else {
                var behindPruningRange = _getRangeBehindForPruning(seekTime, ranges);
                var aheadPruningRange = _getRangeAheadForPruning(seekTime, ranges);
                if (behindPruningRange) {
                  clearRanges.push(behindPruningRange);
                }
                if (aheadPruningRange) {
                  clearRanges.push(aheadPruningRange);
                }
              }
              return clearRanges;
            }
            function _getRangeBehindForPruning(targetTime, ranges) {
              var bufferToKeepBehind = settings.get().streaming.buffer.bufferToKeep;
              var startOfBuffer = ranges.start(0);
              var behindDiff = targetTime - startOfBuffer;
              if (behindDiff > bufferToKeepBehind) {
                var rangeEnd = Math.max(0, targetTime - bufferToKeepBehind);
                var currentTimeRequest = fragmentModel.getRequests({
                  state: _models_FragmentModel__WEBPACK_IMPORTED_MODULE_2__["default"].FRAGMENT_MODEL_EXECUTED,
                  time: targetTime,
                  threshold: BUFFER_RANGE_CALCULATION_THRESHOLD
                })[0];
                if (currentTimeRequest) {
                  rangeEnd = Math.min(currentTimeRequest.startTime, rangeEnd);
                }
                if (rangeEnd > 0) {
                  return {
                    start: startOfBuffer,
                    end: rangeEnd
                  };
                }
              }
              return null;
            }
            function _getRangeAheadForPruning(targetTime, ranges) {
              var endOfBuffer = ranges.end(ranges.length - 1) + BUFFER_END_THRESHOLD;
              var isLongFormContent = streamInfo.manifestInfo.duration >= settings.get().streaming.buffer.longFormContentDurationThreshold;
              var bufferToKeepAhead = isLongFormContent ? settings.get().streaming.buffer.bufferTimeAtTopQualityLongForm : settings.get().streaming.buffer.bufferTimeAtTopQuality;
              var aheadDiff = endOfBuffer - targetTime;
              if (aheadDiff > bufferToKeepAhead) {
                var rangeStart = targetTime + bufferToKeepAhead;
                var currentTimeRequest = fragmentModel.getRequests({
                  state: _models_FragmentModel__WEBPACK_IMPORTED_MODULE_2__["default"].FRAGMENT_MODEL_EXECUTED,
                  time: targetTime,
                  threshold: BUFFER_RANGE_CALCULATION_THRESHOLD
                })[0];
                if (currentTimeRequest) {
                  rangeStart = Math.max(currentTimeRequest.startTime + currentTimeRequest.duration, rangeStart);
                }
                if (rangeStart < endOfBuffer) {
                  return {
                    start: rangeStart,
                    end: endOfBuffer
                  };
                }
              }
              return null;
            }
            function _onPlaybackProgression() {
              if (!replacingBuffer || type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT && textController.isTextEnabled()) {
                _updateBufferLevel();
              }
            }
            function _onPlaybackStalled() {
              checkIfSufficientBuffer();
            }
            function _onPlaybackPlaying() {
              checkIfSufficientBuffer();
              seekTarget = NaN;
            }
            function getRangeAt(time, tolerance) {
              var ranges = sourceBufferSink.getAllBufferRanges();
              var start = 0;
              var end = 0;
              var firstStart = null;
              var lastEnd = null;
              var gap = 0;
              var len, i3;
              var toler = !isNaN(tolerance) ? tolerance : 0.15;
              if (ranges !== null && ranges !== void 0) {
                for (i3 = 0, len = ranges.length; i3 < len; i3++) {
                  start = ranges.start(i3);
                  end = ranges.end(i3);
                  if (firstStart === null) {
                    gap = Math.abs(start - time);
                    if (time >= start && time < end) {
                      firstStart = start;
                      lastEnd = end;
                    } else if (gap <= toler) {
                      firstStart = start;
                      lastEnd = end;
                    }
                  } else {
                    gap = start - lastEnd;
                    if (gap <= toler) {
                      lastEnd = end;
                    } else {
                      break;
                    }
                  }
                }
                if (firstStart !== null) {
                  return {
                    start: firstStart,
                    end: lastEnd
                  };
                }
              }
              return null;
            }
            function getBufferLength(time, tolerance) {
              var range, length;
              if (settings.get().streaming.gaps.jumpGaps) {
                tolerance = settings.get().streaming.gaps.smallGapLimit;
              }
              range = getRangeAt(time, tolerance);
              if (range === null) {
                length = 0;
              } else {
                length = range.end - time;
              }
              return length;
            }
            function _updateBufferLevel() {
              if (playbackController) {
                var tolerance = settings.get().streaming.gaps.jumpGaps && !isNaN(settings.get().streaming.gaps.smallGapLimit) ? settings.get().streaming.gaps.smallGapLimit : NaN;
                bufferLevel = Math.max(getBufferLength(playbackController.getTime() || 0, tolerance), 0);
                _triggerEvent(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].BUFFER_LEVEL_UPDATED, {
                  mediaType: type,
                  bufferLevel
                });
                checkIfSufficientBuffer();
              }
            }
            function _checkIfBufferingCompleted() {
              var isLastIdxAppended = maxAppendedIndex >= maximumIndex - 1;
              var periodBuffered = playbackController.getTimeToStreamEnd(streamInfo) - bufferLevel <= 0;
              if ((isLastIdxAppended || periodBuffered) && !isBufferingCompleted) {
                setIsBufferingCompleted(true);
                logger.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(streamInfo.id, " and type ").concat(type));
              }
            }
            function checkIfSufficientBuffer() {
              if (type !== _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO && type !== _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO)
                return;
              if ((!settings.get().streaming.lowLatencyEnabled && bufferLevel < settings.get().streaming.buffer.stallThreshold || bufferLevel === 0) && !isBufferingCompleted) {
                _notifyBufferStateChanged(_constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].BUFFER_EMPTY);
              } else {
                if (isBufferingCompleted || bufferLevel >= settings.get().streaming.buffer.stallThreshold || settings.get().streaming.lowLatencyEnabled && bufferLevel > 0) {
                  _notifyBufferStateChanged(_constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].BUFFER_LOADED);
                }
              }
            }
            function _notifyBufferStateChanged(state) {
              if (bufferState === state || state === _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].BUFFER_EMPTY && playbackController.getTime() === 0 || type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT && !textController.isTextEnabled()) {
                return;
              }
              bufferState = state;
              _triggerEvent(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].BUFFER_LEVEL_STATE_CHANGED, {
                state
              });
              _triggerEvent(state === _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].BUFFER_LOADED ? _core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].BUFFER_LOADED : _core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].BUFFER_EMPTY);
              logger.debug(state === _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].BUFFER_LOADED ? "Got enough buffer to start" : "Waiting for more buffer before starting playback");
            }
            function pruneBuffer() {
              if (!sourceBufferSink || type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT) {
                return;
              }
              if (!isBufferingCompleted) {
                clearBuffers(getClearRanges());
              }
            }
            function getClearRanges() {
              var clearRanges = [];
              var ranges = sourceBufferSink.getAllBufferRanges();
              if (!ranges || ranges.length === 0) {
                return clearRanges;
              }
              var currentTime = playbackController.getTime();
              var startRangeToKeep = Math.max(0, currentTime - settings.get().streaming.buffer.bufferToKeep);
              var currentTimeRequest = fragmentModel.getRequests({
                state: _models_FragmentModel__WEBPACK_IMPORTED_MODULE_2__["default"].FRAGMENT_MODEL_EXECUTED,
                time: currentTime,
                threshold: BUFFER_RANGE_CALCULATION_THRESHOLD
              })[0];
              if (currentTimeRequest) {
                startRangeToKeep = Math.min(currentTimeRequest.startTime, startRangeToKeep);
              } else if (currentTime === 0 && playbackController.getIsDynamic()) {
                return [];
              }
              if (ranges.start(0) <= startRangeToKeep) {
                var behindRange = {
                  start: 0,
                  end: startRangeToKeep
                };
                for (var i3 = 0; i3 < ranges.length && ranges.end(i3) <= startRangeToKeep; i3++) {
                  behindRange.end = ranges.end(i3);
                }
                if (behindRange.start < behindRange.end) {
                  clearRanges.push(behindRange);
                }
              }
              return clearRanges;
            }
            function clearBuffers(ranges) {
              return new Promise(function(resolve2, reject) {
                if (!ranges || !sourceBufferSink || ranges.length === 0) {
                  resolve2();
                  return;
                }
                var promises = [];
                ranges.forEach(function(range) {
                  promises.push(_addClearRangeWithPromise(range));
                });
                if (!isPruningInProgress) {
                  clearNextRange();
                }
                Promise.all(promises).then(function() {
                  resolve2();
                })["catch"](function(e) {
                  reject(e);
                });
              });
            }
            function _addClearRangeWithPromise(range) {
              return new Promise(function(resolve2, reject) {
                range.resolve = resolve2;
                range.reject = reject;
                pendingPruningRanges.push(range);
              });
            }
            function clearNextRange() {
              try {
                if (pendingPruningRanges.length === 0 || !sourceBufferSink) {
                  logger.debug("Nothing to prune, halt pruning");
                  pendingPruningRanges = [];
                  isPruningInProgress = false;
                  return;
                }
                var sourceBuffer = sourceBufferSink.getBuffer();
                if (!sourceBuffer || !sourceBuffer.buffered || sourceBuffer.buffered.length === 0) {
                  logger.debug("SourceBuffer is empty (or does not exist), halt pruning");
                  pendingPruningRanges = [];
                  isPruningInProgress = false;
                  return;
                }
                var range = pendingPruningRanges.shift();
                logger.debug("".concat(type, ": Removing buffer from: ").concat(range.start, " to ").concat(range.end));
                isPruningInProgress = true;
                var currentTime = playbackController.getTime();
                if (currentTime < range.end) {
                  setIsBufferingCompleted(false);
                }
                sourceBufferSink.remove(range).then(function(e) {
                  _onRemoved(e);
                })["catch"](function(e) {
                  _onRemoved(e);
                });
              } catch (e) {
                isPruningInProgress = false;
              }
            }
            function _onRemoved(e) {
              logger.debug("onRemoved buffer from:", e.from, "to", e.to);
              var ranges = sourceBufferSink.getAllBufferRanges();
              _showBufferRanges(ranges);
              if (pendingPruningRanges.length === 0) {
                isPruningInProgress = false;
                _updateBufferLevel();
              }
              if (e.unintended) {
                logger.warn("Detected unintended removal from:", e.from, "to", e.to, "setting streamprocessor time to", e.from);
                _triggerEvent(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].SEEK_TARGET, {
                  time: e.from
                });
              }
              if (isPruningInProgress) {
                clearNextRange();
              } else {
                if (!replacingBuffer) {
                  _updateBufferLevel();
                } else {
                  replacingBuffer = false;
                }
                _triggerEvent(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].BUFFER_CLEARED, {
                  from: e.from,
                  to: e.to,
                  unintended: e.unintended,
                  hasEnoughSpaceToAppend: hasEnoughSpaceToAppend(),
                  quotaExceeded: isQuotaExceeded
                });
              }
            }
            function updateBufferTimestampOffset(representationInfo) {
              return new Promise(function(resolve2) {
                if (!representationInfo || representationInfo.MSETimeOffset === void 0 || !sourceBufferSink || !sourceBufferSink.updateTimestampOffset) {
                  resolve2();
                  return;
                }
                sourceBufferSink.updateTimestampOffset(representationInfo.MSETimeOffset).then(function() {
                  resolve2();
                })["catch"](function() {
                  resolve2();
                });
              });
            }
            function updateAppendWindow() {
              if (sourceBufferSink && !isBufferingCompleted) {
                return sourceBufferSink.updateAppendWindow(streamInfo);
              }
              return Promise.resolve();
            }
            function segmentRequestingCompleted(segmentIndex) {
              if (!isNaN(segmentIndex)) {
                maximumIndex = segmentIndex;
                _checkIfBufferingCompleted();
              }
            }
            function _onWallclockTimeUpdated() {
              wallclockTicked++;
              var secondsElapsed = wallclockTicked * (settings.get().streaming.wallclockTimeUpdateInterval / 1e3);
              if (secondsElapsed >= settings.get().streaming.buffer.bufferPruningInterval) {
                wallclockTicked = 0;
                pruneBuffer();
              }
            }
            function _onPlaybackRateChanged() {
              checkIfSufficientBuffer();
            }
            function getBuffer() {
              return sourceBufferSink;
            }
            function getBufferLevel() {
              return bufferLevel;
            }
            function getMediaSource() {
              return mediaSource;
            }
            function getIsBufferingCompleted() {
              return isBufferingCompleted;
            }
            function setIsBufferingCompleted(value) {
              if (isBufferingCompleted === value) {
                return;
              }
              isBufferingCompleted = value;
              if (isBufferingCompleted) {
                _triggerEvent(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].BUFFERING_COMPLETED);
              } else {
                maximumIndex = Number.POSITIVE_INFINITY;
              }
            }
            function getIsPruningInProgress() {
              return isPruningInProgress;
            }
            function getTotalBufferedTime() {
              try {
                var ranges = sourceBufferSink.getAllBufferRanges();
                var totalBufferedTime = 0;
                var ln, i3;
                if (!ranges)
                  return totalBufferedTime;
                for (i3 = 0, ln = ranges.length; i3 < ln; i3++) {
                  totalBufferedTime += ranges.end(i3) - ranges.start(i3);
                }
                return totalBufferedTime;
              } catch (e) {
                return 0;
              }
            }
            function getContinuousBufferTimeForTargetTime(targetTime) {
              try {
                var adjustedTime = targetTime;
                var ranges = sourceBufferSink.getAllBufferRanges();
                if (!ranges || ranges.length === 0) {
                  return targetTime;
                }
                var i3 = 0;
                while (adjustedTime === targetTime && i3 < ranges.length) {
                  var start = ranges.start(i3);
                  var end = ranges.end(i3);
                  if (adjustedTime >= start && adjustedTime <= end) {
                    adjustedTime = end;
                  }
                  i3 += 1;
                }
                return adjustedTime;
              } catch (e) {
              }
            }
            function hasEnoughSpaceToAppend() {
              var totalBufferedTime = getTotalBufferedTime();
              return isNaN(totalBufferedTime) || totalBufferedTime < criticalBufferLevel;
            }
            function setSeekTarget(value) {
              seekTarget = value;
            }
            function _triggerEvent(eventType, data) {
              var payload = data || {};
              eventBus.trigger(eventType, payload, {
                streamId: streamInfo.id,
                mediaType: type
              });
            }
            function resetInitialSettings(errored, keepBuffers) {
              criticalBufferLevel = Number.POSITIVE_INFINITY;
              bufferState = void 0;
              maximumIndex = Number.POSITIVE_INFINITY;
              maxAppendedIndex = 0;
              appendedBytesInfo = null;
              isBufferingCompleted = false;
              isPruningInProgress = false;
              isQuotaExceeded = false;
              bufferLevel = 0;
              wallclockTicked = 0;
              pendingPruningRanges = [];
              seekTarget = NaN;
              if (sourceBufferSink) {
                if (!errored && !keepBuffers) {
                  sourceBufferSink.abort().then(function() {
                    sourceBufferSink.reset(keepBuffers);
                    sourceBufferSink = null;
                  });
                } else {
                  sourceBufferSink = null;
                }
              }
              replacingBuffer = false;
            }
            function reset(errored, keepBuffers) {
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].INIT_FRAGMENT_LOADED, _onInitFragmentLoaded, this);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].MEDIA_FRAGMENT_LOADED, _onMediaFragmentLoaded, this);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].WALLCLOCK_TIME_UPDATED, _onWallclockTimeUpdated, this);
              eventBus.off(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_12__["default"].PLAYBACK_PLAYING, _onPlaybackPlaying, this);
              eventBus.off(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_12__["default"].PLAYBACK_PROGRESS, _onPlaybackProgression, this);
              eventBus.off(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_12__["default"].PLAYBACK_TIME_UPDATED, _onPlaybackProgression, this);
              eventBus.off(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_12__["default"].PLAYBACK_RATE_CHANGED, _onPlaybackRateChanged, this);
              eventBus.off(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_12__["default"].PLAYBACK_STALLED, _onPlaybackStalled, this);
              resetInitialSettings(errored, keepBuffers);
            }
            instance = {
              initialize,
              getStreamId,
              getType,
              getBufferControllerType,
              createBufferSink,
              getBuffer,
              getBufferLevel,
              getRangeAt,
              setMediaSource,
              getMediaSource,
              appendInitSegmentFromCache,
              getIsBufferingCompleted,
              setIsBufferingCompleted,
              getIsPruningInProgress,
              reset,
              prepareForPlaybackSeek,
              prepareForReplacementTrackSwitch,
              prepareForNonReplacementTrackSwitch,
              prepareForReplacementQualitySwitch,
              updateAppendWindow,
              getAllRangesWithSafetyFactor,
              getContinuousBufferTimeForTargetTime,
              clearBuffers,
              pruneAllSafely,
              updateBufferTimestampOffset,
              setSeekTarget,
              segmentRequestingCompleted
            };
            setup();
            return instance;
          }
          BufferController.__dashjs_factory_name = BUFFER_CONTROLLER_TYPE;
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_6__["default"].getClassFactory(BufferController);
        },
        "./src/streaming/controllers/EventController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/Debug.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/EventBus.js");
          var _streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/MediaPlayerEvents.js");
          var _net_XHRLoader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/net/XHRLoader.js");
          function EventController() {
            var MPD_RELOAD_SCHEME = "urn:mpeg:dash:event:2012";
            var MPD_RELOAD_VALUE = 1;
            var MPD_CALLBACK_SCHEME = "urn:mpeg:dash:event:callback:2015";
            var MPD_CALLBACK_VALUE = 1;
            var REMAINING_EVENTS_THRESHOLD = 300;
            var EVENT_HANDLED_STATES = {
              DISCARDED: "discarded",
              UPDATED: "updated",
              ADDED: "added"
            };
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_2__["default"])(context).getInstance();
            var instance, logger, inlineEvents, inbandEvents, eventInterval, lastEventTimerCall, manifestUpdater, playbackController, settings, eventHandlingInProgress, isStarted;
            function _setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_1__["default"])(context).getInstance().getLogger(instance);
              _resetInitialSettings();
            }
            function checkConfig() {
              if (!manifestUpdater || !playbackController) {
                throw new Error("setConfig function has to be called previously");
              }
            }
            function _resetInitialSettings() {
              isStarted = false;
              inlineEvents = {};
              inbandEvents = {};
              eventInterval = null;
              eventHandlingInProgress = false;
              lastEventTimerCall = Date.now() / 1e3;
            }
            function _stop() {
              try {
                if (eventInterval !== null && isStarted) {
                  clearInterval(eventInterval);
                  eventInterval = null;
                  isStarted = false;
                  _onStopEventController();
                }
              } catch (e) {
                throw e;
              }
            }
            function start() {
              try {
                checkConfig();
                logger.debug("Start Event Controller");
                var refreshDelay = settings.get().streaming.eventControllerRefreshDelay;
                if (!isStarted && !isNaN(refreshDelay)) {
                  isStarted = true;
                  eventInterval = setInterval(_onEventTimer, refreshDelay);
                }
              } catch (e) {
                throw e;
              }
            }
            function addInlineEvents(values) {
              try {
                checkConfig();
                if (values) {
                  for (var i3 = 0; i3 < values.length; i3++) {
                    var event = values[i3];
                    var result = _addOrUpdateEvent(event, inlineEvents, true);
                    if (result === EVENT_HANDLED_STATES.ADDED) {
                      logger.debug("Added inline event with id ".concat(event.id));
                      _startEvent(event, values, _streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_3__["default"].EVENT_MODE_ON_RECEIVE);
                    } else if (result === EVENT_HANDLED_STATES.UPDATED) {
                      logger.debug("Updated inline event with id ".concat(event.id));
                    }
                  }
                }
              } catch (e) {
                throw e;
              }
            }
            function addInbandEvents(values) {
              try {
                checkConfig();
                for (var i3 = 0; i3 < values.length; i3++) {
                  var event = values[i3];
                  var result = _addOrUpdateEvent(event, inbandEvents, false);
                  if (result === EVENT_HANDLED_STATES.ADDED) {
                    if (event.eventStream.schemeIdUri === MPD_RELOAD_SCHEME && inbandEvents[event.id] === void 0) {
                      _handleManifestReloadEvent(event);
                    }
                    logger.debug("Added inband event with id " + event.id);
                    _startEvent(event, values, _streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_3__["default"].EVENT_MODE_ON_RECEIVE);
                  } else {
                    logger.debug("Inband event with scheme_id_uri ".concat(event.eventStream.schemeIdUri, ", value ").concat(event.eventStream.value, " and id ").concat(event.id, " was ignored because it has been added before."));
                  }
                }
                _onEventTimer();
              } catch (e) {
                throw e;
              }
            }
            function _addOrUpdateEvent(event, events) {
              var shouldOverwriteExistingEvents = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;
              var schemeIdUri = event.eventStream.schemeIdUri;
              var value = event.eventStream.value;
              var id = event.id;
              var eventState = EVENT_HANDLED_STATES.DISCARDED;
              if (!events[schemeIdUri]) {
                events[schemeIdUri] = [];
              }
              var indexOfExistingEvent = events[schemeIdUri].findIndex(function(e) {
                return (!value || e.eventStream.value && e.eventStream.value === value) && e.id === id;
              });
              if (indexOfExistingEvent === -1) {
                events[schemeIdUri].push(event);
                eventState = EVENT_HANDLED_STATES.ADDED;
              } else if (shouldOverwriteExistingEvents) {
                events[schemeIdUri][indexOfExistingEvent] = event;
                eventState = EVENT_HANDLED_STATES.UPDATED;
              }
              return eventState;
            }
            function _handleManifestReloadEvent(event) {
              try {
                if (event.eventStream.value == MPD_RELOAD_VALUE) {
                  var validUntil = event.calculatedPresentationTime;
                  var newDuration;
                  if (event.calculatedPresentationTime == 4294967295) {
                    newDuration = NaN;
                  } else {
                    newDuration = event.calculatedPresentationTime + event.duration;
                  }
                  eventBus.trigger(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_3__["default"].MANIFEST_VALIDITY_CHANGED, {
                    id: event.id,
                    validUntil,
                    newDuration,
                    newManifestValidAfter: NaN
                  }, {
                    mode: _streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_3__["default"].EVENT_MODE_ON_START
                  });
                }
              } catch (e) {
              }
            }
            function _onEventTimer() {
              try {
                if (!eventHandlingInProgress) {
                  eventHandlingInProgress = true;
                  var currentVideoTime = playbackController.getTime();
                  var presentationTimeThreshold = currentVideoTime - lastEventTimerCall;
                  presentationTimeThreshold = lastEventTimerCall > 0 ? Math.max(0, presentationTimeThreshold) : 0;
                  _triggerEvents(inbandEvents, presentationTimeThreshold, currentVideoTime);
                  _triggerEvents(inlineEvents, presentationTimeThreshold, currentVideoTime);
                  lastEventTimerCall = currentVideoTime;
                  eventHandlingInProgress = false;
                }
              } catch (e) {
                eventHandlingInProgress = false;
              }
            }
            function _onStopEventController() {
              try {
                _triggerRemainingEvents(inbandEvents);
                _triggerRemainingEvents(inlineEvents);
              } catch (e) {
              }
            }
            function _triggerEvents(events, presentationTimeThreshold, currentVideoTime) {
              try {
                var callback = function callback2(event) {
                  if (event !== void 0) {
                    var duration = !isNaN(event.duration) ? event.duration : 0;
                    if (event.calculatedPresentationTime <= currentVideoTime && event.calculatedPresentationTime + presentationTimeThreshold + duration >= currentVideoTime) {
                      _startEvent(event, events, _streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_3__["default"].EVENT_MODE_ON_START);
                    } else if (_eventHasExpired(currentVideoTime, duration + presentationTimeThreshold, event.calculatedPresentationTime) || _eventIsInvalid(event)) {
                      logger.debug("Deleting event ".concat(event.id, " as it is expired or invalid"));
                      _removeEvent(events, event);
                    }
                  }
                };
                _iterateAndTriggerCallback(events, callback);
              } catch (e) {
              }
            }
            function _triggerRemainingEvents(events) {
              try {
                var currentTime = playbackController.getTime();
                var callback = function callback2(event) {
                  var periodDuration = event.eventStream && event.eventStream.period && !isNaN(event.eventStream.period.duration) ? event.eventStream.period.duration : NaN;
                  var periodStart = event.eventStream && event.eventStream.period && !isNaN(event.eventStream.period.start) ? event.eventStream.period.start : NaN;
                  if (isNaN(periodDuration) || isNaN(periodStart)) {
                    return;
                  }
                  var calculatedPresentationTimeInSeconds = event.calculatedPresentationTime;
                  if (Math.abs(calculatedPresentationTimeInSeconds - currentTime) < REMAINING_EVENTS_THRESHOLD) {
                    _startEvent(event, events, _streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_3__["default"].EVENT_MODE_ON_START);
                  }
                };
                _iterateAndTriggerCallback(events, callback);
              } catch (e) {
              }
            }
            function _iterateAndTriggerCallback(events, callback) {
              try {
                if (events) {
                  var schemeIdUris = Object.keys(events);
                  for (var i3 = 0; i3 < schemeIdUris.length; i3++) {
                    var schemeIdEvents = events[schemeIdUris[i3]];
                    schemeIdEvents.forEach(function(event) {
                      if (event !== void 0) {
                        callback(event);
                      }
                    });
                  }
                }
              } catch (e) {
              }
            }
            function _eventHasExpired(currentVideoTime, threshold, calculatedPresentationTimeInSeconds) {
              try {
                return currentVideoTime - threshold > calculatedPresentationTimeInSeconds;
              } catch (e) {
                return false;
              }
            }
            function _eventIsInvalid(event) {
              try {
                var periodEndTime = event.eventStream.period.start + event.eventStream.period.duration;
                return event.calculatedPresentationTime > periodEndTime;
              } catch (e) {
                return false;
              }
            }
            function _startEvent(event, events, mode) {
              try {
                var currentVideoTime = playbackController.getTime();
                var eventId = event.id;
                if (mode === _streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_3__["default"].EVENT_MODE_ON_RECEIVE) {
                  logger.debug("Received event ".concat(eventId));
                  eventBus.trigger(event.eventStream.schemeIdUri, {
                    event
                  }, {
                    mode
                  });
                  return;
                }
                if (event.eventStream.schemeIdUri === MPD_RELOAD_SCHEME && event.eventStream.value == MPD_RELOAD_VALUE) {
                  if (event.duration !== 0 || event.presentationTimeDelta !== 0) {
                    logger.debug("Starting manifest refresh event ".concat(eventId, " at ").concat(currentVideoTime));
                    _removeEvent(events, event);
                    _refreshManifest();
                  }
                } else if (event.eventStream.schemeIdUri === MPD_CALLBACK_SCHEME && event.eventStream.value == MPD_CALLBACK_VALUE) {
                  logger.debug("Starting callback event ".concat(eventId, " at ").concat(currentVideoTime));
                  _removeEvent(events, event);
                  _sendCallbackRequest(event.messageData);
                } else {
                  logger.debug("Starting event ".concat(eventId, " at ").concat(currentVideoTime));
                  _removeEvent(events, event);
                  eventBus.trigger(event.eventStream.schemeIdUri, {
                    event
                  }, {
                    mode
                  });
                }
              } catch (e) {
              }
            }
            function _removeEvent(events, event) {
              var schemeIdUri = event.eventStream.schemeIdUri;
              var value = event.eventStream.value;
              var id = event.id;
              events[schemeIdUri] = events[schemeIdUri].filter(function(e) {
                return value && e.eventStream.value && e.eventStream.value !== value || e.id !== id;
              });
              if (events[schemeIdUri].length === 0) {
                delete events[schemeIdUri];
              }
            }
            function _refreshManifest() {
              try {
                checkConfig();
                manifestUpdater.refreshManifest();
              } catch (e) {
              }
            }
            function _sendCallbackRequest(url) {
              try {
                var loader = Object(_net_XHRLoader__WEBPACK_IMPORTED_MODULE_4__["default"])(context).create({});
                loader.load({
                  method: "get",
                  url,
                  request: {
                    responseType: "arraybuffer"
                  }
                });
              } catch (e) {
                throw e;
              }
            }
            function setConfig(config) {
              try {
                if (!config) {
                  return;
                }
                if (config.manifestUpdater) {
                  manifestUpdater = config.manifestUpdater;
                }
                if (config.playbackController) {
                  playbackController = config.playbackController;
                }
                if (config.settings) {
                  settings = config.settings;
                }
              } catch (e) {
                throw e;
              }
            }
            function getInlineEvents() {
              return inlineEvents;
            }
            function getInbandEvents() {
              return inbandEvents;
            }
            function reset() {
              _stop();
              _resetInitialSettings();
            }
            instance = {
              addInlineEvents,
              addInbandEvents,
              getInbandEvents,
              getInlineEvents,
              start,
              setConfig,
              reset
            };
            _setup();
            return instance;
          }
          EventController.__dashjs_factory_name = "EventController";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getSingletonFactory(EventController);
        },
        "./src/streaming/controllers/FragmentController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _vo_DataChunk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/vo/DataChunk.js");
          var _models_FragmentModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/models/FragmentModel.js");
          var _FragmentLoader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/FragmentLoader.js");
          var _utils_RequestModifier__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/utils/RequestModifier.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/core/events/Events.js");
          var _MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/streaming/MediaPlayerEvents.js");
          var _core_errors_Errors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/core/errors/Errors.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/core/Debug.js");
          function FragmentController(config) {
            config = config || {};
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_5__["default"])(context).getInstance();
            var errHandler = config.errHandler;
            var mediaPlayerModel = config.mediaPlayerModel;
            var dashMetrics = config.dashMetrics;
            var debug = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_10__["default"])(context).getInstance();
            var streamInfo = config.streamInfo;
            var instance, logger, fragmentModels;
            function setup() {
              logger = debug.getLogger(instance);
              resetInitialSettings();
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].FRAGMENT_LOADING_COMPLETED, onFragmentLoadingCompleted, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].FRAGMENT_LOADING_PROGRESS, onFragmentLoadingCompleted, instance);
            }
            function getStreamId() {
              return streamInfo.id;
            }
            function getModel(type) {
              var model = fragmentModels[type];
              if (!model) {
                model = Object(_models_FragmentModel__WEBPACK_IMPORTED_MODULE_2__["default"])(context).create({
                  streamInfo,
                  type,
                  dashMetrics,
                  fragmentLoader: Object(_FragmentLoader__WEBPACK_IMPORTED_MODULE_3__["default"])(context).create({
                    dashMetrics,
                    mediaPlayerModel,
                    errHandler,
                    requestModifier: Object(_utils_RequestModifier__WEBPACK_IMPORTED_MODULE_4__["default"])(context).getInstance(),
                    settings: config.settings,
                    boxParser: config.boxParser,
                    eventBus,
                    events: _core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"],
                    errors: _core_errors_Errors__WEBPACK_IMPORTED_MODULE_8__["default"],
                    dashConstants: config.dashConstants,
                    urlUtils: config.urlUtils,
                    streamId: getStreamId()
                  }),
                  debug,
                  eventBus,
                  events: _core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"]
                });
                fragmentModels[type] = model;
              }
              return model;
            }
            function resetInitialSettings() {
              for (var model in fragmentModels) {
                fragmentModels[model].reset();
              }
              fragmentModels = {};
            }
            function reset() {
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].FRAGMENT_LOADING_COMPLETED, onFragmentLoadingCompleted, this);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].FRAGMENT_LOADING_PROGRESS, onFragmentLoadingCompleted, this);
              resetInitialSettings();
            }
            function createDataChunk(bytes, request, streamId, endFragment) {
              var chunk = new _vo_DataChunk__WEBPACK_IMPORTED_MODULE_1__["default"]();
              chunk.streamId = streamId;
              chunk.mediaInfo = request.mediaInfo;
              chunk.segmentType = request.type;
              chunk.start = request.startTime;
              chunk.duration = request.duration;
              chunk.end = chunk.start + chunk.duration;
              chunk.bytes = bytes;
              chunk.index = request.index;
              chunk.quality = request.quality;
              chunk.representationId = request.representationId;
              chunk.endFragment = endFragment;
              return chunk;
            }
            function onFragmentLoadingCompleted(e) {
              if (!e.sender)
                return;
              var request = e.request;
              var bytes = e.response;
              var isInit = request.isInitializationRequest();
              var strInfo = request.mediaInfo.streamInfo;
              if (e.error) {
                if (request.mediaType === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO || request.mediaType === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO || request.mediaType === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT && request.mediaInfo.isFragmented) {
                  eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].SERVICE_LOCATION_BLACKLIST_ADD, {
                    entry: e.request.serviceLocation
                  });
                }
              }
              if (!bytes || !strInfo) {
                logger.warn("No " + request.mediaType + " bytes to push or stream is inactive.");
                return;
              }
              var chunk = createDataChunk(bytes, request, streamInfo.id, e.type !== _core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].FRAGMENT_LOADING_PROGRESS);
              eventBus.trigger(isInit ? _core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].INIT_FRAGMENT_LOADED : _core_events_Events__WEBPACK_IMPORTED_MODULE_6__["default"].MEDIA_FRAGMENT_LOADED, {
                chunk,
                request
              }, {
                streamId: strInfo.id,
                mediaType: request.mediaType
              });
            }
            instance = {
              getStreamId,
              getModel,
              reset
            };
            setup();
            return instance;
          }
          FragmentController.__dashjs_factory_name = "FragmentController";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_9__["default"].getClassFactory(FragmentController);
        },
        "./src/streaming/controllers/GapController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/Debug.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/events/Events.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/core/EventBus.js");
          var GAP_HANDLER_INTERVAL = 100;
          var THRESHOLD_TO_STALLS = 10;
          var GAP_JUMP_WAITING_TIME_OFFSET = 0.1;
          function GapController() {
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_3__["default"])(context).getInstance();
            var instance, lastPlaybackTime, settings, wallclockTicked, gapHandlerInterval, lastGapJumpPosition, playbackController, streamController, videoModel, jumpTimeoutHandler, trackSwitchByMediaType, logger;
            function initialize() {
              _registerEvents();
            }
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_1__["default"])(context).getInstance().getLogger(instance);
              reset();
            }
            function reset() {
              _stopGapHandler();
              _unregisterEvents();
              resetInitialSettings();
            }
            function resetInitialSettings() {
              gapHandlerInterval = null;
              lastGapJumpPosition = NaN;
              wallclockTicked = 0;
              jumpTimeoutHandler = null;
              trackSwitchByMediaType = {};
            }
            function setConfig(config) {
              if (!config) {
                return;
              }
              if (config.settings) {
                settings = config.settings;
              }
              if (config.playbackController) {
                playbackController = config.playbackController;
              }
              if (config.streamController) {
                streamController = config.streamController;
              }
              if (config.videoModel) {
                videoModel = config.videoModel;
              }
            }
            function _registerEvents() {
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].WALLCLOCK_TIME_UPDATED, _onWallclockTimeUpdated, this);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].INITIAL_STREAM_SWITCH, _onInitialStreamSwitch, this);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].PLAYBACK_SEEKING, _onPlaybackSeeking, this);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].BUFFER_REPLACEMENT_STARTED, _onBufferReplacementStarted, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].TRACK_CHANGE_RENDERED, _onBufferReplacementEnded, instance);
            }
            function _unregisterEvents() {
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].WALLCLOCK_TIME_UPDATED, _onWallclockTimeUpdated, this);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].INITIAL_STREAM_SWITCH, _onInitialStreamSwitch, this);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].PLAYBACK_SEEKING, _onPlaybackSeeking, this);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].BUFFER_REPLACEMENT_STARTED, _onBufferReplacementStarted, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].TRACK_CHANGE_RENDERED, _onBufferReplacementEnded, instance);
            }
            function _onPlaybackSeeking() {
              if (jumpTimeoutHandler) {
                clearTimeout(jumpTimeoutHandler);
                jumpTimeoutHandler = null;
              }
            }
            function _onBufferReplacementStarted(e) {
              try {
                if (e.streamId !== streamController.getActiveStreamInfo().id || !e.mediaType) {
                  return;
                }
                if (e.streamId === streamController.getActiveStreamInfo().id) {
                  trackSwitchByMediaType[e.mediaType] = true;
                }
              } catch (e2) {
                logger.error(e2);
              }
            }
            function _onBufferReplacementEnded(e) {
              if (!e || !e.mediaType) {
                return;
              }
              trackSwitchByMediaType[e.mediaType] = false;
            }
            function _onInitialStreamSwitch() {
              if (!gapHandlerInterval) {
                _startGapHandler();
              }
            }
            function _onWallclockTimeUpdated() {
              if (!_shouldCheckForGaps(settings.get().streaming.gaps.enableSeekFix)) {
                return;
              }
              wallclockTicked++;
              if (wallclockTicked >= THRESHOLD_TO_STALLS) {
                var currentTime = playbackController.getTime();
                if (lastPlaybackTime === currentTime) {
                  _jumpGap(currentTime, true);
                } else {
                  lastPlaybackTime = currentTime;
                  lastGapJumpPosition = NaN;
                }
                wallclockTicked = 0;
              }
            }
            function _shouldCheckForGaps() {
              var checkSeekingState = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;
              var trackSwitchInProgress = Object.keys(trackSwitchByMediaType).some(function(key) {
                return trackSwitchByMediaType[key];
              });
              var shouldIgnoreSeekingState = checkSeekingState ? _shouldIgnoreSeekingState() : false;
              return !trackSwitchInProgress && settings.get().streaming.gaps.jumpGaps && streamController.getActiveStreamProcessors().length > 0 && (!playbackController.isSeeking() || shouldIgnoreSeekingState) && !playbackController.isPaused() && !streamController.getIsStreamSwitchInProgress() && !streamController.getHasMediaOrInitialisationError();
            }
            function _shouldIgnoreSeekingState() {
              var activeStream = streamController.getActiveStream();
              var streamEnd = parseFloat((activeStream.getStartTime().toFixed(5) + activeStream.getDuration()).toFixed(5));
              return playbackController.getTime() + settings.get().streaming.gaps.threshold >= streamEnd;
            }
            function _getNextRangeIndex(ranges, currentTime) {
              try {
                if (!ranges || ranges.length <= 1 && currentTime > 0) {
                  return NaN;
                }
                var nextRangeIndex = NaN;
                var j = 0;
                while (isNaN(nextRangeIndex) && j < ranges.length) {
                  var rangeEnd = j > 0 ? ranges.end(j - 1) : 0;
                  if (currentTime < ranges.start(j) && rangeEnd - currentTime < settings.get().streaming.gaps.threshold) {
                    nextRangeIndex = j;
                  }
                  j += 1;
                }
                return nextRangeIndex;
              } catch (e) {
                return null;
              }
            }
            function _startGapHandler() {
              try {
                if (!gapHandlerInterval) {
                  logger.debug("Starting the gap controller");
                  gapHandlerInterval = setInterval(function() {
                    if (!_shouldCheckForGaps()) {
                      return;
                    }
                    var currentTime = playbackController.getTime();
                    _jumpGap(currentTime);
                  }, GAP_HANDLER_INTERVAL);
                }
              } catch (e) {
              }
            }
            function _stopGapHandler() {
              logger.debug("Stopping the gap controller");
              if (gapHandlerInterval) {
                clearInterval(gapHandlerInterval);
                gapHandlerInterval = null;
              }
            }
            function _jumpGap(currentTime) {
              var playbackStalled = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
              var smallGapLimit = settings.get().streaming.gaps.smallGapLimit;
              var jumpLargeGaps = settings.get().streaming.gaps.jumpLargeGaps;
              var ranges = videoModel.getBufferRange();
              var nextRangeIndex;
              var seekToPosition = NaN;
              var jumpToStreamEnd = false;
              nextRangeIndex = _getNextRangeIndex(ranges, currentTime);
              if (!isNaN(nextRangeIndex)) {
                var start = ranges.start(nextRangeIndex);
                var gap = start - currentTime;
                if (gap > 0 && (gap <= smallGapLimit || jumpLargeGaps)) {
                  seekToPosition = start;
                }
              }
              var timeToStreamEnd = playbackController.getTimeToStreamEnd();
              if (isNaN(seekToPosition) && playbackStalled && isFinite(timeToStreamEnd) && !isNaN(timeToStreamEnd) && timeToStreamEnd < smallGapLimit) {
                seekToPosition = parseFloat(playbackController.getStreamEndTime().toFixed(5));
                jumpToStreamEnd = true;
              }
              if (seekToPosition > 0 && lastGapJumpPosition !== seekToPosition && seekToPosition > currentTime && !jumpTimeoutHandler) {
                var timeUntilGapEnd = seekToPosition - currentTime;
                if (jumpToStreamEnd) {
                  var nextStream = streamController.getStreamForTime(seekToPosition);
                  var internalSeek = nextStream && !!nextStream.getPreloaded();
                  logger.warn("Jumping to end of stream because of gap from ".concat(currentTime, " to ").concat(seekToPosition, ". Gap duration: ").concat(timeUntilGapEnd));
                  playbackController.seek(seekToPosition, true, internalSeek);
                } else {
                  var isDynamic = playbackController.getIsDynamic();
                  var _start = nextRangeIndex > 0 ? ranges.end(nextRangeIndex - 1) : currentTime;
                  var timeToWait = !isDynamic ? 0 : Math.max(0, timeUntilGapEnd - GAP_JUMP_WAITING_TIME_OFFSET) * 1e3;
                  jumpTimeoutHandler = window.setTimeout(function() {
                    playbackController.seek(seekToPosition, true, true);
                    logger.warn("Jumping gap occuring in period ".concat(streamController.getActiveStream().getStreamId(), " starting at ").concat(_start, " and ending at ").concat(seekToPosition, ". Jumping by: ").concat(timeUntilGapEnd - timeToWait / 1e3));
                    jumpTimeoutHandler = null;
                  }, timeToWait);
                }
                lastGapJumpPosition = seekToPosition;
              }
            }
            instance = {
              reset,
              setConfig,
              initialize
            };
            setup();
            return instance;
          }
          GapController.__dashjs_factory_name = "GapController";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getSingletonFactory(GapController);
        },
        "./src/streaming/controllers/MediaController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/events/Events.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/EventBus.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/core/Debug.js");
          function MediaController() {
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_2__["default"])(context).getInstance();
            var instance, logger, tracks, settings, initialSettings, lastSelectedTracks, domStorage, customInitialTrackSelectionFunction;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_4__["default"])(context).getInstance().getLogger(instance);
              reset();
            }
            function setInitialMediaSettingsForType(type, streamInfo) {
              var settings2 = lastSelectedTracks[type] || getInitialSettings(type);
              var tracksForType = getTracksFor(type, streamInfo.id);
              var tracks2 = [];
              if (!settings2) {
                settings2 = domStorage.getSavedMediaSettings(type);
                setInitialSettings(type, settings2);
              }
              if (!tracksForType || tracksForType.length === 0)
                return;
              if (settings2) {
                tracksForType.forEach(function(track) {
                  if (matchSettings(settings2, track, !!lastSelectedTracks[type])) {
                    tracks2.push(track);
                  }
                });
              }
              if (tracks2.length === 0) {
                setTrack(selectInitialTrack(type, tracksForType), true);
              } else {
                if (tracks2.length > 1) {
                  setTrack(selectInitialTrack(type, tracks2, !!lastSelectedTracks[type]));
                } else {
                  setTrack(tracks2[0]);
                }
              }
            }
            function addTrack(track) {
              if (!track)
                return;
              var mediaType = track.type;
              if (!_isMultiTrackSupportedByType(mediaType))
                return;
              var streamId = track.streamInfo.id;
              if (!tracks[streamId]) {
                tracks[streamId] = createTrackInfo();
              }
              var mediaTracks = tracks[streamId][mediaType].list;
              for (var i3 = 0, len = mediaTracks.length; i3 < len; ++i3) {
                if (isTracksEqual(mediaTracks[i3], track)) {
                  return;
                }
              }
              mediaTracks.push(track);
            }
            function getTracksFor(type, streamId) {
              if (!type)
                return [];
              if (!tracks[streamId] || !tracks[streamId][type])
                return [];
              return tracks[streamId][type].list;
            }
            function getCurrentTrackFor(type, streamId) {
              if (!type || !tracks[streamId] || !tracks[streamId][type])
                return null;
              return tracks[streamId][type].current;
            }
            function isCurrentTrack(track) {
              if (!track) {
                return false;
              }
              var type = track.type;
              var id = track.streamInfo.id;
              return tracks[id] && tracks[id][type] && isTracksEqual(tracks[id][type].current, track);
            }
            function setTrack(track) {
              var noSettingsSave = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
              if (!track || !track.streamInfo)
                return;
              var type = track.type;
              var streamInfo = track.streamInfo;
              var id = streamInfo.id;
              var current = getCurrentTrackFor(type, id);
              if (!tracks[id] || !tracks[id][type] || isTracksEqual(track, current))
                return;
              tracks[id][type].current = track;
              if (tracks[id][type].current && (type !== _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT || type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT && track.isFragmented)) {
                eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_1__["default"].CURRENT_TRACK_CHANGED, {
                  oldMediaInfo: current,
                  newMediaInfo: track,
                  switchMode: settings.get().streaming.trackSwitchMode[type]
                }, {
                  streamId: id
                });
              }
              if (!noSettingsSave) {
                var _settings = extractSettings(track);
                if (!_settings || !tracks[id][type].storeLastSettings)
                  return;
                if (_settings.roles) {
                  _settings.role = _settings.roles[0];
                  delete _settings.roles;
                }
                if (_settings.accessibility) {
                  _settings.accessibility = _settings.accessibility[0];
                }
                if (_settings.audioChannelConfiguration) {
                  _settings.audioChannelConfiguration = _settings.audioChannelConfiguration[0];
                }
                lastSelectedTracks[type] = _settings;
                domStorage.setSavedMediaSettings(type, _settings);
              }
            }
            function setInitialSettings(type, value) {
              if (!type || !value)
                return;
              initialSettings[type] = value;
            }
            function getInitialSettings(type) {
              if (!type)
                return null;
              return initialSettings[type];
            }
            function saveTextSettingsDisabled() {
              domStorage.setSavedMediaSettings(_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT, null);
            }
            function _isMultiTrackSupportedByType(type) {
              return type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO || type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO || type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT || type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].IMAGE;
            }
            function isTracksEqual(t1, t2) {
              if (!t1 && !t2) {
                return true;
              }
              if (!t1 || !t2) {
                return false;
              }
              var sameId = t1.id === t2.id;
              var sameViewpoint = t1.viewpoint === t2.viewpoint;
              var sameLang = t1.lang === t2.lang;
              var sameCodec = t1.codec === t2.codec;
              var sameRoles = t1.roles.toString() === t2.roles.toString();
              var sameAccessibility = t1.accessibility.toString() === t2.accessibility.toString();
              var sameAudioChannelConfiguration = t1.audioChannelConfiguration.toString() === t2.audioChannelConfiguration.toString();
              return sameId && sameCodec && sameViewpoint && sameLang && sameRoles && sameAccessibility && sameAudioChannelConfiguration;
            }
            function setConfig(config) {
              if (!config)
                return;
              if (config.domStorage) {
                domStorage = config.domStorage;
              }
              if (config.settings) {
                settings = config.settings;
              }
            }
            function reset() {
              tracks = {};
              lastSelectedTracks = {};
              customInitialTrackSelectionFunction = null;
              resetInitialSettings();
            }
            function extractSettings(mediaInfo) {
              var settings2 = {
                lang: mediaInfo.lang,
                viewpoint: mediaInfo.viewpoint,
                roles: mediaInfo.roles,
                accessibility: mediaInfo.accessibility,
                audioChannelConfiguration: mediaInfo.audioChannelConfiguration
              };
              var notEmpty = settings2.lang || settings2.viewpoint || settings2.role && settings2.role.length > 0 || settings2.accessibility && settings2.accessibility.length > 0 || settings2.audioChannelConfiguration && settings2.audioChannelConfiguration.length > 0;
              return notEmpty ? settings2 : null;
            }
            function matchSettings(settings2, track) {
              var isTrackActive = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;
              var matchLang = !settings2.lang || track.lang.match(settings2.lang);
              var matchIndex = settings2.index === void 0 || settings2.index === null || track.index === settings2.index;
              var matchViewPoint = !settings2.viewpoint || settings2.viewpoint === track.viewpoint;
              var matchRole = !settings2.role || !!track.roles.filter(function(item) {
                return item === settings2.role;
              })[0];
              var matchAccessibility = !settings2.accessibility || !!track.accessibility.filter(function(item) {
                return item === settings2.accessibility;
              })[0];
              var matchAudioChannelConfiguration = !settings2.audioChannelConfiguration || !!track.audioChannelConfiguration.filter(function(item) {
                return item === settings2.audioChannelConfiguration;
              })[0];
              return matchLang && matchIndex && matchViewPoint && (matchRole || track.type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO && isTrackActive) && matchAccessibility && matchAudioChannelConfiguration;
            }
            function resetInitialSettings() {
              initialSettings = {
                audio: null,
                video: null,
                text: null
              };
            }
            function getTracksWithHighestSelectionPriority(trackArr) {
              var max = 0;
              var result = [];
              trackArr.forEach(function(track) {
                if (!isNaN(track.selectionPriority)) {
                  if (track.selectionPriority > max) {
                    max = track.selectionPriority;
                    result = [track];
                  } else if (track.selectionPriority === max) {
                    result.push(track);
                  }
                }
              });
              return result;
            }
            function getTracksWithHighestBitrate(trackArr) {
              var max = 0;
              var result = [];
              var tmp;
              trackArr.forEach(function(track) {
                tmp = Math.max.apply(Math, track.bitrateList.map(function(obj) {
                  return obj.bandwidth;
                }));
                if (tmp > max) {
                  max = tmp;
                  result = [track];
                } else if (tmp === max) {
                  result.push(track);
                }
              });
              return result;
            }
            function getTracksWithHighestEfficiency(trackArr) {
              var min = Infinity;
              var result = [];
              var tmp;
              trackArr.forEach(function(track) {
                var sum = track.bitrateList.reduce(function(acc, obj) {
                  var resolution = Math.max(1, obj.width * obj.height);
                  var efficiency = obj.bandwidth / resolution;
                  return acc + efficiency;
                }, 0);
                tmp = sum / track.bitrateList.length;
                if (tmp < min) {
                  min = tmp;
                  result = [track];
                } else if (tmp === min) {
                  result.push(track);
                }
              });
              return result;
            }
            function getTracksWithWidestRange(trackArr) {
              var max = 0;
              var result = [];
              var tmp;
              trackArr.forEach(function(track) {
                tmp = track.representationCount;
                if (tmp > max) {
                  max = tmp;
                  result = [track];
                } else if (tmp === max) {
                  result.push(track);
                }
              });
              return result;
            }
            function setCustomInitialTrackSelectionFunction(customFunc) {
              customInitialTrackSelectionFunction = customFunc;
            }
            function selectInitialTrack(type, tracks2) {
              if (type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT)
                return tracks2[0];
              var mode = settings.get().streaming.selectionModeForInitialTrack;
              var tmpArr;
              if (customInitialTrackSelectionFunction && typeof customInitialTrackSelectionFunction === "function") {
                tmpArr = customInitialTrackSelectionFunction(tracks2);
              } else {
                switch (mode) {
                  case _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:
                    tmpArr = _trackSelectionModeHighestSelectionPriority(tracks2);
                    break;
                  case _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TRACK_SELECTION_MODE_HIGHEST_BITRATE:
                    tmpArr = _trackSelectionModeHighestBitrate(tracks2);
                    break;
                  case _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TRACK_SELECTION_MODE_FIRST_TRACK:
                    tmpArr = _trackSelectionModeFirstTrack(tracks2);
                    break;
                  case _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:
                    tmpArr = _trackSelectionModeHighestEfficiency(tracks2);
                    break;
                  case _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TRACK_SELECTION_MODE_WIDEST_RANGE:
                    tmpArr = _trackSelectionModeWidestRange(tracks2);
                    break;
                  default:
                    logger.warn("Track selection mode ".concat(mode, " is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK"));
                    tmpArr = _trackSelectionModeFirstTrack(tracks2);
                    break;
                }
              }
              return tmpArr.length > 0 ? tmpArr[0] : tracks2[0];
            }
            function _trackSelectionModeHighestSelectionPriority(tracks2) {
              var tmpArr = getTracksWithHighestSelectionPriority(tracks2);
              if (tmpArr.length > 1) {
                tmpArr = getTracksWithHighestBitrate(tmpArr);
              }
              if (tmpArr.length > 1) {
                tmpArr = getTracksWithWidestRange(tmpArr);
              }
              return tmpArr;
            }
            function _trackSelectionModeHighestBitrate(tracks2) {
              var tmpArr = getTracksWithHighestBitrate(tracks2);
              if (tmpArr.length > 1) {
                tmpArr = getTracksWithWidestRange(tmpArr);
              }
              return tmpArr;
            }
            function _trackSelectionModeFirstTrack(tracks2) {
              return tracks2[0];
            }
            function _trackSelectionModeHighestEfficiency(tracks2) {
              var tmpArr = getTracksWithHighestEfficiency(tracks2);
              if (tmpArr.length > 1) {
                tmpArr = getTracksWithHighestBitrate(tmpArr);
              }
              return tmpArr;
            }
            function _trackSelectionModeWidestRange(tracks2) {
              var tmpArr = getTracksWithWidestRange(tracks2);
              if (tmpArr.length > 1) {
                tmpArr = getTracksWithHighestBitrate(tracks2);
              }
              return tmpArr;
            }
            function createTrackInfo() {
              return {
                audio: {
                  list: [],
                  storeLastSettings: true,
                  current: null
                },
                video: {
                  list: [],
                  storeLastSettings: true,
                  current: null
                },
                text: {
                  list: [],
                  storeLastSettings: true,
                  current: null
                },
                image: {
                  list: [],
                  storeLastSettings: true,
                  current: null
                }
              };
            }
            instance = {
              setInitialMediaSettingsForType,
              addTrack,
              getTracksFor,
              getCurrentTrackFor,
              isCurrentTrack,
              setTrack,
              selectInitialTrack,
              setCustomInitialTrackSelectionFunction,
              setInitialSettings,
              getInitialSettings,
              getTracksWithHighestBitrate,
              getTracksWithHighestEfficiency,
              getTracksWithWidestRange,
              isTracksEqual,
              matchSettings,
              saveTextSettingsDisabled,
              setConfig,
              reset
            };
            setup();
            return instance;
          }
          MediaController.__dashjs_factory_name = "MediaController";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_3__["default"].getSingletonFactory(MediaController);
          _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_3__["default"].updateSingletonFactory(MediaController.__dashjs_factory_name, factory);
          __webpack_exports__["default"] = factory;
        },
        "./src/streaming/controllers/MediaSourceController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/Debug.js");
          function MediaSourceController() {
            var instance, mediaSource, logger;
            var context = this.context;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_1__["default"])(context).getInstance().getLogger(instance);
            }
            function createMediaSource() {
              var hasWebKit = "WebKitMediaSource" in window;
              var hasMediaSource = "MediaSource" in window;
              if (hasMediaSource) {
                mediaSource = new MediaSource();
              } else if (hasWebKit) {
                mediaSource = new WebKitMediaSource();
              }
              return mediaSource;
            }
            function attachMediaSource(videoModel) {
              var objectURL = window.URL.createObjectURL(mediaSource);
              videoModel.setSource(objectURL);
              return objectURL;
            }
            function detachMediaSource(videoModel) {
              videoModel.setSource(null);
            }
            function setDuration(value) {
              if (!mediaSource || mediaSource.readyState !== "open")
                return;
              if (value === null && isNaN(value))
                return;
              if (mediaSource.duration === value)
                return;
              if (!isBufferUpdating(mediaSource)) {
                logger.info("Set MediaSource duration:" + value);
                mediaSource.duration = value;
              } else {
                setTimeout(setDuration.bind(null, value), 50);
              }
            }
            function setSeekable(start, end) {
              if (mediaSource && typeof mediaSource.setLiveSeekableRange === "function" && typeof mediaSource.clearLiveSeekableRange === "function" && mediaSource.readyState === "open" && start >= 0 && start < end) {
                mediaSource.clearLiveSeekableRange();
                mediaSource.setLiveSeekableRange(start, end);
              }
            }
            function signalEndOfStream(source) {
              if (!source || source.readyState !== "open") {
                return;
              }
              var buffers = source.sourceBuffers;
              for (var i3 = 0; i3 < buffers.length; i3++) {
                if (buffers[i3].updating) {
                  return;
                }
                if (buffers[i3].buffered.length === 0) {
                  return;
                }
              }
              logger.info("call to mediaSource endOfStream");
              source.endOfStream();
            }
            function isBufferUpdating(source) {
              var buffers = source.sourceBuffers;
              for (var i3 = 0; i3 < buffers.length; i3++) {
                if (buffers[i3].updating) {
                  return true;
                }
              }
              return false;
            }
            instance = {
              createMediaSource,
              attachMediaSource,
              detachMediaSource,
              setDuration,
              setSeekable,
              signalEndOfStream
            };
            setup();
            return instance;
          }
          MediaSourceController.__dashjs_factory_name = "MediaSourceController";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getSingletonFactory(MediaSourceController);
        },
        "./src/streaming/controllers/PlaybackController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/constants/MetricsConstants.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/core/events/Events.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/core/Debug.js");
          var _streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/streaming/MediaPlayerEvents.js");
          var LIVE_UPDATE_PLAYBACK_TIME_INTERVAL_MS = 500;
          function PlaybackController() {
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_2__["default"])(context).getInstance();
            var instance, logger, streamController, dashMetrics, adapter, videoModel, timelineConverter, wallclockTimeIntervalId, liveDelay, streamInfo, isDynamic, mediaPlayerModel, playOnceInitialized, lastLivePlaybackTime, availabilityStartTime, seekTarget, internalSeek, isLowLatencySeekingInProgress, playbackStalled, minPlaybackRateChange, settings;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_5__["default"])(context).getInstance().getLogger(instance);
              reset();
            }
            function initialize(sInfo, periodSwitch) {
              streamInfo = sInfo;
              if (periodSwitch !== true) {
                _initializeForFirstStream();
              } else {
                _initializeAfterStreamSwitch();
              }
            }
            function _initializeForFirstStream() {
              addAllListeners();
              isDynamic = streamInfo.manifestInfo.isDynamic;
              isLowLatencySeekingInProgress = false;
              playbackStalled = false;
              internalSeek = false;
              var ua = typeof navigator !== "undefined" ? navigator.userAgent.toLowerCase() : "";
              var isSafari = /safari/.test(ua) && !/chrome/.test(ua);
              minPlaybackRateChange = isSafari ? 0.25 : 0.02;
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].DATA_UPDATE_COMPLETED, _onDataUpdateCompleted, this);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].LOADING_PROGRESS, _onFragmentLoadProgress, this);
              eventBus.on(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_6__["default"].BUFFER_LEVEL_STATE_CHANGED, _onBufferLevelStateChanged, this);
              eventBus.on(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_6__["default"].PLAYBACK_PROGRESS, _onPlaybackProgression, this);
              eventBus.on(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_6__["default"].PLAYBACK_TIME_UPDATED, _onPlaybackProgression, this);
              eventBus.on(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_6__["default"].PLAYBACK_ENDED, _onPlaybackEnded, this, {
                priority: _core_EventBus__WEBPACK_IMPORTED_MODULE_2__["default"].EVENT_PRIORITY_HIGH
              });
              eventBus.on(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_6__["default"].STREAM_INITIALIZING, _onStreamInitializing, this);
              eventBus.on(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_6__["default"].REPRESENTATION_SWITCH, _onRepresentationSwitch, this);
              if (playOnceInitialized) {
                playOnceInitialized = false;
                play();
              }
            }
            function _initializeAfterStreamSwitch() {
            }
            function getTimeToStreamEnd() {
              var sInfo = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null;
              return parseFloat((getStreamEndTime(sInfo) - getTime()).toFixed(5));
            }
            function getStreamEndTime(sInfo) {
              var refInfo = sInfo ? sInfo : streamInfo;
              return refInfo.start + refInfo.duration;
            }
            function play() {
              if (streamInfo && videoModel && videoModel.getElement()) {
                videoModel.play();
              } else {
                playOnceInitialized = true;
              }
            }
            function isPaused() {
              return streamInfo && videoModel ? videoModel.isPaused() : null;
            }
            function pause() {
              if (streamInfo && videoModel) {
                videoModel.pause();
              }
            }
            function isSeeking() {
              return streamInfo && videoModel ? videoModel.isSeeking() : null;
            }
            function isStalled() {
              return streamInfo && videoModel ? videoModel.isStalled() : null;
            }
            function seek(time, stickToBuffered, internal) {
              if (!streamInfo || !videoModel)
                return;
              var currentTime = !isNaN(seekTarget) ? seekTarget : videoModel.getTime();
              if (time === currentTime)
                return;
              internalSeek = internal === true;
              if (!internalSeek) {
                seekTarget = time;
                eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].PLAYBACK_SEEK_ASKED);
              }
              logger.info("Requesting seek to time: " + time + (internalSeek ? " (internal)" : ""));
              videoModel.setCurrentTime(time, stickToBuffered);
            }
            function seekToLive() {
              var type = streamController && streamController.hasVideoTrack() ? _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO : _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO;
              var DVRMetrics = dashMetrics.getCurrentDVRInfo(type);
              var DVRWindow = DVRMetrics ? DVRMetrics.range : null;
              seek(DVRWindow.end - mediaPlayerModel.getLiveDelay(), true, false);
            }
            function getTime() {
              return streamInfo && videoModel ? videoModel.getTime() : null;
            }
            function getNormalizedTime() {
              var t2 = getTime();
              if (isDynamic && !isNaN(availabilityStartTime)) {
                var timeOffset = availabilityStartTime / 1e3;
                if (t2 > timeOffset) {
                  t2 -= timeOffset;
                }
              }
              return t2;
            }
            function getPlaybackRate() {
              return streamInfo && videoModel ? videoModel.getPlaybackRate() : null;
            }
            function getPlayedRanges() {
              return streamInfo && videoModel ? videoModel.getPlayedRanges() : null;
            }
            function getEnded() {
              return streamInfo && videoModel ? videoModel.getEnded() : null;
            }
            function getIsDynamic() {
              return isDynamic;
            }
            function getStreamController() {
              return streamController;
            }
            function computeAndSetLiveDelay(fragmentDuration, manifestInfo) {
              var delay, ret, startTime;
              var END_OF_PLAYLIST_PADDING = 10;
              var MIN_BUFFER_TIME_FACTOR = 4;
              var FRAGMENT_DURATION_FACTOR = 4;
              var adjustedFragmentDuration = !isNaN(fragmentDuration) && isFinite(fragmentDuration) ? fragmentDuration : NaN;
              var suggestedPresentationDelay = adapter.getSuggestedPresentationDelay();
              if (settings.get().streaming.delay.applyServiceDescription && isNaN(settings.get().streaming.delay.liveDelay) && isNaN(settings.get().streaming.delay.liveDelayFragmentCount)) {
                _applyServiceDescription(manifestInfo);
              }
              if (mediaPlayerModel.getLiveDelay()) {
                delay = mediaPlayerModel.getLiveDelay();
              } else if (settings.get().streaming.delay.liveDelayFragmentCount !== null && !isNaN(settings.get().streaming.delay.liveDelayFragmentCount) && !isNaN(adjustedFragmentDuration)) {
                delay = adjustedFragmentDuration * settings.get().streaming.delay.liveDelayFragmentCount;
              } else if (settings.get().streaming.delay.useSuggestedPresentationDelay === true && suggestedPresentationDelay !== null && !isNaN(suggestedPresentationDelay) && suggestedPresentationDelay > 0) {
                delay = suggestedPresentationDelay;
              } else if (!isNaN(adjustedFragmentDuration)) {
                delay = adjustedFragmentDuration * FRAGMENT_DURATION_FACTOR;
              } else {
                delay = manifestInfo && !isNaN(manifestInfo.minBufferTime) ? manifestInfo.minBufferTime * MIN_BUFFER_TIME_FACTOR : streamInfo.manifestInfo.minBufferTime * MIN_BUFFER_TIME_FACTOR;
              }
              startTime = adapter.getAvailabilityStartTime();
              if (startTime !== null) {
                availabilityStartTime = startTime;
              }
              if (manifestInfo && manifestInfo.dvrWindowSize > 0) {
                var targetDelayCapping = Math.max(manifestInfo.dvrWindowSize - END_OF_PLAYLIST_PADDING, manifestInfo.dvrWindowSize / 2);
                ret = Math.min(delay, targetDelayCapping);
              } else {
                ret = delay;
              }
              liveDelay = ret;
              return ret;
            }
            function _applyServiceDescription(manifestInfo) {
              if (!manifestInfo || !manifestInfo.serviceDescriptions) {
                return;
              }
              var llsd = null;
              for (var i3 = 0; i3 < manifestInfo.serviceDescriptions.length; i3++) {
                var sd = manifestInfo.serviceDescriptions[i3];
                if (sd.schemeIdUri === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].SERVICE_DESCRIPTION_LL_SCHEME) {
                  llsd = sd;
                  break;
                }
              }
              if (llsd) {
                if (llsd.latency && llsd.latency.target > 0) {
                  logger.debug("Apply LL properties coming from service description. Target Latency (ms):", llsd.latency.target);
                  settings.update({
                    streaming: {
                      delay: {
                        liveDelay: llsd.latency.target / 1e3
                      },
                      liveCatchup: {
                        minDrift: (llsd.latency.target + 500) / 1e3,
                        maxDrift: llsd.latency.max > llsd.latency.target ? (llsd.latency.max - llsd.latency.target + 500) / 1e3 : void 0
                      }
                    }
                  });
                }
                if (llsd.playbackRate && llsd.playbackRate.max > 1) {
                  logger.debug("Apply LL properties coming from service description. Max PlaybackRate:", llsd.playbackRate.max);
                  settings.update({
                    streaming: {
                      liveCatchup: {
                        playbackRate: llsd.playbackRate.max - 1
                      }
                    }
                  });
                }
              }
            }
            function getAvailabilityStartTime() {
              return availabilityStartTime;
            }
            function getLiveDelay() {
              return liveDelay;
            }
            function getCurrentLiveLatency() {
              if (!isDynamic || isNaN(availabilityStartTime)) {
                return NaN;
              }
              var currentTime = getNormalizedTime();
              if (isNaN(currentTime) || currentTime === 0) {
                return 0;
              }
              var now = new Date().getTime() + timelineConverter.getClientTimeOffset() * 1e3;
              return Math.max(((now - availabilityStartTime - currentTime * 1e3) / 1e3).toFixed(3), 0);
            }
            function reset() {
              pause();
              playOnceInitialized = false;
              liveDelay = 0;
              availabilityStartTime = 0;
              seekTarget = NaN;
              if (videoModel) {
                eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].DATA_UPDATE_COMPLETED, _onDataUpdateCompleted, this);
                eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].LOADING_PROGRESS, _onFragmentLoadProgress, this);
                eventBus.off(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_6__["default"].BUFFER_LEVEL_STATE_CHANGED, _onBufferLevelStateChanged, this);
                eventBus.off(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_6__["default"].PLAYBACK_PROGRESS, _onPlaybackProgression, this);
                eventBus.off(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_6__["default"].PLAYBACK_TIME_UPDATED, _onPlaybackProgression, this);
                eventBus.off(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_6__["default"].PLAYBACK_ENDED, _onPlaybackEnded, this);
                eventBus.off(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_6__["default"].STREAM_INITIALIZING, _onStreamInitializing, this);
                eventBus.off(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_6__["default"].REPRESENTATION_SWITCH, _onRepresentationSwitch, this);
                videoModel.setPlaybackRate(1, true);
                stopUpdatingWallclockTime();
                removeAllListeners();
              }
              wallclockTimeIntervalId = null;
              videoModel = null;
              streamInfo = null;
              isDynamic = null;
            }
            function setConfig(config) {
              if (!config)
                return;
              if (config.streamController) {
                streamController = config.streamController;
              }
              if (config.dashMetrics) {
                dashMetrics = config.dashMetrics;
              }
              if (config.mediaPlayerModel) {
                mediaPlayerModel = config.mediaPlayerModel;
              }
              if (config.adapter) {
                adapter = config.adapter;
              }
              if (config.videoModel) {
                videoModel = config.videoModel;
              }
              if (config.timelineConverter) {
                timelineConverter = config.timelineConverter;
              }
              if (config.settings) {
                settings = config.settings;
              }
            }
            function getActualPresentationTime(currentTime, mediatype) {
              var DVRMetrics = dashMetrics.getCurrentDVRInfo(mediatype);
              var DVRWindow = DVRMetrics ? DVRMetrics.range : null;
              var actualTime;
              if (!DVRWindow) {
                return NaN;
              }
              if (currentTime > DVRWindow.end) {
                actualTime = Math.max(DVRWindow.end - liveDelay, DVRWindow.start);
              } else if (currentTime > 0 && currentTime + 0.25 < DVRWindow.start && Math.abs(currentTime - DVRWindow.start) < 31536e4) {
                if (settings.get().streaming.lowLatencyEnabled) {
                  actualTime = Math.max(DVRWindow.end - liveDelay, DVRWindow.start);
                } else {
                  actualTime = DVRWindow.start;
                }
              } else {
                actualTime = currentTime;
              }
              return actualTime;
            }
            function startUpdatingWallclockTime() {
              if (wallclockTimeIntervalId !== null)
                return;
              var tick = function tick2() {
                _onWallclockTime();
              };
              wallclockTimeIntervalId = setInterval(tick, settings.get().streaming.wallclockTimeUpdateInterval);
            }
            function stopUpdatingWallclockTime() {
              clearInterval(wallclockTimeIntervalId);
              wallclockTimeIntervalId = null;
            }
            function updateCurrentTime() {
              var mediaType = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null;
              if (isPaused() || !isDynamic || videoModel.getReadyState() === 0 || isSeeking())
                return;
              if (!mediaType) {
                mediaType = streamController.hasVideoTrack() ? _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO : _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO;
              }
              var currentTime = getNormalizedTime();
              var actualTime = getActualPresentationTime(currentTime, mediaType);
              var timeChanged = !isNaN(actualTime) && actualTime !== currentTime;
              if (timeChanged && !isSeeking() && (isStalled() || playbackStalled)) {
                logger.debug("UpdateCurrentTime: Seek to actual time: ".concat(actualTime, " from currentTime: ").concat(currentTime));
                seek(actualTime);
              }
            }
            function _onDataUpdateCompleted(e) {
              var representationInfo = adapter.convertRepresentationToRepresentationInfo(e.currentRepresentation);
              var info = representationInfo ? representationInfo.mediaInfo.streamInfo : null;
              if (info === null || streamInfo.id !== info.id)
                return;
              streamInfo = info;
            }
            function _onCanPlay() {
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].CAN_PLAY);
            }
            function _onCanPlayThrough() {
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].CAN_PLAY_THROUGH);
            }
            function _onPlaybackStart() {
              logger.info("Native video element event: play");
              updateCurrentTime();
              startUpdatingWallclockTime();
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].PLAYBACK_STARTED, {
                startTime: getTime()
              });
            }
            function _onPlaybackWaiting() {
              logger.info("Native video element event: waiting");
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].PLAYBACK_WAITING, {
                playingTime: getTime()
              });
            }
            function _onPlaybackPlaying() {
              logger.info("Native video element event: playing");
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].PLAYBACK_PLAYING, {
                playingTime: getTime()
              });
            }
            function _onPlaybackPaused() {
              logger.info("Native video element event: pause");
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].PLAYBACK_PAUSED, {
                ended: getEnded()
              });
            }
            function _onPlaybackSeeking() {
              if (internalSeek) {
                internalSeek = false;
                return;
              }
              var seekTime = getTime();
              if (!isNaN(seekTarget) && seekTarget !== seekTime) {
                seekTime = seekTarget;
              }
              seekTarget = NaN;
              logger.info("Seeking to: " + seekTime);
              startUpdatingWallclockTime();
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].PLAYBACK_SEEKING, {
                seekTime,
                streamId: streamInfo.id
              });
            }
            function _onPlaybackSeeked() {
              logger.info("Native video element event: seeked");
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].PLAYBACK_SEEKED);
            }
            function _onPlaybackTimeUpdated() {
              if (streamInfo) {
                eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].PLAYBACK_TIME_UPDATED, {
                  timeToEnd: getTimeToStreamEnd(),
                  time: getTime(),
                  streamId: streamInfo.id
                });
              }
            }
            function _onPlaybackProgress() {
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].PLAYBACK_PROGRESS, {
                streamId: streamInfo.id
              });
            }
            function _onPlaybackRateChanged() {
              var rate = getPlaybackRate();
              logger.info("Native video element event: ratechange: ", rate);
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].PLAYBACK_RATE_CHANGED, {
                playbackRate: rate
              });
            }
            function _onPlaybackMetaDataLoaded() {
              logger.info("Native video element event: loadedmetadata");
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].PLAYBACK_METADATA_LOADED);
              startUpdatingWallclockTime();
            }
            function _onPlaybackLoadedData() {
              logger.info("Native video element event: loadeddata");
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].PLAYBACK_LOADED_DATA);
            }
            function _onNativePlaybackEnded() {
              logger.info("Native video element event: ended");
              pause();
              stopUpdatingWallclockTime();
              var streamInfo2 = streamController ? streamController.getActiveStreamInfo() : null;
              if (!streamInfo2)
                return;
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].PLAYBACK_ENDED, {
                "isLast": streamInfo2.isLast
              });
            }
            function _onPlaybackEnded(e) {
              if (wallclockTimeIntervalId && e.isLast) {
                logger.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");
                var seekTime = e.seekTime ? e.seekTime : getStreamEndTime();
                videoModel.setCurrentTime(seekTime);
                pause();
                stopUpdatingWallclockTime();
              }
            }
            function _onPlaybackError(event) {
              var target = event.target || event.srcElement;
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].PLAYBACK_ERROR, {
                error: target.error
              });
            }
            function _onWallclockTime() {
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].WALLCLOCK_TIME_UPDATED, {
                isDynamic,
                time: new Date()
              });
              if (getIsDynamic()) {
                if (isPaused()) {
                  _updateLivePlaybackTime();
                } else {
                  updateCurrentTime();
                }
              }
            }
            function _updateLivePlaybackTime() {
              var now = Date.now();
              if (!lastLivePlaybackTime || now > lastLivePlaybackTime + LIVE_UPDATE_PLAYBACK_TIME_INTERVAL_MS) {
                lastLivePlaybackTime = now;
                _onPlaybackTimeUpdated();
              }
            }
            function _onPlaybackProgression() {
              if (isDynamic && _isCatchupEnabled() && settings.get().streaming.liveCatchup.playbackRate > 0 && !isPaused() && !isSeeking()) {
                if (_needToCatchUp()) {
                  startPlaybackCatchUp();
                } else {
                  stopPlaybackCatchUp();
                }
              }
            }
            function _isCatchupEnabled() {
              return settings.get().streaming.liveCatchup.enabled || settings.get().streaming.lowLatencyEnabled;
            }
            function getBufferLevel() {
              var bufferLevel = null;
              streamController.getActiveStreamProcessors().forEach(function(p2) {
                var bl = p2.getBufferLevel();
                if (bufferLevel === null) {
                  bufferLevel = bl;
                } else {
                  bufferLevel = Math.min(bufferLevel, bl);
                }
              });
              return bufferLevel;
            }
            function _getCatchupMode() {
              var playbackBufferMin = settings.get().streaming.liveCatchup.playbackBufferMin;
              return settings.get().streaming.liveCatchup.mode === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].LIVE_CATCHUP_MODE_LOLP && playbackBufferMin !== null && !isNaN(playbackBufferMin) ? _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].LIVE_CATCHUP_MODE_LOLP : _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].LIVE_CATCHUP_MODE_DEFAULT;
            }
            function _needToCatchUp() {
              try {
                if (_isCatchupEnabled() && settings.get().streaming.liveCatchup.playbackRate > 0 && getTime() > 0) {
                  var catchupMode = _getCatchupMode();
                  var currentLiveLatency = getCurrentLiveLatency();
                  var _liveDelay = mediaPlayerModel.getLiveDelay();
                  var liveCatchupLatencyThreshold = mediaPlayerModel.getLiveCatchupLatencyThreshold();
                  var liveCatchUpMinDrift = settings.get().streaming.liveCatchup.minDrift;
                  if (catchupMode === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].LIVE_CATCHUP_MODE_LOLP) {
                    var currentBuffer = getBufferLevel();
                    var playbackBufferMin = settings.get().streaming.liveCatchup.playbackBufferMin;
                    return _lolpNeedToCatchUpCustom(currentLiveLatency, _liveDelay, liveCatchUpMinDrift, currentBuffer, playbackBufferMin, liveCatchupLatencyThreshold);
                  } else {
                    return _defaultNeedToCatchUp(currentLiveLatency, _liveDelay, liveCatchupLatencyThreshold, liveCatchUpMinDrift);
                  }
                }
              } catch (e) {
                return false;
              }
            }
            function _defaultNeedToCatchUp(currentLiveLatency, liveDelay2, liveCatchupLatencyThreshold, minDrift) {
              try {
                var latencyDrift = Math.abs(currentLiveLatency - liveDelay2);
                return latencyDrift > minDrift && (isNaN(liveCatchupLatencyThreshold) || currentLiveLatency <= liveCatchupLatencyThreshold);
              } catch (e) {
                return false;
              }
            }
            function _lolpNeedToCatchUpCustom(currentLiveLatency, liveDelay2, minDrift, currentBuffer, playbackBufferMin, liveCatchupLatencyThreshold) {
              try {
                var latencyDrift = Math.abs(currentLiveLatency - liveDelay2);
                return (isNaN(liveCatchupLatencyThreshold) || currentLiveLatency <= liveCatchupLatencyThreshold) && (latencyDrift > minDrift || currentBuffer < playbackBufferMin);
              } catch (e) {
                return false;
              }
            }
            function startPlaybackCatchUp() {
              if (videoModel) {
                var results;
                var currentPlaybackRate = videoModel.getPlaybackRate();
                var liveCatchupPlaybackRate = settings.get().streaming.liveCatchup.playbackRate;
                var currentLiveLatency = getCurrentLiveLatency();
                var _liveDelay2 = mediaPlayerModel.getLiveDelay();
                var bufferLevel = getBufferLevel();
                if (_getCatchupMode() === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].LIVE_CATCHUP_MODE_LOLP) {
                  var liveCatchUpMinDrift = settings.get().streaming.liveCatchup.minDrift;
                  var playbackBufferMin = settings.get().streaming.liveCatchup.playbackBufferMin;
                  results = _calculateNewPlaybackRateLolP(liveCatchupPlaybackRate, currentLiveLatency, _liveDelay2, liveCatchUpMinDrift, playbackBufferMin, bufferLevel, currentPlaybackRate);
                } else {
                  results = _calculateNewPlaybackRateDefault(liveCatchupPlaybackRate, currentLiveLatency, _liveDelay2, bufferLevel, currentPlaybackRate);
                }
                var newRate = results.newRate;
                if (newRate) {
                  videoModel.setPlaybackRate(newRate);
                }
                var deltaLatency = currentLiveLatency - _liveDelay2;
                if (settings.get().streaming.liveCatchup.maxDrift > 0 && !isLowLatencySeekingInProgress && deltaLatency > settings.get().streaming.liveCatchup.maxDrift) {
                  logger.info("Low Latency catchup mechanism. Latency too high, doing a seek to live point");
                  isLowLatencySeekingInProgress = true;
                  seekToLive();
                } else {
                  isLowLatencySeekingInProgress = false;
                }
              }
            }
            function _calculateNewPlaybackRateDefault(liveCatchUpPlaybackRate, currentLiveLatency, liveDelay2, bufferLevel, currentPlaybackRate) {
              var cpr = liveCatchUpPlaybackRate;
              var deltaLatency = currentLiveLatency - liveDelay2;
              var d2 = deltaLatency * 5;
              var s3 = cpr * 2 / (1 + Math.pow(Math.E, -d2));
              var newRate = 1 - cpr + s3;
              if (playbackStalled) {
                if (bufferLevel > liveDelay2 / 2) {
                  playbackStalled = false;
                } else if (deltaLatency > 0) {
                  newRate = 1;
                }
              }
              if (Math.abs(currentPlaybackRate - newRate) <= minPlaybackRateChange) {
                newRate = null;
              }
              return {
                newRate
              };
            }
            function _calculateNewPlaybackRateLolP(liveCatchUpPlaybackRate, currentLiveLatency, liveDelay2, minDrift, playbackBufferMin, bufferLevel, currentPlaybackRate) {
              var cpr = liveCatchUpPlaybackRate;
              var newRate;
              if (bufferLevel < playbackBufferMin) {
                var deltaBuffer = bufferLevel - playbackBufferMin;
                var d2 = deltaBuffer * 5;
                var s3 = cpr * 2 / (1 + Math.pow(Math.E, -d2));
                newRate = 1 - cpr + s3;
                logger.debug("[LoL+ playback control_buffer-based] bufferLevel: " + bufferLevel + ", newRate: " + newRate);
              } else {
                var minDifference = 0.02;
                if (Math.abs(currentLiveLatency - liveDelay2) <= minDifference * liveDelay2) {
                  newRate = 1;
                } else {
                  var deltaLatency = currentLiveLatency - liveDelay2;
                  var _d = deltaLatency * 5;
                  var _s = cpr * 2 / (1 + Math.pow(Math.E, -_d));
                  newRate = 1 - cpr + _s;
                }
                logger.debug("[LoL+ playback control_latency-based] latency: " + currentLiveLatency + ", newRate: " + newRate);
              }
              if (playbackStalled) {
                if (bufferLevel > liveDelay2 / 2) {
                  playbackStalled = false;
                }
              }
              if (Math.abs(currentPlaybackRate - newRate) <= minPlaybackRateChange) {
                newRate = null;
              }
              return {
                newRate
              };
            }
            function stopPlaybackCatchUp() {
              if (videoModel) {
                videoModel.setPlaybackRate(1);
              }
            }
            function _onFragmentLoadProgress(e) {
              if (e.stream === false && settings.get().streaming.lowLatencyEnabled && !isNaN(e.request.duration)) {
                var minDelay = 1.2 * e.request.duration;
                if (minDelay > mediaPlayerModel.getLiveDelay()) {
                  logger.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:", minDelay.toFixed(2));
                  settings.update({
                    streaming: {
                      delay: {
                        liveDelay: minDelay
                      }
                    }
                  });
                }
              }
            }
            function _onBufferLevelStateChanged(e) {
              if (e.streamId !== streamInfo.id)
                return;
              if (_isCatchupEnabled()) {
                if (e.state === _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].BUFFER_EMPTY && !isSeeking()) {
                  if (!playbackStalled) {
                    playbackStalled = true;
                    stopPlaybackCatchUp();
                  }
                }
              } else {
                if (settings.get().streaming.buffer.setStallState) {
                  videoModel.setStallState(e.mediaType, e.state === _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].BUFFER_EMPTY);
                }
              }
            }
            function onPlaybackStalled(e) {
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].PLAYBACK_STALLED, {
                e
              });
            }
            function _onStreamInitializing(e) {
              _checkEnableLowLatency(e.mediaInfo);
            }
            function _onRepresentationSwitch(e) {
              var activeStreamInfo = streamController.getActiveStreamInfo();
              if (!settings.get().streaming.lowLatencyEnabledByManifest || !e || !activeStreamInfo || !e.currentRepresentation || !e.streamId || e.streamId !== activeStreamInfo.id || !e.mediaType || e.mediaType !== _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO && e.mediaType !== _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO) {
                return;
              }
              var lowLatencyEnabled = !e.currentRepresentation.availabilityTimeComplete;
              if (lowLatencyEnabled) {
                settings.update({
                  streaming: {
                    lowLatencyEnabled
                  }
                });
              }
            }
            function _checkEnableLowLatency(mediaInfo) {
              if (mediaInfo && mediaInfo.supplementalProperties && mediaInfo.supplementalProperties[_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].SUPPLEMENTAL_PROPERTY_LL_SCHEME] === "true") {
                logger.debug("Low Latency critical SupplementalProperty set: Enabling low Latency");
                settings.update({
                  streaming: {
                    lowLatencyEnabled: true
                  }
                });
              }
            }
            function addAllListeners() {
              videoModel.addEventListener("canplay", _onCanPlay);
              videoModel.addEventListener("canplaythrough", _onCanPlayThrough);
              videoModel.addEventListener("play", _onPlaybackStart);
              videoModel.addEventListener("waiting", _onPlaybackWaiting);
              videoModel.addEventListener("playing", _onPlaybackPlaying);
              videoModel.addEventListener("pause", _onPlaybackPaused);
              videoModel.addEventListener("error", _onPlaybackError);
              videoModel.addEventListener("seeking", _onPlaybackSeeking);
              videoModel.addEventListener("seeked", _onPlaybackSeeked);
              videoModel.addEventListener("timeupdate", _onPlaybackTimeUpdated);
              videoModel.addEventListener("progress", _onPlaybackProgress);
              videoModel.addEventListener("ratechange", _onPlaybackRateChanged);
              videoModel.addEventListener("loadedmetadata", _onPlaybackMetaDataLoaded);
              videoModel.addEventListener("loadeddata", _onPlaybackLoadedData);
              videoModel.addEventListener("stalled", onPlaybackStalled);
              videoModel.addEventListener("ended", _onNativePlaybackEnded);
            }
            function removeAllListeners() {
              videoModel.removeEventListener("canplay", _onCanPlay);
              videoModel.removeEventListener("canplaythrough", _onCanPlayThrough);
              videoModel.removeEventListener("play", _onPlaybackStart);
              videoModel.removeEventListener("waiting", _onPlaybackWaiting);
              videoModel.removeEventListener("playing", _onPlaybackPlaying);
              videoModel.removeEventListener("pause", _onPlaybackPaused);
              videoModel.removeEventListener("error", _onPlaybackError);
              videoModel.removeEventListener("seeking", _onPlaybackSeeking);
              videoModel.removeEventListener("seeked", _onPlaybackSeeked);
              videoModel.removeEventListener("timeupdate", _onPlaybackTimeUpdated);
              videoModel.removeEventListener("progress", _onPlaybackProgress);
              videoModel.removeEventListener("ratechange", _onPlaybackRateChanged);
              videoModel.removeEventListener("loadedmetadata", _onPlaybackMetaDataLoaded);
              videoModel.removeEventListener("loadeddata", _onPlaybackLoadedData);
              videoModel.removeEventListener("stalled", onPlaybackStalled);
              videoModel.removeEventListener("ended", _onNativePlaybackEnded);
            }
            instance = {
              initialize,
              setConfig,
              getTimeToStreamEnd,
              getBufferLevel,
              getTime,
              getNormalizedTime,
              getPlaybackRate,
              getPlayedRanges,
              getEnded,
              getIsDynamic,
              getStreamController,
              computeAndSetLiveDelay,
              getLiveDelay,
              getCurrentLiveLatency,
              play,
              isPaused,
              pause,
              isSeeking,
              getStreamEndTime,
              seek,
              reset,
              updateCurrentTime,
              getAvailabilityStartTime
            };
            setup();
            return instance;
          }
          PlaybackController.__dashjs_factory_name = "PlaybackController";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_4__["default"].getSingletonFactory(PlaybackController);
        },
        "./src/streaming/controllers/ScheduleController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _models_FragmentModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/models/FragmentModel.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/core/events/Events.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/core/Debug.js");
          var _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/streaming/constants/MetricsConstants.js");
          var _MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/streaming/MediaPlayerEvents.js");
          function ScheduleController(config) {
            config = config || {};
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_2__["default"])(context).getInstance();
            var dashMetrics = config.dashMetrics;
            var mediaPlayerModel = config.mediaPlayerModel;
            var fragmentModel = config.fragmentModel;
            var abrController = config.abrController;
            var playbackController = config.playbackController;
            var textController = config.textController;
            var type = config.type;
            var bufferController = config.bufferController;
            var settings = config.settings;
            var instance, streamInfo, logger, currentRepresentationInfo, timeToLoadDelay, scheduleTimeout, hasVideoTrack, lastFragmentRequest, topQualityIndex, lastInitializedQuality, switchTrack, initSegmentRequired, checkPlaybackQuality;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_5__["default"])(context).getInstance().getLogger(instance);
              resetInitialSettings();
              streamInfo = config.streamInfo;
            }
            function initialize(_hasVideoTrack) {
              hasVideoTrack = _hasVideoTrack;
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].BYTES_APPENDED_END_FRAGMENT, _onBytesAppended, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].URL_RESOLUTION_FAILED, _onURLResolutionFailed, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].PLAYBACK_STARTED, _onPlaybackStarted, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].PLAYBACK_RATE_CHANGED, _onPlaybackRateChanged, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].PLAYBACK_TIME_UPDATED, _onPlaybackTimeUpdated, instance);
            }
            function getType() {
              return type;
            }
            function getStreamId() {
              return streamInfo.id;
            }
            function setCurrentRepresentation(representationInfo) {
              currentRepresentationInfo = representationInfo;
            }
            function startScheduleTimer(value) {
              if (bufferController.getIsBufferingCompleted())
                return;
              clearScheduleTimer();
              var timeoutValue = !isNaN(value) ? value : 0;
              scheduleTimeout = setTimeout(schedule, timeoutValue);
            }
            function clearScheduleTimer() {
              if (scheduleTimeout) {
                clearTimeout(scheduleTimeout);
                scheduleTimeout = null;
              }
            }
            function hasTopQualityChanged() {
              var streamId = streamInfo.id;
              var newTopQualityIndex = abrController.getMaxAllowedIndexFor(type, streamId);
              if (isNaN(topQualityIndex) || topQualityIndex != newTopQualityIndex) {
                logger.info("Top quality " + type + " index has changed from " + topQualityIndex + " to " + newTopQualityIndex);
                topQualityIndex = newTopQualityIndex;
                return true;
              }
              return false;
            }
            function schedule() {
              try {
                if (_shouldClearScheduleTimer()) {
                  clearScheduleTimer();
                  return;
                }
                if (_shouldScheduleNextRequest()) {
                  var qualityChange = false;
                  if (checkPlaybackQuality) {
                    qualityChange = abrController.checkPlaybackQuality(type, streamInfo.id);
                  }
                  if (!qualityChange) {
                    _getNextFragment();
                  }
                } else {
                  startScheduleTimer(settings.get().streaming.lowLatencyEnabled ? settings.get().streaming.scheduling.lowLatencyTimeout : settings.get().streaming.scheduling.defaultTimeout);
                }
              } catch (e) {
                startScheduleTimer(settings.get().streaming.lowLatencyEnabled ? settings.get().streaming.scheduling.lowLatencyTimeout : settings.get().streaming.scheduling.defaultTimeout);
              }
            }
            function _getNextFragment() {
              if (initSegmentRequired || currentRepresentationInfo.quality !== lastInitializedQuality || switchTrack) {
                if (switchTrack) {
                  logger.debug("Switch track for " + type + ", representation id = " + currentRepresentationInfo.id);
                  switchTrack = false;
                } else {
                  logger.debug("Quality has changed, get init request for representationid = " + currentRepresentationInfo.id);
                }
                eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].INIT_FRAGMENT_NEEDED, {
                  representationId: currentRepresentationInfo.id,
                  sender: instance
                }, {
                  streamId: streamInfo.id,
                  mediaType: type
                });
                checkPlaybackQuality = false;
                initSegmentRequired = false;
              } else {
                logger.debug("Media segment needed for ".concat(type, " and stream id ").concat(streamInfo.id));
                eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].MEDIA_FRAGMENT_NEEDED, {}, {
                  streamId: streamInfo.id,
                  mediaType: type
                });
                checkPlaybackQuality = true;
              }
            }
            function _shouldClearScheduleTimer() {
              try {
                return type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT && !textController.isTextEnabled();
              } catch (e) {
                return false;
              }
            }
            function _shouldScheduleNextRequest() {
              try {
                return currentRepresentationInfo && (isNaN(lastInitializedQuality) || switchTrack || hasTopQualityChanged() || _shouldBuffer());
              } catch (e) {
                return false;
              }
            }
            function _shouldBuffer() {
              if (!type || !currentRepresentationInfo) {
                return true;
              }
              var bufferLevel = dashMetrics.getCurrentBufferLevel(type);
              return bufferLevel < getBufferTarget();
            }
            function getBufferTarget() {
              var bufferTarget = NaN;
              if (!type || !currentRepresentationInfo) {
                return bufferTarget;
              }
              if (type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT) {
                bufferTarget = _getBufferTargetForFragmentedText();
              } else if (type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO && hasVideoTrack) {
                bufferTarget = _getBufferTargetForAudio();
              } else {
                bufferTarget = _getGenericBufferTarget();
              }
              return bufferTarget;
            }
            function _getBufferTargetForFragmentedText() {
              try {
                if (textController.isTextEnabled()) {
                  if (isNaN(currentRepresentationInfo.fragmentDuration)) {
                    var schedulingInfo = dashMetrics.getCurrentSchedulingInfo(_constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_6__["default"].SCHEDULING_INFO);
                    return schedulingInfo ? schedulingInfo.duration : 0;
                  } else {
                    return currentRepresentationInfo.fragmentDuration;
                  }
                } else {
                  return 0;
                }
              } catch (e) {
                return 0;
              }
            }
            function _getBufferTargetForAudio() {
              try {
                var videoBufferLevel = dashMetrics.getCurrentBufferLevel(_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO);
                if (isNaN(currentRepresentationInfo.fragmentDuration)) {
                  return videoBufferLevel + 1;
                } else {
                  return Math.max(videoBufferLevel + 1, currentRepresentationInfo.fragmentDuration);
                }
              } catch (e) {
                return 0;
              }
            }
            function _getGenericBufferTarget() {
              try {
                var _streamInfo = currentRepresentationInfo.mediaInfo.streamInfo;
                if (abrController.isPlayingAtTopQuality(_streamInfo)) {
                  var isLongFormContent = _streamInfo.manifestInfo.duration >= settings.get().streaming.buffer.longFormContentDurationThreshold;
                  return isLongFormContent ? settings.get().streaming.buffer.bufferTimeAtTopQualityLongForm : settings.get().streaming.buffer.bufferTimeAtTopQuality;
                } else {
                  return mediaPlayerModel.getStableBufferTime();
                }
              } catch (e) {
                return mediaPlayerModel.getStableBufferTime();
              }
            }
            function setSwitchTrack(value) {
              switchTrack = value;
            }
            function getSwitchStrack() {
              return switchTrack;
            }
            function _onPlaybackTimeUpdated() {
              _completeQualityChange(true);
            }
            function _completeQualityChange(trigger) {
              if (playbackController && fragmentModel) {
                var item = fragmentModel.getRequests({
                  state: _models_FragmentModel__WEBPACK_IMPORTED_MODULE_1__["default"].FRAGMENT_MODEL_EXECUTED,
                  time: playbackController.getTime(),
                  threshold: 0
                })[0];
                if (item && playbackController.getTime() >= item.startTime) {
                  if ((!lastFragmentRequest.mediaInfo || item.mediaInfo.type === lastFragmentRequest.mediaInfo.type && item.mediaInfo.id !== lastFragmentRequest.mediaInfo.id) && trigger) {
                    eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].TRACK_CHANGE_RENDERED, {
                      mediaType: type,
                      oldMediaInfo: lastFragmentRequest.mediaInfo,
                      newMediaInfo: item.mediaInfo,
                      streamId: streamInfo.id
                    });
                  }
                  if ((item.quality !== lastFragmentRequest.quality || item.adaptationIndex !== lastFragmentRequest.adaptationIndex) && trigger) {
                    logger.debug("Quality change rendered for streamId ".concat(streamInfo.id, " and type ").concat(type));
                    eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].QUALITY_CHANGE_RENDERED, {
                      mediaType: type,
                      oldQuality: lastFragmentRequest.quality,
                      newQuality: item.quality,
                      streamId: streamInfo.id
                    });
                  }
                  lastFragmentRequest = {
                    mediaInfo: item.mediaInfo,
                    quality: item.quality,
                    adaptationIndex: item.adaptationIndex
                  };
                }
              }
            }
            function _onBytesAppended(e) {
              logger.debug("Appended bytes for ".concat(e.mediaType, " and stream id ").concat(streamInfo.id));
              if (isNaN(e.index) || isNaN(lastInitializedQuality)) {
                lastInitializedQuality = e.quality;
                logger.info("[" + type + "] lastInitializedRepresentationInfo changed to " + e.quality);
              }
              startScheduleTimer(0);
            }
            function _onURLResolutionFailed() {
              fragmentModel.abortRequests();
              clearScheduleTimer();
            }
            function _onPlaybackStarted() {
              if (!settings.get().streaming.scheduling.scheduleWhilePaused) {
                startScheduleTimer();
              }
            }
            function _onPlaybackRateChanged(e) {
              dashMetrics.updatePlayListTraceMetrics({
                playbackspeed: e.playbackRate.toString()
              });
            }
            function setTimeToLoadDelay(value) {
              timeToLoadDelay = value;
            }
            function getTimeToLoadDelay() {
              return timeToLoadDelay;
            }
            function setCheckPlaybackQuality(value) {
              checkPlaybackQuality = value;
            }
            function setInitSegmentRequired(value) {
              initSegmentRequired = value;
            }
            function resetInitialSettings() {
              checkPlaybackQuality = true;
              timeToLoadDelay = 0;
              lastInitializedQuality = NaN;
              lastFragmentRequest = {
                mediaInfo: void 0,
                quality: NaN,
                adaptationIndex: NaN
              };
              topQualityIndex = NaN;
              switchTrack = false;
              initSegmentRequired = false;
            }
            function reset() {
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].BYTES_APPENDED_END_FRAGMENT, _onBytesAppended, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].URL_RESOLUTION_FAILED, _onURLResolutionFailed, instance);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].PLAYBACK_STARTED, _onPlaybackStarted, instance);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].PLAYBACK_RATE_CHANGED, _onPlaybackRateChanged, instance);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].PLAYBACK_TIME_UPDATED, _onPlaybackTimeUpdated, instance);
              clearScheduleTimer();
              _completeQualityChange(false);
              resetInitialSettings();
              streamInfo = null;
            }
            function getPlaybackController() {
              return playbackController;
            }
            instance = {
              initialize,
              getType,
              getStreamId,
              setCurrentRepresentation,
              setTimeToLoadDelay,
              getTimeToLoadDelay,
              setSwitchTrack,
              getSwitchStrack,
              startScheduleTimer,
              clearScheduleTimer,
              reset,
              getBufferTarget,
              getPlaybackController,
              setCheckPlaybackQuality,
              setInitSegmentRequired
            };
            setup();
            return instance;
          }
          ScheduleController.__dashjs_factory_name = "ScheduleController";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_4__["default"].getClassFactory(ScheduleController);
        },
        "./src/streaming/controllers/StreamController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/constants/MetricsConstants.js");
          var _Stream__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/Stream.js");
          var _ManifestUpdater__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/ManifestUpdater.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/core/events/Events.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _vo_metrics_PlayList__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/streaming/vo/metrics/PlayList.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/core/Debug.js");
          var _utils_InitCache__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/streaming/utils/InitCache.js");
          var _utils_URLUtils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/streaming/utils/URLUtils.js");
          var _MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/streaming/MediaPlayerEvents.js");
          var _TimeSyncController__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/streaming/controllers/TimeSyncController.js");
          var _MediaSourceController__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/streaming/controllers/MediaSourceController.js");
          var _vo_DashJSError__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/streaming/vo/DashJSError.js");
          var _core_errors_Errors__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/core/errors/Errors.js");
          var _EventController__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./src/streaming/controllers/EventController.js");
          var _constants_ConformanceViolationConstants__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./src/streaming/constants/ConformanceViolationConstants.js");
          function _toConsumableArray(arr) {
            return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
          }
          function _nonIterableSpread() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          function _unsupportedIterableToArray(o2, minLen) {
            if (!o2)
              return;
            if (typeof o2 === "string")
              return _arrayLikeToArray(o2, minLen);
            var n2 = Object.prototype.toString.call(o2).slice(8, -1);
            if (n2 === "Object" && o2.constructor)
              n2 = o2.constructor.name;
            if (n2 === "Map" || n2 === "Set")
              return Array.from(o2);
            if (n2 === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))
              return _arrayLikeToArray(o2, minLen);
          }
          function _iterableToArray(iter) {
            if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter))
              return Array.from(iter);
          }
          function _arrayWithoutHoles(arr) {
            if (Array.isArray(arr))
              return _arrayLikeToArray(arr);
          }
          function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length)
              len = arr.length;
            for (var i3 = 0, arr2 = new Array(len); i3 < len; i3++) {
              arr2[i3] = arr[i3];
            }
            return arr2;
          }
          var PLAYBACK_ENDED_TIMER_INTERVAL = 200;
          var DVR_WAITING_OFFSET = 2;
          function StreamController() {
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_4__["default"])(context).getInstance();
            var instance, logger, capabilities, capabilitiesFilter, manifestUpdater, manifestLoader, manifestModel, adapter, dashMetrics, mediaSourceController, timeSyncController, baseURLController, segmentBaseController, uriFragmentModel, abrController, mediaController, eventController, initCache, urlUtils, errHandler, timelineConverter, streams, activeStream, protectionController, textController, protectionData, autoPlay, isStreamSwitchingInProgress, hasMediaError, hasInitialisationError, mediaSource, videoModel, playbackController, mediaPlayerModel, isPaused, initialPlayback, playbackEndedTimerInterval, bufferSinks, preloadingStreams, supportsChangeType, settings, firstLicenseIsFetched, waitForPlaybackStartTimeout, errorInformation;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_8__["default"])(context).getInstance().getLogger(instance);
              timeSyncController = Object(_TimeSyncController__WEBPACK_IMPORTED_MODULE_12__["default"])(context).getInstance();
              mediaSourceController = Object(_MediaSourceController__WEBPACK_IMPORTED_MODULE_13__["default"])(context).getInstance();
              initCache = Object(_utils_InitCache__WEBPACK_IMPORTED_MODULE_9__["default"])(context).getInstance();
              urlUtils = Object(_utils_URLUtils__WEBPACK_IMPORTED_MODULE_10__["default"])(context).getInstance();
              resetInitialSettings();
            }
            function initialize(autoPl, protData) {
              checkConfig();
              autoPlay = autoPl;
              protectionData = protData;
              timelineConverter.initialize();
              manifestUpdater = Object(_ManifestUpdater__WEBPACK_IMPORTED_MODULE_3__["default"])(context).create();
              manifestUpdater.setConfig({
                manifestModel,
                adapter,
                manifestLoader,
                errHandler,
                settings
              });
              manifestUpdater.initialize();
              eventController = Object(_EventController__WEBPACK_IMPORTED_MODULE_16__["default"])(context).getInstance();
              eventController.setConfig({
                manifestUpdater,
                playbackController,
                settings
              });
              eventController.start();
              timeSyncController.setConfig({
                dashMetrics,
                baseURLController,
                errHandler,
                settings
              });
              timeSyncController.initialize();
              if (protectionController) {
                eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].PROTECTION_CREATED, {
                  controller: protectionController
                });
                protectionController.setMediaElement(videoModel.getElement());
                if (protectionData) {
                  protectionController.setProtectionData(protectionData);
                }
              }
              registerEvents();
            }
            function registerEvents() {
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__["default"].PLAYBACK_TIME_UPDATED, _onPlaybackTimeUpdated, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__["default"].PLAYBACK_SEEKING, _onPlaybackSeeking, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__["default"].PLAYBACK_ERROR, _onPlaybackError, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__["default"].PLAYBACK_STARTED, _onPlaybackStarted, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__["default"].PLAYBACK_PAUSED, _onPlaybackPaused, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__["default"].PLAYBACK_ENDED, _onPlaybackEnded, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__["default"].METRIC_ADDED, _onMetricAdded, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__["default"].MANIFEST_VALIDITY_CHANGED, _onManifestValidityChanged, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__["default"].BUFFER_LEVEL_UPDATED, _onBufferLevelUpdated, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__["default"].QUALITY_CHANGE_REQUESTED, _onQualityChanged, instance);
              if (_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].KEY_SESSION_UPDATED) {
                eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].KEY_SESSION_UPDATED, _onKeySessionUpdated, instance);
              }
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].MANIFEST_UPDATED, _onManifestUpdated, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].STREAM_BUFFERING_COMPLETED, _onStreamBufferingCompleted, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].TIME_SYNCHRONIZATION_COMPLETED, _onTimeSyncCompleted, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].WALLCLOCK_TIME_UPDATED, _onWallclockTimeUpdated, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].CURRENT_TRACK_CHANGED, _onCurrentTrackChanged, instance);
            }
            function unRegisterEvents() {
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__["default"].PLAYBACK_TIME_UPDATED, _onPlaybackTimeUpdated, instance);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__["default"].PLAYBACK_SEEKING, _onPlaybackSeeking, instance);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__["default"].PLAYBACK_ERROR, _onPlaybackError, instance);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__["default"].PLAYBACK_STARTED, _onPlaybackStarted, instance);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__["default"].PLAYBACK_PAUSED, _onPlaybackPaused, instance);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__["default"].PLAYBACK_ENDED, _onPlaybackEnded, instance);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__["default"].METRIC_ADDED, _onMetricAdded, instance);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__["default"].MANIFEST_VALIDITY_CHANGED, _onManifestValidityChanged, instance);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__["default"].BUFFER_LEVEL_UPDATED, _onBufferLevelUpdated, instance);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__["default"].QUALITY_CHANGE_REQUESTED, _onQualityChanged, instance);
              if (_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].KEY_SESSION_UPDATED) {
                eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].KEY_SESSION_UPDATED, _onKeySessionUpdated, instance);
              }
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].MANIFEST_UPDATED, _onManifestUpdated, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].STREAM_BUFFERING_COMPLETED, _onStreamBufferingCompleted, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].TIME_SYNCHRONIZATION_COMPLETED, _onTimeSyncCompleted, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].WALLCLOCK_TIME_UPDATED, _onWallclockTimeUpdated, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].CURRENT_TRACK_CHANGED, _onCurrentTrackChanged, instance);
            }
            function _onTimeSyncCompleted() {
              _composeStreams();
            }
            function _onKeySessionUpdated() {
              firstLicenseIsFetched = true;
            }
            function _composeStreams() {
              try {
                var streamsInfo = adapter.getStreamsInfo();
                if (!activeStream && streamsInfo.length === 0) {
                  throw new Error("There are no streams");
                }
                if (activeStream) {
                  dashMetrics.updateManifestUpdateInfo({
                    currentTime: playbackController.getTime(),
                    buffered: videoModel.getBufferRange(),
                    presentationStartTime: streamsInfo[0].start,
                    clientTimeOffset: timelineConverter.getClientTimeOffset()
                  });
                }
                if (streams.length > 0) {
                  _filterOutdatedStreams(streamsInfo);
                }
                var promises = [];
                for (var i3 = 0, ln = streamsInfo.length; i3 < ln; i3++) {
                  var streamInfo = streamsInfo[i3];
                  promises.push(_initializeOrUpdateStream(streamInfo));
                  dashMetrics.addManifestUpdateStreamInfo(streamInfo);
                }
                Promise.all(promises).then(function() {
                  if (!activeStream) {
                    _initializeForFirstStream(streamsInfo);
                  }
                  eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].STREAMS_COMPOSED);
                  _checkIfPrebufferingCanStart();
                })["catch"](function(e) {
                  throw e;
                });
              } catch (e) {
                errHandler.error(new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_14__["default"](_core_errors_Errors__WEBPACK_IMPORTED_MODULE_15__["default"].MANIFEST_ERROR_ID_NOSTREAMS_CODE, e.message + "nostreamscomposed", manifestModel.getValue()));
                hasInitialisationError = true;
                reset();
              }
            }
            function _initializeOrUpdateStream(streamInfo) {
              var stream = getStreamById(streamInfo.id);
              if (!stream) {
                stream = Object(_Stream__WEBPACK_IMPORTED_MODULE_2__["default"])(context).create({
                  manifestModel,
                  mediaPlayerModel,
                  dashMetrics,
                  manifestUpdater,
                  adapter,
                  timelineConverter,
                  capabilities,
                  capabilitiesFilter,
                  errHandler,
                  baseURLController,
                  segmentBaseController,
                  textController,
                  abrController,
                  playbackController,
                  eventController,
                  mediaController,
                  protectionController,
                  videoModel,
                  streamInfo,
                  settings
                });
                streams.push(stream);
                stream.initialize();
                return Promise.resolve();
              } else {
                return stream.updateData(streamInfo);
              }
            }
            function _initializeForFirstStream(streamsInfo) {
              _addDVRMetric();
              var dvrRange = dashMetrics.getCurrentDVRInfo().range;
              if (dvrRange.end < dvrRange.start) {
                if (waitForPlaybackStartTimeout) {
                  clearTimeout(waitForPlaybackStartTimeout);
                }
                var waitingTime = Math.min(((dvrRange.end - dvrRange.start) * -1 + DVR_WAITING_OFFSET) * 1e3, 2147483647);
                logger.debug("Waiting for ".concat(waitingTime, " ms before playback can start"));
                eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].AST_IN_FUTURE, {
                  delay: waitingTime
                });
                waitForPlaybackStartTimeout = setTimeout(function() {
                  _initializeForFirstStream(streamsInfo);
                }, waitingTime);
                return;
              }
              if (adapter.getIsDynamic() && streams.length) {
                var manifestInfo = streamsInfo[0].manifestInfo;
                var fragmentDuration = _getFragmentDurationForLiveDelayCalculation(streamsInfo, manifestInfo);
                playbackController.computeAndSetLiveDelay(fragmentDuration, manifestInfo);
              }
              var startTime = _getInitialStartTime();
              var initialStream = getStreamForTime(startTime);
              var startStream = initialStream !== null ? initialStream : streams[0];
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].INITIAL_STREAM_SWITCH, {
                startTime
              });
              _switchStream(startStream, null, startTime);
              _startPlaybackEndedTimerInterval();
            }
            function _switchStream(stream, previousStream, seekTime) {
              try {
                if (isStreamSwitchingInProgress || !stream || previousStream === stream && stream.getIsActive()) {
                  return;
                }
                isStreamSwitchingInProgress = true;
                eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].STREAM_SWITCH_STARTED, {
                  fromStreamInfo: previousStream ? previousStream.getStreamInfo() : null,
                  toStreamInfo: stream.getStreamInfo()
                });
                var keepBuffers = false;
                activeStream = stream;
                if (previousStream) {
                  keepBuffers = _canSourceBuffersBeReused(stream, previousStream);
                  previousStream.deactivate(keepBuffers);
                }
                seekTime = !isNaN(seekTime) ? seekTime : !keepBuffers && previousStream ? stream.getStreamInfo().start : NaN;
                logger.info("Switch to stream ".concat(stream.getId(), ". Seektime is ").concat(seekTime, ", current playback time is ").concat(playbackController.getTime(), ". Seamless period switch is set to ").concat(keepBuffers));
                preloadingStreams = preloadingStreams.filter(function(s3) {
                  return s3.getId() !== activeStream.getId();
                });
                playbackController.initialize(getActiveStreamInfo(), !!previousStream);
                if (videoModel.getElement()) {
                  _openMediaSource(seekTime, keepBuffers);
                }
              } catch (e) {
                isStreamSwitchingInProgress = false;
              }
            }
            function _openMediaSource(seekTime, keepBuffers) {
              var sourceUrl;
              function _onMediaSourceOpen() {
                if (!mediaSource || mediaSource.readyState !== "open")
                  return;
                logger.debug("MediaSource is open!");
                window.URL.revokeObjectURL(sourceUrl);
                mediaSource.removeEventListener("sourceopen", _onMediaSourceOpen);
                mediaSource.removeEventListener("webkitsourceopen", _onMediaSourceOpen);
                _setMediaDuration();
                var dvrInfo = dashMetrics.getCurrentDVRInfo();
                mediaSourceController.setSeekable(dvrInfo.range.start, dvrInfo.range.end);
                _activateStream(seekTime, keepBuffers);
              }
              function _open() {
                mediaSource.addEventListener("sourceopen", _onMediaSourceOpen, false);
                mediaSource.addEventListener("webkitsourceopen", _onMediaSourceOpen, false);
                sourceUrl = mediaSourceController.attachMediaSource(videoModel);
                logger.debug("MediaSource attached to element.  Waiting on open...");
              }
              if (!mediaSource) {
                mediaSource = mediaSourceController.createMediaSource();
                _open();
              } else {
                if (keepBuffers) {
                  _activateStream(seekTime, keepBuffers);
                } else {
                  mediaSourceController.detachMediaSource(videoModel);
                  _open();
                }
              }
            }
            function _activateStream(seekTime, keepBuffers) {
              activeStream.activate(mediaSource, keepBuffers ? bufferSinks : void 0, seekTime).then(function(sinks) {
                if (sinks) {
                  var keys = Object.keys(sinks);
                  if (keys.length > 0 && sinks[keys[0]].getBuffer().changeType) {
                    supportsChangeType = true;
                  }
                  bufferSinks = sinks;
                }
                if (!isNaN(seekTime)) {
                  eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].SEEK_TARGET, {
                    time: seekTime
                  }, {
                    streamId: activeStream.getId()
                  });
                  playbackController.seek(seekTime, false, true);
                  activeStream.startScheduleControllers();
                }
                isStreamSwitchingInProgress = false;
                eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].PERIOD_SWITCH_COMPLETED, {
                  toStreamInfo: getActiveStreamInfo()
                });
              });
            }
            function _onPlaybackSeeking(e) {
              var oldTime = playbackController.getTime();
              var newTime = e.seekTime;
              var seekToStream = getStreamForTime(newTime);
              if (!seekToStream || seekToStream === activeStream) {
                _cancelPreloading(oldTime, newTime);
                _handleInnerPeriodSeek(e);
              } else if (seekToStream && seekToStream !== activeStream) {
                _cancelPreloading(oldTime, newTime, seekToStream);
                _handleOuterPeriodSeek(e, seekToStream);
              }
              createPlaylistMetrics(_vo_metrics_PlayList__WEBPACK_IMPORTED_MODULE_7__["PlayList"].SEEK_START_REASON);
            }
            function _cancelPreloading(oldTime, newTime) {
              var seekToStream = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;
              if (oldTime <= newTime && !seekToStream) {
                _deactivateAllPreloadingStreams();
              } else if (oldTime > newTime && !seekToStream) {
                _deactivateAllPreloadingStreams();
              } else {
                _deactivateAllPreloadingStreams();
              }
            }
            function _deactivateAllPreloadingStreams() {
              if (preloadingStreams && preloadingStreams.length > 0) {
                preloadingStreams.forEach(function(s3) {
                  s3.deactivate(true);
                });
                preloadingStreams = [];
              }
            }
            function _handleInnerPeriodSeek(e) {
              var streamProcessors = activeStream.getProcessors();
              streamProcessors.forEach(function(sp) {
                return sp.prepareInnerPeriodPlaybackSeeking(e);
              });
              _flushPlaylistMetrics(_vo_metrics_PlayList__WEBPACK_IMPORTED_MODULE_7__["PlayListTrace"].USER_REQUEST_STOP_REASON);
            }
            function _handleOuterPeriodSeek(e, seekToStream) {
              var seekTime = e && !isNaN(e.seekTime) ? e.seekTime : NaN;
              var streamProcessors = activeStream.getProcessors();
              var promises = streamProcessors.map(function(sp) {
                return sp.prepareOuterPeriodPlaybackSeeking(e);
              });
              Promise.all(promises).then(function() {
                _switchStream(seekToStream, activeStream, seekTime);
              })["catch"](function(e2) {
                errHandler.error(e2);
              });
            }
            function _onCurrentTrackChanged(e) {
              if (e.newMediaInfo.streamInfo.id !== activeStream.getId()) {
                return;
              }
              _deactivateAllPreloadingStreams();
              activeStream.prepareTrackChange(e);
            }
            function _canSourceBuffersBeReused(nextStream, previousStream) {
              try {
                return settings.get().streaming.buffer.reuseExistingSourceBuffers && (previousStream.isProtectionCompatible(nextStream) || firstLicenseIsFetched) && (supportsChangeType || previousStream.isMediaCodecCompatible(nextStream, previousStream));
              } catch (e) {
                return false;
              }
            }
            function _onStreamCanLoadNext(nextStream) {
              var previousStream = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;
              if (mediaSource && !nextStream.getPreloaded()) {
                var seamlessPeriodSwitch = _canSourceBuffersBeReused(nextStream, previousStream);
                if (seamlessPeriodSwitch) {
                  nextStream.startPreloading(mediaSource, bufferSinks).then(function() {
                    preloadingStreams.push(nextStream);
                  });
                }
              }
            }
            function getStreamForTime(time) {
              if (isNaN(time)) {
                return null;
              }
              var ln = streams.length;
              for (var i3 = 0; i3 < ln; i3++) {
                var stream = streams[i3];
                var streamEnd = parseFloat((stream.getStartTime() + stream.getDuration()).toFixed(5));
                if (time < streamEnd) {
                  return stream;
                }
              }
              return null;
            }
            function _addDVRMetric() {
              try {
                var isDynamic = adapter.getIsDynamic();
                var streamsInfo = adapter.getStreamsInfo();
                var manifestInfo = streamsInfo[0].manifestInfo;
                var time = playbackController.getTime();
                var range = timelineConverter.calcTimeShiftBufferWindow(streams, isDynamic);
                var activeStreamProcessors = getActiveStreamProcessors();
                if (typeof range.start === "undefined" || typeof range.end === "undefined") {
                  return;
                }
                if (!activeStreamProcessors || activeStreamProcessors.length === 0) {
                  dashMetrics.addDVRInfo(_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO, time, manifestInfo, range);
                } else {
                  activeStreamProcessors.forEach(function(sp) {
                    dashMetrics.addDVRInfo(sp.getType(), time, manifestInfo, range);
                  });
                }
              } catch (e) {
              }
            }
            function _onBufferLevelUpdated(e) {
              if (initialPlayback && autoPlay) {
                var initialBufferLevel = mediaPlayerModel.getInitialBufferLevel();
                if (isNaN(initialBufferLevel) || initialBufferLevel <= playbackController.getBufferLevel() || adapter.getIsDynamic() && initialBufferLevel > playbackController.getLiveDelay()) {
                  initialPlayback = false;
                  createPlaylistMetrics(_vo_metrics_PlayList__WEBPACK_IMPORTED_MODULE_7__["PlayList"].INITIAL_PLAYOUT_START_REASON);
                  playbackController.play();
                }
              }
              if (e && e.mediaType) {
                dashMetrics.addBufferLevel(e.mediaType, new Date(), e.bufferLevel * 1e3);
              }
            }
            function _onQualityChanged(e) {
              if (e.streamInfo.id === activeStream.getId() && e.reason && e.reason.forceReplace) {
                _deactivateAllPreloadingStreams();
              }
              var stream = getStreamById(e.streamInfo.id);
              stream.prepareQualityChange(e);
            }
            function _onWallclockTimeUpdated() {
              if (adapter.getIsDynamic()) {
                _addDVRMetric();
              }
            }
            function _onPlaybackTimeUpdated() {
              if (hasVideoTrack()) {
                var playbackQuality = videoModel.getPlaybackQuality();
                if (playbackQuality) {
                  dashMetrics.addDroppedFrames(playbackQuality);
                }
              }
            }
            function _onPlaybackStarted() {
              logger.debug("[onPlaybackStarted]");
              if (!initialPlayback && isPaused) {
                isPaused = false;
                createPlaylistMetrics(_vo_metrics_PlayList__WEBPACK_IMPORTED_MODULE_7__["PlayList"].RESUME_FROM_PAUSE_START_REASON);
              }
            }
            function _onPlaybackPaused(e) {
              logger.debug("[onPlaybackPaused]");
              if (!e.ended) {
                isPaused = true;
                _flushPlaylistMetrics(_vo_metrics_PlayList__WEBPACK_IMPORTED_MODULE_7__["PlayListTrace"].USER_REQUEST_STOP_REASON);
              }
            }
            function _onStreamBufferingCompleted(e) {
              logger.debug("Stream with id ".concat(e.streamInfo.id, " finished buffering"));
              var isLast = e.streamInfo.isLast;
              if (mediaSource && isLast) {
                logger.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController.");
                mediaSourceController.signalEndOfStream(mediaSource);
              } else {
                _checkIfPrebufferingCanStart();
              }
            }
            function _checkIfPrebufferingCanStart() {
              if (!activeStream || !activeStream.getHasFinishedBuffering()) {
                return;
              }
              var upcomingStreams = _getNextStreams(activeStream);
              var i3 = 0;
              while (i3 < upcomingStreams.length) {
                var stream = upcomingStreams[i3];
                var previousStream = i3 === 0 ? activeStream : upcomingStreams[i3 - 1];
                if (!stream.getPreloaded() && previousStream.getHasFinishedBuffering()) {
                  if (mediaSource) {
                    _onStreamCanLoadNext(stream, previousStream);
                  }
                }
                i3 += 1;
              }
            }
            function _startPlaybackEndedTimerInterval() {
              if (!playbackEndedTimerInterval) {
                playbackEndedTimerInterval = setInterval(function() {
                  if (!isStreamSwitchingInProgress && playbackController.getTimeToStreamEnd() <= 0 && !playbackController.isSeeking()) {
                    eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].PLAYBACK_ENDED, {
                      "isLast": getActiveStreamInfo().isLast
                    });
                  }
                }, PLAYBACK_ENDED_TIMER_INTERVAL);
              }
            }
            function _stopPlaybackEndedTimerInterval() {
              if (playbackEndedTimerInterval) {
                clearInterval(playbackEndedTimerInterval);
                playbackEndedTimerInterval = null;
              }
            }
            function getTimeRelativeToStreamId(time, id) {
              var stream = null;
              var baseStart = 0;
              var streamStart = 0;
              var streamDur = null;
              for (var i3 = 0; i3 < streams.length; i3++) {
                stream = streams[i3];
                streamStart = stream.getStartTime();
                streamDur = stream.getDuration();
                if (Number.isFinite(streamStart)) {
                  baseStart = streamStart;
                }
                if (stream.getId() === id) {
                  return time - baseStart;
                } else {
                  if (Number.isFinite(streamDur)) {
                    baseStart += streamDur;
                  }
                }
              }
              return null;
            }
            function getActiveStreamProcessors() {
              return activeStream ? activeStream.getProcessors() : [];
            }
            function _onPlaybackEnded(e) {
              if (activeStream && !activeStream.getIsEndedEventSignaled()) {
                activeStream.setIsEndedEventSignaled(true);
                var nextStream = _getNextStream();
                if (nextStream) {
                  logger.debug("StreamController onEnded, found next stream with id ".concat(nextStream.getStreamInfo().id, ". Switching from ").concat(activeStream.getStreamInfo().id, " to ").concat(nextStream.getStreamInfo().id));
                  _switchStream(nextStream, activeStream, NaN);
                } else {
                  logger.debug("StreamController no next stream found");
                  activeStream.setIsEndedEventSignaled(false);
                }
                _flushPlaylistMetrics(nextStream ? _vo_metrics_PlayList__WEBPACK_IMPORTED_MODULE_7__["PlayListTrace"].END_OF_PERIOD_STOP_REASON : _vo_metrics_PlayList__WEBPACK_IMPORTED_MODULE_7__["PlayListTrace"].END_OF_CONTENT_STOP_REASON);
              }
              if (e && e.isLast) {
                _stopPlaybackEndedTimerInterval();
              }
            }
            function _getNextStream() {
              var stream = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null;
              var refStream = stream ? stream : activeStream ? activeStream : null;
              if (!refStream) {
                return null;
              }
              var refStreamInfo = refStream.getStreamInfo();
              var start = refStreamInfo.start;
              var i3 = 0;
              var targetIndex = -1;
              var lastDiff = NaN;
              while (i3 < streams.length) {
                var s3 = streams[i3];
                var sInfo = s3.getStreamInfo();
                var diff = sInfo.start - start;
                if (diff > 0 && (isNaN(lastDiff) || diff < lastDiff) && refStreamInfo.id !== sInfo.id) {
                  lastDiff = diff;
                  targetIndex = i3;
                }
                i3 += 1;
              }
              if (targetIndex >= 0) {
                return streams[targetIndex];
              }
              return null;
            }
            function _getNextStreams() {
              var stream = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null;
              try {
                var refStream = stream ? stream : activeStream ? activeStream : null;
                if (refStream) {
                  var refStreamInfo = refStream.getStreamInfo();
                  return streams.filter(function(stream2) {
                    var sInfo = stream2.getStreamInfo();
                    return sInfo.start > refStreamInfo.start && refStreamInfo.id !== sInfo.id;
                  });
                }
              } catch (e) {
                return [];
              }
            }
            function _setMediaDuration(duration) {
              var manifestDuration = duration ? duration : getActiveStreamInfo().manifestInfo.duration;
              mediaSourceController.setDuration(manifestDuration);
            }
            function getActiveStream() {
              return activeStream;
            }
            function _getInitialStartTime() {
              var startTime;
              if (adapter.getIsDynamic()) {
                var dvrInfo = dashMetrics.getCurrentDVRInfo();
                var liveEdge = dvrInfo && dvrInfo.range ? dvrInfo.range.end : 0;
                startTime = liveEdge - playbackController.getLiveDelay();
                var dvrWindow = dvrInfo ? dvrInfo.range : null;
                if (dvrWindow) {
                  var startTimeFromUri = _getStartTimeFromUriParameters(true);
                  if (!isNaN(startTimeFromUri)) {
                    logger.info("Start time from URI parameters: " + startTimeFromUri);
                    startTime = Math.max(Math.min(startTime, startTimeFromUri), dvrWindow.start);
                  }
                }
              } else {
                var _streams = getStreams();
                var streamInfo = _streams[0].getStreamInfo();
                startTime = streamInfo.start;
                var _startTimeFromUri = _getStartTimeFromUriParameters(false);
                if (!isNaN(_startTimeFromUri)) {
                  logger.info("Start time from URI parameters: " + _startTimeFromUri);
                  startTime = Math.max(startTime, _startTimeFromUri);
                }
              }
              return startTime;
            }
            function _getStartTimeFromUriParameters(isDynamic) {
              var fragData = uriFragmentModel.getURIFragmentData();
              if (!fragData || !fragData.t) {
                return NaN;
              }
              var refStream = getStreams()[0];
              var refStreamStartTime = refStream.getStreamInfo().start;
              fragData.t = fragData.t.split(",")[0];
              var posix = fragData.t.indexOf("posix:") !== -1 ? fragData.t.substring(6) === "now" ? Date.now() / 1e3 : parseInt(fragData.t.substring(6)) : NaN;
              var startTime = isDynamic && !isNaN(posix) ? posix - playbackController.getAvailabilityStartTime() / 1e3 : parseInt(fragData.t) + refStreamStartTime;
              return startTime;
            }
            function _filterOutdatedStreams(streamsInfo) {
              streams = streams.filter(function(stream) {
                var isStillIncluded = streamsInfo.filter(function(sInfo) {
                  return sInfo.id === stream.getId();
                }).length > 0;
                var shouldKeepStream = isStillIncluded || stream.getId() === activeStream.getId();
                if (!shouldKeepStream) {
                  logger.debug("Removing stream ".concat(stream.getId()));
                  stream.reset(true);
                }
                return shouldKeepStream;
              });
            }
            function _getFragmentDurationForLiveDelayCalculation(streamInfos, manifestInfo) {
              try {
                var fragmentDuration = NaN;
                if (manifestInfo && !isNaN(manifestInfo.maxFragmentDuration) && isFinite(manifestInfo.maxFragmentDuration)) {
                  return manifestInfo.maxFragmentDuration;
                }
                if (streamInfos && streamInfos.length === 1) {
                  var streamInfo = streamInfos[0];
                  var mediaTypes = [_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO, _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO, _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT];
                  var fragmentDurations = mediaTypes.reduce(function(acc, mediaType) {
                    var mediaInfo = adapter.getMediaInfoForType(streamInfo, mediaType);
                    if (mediaInfo && mediaInfo.isFragmented !== false) {
                      acc.push(mediaInfo);
                    }
                    return acc;
                  }, []).reduce(function(acc, mediaInfo) {
                    var voRepresentations = adapter.getVoRepresentations(mediaInfo);
                    if (voRepresentations && voRepresentations.length > 0) {
                      voRepresentations.forEach(function(voRepresentation) {
                        if (voRepresentation) {
                          acc.push(voRepresentation);
                        }
                      });
                    }
                    return acc;
                  }, []).reduce(function(acc, voRepresentation) {
                    var representation = adapter.convertRepresentationToRepresentationInfo(voRepresentation);
                    if (representation && representation.fragmentDuration && !isNaN(representation.fragmentDuration)) {
                      acc.push(representation.fragmentDuration);
                    }
                    return acc;
                  }, []);
                  fragmentDuration = Math.max.apply(Math, _toConsumableArray(fragmentDurations));
                }
                return isFinite(fragmentDuration) ? fragmentDuration : NaN;
              } catch (e) {
                return NaN;
              }
            }
            function _onManifestUpdated(e) {
              if (!e.error) {
                logger.info("Manifest updated... updating data system wide.");
                var manifest = e.manifest;
                adapter.updatePeriods(manifest);
                var manifestUTCTimingSources = adapter.getUTCTimingSources();
                if (adapter.getIsDynamic() && (!manifestUTCTimingSources || manifestUTCTimingSources.length === 0)) {
                  eventBus.trigger(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_11__["default"].CONFORMANCE_VIOLATION, {
                    level: _constants_ConformanceViolationConstants__WEBPACK_IMPORTED_MODULE_17__["default"].LEVELS.WARNING,
                    event: _constants_ConformanceViolationConstants__WEBPACK_IMPORTED_MODULE_17__["default"].EVENTS.NO_UTC_TIMING_ELEMENT
                  });
                }
                var allUTCTimingSources = !adapter.getIsDynamic() ? manifestUTCTimingSources : manifestUTCTimingSources.concat(mediaPlayerModel.getUTCTimingSources());
                var isHTTPS = urlUtils.isHTTPS(e.manifest.url);
                allUTCTimingSources.forEach(function(item) {
                  if (item.value.replace(/.*?:\/\//g, "") === mediaPlayerModel.getDefaultUtcTimingSource().value.replace(/.*?:\/\//g, "")) {
                    item.value = item.value.replace(isHTTPS ? new RegExp(/^(http:)?\/\//i) : new RegExp(/^(https:)?\/\//i), isHTTPS ? "https://" : "http://");
                    logger.debug("Matching default timing source protocol to manifest protocol: ", item.value);
                  }
                });
                capabilitiesFilter.filterUnsupportedFeatures(manifest).then(function() {
                  baseURLController.initialize(manifest);
                  timeSyncController.attemptSync(allUTCTimingSources, adapter.getIsDynamic());
                });
              } else {
                hasInitialisationError = true;
                reset();
              }
            }
            function hasVideoTrack() {
              return activeStream ? activeStream.getHasVideoTrack() : false;
            }
            function hasAudioTrack() {
              return activeStream ? activeStream.getHasAudioTrack() : false;
            }
            function switchToVideoElement(seekTime) {
              if (activeStream) {
                playbackController.initialize(getActiveStreamInfo());
                _openMediaSource(seekTime, false);
              }
            }
            function _flushPlaylistMetrics(reason, time) {
              time = time || new Date();
              getActiveStreamProcessors().forEach(function(p2) {
                p2.finalisePlayList(time, reason);
              });
              dashMetrics.addPlayList();
            }
            function createPlaylistMetrics(startReason) {
              dashMetrics.createPlaylistMetrics(playbackController.getTime() * 1e3, startReason);
            }
            function _onPlaybackError(e) {
              if (!e.error)
                return;
              var msg = "";
              switch (e.error.code) {
                case 1:
                  msg = "MEDIA_ERR_ABORTED";
                  break;
                case 2:
                  msg = "MEDIA_ERR_NETWORK";
                  break;
                case 3:
                  msg = "MEDIA_ERR_DECODE";
                  errorInformation.counts.mediaErrorDecode += 1;
                  break;
                case 4:
                  msg = "MEDIA_ERR_SRC_NOT_SUPPORTED";
                  break;
                case 5:
                  msg = "MEDIA_ERR_ENCRYPTED";
                  break;
                default:
                  msg = "UNKNOWN";
                  break;
              }
              if (msg === "MEDIA_ERR_DECODE" && settings.get().errors.recoverAttempts.mediaErrorDecode >= errorInformation.counts.mediaErrorDecode) {
                _handleMediaErrorDecode();
                return;
              }
              hasMediaError = true;
              if (e.error.message) {
                msg += " (" + e.error.message + ")";
              }
              if (e.error.msExtendedCode) {
                msg += " (0x" + (e.error.msExtendedCode >>> 0).toString(16).toUpperCase() + ")";
              }
              logger.fatal("Video Element Error: " + msg);
              if (e.error) {
                logger.fatal(e.error);
              }
              errHandler.error(new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_14__["default"](e.error.code, msg));
              reset();
            }
            function _handleMediaErrorDecode() {
              logger.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");
              var time = playbackController.getTime();
              activeStream.deactivate(false);
              logger.warn("MediaSource has been resetted. Resuming playback from time ".concat(time));
              _openMediaSource(time, false);
            }
            function getActiveStreamInfo() {
              return activeStream ? activeStream.getStreamInfo() : null;
            }
            function getIsStreamSwitchInProgress() {
              return isStreamSwitchingInProgress;
            }
            function getHasMediaOrInitialisationError() {
              return hasMediaError || hasInitialisationError;
            }
            function getStreamById(id) {
              for (var i3 = 0, ln = streams.length; i3 < ln; i3++) {
                if (streams[i3].getId() === id) {
                  return streams[i3];
                }
              }
              return null;
            }
            function checkConfig() {
              if (!manifestLoader || !manifestLoader.hasOwnProperty("load") || !timelineConverter || !timelineConverter.hasOwnProperty("initialize") || !timelineConverter.hasOwnProperty("reset") || !timelineConverter.hasOwnProperty("getClientTimeOffset") || !manifestModel || !errHandler || !dashMetrics || !playbackController) {
                throw new Error(_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].MISSING_CONFIG_ERROR);
              }
            }
            function checkInitialize() {
              if (!manifestUpdater || !manifestUpdater.hasOwnProperty("setManifest")) {
                throw new Error("initialize function has to be called previously");
              }
            }
            function load(url) {
              checkConfig();
              manifestLoader.load(url);
            }
            function loadWithManifest(manifest) {
              checkInitialize();
              manifestUpdater.setManifest(manifest);
            }
            function _onManifestValidityChanged(e) {
              if (!isNaN(e.newDuration)) {
                _setMediaDuration(e.newDuration);
              }
            }
            function setConfig(config) {
              if (!config)
                return;
              if (config.capabilities) {
                capabilities = config.capabilities;
              }
              if (config.capabilitiesFilter) {
                capabilitiesFilter = config.capabilitiesFilter;
              }
              if (config.manifestLoader) {
                manifestLoader = config.manifestLoader;
              }
              if (config.manifestModel) {
                manifestModel = config.manifestModel;
              }
              if (config.mediaPlayerModel) {
                mediaPlayerModel = config.mediaPlayerModel;
              }
              if (config.protectionController) {
                protectionController = config.protectionController;
              }
              if (config.adapter) {
                adapter = config.adapter;
              }
              if (config.dashMetrics) {
                dashMetrics = config.dashMetrics;
              }
              if (config.errHandler) {
                errHandler = config.errHandler;
              }
              if (config.timelineConverter) {
                timelineConverter = config.timelineConverter;
              }
              if (config.videoModel) {
                videoModel = config.videoModel;
              }
              if (config.playbackController) {
                playbackController = config.playbackController;
              }
              if (config.textController) {
                textController = config.textController;
              }
              if (config.abrController) {
                abrController = config.abrController;
              }
              if (config.mediaController) {
                mediaController = config.mediaController;
              }
              if (config.settings) {
                settings = config.settings;
              }
              if (config.baseURLController) {
                baseURLController = config.baseURLController;
              }
              if (config.uriFragmentModel) {
                uriFragmentModel = config.uriFragmentModel;
              }
              if (config.segmentBaseController) {
                segmentBaseController = config.segmentBaseController;
              }
            }
            function setProtectionData(protData) {
              protectionData = protData;
              if (protectionController) {
                protectionController.setProtectionData(protectionData);
              }
            }
            function resetInitialSettings() {
              streams = [];
              protectionController = null;
              isStreamSwitchingInProgress = false;
              activeStream = null;
              hasMediaError = false;
              hasInitialisationError = false;
              initialPlayback = true;
              isPaused = false;
              autoPlay = true;
              playbackEndedTimerInterval = null;
              firstLicenseIsFetched = false;
              supportsChangeType = false;
              preloadingStreams = [];
              waitForPlaybackStartTimeout = null;
              errorInformation = {
                counts: {
                  mediaErrorDecode: 0
                }
              };
            }
            function reset() {
              checkConfig();
              timeSyncController.reset();
              _flushPlaylistMetrics(hasMediaError || hasInitialisationError ? _vo_metrics_PlayList__WEBPACK_IMPORTED_MODULE_7__["PlayListTrace"].FAILURE_STOP_REASON : _vo_metrics_PlayList__WEBPACK_IMPORTED_MODULE_7__["PlayListTrace"].USER_REQUEST_STOP_REASON);
              for (var i3 = 0, ln = streams ? streams.length : 0; i3 < ln; i3++) {
                var stream = streams[i3];
                stream.reset(hasMediaError);
              }
              unRegisterEvents();
              baseURLController.reset();
              manifestUpdater.reset();
              eventController.reset();
              dashMetrics.clearAllCurrentMetrics();
              manifestModel.setValue(null);
              manifestLoader.reset();
              timelineConverter.reset();
              initCache.reset();
              if (mediaSource) {
                mediaSourceController.detachMediaSource(videoModel);
                mediaSource = null;
              }
              videoModel = null;
              if (protectionController) {
                protectionController = null;
                protectionData = null;
                if (manifestModel.getValue()) {
                  eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].PROTECTION_DESTROYED, {
                    data: manifestModel.getValue().url
                  });
                }
              }
              _stopPlaybackEndedTimerInterval();
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].STREAM_TEARDOWN_COMPLETE);
              resetInitialSettings();
            }
            function _onMetricAdded(e) {
              if (e.metric === _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].DVR_INFO) {
                var targetMediaType = hasAudioTrack() ? _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO : _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO;
                if (e.mediaType === targetMediaType) {
                  mediaSourceController.setSeekable(e.value.range.start, e.value.range.end);
                }
              }
            }
            function getStreams() {
              return streams;
            }
            instance = {
              initialize,
              getActiveStreamInfo,
              hasVideoTrack,
              hasAudioTrack,
              getStreamById,
              getStreamForTime,
              getTimeRelativeToStreamId,
              load,
              loadWithManifest,
              getActiveStreamProcessors,
              setConfig,
              setProtectionData,
              getIsStreamSwitchInProgress,
              switchToVideoElement,
              getHasMediaOrInitialisationError,
              getStreams,
              getActiveStream,
              reset
            };
            setup();
            return instance;
          }
          StreamController.__dashjs_factory_name = "StreamController";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_6__["default"].getSingletonFactory(StreamController);
        },
        "./src/streaming/controllers/TimeSyncController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _vo_DashJSError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/vo/DashJSError.js");
          var _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/vo/metrics/HTTPRequest.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/core/events/Events.js");
          var _core_errors_Errors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/core/errors/Errors.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/core/Debug.js");
          var _utils_URLUtils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/streaming/utils/URLUtils.js");
          var HTTP_TIMEOUT_MS = 5e3;
          var DEFAULT_MAXIMUM_ALLOWED_DRIFT = 100;
          var DEFAULT_TIME_BETWEEN_SYNC_ATTEMPTS_ADJUSTMENT_FACTOR = 2;
          var DEFAULT_BACKGROUND_ATTEMPTS = 2;
          var DEFAULT_TIME_BETWEEN_SYNC_ATTEMPTS = 30;
          var DEFAULT_MINIMUM_TIME_BETWEEN_BACKGROUND_SYNC_ATTEMPTS = 30;
          var DEFAULT_MAXIMUM_TIME_BETWEEN_SYNC = 600;
          var DEFAULT_MINIMUM_TIME_BETWEEN_SYNC = 2;
          function TimeSyncController() {
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_2__["default"])(context).getInstance();
            var urlUtils = Object(_utils_URLUtils__WEBPACK_IMPORTED_MODULE_7__["default"])(context).getInstance();
            var instance, logger, isSynchronizing, isBackgroundSynchronizing, settings, handlers, dashMetrics, backgroundSyncTimeOffsets, timingSources, timeOfLastSync, timeOfLastBackgroundSync, lastOffset, lastTimingSource, internalTimeBetweenSyncAttempts, errHandler, baseURLController;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_6__["default"])(context).getInstance().getLogger(instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].ATTEMPT_BACKGROUND_SYNC, _onAttemptBackgroundSync, instance);
            }
            function setConfig(config) {
              if (!config)
                return;
              if (config.dashMetrics) {
                dashMetrics = config.dashMetrics;
              }
              if (config.baseURLController) {
                baseURLController = config.baseURLController;
              }
              if (config.errHandler) {
                errHandler = config.errHandler;
              }
              if (config.settings) {
                settings = config.settings;
              }
            }
            function _resetInitialSettings() {
              backgroundSyncTimeOffsets = [];
              timingSources = [];
              timeOfLastSync = null;
              timeOfLastBackgroundSync = null;
              lastTimingSource = null;
              lastOffset = NaN;
              isSynchronizing = false;
              isBackgroundSynchronizing = false;
              internalTimeBetweenSyncAttempts = settings.get().streaming.utcSynchronization.timeBetweenSyncAttempts;
            }
            function initialize() {
              _resetInitialSettings();
              handlers = {
                "urn:mpeg:dash:utc:http-head:2014": _httpHeadHandler,
                "urn:mpeg:dash:utc:http-xsdate:2014": _httpHandler.bind(null, _xsdatetimeDecoder),
                "urn:mpeg:dash:utc:http-iso:2014": _httpHandler.bind(null, _iso8601Decoder),
                "urn:mpeg:dash:utc:direct:2014": _directHandler,
                "urn:mpeg:dash:utc:http-head:2012": _httpHeadHandler,
                "urn:mpeg:dash:utc:http-xsdate:2012": _httpHandler.bind(null, _xsdatetimeDecoder),
                "urn:mpeg:dash:utc:http-iso:2012": _httpHandler.bind(null, _iso8601Decoder),
                "urn:mpeg:dash:utc:direct:2012": _directHandler,
                "urn:mpeg:dash:utc:http-ntp:2014": _notSupportedHandler,
                "urn:mpeg:dash:utc:ntp:2014": _notSupportedHandler,
                "urn:mpeg:dash:utc:sntp:2014": _notSupportedHandler
              };
            }
            function attemptSync(tSources, isDynamic) {
              timingSources = tSources;
              if (isSynchronizing) {
                return;
              }
              if (!_shouldPerformSynchronization(isDynamic)) {
                eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].TIME_SYNCHRONIZATION_COMPLETED);
                return;
              }
              isSynchronizing = true;
              _attemptRecursiveSync();
            }
            function _onAttemptBackgroundSync() {
              if (isSynchronizing || isBackgroundSynchronizing || !lastTimingSource || !lastTimingSource.value || !lastTimingSource.schemeIdUri || isNaN(lastOffset) || isNaN(settings.get().streaming.utcSynchronization.backgroundAttempts)) {
                return;
              }
              if (timeOfLastBackgroundSync && (Date.now() - timeOfLastBackgroundSync) / 1e3 < DEFAULT_MINIMUM_TIME_BETWEEN_BACKGROUND_SYNC_ATTEMPTS) {
                return;
              }
              backgroundSyncTimeOffsets = [];
              isBackgroundSynchronizing = true;
              var backgroundAttempts = !isNaN(settings.get().streaming.utcSynchronization.backgroundAttempts) ? settings.get().streaming.utcSynchronization.backgroundAttempts : DEFAULT_BACKGROUND_ATTEMPTS;
              _attemptBackgroundSync(backgroundAttempts);
            }
            function _attemptBackgroundSync(attempts) {
              try {
                if (attempts <= 0) {
                  _completeBackgroundTimeSyncSequence();
                  return;
                }
                var deviceTimeBeforeSync = Date.now();
                handlers[lastTimingSource.schemeIdUri](lastTimingSource.value, function(serverTime) {
                  var deviceTimeAfterSync = Date.now();
                  var offset = _calculateOffset(deviceTimeBeforeSync, deviceTimeAfterSync, serverTime);
                  backgroundSyncTimeOffsets.push(offset);
                  _attemptBackgroundSync(attempts - 1);
                }, function() {
                  _completeBackgroundTimeSyncSequence();
                });
              } catch (e) {
                _completeBackgroundTimeSyncSequence();
              }
            }
            function _attemptRecursiveSync() {
              var sourceIndex = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null;
              var index = sourceIndex || 0;
              if (!timingSources || timingSources.length === 0 || index >= timingSources.length) {
                _onComplete();
                return;
              }
              var source = timingSources[index];
              if (source) {
                if (handlers.hasOwnProperty(source.schemeIdUri)) {
                  var deviceTimeBeforeSync = new Date().getTime();
                  handlers[source.schemeIdUri](source.value, function(serverTime) {
                    var deviceTimeAfterSync = new Date().getTime();
                    var offset = _calculateOffset(deviceTimeBeforeSync, deviceTimeAfterSync, serverTime);
                    lastTimingSource = source;
                    _onComplete(offset);
                  }, function() {
                    _attemptRecursiveSync(index + 1);
                  });
                } else {
                  _attemptRecursiveSync(index + 1);
                }
              } else {
                _onComplete();
              }
            }
            function _calculateOffset(deviceTimeBeforeSync, deviceTimeAfterSync, serverTime) {
              var deviceReferenceTime = deviceTimeAfterSync - (deviceTimeAfterSync - deviceTimeBeforeSync) / 2;
              return serverTime - deviceReferenceTime;
            }
            function _shouldPerformSynchronization(isDynamic) {
              try {
                if (!isDynamic) {
                  return false;
                }
                var timeBetweenSyncAttempts = !isNaN(internalTimeBetweenSyncAttempts) ? internalTimeBetweenSyncAttempts : DEFAULT_TIME_BETWEEN_SYNC_ATTEMPTS;
                if (!timeOfLastSync || !timeBetweenSyncAttempts || isNaN(timeBetweenSyncAttempts)) {
                  return true;
                }
                return (Date.now() - timeOfLastSync) / 1e3 >= timeBetweenSyncAttempts;
              } catch (e) {
                return true;
              }
            }
            function _onComplete() {
              var offset = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : NaN;
              var failed = isNaN(offset);
              if (failed && settings.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource) {
                _checkForDateHeader();
              } else {
                _completeTimeSyncSequence(failed, offset);
              }
            }
            function _alternateXsdatetimeDecoder(xsdatetimeStr) {
              var SECONDS_IN_MIN = 60;
              var MINUTES_IN_HOUR = 60;
              var MILLISECONDS_IN_SECONDS = 1e3;
              var datetimeRegex = /^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/;
              var utcDate, timezoneOffset;
              var match9 = datetimeRegex.exec(xsdatetimeStr);
              utcDate = Date.UTC(parseInt(match9[1], 10), parseInt(match9[2], 10) - 1, parseInt(match9[3], 10), parseInt(match9[4], 10), parseInt(match9[5], 10), match9[6] && (parseInt(match9[6], 10) || 0), match9[7] && parseFloat(match9[7]) * MILLISECONDS_IN_SECONDS || 0);
              if (match9[9] && match9[10]) {
                timezoneOffset = parseInt(match9[9], 10) * MINUTES_IN_HOUR + parseInt(match9[10], 10);
                utcDate += (match9[8] === "+" ? -1 : 1) * timezoneOffset * SECONDS_IN_MIN * MILLISECONDS_IN_SECONDS;
              }
              return new Date(utcDate).getTime();
            }
            function _xsdatetimeDecoder(xsdatetimeStr) {
              var parsedDate = Date.parse(xsdatetimeStr);
              if (isNaN(parsedDate)) {
                parsedDate = _alternateXsdatetimeDecoder(xsdatetimeStr);
              }
              return parsedDate;
            }
            function _iso8601Decoder(isoStr) {
              return Date.parse(isoStr);
            }
            function _rfc1123Decoder(dateStr) {
              return Date.parse(dateStr);
            }
            function _notSupportedHandler(url, onSuccessCB, onFailureCB) {
              onFailureCB();
            }
            function _directHandler(xsdatetimeStr, onSuccessCB, onFailureCB) {
              var time = _xsdatetimeDecoder(xsdatetimeStr);
              if (!isNaN(time)) {
                onSuccessCB(time);
                return;
              }
              onFailureCB();
            }
            function _httpHandler(decoder, url, onSuccessCB, onFailureCB, isHeadRequest) {
              var oncomplete, onload;
              var complete = false;
              var req = new XMLHttpRequest();
              var verb = isHeadRequest ? _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_1__["HTTPRequest"].HEAD : _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_1__["HTTPRequest"].GET;
              var urls = url.match(/\S+/g);
              url = urls.shift();
              oncomplete = function oncomplete2() {
                if (complete) {
                  return;
                }
                complete = true;
                if (urls.length) {
                  _httpHandler(decoder, urls.join(" "), onSuccessCB, onFailureCB, isHeadRequest);
                } else {
                  onFailureCB();
                }
              };
              onload = function onload2() {
                var time, result;
                if (req.status === 200) {
                  time = isHeadRequest ? req.getResponseHeader("Date") : req.response;
                  result = decoder(time);
                  if (!isNaN(result)) {
                    onSuccessCB(result);
                    complete = true;
                  }
                }
              };
              if (urlUtils.isRelative(url)) {
                var baseUrl = baseURLController.resolve();
                if (baseUrl) {
                  url = urlUtils.resolve(url, baseUrl.url);
                }
              }
              req.open(verb, url);
              req.timeout = HTTP_TIMEOUT_MS || 0;
              req.onload = onload;
              req.onloadend = oncomplete;
              req.send();
            }
            function _httpHeadHandler(url, onSuccessCB, onFailureCB) {
              _httpHandler(_rfc1123Decoder, url, onSuccessCB, onFailureCB, true);
            }
            function _checkForDateHeader() {
              var dateHeaderValue = dashMetrics.getLatestMPDRequestHeaderValueByID("Date");
              var dateHeaderTime = dateHeaderValue !== null ? new Date(dateHeaderValue).getTime() : Number.NaN;
              if (!isNaN(dateHeaderTime)) {
                var offsetToDeviceTimeMs = dateHeaderTime - Date.now();
                _completeTimeSyncSequence(false, offsetToDeviceTimeMs);
              } else {
                _completeTimeSyncSequence(true);
              }
            }
            function _completeTimeSyncSequence(failed, offset) {
              if (!isNaN(lastOffset) && !isNaN(offset) && !failed) {
                _adjustTimeBetweenSyncAttempts(offset);
              }
              if (!failed && !isNaN(offset)) {
                timeOfLastSync = Date.now();
                isSynchronizing = false;
                var shouldAttemptBackgroundSync = isNaN(lastOffset);
                lastOffset = offset;
                if (shouldAttemptBackgroundSync) {
                  _onAttemptBackgroundSync();
                }
                logger.debug("Completed UTC sync. Setting client - server offset to ".concat(offset));
              }
              if (failed) {
                lastTimingSource = null;
                isSynchronizing = false;
                errHandler.error(new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_0__["default"](_core_errors_Errors__WEBPACK_IMPORTED_MODULE_4__["default"].TIME_SYNC_FAILED_ERROR_CODE, _core_errors_Errors__WEBPACK_IMPORTED_MODULE_4__["default"].TIME_SYNC_FAILED_ERROR_MESSAGE));
              }
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].UPDATE_TIME_SYNC_OFFSET, {
                offset
              });
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].TIME_SYNCHRONIZATION_COMPLETED);
            }
            function _adjustTimeBetweenSyncAttempts(offset) {
              try {
                var isOffsetDriftWithinThreshold = _isOffsetDriftWithinThreshold(offset);
                var timeBetweenSyncAttempts = !isNaN(internalTimeBetweenSyncAttempts) ? internalTimeBetweenSyncAttempts : DEFAULT_TIME_BETWEEN_SYNC_ATTEMPTS;
                var timeBetweenSyncAttemptsAdjustmentFactor = !isNaN(settings.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor) ? settings.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor : DEFAULT_TIME_BETWEEN_SYNC_ATTEMPTS_ADJUSTMENT_FACTOR;
                var maximumTimeBetweenSyncAttempts = !isNaN(settings.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts) ? settings.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts : DEFAULT_MAXIMUM_TIME_BETWEEN_SYNC;
                var minimumTimeBetweenSyncAttempts = !isNaN(settings.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts) ? settings.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts : DEFAULT_MINIMUM_TIME_BETWEEN_SYNC;
                var adjustedTimeBetweenSyncAttempts;
                if (isOffsetDriftWithinThreshold) {
                  adjustedTimeBetweenSyncAttempts = Math.min(timeBetweenSyncAttempts * timeBetweenSyncAttemptsAdjustmentFactor, maximumTimeBetweenSyncAttempts);
                  logger.debug("Increasing timeBetweenSyncAttempts to ".concat(adjustedTimeBetweenSyncAttempts));
                } else {
                  adjustedTimeBetweenSyncAttempts = Math.max(timeBetweenSyncAttempts / timeBetweenSyncAttemptsAdjustmentFactor, minimumTimeBetweenSyncAttempts);
                  logger.debug("Decreasing timeBetweenSyncAttempts to ".concat(adjustedTimeBetweenSyncAttempts));
                }
                internalTimeBetweenSyncAttempts = adjustedTimeBetweenSyncAttempts;
              } catch (e) {
              }
            }
            function _completeBackgroundTimeSyncSequence() {
              if (!backgroundSyncTimeOffsets || backgroundSyncTimeOffsets.length === 0) {
                return;
              }
              var averageOffset = backgroundSyncTimeOffsets.reduce(function(acc, curr) {
                return acc + curr;
              }, 0) / backgroundSyncTimeOffsets.length;
              if (!_isOffsetDriftWithinThreshold(averageOffset)) {
                logger.debug("Completed background UTC sync. Setting client - server offset to ".concat(averageOffset));
                lastOffset = averageOffset;
                eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].UPDATE_TIME_SYNC_OFFSET, {
                  offset: lastOffset
                });
              } else {
                logger.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted.");
              }
              isBackgroundSynchronizing = false;
              timeOfLastBackgroundSync = Date.now();
            }
            function _isOffsetDriftWithinThreshold(offset) {
              try {
                if (isNaN(lastOffset)) {
                  return true;
                }
                var maxAllowedDrift = settings.get().streaming.utcSynchronization.maximumAllowedDrift && !isNaN(settings.get().streaming.utcSynchronization.maximumAllowedDrift) ? settings.get().streaming.utcSynchronization.maximumAllowedDrift : DEFAULT_MAXIMUM_ALLOWED_DRIFT;
                var lowerBound = lastOffset - maxAllowedDrift;
                var upperBound = lastOffset + maxAllowedDrift;
                return offset >= lowerBound && offset <= upperBound;
              } catch (e) {
                return true;
              }
            }
            function reset() {
              _resetInitialSettings();
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].ATTEMPT_BACKGROUND_SYNC, _onAttemptBackgroundSync, instance);
            }
            instance = {
              initialize,
              attemptSync,
              setConfig,
              reset
            };
            setup();
            return instance;
          }
          TimeSyncController.__dashjs_factory_name = "TimeSyncController";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_5__["default"].getSingletonFactory(TimeSyncController);
          factory.HTTP_TIMEOUT_MS = HTTP_TIMEOUT_MS;
          _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_5__["default"].updateSingletonFactory(TimeSyncController.__dashjs_factory_name, factory);
          __webpack_exports__["default"] = factory;
        },
        "./src/streaming/controllers/XlinkController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _XlinkLoader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/XlinkLoader.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/events/Events.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _externals_xml2json__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./externals/xml2json.js");
          var _utils_URLUtils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/utils/URLUtils.js");
          var _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/dash/constants/DashConstants.js");
          var RESOLVE_TYPE_ONLOAD = "onLoad";
          var RESOLVE_TYPE_ONACTUATE = "onActuate";
          var RESOLVE_TO_ZERO = "urn:mpeg:dash:resolve-to-zero:2013";
          function XlinkController(config) {
            config = config || {};
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_1__["default"])(context).getInstance();
            var urlUtils = Object(_utils_URLUtils__WEBPACK_IMPORTED_MODULE_5__["default"])(context).getInstance();
            var instance, matchers, iron, manifest, converter, xlinkLoader;
            function setup() {
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].XLINK_ELEMENT_LOADED, onXlinkElementLoaded, instance);
              xlinkLoader = Object(_XlinkLoader__WEBPACK_IMPORTED_MODULE_0__["default"])(context).create({
                errHandler: config.errHandler,
                dashMetrics: config.dashMetrics,
                mediaPlayerModel: config.mediaPlayerModel,
                requestModifier: config.requestModifier,
                settings: config.settings
              });
            }
            function setMatchers(value) {
              if (value) {
                matchers = value;
              }
            }
            function setIron(value) {
              if (value) {
                iron = value;
              }
            }
            function resolveManifestOnLoad(mpd) {
              var elements;
              converter = new _externals_xml2json__WEBPACK_IMPORTED_MODULE_4__["default"]({
                escapeMode: false,
                attributePrefix: "",
                arrayAccessForm: "property",
                emptyNodeForm: "object",
                stripWhitespaces: false,
                enableToStringFunc: false,
                ignoreRoot: true,
                matchers
              });
              manifest = mpd;
              if (manifest.Period_asArray) {
                elements = getElementsToResolve(manifest.Period_asArray, manifest, _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_6__["default"].PERIOD, RESOLVE_TYPE_ONLOAD);
                resolve2(elements, _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_6__["default"].PERIOD, RESOLVE_TYPE_ONLOAD);
              } else {
                eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].XLINK_READY, {
                  manifest
                });
              }
            }
            function reset() {
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].XLINK_ELEMENT_LOADED, onXlinkElementLoaded, instance);
              if (xlinkLoader) {
                xlinkLoader.reset();
                xlinkLoader = null;
              }
            }
            function resolve2(elements, type, resolveType) {
              var resolveObject = {};
              var element, url;
              resolveObject.elements = elements;
              resolveObject.type = type;
              resolveObject.resolveType = resolveType;
              if (resolveObject.elements.length === 0) {
                onXlinkAllElementsLoaded(resolveObject);
              }
              for (var i3 = 0; i3 < resolveObject.elements.length; i3++) {
                element = resolveObject.elements[i3];
                if (urlUtils.isHTTPURL(element.url)) {
                  url = element.url;
                } else {
                  url = element.originalContent.BaseURL + element.url;
                }
                xlinkLoader.load(url, element, resolveObject);
              }
            }
            function onXlinkElementLoaded(event) {
              var element, resolveObject;
              var openingTag = "<response>";
              var closingTag = "</response>";
              var mergedContent = "";
              element = event.element;
              resolveObject = event.resolveObject;
              if (element.resolvedContent) {
                var index = 0;
                if (element.resolvedContent.indexOf("<?xml") === 0) {
                  index = element.resolvedContent.indexOf("?>") + 2;
                }
                mergedContent = element.resolvedContent.substr(0, index) + openingTag + element.resolvedContent.substr(index) + closingTag;
                element.resolvedContent = converter.xml_str2json(mergedContent);
              }
              if (isResolvingFinished(resolveObject)) {
                onXlinkAllElementsLoaded(resolveObject);
              }
            }
            function onXlinkAllElementsLoaded(resolveObject) {
              var elements = [];
              var i3, obj;
              mergeElementsBack(resolveObject);
              if (resolveObject.resolveType === RESOLVE_TYPE_ONACTUATE) {
                eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].XLINK_READY, {
                  manifest
                });
              }
              if (resolveObject.resolveType === RESOLVE_TYPE_ONLOAD) {
                switch (resolveObject.type) {
                  case _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_6__["default"].PERIOD:
                    for (i3 = 0; i3 < manifest[_dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_6__["default"].PERIOD + "_asArray"].length; i3++) {
                      obj = manifest[_dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_6__["default"].PERIOD + "_asArray"][i3];
                      if (obj.hasOwnProperty(_dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_6__["default"].ADAPTATION_SET + "_asArray")) {
                        elements = elements.concat(getElementsToResolve(obj[_dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_6__["default"].ADAPTATION_SET + "_asArray"], obj, _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_6__["default"].ADAPTATION_SET, RESOLVE_TYPE_ONLOAD));
                      }
                      if (obj.hasOwnProperty(_dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_6__["default"].EVENT_STREAM + "_asArray")) {
                        elements = elements.concat(getElementsToResolve(obj[_dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_6__["default"].EVENT_STREAM + "_asArray"], obj, _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_6__["default"].EVENT_STREAM, RESOLVE_TYPE_ONLOAD));
                      }
                    }
                    resolve2(elements, _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_6__["default"].ADAPTATION_SET, RESOLVE_TYPE_ONLOAD);
                    break;
                  case _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_6__["default"].ADAPTATION_SET:
                    eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].XLINK_READY, {
                      manifest
                    });
                    break;
                }
              }
            }
            function getElementsToResolve(elements, parentElement, type, resolveType) {
              var toResolve = [];
              var element, i3, xlinkObject;
              for (i3 = elements.length - 1; i3 >= 0; i3--) {
                element = elements[i3];
                if (element.hasOwnProperty("xlink:href") && element["xlink:href"] === RESOLVE_TO_ZERO) {
                  elements.splice(i3, 1);
                }
              }
              for (i3 = 0; i3 < elements.length; i3++) {
                element = elements[i3];
                if (element.hasOwnProperty("xlink:href") && element.hasOwnProperty("xlink:actuate") && element["xlink:actuate"] === resolveType) {
                  xlinkObject = createXlinkObject(element["xlink:href"], parentElement, type, i3, resolveType, element);
                  toResolve.push(xlinkObject);
                }
              }
              return toResolve;
            }
            function mergeElementsBack(resolveObject) {
              var resolvedElements = [];
              var element, type, obj, i3, j, k2;
              for (i3 = resolveObject.elements.length - 1; i3 >= 0; i3--) {
                element = resolveObject.elements[i3];
                type = element.type + "_asArray";
                if (!element.resolvedContent || isInappropriateTarget()) {
                  delete element.originalContent["xlink:actuate"];
                  delete element.originalContent["xlink:href"];
                  resolvedElements.push(element.originalContent);
                } else if (element.resolvedContent) {
                  for (j = 0; j < element.resolvedContent[type].length; j++) {
                    obj = element.resolvedContent[type][j];
                    resolvedElements.push(obj);
                  }
                }
                element.parentElement[type].splice(element.index, 1);
                for (k2 = 0; k2 < resolvedElements.length; k2++) {
                  element.parentElement[type].splice(element.index + k2, 0, resolvedElements[k2]);
                }
                resolvedElements = [];
              }
              if (resolveObject.elements.length > 0) {
                iron.run(manifest);
              }
            }
            function createXlinkObject(url, parentElement, type, index, resolveType, originalContent) {
              return {
                url,
                parentElement,
                type,
                index,
                resolveType,
                originalContent,
                resolvedContent: null,
                resolved: false
              };
            }
            function isResolvingFinished(elementsToResolve) {
              var i3, obj;
              for (i3 = 0; i3 < elementsToResolve.elements.length; i3++) {
                obj = elementsToResolve.elements[i3];
                if (obj.resolved === false) {
                  return false;
                }
              }
              return true;
            }
            function isInappropriateTarget() {
              return false;
            }
            instance = {
              resolveManifestOnLoad,
              setMatchers,
              setIron,
              reset
            };
            setup();
            return instance;
          }
          XlinkController.__dashjs_factory_name = "XlinkController";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_3__["default"].getClassFactory(XlinkController);
        },
        "./src/streaming/metrics/MetricsReporting.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _utils_DVBErrorsTranslator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/metrics/utils/DVBErrorsTranslator.js");
          var _MetricsReportingEvents__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/metrics/MetricsReportingEvents.js");
          var _controllers_MetricsCollectionController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/metrics/controllers/MetricsCollectionController.js");
          var _metrics_MetricsHandlerFactory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/metrics/metrics/MetricsHandlerFactory.js");
          var _reporting_ReportingFactory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/metrics/reporting/ReportingFactory.js");
          function MetricsReporting() {
            var context = this.context;
            var instance, dvbErrorsTranslator;
            function createMetricsReporting(config) {
              dvbErrorsTranslator = Object(_utils_DVBErrorsTranslator__WEBPACK_IMPORTED_MODULE_0__["default"])(context).getInstance({
                eventBus: config.eventBus,
                dashMetrics: config.dashMetrics,
                metricsConstants: config.metricsConstants,
                events: config.events
              });
              dvbErrorsTranslator.initialise();
              return Object(_controllers_MetricsCollectionController__WEBPACK_IMPORTED_MODULE_2__["default"])(context).create(config);
            }
            function getReportingFactory() {
              return Object(_reporting_ReportingFactory__WEBPACK_IMPORTED_MODULE_4__["default"])(context).getInstance();
            }
            function getMetricsHandlerFactory() {
              return Object(_metrics_MetricsHandlerFactory__WEBPACK_IMPORTED_MODULE_3__["default"])(context).getInstance();
            }
            instance = {
              createMetricsReporting,
              getReportingFactory,
              getMetricsHandlerFactory
            };
            return instance;
          }
          MetricsReporting.__dashjs_factory_name = "MetricsReporting";
          var factory = dashjs.FactoryMaker.getClassFactory(MetricsReporting);
          factory.events = _MetricsReportingEvents__WEBPACK_IMPORTED_MODULE_1__["default"];
          dashjs.FactoryMaker.updateClassFactory(MetricsReporting.__dashjs_factory_name, factory);
          __webpack_exports__["default"] = factory;
        },
        "./src/streaming/metrics/MetricsReportingEvents.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_events_EventsBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/events/EventsBase.js");
          function _typeof5(obj) {
            "@babel/helpers - typeof";
            if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
              _typeof5 = function _typeof6(obj2) {
                return typeof obj2;
              };
            } else {
              _typeof5 = function _typeof6(obj2) {
                return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
              };
            }
            return _typeof5(obj);
          }
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _inherits2(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            if (superClass)
              _setPrototypeOf2(subClass, superClass);
          }
          function _setPrototypeOf2(o2, p2) {
            _setPrototypeOf2 = Object.setPrototypeOf || function _setPrototypeOf3(o3, p3) {
              o3.__proto__ = p3;
              return o3;
            };
            return _setPrototypeOf2(o2, p2);
          }
          function _createSuper2(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct2();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf2(Derived), result;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf2(this).constructor;
                result = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn2(this, result);
            };
          }
          function _possibleConstructorReturn2(self2, call) {
            if (call && (_typeof5(call) === "object" || typeof call === "function")) {
              return call;
            }
            return _assertThisInitialized2(self2);
          }
          function _assertThisInitialized2(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct2() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e) {
              return false;
            }
          }
          function _getPrototypeOf2(o2) {
            _getPrototypeOf2 = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf3(o3) {
              return o3.__proto__ || Object.getPrototypeOf(o3);
            };
            return _getPrototypeOf2(o2);
          }
          var MetricsReportingEvents = /* @__PURE__ */ function(_EventsBase) {
            _inherits2(MetricsReportingEvents2, _EventsBase);
            var _super = _createSuper2(MetricsReportingEvents2);
            function MetricsReportingEvents2() {
              var _this;
              _classCallCheck2(this, MetricsReportingEvents2);
              _this = _super.call(this);
              _this.METRICS_INITIALISATION_COMPLETE = "internal_metricsReportingInitialized";
              _this.BECAME_REPORTING_PLAYER = "internal_becameReportingPlayer";
              _this.CMCD_DATA_GENERATED = "cmcdDataGenerated";
              return _this;
            }
            return MetricsReportingEvents2;
          }(_core_events_EventsBase__WEBPACK_IMPORTED_MODULE_0__["default"]);
          var metricsReportingEvents = new MetricsReportingEvents();
          __webpack_exports__["default"] = metricsReportingEvents;
        },
        "./src/streaming/metrics/controllers/MetricsCollectionController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _MetricsController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/metrics/controllers/MetricsController.js");
          var _utils_ManifestParsing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/metrics/utils/ManifestParsing.js");
          var _MetricsReportingEvents__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/metrics/MetricsReportingEvents.js");
          function MetricsCollectionController(config) {
            config = config || {};
            var instance;
            var metricsControllers = {};
            var context = this.context;
            var eventBus = config.eventBus;
            var events = config.events;
            function update(e) {
              if (e.error) {
                return;
              }
              var controllersToRemove = Object.keys(metricsControllers);
              var metrics = Object(_utils_ManifestParsing__WEBPACK_IMPORTED_MODULE_1__["default"])(context).getInstance({
                adapter: config.adapter,
                constants: config.constants
              }).getMetrics(e.manifest);
              metrics.forEach(function(m2) {
                var key = JSON.stringify(m2);
                if (!metricsControllers.hasOwnProperty(key)) {
                  try {
                    var controller = Object(_MetricsController__WEBPACK_IMPORTED_MODULE_0__["default"])(context).create(config);
                    controller.initialize(m2);
                    metricsControllers[key] = controller;
                  } catch (e2) {
                  }
                } else {
                  controllersToRemove.splice(key, 1);
                }
              });
              controllersToRemove.forEach(function(c3) {
                metricsControllers[c3].reset();
                delete metricsControllers[c3];
              });
              eventBus.trigger(_MetricsReportingEvents__WEBPACK_IMPORTED_MODULE_2__["default"].METRICS_INITIALISATION_COMPLETE);
            }
            function resetMetricsControllers() {
              Object.keys(metricsControllers).forEach(function(key) {
                metricsControllers[key].reset();
              });
              metricsControllers = {};
            }
            function setup() {
              eventBus.on(events.MANIFEST_UPDATED, update, instance);
              eventBus.on(events.STREAM_TEARDOWN_COMPLETE, resetMetricsControllers, instance);
            }
            function reset() {
              eventBus.off(events.MANIFEST_UPDATED, update, instance);
              eventBus.off(events.STREAM_TEARDOWN_COMPLETE, resetMetricsControllers, instance);
            }
            instance = {
              reset
            };
            setup();
            return instance;
          }
          MetricsCollectionController.__dashjs_factory_name = "MetricsCollectionController";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getClassFactory(MetricsCollectionController);
        },
        "./src/streaming/metrics/controllers/MetricsController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _RangeController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/metrics/controllers/RangeController.js");
          var _ReportingController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/metrics/controllers/ReportingController.js");
          var _MetricsHandlersController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/metrics/controllers/MetricsHandlersController.js");
          function MetricsController(config) {
            config = config || {};
            var metricsHandlersController, reportingController, rangeController, instance;
            var context = this.context;
            function initialize(metricsEntry) {
              try {
                rangeController = Object(_RangeController__WEBPACK_IMPORTED_MODULE_0__["default"])(context).create({
                  mediaElement: config.mediaElement
                });
                rangeController.initialize(metricsEntry.Range);
                reportingController = Object(_ReportingController__WEBPACK_IMPORTED_MODULE_1__["default"])(context).create({
                  debug: config.debug,
                  metricsConstants: config.metricsConstants
                });
                reportingController.initialize(metricsEntry.Reporting, rangeController);
                metricsHandlersController = Object(_MetricsHandlersController__WEBPACK_IMPORTED_MODULE_2__["default"])(context).create({
                  debug: config.debug,
                  eventBus: config.eventBus,
                  metricsConstants: config.metricsConstants,
                  events: config.events
                });
                metricsHandlersController.initialize(metricsEntry.metrics, reportingController);
              } catch (e) {
                reset();
                throw e;
              }
            }
            function reset() {
              if (metricsHandlersController) {
                metricsHandlersController.reset();
              }
              if (reportingController) {
                reportingController.reset();
              }
              if (rangeController) {
                rangeController.reset();
              }
            }
            instance = {
              initialize,
              reset
            };
            return instance;
          }
          MetricsController.__dashjs_factory_name = "MetricsController";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getClassFactory(MetricsController);
        },
        "./src/streaming/metrics/controllers/MetricsHandlersController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _metrics_MetricsHandlerFactory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/metrics/metrics/MetricsHandlerFactory.js");
          function MetricsHandlersController(config) {
            config = config || {};
            var handlers = [];
            var instance;
            var context = this.context;
            var eventBus = config.eventBus;
            var Events = config.events;
            var metricsHandlerFactory = Object(_metrics_MetricsHandlerFactory__WEBPACK_IMPORTED_MODULE_0__["default"])(context).getInstance({
              debug: config.debug,
              eventBus: config.eventBus,
              metricsConstants: config.metricsConstants
            });
            function handle(e) {
              handlers.forEach(function(handler) {
                handler.handleNewMetric(e.metric, e.value, e.mediaType);
              });
            }
            function initialize(metrics, reportingController) {
              metrics.split(",").forEach(function(m2, midx, ms) {
                var handler;
                if (m2.indexOf("(") !== -1 && m2.indexOf(")") === -1) {
                  var nextm = ms[midx + 1];
                  if (nextm && nextm.indexOf("(") === -1 && nextm.indexOf(")") !== -1) {
                    m2 += "," + nextm;
                    delete ms[midx + 1];
                  }
                }
                handler = metricsHandlerFactory.create(m2, reportingController);
                if (handler) {
                  handlers.push(handler);
                }
              });
              eventBus.on(Events.METRIC_ADDED, handle, instance);
              eventBus.on(Events.METRIC_UPDATED, handle, instance);
            }
            function reset() {
              eventBus.off(Events.METRIC_ADDED, handle, instance);
              eventBus.off(Events.METRIC_UPDATED, handle, instance);
              handlers.forEach(function(handler) {
                return handler.reset();
              });
              handlers = [];
            }
            instance = {
              initialize,
              reset
            };
            return instance;
          }
          MetricsHandlersController.__dashjs_factory_name = "MetricsHandlersController";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getClassFactory(MetricsHandlersController);
        },
        "./src/streaming/metrics/controllers/RangeController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _utils_CustomTimeRanges__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/utils/CustomTimeRanges.js");
          function RangeController(config) {
            config = config || {};
            var useWallClockTime = false;
            var context = this.context;
            var instance, ranges;
            var mediaElement = config.mediaElement;
            function initialize(rs) {
              if (rs && rs.length) {
                rs.forEach(function(r3) {
                  var start = r3.starttime;
                  var end = start + r3.duration;
                  ranges.add(start, end);
                });
                useWallClockTime = !!rs[0]._useWallClockTime;
              }
            }
            function reset() {
              ranges.clear();
            }
            function setup() {
              ranges = Object(_utils_CustomTimeRanges__WEBPACK_IMPORTED_MODULE_0__["default"])(context).create();
            }
            function isEnabled() {
              var numRanges = ranges.length;
              var time;
              if (!numRanges) {
                return true;
              }
              time = useWallClockTime ? new Date().getTime() / 1e3 : mediaElement.currentTime;
              for (var i3 = 0; i3 < numRanges; i3 += 1) {
                var start = ranges.start(i3);
                var end = ranges.end(i3);
                if (start <= time && time < end) {
                  return true;
                }
              }
              return false;
            }
            instance = {
              initialize,
              reset,
              isEnabled
            };
            setup();
            return instance;
          }
          RangeController.__dashjs_factory_name = "RangeController";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getClassFactory(RangeController);
        },
        "./src/streaming/metrics/controllers/ReportingController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _reporting_ReportingFactory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/metrics/reporting/ReportingFactory.js");
          function ReportingController(config) {
            var reporters = [];
            var instance;
            var reportingFactory = Object(_reporting_ReportingFactory__WEBPACK_IMPORTED_MODULE_0__["default"])(this.context).getInstance(config);
            function initialize(reporting, rangeController) {
              reporting.some(function(r3) {
                var reporter = reportingFactory.create(r3, rangeController);
                if (reporter) {
                  reporters.push(reporter);
                  return true;
                }
              });
            }
            function reset() {
              reporters.forEach(function(r3) {
                return r3.reset();
              });
              reporters = [];
            }
            function report(type, vos) {
              reporters.forEach(function(r3) {
                return r3.report(type, vos);
              });
            }
            instance = {
              initialize,
              reset,
              report
            };
            return instance;
          }
          ReportingController.__dashjs_factory_name = "ReportingController";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getClassFactory(ReportingController);
        },
        "./src/streaming/metrics/metrics/MetricsHandlerFactory.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _handlers_BufferLevelHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js");
          var _handlers_DVBErrorsHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js");
          var _handlers_HttpListHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/metrics/metrics/handlers/HttpListHandler.js");
          var _handlers_GenericMetricHandler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js");
          function MetricsHandlerFactory(config) {
            config = config || {};
            var instance;
            var logger = config.debug ? config.debug.getLogger(instance) : {};
            var keyRegex = /([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/;
            var context = this.context;
            var knownFactoryProducts = {
              BufferLevel: _handlers_BufferLevelHandler__WEBPACK_IMPORTED_MODULE_0__["default"],
              DVBErrors: _handlers_DVBErrorsHandler__WEBPACK_IMPORTED_MODULE_1__["default"],
              HttpList: _handlers_HttpListHandler__WEBPACK_IMPORTED_MODULE_2__["default"],
              PlayList: _handlers_GenericMetricHandler__WEBPACK_IMPORTED_MODULE_3__["default"],
              RepSwitchList: _handlers_GenericMetricHandler__WEBPACK_IMPORTED_MODULE_3__["default"],
              TcpList: _handlers_GenericMetricHandler__WEBPACK_IMPORTED_MODULE_3__["default"]
            };
            function create(listType, reportingController) {
              var matches = listType.match(keyRegex);
              var handler;
              if (!matches) {
                return;
              }
              try {
                handler = knownFactoryProducts[matches[1]](context).create({
                  eventBus: config.eventBus,
                  metricsConstants: config.metricsConstants
                });
                handler.initialize(matches[1], reportingController, matches[3], matches[5]);
              } catch (e) {
                handler = null;
                logger.error("MetricsHandlerFactory: Could not create handler for type ".concat(matches[1], " with args ").concat(matches[3], ", ").concat(matches[5], " (").concat(e.message, ")"));
              }
              return handler;
            }
            function register(key, handler) {
              knownFactoryProducts[key] = handler;
            }
            function unregister(key) {
              delete knownFactoryProducts[key];
            }
            instance = {
              create,
              register,
              unregister
            };
            return instance;
          }
          MetricsHandlerFactory.__dashjs_factory_name = "MetricsHandlerFactory";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getSingletonFactory(MetricsHandlerFactory);
        },
        "./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _utils_HandlerHelpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/metrics/utils/HandlerHelpers.js");
          function BufferLevelHandler(config) {
            config = config || {};
            var instance, reportingController, n2, name, interval, lastReportedTime;
            var context = this.context;
            var handlerHelpers = Object(_utils_HandlerHelpers__WEBPACK_IMPORTED_MODULE_0__["default"])(context).getInstance();
            var storedVOs = [];
            var metricsConstants = config.metricsConstants;
            function getLowestBufferLevelVO() {
              try {
                return Object.keys(storedVOs).map(function(key) {
                  return storedVOs[key];
                }).reduce(function(a4, b3) {
                  return a4.level < b3.level ? a4 : b3;
                });
              } catch (e) {
                return;
              }
            }
            function intervalCallback() {
              var vo = getLowestBufferLevelVO();
              if (vo) {
                if (lastReportedTime !== vo.t) {
                  lastReportedTime = vo.t;
                  reportingController.report(name, vo);
                }
              }
            }
            function initialize(basename, rc, n_ms) {
              if (rc) {
                n2 = handlerHelpers.validateN(n_ms);
                reportingController = rc;
                name = handlerHelpers.reconstructFullMetricName(basename, n_ms);
                interval = setInterval(intervalCallback, n2);
              }
            }
            function reset() {
              clearInterval(interval);
              interval = null;
              n2 = 0;
              reportingController = null;
              lastReportedTime = null;
            }
            function handleNewMetric(metric, vo, type) {
              if (metric === metricsConstants.BUFFER_LEVEL) {
                storedVOs[type] = vo;
              }
            }
            instance = {
              initialize,
              reset,
              handleNewMetric
            };
            return instance;
          }
          BufferLevelHandler.__dashjs_factory_name = "BufferLevelHandler";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getClassFactory(BufferLevelHandler);
        },
        "./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _MetricsReportingEvents__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/metrics/MetricsReportingEvents.js");
          function DVBErrorsHandler(config) {
            config = config || {};
            var instance, reportingController;
            var eventBus = config.eventBus;
            var metricsConstants = config.metricsConstants;
            function onInitialisationComplete() {
              eventBus.off(_MetricsReportingEvents__WEBPACK_IMPORTED_MODULE_0__["default"].METRICS_INITIALISATION_COMPLETE, onInitialisationComplete, this);
              eventBus.trigger(_MetricsReportingEvents__WEBPACK_IMPORTED_MODULE_0__["default"].BECAME_REPORTING_PLAYER);
            }
            function initialize(unused, rc) {
              if (rc) {
                reportingController = rc;
                eventBus.on(_MetricsReportingEvents__WEBPACK_IMPORTED_MODULE_0__["default"].METRICS_INITIALISATION_COMPLETE, onInitialisationComplete, this);
              }
            }
            function reset() {
              reportingController = null;
            }
            function handleNewMetric(metric, vo) {
              if (metric === metricsConstants.DVB_ERRORS) {
                if (reportingController) {
                  reportingController.report(metric, vo);
                }
              }
            }
            instance = {
              initialize,
              reset,
              handleNewMetric
            };
            return instance;
          }
          __webpack_exports__["default"] = dashjs.FactoryMaker.getClassFactory(DVBErrorsHandler);
        },
        "./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function GenericMetricHandler() {
            var instance, metricName, reportingController;
            function initialize(name, rc) {
              metricName = name;
              reportingController = rc;
            }
            function reset() {
              reportingController = null;
              metricName = void 0;
            }
            function handleNewMetric(metric, vo) {
              if (metric === metricName) {
                if (reportingController) {
                  reportingController.report(metricName, vo);
                }
              }
            }
            instance = {
              initialize,
              reset,
              handleNewMetric
            };
            return instance;
          }
          GenericMetricHandler.__dashjs_factory_name = "GenericMetricHandler";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getClassFactory(GenericMetricHandler);
        },
        "./src/streaming/metrics/metrics/handlers/HttpListHandler.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _utils_HandlerHelpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/metrics/utils/HandlerHelpers.js");
          function HttpListHandler(config) {
            config = config || {};
            var instance, reportingController, n2, type, name, interval;
            var storedVos = [];
            var handlerHelpers = Object(_utils_HandlerHelpers__WEBPACK_IMPORTED_MODULE_0__["default"])(this.context).getInstance();
            var metricsConstants = config.metricsConstants;
            function intervalCallback() {
              var vos = storedVos;
              if (vos.length) {
                if (reportingController) {
                  reportingController.report(name, vos);
                }
              }
              storedVos = [];
            }
            function initialize(basename, rc, n_ms, requestType) {
              if (rc) {
                n2 = handlerHelpers.validateN(n_ms);
                reportingController = rc;
                if (requestType && requestType.length) {
                  type = requestType;
                }
                name = handlerHelpers.reconstructFullMetricName(basename, n_ms, requestType);
                interval = setInterval(intervalCallback, n2);
              }
            }
            function reset() {
              clearInterval(interval);
              interval = null;
              n2 = null;
              type = null;
              storedVos = [];
              reportingController = null;
            }
            function handleNewMetric(metric, vo) {
              if (metric === metricsConstants.HTTP_REQUEST) {
                if (!type || type === vo.type) {
                  storedVos.push(vo);
                }
              }
            }
            instance = {
              initialize,
              reset,
              handleNewMetric
            };
            return instance;
          }
          HttpListHandler.__dashjs_factory_name = "HttpListHandler";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getClassFactory(HttpListHandler);
        },
        "./src/streaming/metrics/reporting/ReportingFactory.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _reporters_DVBReporting__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/metrics/reporting/reporters/DVBReporting.js");
          function ReportingFactory(config) {
            config = config || {};
            var knownReportingSchemeIdUris = {
              "urn:dvb:dash:reporting:2014": _reporters_DVBReporting__WEBPACK_IMPORTED_MODULE_0__["default"]
            };
            var context = this.context;
            var instance;
            var logger = config.debug ? config.debug.getLogger(instance) : {};
            var metricsConstants = config.metricsConstants;
            function create(entry, rangeController) {
              var reporting;
              try {
                reporting = knownReportingSchemeIdUris[entry.schemeIdUri](context).create({
                  metricsConstants
                });
                reporting.initialize(entry, rangeController);
              } catch (e) {
                reporting = null;
                logger.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(entry.schemeIdUri, " (").concat(e.message, ")"));
              }
              return reporting;
            }
            function register(schemeIdUri, moduleName) {
              knownReportingSchemeIdUris[schemeIdUri] = moduleName;
            }
            function unregister(schemeIdUri) {
              delete knownReportingSchemeIdUris[schemeIdUri];
            }
            instance = {
              create,
              register,
              unregister
            };
            return instance;
          }
          ReportingFactory.__dashjs_factory_name = "ReportingFactory";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getSingletonFactory(ReportingFactory);
        },
        "./src/streaming/metrics/reporting/reporters/DVBReporting.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _utils_MetricSerialiser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/metrics/utils/MetricSerialiser.js");
          var _utils_RNG__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/metrics/utils/RNG.js");
          function DVBReporting(config) {
            config = config || {};
            var instance;
            var context = this.context;
            var metricSerialiser, randomNumberGenerator, reportingPlayerStatusDecided, isReportingPlayer, reportingUrl, rangeController;
            var USE_DRAFT_DVB_SPEC = true;
            var allowPendingRequestsToCompleteOnReset = true;
            var pendingRequests = [];
            var metricsConstants = config.metricsConstants;
            function setup() {
              metricSerialiser = Object(_utils_MetricSerialiser__WEBPACK_IMPORTED_MODULE_0__["default"])(context).getInstance();
              randomNumberGenerator = Object(_utils_RNG__WEBPACK_IMPORTED_MODULE_1__["default"])(context).getInstance();
              resetInitialSettings();
            }
            function doGetRequest(url, successCB, failureCB) {
              var req = new XMLHttpRequest();
              var oncomplete = function oncomplete2() {
                var reqIndex = pendingRequests.indexOf(req);
                if (reqIndex === -1) {
                  return;
                } else {
                  pendingRequests.splice(reqIndex, 1);
                }
                if (req.status >= 200 && req.status < 300) {
                  if (successCB) {
                    successCB();
                  }
                } else {
                  if (failureCB) {
                    failureCB();
                  }
                }
              };
              pendingRequests.push(req);
              try {
                req.open("GET", url);
                req.onloadend = oncomplete;
                req.onerror = oncomplete;
                req.send();
              } catch (e) {
                req.onerror();
              }
            }
            function report(type, vos) {
              if (!Array.isArray(vos)) {
                vos = [vos];
              }
              if (isReportingPlayer && rangeController.isEnabled()) {
                vos.forEach(function(vo) {
                  var url = metricSerialiser.serialise(vo);
                  if (USE_DRAFT_DVB_SPEC && type !== metricsConstants.DVB_ERRORS) {
                    url = "metricname=".concat(type, "&").concat(url);
                  }
                  url = "".concat(reportingUrl, "?").concat(url);
                  doGetRequest(url, null, function() {
                    isReportingPlayer = false;
                  });
                });
              }
            }
            function initialize(entry, rc) {
              var probability;
              rangeController = rc;
              reportingUrl = entry.dvb_reportingUrl;
              if (!reportingUrl) {
                throw new Error("required parameter missing (dvb:reportingUrl)");
              }
              if (!reportingPlayerStatusDecided) {
                probability = entry.dvb_probability;
                if (probability && (probability === 1e3 || probability / 1e3 >= randomNumberGenerator.random())) {
                  isReportingPlayer = true;
                }
                reportingPlayerStatusDecided = true;
              }
            }
            function resetInitialSettings() {
              reportingPlayerStatusDecided = false;
              isReportingPlayer = false;
              reportingUrl = null;
              rangeController = null;
            }
            function reset() {
              if (!allowPendingRequestsToCompleteOnReset) {
                pendingRequests.forEach(function(req) {
                  return req.abort();
                });
                pendingRequests = [];
              }
              resetInitialSettings();
            }
            instance = {
              report,
              initialize,
              reset
            };
            setup();
            return instance;
          }
          DVBReporting.__dashjs_factory_name = "DVBReporting";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getClassFactory(DVBReporting);
        },
        "./src/streaming/metrics/utils/DVBErrorsTranslator.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _vo_DVBErrors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/metrics/vo/DVBErrors.js");
          var _MetricsReportingEvents__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/metrics/MetricsReportingEvents.js");
          function DVBErrorsTranslator(config) {
            config = config || {};
            var instance, mpd;
            var eventBus = config.eventBus;
            var dashMetrics = config.dashMetrics;
            var metricsConstants = config.metricsConstants;
            var Events = config.events;
            function report(vo) {
              var o2 = new _vo_DVBErrors__WEBPACK_IMPORTED_MODULE_0__["default"]();
              if (!mpd) {
                return;
              }
              for (var key in vo) {
                if (vo.hasOwnProperty(key)) {
                  o2[key] = vo[key];
                }
              }
              if (!o2.mpdurl) {
                o2.mpdurl = mpd.originalUrl || mpd.url;
              }
              if (!o2.terror) {
                o2.terror = new Date();
              }
              dashMetrics.addDVBErrors(o2);
            }
            function onManifestUpdate(e) {
              if (e.error) {
                return;
              }
              mpd = e.manifest;
            }
            function onServiceLocationChanged(e) {
              report({
                errorcode: _vo_DVBErrors__WEBPACK_IMPORTED_MODULE_0__["default"].BASE_URL_CHANGED,
                servicelocation: e.entry
              });
            }
            function onBecameReporter() {
              report({
                errorcode: _vo_DVBErrors__WEBPACK_IMPORTED_MODULE_0__["default"].BECAME_REPORTER
              });
            }
            function handleHttpMetric(vo) {
              if (vo.responsecode === 0 || vo.responsecode == null || vo.responsecode >= 400 || vo.responsecode < 100 || vo.responsecode >= 600) {
                report({
                  errorcode: vo.responsecode || _vo_DVBErrors__WEBPACK_IMPORTED_MODULE_0__["default"].CONNECTION_ERROR,
                  url: vo.url,
                  terror: vo.tresponse,
                  servicelocation: vo._serviceLocation
                });
              }
            }
            function onMetricEvent(e) {
              switch (e.metric) {
                case metricsConstants.HTTP_REQUEST:
                  handleHttpMetric(e.value);
                  break;
                default:
                  break;
              }
            }
            function onPlaybackError(e) {
              var reason = e.error ? e.error.code : 0;
              var errorcode;
              switch (reason) {
                case MediaError.MEDIA_ERR_NETWORK:
                  errorcode = _vo_DVBErrors__WEBPACK_IMPORTED_MODULE_0__["default"].CONNECTION_ERROR;
                  break;
                case MediaError.MEDIA_ERR_DECODE:
                  errorcode = _vo_DVBErrors__WEBPACK_IMPORTED_MODULE_0__["default"].CORRUPT_MEDIA_OTHER;
                  break;
                default:
                  return;
              }
              report({
                errorcode
              });
            }
            function initialise() {
              eventBus.on(Events.MANIFEST_UPDATED, onManifestUpdate, instance);
              eventBus.on(Events.SERVICE_LOCATION_BLACKLIST_CHANGED, onServiceLocationChanged, instance);
              eventBus.on(Events.METRIC_ADDED, onMetricEvent, instance);
              eventBus.on(Events.METRIC_UPDATED, onMetricEvent, instance);
              eventBus.on(Events.PLAYBACK_ERROR, onPlaybackError, instance);
              eventBus.on(_MetricsReportingEvents__WEBPACK_IMPORTED_MODULE_1__["default"].BECAME_REPORTING_PLAYER, onBecameReporter, instance);
            }
            function reset() {
              eventBus.off(Events.MANIFEST_UPDATED, onManifestUpdate, instance);
              eventBus.off(Events.SERVICE_LOCATION_BLACKLIST_CHANGED, onServiceLocationChanged, instance);
              eventBus.off(Events.METRIC_ADDED, onMetricEvent, instance);
              eventBus.off(Events.METRIC_UPDATED, onMetricEvent, instance);
              eventBus.off(Events.PLAYBACK_ERROR, onPlaybackError, instance);
              eventBus.off(_MetricsReportingEvents__WEBPACK_IMPORTED_MODULE_1__["default"].BECAME_REPORTING_PLAYER, onBecameReporter, instance);
            }
            instance = {
              initialise,
              reset
            };
            return instance;
          }
          DVBErrorsTranslator.__dashjs_factory_name = "DVBErrorsTranslator";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getSingletonFactory(DVBErrorsTranslator);
        },
        "./src/streaming/metrics/utils/HandlerHelpers.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function HandlerHelpers() {
            return {
              reconstructFullMetricName: function reconstructFullMetricName(key, n2, type) {
                var mn = key;
                if (n2) {
                  mn += "(" + n2;
                  if (type && type.length) {
                    mn += "," + type;
                  }
                  mn += ")";
                }
                return mn;
              },
              validateN: function validateN(n_ms) {
                if (!n_ms) {
                  throw new Error("missing n");
                }
                if (isNaN(n_ms)) {
                  throw new Error("n is NaN");
                }
                if (n_ms < 0) {
                  throw new Error("n must be positive");
                }
                return n_ms;
              }
            };
          }
          HandlerHelpers.__dashjs_factory_name = "HandlerHelpers";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getSingletonFactory(HandlerHelpers);
        },
        "./src/streaming/metrics/utils/ManifestParsing.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _vo_Metrics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/metrics/vo/Metrics.js");
          var _vo_Range__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/metrics/vo/Range.js");
          var _vo_Reporting__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/metrics/vo/Reporting.js");
          function ManifestParsing(config) {
            config = config || {};
            var instance;
            var adapter = config.adapter;
            var constants = config.constants;
            function getMetricsRangeStartTime(manifest, dynamic, range) {
              var voPeriods, reportingStartTime;
              var presentationStartTime = 0;
              if (dynamic) {
                presentationStartTime = adapter.getAvailabilityStartTime(manifest) / 1e3;
              } else {
                voPeriods = adapter.getRegularPeriods(manifest);
                if (voPeriods.length) {
                  presentationStartTime = voPeriods[0].start;
                }
              }
              reportingStartTime = presentationStartTime;
              if (range && range.hasOwnProperty(constants.START_TIME)) {
                reportingStartTime += range.starttime;
              }
              return reportingStartTime;
            }
            function getMetrics(manifest) {
              var metrics = [];
              if (manifest && manifest.Metrics_asArray) {
                manifest.Metrics_asArray.forEach(function(metric) {
                  var metricEntry = new _vo_Metrics__WEBPACK_IMPORTED_MODULE_0__["default"]();
                  var isDynamic = adapter.getIsDynamic(manifest);
                  if (metric.hasOwnProperty("metrics")) {
                    metricEntry.metrics = metric.metrics;
                  } else {
                    return;
                  }
                  if (metric.Range_asArray) {
                    metric.Range_asArray.forEach(function(range) {
                      var rangeEntry = new _vo_Range__WEBPACK_IMPORTED_MODULE_1__["default"]();
                      rangeEntry.starttime = getMetricsRangeStartTime(manifest, isDynamic, range);
                      if (range.hasOwnProperty("duration")) {
                        rangeEntry.duration = range.duration;
                      } else {
                        rangeEntry.duration = adapter.getDuration(manifest);
                      }
                      rangeEntry._useWallClockTime = isDynamic;
                      metricEntry.Range.push(rangeEntry);
                    });
                  }
                  if (metric.Reporting_asArray) {
                    metric.Reporting_asArray.forEach(function(reporting) {
                      var reportingEntry = new _vo_Reporting__WEBPACK_IMPORTED_MODULE_2__["default"]();
                      if (reporting.hasOwnProperty(constants.SCHEME_ID_URI)) {
                        reportingEntry.schemeIdUri = reporting.schemeIdUri;
                      } else {
                        return;
                      }
                      if (reporting.hasOwnProperty("value")) {
                        reportingEntry.value = reporting.value;
                      }
                      if (reporting.hasOwnProperty(constants.DVB_REPORTING_URL)) {
                        reportingEntry.dvb_reportingUrl = reporting[constants.DVB_REPORTING_URL];
                      }
                      if (reporting.hasOwnProperty(constants.DVB_PROBABILITY)) {
                        reportingEntry.dvb_probability = reporting[constants.DVB_PROBABILITY];
                      }
                      metricEntry.Reporting.push(reportingEntry);
                    });
                  } else {
                    return;
                  }
                  metrics.push(metricEntry);
                });
              }
              return metrics;
            }
            instance = {
              getMetrics
            };
            return instance;
          }
          ManifestParsing.__dashjs_factory_name = "ManifestParsing";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getSingletonFactory(ManifestParsing);
        },
        "./src/streaming/metrics/utils/MetricSerialiser.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function MetricSerialiser() {
            function serialise(metric) {
              var pairs = [];
              var obj = [];
              var key, value;
              for (key in metric) {
                if (metric.hasOwnProperty(key) && key.indexOf("_") !== 0) {
                  value = metric[key];
                  if (value === void 0 || value === null) {
                    value = "";
                  }
                  if (Array.isArray(value)) {
                    if (!value.length) {
                      continue;
                    }
                    obj = [];
                    value.forEach(function(v) {
                      var isBuiltIn = Object.prototype.toString.call(v).slice(8, -1) !== "Object";
                      obj.push(isBuiltIn ? v : serialise(v));
                    });
                    value = obj.map(encodeURIComponent).join(",");
                  } else if (typeof value === "string") {
                    value = encodeURIComponent(value);
                  } else if (value instanceof Date) {
                    value = value.toISOString();
                  } else if (typeof value === "number") {
                    value = Math.round(value);
                  }
                  pairs.push(key + "=" + value);
                }
              }
              return pairs.join("&");
            }
            return {
              serialise
            };
          }
          MetricSerialiser.__dashjs_factory_name = "MetricSerialiser";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getSingletonFactory(MetricSerialiser);
        },
        "./src/streaming/metrics/utils/RNG.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function RNG() {
            var crypto = window.crypto || window.msCrypto;
            var ArrayType = Uint32Array;
            var MAX_VALUE = Math.pow(2, ArrayType.BYTES_PER_ELEMENT * 8) - 1;
            var NUM_RANDOM_NUMBERS = 10;
            var randomNumbers, index, instance;
            function initialise() {
              if (crypto) {
                if (!randomNumbers) {
                  randomNumbers = new ArrayType(NUM_RANDOM_NUMBERS);
                }
                crypto.getRandomValues(randomNumbers);
                index = 0;
              }
            }
            function rand(min, max) {
              var r3;
              if (!min) {
                min = 0;
              }
              if (!max) {
                max = 1;
              }
              if (crypto) {
                if (index === randomNumbers.length) {
                  initialise();
                }
                r3 = randomNumbers[index] / MAX_VALUE;
                index += 1;
              } else {
                r3 = Math.random();
              }
              return r3 * (max - min) + min;
            }
            instance = {
              random: rand
            };
            initialise();
            return instance;
          }
          RNG.__dashjs_factory_name = "RNG";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getSingletonFactory(RNG);
        },
        "./src/streaming/metrics/vo/DVBErrors.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var DVBErrors = function DVBErrors2() {
            _classCallCheck2(this, DVBErrors2);
            this.mpdurl = null;
            this.errorcode = null;
            this.terror = null;
            this.url = null;
            this.ipaddress = null;
            this.servicelocation = null;
          };
          DVBErrors.SSL_CONNECTION_FAILED_PREFIX = "SSL";
          DVBErrors.DNS_RESOLUTION_FAILED = "C00";
          DVBErrors.HOST_UNREACHABLE = "C01";
          DVBErrors.CONNECTION_REFUSED = "C02";
          DVBErrors.CONNECTION_ERROR = "C03";
          DVBErrors.CORRUPT_MEDIA_ISOBMFF = "M00";
          DVBErrors.CORRUPT_MEDIA_OTHER = "M01";
          DVBErrors.BASE_URL_CHANGED = "F00";
          DVBErrors.BECAME_REPORTER = "S00";
          __webpack_exports__["default"] = DVBErrors;
        },
        "./src/streaming/metrics/vo/Metrics.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var Metrics = function Metrics2() {
            _classCallCheck2(this, Metrics2);
            this.metrics = "";
            this.Range = [];
            this.Reporting = [];
          };
          __webpack_exports__["default"] = Metrics;
        },
        "./src/streaming/metrics/vo/Range.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var Range = function Range2() {
            _classCallCheck2(this, Range2);
            this.starttime = 0;
            this.duration = Infinity;
            this._useWallClockTime = false;
          };
          __webpack_exports__["default"] = Range;
        },
        "./src/streaming/metrics/vo/Reporting.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var DEFAULT_DVB_PROBABILITY = 1e3;
          var Reporting = function Reporting2() {
            _classCallCheck2(this, Reporting2);
            this.schemeIdUri = "";
            this.value = "";
            this.dvb_reportingUrl = "";
            this.dvb_probability = DEFAULT_DVB_PROBABILITY;
          };
          __webpack_exports__["default"] = Reporting;
        },
        "./src/streaming/models/BaseURLTreeModel.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _utils_ObjectUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/utils/ObjectUtils.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/FactoryMaker.js");
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var DEFAULT_INDEX = NaN;
          var Node2 = function Node3(_baseUrls, _selectedIdx) {
            _classCallCheck2(this, Node3);
            this.data = {
              baseUrls: _baseUrls || null,
              selectedIdx: _selectedIdx || DEFAULT_INDEX
            };
            this.children = [];
          };
          function BaseURLTreeModel() {
            var instance, root, adapter;
            var context = this.context;
            var objectUtils = Object(_utils_ObjectUtils__WEBPACK_IMPORTED_MODULE_0__["default"])(context).getInstance();
            function setup() {
              reset();
            }
            function setConfig(config) {
              if (config.adapter) {
                adapter = config.adapter;
              }
            }
            function checkConfig() {
              if (!adapter || !adapter.hasOwnProperty("getBaseURLsFromElement") || !adapter.hasOwnProperty("getRepresentationSortFunction")) {
                throw new Error("setConfig function has to be called previously");
              }
            }
            function updateChildData(node, index, element) {
              var baseUrls = adapter.getBaseURLsFromElement(element);
              if (!node[index]) {
                node[index] = new Node2(baseUrls);
              } else {
                if (!objectUtils.areEqual(baseUrls, node[index].data.baseUrls)) {
                  node[index].data.baseUrls = baseUrls;
                  node[index].data.selectedIdx = DEFAULT_INDEX;
                }
              }
            }
            function getBaseURLCollectionsFromManifest(manifest) {
              checkConfig();
              var baseUrls = adapter.getBaseURLsFromElement(manifest);
              if (!objectUtils.areEqual(baseUrls, root.data.baseUrls)) {
                root.data.baseUrls = baseUrls;
                root.data.selectedIdx = DEFAULT_INDEX;
              }
              if (manifest && manifest.Period_asArray) {
                manifest.Period_asArray.forEach(function(p2, pi) {
                  updateChildData(root.children, pi, p2);
                  if (p2.AdaptationSet_asArray) {
                    p2.AdaptationSet_asArray.forEach(function(a4, ai) {
                      updateChildData(root.children[pi].children, ai, a4);
                      if (a4.Representation_asArray) {
                        a4.Representation_asArray.sort(adapter.getRepresentationSortFunction()).forEach(function(r3, ri) {
                          updateChildData(root.children[pi].children[ai].children, ri, r3);
                        });
                      }
                    });
                  }
                });
              }
            }
            function walk(callback, node) {
              var target = node || root;
              callback(target.data);
              if (target.children) {
                target.children.forEach(function(child) {
                  return walk(callback, child);
                });
              }
            }
            function invalidateSelectedIndexes(serviceLocation) {
              walk(function(data) {
                if (!isNaN(data.selectedIdx)) {
                  if (serviceLocation === data.baseUrls[data.selectedIdx].serviceLocation) {
                    data.selectedIdx = DEFAULT_INDEX;
                  }
                }
              });
            }
            function update(manifest) {
              getBaseURLCollectionsFromManifest(manifest);
            }
            function reset() {
              root = new Node2();
            }
            function getForPath(path) {
              var target = root;
              var nodes = [target.data];
              if (path) {
                path.forEach(function(p2) {
                  target = target.children[p2];
                  if (target) {
                    nodes.push(target.data);
                  }
                });
              }
              return nodes.filter(function(n2) {
                return n2.baseUrls.length;
              });
            }
            instance = {
              reset,
              update,
              getForPath,
              invalidateSelectedIndexes,
              setConfig
            };
            setup();
            return instance;
          }
          BaseURLTreeModel.__dashjs_factory_name = "BaseURLTreeModel";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__["default"].getClassFactory(BaseURLTreeModel);
        },
        "./src/streaming/models/CmcdModel.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/EventBus.js");
          var _MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/MediaPlayerEvents.js");
          var _metrics_MetricsReportingEvents__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/metrics/MetricsReportingEvents.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Settings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/core/Settings.js");
          var _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/streaming/vo/metrics/HTTPRequest.js");
          var _dash_models_DashManifestModel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/dash/models/DashManifestModel.js");
          var _core_Utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/core/Utils.js");
          function _createForOfIteratorHelper(o2, allowArrayLike) {
            var it;
            if (typeof Symbol === "undefined" || o2[Symbol.iterator] == null) {
              if (Array.isArray(o2) || (it = _unsupportedIterableToArray(o2)) || allowArrayLike && o2 && typeof o2.length === "number") {
                if (it)
                  o2 = it;
                var i3 = 0;
                var F2 = function F3() {
                };
                return { s: F2, n: function n2() {
                  if (i3 >= o2.length)
                    return { done: true };
                  return { done: false, value: o2[i3++] };
                }, e: function e(_e) {
                  throw _e;
                }, f: F2 };
              }
              throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var normalCompletion = true, didErr = false, err;
            return { s: function s3() {
              it = o2[Symbol.iterator]();
            }, n: function n2() {
              var step = it.next();
              normalCompletion = step.done;
              return step;
            }, e: function e(_e2) {
              didErr = true;
              err = _e2;
            }, f: function f2() {
              try {
                if (!normalCompletion && it["return"] != null)
                  it["return"]();
              } finally {
                if (didErr)
                  throw err;
              }
            } };
          }
          function _unsupportedIterableToArray(o2, minLen) {
            if (!o2)
              return;
            if (typeof o2 === "string")
              return _arrayLikeToArray(o2, minLen);
            var n2 = Object.prototype.toString.call(o2).slice(8, -1);
            if (n2 === "Object" && o2.constructor)
              n2 = o2.constructor.name;
            if (n2 === "Map" || n2 === "Set")
              return Array.from(o2);
            if (n2 === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))
              return _arrayLikeToArray(o2, minLen);
          }
          function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length)
              len = arr.length;
            for (var i3 = 0, arr2 = new Array(len); i3 < len; i3++) {
              arr2[i3] = arr[i3];
            }
            return arr2;
          }
          var CMCD_REQUEST_FIELD_NAME = "CMCD";
          var CMCD_VERSION = 1;
          var OBJECT_TYPES = {
            MANIFEST: "m",
            AUDIO: "a",
            VIDEO: "v",
            INIT: "i",
            CAPTION: "c",
            ISOBMFF_TEXT_TRACK: "tt",
            ENCRYPTION_KEY: "k",
            OTHER: "o"
          };
          var STREAMING_FORMATS = {
            DASH: "d",
            MSS: "s"
          };
          var STREAM_TYPES = {
            VOD: "v",
            LIVE: "l"
          };
          var RTP_SAFETY_FACTOR = 5;
          function CmcdModel() {
            var dashManifestModel, instance, internalData, abrController, dashMetrics, playbackController, streamProcessors, _isStartup, _bufferLevelStarved, _initialMediaRequestsDone;
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_0__["default"])(context).getInstance();
            var settings = Object(_core_Settings__WEBPACK_IMPORTED_MODULE_4__["default"])(context).getInstance();
            function setup() {
              dashManifestModel = Object(_dash_models_DashManifestModel__WEBPACK_IMPORTED_MODULE_7__["default"])(context).getInstance();
              _resetInitialSettings();
            }
            function initialize() {
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_1__["default"].PLAYBACK_RATE_CHANGED, _onPlaybackRateChanged, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_1__["default"].MANIFEST_LOADED, _onManifestLoaded, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_1__["default"].BUFFER_LEVEL_STATE_CHANGED, _onBufferLevelStateChanged, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_1__["default"].PLAYBACK_SEEKED, _onPlaybackSeeked, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_1__["default"].PERIOD_SWITCH_COMPLETED, _onPeriodSwitchComplete, instance);
            }
            function setConfig(config) {
              if (!config)
                return;
              if (config.abrController) {
                abrController = config.abrController;
              }
              if (config.dashMetrics) {
                dashMetrics = config.dashMetrics;
              }
              if (config.playbackController) {
                playbackController = config.playbackController;
              }
            }
            function _resetInitialSettings() {
              internalData = {
                pr: 1,
                nor: null,
                st: null,
                sf: null,
                sid: "".concat(_core_Utils__WEBPACK_IMPORTED_MODULE_8__["default"].generateUuid()),
                cid: null
              };
              _bufferLevelStarved = {};
              _isStartup = {};
              _initialMediaRequestsDone = {};
              _updateStreamProcessors();
            }
            function _onPeriodSwitchComplete() {
              _updateStreamProcessors();
            }
            function _updateStreamProcessors() {
              if (!playbackController)
                return;
              var streamController = playbackController.getStreamController();
              if (!streamController)
                return;
              if (typeof streamController.getActiveStream !== "function")
                return;
              var activeStream = streamController.getActiveStream();
              if (!activeStream)
                return;
              streamProcessors = activeStream.getProcessors();
            }
            function getQueryParameter(request) {
              try {
                if (settings.get().streaming.cmcd && settings.get().streaming.cmcd.enabled) {
                  var cmcdData = _getCmcdData(request);
                  var finalPayloadString = _buildFinalString(cmcdData);
                  eventBus.trigger(_metrics_MetricsReportingEvents__WEBPACK_IMPORTED_MODULE_2__["default"].CMCD_DATA_GENERATED, {
                    url: request.url,
                    mediaType: request.mediaType,
                    cmcdData,
                    cmcdString: finalPayloadString
                  });
                  return {
                    key: CMCD_REQUEST_FIELD_NAME,
                    value: finalPayloadString
                  };
                }
                return null;
              } catch (e) {
                return null;
              }
            }
            function _copyParameters(data, parameterNames) {
              var copiedData = {};
              var _iterator = _createForOfIteratorHelper(parameterNames), _step;
              try {
                for (_iterator.s(); !(_step = _iterator.n()).done; ) {
                  var name = _step.value;
                  if (data[name]) {
                    copiedData[name] = data[name];
                  }
                }
              } catch (err) {
                _iterator.e(err);
              } finally {
                _iterator.f();
              }
              return copiedData;
            }
            function getHeaderParameters(request) {
              try {
                if (settings.get().streaming.cmcd && settings.get().streaming.cmcd.enabled) {
                  var cmcdData = _getCmcdData(request);
                  var cmcdObjectHeader = _copyParameters(cmcdData, ["br", "d", "ot", "tb"]);
                  var cmcdRequestHeader = _copyParameters(cmcdData, ["bl", "dl", "mtp", "nor", "nrr", "su"]);
                  var cmcdStatusHeader = _copyParameters(cmcdData, ["bs", "rtp"]);
                  var cmcdSessionHeader = _copyParameters(cmcdData, ["cid", "pr", "sf", "sid", "st", "v"]);
                  var headers = {
                    "CMCD-Object": _buildFinalString(cmcdObjectHeader),
                    "CMCD-Request": _buildFinalString(cmcdRequestHeader),
                    "CMCD-Status": _buildFinalString(cmcdStatusHeader),
                    "CMCD-Session": _buildFinalString(cmcdSessionHeader)
                  };
                  eventBus.trigger(_metrics_MetricsReportingEvents__WEBPACK_IMPORTED_MODULE_2__["default"].CMCD_DATA_GENERATED, {
                    url: request.url,
                    mediaType: request.mediaType,
                    cmcdData,
                    headers
                  });
                  return headers;
                }
                return null;
              } catch (e) {
                return null;
              }
            }
            function _getCmcdData(request) {
              try {
                var cmcdData = null;
                if (request.type === _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_6__["HTTPRequest"].MPD_TYPE) {
                  return _getCmcdDataForMpd(request);
                } else if (request.type === _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_6__["HTTPRequest"].MEDIA_SEGMENT_TYPE) {
                  _initForMediaType(request.mediaType);
                  return _getCmcdDataForMediaSegment(request);
                } else if (request.type === _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_6__["HTTPRequest"].INIT_SEGMENT_TYPE) {
                  return _getCmcdDataForInitSegment(request);
                } else if (request.type === _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_6__["HTTPRequest"].OTHER_TYPE || request.type === _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_6__["HTTPRequest"].XLINK_EXPANSION_TYPE) {
                  return _getCmcdDataForOther(request);
                } else if (request.type === _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_6__["HTTPRequest"].LICENSE) {
                  return _getCmcdDataForLicense(request);
                }
                return cmcdData;
              } catch (e) {
                return null;
              }
            }
            function _getCmcdDataForLicense(request) {
              var data = _getGenericCmcdData(request);
              data.ot = OBJECT_TYPES.ENCRYPTION_KEY;
              return data;
            }
            function _getCmcdDataForMpd() {
              var data = _getGenericCmcdData();
              data.ot = OBJECT_TYPES.MANIFEST;
              return data;
            }
            function _getCmcdDataForMediaSegment(request) {
              var data = _getGenericCmcdData();
              var encodedBitrate = _getBitrateByRequest(request);
              var d2 = _getObjectDurationByRequest(request);
              var mtp = _getMeasuredThroughputByType(request.mediaType);
              var dl = _getDeadlineByType(request.mediaType);
              var bl = _getBufferLevelByType(request.mediaType);
              var tb = _getTopBitrateByType(request.mediaType);
              var pr = internalData.pr;
              var nextRequest = _probeNextRequest(request.mediaType);
              var ot;
              if (request.mediaType === _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].VIDEO)
                ot = OBJECT_TYPES.VIDEO;
              if (request.mediaType === _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].AUDIO)
                ot = OBJECT_TYPES.AUDIO;
              if (request.mediaType === _streaming_constants_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].TEXT) {
                if (request.mediaInfo.mimeType === "application/mp4") {
                  ot = OBJECT_TYPES.ISOBMFF_TEXT_TRACK;
                } else {
                  ot = OBJECT_TYPES.CAPTION;
                }
              }
              var rtp = settings.get().streaming.cmcd.rtp;
              if (!rtp) {
                rtp = _calculateRtp(request);
              }
              data.rtp = rtp;
              if (nextRequest) {
                if (request.url !== nextRequest.url) {
                  data.nor = encodeURIComponent(_core_Utils__WEBPACK_IMPORTED_MODULE_8__["default"].getRelativeUrl(request.url, nextRequest.url));
                } else if (nextRequest.range) {
                  data.nrr = nextRequest.range;
                }
              }
              if (encodedBitrate) {
                data.br = encodedBitrate;
              }
              if (ot) {
                data.ot = ot;
              }
              if (!isNaN(d2)) {
                data.d = d2;
              }
              if (!isNaN(mtp)) {
                data.mtp = mtp;
              }
              if (!isNaN(dl)) {
                data.dl = dl;
              }
              if (!isNaN(bl)) {
                data.bl = bl;
              }
              if (!isNaN(tb)) {
                data.tb = tb;
              }
              if (!isNaN(pr) && pr !== 1) {
                data.pr = pr;
              }
              if (_bufferLevelStarved[request.mediaType]) {
                data.bs = true;
                _bufferLevelStarved[request.mediaType] = false;
              }
              if (_isStartup[request.mediaType] || !_initialMediaRequestsDone[request.mediaType]) {
                data.su = true;
                _isStartup[request.mediaType] = false;
                _initialMediaRequestsDone[request.mediaType] = true;
              }
              return data;
            }
            function _initForMediaType(mediaType) {
              if (!_initialMediaRequestsDone.hasOwnProperty(mediaType)) {
                _initialMediaRequestsDone[mediaType] = false;
              }
              if (!_isStartup.hasOwnProperty(mediaType)) {
                _isStartup[mediaType] = false;
              }
              if (!_bufferLevelStarved.hasOwnProperty(mediaType)) {
                _bufferLevelStarved[mediaType] = false;
              }
            }
            function _getCmcdDataForInitSegment() {
              var data = _getGenericCmcdData();
              data.ot = OBJECT_TYPES.INIT;
              data.su = true;
              return data;
            }
            function _getCmcdDataForOther() {
              var data = _getGenericCmcdData();
              data.ot = OBJECT_TYPES.OTHER;
              return data;
            }
            function _getGenericCmcdData() {
              var data = {};
              var cid = settings.get().streaming.cmcd.cid ? settings.get().streaming.cmcd.cid : internalData.cid;
              data.v = CMCD_VERSION;
              data.sid = settings.get().streaming.cmcd.sid ? settings.get().streaming.cmcd.sid : internalData.sid;
              data.sid = "".concat(data.sid);
              if (cid) {
                data.cid = "".concat(cid);
              }
              if (!isNaN(internalData.pr) && internalData.pr !== 1 && internalData.pr !== null) {
                data.pr = internalData.pr;
              }
              if (internalData.st) {
                data.st = internalData.st;
              }
              if (internalData.sf) {
                data.sf = internalData.sf;
              }
              return data;
            }
            function _getBitrateByRequest(request) {
              try {
                var quality = request.quality;
                var bitrateList = request.mediaInfo.bitrateList;
                return parseInt(bitrateList[quality].bandwidth / 1e3);
              } catch (e) {
                return null;
              }
            }
            function _getTopBitrateByType(mediaType) {
              try {
                var info = abrController.getTopBitrateInfoFor(mediaType);
                return Math.round(info.bitrate / 1e3);
              } catch (e) {
                return null;
              }
            }
            function _getObjectDurationByRequest(request) {
              try {
                return !isNaN(request.duration) ? Math.round(request.duration * 1e3) : null;
              } catch (e) {
                return null;
              }
            }
            function _getMeasuredThroughputByType(mediaType) {
              try {
                return parseInt(abrController.getThroughputHistory().getSafeAverageThroughput(mediaType) / 100) * 100;
              } catch (e) {
                return null;
              }
            }
            function _getDeadlineByType(mediaType) {
              try {
                var playbackRate = internalData.pr;
                var bufferLevel = dashMetrics.getCurrentBufferLevel(mediaType);
                if (!isNaN(playbackRate) && !isNaN(bufferLevel)) {
                  return parseInt(bufferLevel / playbackRate * 10) * 100;
                }
                return null;
              } catch (e) {
                return null;
              }
            }
            function _getBufferLevelByType(mediaType) {
              try {
                var bufferLevel = dashMetrics.getCurrentBufferLevel(mediaType);
                if (!isNaN(bufferLevel)) {
                  return parseInt(bufferLevel * 10) * 100;
                }
                return null;
              } catch (e) {
                return null;
              }
            }
            function _onPlaybackRateChanged(data) {
              try {
                internalData.pr = data.playbackRate;
              } catch (e) {
              }
            }
            function _onManifestLoaded(data) {
              try {
                var isDynamic = dashManifestModel.getIsDynamic(data.data);
                var st = isDynamic ? STREAM_TYPES.LIVE : STREAM_TYPES.VOD;
                var sf = data.protocol && data.protocol === "MSS" ? STREAMING_FORMATS.MSS : STREAMING_FORMATS.DASH;
                internalData.st = "".concat(st);
                internalData.sf = "".concat(sf);
              } catch (e) {
              }
            }
            function _onBufferLevelStateChanged(data) {
              try {
                if (data.state && data.mediaType) {
                  if (data.state === _MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_1__["default"].BUFFER_EMPTY) {
                    if (!_bufferLevelStarved[data.mediaType]) {
                      _bufferLevelStarved[data.mediaType] = true;
                    }
                    if (!_isStartup[data.mediaType]) {
                      _isStartup[data.mediaType] = true;
                    }
                  }
                }
              } catch (e) {
              }
            }
            function _onPlaybackSeeked() {
              for (var key in _bufferLevelStarved) {
                if (_bufferLevelStarved.hasOwnProperty(key)) {
                  _bufferLevelStarved[key] = true;
                }
              }
              for (var _key in _isStartup) {
                if (_isStartup.hasOwnProperty(_key)) {
                  _isStartup[_key] = true;
                }
              }
            }
            function _buildFinalString(cmcdData) {
              try {
                if (!cmcdData) {
                  return null;
                }
                var keys = Object.keys(cmcdData).sort(function(a4, b3) {
                  return a4.localeCompare(b3);
                });
                var length = keys.length;
                var cmcdString = keys.reduce(function(acc, key, index) {
                  if (key === "v" && cmcdData[key] === 1)
                    return acc;
                  if (typeof cmcdData[key] === "string" && key !== "ot" && key !== "sf" && key !== "st") {
                    var string = cmcdData[key].replace(/"/g, '"');
                    acc += "".concat(key, '="').concat(string, '"');
                  } else {
                    acc += "".concat(key, "=").concat(cmcdData[key]);
                  }
                  if (index < length - 1) {
                    acc += ",";
                  }
                  return acc;
                }, "");
                cmcdString = cmcdString.replace(/=true/g, "");
                cmcdString = cmcdString.replace(/,\s*$/, "");
                return cmcdString;
              } catch (e) {
                return null;
              }
            }
            function _probeNextRequest(mediaType) {
              if (!streamProcessors || streamProcessors.length === 0)
                return;
              var _iterator2 = _createForOfIteratorHelper(streamProcessors), _step2;
              try {
                for (_iterator2.s(); !(_step2 = _iterator2.n()).done; ) {
                  var streamProcessor = _step2.value;
                  if (streamProcessor.getType() === mediaType) {
                    return streamProcessor.probeNextRequest();
                  }
                }
              } catch (err) {
                _iterator2.e(err);
              } finally {
                _iterator2.f();
              }
            }
            function _calculateRtp(request) {
              var playbackRate = playbackController.getPlaybackRate();
              if (!playbackRate)
                playbackRate = 1;
              var quality = request.quality, mediaType = request.mediaType, mediaInfo = request.mediaInfo, duration = request.duration;
              var currentBufferLevel = _getBufferLevelByType(mediaType);
              if (currentBufferLevel === 0)
                currentBufferLevel = 500;
              var bitrate = mediaInfo.bitrateList[quality].bandwidth;
              var segmentSize = bitrate * duration / 1e3;
              var timeToLoad = currentBufferLevel / playbackRate / 1e3;
              var minBandwidth = segmentSize / timeToLoad;
              var rtpSafetyFactor = settings.get().streaming.cmcd.rtpSafetyFactor && !isNaN(settings.get().streaming.cmcd.rtpSafetyFactor) ? settings.get().streaming.cmcd.rtpSafetyFactor : RTP_SAFETY_FACTOR;
              var maxBandwidth = minBandwidth * rtpSafetyFactor;
              var rtp = (parseInt(maxBandwidth / 100) + 1) * 100;
              return rtp;
            }
            function reset() {
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_1__["default"].PLAYBACK_RATE_CHANGED, _onPlaybackRateChanged, this);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_1__["default"].MANIFEST_LOADED, _onManifestLoaded, this);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_1__["default"].BUFFER_LEVEL_STATE_CHANGED, _onBufferLevelStateChanged, instance);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_1__["default"].PLAYBACK_SEEKED, _onPlaybackSeeked, instance);
              _resetInitialSettings();
            }
            instance = {
              getQueryParameter,
              getHeaderParameters,
              setConfig,
              reset,
              initialize
            };
            setup();
            return instance;
          }
          CmcdModel.__dashjs_factory_name = "CmcdModel";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_3__["default"].getSingletonFactory(CmcdModel);
        },
        "./src/streaming/models/FragmentModel.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _vo_FragmentRequest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/vo/FragmentRequest.js");
          var FRAGMENT_MODEL_LOADING = "loading";
          var FRAGMENT_MODEL_EXECUTED = "executed";
          var FRAGMENT_MODEL_CANCELED = "canceled";
          var FRAGMENT_MODEL_FAILED = "failed";
          function FragmentModel(config) {
            config = config || {};
            var eventBus = config.eventBus;
            var events = config.events;
            var dashMetrics = config.dashMetrics;
            var fragmentLoader = config.fragmentLoader;
            var debug = config.debug;
            var streamInfo = config.streamInfo;
            var type = config.type;
            var instance, logger, executedRequests, loadingRequests;
            function setup() {
              logger = debug.getLogger(instance);
              resetInitialSettings();
              eventBus.on(events.LOADING_COMPLETED, onLoadingCompleted, instance);
              eventBus.on(events.LOADING_DATA_PROGRESS, onLoadingInProgress, instance);
              eventBus.on(events.LOADING_ABANDONED, onLoadingAborted, instance);
            }
            function getStreamId() {
              return streamInfo.id;
            }
            function getType() {
              return type;
            }
            function isFragmentLoaded(request) {
              var isEqualComplete = function isEqualComplete2(req1, req2) {
                return req1.action === _vo_FragmentRequest__WEBPACK_IMPORTED_MODULE_1__["default"].ACTION_COMPLETE && req1.action === req2.action;
              };
              var isEqualMedia = function isEqualMedia2(req1, req2) {
                return !isNaN(req1.index) && req1.startTime === req2.startTime && req1.adaptationIndex === req2.adaptationIndex && req1.type === req2.type;
              };
              var isEqualInit = function isEqualInit2(req1, req2) {
                return isNaN(req1.index) && isNaN(req2.index) && req1.quality === req2.quality;
              };
              var check = function check2(requests) {
                var isLoaded = false;
                requests.some(function(req) {
                  if (isEqualMedia(request, req) || isEqualInit(request, req) || isEqualComplete(request, req)) {
                    isLoaded = true;
                    return isLoaded;
                  }
                });
                return isLoaded;
              };
              if (!request) {
                return false;
              }
              return check(executedRequests);
            }
            function isFragmentLoadedOrPending(request) {
              var isLoaded = false;
              var i3 = 0;
              var req;
              isLoaded = isFragmentLoaded(request);
              if (!isLoaded) {
                for (i3 = 0; i3 < loadingRequests.length; i3++) {
                  req = loadingRequests[i3];
                  if (request.url === req.url && request.startTime === req.startTime) {
                    isLoaded = true;
                  }
                }
              }
              return isLoaded;
            }
            function getRequests(filter) {
              var states = filter ? filter.state instanceof Array ? filter.state : [filter.state] : [];
              var filteredRequests = [];
              states.forEach(function(state) {
                var requests = getRequestsForState(state);
                filteredRequests = filteredRequests.concat(filterRequests(requests, filter));
              });
              return filteredRequests;
            }
            function getRequestThreshold(req) {
              return isNaN(req.duration) ? 0.25 : Math.min(req.duration / 8, 0.5);
            }
            function removeExecutedRequestsBeforeTime(time) {
              executedRequests = executedRequests.filter(function(req) {
                var threshold = getRequestThreshold(req);
                return isNaN(req.startTime) || (time !== void 0 ? req.startTime >= time - threshold : false);
              });
            }
            function removeExecutedRequestsAfterTime(time) {
              executedRequests = executedRequests.filter(function(req) {
                return isNaN(req.startTime) || (time !== void 0 ? req.startTime < time : false);
              });
            }
            function removeExecutedRequestsInTimeRange(start, end) {
              if (end <= start + 0.5) {
                return;
              }
              executedRequests = executedRequests.filter(function(req) {
                var threshold = getRequestThreshold(req);
                return isNaN(req.startTime) || req.startTime >= end - threshold || isNaN(req.duration) || req.startTime + req.duration <= start + threshold;
              });
            }
            function syncExecutedRequestsWithBufferedRange(bufferedRanges, streamDuration) {
              if (!bufferedRanges || bufferedRanges.length === 0) {
                removeExecutedRequestsBeforeTime();
                return;
              }
              var start = 0;
              for (var i3 = 0, ln = bufferedRanges.length; i3 < ln; i3++) {
                removeExecutedRequestsInTimeRange(start, bufferedRanges.start(i3));
                start = bufferedRanges.end(i3);
              }
              if (streamDuration > 0) {
                removeExecutedRequestsInTimeRange(start, streamDuration);
              }
            }
            function abortRequests() {
              logger.debug("abort requests");
              fragmentLoader.abort();
              loadingRequests = [];
            }
            function executeRequest(request) {
              switch (request.action) {
                case _vo_FragmentRequest__WEBPACK_IMPORTED_MODULE_1__["default"].ACTION_DOWNLOAD:
                  addSchedulingInfoMetrics(request, FRAGMENT_MODEL_LOADING);
                  loadingRequests.push(request);
                  loadCurrentFragment(request);
                  break;
                default:
                  logger.warn("Unknown request action.");
              }
            }
            function loadCurrentFragment(request) {
              eventBus.trigger(events.FRAGMENT_LOADING_STARTED, {
                request
              }, {
                streamId: streamInfo.id,
                mediaType: type
              });
              fragmentLoader.load(request);
            }
            function getRequestForTime(arr, time, threshold) {
              var lastIdx = arr.length - 1;
              for (var i3 = lastIdx; i3 >= 0; i3--) {
                var req = arr[i3];
                var start = req.startTime;
                var end = start + req.duration;
                threshold = !isNaN(threshold) ? threshold : getRequestThreshold(req);
                if (!isNaN(start) && !isNaN(end) && time + threshold >= start && time - threshold < end || isNaN(start) && isNaN(time)) {
                  return req;
                }
              }
              return null;
            }
            function filterRequests(arr, filter) {
              if (filter.hasOwnProperty("time")) {
                return [getRequestForTime(arr, filter.time, filter.threshold)];
              }
              return arr.filter(function(request) {
                for (var prop in filter) {
                  if (prop === "state")
                    continue;
                  if (filter.hasOwnProperty(prop) && request[prop] != filter[prop])
                    return false;
                }
                return true;
              });
            }
            function getRequestsForState(state) {
              var requests;
              switch (state) {
                case FRAGMENT_MODEL_LOADING:
                  requests = loadingRequests;
                  break;
                case FRAGMENT_MODEL_EXECUTED:
                  requests = executedRequests;
                  break;
                default:
                  requests = [];
              }
              return requests;
            }
            function addSchedulingInfoMetrics(request, state) {
              dashMetrics.addSchedulingInfo(request, state);
              dashMetrics.addRequestsQueue(request.mediaType, loadingRequests, executedRequests);
            }
            function onLoadingCompleted(e) {
              if (e.sender !== fragmentLoader)
                return;
              loadingRequests.splice(loadingRequests.indexOf(e.request), 1);
              if (e.response && !e.error) {
                executedRequests.push(e.request);
              }
              addSchedulingInfoMetrics(e.request, e.error ? FRAGMENT_MODEL_FAILED : FRAGMENT_MODEL_EXECUTED);
              eventBus.trigger(events.FRAGMENT_LOADING_COMPLETED, {
                request: e.request,
                response: e.response,
                error: e.error,
                sender: this
              }, {
                streamId: streamInfo.id,
                mediaType: type
              });
            }
            function onLoadingInProgress(e) {
              if (e.sender !== fragmentLoader)
                return;
              eventBus.trigger(events.FRAGMENT_LOADING_PROGRESS, {
                request: e.request,
                response: e.response,
                error: e.error,
                sender: this
              }, {
                streamId: streamInfo.id,
                mediaType: type
              });
            }
            function onLoadingAborted(e) {
              if (e.sender !== fragmentLoader)
                return;
              eventBus.trigger(events.FRAGMENT_LOADING_ABANDONED, {
                request: e.request
              }, {
                streamId: streamInfo.id,
                mediaType: type
              });
            }
            function resetInitialSettings() {
              executedRequests = [];
              loadingRequests = [];
            }
            function reset() {
              eventBus.off(events.LOADING_COMPLETED, onLoadingCompleted, this);
              eventBus.off(events.LOADING_DATA_PROGRESS, onLoadingInProgress, this);
              eventBus.off(events.LOADING_ABANDONED, onLoadingAborted, this);
              if (fragmentLoader) {
                fragmentLoader.reset();
              }
              resetInitialSettings();
            }
            function addExecutedRequest(request) {
              executedRequests.push(request);
            }
            instance = {
              getStreamId,
              getType,
              getRequests,
              isFragmentLoaded,
              isFragmentLoadedOrPending,
              removeExecutedRequestsBeforeTime,
              removeExecutedRequestsAfterTime,
              syncExecutedRequestsWithBufferedRange,
              abortRequests,
              executeRequest,
              reset,
              resetInitialSettings,
              addExecutedRequest
            };
            setup();
            return instance;
          }
          FragmentModel.__dashjs_factory_name = "FragmentModel";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(FragmentModel);
          factory.FRAGMENT_MODEL_LOADING = FRAGMENT_MODEL_LOADING;
          factory.FRAGMENT_MODEL_EXECUTED = FRAGMENT_MODEL_EXECUTED;
          factory.FRAGMENT_MODEL_CANCELED = FRAGMENT_MODEL_CANCELED;
          factory.FRAGMENT_MODEL_FAILED = FRAGMENT_MODEL_FAILED;
          _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].updateClassFactory(FragmentModel.__dashjs_factory_name, factory);
          __webpack_exports__["default"] = factory;
        },
        "./src/streaming/models/LowLatencyThroughputModel.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_Debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/Debug.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/FactoryMaker.js");
          function LowLatencyThroughputModel() {
            var LLTM_MAX_MEASUREMENTS = 10;
            var LLTM_SEMI_OPTIMISTIC_ESTIMATE_FACTOR = 0.8;
            var LLTM_OPTIMISTIC_ESTIMATE_FACTOR = 0.6;
            var LLTM_SLOW_SEGMENT_DOWNLOAD_TOLERANCE = 1.05;
            var LLTM_MAX_DELAY_MS = 250;
            var context = this.context;
            var instance;
            var logger;
            var measurements = {};
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_0__["default"])(context).getInstance().getLogger(instance);
            }
            function createBufferLevelTrendFunction(chunkMeasurements) {
              var result = {};
              var sumX = 0;
              var sumY = 0;
              var sumXY = 0;
              var sumXSq = 0;
              var N3 = chunkMeasurements.length;
              for (var i3 = 0; i3 < N3; ++i3) {
                sumX += chunkMeasurements[i3].chunkDownloadTimeRelativeMS;
                sumY += chunkMeasurements[i3].bufferLevel;
                sumXY += chunkMeasurements[i3].chunkDownloadTimeRelativeMS * chunkMeasurements[i3].bufferLevel;
                sumXSq += chunkMeasurements[i3].chunkDownloadTimeRelativeMS * chunkMeasurements[i3].chunkDownloadTimeRelativeMS;
              }
              result.m = (sumXY - sumX * sumY / N3) / (sumXSq - sumX * sumX / N3);
              result.b = sumY / N3 - result.m * sumX / N3;
              return function(x3) {
                return result.m * x3 + result.b;
              };
            }
            function isBufferSafeAndStable(lastMeasurements) {
              var isBufferSafeAndStable2 = true;
              var lastBitrate;
              var aveBufferLevelLastSegements = lastMeasurements.reduce(function(prev, curr) {
                return prev + curr.bufferLevelAtSegmentEnd;
              }, 0) / lastMeasurements.length;
              lastMeasurements.forEach(function(m2) {
                if (Math.abs(m2.bufferLevelAtSegmentEnd / m2.bufferLevelAtSegmentStart) < 0.95) {
                  isBufferSafeAndStable2 = false;
                }
                if (m2.bufferLevelAtSegmentEnd / aveBufferLevelLastSegements < 0.8) {
                  isBufferSafeAndStable2 = false;
                }
                if (!lastBitrate) {
                  lastBitrate = m2.bitrate;
                } else if (lastBitrate > m2.bitrate) {
                  isBufferSafeAndStable2 = false;
                }
              });
              return isBufferSafeAndStable2;
            }
            function getEstimatedDownloadDurationMS(request) {
              var lastMeasurement = measurements[request.mediaType].slice(-1).pop();
              var lastThreeMeasurements = measurements[request.mediaType].slice(-3);
              var lastChunkRelativeTimeMS = lastMeasurement.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;
              lastMeasurement.bufferLevelAtSegmentStart = lastMeasurement.getEstimatedBufferLevel(lastChunkRelativeTimeMS / 2);
              lastMeasurement.bufferLevelAtSegmentEnd = lastMeasurement.getEstimatedBufferLevel(lastChunkRelativeTimeMS);
              var isBufferStable = isBufferSafeAndStable(lastThreeMeasurements);
              var selectedOptimisticFactor = isBufferStable ? LLTM_OPTIMISTIC_ESTIMATE_FACTOR : LLTM_SEMI_OPTIMISTIC_ESTIMATE_FACTOR;
              if (lastMeasurement.isBufferStable && lastMeasurement.segDurationMS * LLTM_SLOW_SEGMENT_DOWNLOAD_TOLERANCE < lastMeasurement.fetchDownloadDurationMS) {
                return lastMeasurement.fetchDownloadDurationMS;
              }
              if (!isBufferStable || lastMeasurement.segDurationMS < lastMeasurement.fetchDownloadDurationMS) {
                return lastMeasurement.fetchDownloadDurationMS * LLTM_SEMI_OPTIMISTIC_ESTIMATE_FACTOR;
              }
              if (lastMeasurement.adjustedAvailabilityStartTimeMS <= lastMeasurement.requestTimeMS + lastMeasurement.throughputCapacityDelayMS - lastMeasurement.segDurationMS) {
                return lastMeasurement.fetchDownloadDurationMS * LLTM_SEMI_OPTIMISTIC_ESTIMATE_FACTOR;
              }
              var chunkAvailablePeriod = lastMeasurement.requestTimeMS + lastMeasurement.throughputCapacityDelayMS - lastMeasurement.adjustedAvailabilityStartTimeMS;
              var chunkBytesBBLE = 0;
              var chunkDownloadtimeMSBBLE = 0;
              var chunkCount = 0;
              for (var index = 0; index < lastMeasurement.chunkMeasurements.length; index++) {
                var chunk = lastMeasurement.chunkMeasurements[index];
                if (chunkAvailablePeriod < chunkDownloadtimeMSBBLE + chunk.chunkDownloadDurationMS) {
                  break;
                }
                chunkDownloadtimeMSBBLE += chunk.chunkDownloadDurationMS;
                chunkBytesBBLE += chunk.chunkBytes;
                chunkCount++;
              }
              if (chunkAvailablePeriod < 0) {
                logger.warn("request time was before adjusted availibitly start time");
              }
              if (chunkBytesBBLE && chunkDownloadtimeMSBBLE && chunkCount > lastMeasurement.chunkMeasurements.length * 0.2) {
                var downloadThroughput = chunkBytesBBLE / chunkDownloadtimeMSBBLE;
                var estimatedDownloadtimeMS = lastMeasurement.segmentBytes / downloadThroughput;
                if (lastMeasurement.fetchDownloadDurationMS < estimatedDownloadtimeMS) {
                  return lastMeasurement.fetchDownloadDurationMS * selectedOptimisticFactor;
                }
                return estimatedDownloadtimeMS * selectedOptimisticFactor;
              }
              var nextHigherBitrate = lastMeasurement.bitrate;
              lastMeasurement.bitrateList.some(function(b3) {
                if (b3.bandwidth > lastMeasurement.bitrate) {
                  nextHigherBitrate = b3.bandwidth;
                  return true;
                }
              });
              if (nextHigherBitrate === lastMeasurement.bitrate) {
                return lastMeasurement.fetchDownloadDurationMS * selectedOptimisticFactor;
              }
              return selectedOptimisticFactor * lastMeasurement.segmentBytes * 8 * 1e3 / nextHigherBitrate;
            }
            function getThroughputCapacityDelayMS(request, currentBufferLevelMS) {
              var lastThreeMeasurements = measurements[request.mediaType] && measurements[request.mediaType].slice(-3);
              if (!lastThreeMeasurements || lastThreeMeasurements.length < 3) {
                return 0;
              }
              if (!isBufferSafeAndStable(lastThreeMeasurements)) {
                return 0;
              }
              return currentBufferLevelMS / 4 > LLTM_MAX_DELAY_MS ? LLTM_MAX_DELAY_MS : currentBufferLevelMS / 4;
            }
            function addMeasurement(request, fetchDownloadDurationMS, chunkMeasurements, requestTimeMS, throughputCapacityDelayMS) {
              if (request && request.mediaType && !measurements[request.mediaType]) {
                measurements[request.mediaType] = [];
              }
              var bitrateEntry = request.mediaInfo.bitrateList.find(function(item) {
                return item.id === request.representationId;
              });
              measurements[request.mediaType].push({
                index: request.index,
                repId: request.representationId,
                mediaType: request.mediaType,
                requestTimeMS,
                adjustedAvailabilityStartTimeMS: request.availabilityStartTime.getTime(),
                segDurationMS: request.duration * 1e3,
                chunksDurationMS: chunkMeasurements.reduce(function(prev, curr) {
                  return prev + curr.chunkDownloadDurationMS;
                }, 0),
                segmentBytes: chunkMeasurements.reduce(function(prev, curr) {
                  return prev + curr.chunkBytes;
                }, 0),
                bitrate: bitrateEntry && bitrateEntry.bandwidth,
                bitrateList: request.mediaInfo.bitrateList,
                chunkMeasurements,
                fetchDownloadDurationMS,
                throughputCapacityDelayMS,
                getEstimatedBufferLevel: createBufferLevelTrendFunction(chunkMeasurements.slice(1))
              });
              if (measurements[request.mediaType].length > LLTM_MAX_MEASUREMENTS) {
                measurements[request.mediaType].shift();
              }
            }
            instance = {
              setup,
              addMeasurement,
              getThroughputCapacityDelayMS,
              getEstimatedDownloadDurationMS
            };
            setup();
            return instance;
          }
          LowLatencyThroughputModel.__dashjs_factory_name = "LowLatencyThroughputModel";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__["default"].getSingletonFactory(LowLatencyThroughputModel);
        },
        "./src/streaming/models/ManifestModel.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/events/Events.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/FactoryMaker.js");
          function ManifestModel() {
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_0__["default"])(context).getInstance();
            var instance, manifest;
            function getValue() {
              return manifest;
            }
            function setValue(value) {
              manifest = value;
              if (value) {
                eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_1__["default"].MANIFEST_LOADED, {
                  data: value
                });
              }
            }
            instance = {
              getValue,
              setValue
            };
            return instance;
          }
          ManifestModel.__dashjs_factory_name = "ManifestModel";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__["default"].getSingletonFactory(ManifestModel);
        },
        "./src/streaming/models/MediaPlayerModel.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _dash_vo_UTCTiming__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/dash/vo/UTCTiming.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _rules_abr_ABRRulesCollection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/rules/abr/ABRRulesCollection.js");
          var _core_Settings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/core/Settings.js");
          var _utils_SupervisorTools__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/utils/SupervisorTools.js");
          var DEFAULT_MIN_BUFFER_TIME = 12;
          var DEFAULT_MIN_BUFFER_TIME_FAST_SWITCH = 20;
          var DEFAULT_LOW_LATENCY_LIVE_DELAY = 3;
          var LOW_LATENCY_REDUCTION_FACTOR = 10;
          var LOW_LATENCY_MULTIPLY_FACTOR = 5;
          var DEFAULT_LIVE_LATENCY_CATCHUP_THRESHOLD_FACTOR = 4;
          var MINIMUM_LIVE_LATENCY_CATCHUP = 5;
          var DEFAULT_XHR_WITH_CREDENTIALS = false;
          function MediaPlayerModel() {
            var instance, UTCTimingSources, xhrWithCredentials, customABRRule;
            var context = this.context;
            var settings = Object(_core_Settings__WEBPACK_IMPORTED_MODULE_4__["default"])(context).getInstance();
            function setup() {
              UTCTimingSources = [];
              xhrWithCredentials = {
                "default": DEFAULT_XHR_WITH_CREDENTIALS
              };
              customABRRule = [];
            }
            function findABRCustomRuleIndex(rulename) {
              var i3;
              for (i3 = 0; i3 < customABRRule.length; i3++) {
                if (customABRRule[i3].rulename === rulename) {
                  return i3;
                }
              }
              return -1;
            }
            function getABRCustomRules() {
              return customABRRule;
            }
            function addABRCustomRule(type, rulename, rule) {
              if (typeof type !== "string" || type !== _rules_abr_ABRRulesCollection__WEBPACK_IMPORTED_MODULE_3__["default"].ABANDON_FRAGMENT_RULES && type !== _rules_abr_ABRRulesCollection__WEBPACK_IMPORTED_MODULE_3__["default"].QUALITY_SWITCH_RULES || typeof rulename !== "string") {
                throw _constants_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].BAD_ARGUMENT_ERROR;
              }
              var index = findABRCustomRuleIndex(rulename);
              if (index === -1) {
                customABRRule.push({
                  type,
                  rulename,
                  rule
                });
              } else {
                customABRRule[index].type = type;
                customABRRule[index].rule = rule;
              }
            }
            function removeABRCustomRule(rulename) {
              if (rulename) {
                var index = findABRCustomRuleIndex(rulename);
                if (index !== -1) {
                  customABRRule.splice(index, 1);
                }
              } else {
                customABRRule = [];
              }
            }
            function getInitialBufferLevel() {
              var initialBufferLevel = settings.get().streaming.buffer.initialBufferLevel;
              if (isNaN(initialBufferLevel) || initialBufferLevel < 0) {
                return 0;
              }
              return Math.min(getStableBufferTime(), initialBufferLevel);
            }
            function getStableBufferTime() {
              if (settings.get().streaming.lowLatencyEnabled) {
                return getLiveDelay();
              }
              var stableBufferTime = settings.get().streaming.buffer.stableBufferTime;
              return stableBufferTime > -1 ? stableBufferTime : settings.get().streaming.buffer.fastSwitchEnabled ? DEFAULT_MIN_BUFFER_TIME_FAST_SWITCH : DEFAULT_MIN_BUFFER_TIME;
            }
            function getRetryAttemptsForType(type) {
              var lowLatencyMultiplyFactor = !isNaN(settings.get().streaming.retryAttempts.lowLatencyMultiplyFactor) ? settings.get().streaming.retryAttempts.lowLatencyMultiplyFactor : LOW_LATENCY_MULTIPLY_FACTOR;
              return settings.get().streaming.lowLatencyEnabled ? settings.get().streaming.retryAttempts[type] * lowLatencyMultiplyFactor : settings.get().streaming.retryAttempts[type];
            }
            function getRetryIntervalsForType(type) {
              var lowLatencyReductionFactor = !isNaN(settings.get().streaming.retryIntervals.lowLatencyReductionFactor) ? settings.get().streaming.retryIntervals.lowLatencyReductionFactor : LOW_LATENCY_REDUCTION_FACTOR;
              return settings.get().streaming.lowLatencyEnabled ? settings.get().streaming.retryIntervals[type] / lowLatencyReductionFactor : settings.get().streaming.retryIntervals[type];
            }
            function getLiveDelay() {
              if (settings.get().streaming.lowLatencyEnabled) {
                return settings.get().streaming.delay.liveDelay || DEFAULT_LOW_LATENCY_LIVE_DELAY;
              }
              return settings.get().streaming.delay.liveDelay;
            }
            function getLiveCatchupLatencyThreshold() {
              try {
                var liveCatchupLatencyThreshold = settings.get().streaming.liveCatchup.latencyThreshold;
                var liveDelay = getLiveDelay();
                if (liveCatchupLatencyThreshold !== null && !isNaN(liveCatchupLatencyThreshold)) {
                  return Math.max(liveCatchupLatencyThreshold, liveDelay);
                }
                var liveCatchupMinDrift = settings.get().streaming.liveCatchup.minDrift;
                var maximumLiveDelay = !isNaN(liveDelay) && liveDelay ? !isNaN(liveCatchupMinDrift) ? settings.get().streaming.liveCatchup.minDrift + getLiveDelay() : getLiveDelay() : NaN;
                if (maximumLiveDelay && !isNaN(maximumLiveDelay)) {
                  return Math.max(maximumLiveDelay * DEFAULT_LIVE_LATENCY_CATCHUP_THRESHOLD_FACTOR, MINIMUM_LIVE_LATENCY_CATCHUP);
                }
                return NaN;
              } catch (e) {
                return NaN;
              }
            }
            function addUTCTimingSource(schemeIdUri, value) {
              removeUTCTimingSource(schemeIdUri, value);
              var vo = new _dash_vo_UTCTiming__WEBPACK_IMPORTED_MODULE_0__["default"]();
              vo.schemeIdUri = schemeIdUri;
              vo.value = value;
              UTCTimingSources.push(vo);
            }
            function getUTCTimingSources() {
              return UTCTimingSources;
            }
            function removeUTCTimingSource(schemeIdUri, value) {
              Object(_utils_SupervisorTools__WEBPACK_IMPORTED_MODULE_5__["checkParameterType"])(schemeIdUri, "string");
              Object(_utils_SupervisorTools__WEBPACK_IMPORTED_MODULE_5__["checkParameterType"])(value, "string");
              UTCTimingSources.forEach(function(obj, idx) {
                if (obj.schemeIdUri === schemeIdUri && obj.value === value) {
                  UTCTimingSources.splice(idx, 1);
                }
              });
            }
            function clearDefaultUTCTimingSources() {
              UTCTimingSources = [];
            }
            function restoreDefaultUTCTimingSources() {
              var defaultUtcTimingSource = settings.get().streaming.utcSynchronization.defaultTimingSource;
              addUTCTimingSource(defaultUtcTimingSource.scheme, defaultUtcTimingSource.value);
            }
            function setXHRWithCredentialsForType(type, value) {
              if (!type) {
                Object.keys(xhrWithCredentials).forEach(function(key) {
                  setXHRWithCredentialsForType(key, value);
                });
              } else {
                xhrWithCredentials[type] = !!value;
              }
            }
            function getXHRWithCredentialsForType(type) {
              var useCreds = xhrWithCredentials[type];
              return useCreds === void 0 ? xhrWithCredentials["default"] : useCreds;
            }
            function getDefaultUtcTimingSource() {
              return settings.get().streaming.utcSynchronization.defaultTimingSource;
            }
            function reset() {
            }
            instance = {
              getABRCustomRules,
              addABRCustomRule,
              removeABRCustomRule,
              getStableBufferTime,
              getInitialBufferLevel,
              getRetryAttemptsForType,
              getRetryIntervalsForType,
              getLiveDelay,
              getLiveCatchupLatencyThreshold,
              addUTCTimingSource,
              removeUTCTimingSource,
              getUTCTimingSources,
              clearDefaultUTCTimingSources,
              restoreDefaultUTCTimingSources,
              setXHRWithCredentialsForType,
              getXHRWithCredentialsForType,
              getDefaultUtcTimingSource,
              reset
            };
            setup();
            return instance;
          }
          MediaPlayerModel.__dashjs_factory_name = "MediaPlayerModel";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__["default"].getSingletonFactory(MediaPlayerModel);
        },
        "./src/streaming/models/MetricsModel.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/constants/MetricsConstants.js");
          var _vo_MetricsList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/vo/MetricsList.js");
          var _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/vo/metrics/HTTPRequest.js");
          var _vo_metrics_RepresentationSwitch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/vo/metrics/RepresentationSwitch.js");
          var _vo_metrics_BufferLevel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/vo/metrics/BufferLevel.js");
          var _vo_metrics_BufferState__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/streaming/vo/metrics/BufferState.js");
          var _vo_metrics_DVRInfo__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/streaming/vo/metrics/DVRInfo.js");
          var _vo_metrics_DroppedFrames__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/streaming/vo/metrics/DroppedFrames.js");
          var _vo_metrics_ManifestUpdate__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/streaming/vo/metrics/ManifestUpdate.js");
          var _vo_metrics_SchedulingInfo__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/streaming/vo/metrics/SchedulingInfo.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/core/EventBus.js");
          var _vo_metrics_RequestsQueue__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/streaming/vo/metrics/RequestsQueue.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/core/events/Events.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/core/FactoryMaker.js");
          function MetricsModel(config) {
            config = config || {};
            var settings = config.settings;
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_11__["default"])(context).getInstance();
            var instance, streamMetrics;
            function setup() {
              streamMetrics = {};
            }
            function metricsChanged() {
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_13__["default"].METRICS_CHANGED);
            }
            function metricChanged(mediaType) {
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_13__["default"].METRIC_CHANGED, {
                mediaType
              });
              metricsChanged();
            }
            function metricUpdated(mediaType, metricType, vo) {
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_13__["default"].METRIC_UPDATED, {
                mediaType,
                metric: metricType,
                value: vo
              });
              metricChanged(mediaType);
            }
            function metricAdded(mediaType, metricType, vo) {
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_13__["default"].METRIC_ADDED, {
                mediaType,
                metric: metricType,
                value: vo
              });
              metricChanged(mediaType);
            }
            function clearCurrentMetricsForType(type) {
              delete streamMetrics[type];
              metricChanged(type);
            }
            function clearAllCurrentMetrics() {
              streamMetrics = {};
              metricsChanged();
            }
            function getMetricsFor(type, readOnly) {
              var metrics = null;
              if (!type) {
                return metrics;
              }
              if (streamMetrics.hasOwnProperty(type)) {
                metrics = streamMetrics[type];
              } else if (!readOnly) {
                metrics = new _vo_MetricsList__WEBPACK_IMPORTED_MODULE_2__["default"]();
                streamMetrics[type] = metrics;
              }
              return metrics;
            }
            function pushMetrics(type, list, value) {
              var metrics = getMetricsFor(type);
              if (metrics !== null) {
                metrics[list].push(value);
                if (metrics[list].length > settings.get().streaming.metrics.maxListDepth) {
                  metrics[list].shift();
                }
              }
            }
            function appendHttpTrace(httpRequest, s3, d2, b3, t2) {
              var vo = new _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_3__["HTTPRequestTrace"]();
              vo.s = s3;
              vo.d = d2;
              vo.b = b3;
              vo.t = t2;
              httpRequest.trace.push(vo);
              if (!httpRequest.interval) {
                httpRequest.interval = 0;
              }
              httpRequest.interval += d2;
              return vo;
            }
            function addHttpRequest(mediaType, tcpid, type, url, quality, actualurl, serviceLocation, range, trequest, tresponse, tfinish, responsecode, mediaduration, responseHeaders, traces) {
              var vo = new _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_3__["HTTPRequest"]();
              if (actualurl && actualurl !== url) {
                addHttpRequest(mediaType, null, type, url, quality, null, null, range, trequest, null, null, null, mediaduration, null, null);
                vo.actualurl = actualurl;
              }
              vo.tcpid = tcpid;
              vo.type = type;
              vo.url = url;
              vo.range = range;
              vo.trequest = trequest;
              vo.tresponse = tresponse;
              vo.responsecode = responsecode;
              vo._tfinish = tfinish;
              vo._stream = mediaType;
              vo._mediaduration = mediaduration;
              vo._quality = quality;
              vo._responseHeaders = responseHeaders;
              vo._serviceLocation = serviceLocation;
              if (traces) {
                traces.forEach(function(trace) {
                  appendHttpTrace(vo, trace.s, trace.d, trace.b, trace.t);
                });
              } else {
                delete vo.interval;
                delete vo.trace;
              }
              pushAndNotify(mediaType, _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].HTTP_REQUEST, vo);
            }
            function addRepresentationSwitch(mediaType, t2, mt, to, lto) {
              var vo = new _vo_metrics_RepresentationSwitch__WEBPACK_IMPORTED_MODULE_4__["default"]();
              vo.t = t2;
              vo.mt = mt;
              vo.to = to;
              if (lto) {
                vo.lto = lto;
              } else {
                delete vo.lto;
              }
              pushAndNotify(mediaType, _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].TRACK_SWITCH, vo);
            }
            function pushAndNotify(mediaType, metricType, metricObject) {
              pushMetrics(mediaType, metricType, metricObject);
              metricAdded(mediaType, metricType, metricObject);
            }
            function addBufferLevel(mediaType, t2, level) {
              var vo = new _vo_metrics_BufferLevel__WEBPACK_IMPORTED_MODULE_5__["default"]();
              vo.t = t2;
              vo.level = level;
              pushAndNotify(mediaType, _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].BUFFER_LEVEL, vo);
            }
            function addBufferState(mediaType, state, target) {
              var vo = new _vo_metrics_BufferState__WEBPACK_IMPORTED_MODULE_6__["default"]();
              vo.target = target;
              vo.state = state;
              pushAndNotify(mediaType, _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].BUFFER_STATE, vo);
            }
            function addDVRInfo(mediaType, currentTime, mpd, range) {
              var vo = new _vo_metrics_DVRInfo__WEBPACK_IMPORTED_MODULE_7__["default"]();
              vo.time = currentTime;
              vo.range = range;
              vo.manifestInfo = mpd;
              pushAndNotify(mediaType, _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].DVR_INFO, vo);
            }
            function addDroppedFrames(mediaType, quality) {
              var vo = new _vo_metrics_DroppedFrames__WEBPACK_IMPORTED_MODULE_8__["default"]();
              var list = getMetricsFor(mediaType).DroppedFrames;
              if (!quality) {
                return;
              }
              vo.time = quality.creationTime;
              vo.droppedFrames = quality.droppedVideoFrames;
              if (list.length > 0 && list[list.length - 1] == vo) {
                return;
              }
              pushAndNotify(mediaType, _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].DROPPED_FRAMES, vo);
            }
            function addSchedulingInfo(mediaType, t2, type, startTime, availabilityStartTime, duration, quality, range, state) {
              var vo = new _vo_metrics_SchedulingInfo__WEBPACK_IMPORTED_MODULE_10__["default"]();
              vo.mediaType = mediaType;
              vo.t = t2;
              vo.type = type;
              vo.startTime = startTime;
              vo.availabilityStartTime = availabilityStartTime;
              vo.duration = duration;
              vo.quality = quality;
              vo.range = range;
              vo.state = state;
              pushAndNotify(mediaType, _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SCHEDULING_INFO, vo);
            }
            function addRequestsQueue(mediaType, loadingRequests, executedRequests) {
              var vo = new _vo_metrics_RequestsQueue__WEBPACK_IMPORTED_MODULE_12__["default"]();
              vo.loadingRequests = loadingRequests;
              vo.executedRequests = executedRequests;
              getMetricsFor(mediaType).RequestsQueue = vo;
              metricAdded(mediaType, _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].REQUESTS_QUEUE, vo);
            }
            function addManifestUpdate(mediaType, type, requestTime, fetchTime, availabilityStartTime, presentationStartTime, clientTimeOffset, currentTime, buffered, latency) {
              var vo = new _vo_metrics_ManifestUpdate__WEBPACK_IMPORTED_MODULE_9__["ManifestUpdate"]();
              vo.mediaType = mediaType;
              vo.type = type;
              vo.requestTime = requestTime;
              vo.fetchTime = fetchTime;
              vo.availabilityStartTime = availabilityStartTime;
              vo.presentationStartTime = presentationStartTime;
              vo.clientTimeOffset = clientTimeOffset;
              vo.currentTime = currentTime;
              vo.buffered = buffered;
              vo.latency = latency;
              pushMetrics(_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].STREAM, _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MANIFEST_UPDATE, vo);
              metricAdded(mediaType, _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MANIFEST_UPDATE, vo);
            }
            function updateManifestUpdateInfo(manifestUpdate, updatedFields) {
              if (manifestUpdate) {
                for (var field in updatedFields) {
                  manifestUpdate[field] = updatedFields[field];
                }
                metricUpdated(manifestUpdate.mediaType, _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MANIFEST_UPDATE, manifestUpdate);
              }
            }
            function addManifestUpdateStreamInfo(manifestUpdate, id, index, start, duration) {
              if (manifestUpdate) {
                var vo = new _vo_metrics_ManifestUpdate__WEBPACK_IMPORTED_MODULE_9__["ManifestUpdateStreamInfo"]();
                vo.id = id;
                vo.index = index;
                vo.start = start;
                vo.duration = duration;
                manifestUpdate.streamInfo.push(vo);
                metricUpdated(manifestUpdate.mediaType, _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MANIFEST_UPDATE_STREAM_INFO, manifestUpdate);
              }
            }
            function addManifestUpdateRepresentationInfo(manifestUpdate, id, index, streamIndex, mediaType, presentationTimeOffset, startNumber, fragmentInfoType) {
              if (manifestUpdate && manifestUpdate.representationInfo) {
                var vo = new _vo_metrics_ManifestUpdate__WEBPACK_IMPORTED_MODULE_9__["ManifestUpdateRepresentationInfo"]();
                vo.id = id;
                vo.index = index;
                vo.streamIndex = streamIndex;
                vo.mediaType = mediaType;
                vo.startNumber = startNumber;
                vo.fragmentInfoType = fragmentInfoType;
                vo.presentationTimeOffset = presentationTimeOffset;
                manifestUpdate.representationInfo.push(vo);
                metricUpdated(manifestUpdate.mediaType, _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].MANIFEST_UPDATE_TRACK_INFO, manifestUpdate);
              }
            }
            function addPlayList(vo) {
              if (vo.trace && Array.isArray(vo.trace)) {
                vo.trace.forEach(function(trace) {
                  if (trace.hasOwnProperty("subreplevel") && !trace.subreplevel) {
                    delete trace.subreplevel;
                  }
                });
              } else {
                delete vo.trace;
              }
              pushAndNotify(_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].STREAM, _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].PLAY_LIST, vo);
            }
            function addDVBErrors(vo) {
              pushAndNotify(_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].STREAM, _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_1__["default"].DVB_ERRORS, vo);
            }
            instance = {
              clearCurrentMetricsForType,
              clearAllCurrentMetrics,
              getMetricsFor,
              addHttpRequest,
              addRepresentationSwitch,
              addBufferLevel,
              addBufferState,
              addDVRInfo,
              addDroppedFrames,
              addSchedulingInfo,
              addRequestsQueue,
              addManifestUpdate,
              updateManifestUpdateInfo,
              addManifestUpdateStreamInfo,
              addManifestUpdateRepresentationInfo,
              addPlayList,
              addDVBErrors
            };
            setup();
            return instance;
          }
          MetricsModel.__dashjs_factory_name = "MetricsModel";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_14__["default"].getSingletonFactory(MetricsModel);
        },
        "./src/streaming/models/URIFragmentModel.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _vo_URIFragmentData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/vo/URIFragmentData.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/FactoryMaker.js");
          function URIFragmentModel() {
            var instance, URIFragmentDataVO;
            function initialize(uri) {
              URIFragmentDataVO = new _vo_URIFragmentData__WEBPACK_IMPORTED_MODULE_0__["default"]();
              if (!uri)
                return null;
              var hashIndex = uri.indexOf("#");
              if (hashIndex !== -1) {
                var fragments = uri.substr(hashIndex + 1).split("&");
                for (var i3 = 0, len = fragments.length; i3 < len; ++i3) {
                  var fragment = fragments[i3];
                  var equalIndex = fragment.indexOf("=");
                  if (equalIndex !== -1) {
                    var key = fragment.substring(0, equalIndex);
                    if (URIFragmentDataVO.hasOwnProperty(key)) {
                      URIFragmentDataVO[key] = fragment.substr(equalIndex + 1);
                    }
                  }
                }
              }
            }
            function getURIFragmentData() {
              return URIFragmentDataVO;
            }
            instance = {
              initialize,
              getURIFragmentData
            };
            return instance;
          }
          URIFragmentModel.__dashjs_factory_name = "URIFragmentModel";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__["default"].getSingletonFactory(URIFragmentModel);
        },
        "./src/streaming/models/VideoModel.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/events/Events.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/core/Debug.js");
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var READY_STATES_TO_EVENT_NAMES = new Map([[_constants_Constants__WEBPACK_IMPORTED_MODULE_4__["default"].VIDEO_ELEMENT_READY_STATES.HAVE_METADATA, "loadedmetadata"], [_constants_Constants__WEBPACK_IMPORTED_MODULE_4__["default"].VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA, "loadeddata"], [_constants_Constants__WEBPACK_IMPORTED_MODULE_4__["default"].VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA, "canplay"], [_constants_Constants__WEBPACK_IMPORTED_MODULE_4__["default"].VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA, "canplaythrough"]]);
          function VideoModel() {
            var instance, logger, element, TTMLRenderingDiv, previousPlaybackRate;
            var VIDEO_MODEL_WRONG_ELEMENT_TYPE = "element is not video or audio DOM type!";
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_1__["default"])(context).getInstance();
            var stalledStreams = [];
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_3__["default"])(context).getInstance().getLogger(instance);
            }
            function initialize() {
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].PLAYBACK_PLAYING, onPlaying, this);
            }
            function reset() {
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].PLAYBACK_PLAYING, onPlaying, this);
            }
            function onPlaybackCanPlay() {
              if (element) {
                element.playbackRate = previousPlaybackRate || 1;
                element.removeEventListener("canplay", onPlaybackCanPlay);
              }
            }
            function setPlaybackRate(value) {
              var ignoreReadyState = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
              if (!element)
                return;
              if (!ignoreReadyState && element.readyState <= 2 && value > 0) {
                element.addEventListener("canplay", onPlaybackCanPlay);
              } else {
                element.playbackRate = value;
              }
            }
            function setCurrentTime(currentTime, stickToBuffered) {
              waitForReadyState(_constants_Constants__WEBPACK_IMPORTED_MODULE_4__["default"].VIDEO_ELEMENT_READY_STATES.HAVE_METADATA, function() {
                if (element) {
                  if (element.currentTime === currentTime) {
                    return;
                  }
                  try {
                    currentTime = stickToBuffered ? stickTimeToBuffered(currentTime) : currentTime;
                    element.currentTime = currentTime;
                  } catch (e) {
                    if (element.readyState === 0 && e.code === e.INVALID_STATE_ERR) {
                      setTimeout(function() {
                        element.currentTime = currentTime;
                      }, 400);
                    }
                  }
                }
              });
            }
            function stickTimeToBuffered(time) {
              var buffered = getBufferRange();
              var closestTime = time;
              var closestDistance = 9999999999;
              if (buffered) {
                for (var i3 = 0; i3 < buffered.length; i3++) {
                  var start = buffered.start(i3);
                  var end = buffered.end(i3);
                  var distanceToStart = Math.abs(start - time);
                  var distanceToEnd = Math.abs(end - time);
                  if (time >= start && time <= end) {
                    return time;
                  }
                  if (distanceToStart < closestDistance) {
                    closestDistance = distanceToStart;
                    closestTime = start;
                  }
                  if (distanceToEnd < closestDistance) {
                    closestDistance = distanceToEnd;
                    closestTime = end;
                  }
                }
              }
              return closestTime;
            }
            function getElement() {
              return element;
            }
            function setElement(value) {
              if (value === null || value === void 0 || value && /^(VIDEO|AUDIO)$/i.test(value.nodeName)) {
                element = value;
                if (element) {
                  element.preload = "auto";
                }
              } else {
                throw VIDEO_MODEL_WRONG_ELEMENT_TYPE;
              }
            }
            function setSource(source) {
              if (element) {
                if (source) {
                  element.src = source;
                } else {
                  element.removeAttribute("src");
                  element.load();
                }
              }
            }
            function getSource() {
              return element ? element.src : null;
            }
            function getTTMLRenderingDiv() {
              return TTMLRenderingDiv;
            }
            function setTTMLRenderingDiv(div) {
              TTMLRenderingDiv = div;
              TTMLRenderingDiv.style.position = "absolute";
              TTMLRenderingDiv.style.display = "flex";
              TTMLRenderingDiv.style.overflow = "hidden";
              TTMLRenderingDiv.style.pointerEvents = "none";
              TTMLRenderingDiv.style.top = 0;
              TTMLRenderingDiv.style.left = 0;
            }
            function setStallState(type, state) {
              stallStream(type, state);
            }
            function isStalled() {
              return stalledStreams.length > 0;
            }
            function addStalledStream(type) {
              if (type === null || !element || element.seeking || stalledStreams.indexOf(type) !== -1) {
                return;
              }
              stalledStreams.push(type);
            }
            function removeStalledStream(type) {
              var index = stalledStreams.indexOf(type);
              if (type === null) {
                return;
              }
              if (index !== -1) {
                stalledStreams.splice(index, 1);
              }
            }
            function stallStream(type, isStalled2) {
              if (isStalled2) {
                addStalledStream(type);
              } else {
                removeStalledStream(type);
              }
            }
            function onPlaying() {
              if (element && isStalled() && element.playbackRate === 0) {
                var event = document.createEvent("Event");
                event.initEvent("waiting", true, false);
                element.dispatchEvent(event);
              }
            }
            function getPlaybackQuality() {
              if (!element) {
                return null;
              }
              var hasWebKit = "webkitDroppedFrameCount" in element && "webkitDecodedFrameCount" in element;
              var hasQuality = "getVideoPlaybackQuality" in element;
              var result = null;
              if (hasQuality) {
                result = element.getVideoPlaybackQuality();
              } else if (hasWebKit) {
                result = {
                  droppedVideoFrames: element.webkitDroppedFrameCount,
                  totalVideoFrames: element.webkitDroppedFrameCount + element.webkitDecodedFrameCount,
                  creationTime: new Date()
                };
              }
              return result;
            }
            function play() {
              if (element) {
                element.autoplay = true;
                var p2 = element.play();
                if (p2 && p2["catch"] && typeof Promise !== "undefined") {
                  p2["catch"](function(e) {
                    if (e.name === "NotAllowedError") {
                      eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].PLAYBACK_NOT_ALLOWED);
                    }
                    logger.warn("Caught pending play exception - continuing (".concat(e, ")"));
                  });
                }
              }
            }
            function isPaused() {
              return element ? element.paused : null;
            }
            function pause() {
              if (element) {
                element.pause();
                element.autoplay = false;
              }
            }
            function isSeeking() {
              return element ? element.seeking : null;
            }
            function getTime() {
              return element ? element.currentTime : null;
            }
            function getPlaybackRate() {
              return element ? element.playbackRate : null;
            }
            function getPlayedRanges() {
              return element ? element.played : null;
            }
            function getEnded() {
              return element ? element.ended : null;
            }
            function addEventListener(eventName, eventCallBack) {
              if (element) {
                element.addEventListener(eventName, eventCallBack);
              }
            }
            function removeEventListener(eventName, eventCallBack) {
              if (element) {
                element.removeEventListener(eventName, eventCallBack);
              }
            }
            function getReadyState() {
              return element ? element.readyState : NaN;
            }
            function getBufferRange() {
              return element ? element.buffered : null;
            }
            function getClientWidth() {
              return element ? element.clientWidth : NaN;
            }
            function getClientHeight() {
              return element ? element.clientHeight : NaN;
            }
            function getVideoWidth() {
              return element ? element.videoWidth : NaN;
            }
            function getVideoHeight() {
              return element ? element.videoHeight : NaN;
            }
            function getVideoRelativeOffsetTop() {
              var parentElement = element.parentNode.host || element.parentNode;
              return parentElement ? element.getBoundingClientRect().top - parentElement.getBoundingClientRect().top : NaN;
            }
            function getVideoRelativeOffsetLeft() {
              var parentElement = element.parentNode.host || element.parentNode;
              return parentElement ? element.getBoundingClientRect().left - parentElement.getBoundingClientRect().left : NaN;
            }
            function getTextTracks() {
              return element ? element.textTracks : [];
            }
            function getTextTrack(kind, label, lang, isTTML, isEmbedded) {
              if (element) {
                for (var i3 = 0; i3 < element.textTracks.length; i3++) {
                  if (element.textTracks[i3].kind === kind && (label ? element.textTracks[i3].label == label : true) && element.textTracks[i3].language === lang && element.textTracks[i3].isTTML === isTTML && element.textTracks[i3].isEmbedded === isEmbedded) {
                    return element.textTracks[i3];
                  }
                }
              }
              return null;
            }
            function addTextTrack(kind, label, lang, isTTML, isEmbedded) {
              if (!element) {
                return null;
              }
              var track = getTextTrack(kind, label, lang, isTTML, isEmbedded);
              if (!track) {
                track = element.addTextTrack(kind, label, lang);
                track.isEmbedded = isEmbedded;
                track.isTTML = isTTML;
              }
              return track;
            }
            function appendChild(childElement) {
              if (element) {
                element.appendChild(childElement);
                if (childElement.isTTML !== void 0) {
                  element.textTracks[element.textTracks.length - 1].isTTML = childElement.isTTML;
                  element.textTracks[element.textTracks.length - 1].isEmbedded = childElement.isEmbedded;
                }
              }
            }
            function removeChild(childElement) {
              if (element) {
                element.removeChild(childElement);
              }
            }
            function waitForReadyState(targetReadyState, callback) {
              if (targetReadyState === _constants_Constants__WEBPACK_IMPORTED_MODULE_4__["default"].VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING || getReadyState() >= targetReadyState) {
                callback();
              } else {
                var event = READY_STATES_TO_EVENT_NAMES.get(targetReadyState);
                _listenOnce(event, callback);
              }
            }
            function _listenOnce(event, callback) {
              var func = function func2() {
                removeEventListener(event, func2);
                callback(event);
              };
              addEventListener(event, func);
            }
            instance = {
              initialize,
              setCurrentTime,
              play,
              isPaused,
              pause,
              isStalled,
              isSeeking,
              getTime,
              getPlaybackRate,
              setPlaybackRate,
              getPlayedRanges,
              getEnded,
              setStallState,
              getElement,
              setElement,
              setSource,
              getSource,
              getTTMLRenderingDiv,
              setTTMLRenderingDiv,
              getPlaybackQuality,
              addEventListener,
              removeEventListener,
              getReadyState,
              getBufferRange,
              getClientWidth,
              getClientHeight,
              getTextTracks,
              getTextTrack,
              addTextTrack,
              appendChild,
              removeChild,
              getVideoWidth,
              getVideoHeight,
              getVideoRelativeOffsetTop,
              getVideoRelativeOffsetLeft,
              reset
            };
            setup();
            return instance;
          }
          VideoModel.__dashjs_factory_name = "VideoModel";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getSingletonFactory(VideoModel);
        },
        "./src/streaming/net/FetchLoader.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/Settings.js");
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/constants/Constants.js");
          function _slicedToArray(arr, i3) {
            return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i3) || _unsupportedIterableToArray(arr, i3) || _nonIterableRest();
          }
          function _nonIterableRest() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          function _iterableToArrayLimit(arr, i3) {
            if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr)))
              return;
            var _arr = [];
            var _n = true;
            var _d = false;
            var _e = void 0;
            try {
              for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                _arr.push(_s.value);
                if (i3 && _arr.length === i3)
                  break;
              }
            } catch (err) {
              _d = true;
              _e = err;
            } finally {
              try {
                if (!_n && _i["return"] != null)
                  _i["return"]();
              } finally {
                if (_d)
                  throw _e;
              }
            }
            return _arr;
          }
          function _arrayWithHoles(arr) {
            if (Array.isArray(arr))
              return arr;
          }
          function _createForOfIteratorHelper(o2, allowArrayLike) {
            var it;
            if (typeof Symbol === "undefined" || o2[Symbol.iterator] == null) {
              if (Array.isArray(o2) || (it = _unsupportedIterableToArray(o2)) || allowArrayLike && o2 && typeof o2.length === "number") {
                if (it)
                  o2 = it;
                var i3 = 0;
                var F2 = function F3() {
                };
                return { s: F2, n: function n2() {
                  if (i3 >= o2.length)
                    return { done: true };
                  return { done: false, value: o2[i3++] };
                }, e: function e(_e2) {
                  throw _e2;
                }, f: F2 };
              }
              throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var normalCompletion = true, didErr = false, err;
            return { s: function s3() {
              it = o2[Symbol.iterator]();
            }, n: function n2() {
              var step = it.next();
              normalCompletion = step.done;
              return step;
            }, e: function e(_e3) {
              didErr = true;
              err = _e3;
            }, f: function f2() {
              try {
                if (!normalCompletion && it["return"] != null)
                  it["return"]();
              } finally {
                if (didErr)
                  throw err;
              }
            } };
          }
          function _unsupportedIterableToArray(o2, minLen) {
            if (!o2)
              return;
            if (typeof o2 === "string")
              return _arrayLikeToArray(o2, minLen);
            var n2 = Object.prototype.toString.call(o2).slice(8, -1);
            if (n2 === "Object" && o2.constructor)
              n2 = o2.constructor.name;
            if (n2 === "Map" || n2 === "Set")
              return Array.from(o2);
            if (n2 === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))
              return _arrayLikeToArray(o2, minLen);
          }
          function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length)
              len = arr.length;
            for (var i3 = 0, arr2 = new Array(len); i3 < len; i3++) {
              arr2[i3] = arr[i3];
            }
            return arr2;
          }
          function FetchLoader(cfg) {
            cfg = cfg || {};
            var context = this.context;
            var requestModifier = cfg.requestModifier;
            var lowLatencyThroughputModel = cfg.lowLatencyThroughputModel;
            var boxParser = cfg.boxParser;
            var settings = Object(_core_Settings__WEBPACK_IMPORTED_MODULE_1__["default"])(context).getInstance();
            var instance, dashMetrics;
            function setup(cfg2) {
              dashMetrics = cfg2.dashMetrics;
            }
            function load(httpRequest) {
              var requestStartTime = new Date();
              var request = httpRequest.request;
              var headers = new Headers();
              if (request.range) {
                headers.append("Range", "bytes=" + request.range);
              }
              if (httpRequest.headers) {
                for (var header in httpRequest.headers) {
                  var value = httpRequest.headers[header];
                  if (value) {
                    headers.append(header, value);
                  }
                }
              }
              if (!request.requestStartDate) {
                request.requestStartDate = requestStartTime;
              }
              if (requestModifier) {
                requestModifier.modifyRequestHeader({
                  setRequestHeader: function setRequestHeader(header2, value2) {
                    headers.append(header2, value2);
                  }
                });
              }
              var abortController;
              if (typeof window.AbortController === "function") {
                abortController = new AbortController();
                httpRequest.abortController = abortController;
                abortController.signal.onabort = httpRequest.onabort;
              }
              var reqOptions = {
                method: httpRequest.method,
                headers,
                credentials: httpRequest.withCredentials ? "include" : void 0,
                signal: abortController ? abortController.signal : void 0
              };
              var calculationMode = settings.get().streaming.abr.fetchThroughputCalculationMode;
              var requestTime = Date.now();
              var throughputCapacityDelayMS = 0;
              new Promise(function(resolve2) {
                if (calculationMode === _constants_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].ABR_FETCH_THROUGHPUT_CALCULATION_AAST && lowLatencyThroughputModel) {
                  throughputCapacityDelayMS = lowLatencyThroughputModel.getThroughputCapacityDelayMS(request, dashMetrics.getCurrentBufferLevel(request.mediaType) * 1e3);
                  if (throughputCapacityDelayMS) {
                    return setTimeout(resolve2, throughputCapacityDelayMS);
                  }
                }
                resolve2();
              }).then(function() {
                var markBeforeFetch = Date.now();
                fetch(httpRequest.url, reqOptions).then(function(response) {
                  if (!httpRequest.response) {
                    httpRequest.response = {};
                  }
                  httpRequest.response.status = response.status;
                  httpRequest.response.statusText = response.statusText;
                  httpRequest.response.responseURL = response.url;
                  if (!response.ok) {
                    httpRequest.onerror();
                  }
                  var responseHeaders = "";
                  var _iterator = _createForOfIteratorHelper(response.headers.keys()), _step;
                  try {
                    for (_iterator.s(); !(_step = _iterator.n()).done; ) {
                      var key = _step.value;
                      responseHeaders += key + ": " + response.headers.get(key) + "\r\n";
                    }
                  } catch (err) {
                    _iterator.e(err);
                  } finally {
                    _iterator.f();
                  }
                  httpRequest.response.responseHeaders = responseHeaders;
                  if (!response.body) {
                    return response.arrayBuffer().then(function(buffer) {
                      httpRequest.response.response = buffer;
                      var event = {
                        loaded: buffer.byteLength,
                        total: buffer.byteLength,
                        stream: false
                      };
                      httpRequest.progress(event);
                      httpRequest.onload();
                      httpRequest.onend();
                      return;
                    });
                  }
                  var totalBytes = parseInt(response.headers.get("Content-Length"), 10);
                  var bytesReceived = 0;
                  var signaledFirstByte = false;
                  var remaining = new Uint8Array();
                  var offset = 0;
                  if (calculationMode === _constants_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].ABR_FETCH_THROUGHPUT_CALCULATION_AAST && lowLatencyThroughputModel) {
                    var fetchMeassurement = function fetchMeassurement2(stream) {
                      var reader = stream.getReader();
                      var measurement = [];
                      reader.read().then(function processFetch(args) {
                        var value2 = args.value;
                        var done = args.done;
                        markB = Date.now();
                        if (value2 && value2.length) {
                          var chunkDownloadDurationMS = markB - markA;
                          var chunkBytes = value2.length;
                          measurement.push({
                            chunkDownloadTimeRelativeMS: markB - markBeforeFetch,
                            chunkDownloadDurationMS,
                            chunkBytes,
                            kbps: Math.round(8 * chunkBytes / (chunkDownloadDurationMS / 1e3)),
                            bufferLevel: dashMetrics.getCurrentBufferLevel(request.mediaType)
                          });
                        }
                        if (done) {
                          var fetchDuration = markB - markBeforeFetch;
                          var bytesAllChunks = measurement.reduce(function(prev, curr) {
                            return prev + curr.chunkBytes;
                          }, 0);
                          lowLatencyThroughputModel.addMeasurement(request, fetchDuration, measurement, requestTime, throughputCapacityDelayMS, responseHeaders);
                          httpRequest.progress({
                            loaded: bytesAllChunks,
                            total: bytesAllChunks,
                            lengthComputable: true,
                            time: lowLatencyThroughputModel.getEstimatedDownloadDurationMS(request),
                            stream: true
                          });
                          return;
                        }
                        markA = Date.now();
                        return reader.read().then(processFetch);
                      });
                    };
                    var markA = markBeforeFetch;
                    var markB = 0;
                    var _response$body$tee = response.body.tee(), _response$body$tee2 = _slicedToArray(_response$body$tee, 2), forMeasure = _response$body$tee2[0], forConsumer = _response$body$tee2[1];
                    fetchMeassurement(forMeasure);
                    httpRequest.reader = forConsumer.getReader();
                  } else {
                    httpRequest.reader = response.body.getReader();
                  }
                  var downloadedData = [];
                  var startTimeData = [];
                  var endTimeData = [];
                  var lastChunkWasFinished = true;
                  var processResult = function processResult2(_ref) {
                    var value2 = _ref.value, done = _ref.done;
                    if (done) {
                      if (remaining) {
                        if (calculationMode !== _constants_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].ABR_FETCH_THROUGHPUT_CALCULATION_AAST) {
                          var calculatedThroughput = null;
                          if (calculationMode === _constants_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING) {
                            calculatedThroughput = calculateThroughputByChunkData(startTimeData, endTimeData);
                          }
                          httpRequest.progress({
                            loaded: bytesReceived,
                            total: isNaN(totalBytes) ? bytesReceived : totalBytes,
                            lengthComputable: true,
                            time: calculateDownloadedTime(downloadedData, bytesReceived),
                            throughput: calculatedThroughput,
                            stream: true
                          });
                        }
                        httpRequest.response.response = remaining.buffer;
                      }
                      httpRequest.onload();
                      httpRequest.onend();
                      return;
                    }
                    if (value2 && value2.length > 0) {
                      remaining = concatTypedArray(remaining, value2);
                      bytesReceived += value2.length;
                      downloadedData.push({
                        ts: Date.now(),
                        bytes: value2.length
                      });
                      if (calculationMode === _constants_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING && lastChunkWasFinished) {
                        var _boxesInfo = boxParser.findLastTopIsoBoxCompleted(["moof"], remaining, offset);
                        if (_boxesInfo.found) {
                          lastChunkWasFinished = false;
                          startTimeData.push({
                            ts: performance.now(),
                            bytes: value2.length
                          });
                        }
                      }
                      var boxesInfo = boxParser.findLastTopIsoBoxCompleted(["moov", "mdat"], remaining, offset);
                      if (boxesInfo.found) {
                        var end = boxesInfo.lastCompletedOffset + boxesInfo.size;
                        if (calculationMode === _constants_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING && !lastChunkWasFinished) {
                          lastChunkWasFinished = true;
                          endTimeData.push({
                            ts: performance.now(),
                            bytes: remaining.length
                          });
                        }
                        var data;
                        if (end === remaining.length) {
                          data = remaining;
                          remaining = new Uint8Array();
                        } else {
                          data = new Uint8Array(remaining.subarray(0, end));
                          remaining = remaining.subarray(end);
                        }
                        httpRequest.progress({
                          data: data.buffer,
                          lengthComputable: false,
                          noTrace: true
                        });
                        offset = 0;
                      } else {
                        offset = boxesInfo.lastCompletedOffset;
                        if (!signaledFirstByte) {
                          httpRequest.progress({
                            lengthComputable: false,
                            noTrace: true
                          });
                          signaledFirstByte = true;
                        }
                      }
                    }
                    read2(httpRequest, processResult2);
                  };
                  read2(httpRequest, processResult);
                })["catch"](function(e) {
                  if (httpRequest.onerror) {
                    httpRequest.onerror(e);
                  }
                });
              });
            }
            function read2(httpRequest, processResult) {
              httpRequest.reader.read().then(processResult)["catch"](function(e) {
                if (httpRequest.onerror && httpRequest.response.status === 200) {
                  httpRequest.onerror(e);
                }
              });
            }
            function concatTypedArray(remaining, data) {
              if (remaining.length === 0) {
                return data;
              }
              var result = new Uint8Array(remaining.length + data.length);
              result.set(remaining);
              result.set(data, remaining.length);
              return result;
            }
            function abort(request) {
              if (request.abortController) {
                request.abortController.abort();
              } else if (request.reader) {
                try {
                  request.reader.cancel();
                  request.onabort();
                } catch (e) {
                }
              }
            }
            function calculateDownloadedTime(downloadedData, bytesReceived) {
              try {
                downloadedData = downloadedData.filter(function(data) {
                  return data.bytes > bytesReceived / 4 / downloadedData.length;
                });
                if (downloadedData.length > 1) {
                  var time = 0;
                  var avgTimeDistance = (downloadedData[downloadedData.length - 1].ts - downloadedData[0].ts) / downloadedData.length;
                  downloadedData.forEach(function(data, index) {
                    var next = downloadedData[index + 1];
                    if (next) {
                      var distance = next.ts - data.ts;
                      time += distance < avgTimeDistance ? distance : 0;
                    }
                  });
                  return time;
                }
                return null;
              } catch (e) {
                return null;
              }
            }
            function calculateThroughputByChunkData(startTimeData, endTimeData) {
              try {
                var datum, datumE;
                datum = startTimeData.filter(function(data, i4) {
                  return i4 < startTimeData.length - 1;
                });
                datumE = endTimeData.filter(function(dataE, i4) {
                  return i4 < endTimeData.length - 1;
                });
                var chunkThroughputs = [];
                if (datum.length > 1) {
                  var shortDurationBytesReceived = 0;
                  var shortDurationStartTime = 0;
                  for (var i3 = 0; i3 < datum.length; i3++) {
                    if (datum[i3] && datumE[i3]) {
                      var chunkDownloadTime = datumE[i3].ts - datum[i3].ts;
                      if (chunkDownloadTime > 1) {
                        chunkThroughputs.push(8 * datumE[i3].bytes / chunkDownloadTime);
                      } else {
                        if (shortDurationStartTime === 0) {
                          shortDurationStartTime = datum[i3].ts;
                        }
                        var cumulatedChunkDownloadTime = datumE[i3].ts - shortDurationStartTime;
                        if (cumulatedChunkDownloadTime > 1) {
                          chunkThroughputs.push(8 * shortDurationBytesReceived / cumulatedChunkDownloadTime);
                          shortDurationBytesReceived = 0;
                          shortDurationStartTime = 0;
                        } else {
                          shortDurationBytesReceived += datumE[i3].bytes;
                        }
                      }
                    }
                  }
                  if (chunkThroughputs.length > 0) {
                    var sumOfChunkThroughputs = chunkThroughputs.reduce(function(a4, b3) {
                      return a4 + b3;
                    }, 0);
                    return sumOfChunkThroughputs / chunkThroughputs.length;
                  }
                }
                return null;
              } catch (e) {
                return null;
              }
            }
            instance = {
              load,
              abort,
              calculateDownloadedTime,
              setup
            };
            return instance;
          }
          FetchLoader.__dashjs_factory_name = "FetchLoader";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(FetchLoader);
          __webpack_exports__["default"] = factory;
        },
        "./src/streaming/net/HTTPLoader.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _XHRLoader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/net/XHRLoader.js");
          var _FetchLoader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/net/FetchLoader.js");
          var _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/vo/metrics/HTTPRequest.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _vo_DashJSError__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/vo/DashJSError.js");
          var _models_CmcdModel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/models/CmcdModel.js");
          var _core_Utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/core/Utils.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/core/Debug.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/core/events/Events.js");
          var _core_Settings__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/core/Settings.js");
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _models_LowLatencyThroughputModel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/streaming/models/LowLatencyThroughputModel.js");
          function _defineProperty(obj, key, value) {
            if (key in obj) {
              Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
            } else {
              obj[key] = value;
            }
            return obj;
          }
          function HTTPLoader(cfg) {
            cfg = cfg || {};
            var context = this.context;
            var errHandler = cfg.errHandler;
            var dashMetrics = cfg.dashMetrics;
            var mediaPlayerModel = cfg.mediaPlayerModel;
            var requestModifier = cfg.requestModifier;
            var boxParser = cfg.boxParser;
            var errors = cfg.errors;
            var requestTimeout = cfg.requestTimeout || 0;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_8__["default"])(context).getInstance();
            var settings = Object(_core_Settings__WEBPACK_IMPORTED_MODULE_10__["default"])(context).getInstance();
            var instance, requests, delayedRequests, retryRequests, downloadErrorToRequestTypeMap, cmcdModel, lowLatencyThroughputModel, logger;
            function setup() {
              var _downloadErrorToReque;
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_7__["default"])(context).getInstance().getLogger(instance);
              requests = [];
              delayedRequests = [];
              retryRequests = [];
              cmcdModel = Object(_models_CmcdModel__WEBPACK_IMPORTED_MODULE_5__["default"])(context).getInstance();
              lowLatencyThroughputModel = Object(_models_LowLatencyThroughputModel__WEBPACK_IMPORTED_MODULE_12__["default"])(context).getInstance();
              downloadErrorToRequestTypeMap = (_downloadErrorToReque = {}, _defineProperty(_downloadErrorToReque, _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_2__["HTTPRequest"].MPD_TYPE, errors.DOWNLOAD_ERROR_ID_MANIFEST_CODE), _defineProperty(_downloadErrorToReque, _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_2__["HTTPRequest"].XLINK_EXPANSION_TYPE, errors.DOWNLOAD_ERROR_ID_XLINK_CODE), _defineProperty(_downloadErrorToReque, _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_2__["HTTPRequest"].INIT_SEGMENT_TYPE, errors.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE), _defineProperty(_downloadErrorToReque, _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_2__["HTTPRequest"].MEDIA_SEGMENT_TYPE, errors.DOWNLOAD_ERROR_ID_CONTENT_CODE), _defineProperty(_downloadErrorToReque, _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_2__["HTTPRequest"].INDEX_SEGMENT_TYPE, errors.DOWNLOAD_ERROR_ID_CONTENT_CODE), _defineProperty(_downloadErrorToReque, _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_2__["HTTPRequest"].BITSTREAM_SWITCHING_SEGMENT_TYPE, errors.DOWNLOAD_ERROR_ID_CONTENT_CODE), _defineProperty(_downloadErrorToReque, _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_2__["HTTPRequest"].OTHER_TYPE, errors.DOWNLOAD_ERROR_ID_CONTENT_CODE), _downloadErrorToReque);
            }
            function internalLoad(config, remainingAttempts) {
              var request = config.request;
              var traces = [];
              var firstProgress = true;
              var needFailureReport = true;
              var requestStartTime = new Date();
              var lastTraceTime = requestStartTime;
              var lastTraceReceivedCount = 0;
              var httpRequest;
              if (!requestModifier || !dashMetrics || !errHandler) {
                throw new Error("config object is not correct or missing");
              }
              var handleLoaded = function handleLoaded2(success) {
                needFailureReport = false;
                request.requestStartDate = requestStartTime;
                request.requestEndDate = new Date();
                request.firstByteDate = request.firstByteDate || requestStartTime;
                if (!request.checkExistenceOnly) {
                  var responseUrl = httpRequest.response ? httpRequest.response.responseURL : null;
                  var responseStatus = httpRequest.response ? httpRequest.response.status : null;
                  var responseHeaders = httpRequest.response && httpRequest.response.getAllResponseHeaders ? httpRequest.response.getAllResponseHeaders() : httpRequest.response ? httpRequest.response.responseHeaders : [];
                  dashMetrics.addHttpRequest(request, responseUrl, responseStatus, responseHeaders, success ? traces : null);
                  if (request.type === _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_2__["HTTPRequest"].MPD_TYPE) {
                    dashMetrics.addManifestUpdate(request);
                  }
                }
              };
              var onloadend = function onloadend2() {
                if (requests.indexOf(httpRequest) === -1) {
                  return;
                } else {
                  requests.splice(requests.indexOf(httpRequest), 1);
                }
                if (needFailureReport) {
                  handleLoaded(false);
                  if (remainingAttempts > 0) {
                    try {
                      if (settings.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError && request.type === _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_2__["HTTPRequest"].MEDIA_SEGMENT_TYPE) {
                        var initialNumberOfAttempts = mediaPlayerModel.getRetryAttemptsForType(_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_2__["HTTPRequest"].MEDIA_SEGMENT_TYPE);
                        if (initialNumberOfAttempts === remainingAttempts) {
                          eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_9__["default"].ATTEMPT_BACKGROUND_SYNC);
                        }
                      }
                    } catch (e) {
                    }
                    remainingAttempts--;
                    var retryRequest = {
                      config
                    };
                    retryRequests.push(retryRequest);
                    retryRequest.timeout = setTimeout(function() {
                      if (retryRequests.indexOf(retryRequest) === -1) {
                        return;
                      } else {
                        retryRequests.splice(retryRequests.indexOf(retryRequest), 1);
                      }
                      internalLoad(config, remainingAttempts);
                    }, mediaPlayerModel.getRetryIntervalsForType(request.type));
                  } else {
                    if (request.type === _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_2__["HTTPRequest"].MSS_FRAGMENT_INFO_SEGMENT_TYPE) {
                      return;
                    }
                    errHandler.error(new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_4__["default"](downloadErrorToRequestTypeMap[request.type], request.url + " is not available", {
                      request,
                      response: httpRequest.response
                    }));
                    if (config.error) {
                      config.error(request, "error", httpRequest.response.statusText);
                    }
                    if (config.complete) {
                      config.complete(request, httpRequest.response.statusText);
                    }
                  }
                }
              };
              var progress = function progress2(event) {
                var currentTime = new Date();
                if (firstProgress) {
                  firstProgress = false;
                  if (!event.lengthComputable || event.lengthComputable && event.total !== event.loaded) {
                    request.firstByteDate = currentTime;
                  }
                }
                if (event.lengthComputable) {
                  request.bytesLoaded = event.loaded;
                  request.bytesTotal = event.total;
                }
                if (!event.noTrace) {
                  traces.push({
                    s: lastTraceTime,
                    d: event.time ? event.time : currentTime.getTime() - lastTraceTime.getTime(),
                    b: [event.loaded ? event.loaded - lastTraceReceivedCount : 0],
                    t: event.throughput
                  });
                  lastTraceTime = currentTime;
                  lastTraceReceivedCount = event.loaded;
                }
                if (config.progress && event) {
                  config.progress(event);
                }
              };
              var onload = function onload2() {
                if (httpRequest.response.status >= 200 && httpRequest.response.status <= 299) {
                  handleLoaded(true);
                  if (config.success) {
                    config.success(httpRequest.response.response, httpRequest.response.statusText, httpRequest.response.responseURL);
                  }
                  if (config.complete) {
                    config.complete(request, httpRequest.response.statusText);
                  }
                }
              };
              var onabort = function onabort2() {
                if (config.abort) {
                  config.abort(request);
                }
              };
              var ontimeout = function ontimeout2(event) {
                var timeoutMessage;
                if (event.lengthComputable) {
                  var percentageComplete = event.loaded / event.total * 100;
                  timeoutMessage = "Request timeout: loaded: " + event.loaded + ", out of: " + event.total + " : " + percentageComplete.toFixed(3) + "% Completed";
                } else {
                  timeoutMessage = "Request timeout: non-computable download size";
                }
                logger.warn(timeoutMessage);
              };
              var loader;
              if (settings.get().streaming.lowLatencyEnabled && window.fetch && request.responseType === "arraybuffer" && request.type === _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_2__["HTTPRequest"].MEDIA_SEGMENT_TYPE) {
                loader = Object(_FetchLoader__WEBPACK_IMPORTED_MODULE_1__["default"])(context).create({
                  requestModifier,
                  lowLatencyThroughputModel,
                  boxParser
                });
                loader.setup({
                  dashMetrics
                });
              } else {
                loader = Object(_XHRLoader__WEBPACK_IMPORTED_MODULE_0__["default"])(context).create({
                  requestModifier
                });
              }
              var headers = null;
              var modifiedUrl = requestModifier.modifyRequestURL(request.url);
              if (settings.get().streaming.cmcd && settings.get().streaming.cmcd.enabled) {
                var cmcdMode = settings.get().streaming.cmcd.mode;
                if (cmcdMode === _constants_Constants__WEBPACK_IMPORTED_MODULE_11__["default"].CMCD_MODE_QUERY) {
                  var additionalQueryParameter = _getAdditionalQueryParameter(request);
                  modifiedUrl = _core_Utils__WEBPACK_IMPORTED_MODULE_6__["default"].addAditionalQueryParameterToUrl(modifiedUrl, additionalQueryParameter);
                } else if (cmcdMode === _constants_Constants__WEBPACK_IMPORTED_MODULE_11__["default"].CMCD_MODE_HEADER) {
                  headers = cmcdModel.getHeaderParameters(request);
                }
              }
              request.url = modifiedUrl;
              var verb = request.checkExistenceOnly ? _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_2__["HTTPRequest"].HEAD : _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_2__["HTTPRequest"].GET;
              var withCredentials = mediaPlayerModel.getXHRWithCredentialsForType(request.type);
              httpRequest = {
                url: modifiedUrl,
                method: verb,
                withCredentials,
                request,
                onload,
                onend: onloadend,
                onerror: onloadend,
                progress,
                onabort,
                ontimeout,
                loader,
                timeout: requestTimeout,
                headers
              };
              var now = new Date().getTime();
              if (isNaN(request.delayLoadingTime) || now >= request.delayLoadingTime) {
                requests.push(httpRequest);
                loader.load(httpRequest);
              } else {
                var delayedRequest = {
                  httpRequest
                };
                delayedRequests.push(delayedRequest);
                delayedRequest.delayTimeout = setTimeout(function() {
                  if (delayedRequests.indexOf(delayedRequest) === -1) {
                    return;
                  } else {
                    delayedRequests.splice(delayedRequests.indexOf(delayedRequest), 1);
                  }
                  try {
                    requestStartTime = new Date();
                    lastTraceTime = requestStartTime;
                    requests.push(delayedRequest.httpRequest);
                    loader.load(delayedRequest.httpRequest);
                  } catch (e) {
                    delayedRequest.httpRequest.onerror();
                  }
                }, request.delayLoadingTime - now);
              }
            }
            function _getAdditionalQueryParameter(request) {
              try {
                var additionalQueryParameter = [];
                var cmcdQueryParameter = cmcdModel.getQueryParameter(request);
                if (cmcdQueryParameter) {
                  additionalQueryParameter.push(cmcdQueryParameter);
                }
                return additionalQueryParameter;
              } catch (e) {
                return [];
              }
            }
            function load(config) {
              if (config.request) {
                internalLoad(config, mediaPlayerModel.getRetryAttemptsForType(config.request.type));
              } else {
                if (config.error) {
                  config.error(config.request, "error");
                }
              }
            }
            function abort() {
              retryRequests.forEach(function(t2) {
                clearTimeout(t2.timeout);
                if (t2.config.request && t2.config.abort) {
                  t2.config.abort(t2.config.request);
                }
              });
              retryRequests = [];
              delayedRequests.forEach(function(x3) {
                return clearTimeout(x3.delayTimeout);
              });
              delayedRequests = [];
              requests.forEach(function(x3) {
                if (x3.request.type === _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_2__["HTTPRequest"].MSS_FRAGMENT_INFO_SEGMENT_TYPE) {
                  return;
                }
                x3.onloadend = x3.onerror = x3.onprogress = void 0;
                x3.loader.abort(x3);
              });
              requests = [];
            }
            instance = {
              load,
              abort
            };
            setup();
            return instance;
          }
          HTTPLoader.__dashjs_factory_name = "HTTPLoader";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_3__["default"].getClassFactory(HTTPLoader);
          __webpack_exports__["default"] = factory;
        },
        "./src/streaming/net/SchemeLoaderFactory.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _streaming_net_HTTPLoader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/net/HTTPLoader.js");
          function SchemeLoaderFactory() {
            var instance;
            var schemeLoaderMap;
            function registerLoader(scheme, loader) {
              schemeLoaderMap[scheme] = loader;
            }
            function unregisterLoader(scheme) {
              if (schemeLoaderMap[scheme]) {
                delete schemeLoaderMap[scheme];
              }
            }
            function unregisterAllLoader() {
              schemeLoaderMap = {};
            }
            function getLoader(url) {
              for (var scheme in schemeLoaderMap) {
                if (schemeLoaderMap.hasOwnProperty(scheme) && url.startsWith(scheme)) {
                  return schemeLoaderMap[scheme];
                }
              }
              return _streaming_net_HTTPLoader__WEBPACK_IMPORTED_MODULE_1__["default"];
            }
            function reset() {
              unregisterAllLoader();
            }
            function setup() {
              reset();
            }
            setup();
            instance = {
              getLoader,
              registerLoader,
              unregisterLoader,
              unregisterAllLoader,
              reset
            };
            return instance;
          }
          SchemeLoaderFactory.__dashjs_factory_name = "SchemeLoaderFactory";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getSingletonFactory(SchemeLoaderFactory);
          __webpack_exports__["default"] = factory;
        },
        "./src/streaming/net/URLLoader.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _streaming_net_SchemeLoaderFactory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/net/SchemeLoaderFactory.js");
          function URLLoader(cfg) {
            cfg = cfg || {};
            var context = this.context;
            var instance, schemeLoaderFactory, loader;
            schemeLoaderFactory = Object(_streaming_net_SchemeLoaderFactory__WEBPACK_IMPORTED_MODULE_1__["default"])(context).getInstance();
            function load(config) {
              var loaderFactory = schemeLoaderFactory.getLoader(config && config.request ? config.request.url : null);
              loader = loaderFactory(context).create({
                errHandler: cfg.errHandler,
                mediaPlayerModel: cfg.mediaPlayerModel,
                requestModifier: cfg.requestModifier,
                dashMetrics: cfg.dashMetrics,
                boxParser: cfg.boxParser ? cfg.boxParser : null,
                constants: cfg.constants ? cfg.constants : null,
                dashConstants: cfg.dashConstants ? cfg.dashConstants : null,
                urlUtils: cfg.urlUtils ? cfg.urlUtils : null,
                requestTimeout: !isNaN(cfg.requestTimeout) ? cfg.requestTimeout : 0,
                errors: cfg.errors
              });
              loader.load(config);
            }
            function abort() {
              if (loader) {
                loader.abort();
              }
            }
            instance = {
              load,
              abort
            };
            return instance;
          }
          URLLoader.__dashjs_factory_name = "URLLoader";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(URLLoader);
          __webpack_exports__["default"] = factory;
        },
        "./src/streaming/net/XHRLoader.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          function XHRLoader(cfg) {
            cfg = cfg || {};
            var requestModifier = cfg.requestModifier;
            var instance;
            function load(httpRequest) {
              var requestStartTime = new Date();
              var request = httpRequest.request;
              var xhr = new XMLHttpRequest();
              xhr.open(httpRequest.method, httpRequest.url, true);
              if (request.responseType) {
                xhr.responseType = request.responseType;
              }
              if (request.range) {
                xhr.setRequestHeader("Range", "bytes=" + request.range);
              }
              if (!request.requestStartDate) {
                request.requestStartDate = requestStartTime;
              }
              if (requestModifier) {
                xhr = requestModifier.modifyRequestHeader(xhr);
              }
              if (httpRequest.headers) {
                for (var header in httpRequest.headers) {
                  var value = httpRequest.headers[header];
                  if (value) {
                    xhr.setRequestHeader(header, value);
                  }
                }
              }
              xhr.withCredentials = httpRequest.withCredentials;
              xhr.onload = httpRequest.onload;
              xhr.onloadend = httpRequest.onend;
              xhr.onerror = httpRequest.onerror;
              xhr.onprogress = httpRequest.progress;
              xhr.onabort = httpRequest.onabort;
              xhr.ontimeout = httpRequest.ontimeout;
              xhr.timeout = httpRequest.timeout;
              xhr.send();
              httpRequest.response = xhr;
            }
            function abort(request) {
              var x3 = request.response;
              x3.onloadend = x3.onerror = x3.onprogress = void 0;
              x3.abort();
            }
            instance = {
              load,
              abort
            };
            return instance;
          }
          XHRLoader.__dashjs_factory_name = "XHRLoader";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(XHRLoader);
          __webpack_exports__["default"] = factory;
        },
        "./src/streaming/protection/CommonEncryption.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties3(target, props) {
            for (var i3 = 0; i3 < props.length; i3++) {
              var descriptor = props[i3];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass3(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties3(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties3(Constructor, staticProps);
            return Constructor;
          }
          var CommonEncryption = /* @__PURE__ */ function() {
            function CommonEncryption2() {
              _classCallCheck2(this, CommonEncryption2);
            }
            _createClass3(CommonEncryption2, null, [{
              key: "findCencContentProtection",
              value: function findCencContentProtection(cpArray) {
                var retVal = null;
                for (var i3 = 0; i3 < cpArray.length; ++i3) {
                  var cp = cpArray[i3];
                  if (cp.schemeIdUri.toLowerCase() === "urn:mpeg:dash:mp4protection:2011" && (cp.value.toLowerCase() === "cenc" || cp.value.toLowerCase() === "cbcs"))
                    retVal = cp;
                }
                return retVal;
              }
            }, {
              key: "getPSSHData",
              value: function getPSSHData(pssh) {
                var offset = 8;
                var view = new DataView(pssh);
                var version = view.getUint8(offset);
                offset += 20;
                if (version > 0) {
                  offset += 4 + 16 * view.getUint32(offset);
                }
                offset += 4;
                return pssh.slice(offset);
              }
            }, {
              key: "getPSSHForKeySystem",
              value: function getPSSHForKeySystem(keySystem, initData) {
                var psshList = CommonEncryption2.parsePSSHList(initData);
                if (keySystem && psshList.hasOwnProperty(keySystem.uuid.toLowerCase())) {
                  return psshList[keySystem.uuid.toLowerCase()];
                }
                return null;
              }
            }, {
              key: "parseInitDataFromContentProtection",
              value: function parseInitDataFromContentProtection(cpData, BASE64) {
                if ("pssh" in cpData) {
                  cpData.pssh.__text = cpData.pssh.__text.replace(/\r?\n|\r/g, "").replace(/\s+/g, "");
                  return BASE64.decodeArray(cpData.pssh.__text).buffer;
                }
                return null;
              }
            }, {
              key: "parsePSSHList",
              value: function parsePSSHList(data) {
                if (data === null || data === void 0)
                  return [];
                var dv = new DataView(data.buffer || data);
                var done = false;
                var pssh = {};
                var byteCursor = 0;
                while (!done) {
                  var size = void 0, nextBox = void 0, version = void 0, systemID = void 0;
                  var boxStart = byteCursor;
                  if (byteCursor >= dv.buffer.byteLength)
                    break;
                  size = dv.getUint32(byteCursor);
                  nextBox = byteCursor + size;
                  byteCursor += 4;
                  if (dv.getUint32(byteCursor) !== 1886614376) {
                    byteCursor = nextBox;
                    continue;
                  }
                  byteCursor += 4;
                  version = dv.getUint8(byteCursor);
                  if (version !== 0 && version !== 1) {
                    byteCursor = nextBox;
                    continue;
                  }
                  byteCursor++;
                  byteCursor += 3;
                  systemID = "";
                  var i3 = void 0, val = void 0;
                  for (i3 = 0; i3 < 4; i3++) {
                    val = dv.getUint8(byteCursor + i3).toString(16);
                    systemID += val.length === 1 ? "0" + val : val;
                  }
                  byteCursor += 4;
                  systemID += "-";
                  for (i3 = 0; i3 < 2; i3++) {
                    val = dv.getUint8(byteCursor + i3).toString(16);
                    systemID += val.length === 1 ? "0" + val : val;
                  }
                  byteCursor += 2;
                  systemID += "-";
                  for (i3 = 0; i3 < 2; i3++) {
                    val = dv.getUint8(byteCursor + i3).toString(16);
                    systemID += val.length === 1 ? "0" + val : val;
                  }
                  byteCursor += 2;
                  systemID += "-";
                  for (i3 = 0; i3 < 2; i3++) {
                    val = dv.getUint8(byteCursor + i3).toString(16);
                    systemID += val.length === 1 ? "0" + val : val;
                  }
                  byteCursor += 2;
                  systemID += "-";
                  for (i3 = 0; i3 < 6; i3++) {
                    val = dv.getUint8(byteCursor + i3).toString(16);
                    systemID += val.length === 1 ? "0" + val : val;
                  }
                  byteCursor += 6;
                  systemID = systemID.toLowerCase();
                  byteCursor += 4;
                  pssh[systemID] = dv.buffer.slice(boxStart, nextBox);
                  byteCursor = nextBox;
                }
                return pssh;
              }
            }]);
            return CommonEncryption2;
          }();
          __webpack_exports__["default"] = CommonEncryption;
        },
        "./src/streaming/protection/Protection.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _controllers_ProtectionController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/protection/controllers/ProtectionController.js");
          var _controllers_ProtectionKeyController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/protection/controllers/ProtectionKeyController.js");
          var _ProtectionEvents__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/protection/ProtectionEvents.js");
          var _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/protection/errors/ProtectionErrors.js");
          var _models_ProtectionModel_21Jan2015__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/protection/models/ProtectionModel_21Jan2015.js");
          var _models_ProtectionModel_3Feb2014__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/protection/models/ProtectionModel_3Feb2014.js");
          var _models_ProtectionModel_01b__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/streaming/protection/models/ProtectionModel_01b.js");
          var APIS_ProtectionModel_01b = [
            {
              generateKeyRequest: "generateKeyRequest",
              addKey: "addKey",
              cancelKeyRequest: "cancelKeyRequest",
              needkey: "needkey",
              keyerror: "keyerror",
              keyadded: "keyadded",
              keymessage: "keymessage"
            },
            {
              generateKeyRequest: "webkitGenerateKeyRequest",
              addKey: "webkitAddKey",
              cancelKeyRequest: "webkitCancelKeyRequest",
              needkey: "webkitneedkey",
              keyerror: "webkitkeyerror",
              keyadded: "webkitkeyadded",
              keymessage: "webkitkeymessage"
            }
          ];
          var APIS_ProtectionModel_3Feb2014 = [
            {
              setMediaKeys: "setMediaKeys",
              MediaKeys: "MediaKeys",
              release: "close",
              needkey: "needkey",
              error: "keyerror",
              message: "keymessage",
              ready: "keyadded",
              close: "keyclose"
            },
            {
              setMediaKeys: "msSetMediaKeys",
              MediaKeys: "MSMediaKeys",
              release: "close",
              needkey: "msneedkey",
              error: "mskeyerror",
              message: "mskeymessage",
              ready: "mskeyadded",
              close: "mskeyclose"
            }
          ];
          function Protection() {
            var instance;
            var context = this.context;
            function createProtectionSystem(config) {
              var controller = null;
              var protectionKeyController = Object(_controllers_ProtectionKeyController__WEBPACK_IMPORTED_MODULE_1__["default"])(context).getInstance();
              protectionKeyController.setConfig({
                debug: config.debug,
                BASE64: config.BASE64
              });
              protectionKeyController.initialize();
              var protectionModel = getProtectionModel(config);
              if (!controller && protectionModel) {
                controller = Object(_controllers_ProtectionController__WEBPACK_IMPORTED_MODULE_0__["default"])(context).create({
                  protectionModel,
                  protectionKeyController,
                  eventBus: config.eventBus,
                  debug: config.debug,
                  events: config.events,
                  BASE64: config.BASE64,
                  constants: config.constants,
                  cmcdModel: config.cmcdModel,
                  settings: config.settings
                });
                config.capabilities.setEncryptedMediaSupported(true);
              }
              return controller;
            }
            function getProtectionModel(config) {
              var debug = config.debug;
              var logger = debug.getLogger(instance);
              var eventBus = config.eventBus;
              var errHandler = config.errHandler;
              var videoElement = config.videoModel ? config.videoModel.getElement() : null;
              if ((!videoElement || videoElement.onencrypted !== void 0) && (!videoElement || videoElement.mediaKeys !== void 0)) {
                logger.info("EME detected on this user agent! (ProtectionModel_21Jan2015)");
                return Object(_models_ProtectionModel_21Jan2015__WEBPACK_IMPORTED_MODULE_4__["default"])(context).create({
                  debug,
                  eventBus,
                  events: config.events
                });
              } else if (getAPI(videoElement, APIS_ProtectionModel_3Feb2014)) {
                logger.info("EME detected on this user agent! (ProtectionModel_3Feb2014)");
                return Object(_models_ProtectionModel_3Feb2014__WEBPACK_IMPORTED_MODULE_5__["default"])(context).create({
                  debug,
                  eventBus,
                  events: config.events,
                  api: getAPI(videoElement, APIS_ProtectionModel_3Feb2014)
                });
              } else if (getAPI(videoElement, APIS_ProtectionModel_01b)) {
                logger.info("EME detected on this user agent! (ProtectionModel_01b)");
                return Object(_models_ProtectionModel_01b__WEBPACK_IMPORTED_MODULE_6__["default"])(context).create({
                  debug,
                  eventBus,
                  errHandler,
                  events: config.events,
                  api: getAPI(videoElement, APIS_ProtectionModel_01b)
                });
              } else {
                logger.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!");
                return null;
              }
            }
            function getAPI(videoElement, apis) {
              for (var i3 = 0; i3 < apis.length; i3++) {
                var api = apis[i3];
                if (typeof videoElement[api[Object.keys(api)[0]]] !== "function") {
                  continue;
                }
                return api;
              }
              return null;
            }
            instance = {
              createProtectionSystem
            };
            return instance;
          }
          Protection.__dashjs_factory_name = "Protection";
          var factory = dashjs.FactoryMaker.getClassFactory(Protection);
          factory.events = _ProtectionEvents__WEBPACK_IMPORTED_MODULE_2__["default"];
          factory.errors = _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"];
          dashjs.FactoryMaker.updateClassFactory(Protection.__dashjs_factory_name, factory);
          __webpack_exports__["default"] = factory;
        },
        "./src/streaming/protection/ProtectionEvents.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_events_EventsBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/events/EventsBase.js");
          function _typeof5(obj) {
            "@babel/helpers - typeof";
            if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
              _typeof5 = function _typeof6(obj2) {
                return typeof obj2;
              };
            } else {
              _typeof5 = function _typeof6(obj2) {
                return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
              };
            }
            return _typeof5(obj);
          }
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _inherits2(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            if (superClass)
              _setPrototypeOf2(subClass, superClass);
          }
          function _setPrototypeOf2(o2, p2) {
            _setPrototypeOf2 = Object.setPrototypeOf || function _setPrototypeOf3(o3, p3) {
              o3.__proto__ = p3;
              return o3;
            };
            return _setPrototypeOf2(o2, p2);
          }
          function _createSuper2(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct2();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf2(Derived), result;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf2(this).constructor;
                result = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn2(this, result);
            };
          }
          function _possibleConstructorReturn2(self2, call) {
            if (call && (_typeof5(call) === "object" || typeof call === "function")) {
              return call;
            }
            return _assertThisInitialized2(self2);
          }
          function _assertThisInitialized2(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct2() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e) {
              return false;
            }
          }
          function _getPrototypeOf2(o2) {
            _getPrototypeOf2 = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf3(o3) {
              return o3.__proto__ || Object.getPrototypeOf(o3);
            };
            return _getPrototypeOf2(o2);
          }
          var ProtectionEvents = /* @__PURE__ */ function(_EventsBase) {
            _inherits2(ProtectionEvents2, _EventsBase);
            var _super = _createSuper2(ProtectionEvents2);
            function ProtectionEvents2() {
              var _this;
              _classCallCheck2(this, ProtectionEvents2);
              _this = _super.call(this);
              _this.INTERNAL_KEY_MESSAGE = "internalKeyMessage";
              _this.INTERNAL_KEY_SYSTEM_SELECTED = "internalKeySystemSelected";
              _this.INTERNAL_KEY_STATUS_CHANGED = "internalkeyStatusChanged";
              _this.KEY_ADDED = "public_keyAdded";
              _this.KEY_ERROR = "public_keyError";
              _this.KEY_MESSAGE = "public_keyMessage";
              _this.KEY_SESSION_CLOSED = "public_keySessionClosed";
              _this.KEY_SESSION_CREATED = "public_keySessionCreated";
              _this.KEY_SESSION_REMOVED = "public_keySessionRemoved";
              _this.KEY_STATUSES_CHANGED = "public_keyStatusesChanged";
              _this.KEY_SYSTEM_ACCESS_COMPLETE = "public_keySystemAccessComplete";
              _this.KEY_SYSTEM_SELECTED = "public_keySystemSelected";
              _this.LICENSE_REQUEST_COMPLETE = "public_licenseRequestComplete";
              _this.LICENSE_REQUEST_SENDING = "public_licenseRequestSending";
              _this.NEED_KEY = "needkey";
              _this.PROTECTION_CREATED = "public_protectioncreated";
              _this.PROTECTION_DESTROYED = "public_protectiondestroyed";
              _this.SERVER_CERTIFICATE_UPDATED = "serverCertificateUpdated";
              _this.TEARDOWN_COMPLETE = "protectionTeardownComplete";
              _this.VIDEO_ELEMENT_SELECTED = "videoElementSelected";
              _this.KEY_SESSION_UPDATED = "public_keySessionUpdated";
              return _this;
            }
            return ProtectionEvents2;
          }(_core_events_EventsBase__WEBPACK_IMPORTED_MODULE_0__["default"]);
          var protectionEvents = new ProtectionEvents();
          __webpack_exports__["default"] = protectionEvents;
        },
        "./src/streaming/protection/controllers/ProtectionController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _CommonEncryption__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/protection/CommonEncryption.js");
          var _vo_MediaCapability__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/protection/vo/MediaCapability.js");
          var _vo_KeySystemConfiguration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/protection/vo/KeySystemConfiguration.js");
          var _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/protection/errors/ProtectionErrors.js");
          var _vo_DashJSError__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/vo/DashJSError.js");
          var _vo_LicenseRequest__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/protection/vo/LicenseRequest.js");
          var _vo_LicenseResponse__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/streaming/protection/vo/LicenseResponse.js");
          var _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/streaming/vo/metrics/HTTPRequest.js");
          var _core_Utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/core/Utils.js");
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/streaming/constants/Constants.js");
          function _typeof5(obj) {
            "@babel/helpers - typeof";
            if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
              _typeof5 = function _typeof6(obj2) {
                return typeof obj2;
              };
            } else {
              _typeof5 = function _typeof6(obj2) {
                return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
              };
            }
            return _typeof5(obj);
          }
          var NEEDKEY_BEFORE_INITIALIZE_RETRIES = 5;
          var NEEDKEY_BEFORE_INITIALIZE_TIMEOUT = 500;
          var LICENSE_SERVER_REQUEST_RETRIES = 3;
          var LICENSE_SERVER_REQUEST_RETRY_INTERVAL = 1e3;
          var LICENSE_SERVER_REQUEST_DEFAULT_TIMEOUT = 8e3;
          function ProtectionController(config) {
            config = config || {};
            var protectionKeyController = config.protectionKeyController;
            var protectionModel = config.protectionModel;
            var eventBus = config.eventBus;
            var events = config.events;
            var debug = config.debug;
            var BASE64 = config.BASE64;
            var constants = config.constants;
            var needkeyRetries = [];
            var cmcdModel = config.cmcdModel;
            var settings = config.settings;
            var instance, logger, pendingNeedKeyData, mediaInfoArr, protDataSet, sessionType, robustnessLevel, keySystem, licenseRequestFilters, licenseResponseFilters;
            function setup() {
              logger = debug.getLogger(instance);
              pendingNeedKeyData = [];
              mediaInfoArr = [];
              sessionType = "temporary";
              robustnessLevel = "";
              licenseRequestFilters = [];
              licenseResponseFilters = [];
            }
            function checkConfig() {
              if (!eventBus || !eventBus.hasOwnProperty("on") || !protectionKeyController || !protectionKeyController.hasOwnProperty("getSupportedKeySystemsFromContentProtection")) {
                throw new Error("Missing config parameter(s)");
              }
            }
            function initializeForMedia(mediaInfo) {
              if (!mediaInfo) {
                throw new Error("mediaInfo can not be null or undefined");
              }
              checkConfig();
              eventBus.on(events.INTERNAL_KEY_MESSAGE, onKeyMessage, this);
              eventBus.on(events.INTERNAL_KEY_STATUS_CHANGED, onKeyStatusChanged, this);
              mediaInfoArr.push(mediaInfo);
              var supportedKS = protectionKeyController.getSupportedKeySystemsFromContentProtection(mediaInfo.contentProtection);
              if (supportedKS && supportedKS.length > 0) {
                selectKeySystem(supportedKS, true);
              }
            }
            function clearMediaInfoArrayByStreamId(streamId) {
              mediaInfoArr = mediaInfoArr.filter(function(mediaInfo) {
                return mediaInfo.streamInfo.id !== streamId;
              });
            }
            function getSupportedKeySystemsFromContentProtection(cps) {
              checkConfig();
              return protectionKeyController.getSupportedKeySystemsFromContentProtection(cps);
            }
            function createKeySession(initData, cdmData) {
              var initDataForKS = _CommonEncryption__WEBPACK_IMPORTED_MODULE_0__["default"].getPSSHForKeySystem(keySystem, initData);
              var protData = getProtData(keySystem);
              if (initDataForKS) {
                if (_isInitDataDuplicate(initDataForKS)) {
                  return;
                }
                try {
                  protectionModel.createKeySession(initDataForKS, protData, getSessionType(keySystem), cdmData);
                } catch (error) {
                  eventBus.trigger(events.KEY_SESSION_CREATED, {
                    data: null,
                    error: new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_4__["default"](_errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"].KEY_SESSION_CREATED_ERROR_CODE, _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"].KEY_SESSION_CREATED_ERROR_MESSAGE + error.message)
                  });
                }
              } else if (initData) {
                protectionModel.createKeySession(initData, protData, getSessionType(keySystem), cdmData);
              } else {
                eventBus.trigger(events.KEY_SESSION_CREATED, {
                  data: null,
                  error: new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_4__["default"](_errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"].KEY_SESSION_CREATED_ERROR_CODE, _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"].KEY_SESSION_CREATED_ERROR_MESSAGE + "Selected key system is " + (keySystem ? keySystem.systemString : null) + ".  needkey/encrypted event contains no initData corresponding to that key system!")
                });
              }
            }
            function _isInitDataDuplicate(initDataForKS) {
              if (!initDataForKS) {
                return false;
              }
              try {
                var currentInitData = protectionModel.getAllInitData();
                for (var i3 = 0; i3 < currentInitData.length; i3++) {
                  if (protectionKeyController.initDataEquals(initDataForKS, currentInitData[i3])) {
                    logger.debug("DRM: Ignoring initData because we have already seen it!");
                    return true;
                  }
                }
                return false;
              } catch (e) {
                return false;
              }
            }
            function loadKeySession(sessionID, initData) {
              checkConfig();
              protectionModel.loadKeySession(sessionID, initData, getSessionType(keySystem));
            }
            function removeKeySession(sessionToken) {
              checkConfig();
              protectionModel.removeKeySession(sessionToken);
            }
            function closeKeySession(sessionToken) {
              checkConfig();
              protectionModel.closeKeySession(sessionToken);
            }
            function setServerCertificate(serverCertificate) {
              checkConfig();
              protectionModel.setServerCertificate(serverCertificate);
            }
            function setMediaElement(element) {
              checkConfig();
              if (element) {
                protectionModel.setMediaElement(element);
                eventBus.on(events.NEED_KEY, onNeedKey, this);
              } else if (element === null) {
                protectionModel.setMediaElement(element);
                eventBus.off(events.NEED_KEY, onNeedKey, this);
              }
            }
            function setSessionType(value) {
              sessionType = value;
            }
            function setRobustnessLevel(level) {
              robustnessLevel = level;
            }
            function setProtectionData(data) {
              protDataSet = data;
              protectionKeyController.setProtectionData(data);
            }
            function stop() {
              if (protectionModel) {
                protectionModel.stop();
              }
            }
            function reset() {
              checkConfig();
              licenseRequestFilters = [];
              licenseResponseFilters = [];
              eventBus.off(events.INTERNAL_KEY_MESSAGE, onKeyMessage, this);
              eventBus.off(events.INTERNAL_KEY_STATUS_CHANGED, onKeyStatusChanged, this);
              setMediaElement(null);
              keySystem = void 0;
              if (protectionModel) {
                protectionModel.reset();
                protectionModel = null;
              }
              needkeyRetries.forEach(function(retryTimeout) {
                return clearTimeout(retryTimeout);
              });
              needkeyRetries = [];
              mediaInfoArr = [];
            }
            function getProtData(keySystem2) {
              var protData = null;
              if (keySystem2) {
                var keySystemString = keySystem2.systemString;
                if (protDataSet) {
                  protData = keySystemString in protDataSet ? protDataSet[keySystemString] : null;
                }
              }
              return protData;
            }
            function getKeySystemConfiguration(keySystem2) {
              var protData = getProtData(keySystem2);
              var audioCapabilities = [];
              var videoCapabilities = [];
              var audioRobustness = protData && protData.audioRobustness && protData.audioRobustness.length > 0 ? protData.audioRobustness : robustnessLevel;
              var videoRobustness = protData && protData.videoRobustness && protData.videoRobustness.length > 0 ? protData.videoRobustness : robustnessLevel;
              var ksSessionType = getSessionType(keySystem2);
              var distinctiveIdentifier = protData && protData.distinctiveIdentifier ? protData.distinctiveIdentifier : "optional";
              var persistentState = protData && protData.persistentState ? protData.persistentState : ksSessionType === "temporary" ? "optional" : "required";
              mediaInfoArr.forEach(function(media) {
                if (media.type === constants.AUDIO) {
                  audioCapabilities.push(new _vo_MediaCapability__WEBPACK_IMPORTED_MODULE_1__["default"](media.codec, audioRobustness));
                } else if (media.type === constants.VIDEO) {
                  videoCapabilities.push(new _vo_MediaCapability__WEBPACK_IMPORTED_MODULE_1__["default"](media.codec, videoRobustness));
                }
              });
              return new _vo_KeySystemConfiguration__WEBPACK_IMPORTED_MODULE_2__["default"](audioCapabilities, videoCapabilities, distinctiveIdentifier, persistentState, [ksSessionType]);
            }
            function getSessionType(keySystem2) {
              var protData = getProtData(keySystem2);
              var ksSessionType = protData && protData.sessionType ? protData.sessionType : sessionType;
              return ksSessionType;
            }
            function selectKeySystem(supportedKS, fromManifest) {
              supportedKS = supportedKS.sort(function(ksA, ksB) {
                var indexA = protDataSet && protDataSet[ksA.ks.systemString] && protDataSet[ksA.ks.systemString].priority >= 0 ? protDataSet[ksA.ks.systemString].priority : supportedKS.length;
                var indexB = protDataSet && protDataSet[ksB.ks.systemString] && protDataSet[ksB.ks.systemString].priority >= 0 ? protDataSet[ksB.ks.systemString].priority : supportedKS.length;
                return indexA - indexB;
              });
              if (keySystem === void 0) {
                _selectInitialKeySystem(supportedKS, fromManifest);
              } else if (keySystem) {
                _selectWithExistingKeySystem(supportedKS, fromManifest);
              } else {
                pendingNeedKeyData.push(supportedKS);
              }
            }
            function _selectWithExistingKeySystem(supportedKS, fromManifest) {
              var self2 = this;
              var requestedKeySystems = [];
              var ksIdx = supportedKS.findIndex(function(entry) {
                return entry.ks === keySystem;
              });
              if (ksIdx === -1 || !supportedKS[ksIdx].initData) {
                return;
              }
              var initDataForKs = _CommonEncryption__WEBPACK_IMPORTED_MODULE_0__["default"].getPSSHForKeySystem(keySystem, supportedKS[ksIdx].initData);
              if (_isInitDataDuplicate(initDataForKs)) {
                return;
              }
              requestedKeySystems.push({
                ks: supportedKS[ksIdx].ks,
                configs: [getKeySystemConfiguration(keySystem)]
              });
              var onKeySystemAccessComplete = function onKeySystemAccessComplete2(event) {
                eventBus.off(events.KEY_SYSTEM_ACCESS_COMPLETE, onKeySystemAccessComplete2, self2);
                if (event.error) {
                  if (!fromManifest) {
                    eventBus.trigger(events.KEY_SYSTEM_SELECTED, {
                      error: new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_4__["default"](_errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"].KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE, _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"].KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE + event.error)
                    });
                  }
                } else {
                  logger.info("DRM: KeySystem Access Granted");
                  eventBus.trigger(events.KEY_SYSTEM_SELECTED, {
                    data: event.data
                  });
                  var protData = getProtData(keySystem);
                  if (protectionKeyController.isClearKey(keySystem)) {
                    if (protData && protData.hasOwnProperty("clearkeys")) {
                      var initData = {
                        kids: Object.keys(protData.clearkeys)
                      };
                      supportedKS[ksIdx].initData = new TextEncoder().encode(JSON.stringify(initData));
                    }
                  }
                  if (supportedKS[ksIdx].sessionId) {
                    loadKeySession(supportedKS[ksIdx].sessionId, supportedKS[ksIdx].initData);
                  } else if (supportedKS[ksIdx].initData) {
                    createKeySession(supportedKS[ksIdx].initData, supportedKS[ksIdx].cdmData);
                  }
                }
              };
              eventBus.on(events.KEY_SYSTEM_ACCESS_COMPLETE, onKeySystemAccessComplete, self2);
              protectionModel.requestKeySystemAccess(requestedKeySystems);
            }
            function _selectInitialKeySystem(supportedKS, fromManifest) {
              var self2 = this;
              var requestedKeySystems = [];
              var ksIdx;
              keySystem = null;
              pendingNeedKeyData.push(supportedKS);
              for (var i3 = 0; i3 < supportedKS.length; i3++) {
                requestedKeySystems.push({
                  ks: supportedKS[i3].ks,
                  configs: [getKeySystemConfiguration(supportedKS[i3].ks)]
                });
              }
              var keySystemAccess;
              var onKeySystemAccessComplete = function onKeySystemAccessComplete2(event) {
                eventBus.off(events.KEY_SYSTEM_ACCESS_COMPLETE, onKeySystemAccessComplete2, self2);
                if (event.error) {
                  keySystem = void 0;
                  eventBus.off(events.INTERNAL_KEY_SYSTEM_SELECTED, onKeySystemSelected, self2);
                  if (!fromManifest) {
                    eventBus.trigger(events.KEY_SYSTEM_SELECTED, {
                      data: null,
                      error: new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_4__["default"](_errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"].KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE, _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"].KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE + event.error)
                    });
                  }
                } else {
                  keySystemAccess = event.data;
                  logger.info("DRM: KeySystem Access Granted (" + keySystemAccess.keySystem.systemString + ")!  Selecting key system...");
                  protectionModel.selectKeySystem(keySystemAccess);
                }
              };
              var onKeySystemSelected = function onKeySystemSelected2(event) {
                eventBus.off(events.INTERNAL_KEY_SYSTEM_SELECTED, onKeySystemSelected2, self2);
                eventBus.off(events.KEY_SYSTEM_ACCESS_COMPLETE, onKeySystemAccessComplete, self2);
                if (!event.error) {
                  if (!protectionModel) {
                    return;
                  }
                  keySystem = protectionModel.getKeySystem();
                  eventBus.trigger(events.KEY_SYSTEM_SELECTED, {
                    data: keySystemAccess
                  });
                  var protData = getProtData(keySystem);
                  if (protData && protData.serverCertificate && protData.serverCertificate.length > 0) {
                    protectionModel.setServerCertificate(BASE64.decodeArray(protData.serverCertificate).buffer);
                  }
                  for (var _i = 0; _i < pendingNeedKeyData.length; _i++) {
                    for (ksIdx = 0; ksIdx < pendingNeedKeyData[_i].length; ksIdx++) {
                      if (keySystem === pendingNeedKeyData[_i][ksIdx].ks) {
                        if (protectionKeyController.isClearKey(keySystem)) {
                          if (protData && protData.hasOwnProperty("clearkeys")) {
                            var initData = {
                              kids: Object.keys(protData.clearkeys)
                            };
                            pendingNeedKeyData[_i][ksIdx].initData = new TextEncoder().encode(JSON.stringify(initData));
                          }
                        }
                        if (pendingNeedKeyData[_i][ksIdx].sessionId) {
                          loadKeySession(pendingNeedKeyData[_i][ksIdx].sessionId, pendingNeedKeyData[_i][ksIdx].initData);
                        } else if (pendingNeedKeyData[_i][ksIdx].initData !== null) {
                          createKeySession(pendingNeedKeyData[_i][ksIdx].initData, pendingNeedKeyData[_i][ksIdx].cdmData);
                        }
                        break;
                      }
                    }
                  }
                } else {
                  keySystem = void 0;
                  if (!fromManifest) {
                    eventBus.trigger(events.KEY_SYSTEM_SELECTED, {
                      data: null,
                      error: new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_4__["default"](_errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"].KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE, _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"].KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE + "Error selecting key system! -- " + event.error)
                    });
                  }
                }
              };
              eventBus.on(events.INTERNAL_KEY_SYSTEM_SELECTED, onKeySystemSelected, self2);
              eventBus.on(events.KEY_SYSTEM_ACCESS_COMPLETE, onKeySystemAccessComplete, self2);
              protectionModel.requestKeySystemAccess(requestedKeySystems);
            }
            function sendLicenseRequestCompleteEvent(data, error) {
              eventBus.trigger(events.LICENSE_REQUEST_COMPLETE, {
                data,
                error
              });
            }
            function onKeyStatusChanged(e) {
              if (e.error) {
                eventBus.trigger(events.KEY_STATUSES_CHANGED, {
                  data: null,
                  error: e.error
                });
              } else {
                logger.debug("DRM: key status = " + e.status);
              }
            }
            function onKeyMessage(e) {
              logger.debug("DRM: onKeyMessage");
              var keyMessage = e.data;
              eventBus.trigger(events.KEY_MESSAGE, {
                data: keyMessage
              });
              var messageType = keyMessage.messageType ? keyMessage.messageType : "license-request";
              var message = keyMessage.message;
              var sessionToken = keyMessage.sessionToken;
              var protData = getProtData(keySystem);
              var keySystemString = keySystem ? keySystem.systemString : null;
              var licenseServerData = protectionKeyController.getLicenseServer(keySystem, protData, messageType);
              var eventData = {
                sessionToken,
                messageType
              };
              if (!message || message.byteLength === 0) {
                sendLicenseRequestCompleteEvent(eventData, new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_4__["default"](_errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"].MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE, _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"].MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE));
                return;
              }
              if (!licenseServerData) {
                logger.debug("DRM: License server request not required for this message (type = " + e.data.messageType + ").  Session ID = " + sessionToken.getSessionID());
                sendLicenseRequestCompleteEvent(eventData);
                return;
              }
              if (protectionKeyController.isClearKey(keySystem)) {
                var clearkeys = protectionKeyController.processClearKeyLicenseRequest(keySystem, protData, message);
                if (clearkeys) {
                  logger.debug("DRM: ClearKey license request handled by application!");
                  sendLicenseRequestCompleteEvent(eventData);
                  protectionModel.updateKeySession(sessionToken, clearkeys);
                  return;
                }
              }
              var url = null;
              if (protData && protData.serverURL) {
                var serverURL = protData.serverURL;
                if (typeof serverURL === "string" && serverURL !== "") {
                  url = serverURL;
                } else if (_typeof5(serverURL) === "object" && serverURL.hasOwnProperty(messageType)) {
                  url = serverURL[messageType];
                }
              } else if (protData && protData.laURL && protData.laURL !== "") {
                url = protData.laURL;
              } else {
                if (protectionKeyController.isClearKey(keySystem)) {
                  url = keySystem.getLicenseServerUrlFromMediaInfo(mediaInfoArr);
                } else {
                  var psshData = _CommonEncryption__WEBPACK_IMPORTED_MODULE_0__["default"].getPSSHData(sessionToken.initData);
                  url = keySystem.getLicenseServerURLFromInitData(psshData);
                  if (!url) {
                    url = e.data.laURL;
                  }
                }
              }
              url = licenseServerData.getServerURLFromMessage(url, message, messageType);
              if (!url) {
                sendLicenseRequestCompleteEvent(eventData, new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_4__["default"](_errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"].MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE, _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"].MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE));
                return;
              }
              var reqHeaders = {};
              var withCredentials = false;
              var updateHeaders = function updateHeaders2(headers) {
                if (headers) {
                  for (var key in headers) {
                    if (key.toLowerCase() === "authorization") {
                      withCredentials = true;
                    }
                    reqHeaders[key] = headers[key];
                  }
                }
              };
              if (protData) {
                updateHeaders(protData.httpRequestHeaders);
              }
              updateHeaders(keySystem.getRequestHeadersFromMessage(message));
              if (protData && typeof protData.withCredentials == "boolean") {
                withCredentials = protData.withCredentials;
              }
              var reportError = function reportError2(xhr, eventData2, keySystemString2, messageType2) {
                var errorMsg = xhr.response ? licenseServerData.getErrorResponse(xhr.response, keySystemString2, messageType2) : "NONE";
                sendLicenseRequestCompleteEvent(eventData2, new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_4__["default"](_errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"].MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE, _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"].MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE + keySystemString2 + ' update, XHR complete. status is "' + xhr.statusText + '" (' + xhr.status + "), readyState is " + xhr.readyState + ".  Response is " + errorMsg));
              };
              var onLoad = function onLoad2(xhr) {
                if (!protectionModel) {
                  return;
                }
                if (xhr.status >= 200 && xhr.status <= 299) {
                  var licenseResponse = new _vo_LicenseResponse__WEBPACK_IMPORTED_MODULE_6__["default"](xhr.responseURL, _core_Utils__WEBPACK_IMPORTED_MODULE_8__["default"].parseHttpHeaders(xhr.getAllResponseHeaders ? xhr.getAllResponseHeaders() : null), xhr.response);
                  applyFilters(licenseResponseFilters, licenseResponse).then(function() {
                    var licenseMessage = licenseServerData.getLicenseMessage(licenseResponse.data, keySystemString, messageType);
                    if (licenseMessage !== null) {
                      sendLicenseRequestCompleteEvent(eventData);
                      protectionModel.updateKeySession(sessionToken, licenseMessage);
                    } else {
                      reportError(xhr, eventData, keySystemString, messageType);
                    }
                  });
                } else {
                  reportError(xhr, eventData, keySystemString, messageType);
                }
              };
              var onAbort = function onAbort2(xhr) {
                sendLicenseRequestCompleteEvent(eventData, new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_4__["default"](_errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"].MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE, _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"].MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE + keySystemString + ' update, XHR aborted. status is "' + xhr.statusText + '" (' + xhr.status + "), readyState is " + xhr.readyState));
              };
              var onError = function onError2(xhr) {
                sendLicenseRequestCompleteEvent(eventData, new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_4__["default"](_errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"].MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE, _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"].MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE + keySystemString + ' update, XHR error. status is "' + xhr.statusText + '" (' + xhr.status + "), readyState is " + xhr.readyState));
              };
              var reqPayload = keySystem.getLicenseRequestFromMessage(message);
              var reqMethod = licenseServerData.getHTTPMethod(messageType);
              var responseType = licenseServerData.getResponseType(keySystemString, messageType);
              var timeout = protData && !isNaN(protData.httpTimeout) ? protData.httpTimeout : LICENSE_SERVER_REQUEST_DEFAULT_TIMEOUT;
              var sessionId = sessionToken.getSessionID() || null;
              var licenseRequest = new _vo_LicenseRequest__WEBPACK_IMPORTED_MODULE_5__["default"](url, reqMethod, responseType, reqHeaders, withCredentials, messageType, sessionId, reqPayload);
              var retryAttempts = !isNaN(settings.get().streaming.retryAttempts[_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_7__["HTTPRequest"].LICENSE]) ? settings.get().streaming.retryAttempts[_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_7__["HTTPRequest"].LICENSE] : LICENSE_SERVER_REQUEST_RETRIES;
              applyFilters(licenseRequestFilters, licenseRequest).then(function() {
                doLicenseRequest(licenseRequest, retryAttempts, timeout, onLoad, onAbort, onError);
              });
            }
            function doLicenseRequest(request, retriesCount, timeout, onLoad, onAbort, onError) {
              var xhr = new XMLHttpRequest();
              if (settings.get().streaming.cmcd && settings.get().streaming.cmcd.enabled) {
                var cmcdMode = settings.get().streaming.cmcd.mode;
                if (cmcdMode === _constants_Constants__WEBPACK_IMPORTED_MODULE_9__["default"].CMCD_MODE_QUERY) {
                  var cmcdParams = cmcdModel.getQueryParameter({
                    url: request.url,
                    type: _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_7__["HTTPRequest"].LICENSE
                  });
                  if (cmcdParams) {
                    request.url = _core_Utils__WEBPACK_IMPORTED_MODULE_8__["default"].addAditionalQueryParameterToUrl(request.url, [cmcdParams]);
                  }
                }
              }
              xhr.open(request.method, request.url, true);
              xhr.responseType = request.responseType;
              xhr.withCredentials = request.withCredentials;
              if (timeout > 0) {
                xhr.timeout = timeout;
              }
              for (var key in request.headers) {
                xhr.setRequestHeader(key, request.headers[key]);
              }
              if (settings.get().streaming.cmcd && settings.get().streaming.cmcd.enabled) {
                var _cmcdMode = settings.get().streaming.cmcd.mode;
                if (_cmcdMode === _constants_Constants__WEBPACK_IMPORTED_MODULE_9__["default"].CMCD_MODE_HEADER) {
                  var cmcdHeaders = cmcdModel.getHeaderParameters({
                    url: request.url,
                    type: _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_7__["HTTPRequest"].LICENSE
                  });
                  if (cmcdHeaders) {
                    for (var header in cmcdHeaders) {
                      var value = cmcdHeaders[header];
                      if (value) {
                        xhr.setRequestHeader(header, value);
                      }
                    }
                  }
                }
              }
              var retryRequest = function retryRequest2() {
                retriesCount--;
                var retryInterval = !isNaN(settings.get().streaming.retryIntervals[_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_7__["HTTPRequest"].LICENSE]) ? settings.get().streaming.retryIntervals[_vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_7__["HTTPRequest"].LICENSE] : LICENSE_SERVER_REQUEST_RETRY_INTERVAL;
                setTimeout(function() {
                  doLicenseRequest(request, retriesCount, timeout, onLoad, onAbort, onError);
                }, retryInterval);
              };
              xhr.onload = function() {
                if (this.status >= 200 && this.status <= 299 || retriesCount <= 0) {
                  onLoad(this);
                } else {
                  logger.warn("License request failed (" + this.status + "). Retrying it... Pending retries: " + retriesCount);
                  retryRequest();
                }
              };
              xhr.ontimeout = xhr.onerror = function() {
                if (retriesCount <= 0) {
                  onError(this);
                } else {
                  logger.warn("License request network request failed . Retrying it... Pending retries: " + retriesCount);
                  retryRequest();
                }
              };
              xhr.onabort = function() {
                onAbort(this);
              };
              eventBus.trigger(events.LICENSE_REQUEST_SENDING, {
                url: request.url,
                headers: request.headers,
                payload: request.data,
                sessionId: request.sessionId
              });
              xhr.send(request.data);
            }
            function onNeedKey(event, retry) {
              logger.debug("DRM: onNeedKey");
              if (event.key.initDataType !== "cenc") {
                logger.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: " + event.key.initDataType);
                return;
              }
              if (mediaInfoArr.length === 0) {
                logger.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized");
                retry = typeof retry === "undefined" ? 1 : retry + 1;
                if (retry < NEEDKEY_BEFORE_INITIALIZE_RETRIES) {
                  needkeyRetries.push(setTimeout(function() {
                    onNeedKey(event, retry);
                  }, NEEDKEY_BEFORE_INITIALIZE_TIMEOUT));
                  return;
                }
              }
              var abInitData = event.key.initData;
              if (ArrayBuffer.isView(abInitData)) {
                abInitData = abInitData.buffer;
              }
              if (keySystem) {
                var initDataForKS = _CommonEncryption__WEBPACK_IMPORTED_MODULE_0__["default"].getPSSHForKeySystem(keySystem, abInitData);
                if (initDataForKS) {
                  if (_isInitDataDuplicate(initDataForKS)) {
                    return;
                  }
                }
              }
              logger.debug("DRM: initData:", String.fromCharCode.apply(null, new Uint8Array(abInitData)));
              var supportedKS = protectionKeyController.getSupportedKeySystems(abInitData, protDataSet);
              if (supportedKS.length === 0) {
                logger.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");
                return;
              }
              selectKeySystem(supportedKS, false);
            }
            function getKeySystems() {
              return protectionKeyController ? protectionKeyController.getKeySystems() : [];
            }
            function setKeySystems(keySystems) {
              if (protectionKeyController) {
                protectionKeyController.setKeySystems(keySystems);
              }
            }
            function setLicenseRequestFilters(filters) {
              licenseRequestFilters = filters;
            }
            function setLicenseResponseFilters(filters) {
              licenseResponseFilters = filters;
            }
            function applyFilters(filters, param) {
              if (!filters)
                return Promise.resolve();
              return filters.reduce(function(prev, next) {
                return prev.then(function() {
                  return next(param);
                });
              }, Promise.resolve());
            }
            instance = {
              initializeForMedia,
              clearMediaInfoArrayByStreamId,
              createKeySession,
              loadKeySession,
              removeKeySession,
              closeKeySession,
              setServerCertificate,
              setMediaElement,
              setSessionType,
              setRobustnessLevel,
              setProtectionData,
              getSupportedKeySystemsFromContentProtection,
              getKeySystems,
              setKeySystems,
              setLicenseRequestFilters,
              setLicenseResponseFilters,
              stop,
              reset
            };
            setup();
            return instance;
          }
          ProtectionController.__dashjs_factory_name = "ProtectionController";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getClassFactory(ProtectionController);
        },
        "./src/streaming/protection/controllers/ProtectionKeyController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _CommonEncryption__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/protection/CommonEncryption.js");
          var _drm_KeySystemClearKey__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/protection/drm/KeySystemClearKey.js");
          var _drm_KeySystemW3CClearKey__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/protection/drm/KeySystemW3CClearKey.js");
          var _drm_KeySystemWidevine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/protection/drm/KeySystemWidevine.js");
          var _drm_KeySystemPlayReady__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/protection/drm/KeySystemPlayReady.js");
          var _servers_DRMToday__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/protection/servers/DRMToday.js");
          var _servers_PlayReady__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/streaming/protection/servers/PlayReady.js");
          var _servers_Widevine__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/streaming/protection/servers/Widevine.js");
          var _servers_ClearKey__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/streaming/protection/servers/ClearKey.js");
          var _constants_ProtectionConstants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/streaming/constants/ProtectionConstants.js");
          function ProtectionKeyController() {
            var context = this.context;
            var instance, debug, logger, keySystems, BASE64, clearkeyKeySystem, clearkeyW3CKeySystem;
            function setConfig(config) {
              if (!config)
                return;
              if (config.debug) {
                debug = config.debug;
                logger = debug.getLogger(instance);
              }
              if (config.BASE64) {
                BASE64 = config.BASE64;
              }
            }
            function initialize() {
              keySystems = [];
              var keySystem;
              keySystem = Object(_drm_KeySystemPlayReady__WEBPACK_IMPORTED_MODULE_4__["default"])(context).getInstance({
                BASE64
              });
              keySystems.push(keySystem);
              keySystem = Object(_drm_KeySystemWidevine__WEBPACK_IMPORTED_MODULE_3__["default"])(context).getInstance({
                BASE64
              });
              keySystems.push(keySystem);
              keySystem = Object(_drm_KeySystemClearKey__WEBPACK_IMPORTED_MODULE_1__["default"])(context).getInstance({
                BASE64
              });
              keySystems.push(keySystem);
              clearkeyKeySystem = keySystem;
              keySystem = Object(_drm_KeySystemW3CClearKey__WEBPACK_IMPORTED_MODULE_2__["default"])(context).getInstance({
                BASE64,
                debug
              });
              keySystems.push(keySystem);
              clearkeyW3CKeySystem = keySystem;
            }
            function getKeySystems() {
              return keySystems;
            }
            function setKeySystems(newKeySystems) {
              keySystems = newKeySystems;
            }
            function getKeySystemBySystemString(systemString) {
              for (var i3 = 0; i3 < keySystems.length; i3++) {
                if (keySystems[i3].systemString === systemString) {
                  return keySystems[i3];
                }
              }
              return null;
            }
            function isClearKey(keySystem) {
              return keySystem === clearkeyKeySystem || keySystem === clearkeyW3CKeySystem;
            }
            function initDataEquals(initData1, initData2) {
              if (initData1.byteLength === initData2.byteLength) {
                var data1 = new Uint8Array(initData1);
                var data2 = new Uint8Array(initData2);
                for (var j = 0; j < data1.length; j++) {
                  if (data1[j] !== data2[j]) {
                    return false;
                  }
                }
                return true;
              }
              return false;
            }
            function getSupportedKeySystemsFromContentProtection(cps) {
              var cp, ks, ksIdx, cpIdx;
              var supportedKS = [];
              if (cps) {
                var cencContentProtection = _CommonEncryption__WEBPACK_IMPORTED_MODULE_0__["default"].findCencContentProtection(cps);
                for (ksIdx = 0; ksIdx < keySystems.length; ++ksIdx) {
                  ks = keySystems[ksIdx];
                  for (cpIdx = 0; cpIdx < cps.length; ++cpIdx) {
                    cp = cps[cpIdx];
                    if (cp.schemeIdUri.toLowerCase() === ks.schemeIdURI) {
                      var initData = ks.getInitData(cp, cencContentProtection);
                      supportedKS.push({
                        ks: keySystems[ksIdx],
                        initData,
                        cdmData: ks.getCDMData(),
                        sessionId: ks.getSessionId(cp)
                      });
                    }
                  }
                }
              }
              return supportedKS;
            }
            function getSupportedKeySystems(initData, protDataSet) {
              var supportedKS = [];
              var pssh = _CommonEncryption__WEBPACK_IMPORTED_MODULE_0__["default"].parsePSSHList(initData);
              var ks, keySystemString, shouldNotFilterOutKeySystem;
              for (var ksIdx = 0; ksIdx < keySystems.length; ++ksIdx) {
                ks = keySystems[ksIdx];
                keySystemString = ks.systemString;
                shouldNotFilterOutKeySystem = protDataSet ? keySystemString in protDataSet : true;
                if (ks.uuid in pssh && shouldNotFilterOutKeySystem) {
                  supportedKS.push({
                    ks,
                    initData: pssh[ks.uuid],
                    cdmData: ks.getCDMData(),
                    sessionId: ks.getSessionId()
                  });
                }
              }
              return supportedKS;
            }
            function getLicenseServer(keySystem, protData, messageType) {
              if (messageType === "license-release" || messageType === "individualization-request") {
                return null;
              }
              var licenseServerData = null;
              if (protData && protData.hasOwnProperty("drmtoday")) {
                licenseServerData = Object(_servers_DRMToday__WEBPACK_IMPORTED_MODULE_5__["default"])(context).getInstance({
                  BASE64
                });
              } else if (keySystem.systemString === _constants_ProtectionConstants__WEBPACK_IMPORTED_MODULE_9__["default"].WIDEVINE_KEYSTEM_STRING) {
                licenseServerData = Object(_servers_Widevine__WEBPACK_IMPORTED_MODULE_7__["default"])(context).getInstance();
              } else if (keySystem.systemString === _constants_ProtectionConstants__WEBPACK_IMPORTED_MODULE_9__["default"].PLAYREADY_KEYSTEM_STRING) {
                licenseServerData = Object(_servers_PlayReady__WEBPACK_IMPORTED_MODULE_6__["default"])(context).getInstance();
              } else if (keySystem.systemString === _constants_ProtectionConstants__WEBPACK_IMPORTED_MODULE_9__["default"].CLEARKEY_KEYSTEM_STRING) {
                licenseServerData = Object(_servers_ClearKey__WEBPACK_IMPORTED_MODULE_8__["default"])(context).getInstance();
              }
              return licenseServerData;
            }
            function processClearKeyLicenseRequest(clearkeyKeySystem2, protData, message) {
              try {
                return clearkeyKeySystem2.getClearKeysFromProtectionData(protData, message);
              } catch (error) {
                logger.error("Failed to retrieve clearkeys from ProtectionData");
                return null;
              }
            }
            function setProtectionData(protectionDataSet) {
              var getProtectionData = function getProtectionData2(keySystemString) {
                var protData = null;
                if (protectionDataSet) {
                  protData = keySystemString in protectionDataSet ? protectionDataSet[keySystemString] : null;
                }
                return protData;
              };
              for (var i3 = 0; i3 < keySystems.length; i3++) {
                var keySystem = keySystems[i3];
                if (keySystem.hasOwnProperty("init")) {
                  keySystem.init(getProtectionData(keySystem.systemString));
                }
              }
            }
            instance = {
              initialize,
              setProtectionData,
              isClearKey,
              initDataEquals,
              getKeySystems,
              setKeySystems,
              getKeySystemBySystemString,
              getSupportedKeySystemsFromContentProtection,
              getSupportedKeySystems,
              getLicenseServer,
              processClearKeyLicenseRequest,
              setConfig
            };
            return instance;
          }
          ProtectionKeyController.__dashjs_factory_name = "ProtectionKeyController";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getSingletonFactory(ProtectionKeyController);
        },
        "./src/streaming/protection/drm/KeySystemClearKey.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _vo_KeyPair__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/protection/vo/KeyPair.js");
          var _vo_ClearKeyKeySet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/protection/vo/ClearKeyKeySet.js");
          var _CommonEncryption__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/protection/CommonEncryption.js");
          var _constants_ProtectionConstants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/constants/ProtectionConstants.js");
          var uuid = "e2719d58-a985-b3c9-781a-b030af78d30e";
          var systemString = _constants_ProtectionConstants__WEBPACK_IMPORTED_MODULE_3__["default"].CLEARKEY_KEYSTEM_STRING;
          var schemeIdURI = "urn:uuid:" + uuid;
          function KeySystemClearKey(config) {
            config = config || {};
            var instance;
            var BASE64 = config.BASE64;
            var LICENSE_SERVER_MANIFEST_CONFIGURATIONS = {
              attributes: ["Laurl", "laurl"],
              prefixes: ["clearkey", "dashif"]
            };
            function getClearKeysFromProtectionData(protectionData, message) {
              var clearkeySet = null;
              if (protectionData) {
                var jsonMsg = JSON.parse(String.fromCharCode.apply(null, new Uint8Array(message)));
                var keyPairs = [];
                for (var i3 = 0; i3 < jsonMsg.kids.length; i3++) {
                  var clearkeyID = jsonMsg.kids[i3];
                  var clearkey = protectionData.clearkeys && protectionData.clearkeys.hasOwnProperty(clearkeyID) ? protectionData.clearkeys[clearkeyID] : null;
                  if (!clearkey) {
                    throw new Error("DRM: ClearKey keyID (" + clearkeyID + ") is not known!");
                  }
                  keyPairs.push(new _vo_KeyPair__WEBPACK_IMPORTED_MODULE_0__["default"](clearkeyID, clearkey));
                }
                clearkeySet = new _vo_ClearKeyKeySet__WEBPACK_IMPORTED_MODULE_1__["default"](keyPairs);
              }
              return clearkeySet;
            }
            function getInitData(cp, cencContentProtection) {
              try {
                var initData = _CommonEncryption__WEBPACK_IMPORTED_MODULE_2__["default"].parseInitDataFromContentProtection(cp, BASE64);
                if (!initData && cencContentProtection) {
                  var cencDefaultKid = cencDefaultKidToBase64Representation(cencContentProtection["cenc:default_KID"]);
                  var data = {
                    kids: [cencDefaultKid]
                  };
                  initData = new TextEncoder().encode(JSON.stringify(data));
                }
                return initData;
              } catch (e) {
                return null;
              }
            }
            function cencDefaultKidToBase64Representation(cencDefaultKid) {
              try {
                var kid = cencDefaultKid.replace(/-/g, "");
                kid = btoa(kid.match(/\w{2}/g).map(function(a4) {
                  return String.fromCharCode(parseInt(a4, 16));
                }).join(""));
                return kid.replace(/=/g, "");
              } catch (e) {
                return null;
              }
            }
            function getRequestHeadersFromMessage() {
              return {
                "Content-Type": "application/json"
              };
            }
            function getLicenseRequestFromMessage(message) {
              return JSON.parse(String.fromCharCode.apply(null, new Uint8Array(message)));
            }
            function getLicenseServerURLFromInitData() {
              return null;
            }
            function getLicenseServerUrlFromMediaInfo(mediaInfo) {
              try {
                if (!mediaInfo || mediaInfo.length === 0) {
                  return null;
                }
                var i3 = 0;
                var licenseServer = null;
                while (i3 < mediaInfo.length && !licenseServer) {
                  var info = mediaInfo[i3];
                  if (info && info.contentProtection && info.contentProtection.length > 0) {
                    var clearkeyProtData = info.contentProtection.filter(function(cp) {
                      return cp.schemeIdUri && cp.schemeIdUri === schemeIdURI;
                    });
                    if (clearkeyProtData && clearkeyProtData.length > 0) {
                      var j = 0;
                      while (j < clearkeyProtData.length && !licenseServer) {
                        var ckData = clearkeyProtData[j];
                        var k2 = 0;
                        while (k2 < LICENSE_SERVER_MANIFEST_CONFIGURATIONS.attributes.length && !licenseServer) {
                          var l3 = 0;
                          var attribute = LICENSE_SERVER_MANIFEST_CONFIGURATIONS.attributes[k2];
                          while (l3 < LICENSE_SERVER_MANIFEST_CONFIGURATIONS.prefixes.length && !licenseServer) {
                            var prefix2 = LICENSE_SERVER_MANIFEST_CONFIGURATIONS.prefixes[l3];
                            if (ckData[attribute] && ckData[attribute].__prefix && ckData[attribute].__prefix === prefix2 && ckData[attribute].__text) {
                              licenseServer = ckData[attribute].__text;
                            }
                            l3 += 1;
                          }
                          k2 += 1;
                        }
                        j += 1;
                      }
                    }
                  }
                  i3 += 1;
                }
                return licenseServer;
              } catch (e) {
                return null;
              }
            }
            function getCDMData() {
              return null;
            }
            function getSessionId() {
              return null;
            }
            instance = {
              uuid,
              schemeIdURI,
              systemString,
              getInitData,
              getRequestHeadersFromMessage,
              getLicenseRequestFromMessage,
              getLicenseServerURLFromInitData,
              getCDMData,
              getSessionId,
              getLicenseServerUrlFromMediaInfo,
              getClearKeysFromProtectionData
            };
            return instance;
          }
          KeySystemClearKey.__dashjs_factory_name = "KeySystemClearKey";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getSingletonFactory(KeySystemClearKey);
        },
        "./src/streaming/protection/drm/KeySystemPlayReady.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _CommonEncryption__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/protection/CommonEncryption.js");
          var _constants_ProtectionConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/constants/ProtectionConstants.js");
          var uuid = "9a04f079-9840-4286-ab92-e65be0885f95";
          var systemString = _constants_ProtectionConstants__WEBPACK_IMPORTED_MODULE_1__["default"].PLAYREADY_KEYSTEM_STRING;
          var schemeIdURI = "urn:uuid:" + uuid;
          var PRCDMData = '<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>';
          var protData;
          function KeySystemPlayReady(config) {
            config = config || {};
            var instance;
            var messageFormat = "utf-16";
            var BASE64 = config.BASE64;
            function checkConfig() {
              if (!BASE64 || !BASE64.hasOwnProperty("decodeArray") || !BASE64.hasOwnProperty("decodeArray")) {
                throw new Error("Missing config parameter(s)");
              }
            }
            function getRequestHeadersFromMessage(message) {
              var msg, xmlDoc;
              var headers = {};
              var parser = new DOMParser();
              var dataview = messageFormat === "utf-16" ? new Uint16Array(message) : new Uint8Array(message);
              msg = String.fromCharCode.apply(null, dataview);
              xmlDoc = parser.parseFromString(msg, "application/xml");
              var headerNameList = xmlDoc.getElementsByTagName("name");
              var headerValueList = xmlDoc.getElementsByTagName("value");
              for (var i3 = 0; i3 < headerNameList.length; i3++) {
                headers[headerNameList[i3].childNodes[0].nodeValue] = headerValueList[i3].childNodes[0].nodeValue;
              }
              if (headers.hasOwnProperty("Content")) {
                headers["Content-Type"] = headers.Content;
                delete headers.Content;
              }
              if (!headers.hasOwnProperty("Content-Type")) {
                headers["Content-Type"] = "text/xml; charset=utf-8";
              }
              return headers;
            }
            function getLicenseRequestFromMessage(message) {
              var licenseRequest = null;
              var parser = new DOMParser();
              var dataview = messageFormat === "utf-16" ? new Uint16Array(message) : new Uint8Array(message);
              checkConfig();
              var msg = String.fromCharCode.apply(null, dataview);
              var xmlDoc = parser.parseFromString(msg, "application/xml");
              if (xmlDoc.getElementsByTagName("PlayReadyKeyMessage")[0]) {
                var Challenge = xmlDoc.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;
                if (Challenge) {
                  licenseRequest = BASE64.decode(Challenge);
                }
              } else {
                return message;
              }
              return licenseRequest;
            }
            function getLicenseServerURLFromInitData(initData) {
              if (initData) {
                var data = new DataView(initData);
                var numRecords = data.getUint16(4, true);
                var offset = 6;
                var parser = new DOMParser();
                for (var i3 = 0; i3 < numRecords; i3++) {
                  var recordType = data.getUint16(offset, true);
                  offset += 2;
                  var recordLength = data.getUint16(offset, true);
                  offset += 2;
                  if (recordType !== 1) {
                    offset += recordLength;
                    continue;
                  }
                  var recordData = initData.slice(offset, offset + recordLength);
                  var record = String.fromCharCode.apply(null, new Uint16Array(recordData));
                  var xmlDoc = parser.parseFromString(record, "application/xml");
                  if (xmlDoc.getElementsByTagName("LA_URL")[0]) {
                    var laurl = xmlDoc.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;
                    if (laurl) {
                      return laurl;
                    }
                  }
                  if (xmlDoc.getElementsByTagName("LUI_URL")[0]) {
                    var luiurl = xmlDoc.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;
                    if (luiurl) {
                      return luiurl;
                    }
                  }
                }
              }
              return null;
            }
            function getInitData(cpData) {
              var PSSHBoxType = new Uint8Array([112, 115, 115, 104, 0, 0, 0, 0]);
              var playreadySystemID = new Uint8Array([154, 4, 240, 121, 152, 64, 66, 134, 171, 146, 230, 91, 224, 136, 95, 149]);
              var byteCursor = 0;
              var uint8arraydecodedPROHeader = null;
              var PROSize, PSSHSize, PSSHBoxBuffer, PSSHBox, PSSHData;
              checkConfig();
              if (!cpData) {
                return null;
              }
              if ("pssh" in cpData) {
                return _CommonEncryption__WEBPACK_IMPORTED_MODULE_0__["default"].parseInitDataFromContentProtection(cpData, BASE64);
              }
              if ("pro" in cpData) {
                uint8arraydecodedPROHeader = BASE64.decodeArray(cpData.pro.__text);
              } else if ("prheader" in cpData) {
                uint8arraydecodedPROHeader = BASE64.decodeArray(cpData.prheader.__text);
              } else {
                return null;
              }
              PROSize = uint8arraydecodedPROHeader.length;
              PSSHSize = 4 + PSSHBoxType.length + playreadySystemID.length + 4 + PROSize;
              PSSHBoxBuffer = new ArrayBuffer(PSSHSize);
              PSSHBox = new Uint8Array(PSSHBoxBuffer);
              PSSHData = new DataView(PSSHBoxBuffer);
              PSSHData.setUint32(byteCursor, PSSHSize);
              byteCursor += 4;
              PSSHBox.set(PSSHBoxType, byteCursor);
              byteCursor += PSSHBoxType.length;
              PSSHBox.set(playreadySystemID, byteCursor);
              byteCursor += playreadySystemID.length;
              PSSHData.setUint32(byteCursor, PROSize);
              byteCursor += 4;
              PSSHBox.set(uint8arraydecodedPROHeader, byteCursor);
              byteCursor += PROSize;
              return PSSHBox.buffer;
            }
            function setPlayReadyMessageFormat(format) {
              if (format !== "utf-8" && format !== "utf-16") {
                throw new Error('Specified message format is not one of "utf-8" or "utf-16"');
              }
              messageFormat = format;
            }
            function init(protectionData) {
              if (protectionData) {
                protData = protectionData;
              }
            }
            function getCDMData() {
              var customData, cdmData, cdmDataBytes, i3;
              checkConfig();
              if (protData && protData.cdmData) {
                customData = [];
                for (i3 = 0; i3 < protData.cdmData.length; ++i3) {
                  customData.push(protData.cdmData.charCodeAt(i3));
                  customData.push(0);
                }
                customData = String.fromCharCode.apply(null, customData);
                customData = BASE64.encode(customData);
                cdmData = PRCDMData.replace("%CUSTOMDATA%", customData);
                cdmDataBytes = [];
                for (i3 = 0; i3 < cdmData.length; ++i3) {
                  cdmDataBytes.push(cdmData.charCodeAt(i3));
                  cdmDataBytes.push(0);
                }
                return new Uint8Array(cdmDataBytes).buffer;
              }
              return null;
            }
            function getSessionId(cp) {
              if (protData && protData.sessionId) {
                return protData.sessionId;
              } else if (cp && cp.sessionId) {
                return cp.sessionId;
              }
              return null;
            }
            instance = {
              uuid,
              schemeIdURI,
              systemString,
              getInitData,
              getRequestHeadersFromMessage,
              getLicenseRequestFromMessage,
              getLicenseServerURLFromInitData,
              getCDMData,
              getSessionId,
              setPlayReadyMessageFormat,
              init
            };
            return instance;
          }
          KeySystemPlayReady.__dashjs_factory_name = "KeySystemPlayReady";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getSingletonFactory(KeySystemPlayReady);
        },
        "./src/streaming/protection/drm/KeySystemW3CClearKey.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _vo_KeyPair__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/protection/vo/KeyPair.js");
          var _vo_ClearKeyKeySet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/protection/vo/ClearKeyKeySet.js");
          var _CommonEncryption__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/protection/CommonEncryption.js");
          var _constants_ProtectionConstants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/constants/ProtectionConstants.js");
          var uuid = "1077efec-c0b2-4d02-ace3-3c1e52e2fb4b";
          var systemString = _constants_ProtectionConstants__WEBPACK_IMPORTED_MODULE_3__["default"].CLEARKEY_KEYSTEM_STRING;
          var schemeIdURI = "urn:uuid:" + uuid;
          function KeySystemW3CClearKey(config) {
            var instance;
            var BASE64 = config.BASE64;
            var logger = config.debug.getLogger(instance);
            function getClearKeysFromProtectionData(protectionData, message) {
              var clearkeySet = null;
              if (protectionData) {
                var jsonMsg = JSON.parse(String.fromCharCode.apply(null, new Uint8Array(message)));
                var keyPairs = [];
                for (var i3 = 0; i3 < jsonMsg.kids.length; i3++) {
                  var clearkeyID = jsonMsg.kids[i3];
                  var clearkey = protectionData.clearkeys && protectionData.clearkeys.hasOwnProperty(clearkeyID) ? protectionData.clearkeys[clearkeyID] : null;
                  if (!clearkey) {
                    throw new Error("DRM: ClearKey keyID (" + clearkeyID + ") is not known!");
                  }
                  keyPairs.push(new _vo_KeyPair__WEBPACK_IMPORTED_MODULE_0__["default"](clearkeyID, clearkey));
                }
                clearkeySet = new _vo_ClearKeyKeySet__WEBPACK_IMPORTED_MODULE_1__["default"](keyPairs);
                logger.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4");
              }
              return clearkeySet;
            }
            function getInitData(cp) {
              return _CommonEncryption__WEBPACK_IMPORTED_MODULE_2__["default"].parseInitDataFromContentProtection(cp, BASE64);
            }
            function getRequestHeadersFromMessage() {
              return null;
            }
            function getLicenseRequestFromMessage(message) {
              return new Uint8Array(message);
            }
            function getLicenseServerURLFromInitData() {
              return null;
            }
            function getCDMData() {
              return null;
            }
            function getSessionId() {
              return null;
            }
            instance = {
              uuid,
              schemeIdURI,
              systemString,
              getInitData,
              getRequestHeadersFromMessage,
              getLicenseRequestFromMessage,
              getLicenseServerURLFromInitData,
              getCDMData,
              getSessionId,
              getClearKeysFromProtectionData
            };
            return instance;
          }
          KeySystemW3CClearKey.__dashjs_factory_name = "KeySystemW3CClearKey";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getSingletonFactory(KeySystemW3CClearKey);
        },
        "./src/streaming/protection/drm/KeySystemWidevine.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _CommonEncryption__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/protection/CommonEncryption.js");
          var _constants_ProtectionConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/constants/ProtectionConstants.js");
          var uuid = "edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";
          var systemString = _constants_ProtectionConstants__WEBPACK_IMPORTED_MODULE_1__["default"].WIDEVINE_KEYSTEM_STRING;
          var schemeIdURI = "urn:uuid:" + uuid;
          function KeySystemWidevine(config) {
            config = config || {};
            var instance;
            var protData = null;
            var BASE64 = config.BASE64;
            function init(protectionData) {
              if (protectionData) {
                protData = protectionData;
              }
            }
            function getInitData(cp) {
              return _CommonEncryption__WEBPACK_IMPORTED_MODULE_0__["default"].parseInitDataFromContentProtection(cp, BASE64);
            }
            function getRequestHeadersFromMessage() {
              return null;
            }
            function getLicenseRequestFromMessage(message) {
              return new Uint8Array(message);
            }
            function getLicenseServerURLFromInitData() {
              return null;
            }
            function getCDMData() {
              return null;
            }
            function getSessionId(cp) {
              if (protData && protData.sessionId) {
                return protData.sessionId;
              } else if (cp && cp.sessionId) {
                return cp.sessionId;
              }
              return null;
            }
            instance = {
              uuid,
              schemeIdURI,
              systemString,
              init,
              getInitData,
              getRequestHeadersFromMessage,
              getLicenseRequestFromMessage,
              getLicenseServerURLFromInitData,
              getCDMData,
              getSessionId
            };
            return instance;
          }
          KeySystemWidevine.__dashjs_factory_name = "KeySystemWidevine";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getSingletonFactory(KeySystemWidevine);
        },
        "./src/streaming/protection/errors/ProtectionErrors.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_errors_ErrorsBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/errors/ErrorsBase.js");
          function _typeof5(obj) {
            "@babel/helpers - typeof";
            if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
              _typeof5 = function _typeof6(obj2) {
                return typeof obj2;
              };
            } else {
              _typeof5 = function _typeof6(obj2) {
                return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
              };
            }
            return _typeof5(obj);
          }
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _inherits2(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            if (superClass)
              _setPrototypeOf2(subClass, superClass);
          }
          function _setPrototypeOf2(o2, p2) {
            _setPrototypeOf2 = Object.setPrototypeOf || function _setPrototypeOf3(o3, p3) {
              o3.__proto__ = p3;
              return o3;
            };
            return _setPrototypeOf2(o2, p2);
          }
          function _createSuper2(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct2();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf2(Derived), result;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf2(this).constructor;
                result = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn2(this, result);
            };
          }
          function _possibleConstructorReturn2(self2, call) {
            if (call && (_typeof5(call) === "object" || typeof call === "function")) {
              return call;
            }
            return _assertThisInitialized2(self2);
          }
          function _assertThisInitialized2(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct2() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e) {
              return false;
            }
          }
          function _getPrototypeOf2(o2) {
            _getPrototypeOf2 = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf3(o3) {
              return o3.__proto__ || Object.getPrototypeOf(o3);
            };
            return _getPrototypeOf2(o2);
          }
          var ProtectionErrors = /* @__PURE__ */ function(_ErrorsBase) {
            _inherits2(ProtectionErrors2, _ErrorsBase);
            var _super = _createSuper2(ProtectionErrors2);
            function ProtectionErrors2() {
              var _this;
              _classCallCheck2(this, ProtectionErrors2);
              _this = _super.call(this);
              _this.MEDIA_KEYERR_CODE = 100;
              _this.MEDIA_KEYERR_UNKNOWN_CODE = 101;
              _this.MEDIA_KEYERR_CLIENT_CODE = 102;
              _this.MEDIA_KEYERR_SERVICE_CODE = 103;
              _this.MEDIA_KEYERR_OUTPUT_CODE = 104;
              _this.MEDIA_KEYERR_HARDWARECHANGE_CODE = 105;
              _this.MEDIA_KEYERR_DOMAIN_CODE = 106;
              _this.MEDIA_KEY_MESSAGE_ERROR_CODE = 107;
              _this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE = 108;
              _this.SERVER_CERTIFICATE_UPDATED_ERROR_CODE = 109;
              _this.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE = 110;
              _this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE = 111;
              _this.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE = 112;
              _this.KEY_SESSION_CREATED_ERROR_CODE = 113;
              _this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE = 114;
              _this.MEDIA_KEYERR_UNKNOWN_MESSAGE = "An unspecified error occurred. This value is used for errors that don't match any of the other codes.";
              _this.MEDIA_KEYERR_CLIENT_MESSAGE = "The Key System could not be installed or updated.";
              _this.MEDIA_KEYERR_SERVICE_MESSAGE = "The message passed into update indicated an error from the license service.";
              _this.MEDIA_KEYERR_OUTPUT_MESSAGE = "There is no available output device with the required characteristics for the content protection system.";
              _this.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE = "A hardware configuration change caused a content protection error.";
              _this.MEDIA_KEYERR_DOMAIN_MESSAGE = "An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.";
              _this.MEDIA_KEY_MESSAGE_ERROR_MESSAGE = "Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!";
              _this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE = "DRM: Empty key message from CDM";
              _this.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE = "Error updating server certificate -- ";
              _this.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE = "DRM: KeyStatusChange error! -- License has expired";
              _this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE = "DRM: No license server URL specified!";
              _this.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE = "DRM: KeySystem Access Denied! -- ";
              _this.KEY_SESSION_CREATED_ERROR_MESSAGE = "DRM: unable to create session! --";
              _this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE = "DRM: licenser error! --";
              return _this;
            }
            return ProtectionErrors2;
          }(_core_errors_ErrorsBase__WEBPACK_IMPORTED_MODULE_0__["default"]);
          var protectionErrors = new ProtectionErrors();
          __webpack_exports__["default"] = protectionErrors;
        },
        "./src/streaming/protection/models/ProtectionModel_01b.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _controllers_ProtectionKeyController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/protection/controllers/ProtectionKeyController.js");
          var _vo_NeedKey__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/protection/vo/NeedKey.js");
          var _vo_DashJSError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/vo/DashJSError.js");
          var _vo_KeyMessage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/protection/vo/KeyMessage.js");
          var _vo_KeySystemConfiguration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/protection/vo/KeySystemConfiguration.js");
          var _vo_KeySystemAccess__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/protection/vo/KeySystemAccess.js");
          var _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/streaming/protection/errors/ProtectionErrors.js");
          function ProtectionModel_01b(config) {
            config = config || {};
            var context = this.context;
            var eventBus = config.eventBus;
            var events = config.events;
            var debug = config.debug;
            var api = config.api;
            var errHandler = config.errHandler;
            var instance, logger, videoElement, keySystem, protectionKeyController, pendingSessions, sessions, moreSessionsAllowed, eventHandler;
            function setup() {
              logger = debug.getLogger(instance);
              videoElement = null;
              keySystem = null;
              pendingSessions = [];
              sessions = [];
              protectionKeyController = Object(_controllers_ProtectionKeyController__WEBPACK_IMPORTED_MODULE_0__["default"])(context).getInstance();
              eventHandler = createEventHandler();
            }
            function reset() {
              if (videoElement) {
                removeEventListeners();
              }
              for (var i3 = 0; i3 < sessions.length; i3++) {
                closeKeySession(sessions[i3]);
              }
              eventBus.trigger(events.TEARDOWN_COMPLETE);
            }
            function getKeySystem() {
              return keySystem;
            }
            function getAllInitData() {
              var retVal = [];
              for (var i3 = 0; i3 < pendingSessions.length; i3++) {
                retVal.push(pendingSessions[i3].initData);
              }
              for (var _i = 0; _i < sessions.length; _i++) {
                retVal.push(sessions[_i].initData);
              }
              return retVal;
            }
            function requestKeySystemAccess(ksConfigurations) {
              var ve = videoElement;
              if (!ve) {
                ve = document.createElement("video");
              }
              var found = false;
              for (var ksIdx = 0; ksIdx < ksConfigurations.length; ksIdx++) {
                var systemString = ksConfigurations[ksIdx].ks.systemString;
                var configs = ksConfigurations[ksIdx].configs;
                var supportedAudio = null;
                var supportedVideo = null;
                for (var configIdx = 0; configIdx < configs.length; configIdx++) {
                  var videos = configs[configIdx].videoCapabilities;
                  if (videos && videos.length !== 0) {
                    supportedVideo = [];
                    for (var videoIdx = 0; videoIdx < videos.length; videoIdx++) {
                      if (ve.canPlayType(videos[videoIdx].contentType, systemString) !== "") {
                        supportedVideo.push(videos[videoIdx]);
                      }
                    }
                  }
                  if (!supportedAudio && !supportedVideo || supportedAudio && supportedAudio.length === 0 || supportedVideo && supportedVideo.length === 0) {
                    continue;
                  }
                  found = true;
                  var ksConfig = new _vo_KeySystemConfiguration__WEBPACK_IMPORTED_MODULE_4__["default"](supportedAudio, supportedVideo);
                  var ks = protectionKeyController.getKeySystemBySystemString(systemString);
                  eventBus.trigger(events.KEY_SYSTEM_ACCESS_COMPLETE, {
                    data: new _vo_KeySystemAccess__WEBPACK_IMPORTED_MODULE_5__["default"](ks, ksConfig)
                  });
                  break;
                }
              }
              if (!found) {
                eventBus.trigger(events.KEY_SYSTEM_ACCESS_COMPLETE, {
                  error: "Key system access denied! -- No valid audio/video content configurations detected!"
                });
              }
            }
            function selectKeySystem(keySystemAccess) {
              keySystem = keySystemAccess.keySystem;
              eventBus.trigger(events.INTERNAL_KEY_SYSTEM_SELECTED);
            }
            function setMediaElement(mediaElement) {
              if (videoElement === mediaElement) {
                return;
              }
              if (videoElement) {
                removeEventListeners();
                for (var i3 = 0; i3 < sessions.length; i3++) {
                  closeKeySession(sessions[i3]);
                }
                sessions = [];
              }
              videoElement = mediaElement;
              if (videoElement) {
                videoElement.addEventListener(api.keyerror, eventHandler);
                videoElement.addEventListener(api.needkey, eventHandler);
                videoElement.addEventListener(api.keymessage, eventHandler);
                videoElement.addEventListener(api.keyadded, eventHandler);
                eventBus.trigger(events.VIDEO_ELEMENT_SELECTED);
              }
            }
            function createKeySession(initData) {
              if (!keySystem) {
                throw new Error("Can not create sessions until you have selected a key system");
              }
              if (moreSessionsAllowed || sessions.length === 0) {
                var newSession = {
                  sessionID: null,
                  initData,
                  getSessionID: function getSessionID() {
                    return this.sessionID;
                  },
                  getExpirationTime: function getExpirationTime() {
                    return NaN;
                  },
                  getSessionType: function getSessionType() {
                    return "temporary";
                  }
                };
                pendingSessions.push(newSession);
                videoElement[api.generateKeyRequest](keySystem.systemString, new Uint8Array(initData));
                return newSession;
              } else {
                throw new Error("Multiple sessions not allowed!");
              }
            }
            function updateKeySession(sessionToken, message) {
              var sessionID = sessionToken.sessionID;
              if (!protectionKeyController.isClearKey(keySystem)) {
                videoElement[api.addKey](keySystem.systemString, new Uint8Array(message), new Uint8Array(sessionToken.initData), sessionID);
              } else {
                for (var i3 = 0; i3 < message.keyPairs.length; i3++) {
                  videoElement[api.addKey](keySystem.systemString, message.keyPairs[i3].key, message.keyPairs[i3].keyID, sessionID);
                }
              }
              eventBus.trigger(events.KEY_SESSION_UPDATED);
            }
            function closeKeySession(sessionToken) {
              try {
                videoElement[api.cancelKeyRequest](keySystem.systemString, sessionToken.sessionID);
              } catch (error) {
                eventBus.trigger(events.KEY_SESSION_CLOSED, {
                  data: null,
                  error: "Error closing session (" + sessionToken.sessionID + ") " + error.message
                });
              }
            }
            function setServerCertificate() {
            }
            function loadKeySession() {
            }
            function removeKeySession() {
            }
            function createEventHandler() {
              return {
                handleEvent: function handleEvent(event) {
                  var sessionToken = null;
                  switch (event.type) {
                    case api.needkey:
                      var initData = ArrayBuffer.isView(event.initData) ? event.initData.buffer : event.initData;
                      eventBus.trigger(events.NEED_KEY, {
                        key: new _vo_NeedKey__WEBPACK_IMPORTED_MODULE_1__["default"](initData, "cenc")
                      });
                      break;
                    case api.keyerror:
                      sessionToken = findSessionByID(sessions, event.sessionId);
                      if (!sessionToken) {
                        sessionToken = findSessionByID(pendingSessions, event.sessionId);
                      }
                      if (sessionToken) {
                        var code = _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_6__["default"].MEDIA_KEYERR_CODE;
                        var msg = "";
                        switch (event.errorCode.code) {
                          case 1:
                            code = _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_6__["default"].MEDIA_KEYERR_UNKNOWN_CODE;
                            msg += "MEDIA_KEYERR_UNKNOWN - " + _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_6__["default"].MEDIA_KEYERR_UNKNOWN_MESSAGE;
                            break;
                          case 2:
                            code = _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_6__["default"].MEDIA_KEYERR_CLIENT_CODE;
                            msg += "MEDIA_KEYERR_CLIENT - " + _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_6__["default"].MEDIA_KEYERR_CLIENT_MESSAGE;
                            break;
                          case 3:
                            code = _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_6__["default"].MEDIA_KEYERR_SERVICE_CODE;
                            msg += "MEDIA_KEYERR_SERVICE - " + _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_6__["default"].MEDIA_KEYERR_SERVICE_MESSAGE;
                            break;
                          case 4:
                            code = _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_6__["default"].MEDIA_KEYERR_OUTPUT_CODE;
                            msg += "MEDIA_KEYERR_OUTPUT - " + _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_6__["default"].MEDIA_KEYERR_OUTPUT_MESSAGE;
                            break;
                          case 5:
                            code = _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_6__["default"].MEDIA_KEYERR_HARDWARECHANGE_CODE;
                            msg += "MEDIA_KEYERR_HARDWARECHANGE - " + _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_6__["default"].MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;
                            break;
                          case 6:
                            code = _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_6__["default"].MEDIA_KEYERR_DOMAIN_CODE;
                            msg += "MEDIA_KEYERR_DOMAIN - " + _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_6__["default"].MEDIA_KEYERR_DOMAIN_MESSAGE;
                            break;
                        }
                        msg += "  System Code = " + event.systemCode;
                        eventBus.trigger(events.KEY_ERROR, {
                          error: new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_2__["default"](code, msg, sessionToken)
                        });
                      } else {
                        logger.error("No session token found for key error");
                      }
                      break;
                    case api.keyadded:
                      sessionToken = findSessionByID(sessions, event.sessionId);
                      if (!sessionToken) {
                        sessionToken = findSessionByID(pendingSessions, event.sessionId);
                      }
                      if (sessionToken) {
                        logger.debug("DRM: Key added.");
                        eventBus.trigger(events.KEY_ADDED, {
                          data: sessionToken
                        });
                      } else {
                        logger.debug("No session token found for key added");
                      }
                      break;
                    case api.keymessage:
                      moreSessionsAllowed = event.sessionId !== null && event.sessionId !== void 0;
                      if (moreSessionsAllowed) {
                        sessionToken = findSessionByID(sessions, event.sessionId);
                        if (!sessionToken && pendingSessions.length > 0) {
                          sessionToken = pendingSessions.shift();
                          sessions.push(sessionToken);
                          sessionToken.sessionID = event.sessionId;
                          eventBus.trigger(events.KEY_SESSION_CREATED, {
                            data: sessionToken
                          });
                        }
                      } else if (pendingSessions.length > 0) {
                        sessionToken = pendingSessions.shift();
                        sessions.push(sessionToken);
                        if (pendingSessions.length !== 0) {
                          errHandler.error(new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_2__["default"](_errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_6__["default"].MEDIA_KEY_MESSAGE_ERROR_CODE, _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_6__["default"].MEDIA_KEY_MESSAGE_ERROR_MESSAGE));
                        }
                      }
                      if (sessionToken) {
                        var message = ArrayBuffer.isView(event.message) ? event.message.buffer : event.message;
                        sessionToken.keyMessage = message;
                        eventBus.trigger(events.INTERNAL_KEY_MESSAGE, {
                          data: new _vo_KeyMessage__WEBPACK_IMPORTED_MODULE_3__["default"](sessionToken, message, event.defaultURL)
                        });
                      } else {
                        logger.warn("No session token found for key message");
                      }
                      break;
                  }
                }
              };
            }
            function findSessionByID(sessionArray, sessionID) {
              if (!sessionID || !sessionArray) {
                return null;
              } else {
                var len = sessionArray.length;
                for (var i3 = 0; i3 < len; i3++) {
                  if (sessionArray[i3].sessionID == sessionID) {
                    return sessionArray[i3];
                  }
                }
                return null;
              }
            }
            function removeEventListeners() {
              videoElement.removeEventListener(api.keyerror, eventHandler);
              videoElement.removeEventListener(api.needkey, eventHandler);
              videoElement.removeEventListener(api.keymessage, eventHandler);
              videoElement.removeEventListener(api.keyadded, eventHandler);
            }
            instance = {
              getAllInitData,
              requestKeySystemAccess,
              getKeySystem,
              selectKeySystem,
              setMediaElement,
              createKeySession,
              updateKeySession,
              closeKeySession,
              setServerCertificate,
              loadKeySession,
              removeKeySession,
              stop: reset,
              reset
            };
            setup();
            return instance;
          }
          ProtectionModel_01b.__dashjs_factory_name = "ProtectionModel_01b";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getClassFactory(ProtectionModel_01b);
        },
        "./src/streaming/protection/models/ProtectionModel_21Jan2015.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _controllers_ProtectionKeyController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/protection/controllers/ProtectionKeyController.js");
          var _vo_NeedKey__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/protection/vo/NeedKey.js");
          var _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/protection/errors/ProtectionErrors.js");
          var _vo_DashJSError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/vo/DashJSError.js");
          var _vo_KeyMessage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/protection/vo/KeyMessage.js");
          var _vo_KeySystemAccess__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/protection/vo/KeySystemAccess.js");
          var _constants_ProtectionConstants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/streaming/constants/ProtectionConstants.js");
          function ProtectionModel_21Jan2015(config) {
            config = config || {};
            var context = this.context;
            var eventBus = config.eventBus;
            var events = config.events;
            var debug = config.debug;
            var instance, logger, keySystem, videoElement, mediaKeys, sessions, eventHandler, protectionKeyController;
            function setup() {
              logger = debug.getLogger(instance);
              keySystem = null;
              videoElement = null;
              mediaKeys = null;
              sessions = [];
              protectionKeyController = Object(_controllers_ProtectionKeyController__WEBPACK_IMPORTED_MODULE_0__["default"])(context).getInstance();
              eventHandler = createEventHandler();
            }
            function reset() {
              var numSessions = sessions.length;
              var session;
              if (numSessions !== 0) {
                (function() {
                  var done = function done2(session2) {
                    removeSession(session2);
                    if (sessions.length === 0) {
                      if (videoElement) {
                        videoElement.removeEventListener("encrypted", eventHandler);
                        videoElement.setMediaKeys(null).then(function() {
                          eventBus.trigger(events.TEARDOWN_COMPLETE);
                        });
                      } else {
                        eventBus.trigger(events.TEARDOWN_COMPLETE);
                      }
                    }
                  };
                  for (var i3 = 0; i3 < numSessions; i3++) {
                    session = sessions[i3];
                    (function(s3) {
                      session.session.closed.then(function() {
                        done(s3);
                      });
                      closeKeySessionInternal(session)["catch"](function() {
                        done(s3);
                      });
                    })(session);
                  }
                })();
              } else {
                eventBus.trigger(events.TEARDOWN_COMPLETE);
              }
            }
            function stop() {
              var session;
              for (var i3 = 0; i3 < sessions.length; i3++) {
                session = sessions[i3];
                if (!session.getUsable()) {
                  closeKeySessionInternal(session)["catch"](function() {
                    removeSession(session);
                  });
                }
              }
            }
            function getKeySystem() {
              return keySystem;
            }
            function getAllInitData() {
              var retVal = [];
              for (var i3 = 0; i3 < sessions.length; i3++) {
                if (sessions[i3].initData) {
                  retVal.push(sessions[i3].initData);
                }
              }
              return retVal;
            }
            function requestKeySystemAccess(ksConfigurations) {
              requestKeySystemAccessInternal(ksConfigurations, 0);
            }
            function selectKeySystem(keySystemAccess) {
              keySystemAccess.mksa.createMediaKeys().then(function(mkeys) {
                keySystem = keySystemAccess.keySystem;
                mediaKeys = mkeys;
                if (videoElement) {
                  videoElement.setMediaKeys(mediaKeys).then(function() {
                    eventBus.trigger(events.INTERNAL_KEY_SYSTEM_SELECTED);
                  });
                } else {
                  eventBus.trigger(events.INTERNAL_KEY_SYSTEM_SELECTED);
                }
              })["catch"](function() {
                eventBus.trigger(events.INTERNAL_KEY_SYSTEM_SELECTED, {
                  error: "Error selecting keys system (" + keySystemAccess.keySystem.systemString + ")! Could not create MediaKeys -- TODO"
                });
              });
            }
            function setMediaElement(mediaElement) {
              if (videoElement === mediaElement)
                return;
              if (videoElement) {
                videoElement.removeEventListener("encrypted", eventHandler);
                if (videoElement.setMediaKeys) {
                  videoElement.setMediaKeys(null);
                }
              }
              videoElement = mediaElement;
              if (videoElement) {
                videoElement.addEventListener("encrypted", eventHandler);
                if (videoElement.setMediaKeys && mediaKeys) {
                  videoElement.setMediaKeys(mediaKeys);
                }
              }
            }
            function setServerCertificate(serverCertificate) {
              if (!keySystem || !mediaKeys) {
                throw new Error("Can not set server certificate until you have selected a key system");
              }
              mediaKeys.setServerCertificate(serverCertificate).then(function() {
                logger.info("DRM: License server certificate successfully updated.");
                eventBus.trigger(events.SERVER_CERTIFICATE_UPDATED);
              })["catch"](function(error) {
                eventBus.trigger(events.SERVER_CERTIFICATE_UPDATED, {
                  error: new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_3__["default"](_errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_2__["default"].SERVER_CERTIFICATE_UPDATED_ERROR_CODE, _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_2__["default"].SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE + error.name)
                });
              });
            }
            function createKeySession(initData, protData, sessionType) {
              if (!keySystem || !mediaKeys) {
                throw new Error("Can not create sessions until you have selected a key system");
              }
              var session = mediaKeys.createSession(sessionType);
              var sessionToken = createSessionToken(session, initData, sessionType);
              var ks = this.getKeySystem();
              var dataType = ks.systemString === _constants_ProtectionConstants__WEBPACK_IMPORTED_MODULE_6__["default"].CLEARKEY_KEYSTEM_STRING && (initData || protData && protData.clearkeys) ? "keyids" : "cenc";
              session.generateRequest(dataType, initData).then(function() {
                logger.debug("DRM: Session created.  SessionID = " + sessionToken.getSessionID());
                eventBus.trigger(events.KEY_SESSION_CREATED, {
                  data: sessionToken
                });
              })["catch"](function(error) {
                removeSession(sessionToken);
                eventBus.trigger(events.KEY_SESSION_CREATED, {
                  data: null,
                  error: new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_3__["default"](_errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_2__["default"].KEY_SESSION_CREATED_ERROR_CODE, _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_2__["default"].KEY_SESSION_CREATED_ERROR_MESSAGE + "Error generating key request -- " + error.name)
                });
              });
            }
            function updateKeySession(sessionToken, message) {
              var session = sessionToken.session;
              if (protectionKeyController.isClearKey(keySystem)) {
                message = message.toJWK();
              }
              session.update(message).then(function() {
                eventBus.trigger(events.KEY_SESSION_UPDATED);
              })["catch"](function(error) {
                eventBus.trigger(events.KEY_ERROR, {
                  error: new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_3__["default"](_errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_2__["default"].MEDIA_KEYERR_CODE, "Error sending update() message! " + error.name, sessionToken)
                });
              });
            }
            function loadKeySession(sessionID, initData, sessionType) {
              if (!keySystem || !mediaKeys) {
                throw new Error("Can not load sessions until you have selected a key system");
              }
              for (var i3 = 0; i3 < sessions.length; i3++) {
                if (sessionID === sessions[i3].sessionId) {
                  logger.warn("DRM: Ignoring session ID because we have already seen it!");
                  return;
                }
              }
              var session = mediaKeys.createSession(sessionType);
              var sessionToken = createSessionToken(session, initData, sessionType, sessionID);
              session.load(sessionID).then(function(success) {
                if (success) {
                  logger.debug("DRM: Session loaded.  SessionID = " + sessionToken.getSessionID());
                  eventBus.trigger(events.KEY_SESSION_CREATED, {
                    data: sessionToken
                  });
                } else {
                  removeSession(sessionToken);
                  eventBus.trigger(events.KEY_SESSION_CREATED, {
                    data: null,
                    error: new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_3__["default"](_errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_2__["default"].KEY_SESSION_CREATED_ERROR_CODE, _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_2__["default"].KEY_SESSION_CREATED_ERROR_MESSAGE + "Could not load session! Invalid Session ID (" + sessionID + ")")
                  });
                }
              })["catch"](function(error) {
                removeSession(sessionToken);
                eventBus.trigger(events.KEY_SESSION_CREATED, {
                  data: null,
                  error: new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_3__["default"](_errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_2__["default"].KEY_SESSION_CREATED_ERROR_CODE, _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_2__["default"].KEY_SESSION_CREATED_ERROR_MESSAGE + "Could not load session (" + sessionID + ")! " + error.name)
                });
              });
            }
            function removeKeySession(sessionToken) {
              var session = sessionToken.session;
              session.remove().then(function() {
                logger.debug("DRM: Session removed.  SessionID = " + sessionToken.getSessionID());
                eventBus.trigger(events.KEY_SESSION_REMOVED, {
                  data: sessionToken.getSessionID()
                });
              }, function(error) {
                eventBus.trigger(events.KEY_SESSION_REMOVED, {
                  data: null,
                  error: "Error removing session (" + sessionToken.getSessionID() + "). " + error.name
                });
              });
            }
            function closeKeySession(sessionToken) {
              closeKeySessionInternal(sessionToken)["catch"](function(error) {
                removeSession(sessionToken);
                eventBus.trigger(events.KEY_SESSION_CLOSED, {
                  data: null,
                  error: "Error closing session (" + sessionToken.getSessionID() + ") " + error.name
                });
              });
            }
            function requestKeySystemAccessInternal(ksConfigurations, idx) {
              if (navigator.requestMediaKeySystemAccess === void 0 || typeof navigator.requestMediaKeySystemAccess !== "function") {
                eventBus.trigger(events.KEY_SYSTEM_ACCESS_COMPLETE, {
                  error: "Insecure origins are not allowed"
                });
                return;
              }
              (function(i3) {
                var keySystem2 = ksConfigurations[i3].ks;
                var configs = ksConfigurations[i3].configs;
                var systemString = keySystem2.systemString;
                if (systemString === _constants_ProtectionConstants__WEBPACK_IMPORTED_MODULE_6__["default"].PLAYREADY_KEYSTEM_STRING && configs[0].persistentState === "required") {
                  systemString += ".recommendation";
                }
                navigator.requestMediaKeySystemAccess(systemString, configs).then(function(mediaKeySystemAccess) {
                  var configuration = typeof mediaKeySystemAccess.getConfiguration === "function" ? mediaKeySystemAccess.getConfiguration() : null;
                  var keySystemAccess = new _vo_KeySystemAccess__WEBPACK_IMPORTED_MODULE_5__["default"](keySystem2, configuration);
                  keySystemAccess.mksa = mediaKeySystemAccess;
                  eventBus.trigger(events.KEY_SYSTEM_ACCESS_COMPLETE, {
                    data: keySystemAccess
                  });
                })["catch"](function(error) {
                  if (++i3 < ksConfigurations.length) {
                    requestKeySystemAccessInternal(ksConfigurations, i3);
                  } else {
                    eventBus.trigger(events.KEY_SYSTEM_ACCESS_COMPLETE, {
                      error: "Key system access denied! " + error.message
                    });
                  }
                });
              })(idx);
            }
            function closeKeySessionInternal(sessionToken) {
              var session = sessionToken.session;
              session.removeEventListener("keystatuseschange", sessionToken);
              session.removeEventListener("message", sessionToken);
              return session.close();
            }
            function createEventHandler() {
              return {
                handleEvent: function handleEvent(event) {
                  switch (event.type) {
                    case "encrypted":
                      if (event.initData) {
                        var initData = ArrayBuffer.isView(event.initData) ? event.initData.buffer : event.initData;
                        eventBus.trigger(events.NEED_KEY, {
                          key: new _vo_NeedKey__WEBPACK_IMPORTED_MODULE_1__["default"](initData, event.initDataType)
                        });
                      }
                      break;
                  }
                }
              };
            }
            function removeSession(token) {
              for (var i3 = 0; i3 < sessions.length; i3++) {
                if (sessions[i3] === token) {
                  sessions.splice(i3, 1);
                  break;
                }
              }
            }
            function parseKeyStatus(args) {
              var status, keyId;
              if (args && args.length > 0) {
                if (args[0]) {
                  if (typeof args[0] === "string") {
                    status = args[0];
                  } else {
                    keyId = args[0];
                  }
                }
                if (args[1]) {
                  if (typeof args[1] === "string") {
                    status = args[1];
                  } else {
                    keyId = args[1];
                  }
                }
              }
              return {
                status,
                keyId
              };
            }
            function createSessionToken(session, initData, sessionType, sessionID) {
              var token = {
                session,
                initData,
                sessionId: sessionID,
                handleEvent: function handleEvent(event) {
                  switch (event.type) {
                    case "keystatuseschange":
                      eventBus.trigger(events.KEY_STATUSES_CHANGED, {
                        data: this
                      });
                      event.target.keyStatuses.forEach(function() {
                        var keyStatus = parseKeyStatus(arguments);
                        switch (keyStatus.status) {
                          case "expired":
                            eventBus.trigger(events.INTERNAL_KEY_STATUS_CHANGED, {
                              error: new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_3__["default"](_errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_2__["default"].KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE, _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_2__["default"].KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)
                            });
                            break;
                          default:
                            eventBus.trigger(events.INTERNAL_KEY_STATUS_CHANGED, keyStatus);
                            break;
                        }
                      });
                      break;
                    case "message":
                      var message = ArrayBuffer.isView(event.message) ? event.message.buffer : event.message;
                      eventBus.trigger(events.INTERNAL_KEY_MESSAGE, {
                        data: new _vo_KeyMessage__WEBPACK_IMPORTED_MODULE_4__["default"](this, message, void 0, event.messageType)
                      });
                      break;
                  }
                },
                getSessionID: function getSessionID() {
                  return session.sessionId;
                },
                getExpirationTime: function getExpirationTime() {
                  return session.expiration;
                },
                getKeyStatuses: function getKeyStatuses() {
                  return session.keyStatuses;
                },
                getUsable: function getUsable() {
                  var usable = false;
                  session.keyStatuses.forEach(function() {
                    var keyStatus = parseKeyStatus(arguments);
                    if (keyStatus.status === "usable") {
                      usable = true;
                    }
                  });
                  return usable;
                },
                getSessionType: function getSessionType() {
                  return sessionType;
                }
              };
              session.addEventListener("keystatuseschange", token);
              session.addEventListener("message", token);
              session.closed.then(function() {
                removeSession(token);
                logger.debug("DRM: Session closed.  SessionID = " + token.getSessionID());
                eventBus.trigger(events.KEY_SESSION_CLOSED, {
                  data: token.getSessionID()
                });
              });
              sessions.push(token);
              return token;
            }
            instance = {
              getAllInitData,
              requestKeySystemAccess,
              getKeySystem,
              selectKeySystem,
              setMediaElement,
              setServerCertificate,
              createKeySession,
              updateKeySession,
              loadKeySession,
              removeKeySession,
              closeKeySession,
              stop,
              reset
            };
            setup();
            return instance;
          }
          ProtectionModel_21Jan2015.__dashjs_factory_name = "ProtectionModel_21Jan2015";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getClassFactory(ProtectionModel_21Jan2015);
        },
        "./src/streaming/protection/models/ProtectionModel_3Feb2014.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _controllers_ProtectionKeyController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/protection/controllers/ProtectionKeyController.js");
          var _vo_NeedKey__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/protection/vo/NeedKey.js");
          var _vo_DashJSError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/vo/DashJSError.js");
          var _errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/protection/errors/ProtectionErrors.js");
          var _vo_KeyMessage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/protection/vo/KeyMessage.js");
          var _vo_KeySystemConfiguration__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/protection/vo/KeySystemConfiguration.js");
          var _vo_KeySystemAccess__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/streaming/protection/vo/KeySystemAccess.js");
          function ProtectionModel_3Feb2014(config) {
            config = config || {};
            var context = this.context;
            var eventBus = config.eventBus;
            var events = config.events;
            var debug = config.debug;
            var api = config.api;
            var instance, logger, videoElement, keySystem, mediaKeys, keySystemAccess, sessions, eventHandler, protectionKeyController;
            function setup() {
              logger = debug.getLogger(instance);
              videoElement = null;
              keySystem = null;
              mediaKeys = null;
              keySystemAccess = null;
              sessions = [];
              protectionKeyController = Object(_controllers_ProtectionKeyController__WEBPACK_IMPORTED_MODULE_0__["default"])(context).getInstance();
              eventHandler = createEventHandler();
            }
            function reset() {
              try {
                for (var i3 = 0; i3 < sessions.length; i3++) {
                  closeKeySession(sessions[i3]);
                }
                if (videoElement) {
                  videoElement.removeEventListener(api.needkey, eventHandler);
                }
                eventBus.trigger(events.TEARDOWN_COMPLETE);
              } catch (error) {
                eventBus.trigger(events.TEARDOWN_COMPLETE, {
                  error: "Error tearing down key sessions and MediaKeys! -- " + error.message
                });
              }
            }
            function getKeySystem() {
              return keySystem;
            }
            function getAllInitData() {
              var retVal = [];
              for (var i3 = 0; i3 < sessions.length; i3++) {
                retVal.push(sessions[i3].initData);
              }
              return retVal;
            }
            function requestKeySystemAccess(ksConfigurations) {
              var found = false;
              for (var ksIdx = 0; ksIdx < ksConfigurations.length; ksIdx++) {
                var systemString = ksConfigurations[ksIdx].ks.systemString;
                var configs = ksConfigurations[ksIdx].configs;
                var supportedAudio = null;
                var supportedVideo = null;
                for (var configIdx = 0; configIdx < configs.length; configIdx++) {
                  var audios = configs[configIdx].audioCapabilities;
                  var videos = configs[configIdx].videoCapabilities;
                  if (audios && audios.length !== 0) {
                    supportedAudio = [];
                    for (var audioIdx = 0; audioIdx < audios.length; audioIdx++) {
                      if (window[api.MediaKeys].isTypeSupported(systemString, audios[audioIdx].contentType)) {
                        supportedAudio.push(audios[audioIdx]);
                      }
                    }
                  }
                  if (videos && videos.length !== 0) {
                    supportedVideo = [];
                    for (var videoIdx = 0; videoIdx < videos.length; videoIdx++) {
                      if (window[api.MediaKeys].isTypeSupported(systemString, videos[videoIdx].contentType)) {
                        supportedVideo.push(videos[videoIdx]);
                      }
                    }
                  }
                  if (!supportedAudio && !supportedVideo || supportedAudio && supportedAudio.length === 0 || supportedVideo && supportedVideo.length === 0) {
                    continue;
                  }
                  found = true;
                  var ksConfig = new _vo_KeySystemConfiguration__WEBPACK_IMPORTED_MODULE_5__["default"](supportedAudio, supportedVideo);
                  var ks = protectionKeyController.getKeySystemBySystemString(systemString);
                  eventBus.trigger(events.KEY_SYSTEM_ACCESS_COMPLETE, {
                    data: new _vo_KeySystemAccess__WEBPACK_IMPORTED_MODULE_6__["default"](ks, ksConfig)
                  });
                  break;
                }
              }
              if (!found) {
                eventBus.trigger(events.KEY_SYSTEM_ACCESS_COMPLETE, {
                  error: "Key system access denied! -- No valid audio/video content configurations detected!"
                });
              }
            }
            function selectKeySystem(ksAccess) {
              try {
                mediaKeys = ksAccess.mediaKeys = new window[api.MediaKeys](ksAccess.keySystem.systemString);
                keySystem = ksAccess.keySystem;
                keySystemAccess = ksAccess;
                if (videoElement) {
                  setMediaKeys();
                }
                eventBus.trigger(events.INTERNAL_KEY_SYSTEM_SELECTED);
              } catch (error) {
                eventBus.trigger(events.INTERNAL_KEY_SYSTEM_SELECTED, {
                  error: "Error selecting keys system (" + keySystem.systemString + ")! Could not create MediaKeys -- TODO"
                });
              }
            }
            function setMediaElement(mediaElement) {
              if (videoElement === mediaElement)
                return;
              if (videoElement) {
                videoElement.removeEventListener(api.needkey, eventHandler);
              }
              videoElement = mediaElement;
              if (videoElement) {
                videoElement.addEventListener(api.needkey, eventHandler);
                if (mediaKeys) {
                  setMediaKeys();
                }
              }
            }
            function createKeySession(initData, protData, sessionType, cdmData) {
              if (!keySystem || !mediaKeys || !keySystemAccess) {
                throw new Error("Can not create sessions until you have selected a key system");
              }
              var capabilities = null;
              if (keySystemAccess.ksConfiguration.videoCapabilities && keySystemAccess.ksConfiguration.videoCapabilities.length > 0) {
                capabilities = keySystemAccess.ksConfiguration.videoCapabilities[0];
              }
              if (capabilities === null && keySystemAccess.ksConfiguration.audioCapabilities && keySystemAccess.ksConfiguration.audioCapabilities.length > 0) {
                capabilities = keySystemAccess.ksConfiguration.audioCapabilities[0];
              }
              if (capabilities === null) {
                throw new Error("Can not create sessions for unknown content types.");
              }
              var contentType = capabilities.contentType;
              var session = mediaKeys.createSession(contentType, new Uint8Array(initData), cdmData ? new Uint8Array(cdmData) : null);
              var sessionToken = createSessionToken(session, initData);
              session.addEventListener(api.error, sessionToken);
              session.addEventListener(api.message, sessionToken);
              session.addEventListener(api.ready, sessionToken);
              session.addEventListener(api.close, sessionToken);
              sessions.push(sessionToken);
              logger.debug("DRM: Session created.  SessionID = " + sessionToken.getSessionID());
              eventBus.trigger(events.KEY_SESSION_CREATED, {
                data: sessionToken
              });
            }
            function updateKeySession(sessionToken, message) {
              var session = sessionToken.session;
              if (!protectionKeyController.isClearKey(keySystem)) {
                session.update(new Uint8Array(message));
              } else {
                session.update(new Uint8Array(message.toJWK()));
              }
              eventBus.trigger(events.KEY_SESSION_UPDATED);
            }
            function closeKeySession(sessionToken) {
              var session = sessionToken.session;
              session.removeEventListener(api.error, sessionToken);
              session.removeEventListener(api.message, sessionToken);
              session.removeEventListener(api.ready, sessionToken);
              session.removeEventListener(api.close, sessionToken);
              for (var i3 = 0; i3 < sessions.length; i3++) {
                if (sessions[i3] === sessionToken) {
                  sessions.splice(i3, 1);
                  break;
                }
              }
              session[api.release]();
            }
            function setServerCertificate() {
            }
            function loadKeySession() {
            }
            function removeKeySession() {
            }
            function createEventHandler() {
              return {
                handleEvent: function handleEvent(event) {
                  switch (event.type) {
                    case api.needkey:
                      if (event.initData) {
                        var initData = ArrayBuffer.isView(event.initData) ? event.initData.buffer : event.initData;
                        eventBus.trigger(events.NEED_KEY, {
                          key: new _vo_NeedKey__WEBPACK_IMPORTED_MODULE_1__["default"](initData, "cenc")
                        });
                      }
                      break;
                  }
                }
              };
            }
            function setMediaKeys() {
              var boundDoSetKeys = null;
              var doSetKeys = function doSetKeys2() {
                videoElement.removeEventListener("loadedmetadata", boundDoSetKeys);
                videoElement[api.setMediaKeys](mediaKeys);
                eventBus.trigger(events.VIDEO_ELEMENT_SELECTED);
              };
              if (videoElement.readyState >= 1) {
                doSetKeys();
              } else {
                boundDoSetKeys = doSetKeys.bind(this);
                videoElement.addEventListener("loadedmetadata", boundDoSetKeys);
              }
            }
            function createSessionToken(keySession, initData) {
              return {
                session: keySession,
                initData,
                getSessionID: function getSessionID() {
                  return this.session.sessionId;
                },
                getExpirationTime: function getExpirationTime() {
                  return NaN;
                },
                getSessionType: function getSessionType() {
                  return "temporary";
                },
                handleEvent: function handleEvent(event) {
                  switch (event.type) {
                    case api.error:
                      var errorStr = "KeyError";
                      eventBus.trigger(events.KEY_ERROR, {
                        error: new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_2__["default"](_errors_ProtectionErrors__WEBPACK_IMPORTED_MODULE_3__["default"].MEDIA_KEYERR_CODE, errorStr, this)
                      });
                      break;
                    case api.message:
                      var message = ArrayBuffer.isView(event.message) ? event.message.buffer : event.message;
                      eventBus.trigger(events.INTERNAL_KEY_MESSAGE, {
                        data: new _vo_KeyMessage__WEBPACK_IMPORTED_MODULE_4__["default"](this, message, event.destinationURL)
                      });
                      break;
                    case api.ready:
                      logger.debug("DRM: Key added.");
                      eventBus.trigger(events.KEY_ADDED);
                      break;
                    case api.close:
                      logger.debug("DRM: Session closed.  SessionID = " + this.getSessionID());
                      eventBus.trigger(events.KEY_SESSION_CLOSED, {
                        data: this.getSessionID()
                      });
                      break;
                  }
                }
              };
            }
            instance = {
              getAllInitData,
              requestKeySystemAccess,
              getKeySystem,
              selectKeySystem,
              setMediaElement,
              createKeySession,
              updateKeySession,
              closeKeySession,
              setServerCertificate,
              loadKeySession,
              removeKeySession,
              stop: reset,
              reset
            };
            setup();
            return instance;
          }
          ProtectionModel_3Feb2014.__dashjs_factory_name = "ProtectionModel_3Feb2014";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getClassFactory(ProtectionModel_3Feb2014);
        },
        "./src/streaming/protection/servers/ClearKey.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _vo_KeyPair__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/protection/vo/KeyPair.js");
          var _vo_ClearKeyKeySet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/protection/vo/ClearKeyKeySet.js");
          function ClearKey() {
            var instance;
            function getServerURLFromMessage(url) {
              return url;
            }
            function getHTTPMethod() {
              return "POST";
            }
            function getResponseType() {
              return "json";
            }
            function getLicenseMessage(serverResponse) {
              if (!serverResponse.hasOwnProperty("keys")) {
                return null;
              }
              var keyPairs = [];
              for (var i3 = 0; i3 < serverResponse.keys.length; i3++) {
                var keypair = serverResponse.keys[i3];
                var keyid = keypair.kid.replace(/=/g, "");
                var key = keypair.k.replace(/=/g, "");
                keyPairs.push(new _vo_KeyPair__WEBPACK_IMPORTED_MODULE_0__["default"](keyid, key));
              }
              return new _vo_ClearKeyKeySet__WEBPACK_IMPORTED_MODULE_1__["default"](keyPairs);
            }
            function getErrorResponse(serverResponse) {
              return String.fromCharCode.apply(null, new Uint8Array(serverResponse));
            }
            instance = {
              getServerURLFromMessage,
              getHTTPMethod,
              getResponseType,
              getLicenseMessage,
              getErrorResponse
            };
            return instance;
          }
          ClearKey.__dashjs_factory_name = "ClearKey";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getSingletonFactory(ClearKey);
        },
        "./src/streaming/protection/servers/DRMToday.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_ProtectionConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/ProtectionConstants.js");
          function DRMToday(config) {
            config = config || {};
            var BASE64 = config.BASE64;
            var keySystems = {};
            keySystems[_constants_ProtectionConstants__WEBPACK_IMPORTED_MODULE_0__["default"].WIDEVINE_KEYSTEM_STRING] = {
              responseType: "json",
              getLicenseMessage: function getLicenseMessage2(response) {
                return BASE64.decodeArray(response.license);
              },
              getErrorResponse: function getErrorResponse2(response) {
                return response;
              }
            };
            keySystems[_constants_ProtectionConstants__WEBPACK_IMPORTED_MODULE_0__["default"].PLAYREADY_KEYSTEM_STRING] = {
              responseType: "arraybuffer",
              getLicenseMessage: function getLicenseMessage2(response) {
                return response;
              },
              getErrorResponse: function getErrorResponse2(response) {
                return String.fromCharCode.apply(null, new Uint8Array(response));
              }
            };
            var instance;
            function checkConfig() {
              if (!BASE64 || !BASE64.hasOwnProperty("decodeArray")) {
                throw new Error("Missing config parameter(s)");
              }
            }
            function getServerURLFromMessage(url) {
              return url;
            }
            function getHTTPMethod() {
              return "POST";
            }
            function getResponseType(keySystemStr) {
              return keySystems[keySystemStr].responseType;
            }
            function getLicenseMessage(serverResponse, keySystemStr) {
              checkConfig();
              return keySystems[keySystemStr].getLicenseMessage(serverResponse);
            }
            function getErrorResponse(serverResponse, keySystemStr) {
              return keySystems[keySystemStr].getErrorResponse(serverResponse);
            }
            instance = {
              getServerURLFromMessage,
              getHTTPMethod,
              getResponseType,
              getLicenseMessage,
              getErrorResponse
            };
            return instance;
          }
          DRMToday.__dashjs_factory_name = "DRMToday";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getSingletonFactory(DRMToday);
        },
        "./src/streaming/protection/servers/PlayReady.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function PlayReady() {
            var instance;
            var soap = "http://schemas.xmlsoap.org/soap/envelope/";
            function uintToString(arrayBuffer) {
              var encodedString = String.fromCharCode.apply(null, new Uint8Array(arrayBuffer));
              var decodedString = decodeURIComponent(escape(encodedString));
              return decodedString;
            }
            function parseServerResponse(serverResponse) {
              if (window.DOMParser) {
                var stringResponse = uintToString(serverResponse);
                var parser = new window.DOMParser();
                var xmlDoc = parser.parseFromString(stringResponse, "text/xml");
                var envelope = xmlDoc ? xmlDoc.getElementsByTagNameNS(soap, "Envelope")[0] : null;
                var body = envelope ? envelope.getElementsByTagNameNS(soap, "Body")[0] : null;
                var fault = body ? body.getElementsByTagNameNS(soap, "Fault")[0] : null;
                if (fault) {
                  return null;
                }
              }
              return serverResponse;
            }
            function parseErrorResponse(serverResponse) {
              var faultstring = "";
              var statusCode = "";
              var message = "";
              var idStart = -1;
              var idEnd = -1;
              if (window.DOMParser) {
                var stringResponse = uintToString(serverResponse);
                var parser = new window.DOMParser();
                var xmlDoc = parser.parseFromString(stringResponse, "text/xml");
                var envelope = xmlDoc ? xmlDoc.getElementsByTagNameNS(soap, "Envelope")[0] : null;
                var body = envelope ? envelope.getElementsByTagNameNS(soap, "Body")[0] : null;
                var fault = body ? body.getElementsByTagNameNS(soap, "Fault")[0] : null;
                var detail = fault ? fault.getElementsByTagName("detail")[0] : null;
                var exception = detail ? detail.getElementsByTagName("Exception")[0] : null;
                var node = null;
                if (fault === null) {
                  return stringResponse;
                }
                node = fault.getElementsByTagName("faultstring")[0].firstChild;
                faultstring = node ? node.nodeValue : null;
                if (exception !== null) {
                  node = exception.getElementsByTagName("StatusCode")[0];
                  statusCode = node ? node.firstChild.nodeValue : null;
                  node = exception.getElementsByTagName("Message")[0];
                  message = node ? node.firstChild.nodeValue : null;
                  idStart = message ? message.lastIndexOf("[") + 1 : -1;
                  idEnd = message ? message.indexOf("]") : -1;
                  message = message ? message.substring(idStart, idEnd) : "";
                }
              }
              var errorString = "code: ".concat(statusCode, ", name: ").concat(faultstring);
              if (message) {
                errorString += ", message: ".concat(message);
              }
              return errorString;
            }
            function getServerURLFromMessage(url) {
              return url;
            }
            function getHTTPMethod() {
              return "POST";
            }
            function getResponseType() {
              return "arraybuffer";
            }
            function getLicenseMessage(serverResponse) {
              return parseServerResponse.call(this, serverResponse);
            }
            function getErrorResponse(serverResponse) {
              return parseErrorResponse.call(this, serverResponse);
            }
            instance = {
              getServerURLFromMessage,
              getHTTPMethod,
              getResponseType,
              getLicenseMessage,
              getErrorResponse
            };
            return instance;
          }
          PlayReady.__dashjs_factory_name = "PlayReady";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getSingletonFactory(PlayReady);
        },
        "./src/streaming/protection/servers/Widevine.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function Widevine() {
            var instance;
            function getServerURLFromMessage(url) {
              return url;
            }
            function getHTTPMethod() {
              return "POST";
            }
            function getResponseType() {
              return "arraybuffer";
            }
            function getLicenseMessage(serverResponse) {
              return serverResponse;
            }
            function getErrorResponse(serverResponse) {
              return String.fromCharCode.apply(null, new Uint8Array(serverResponse));
            }
            instance = {
              getServerURLFromMessage,
              getHTTPMethod,
              getResponseType,
              getLicenseMessage,
              getErrorResponse
            };
            return instance;
          }
          Widevine.__dashjs_factory_name = "Widevine";
          __webpack_exports__["default"] = dashjs.FactoryMaker.getSingletonFactory(Widevine);
        },
        "./src/streaming/protection/vo/ClearKeyKeySet.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties3(target, props) {
            for (var i3 = 0; i3 < props.length; i3++) {
              var descriptor = props[i3];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass3(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties3(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties3(Constructor, staticProps);
            return Constructor;
          }
          var ClearKeyKeySet = /* @__PURE__ */ function() {
            function ClearKeyKeySet2(keyPairs, type) {
              _classCallCheck2(this, ClearKeyKeySet2);
              if (type && type !== "persistent" && type !== "temporary")
                throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");
              this.keyPairs = keyPairs;
              this.type = type;
            }
            _createClass3(ClearKeyKeySet2, [{
              key: "toJWK",
              value: function toJWK() {
                var i3;
                var numKeys = this.keyPairs.length;
                var jwk = {
                  keys: []
                };
                for (i3 = 0; i3 < numKeys; i3++) {
                  var key = {
                    kty: "oct",
                    alg: "A128KW",
                    kid: this.keyPairs[i3].keyID,
                    k: this.keyPairs[i3].key
                  };
                  jwk.keys.push(key);
                }
                if (this.type) {
                  jwk.type = this.type;
                }
                var jwkString = JSON.stringify(jwk);
                var len = jwkString.length;
                var buf = new ArrayBuffer(len);
                var bView = new Uint8Array(buf);
                for (i3 = 0; i3 < len; i3++) {
                  bView[i3] = jwkString.charCodeAt(i3);
                }
                return buf;
              }
            }]);
            return ClearKeyKeySet2;
          }();
          __webpack_exports__["default"] = ClearKeyKeySet;
        },
        "./src/streaming/protection/vo/KeyMessage.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var KeyMessage = function KeyMessage2(sessionToken, message, defaultURL, messageType) {
            _classCallCheck2(this, KeyMessage2);
            this.sessionToken = sessionToken;
            this.message = message;
            this.defaultURL = defaultURL;
            this.messageType = messageType ? messageType : "license-request";
          };
          __webpack_exports__["default"] = KeyMessage;
        },
        "./src/streaming/protection/vo/KeyPair.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var KeyPair = function KeyPair2(keyID, key) {
            _classCallCheck2(this, KeyPair2);
            this.keyID = keyID;
            this.key = key;
          };
          __webpack_exports__["default"] = KeyPair;
        },
        "./src/streaming/protection/vo/KeySystemAccess.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var KeySystemAccess = function KeySystemAccess2(keySystem, ksConfiguration) {
            _classCallCheck2(this, KeySystemAccess2);
            this.keySystem = keySystem;
            this.ksConfiguration = ksConfiguration;
          };
          __webpack_exports__["default"] = KeySystemAccess;
        },
        "./src/streaming/protection/vo/KeySystemConfiguration.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var KeySystemConfiguration = function KeySystemConfiguration2(audioCapabilities, videoCapabilities, distinctiveIdentifier, persistentState, sessionTypes) {
            _classCallCheck2(this, KeySystemConfiguration2);
            this.initDataTypes = ["cenc"];
            if (audioCapabilities && audioCapabilities.length) {
              this.audioCapabilities = audioCapabilities;
            }
            if (videoCapabilities && videoCapabilities.length) {
              this.videoCapabilities = videoCapabilities;
            }
            this.distinctiveIdentifier = distinctiveIdentifier;
            this.persistentState = persistentState;
            this.sessionTypes = sessionTypes;
          };
          __webpack_exports__["default"] = KeySystemConfiguration;
        },
        "./src/streaming/protection/vo/LicenseRequest.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var LicenseRequest = function LicenseRequest2(url, method, responseType, headers, withCredentials, messageType, sessionId, data) {
            _classCallCheck2(this, LicenseRequest2);
            this.url = url;
            this.method = method;
            this.responseType = responseType;
            this.headers = headers;
            this.withCredentials = withCredentials;
            this.messageType = messageType;
            this.sessionId = sessionId;
            this.data = data;
          };
          __webpack_exports__["default"] = LicenseRequest;
        },
        "./src/streaming/protection/vo/LicenseResponse.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var LicenseResponse = function LicenseResponse2(url, headers, data) {
            _classCallCheck2(this, LicenseResponse2);
            this.url = url;
            this.headers = headers;
            this.data = data;
          };
          __webpack_exports__["default"] = LicenseResponse;
        },
        "./src/streaming/protection/vo/MediaCapability.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var MediaCapability = function MediaCapability2(contentType, robustness) {
            _classCallCheck2(this, MediaCapability2);
            this.contentType = contentType;
            this.robustness = robustness;
          };
          __webpack_exports__["default"] = MediaCapability;
        },
        "./src/streaming/protection/vo/NeedKey.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var NeedKey = function NeedKey2(initData, initDataType) {
            _classCallCheck2(this, NeedKey2);
            this.initData = initData;
            this.initDataType = initDataType;
          };
          __webpack_exports__["default"] = NeedKey;
        },
        "./src/streaming/rules/DroppedFramesHistory.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          function DroppedFramesHistory() {
            var values = {};
            var lastDroppedFrames = {};
            var lastTotalFrames = {};
            function push(streamId, index, playbackQuality) {
              if (!index) {
                return;
              }
              if (!values[streamId]) {
                values[streamId] = [];
                lastDroppedFrames[streamId] = 0;
                lastTotalFrames[streamId] = 0;
              }
              var droppedVideoFrames = playbackQuality && playbackQuality.droppedVideoFrames ? playbackQuality.droppedVideoFrames : 0;
              var totalVideoFrames = playbackQuality && playbackQuality.totalVideoFrames ? playbackQuality.totalVideoFrames : 0;
              var intervalDroppedFrames = droppedVideoFrames - lastDroppedFrames;
              lastDroppedFrames[streamId] = droppedVideoFrames;
              var intervalTotalFrames = totalVideoFrames - lastTotalFrames;
              lastTotalFrames[streamId] = totalVideoFrames;
              var current = values[streamId];
              if (!isNaN(index)) {
                if (!current[index]) {
                  current[index] = {
                    droppedVideoFrames: intervalDroppedFrames,
                    totalVideoFrames: intervalTotalFrames
                  };
                } else {
                  current[index].droppedVideoFrames += intervalDroppedFrames;
                  current[index].totalVideoFrames += intervalTotalFrames;
                }
              }
            }
            function getFrameHistory(streamId) {
              return values[streamId];
            }
            function clearForStream(streamId) {
              try {
                delete values[streamId];
                delete lastDroppedFrames[streamId];
                delete lastTotalFrames[streamId];
              } catch (e) {
              }
            }
            function reset() {
              values = {};
              lastDroppedFrames = {};
              lastTotalFrames = {};
            }
            return {
              push,
              getFrameHistory,
              clearForStream,
              reset
            };
          }
          DroppedFramesHistory.__dashjs_factory_name = "DroppedFramesHistory";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(DroppedFramesHistory);
          __webpack_exports__["default"] = factory;
        },
        "./src/streaming/rules/RulesContext.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          function RulesContext(config) {
            config = config || {};
            var instance;
            var abrController = config.abrController;
            var switchHistory = config.switchHistory;
            var droppedFramesHistory = config.droppedFramesHistory;
            var currentRequest = config.currentRequest;
            var bufferOccupancyABR = config.useBufferOccupancyABR;
            var l2AABR = config.useL2AABR;
            var loLP = config.useLoLPABR;
            var scheduleController = config.streamProcessor ? config.streamProcessor.getScheduleController() : null;
            var representationInfo = config.streamProcessor ? config.streamProcessor.getRepresentationInfo() : null;
            var videoModel = config.videoModel ? config.videoModel : null;
            function getMediaType() {
              var mediaInfo = getMediaInfo();
              return mediaInfo ? mediaInfo.type : null;
            }
            function getStreamInfo() {
              var mediaInfo = getMediaInfo();
              return mediaInfo ? mediaInfo.streamInfo : null;
            }
            function getMediaInfo() {
              return representationInfo ? representationInfo.mediaInfo : null;
            }
            function getRepresentationInfo() {
              return representationInfo;
            }
            function getScheduleController() {
              return scheduleController;
            }
            function getAbrController() {
              return abrController;
            }
            function getSwitchHistory() {
              return switchHistory;
            }
            function getVideoModel() {
              return videoModel;
            }
            function getDroppedFramesHistory() {
              return droppedFramesHistory;
            }
            function getCurrentRequest() {
              return currentRequest;
            }
            function useBufferOccupancyABR() {
              return bufferOccupancyABR;
            }
            function useL2AABR() {
              return l2AABR;
            }
            function useLoLPABR() {
              return loLP;
            }
            instance = {
              getMediaType,
              getMediaInfo,
              getDroppedFramesHistory,
              getCurrentRequest,
              getSwitchHistory,
              getStreamInfo,
              getScheduleController,
              getAbrController,
              getRepresentationInfo,
              useBufferOccupancyABR,
              useL2AABR,
              useLoLPABR,
              getVideoModel
            };
            return instance;
          }
          RulesContext.__dashjs_factory_name = "RulesContext";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(RulesContext);
        },
        "./src/streaming/rules/SwitchRequest.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var NO_CHANGE = -1;
          var PRIORITY = {
            DEFAULT: 0.5,
            STRONG: 1,
            WEAK: 0
          };
          function SwitchRequest(q3, r3, p2) {
            var instance, quality, priority, reason;
            function getPriority(p3) {
              var ret = PRIORITY.DEFAULT;
              if (p3 === PRIORITY.DEFAULT || p3 === PRIORITY.STRONG || p3 === PRIORITY.WEAK) {
                ret = p3;
              }
              return ret;
            }
            quality = q3 === void 0 ? NO_CHANGE : q3;
            priority = getPriority(p2);
            reason = r3 === void 0 ? null : r3;
            instance = {
              quality,
              reason,
              priority
            };
            return instance;
          }
          SwitchRequest.__dashjs_factory_name = "SwitchRequest";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(SwitchRequest);
          factory.NO_CHANGE = NO_CHANGE;
          factory.PRIORITY = PRIORITY;
          _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].updateClassFactory(SwitchRequest.__dashjs_factory_name, factory);
          __webpack_exports__["default"] = factory;
        },
        "./src/streaming/rules/SwitchRequestHistory.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _SwitchRequest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/rules/SwitchRequest.js");
          var SWITCH_REQUEST_HISTORY_DEPTH = 8;
          function SwitchRequestHistory() {
            var switchRequests = [];
            var srHistory = [];
            function push(switchRequest) {
              if (switchRequest.newValue === _SwitchRequest__WEBPACK_IMPORTED_MODULE_1__["default"].NO_CHANGE) {
                switchRequest.newValue = switchRequest.oldValue;
              }
              if (!switchRequests[switchRequest.oldValue]) {
                switchRequests[switchRequest.oldValue] = {
                  noDrops: 0,
                  drops: 0,
                  dropSize: 0
                };
              }
              var indexDiff = switchRequest.newValue - switchRequest.oldValue;
              var drop = indexDiff < 0 ? 1 : 0;
              var dropSize = drop ? -indexDiff : 0;
              var noDrop = drop ? 0 : 1;
              switchRequests[switchRequest.oldValue].drops += drop;
              switchRequests[switchRequest.oldValue].dropSize += dropSize;
              switchRequests[switchRequest.oldValue].noDrops += noDrop;
              srHistory.push({
                idx: switchRequest.oldValue,
                noDrop,
                drop,
                dropSize
              });
              if (srHistory.length > SWITCH_REQUEST_HISTORY_DEPTH) {
                var srHistoryFirst = srHistory.shift();
                switchRequests[srHistoryFirst.idx].drops -= srHistoryFirst.drop;
                switchRequests[srHistoryFirst.idx].dropSize -= srHistoryFirst.dropSize;
                switchRequests[srHistoryFirst.idx].noDrops -= srHistoryFirst.noDrop;
              }
            }
            function getSwitchRequests() {
              return switchRequests;
            }
            function reset() {
              switchRequests = [];
              srHistory = [];
            }
            return {
              push,
              getSwitchRequests,
              reset
            };
          }
          SwitchRequestHistory.__dashjs_factory_name = "SwitchRequestHistory";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(SwitchRequestHistory);
          __webpack_exports__["default"] = factory;
        },
        "./src/streaming/rules/ThroughputHistory.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/FactoryMaker.js");
          function ThroughputHistory(config) {
            config = config || {};
            var MAX_MEASUREMENTS_TO_KEEP = 20;
            var AVERAGE_THROUGHPUT_SAMPLE_AMOUNT_LIVE = 3;
            var AVERAGE_THROUGHPUT_SAMPLE_AMOUNT_VOD = 4;
            var AVERAGE_LATENCY_SAMPLE_AMOUNT = 4;
            var THROUGHPUT_DECREASE_SCALE = 1.3;
            var THROUGHPUT_INCREASE_SCALE = 1.3;
            var EWMA_THROUGHPUT_SLOW_HALF_LIFE_SECONDS = 8;
            var EWMA_THROUGHPUT_FAST_HALF_LIFE_SECONDS = 3;
            var EWMA_LATENCY_SLOW_HALF_LIFE_COUNT = 2;
            var EWMA_LATENCY_FAST_HALF_LIFE_COUNT = 1;
            var settings = config.settings;
            var throughputDict, latencyDict, ewmaThroughputDict, ewmaLatencyDict, ewmaHalfLife;
            function setup() {
              ewmaHalfLife = {
                throughputHalfLife: {
                  fast: EWMA_THROUGHPUT_FAST_HALF_LIFE_SECONDS,
                  slow: EWMA_THROUGHPUT_SLOW_HALF_LIFE_SECONDS
                },
                latencyHalfLife: {
                  fast: EWMA_LATENCY_FAST_HALF_LIFE_COUNT,
                  slow: EWMA_LATENCY_SLOW_HALF_LIFE_COUNT
                }
              };
              reset();
            }
            function isCachedResponse(mediaType, latencyMs, downloadTimeMs) {
              if (mediaType === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO) {
                return downloadTimeMs < settings.get().streaming.cacheLoadThresholds[_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO];
              } else if (mediaType === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO) {
                return downloadTimeMs < settings.get().streaming.cacheLoadThresholds[_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO];
              }
            }
            function push(mediaType, httpRequest, useDeadTimeLatency) {
              if (!httpRequest.trace || !httpRequest.trace.length) {
                return;
              }
              var latencyTimeInMilliseconds = httpRequest.tresponse.getTime() - httpRequest.trequest.getTime() || 1;
              var downloadTimeInMilliseconds = httpRequest._tfinish.getTime() - httpRequest.tresponse.getTime() || 1;
              var downloadBytes = httpRequest.trace.reduce(function(a4, b3) {
                return a4 + b3.b[0];
              }, 0);
              var throughputMeasureTime = 0, throughput = 0;
              if (settings.get().streaming.lowLatencyEnabled) {
                var calculationMode = settings.get().streaming.abr.fetchThroughputCalculationMode;
                if (calculationMode === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING) {
                  var sumOfThroughputValues = httpRequest.trace.reduce(function(a4, b3) {
                    return a4 + b3.t;
                  }, 0);
                  throughput = Math.round(sumOfThroughputValues / httpRequest.trace.length);
                }
                if (throughput === 0) {
                  throughputMeasureTime = httpRequest.trace.reduce(function(a4, b3) {
                    return a4 + b3.d;
                  }, 0);
                }
              } else {
                throughputMeasureTime = useDeadTimeLatency ? downloadTimeInMilliseconds : latencyTimeInMilliseconds + downloadTimeInMilliseconds;
              }
              if (throughputMeasureTime !== 0) {
                throughput = Math.round(8 * downloadBytes / throughputMeasureTime);
              }
              checkSettingsForMediaType(mediaType);
              if (isCachedResponse(mediaType, latencyTimeInMilliseconds, downloadTimeInMilliseconds)) {
                if (throughputDict[mediaType].length > 0 && !throughputDict[mediaType].hasCachedEntries) {
                  return;
                } else {
                  throughputDict[mediaType].hasCachedEntries = true;
                }
              } else if (throughputDict[mediaType] && throughputDict[mediaType].hasCachedEntries) {
                clearSettingsForMediaType(mediaType);
              }
              throughputDict[mediaType].push(throughput);
              if (throughputDict[mediaType].length > MAX_MEASUREMENTS_TO_KEEP) {
                throughputDict[mediaType].shift();
              }
              latencyDict[mediaType].push(latencyTimeInMilliseconds);
              if (latencyDict[mediaType].length > MAX_MEASUREMENTS_TO_KEEP) {
                latencyDict[mediaType].shift();
              }
              updateEwmaEstimate(ewmaThroughputDict[mediaType], throughput, 1e-3 * downloadTimeInMilliseconds, ewmaHalfLife.throughputHalfLife);
              updateEwmaEstimate(ewmaLatencyDict[mediaType], latencyTimeInMilliseconds, 1, ewmaHalfLife.latencyHalfLife);
            }
            function updateEwmaEstimate(ewmaObj, value, weight, halfLife) {
              var fastAlpha = Math.pow(0.5, weight / halfLife.fast);
              ewmaObj.fastEstimate = (1 - fastAlpha) * value + fastAlpha * ewmaObj.fastEstimate;
              var slowAlpha = Math.pow(0.5, weight / halfLife.slow);
              ewmaObj.slowEstimate = (1 - slowAlpha) * value + slowAlpha * ewmaObj.slowEstimate;
              ewmaObj.totalWeight += weight;
            }
            function getSampleSize(isThroughput, mediaType, isLive) {
              var arr, sampleSize;
              if (isThroughput) {
                arr = throughputDict[mediaType];
                sampleSize = isLive ? AVERAGE_THROUGHPUT_SAMPLE_AMOUNT_LIVE : AVERAGE_THROUGHPUT_SAMPLE_AMOUNT_VOD;
              } else {
                arr = latencyDict[mediaType];
                sampleSize = AVERAGE_LATENCY_SAMPLE_AMOUNT;
              }
              if (!arr) {
                sampleSize = 0;
              } else if (sampleSize >= arr.length) {
                sampleSize = arr.length;
              } else if (isThroughput) {
                for (var i3 = 1; i3 < sampleSize; ++i3) {
                  var ratio = arr[arr.length - i3] / arr[arr.length - i3 - 1];
                  if (ratio >= THROUGHPUT_INCREASE_SCALE || ratio <= 1 / THROUGHPUT_DECREASE_SCALE) {
                    sampleSize += 1;
                    if (sampleSize === arr.length) {
                      break;
                    }
                  }
                }
              }
              return sampleSize;
            }
            function getAverage(isThroughput, mediaType, isDynamic) {
              return settings.get().streaming.abr.movingAverageMethod !== _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].MOVING_AVERAGE_SLIDING_WINDOW ? getAverageEwma(isThroughput, mediaType) : getAverageSlidingWindow(isThroughput, mediaType, isDynamic);
            }
            function getAverageSlidingWindow(isThroughput, mediaType, isDynamic) {
              var sampleSize = getSampleSize(isThroughput, mediaType, isDynamic);
              var dict = isThroughput ? throughputDict : latencyDict;
              var arr = dict[mediaType];
              if (sampleSize === 0 || !arr || arr.length === 0) {
                return NaN;
              }
              arr = arr.slice(-sampleSize);
              return arr.reduce(function(total, elem) {
                return total + elem;
              }) / arr.length;
            }
            function getAverageEwma(isThroughput, mediaType) {
              var halfLife = isThroughput ? ewmaHalfLife.throughputHalfLife : ewmaHalfLife.latencyHalfLife;
              var ewmaObj = isThroughput ? ewmaThroughputDict[mediaType] : ewmaLatencyDict[mediaType];
              if (!ewmaObj || ewmaObj.totalWeight <= 0) {
                return NaN;
              }
              var fastEstimate = ewmaObj.fastEstimate / (1 - Math.pow(0.5, ewmaObj.totalWeight / halfLife.fast));
              var slowEstimate = ewmaObj.slowEstimate / (1 - Math.pow(0.5, ewmaObj.totalWeight / halfLife.slow));
              return isThroughput ? Math.min(fastEstimate, slowEstimate) : Math.max(fastEstimate, slowEstimate);
            }
            function getAverageThroughput(mediaType, isDynamic) {
              return getAverage(true, mediaType, isDynamic);
            }
            function getSafeAverageThroughput(mediaType, isDynamic) {
              var average = getAverageThroughput(mediaType, isDynamic);
              if (!isNaN(average)) {
                average *= settings.get().streaming.abr.bandwidthSafetyFactor;
              }
              return average;
            }
            function getAverageLatency(mediaType) {
              return getAverage(false, mediaType);
            }
            function checkSettingsForMediaType(mediaType) {
              throughputDict[mediaType] = throughputDict[mediaType] || [];
              latencyDict[mediaType] = latencyDict[mediaType] || [];
              ewmaThroughputDict[mediaType] = ewmaThroughputDict[mediaType] || {
                fastEstimate: 0,
                slowEstimate: 0,
                totalWeight: 0
              };
              ewmaLatencyDict[mediaType] = ewmaLatencyDict[mediaType] || {
                fastEstimate: 0,
                slowEstimate: 0,
                totalWeight: 0
              };
            }
            function clearSettingsForMediaType(mediaType) {
              delete throughputDict[mediaType];
              delete latencyDict[mediaType];
              delete ewmaThroughputDict[mediaType];
              delete ewmaLatencyDict[mediaType];
              checkSettingsForMediaType(mediaType);
            }
            function reset() {
              throughputDict = {};
              latencyDict = {};
              ewmaThroughputDict = {};
              ewmaLatencyDict = {};
            }
            var instance = {
              push,
              getAverageThroughput,
              getSafeAverageThroughput,
              getAverageLatency,
              reset
            };
            setup();
            return instance;
          }
          ThroughputHistory.__dashjs_factory_name = "ThroughputHistory";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__["default"].getClassFactory(ThroughputHistory);
        },
        "./src/streaming/rules/abr/ABRRulesCollection.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _ThroughputRule__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/rules/abr/ThroughputRule.js");
          var _InsufficientBufferRule__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/rules/abr/InsufficientBufferRule.js");
          var _AbandonRequestsRule__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/rules/abr/AbandonRequestsRule.js");
          var _DroppedFramesRule__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/rules/abr/DroppedFramesRule.js");
          var _SwitchHistoryRule__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/rules/abr/SwitchHistoryRule.js");
          var _BolaRule__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/rules/abr/BolaRule.js");
          var _L2ARule_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/streaming/rules/abr/L2ARule.js");
          var _lolp_LoLpRule_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/streaming/rules/abr/lolp/LoLpRule.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _SwitchRequest__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/streaming/rules/SwitchRequest.js");
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var QUALITY_SWITCH_RULES = "qualitySwitchRules";
          var ABANDON_FRAGMENT_RULES = "abandonFragmentRules";
          function ABRRulesCollection(config) {
            config = config || {};
            var context = this.context;
            var mediaPlayerModel = config.mediaPlayerModel;
            var dashMetrics = config.dashMetrics;
            var settings = config.settings;
            var instance, qualitySwitchRules, abandonFragmentRules;
            function initialize() {
              qualitySwitchRules = [];
              abandonFragmentRules = [];
              if (settings.get().streaming.abr.useDefaultABRRules) {
                if (settings.get().streaming.abr.ABRStrategy === _constants_Constants__WEBPACK_IMPORTED_MODULE_10__["default"].ABR_STRATEGY_L2A) {
                  qualitySwitchRules.push(Object(_L2ARule_js__WEBPACK_IMPORTED_MODULE_6__["default"])(context).create({
                    dashMetrics,
                    mediaPlayerModel,
                    settings
                  }));
                } else if (settings.get().streaming.abr.ABRStrategy === _constants_Constants__WEBPACK_IMPORTED_MODULE_10__["default"].ABR_STRATEGY_LoLP) {
                  qualitySwitchRules.push(Object(_lolp_LoLpRule_js__WEBPACK_IMPORTED_MODULE_7__["default"])(context).create({
                    dashMetrics
                  }));
                } else {
                  qualitySwitchRules.push(Object(_BolaRule__WEBPACK_IMPORTED_MODULE_5__["default"])(context).create({
                    dashMetrics,
                    mediaPlayerModel,
                    settings
                  }));
                  qualitySwitchRules.push(Object(_ThroughputRule__WEBPACK_IMPORTED_MODULE_0__["default"])(context).create({
                    dashMetrics
                  }));
                  if (settings.get().streaming.abr.additionalAbrRules.insufficientBufferRule) {
                    qualitySwitchRules.push(Object(_InsufficientBufferRule__WEBPACK_IMPORTED_MODULE_1__["default"])(context).create({
                      dashMetrics,
                      settings
                    }));
                  }
                  if (settings.get().streaming.abr.additionalAbrRules.switchHistoryRule) {
                    qualitySwitchRules.push(Object(_SwitchHistoryRule__WEBPACK_IMPORTED_MODULE_4__["default"])(context).create());
                  }
                  if (settings.get().streaming.abr.additionalAbrRules.droppedFramesRule) {
                    qualitySwitchRules.push(Object(_DroppedFramesRule__WEBPACK_IMPORTED_MODULE_3__["default"])(context).create());
                  }
                  if (settings.get().streaming.abr.additionalAbrRules.abandonRequestsRule) {
                    abandonFragmentRules.push(Object(_AbandonRequestsRule__WEBPACK_IMPORTED_MODULE_2__["default"])(context).create({
                      dashMetrics,
                      mediaPlayerModel,
                      settings
                    }));
                  }
                }
              }
              var customRules = mediaPlayerModel.getABRCustomRules();
              customRules.forEach(function(rule) {
                if (rule.type === QUALITY_SWITCH_RULES) {
                  qualitySwitchRules.push(rule.rule(context).create());
                }
                if (rule.type === ABANDON_FRAGMENT_RULES) {
                  abandonFragmentRules.push(rule.rule(context).create());
                }
              });
            }
            function _getRulesWithChange(srArray) {
              return srArray.filter(function(sr) {
                return sr.quality > _SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"].NO_CHANGE;
              });
            }
            function getMinSwitchRequest(srArray) {
              var values = {};
              var newSwitchReq = null;
              var i3, len, req, quality, reason;
              if (srArray.length === 0) {
                return;
              }
              values[_SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"].PRIORITY.STRONG] = {
                quality: _SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"].NO_CHANGE,
                reason: null
              };
              values[_SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"].PRIORITY.WEAK] = {
                quality: _SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"].NO_CHANGE,
                reason: null
              };
              values[_SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"].PRIORITY.DEFAULT] = {
                quality: _SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"].NO_CHANGE,
                reason: null
              };
              for (i3 = 0, len = srArray.length; i3 < len; i3 += 1) {
                req = srArray[i3];
                if (req.quality !== _SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"].NO_CHANGE) {
                  if (values[req.priority].quality === _SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"].NO_CHANGE || values[req.priority].quality > req.quality) {
                    values[req.priority].quality = req.quality;
                    values[req.priority].reason = req.reason || null;
                  }
                }
              }
              if (values[_SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"].PRIORITY.WEAK].quality !== _SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"].NO_CHANGE) {
                newSwitchReq = values[_SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"].PRIORITY.WEAK];
              }
              if (values[_SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"].PRIORITY.DEFAULT].quality !== _SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"].NO_CHANGE) {
                newSwitchReq = values[_SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"].PRIORITY.DEFAULT];
              }
              if (values[_SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"].PRIORITY.STRONG].quality !== _SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"].NO_CHANGE) {
                newSwitchReq = values[_SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"].PRIORITY.STRONG];
              }
              if (newSwitchReq) {
                quality = newSwitchReq.quality;
                reason = newSwitchReq.reason;
              }
              return Object(_SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"])(context).create(quality, reason);
            }
            function getMaxQuality(rulesContext) {
              var switchRequestArray = qualitySwitchRules.map(function(rule) {
                return rule.getMaxIndex(rulesContext);
              });
              var activeRules = _getRulesWithChange(switchRequestArray);
              var maxQuality = getMinSwitchRequest(activeRules);
              return maxQuality || Object(_SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"])(context).create();
            }
            function shouldAbandonFragment(rulesContext, streamId) {
              var abandonRequestArray = abandonFragmentRules.map(function(rule) {
                return rule.shouldAbandon(rulesContext, streamId);
              });
              var activeRules = _getRulesWithChange(abandonRequestArray);
              var shouldAbandon = getMinSwitchRequest(activeRules);
              return shouldAbandon || Object(_SwitchRequest__WEBPACK_IMPORTED_MODULE_9__["default"])(context).create();
            }
            function reset() {
              [qualitySwitchRules, abandonFragmentRules].forEach(function(rules) {
                if (rules && rules.length) {
                  rules.forEach(function(rule) {
                    return rule.reset && rule.reset();
                  });
                }
              });
              qualitySwitchRules = [];
              abandonFragmentRules = [];
            }
            function getQualitySwitchRules() {
              return qualitySwitchRules;
            }
            instance = {
              initialize,
              reset,
              getMaxQuality,
              getMinSwitchRequest,
              shouldAbandonFragment,
              getQualitySwitchRules
            };
            return instance;
          }
          ABRRulesCollection.__dashjs_factory_name = "ABRRulesCollection";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_8__["default"].getClassFactory(ABRRulesCollection);
          factory.QUALITY_SWITCH_RULES = QUALITY_SWITCH_RULES;
          factory.ABANDON_FRAGMENT_RULES = ABANDON_FRAGMENT_RULES;
          _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_8__["default"].updateSingletonFactory(ABRRulesCollection.__dashjs_factory_name, factory);
          __webpack_exports__["default"] = factory;
        },
        "./src/streaming/rules/abr/AbandonRequestsRule.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _SwitchRequest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/rules/SwitchRequest.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/Debug.js");
          function AbandonRequestsRule(config) {
            config = config || {};
            var ABANDON_MULTIPLIER = 1.8;
            var GRACE_TIME_THRESHOLD = 500;
            var MIN_LENGTH_TO_AVERAGE = 5;
            var context = this.context;
            var mediaPlayerModel = config.mediaPlayerModel;
            var dashMetrics = config.dashMetrics;
            var settings = config.settings;
            var instance, logger, fragmentDict, abandonDict, throughputArray;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_2__["default"])(context).getInstance().getLogger(instance);
              reset();
            }
            function setFragmentRequestDict(type, id) {
              fragmentDict[type] = fragmentDict[type] || {};
              fragmentDict[type][id] = fragmentDict[type][id] || {};
            }
            function storeLastRequestThroughputByType(type, throughput) {
              throughputArray[type] = throughputArray[type] || [];
              throughputArray[type].push(throughput);
            }
            function shouldAbandon(rulesContext) {
              var switchRequest = Object(_SwitchRequest__WEBPACK_IMPORTED_MODULE_0__["default"])(context).create(_SwitchRequest__WEBPACK_IMPORTED_MODULE_0__["default"].NO_CHANGE, {
                name: AbandonRequestsRule.__dashjs_factory_name
              });
              if (!rulesContext || !rulesContext.hasOwnProperty("getMediaInfo") || !rulesContext.hasOwnProperty("getMediaType") || !rulesContext.hasOwnProperty("getCurrentRequest") || !rulesContext.hasOwnProperty("getRepresentationInfo") || !rulesContext.hasOwnProperty("getAbrController")) {
                return switchRequest;
              }
              var mediaInfo = rulesContext.getMediaInfo();
              var mediaType = rulesContext.getMediaType();
              var streamInfo = rulesContext.getStreamInfo();
              var streamId = streamInfo ? streamInfo.id : null;
              var req = rulesContext.getCurrentRequest();
              if (!isNaN(req.index)) {
                setFragmentRequestDict(mediaType, req.index);
                var stableBufferTime = mediaPlayerModel.getStableBufferTime();
                var bufferLevel = dashMetrics.getCurrentBufferLevel(mediaType);
                if (bufferLevel > stableBufferTime) {
                  return switchRequest;
                }
                var fragmentInfo = fragmentDict[mediaType][req.index];
                if (fragmentInfo === null || req.firstByteDate === null || abandonDict.hasOwnProperty(fragmentInfo.id)) {
                  return switchRequest;
                }
                if (fragmentInfo.firstByteTime === void 0) {
                  throughputArray[mediaType] = [];
                  fragmentInfo.firstByteTime = req.firstByteDate.getTime();
                  fragmentInfo.segmentDuration = req.duration;
                  fragmentInfo.bytesTotal = req.bytesTotal;
                  fragmentInfo.id = req.index;
                }
                fragmentInfo.bytesLoaded = req.bytesLoaded;
                fragmentInfo.elapsedTime = new Date().getTime() - fragmentInfo.firstByteTime;
                if (fragmentInfo.bytesLoaded > 0 && fragmentInfo.elapsedTime > 0) {
                  storeLastRequestThroughputByType(mediaType, Math.round(fragmentInfo.bytesLoaded * 8 / fragmentInfo.elapsedTime));
                }
                if (throughputArray[mediaType].length >= MIN_LENGTH_TO_AVERAGE && fragmentInfo.elapsedTime > GRACE_TIME_THRESHOLD && fragmentInfo.bytesLoaded < fragmentInfo.bytesTotal) {
                  var totalSampledValue = throughputArray[mediaType].reduce(function(a4, b3) {
                    return a4 + b3;
                  }, 0);
                  fragmentInfo.measuredBandwidthInKbps = Math.round(totalSampledValue / throughputArray[mediaType].length);
                  fragmentInfo.estimatedTimeOfDownload = +(fragmentInfo.bytesTotal * 8 / fragmentInfo.measuredBandwidthInKbps / 1e3).toFixed(2);
                  if (fragmentInfo.estimatedTimeOfDownload < fragmentInfo.segmentDuration * ABANDON_MULTIPLIER || rulesContext.getRepresentationInfo().quality === 0) {
                    return switchRequest;
                  } else if (!abandonDict.hasOwnProperty(fragmentInfo.id)) {
                    var abrController = rulesContext.getAbrController();
                    var bytesRemaining = fragmentInfo.bytesTotal - fragmentInfo.bytesLoaded;
                    var bitrateList = abrController.getBitrateList(mediaInfo);
                    var quality = abrController.getQualityForBitrate(mediaInfo, fragmentInfo.measuredBandwidthInKbps * settings.get().streaming.abr.bandwidthSafetyFactor, streamId);
                    var minQuality = abrController.getMinAllowedIndexFor(mediaType, streamId);
                    var newQuality = minQuality !== void 0 ? Math.max(minQuality, quality) : quality;
                    var estimateOtherBytesTotal = fragmentInfo.bytesTotal * bitrateList[newQuality].bitrate / bitrateList[abrController.getQualityFor(mediaType, streamId)].bitrate;
                    if (bytesRemaining > estimateOtherBytesTotal) {
                      switchRequest.quality = newQuality;
                      switchRequest.reason.throughput = fragmentInfo.measuredBandwidthInKbps;
                      switchRequest.reason.fragmentID = fragmentInfo.id;
                      abandonDict[fragmentInfo.id] = fragmentInfo;
                      logger.debug("[" + mediaType + "] frag id", fragmentInfo.id, " is asking to abandon and switch to quality to ", newQuality, " measured bandwidth was", fragmentInfo.measuredBandwidthInKbps);
                      delete fragmentDict[mediaType][fragmentInfo.id];
                    }
                  }
                } else if (fragmentInfo.bytesLoaded === fragmentInfo.bytesTotal) {
                  delete fragmentDict[mediaType][fragmentInfo.id];
                }
              }
              return switchRequest;
            }
            function reset() {
              fragmentDict = {};
              abandonDict = {};
              throughputArray = [];
            }
            instance = {
              shouldAbandon,
              reset
            };
            setup();
            return instance;
          }
          AbandonRequestsRule.__dashjs_factory_name = "AbandonRequestsRule";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__["default"].getClassFactory(AbandonRequestsRule);
        },
        "./src/streaming/rules/abr/BolaRule.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/MetricsConstants.js");
          var _SwitchRequest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/rules/SwitchRequest.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/vo/metrics/HTTPRequest.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/core/events/Events.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/core/Debug.js");
          var _MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/streaming/MediaPlayerEvents.js");
          var BOLA_STATE_ONE_BITRATE = 0;
          var BOLA_STATE_STARTUP = 1;
          var BOLA_STATE_STEADY = 2;
          var MINIMUM_BUFFER_S = 10;
          var MINIMUM_BUFFER_PER_BITRATE_LEVEL_S = 2;
          var PLACEHOLDER_BUFFER_DECAY = 0.99;
          function BolaRule(config) {
            config = config || {};
            var context = this.context;
            var dashMetrics = config.dashMetrics;
            var mediaPlayerModel = config.mediaPlayerModel;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_4__["default"])(context).getInstance();
            var instance, logger, bolaStateDict;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_6__["default"])(context).getInstance().getLogger(instance);
              resetInitialSettings();
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].BUFFER_EMPTY, onBufferEmpty, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].PLAYBACK_SEEKING, onPlaybackSeeking, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].METRIC_ADDED, onMetricAdded, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].QUALITY_CHANGE_REQUESTED, onQualityChangeRequested, instance);
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].FRAGMENT_LOADING_ABANDONED, onFragmentLoadingAbandoned, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].MEDIA_FRAGMENT_LOADED, onMediaFragmentLoaded, instance);
            }
            function utilitiesFromBitrates(bitrates) {
              return bitrates.map(function(b3) {
                return Math.log(b3);
              });
            }
            function calculateBolaParameters(stableBufferTime, bitrates, utilities) {
              var highestUtilityIndex = utilities.reduce(function(highestIndex, u4, uIndex) {
                return u4 > utilities[highestIndex] ? uIndex : highestIndex;
              }, 0);
              if (highestUtilityIndex === 0) {
                return null;
              }
              var bufferTime = Math.max(stableBufferTime, MINIMUM_BUFFER_S + MINIMUM_BUFFER_PER_BITRATE_LEVEL_S * bitrates.length);
              var gp = (utilities[highestUtilityIndex] - 1) / (bufferTime / MINIMUM_BUFFER_S - 1);
              var Vp = MINIMUM_BUFFER_S / gp;
              return {
                gp,
                Vp
              };
            }
            function getInitialBolaState(rulesContext) {
              var initialState = {};
              var mediaInfo = rulesContext.getMediaInfo();
              var bitrates = mediaInfo.bitrateList.map(function(b3) {
                return b3.bandwidth;
              });
              var utilities = utilitiesFromBitrates(bitrates);
              utilities = utilities.map(function(u4) {
                return u4 - utilities[0] + 1;
              });
              var stableBufferTime = mediaPlayerModel.getStableBufferTime();
              var params = calculateBolaParameters(stableBufferTime, bitrates, utilities);
              if (!params) {
                initialState.state = BOLA_STATE_ONE_BITRATE;
              } else {
                initialState.state = BOLA_STATE_STARTUP;
                initialState.bitrates = bitrates;
                initialState.utilities = utilities;
                initialState.stableBufferTime = stableBufferTime;
                initialState.Vp = params.Vp;
                initialState.gp = params.gp;
                initialState.lastQuality = 0;
                clearBolaStateOnSeek(initialState);
              }
              return initialState;
            }
            function clearBolaStateOnSeek(bolaState) {
              bolaState.placeholderBuffer = 0;
              bolaState.mostAdvancedSegmentStart = NaN;
              bolaState.lastSegmentWasReplacement = false;
              bolaState.lastSegmentStart = NaN;
              bolaState.lastSegmentDurationS = NaN;
              bolaState.lastSegmentRequestTimeMs = NaN;
              bolaState.lastSegmentFinishTimeMs = NaN;
            }
            function checkBolaStateStableBufferTime(bolaState, mediaType) {
              var stableBufferTime = mediaPlayerModel.getStableBufferTime();
              if (bolaState.stableBufferTime !== stableBufferTime) {
                var params = calculateBolaParameters(stableBufferTime, bolaState.bitrates, bolaState.utilities);
                if (params.Vp !== bolaState.Vp || params.gp !== bolaState.gp) {
                  var bufferLevel = dashMetrics.getCurrentBufferLevel(mediaType);
                  var effectiveBufferLevel = bufferLevel + bolaState.placeholderBuffer;
                  effectiveBufferLevel -= MINIMUM_BUFFER_S;
                  effectiveBufferLevel *= params.Vp / bolaState.Vp;
                  effectiveBufferLevel += MINIMUM_BUFFER_S;
                  bolaState.stableBufferTime = stableBufferTime;
                  bolaState.Vp = params.Vp;
                  bolaState.gp = params.gp;
                  bolaState.placeholderBuffer = Math.max(0, effectiveBufferLevel - bufferLevel);
                }
              }
            }
            function getBolaState(rulesContext) {
              var mediaType = rulesContext.getMediaType();
              var bolaState = bolaStateDict[mediaType];
              if (!bolaState) {
                bolaState = getInitialBolaState(rulesContext);
                bolaStateDict[mediaType] = bolaState;
              } else if (bolaState.state !== BOLA_STATE_ONE_BITRATE) {
                checkBolaStateStableBufferTime(bolaState, mediaType);
              }
              return bolaState;
            }
            function getQualityFromBufferLevel(bolaState, bufferLevel) {
              var bitrateCount = bolaState.bitrates.length;
              var quality = NaN;
              var score = NaN;
              for (var i3 = 0; i3 < bitrateCount; ++i3) {
                var s3 = (bolaState.Vp * (bolaState.utilities[i3] + bolaState.gp) - bufferLevel) / bolaState.bitrates[i3];
                if (isNaN(score) || s3 >= score) {
                  score = s3;
                  quality = i3;
                }
              }
              return quality;
            }
            function maxBufferLevelForQuality(bolaState, quality) {
              return bolaState.Vp * (bolaState.utilities[quality] + bolaState.gp);
            }
            function minBufferLevelForQuality(bolaState, quality) {
              var qBitrate = bolaState.bitrates[quality];
              var qUtility = bolaState.utilities[quality];
              var min = 0;
              for (var i3 = quality - 1; i3 >= 0; --i3) {
                if (bolaState.utilities[i3] < bolaState.utilities[quality]) {
                  var iBitrate = bolaState.bitrates[i3];
                  var iUtility = bolaState.utilities[i3];
                  var level = bolaState.Vp * (bolaState.gp + (qBitrate * iUtility - iBitrate * qUtility) / (qBitrate - iBitrate));
                  min = Math.max(min, level);
                }
              }
              return min;
            }
            function updatePlaceholderBuffer(bolaState, mediaType) {
              var nowMs = Date.now();
              if (!isNaN(bolaState.lastSegmentFinishTimeMs)) {
                var delay = 1e-3 * (nowMs - bolaState.lastSegmentFinishTimeMs);
                bolaState.placeholderBuffer += Math.max(0, delay);
              } else if (!isNaN(bolaState.lastCallTimeMs)) {
                var _delay = 1e-3 * (nowMs - bolaState.lastCallTimeMs);
                bolaState.placeholderBuffer += Math.max(0, _delay);
              }
              bolaState.lastCallTimeMs = nowMs;
              bolaState.lastSegmentStart = NaN;
              bolaState.lastSegmentRequestTimeMs = NaN;
              bolaState.lastSegmentFinishTimeMs = NaN;
              checkBolaStateStableBufferTime(bolaState, mediaType);
            }
            function onBufferEmpty() {
              for (var mediaType in bolaStateDict) {
                if (bolaStateDict.hasOwnProperty(mediaType) && bolaStateDict[mediaType].state === BOLA_STATE_STEADY) {
                  bolaStateDict[mediaType].placeholderBuffer = 0;
                }
              }
            }
            function onPlaybackSeeking() {
              for (var mediaType in bolaStateDict) {
                if (bolaStateDict.hasOwnProperty(mediaType)) {
                  var bolaState = bolaStateDict[mediaType];
                  if (bolaState.state !== BOLA_STATE_ONE_BITRATE) {
                    bolaState.state = BOLA_STATE_STARTUP;
                    clearBolaStateOnSeek(bolaState);
                  }
                }
              }
            }
            function onMediaFragmentLoaded(e) {
              if (e && e.chunk && e.chunk.mediaInfo) {
                var bolaState = bolaStateDict[e.chunk.mediaInfo.type];
                if (bolaState && bolaState.state !== BOLA_STATE_ONE_BITRATE) {
                  var start = e.chunk.start;
                  if (isNaN(bolaState.mostAdvancedSegmentStart) || start > bolaState.mostAdvancedSegmentStart) {
                    bolaState.mostAdvancedSegmentStart = start;
                    bolaState.lastSegmentWasReplacement = false;
                  } else {
                    bolaState.lastSegmentWasReplacement = true;
                  }
                  bolaState.lastSegmentStart = start;
                  bolaState.lastSegmentDurationS = e.chunk.duration;
                  bolaState.lastQuality = e.chunk.quality;
                  checkNewSegment(bolaState, e.chunk.mediaInfo.type);
                }
              }
            }
            function onMetricAdded(e) {
              if (e && e.metric === _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_0__["default"].HTTP_REQUEST && e.value && e.value.type === _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_3__["HTTPRequest"].MEDIA_SEGMENT_TYPE && e.value.trace && e.value.trace.length) {
                var bolaState = bolaStateDict[e.mediaType];
                if (bolaState && bolaState.state !== BOLA_STATE_ONE_BITRATE) {
                  bolaState.lastSegmentRequestTimeMs = e.value.trequest.getTime();
                  bolaState.lastSegmentFinishTimeMs = e.value._tfinish.getTime();
                  checkNewSegment(bolaState, e.mediaType);
                }
              }
            }
            function checkNewSegment(bolaState, mediaType) {
              if (!isNaN(bolaState.lastSegmentStart) && !isNaN(bolaState.lastSegmentRequestTimeMs) && !isNaN(bolaState.placeholderBuffer)) {
                bolaState.placeholderBuffer *= PLACEHOLDER_BUFFER_DECAY;
                if (!isNaN(bolaState.lastSegmentFinishTimeMs)) {
                  var bufferLevel = dashMetrics.getCurrentBufferLevel(mediaType);
                  var bufferAtLastSegmentRequest = bufferLevel + 1e-3 * (bolaState.lastSegmentFinishTimeMs - bolaState.lastSegmentRequestTimeMs);
                  var maxEffectiveBufferForLastSegment = maxBufferLevelForQuality(bolaState, bolaState.lastQuality);
                  var maxPlaceholderBuffer = Math.max(0, maxEffectiveBufferForLastSegment - bufferAtLastSegmentRequest);
                  bolaState.placeholderBuffer = Math.min(maxPlaceholderBuffer, bolaState.placeholderBuffer);
                }
                if (bolaState.lastSegmentWasReplacement && !isNaN(bolaState.lastSegmentDurationS)) {
                  bolaState.placeholderBuffer += bolaState.lastSegmentDurationS;
                }
                bolaState.lastSegmentStart = NaN;
                bolaState.lastSegmentRequestTimeMs = NaN;
              }
            }
            function onQualityChangeRequested(e) {
              if (e) {
                var bolaState = bolaStateDict[e.mediaType];
                if (bolaState && bolaState.state !== BOLA_STATE_ONE_BITRATE) {
                  bolaState.abrQuality = e.newQuality;
                }
              }
            }
            function onFragmentLoadingAbandoned(e) {
              if (e) {
                var bolaState = bolaStateDict[e.mediaType];
                if (bolaState && bolaState.state !== BOLA_STATE_ONE_BITRATE) {
                  var bufferLevel = dashMetrics.getCurrentBufferLevel(e.mediaType);
                  var wantEffectiveBufferLevel;
                  if (bolaState.abrQuality > 0) {
                    wantEffectiveBufferLevel = minBufferLevelForQuality(bolaState, bolaState.abrQuality);
                  } else {
                    wantEffectiveBufferLevel = MINIMUM_BUFFER_S;
                  }
                  var maxPlaceholderBuffer = Math.max(0, wantEffectiveBufferLevel - bufferLevel);
                  bolaState.placeholderBuffer = Math.min(bolaState.placeholderBuffer, maxPlaceholderBuffer);
                }
              }
            }
            function getMaxIndex(rulesContext) {
              var switchRequest = Object(_SwitchRequest__WEBPACK_IMPORTED_MODULE_1__["default"])(context).create();
              if (!rulesContext || !rulesContext.hasOwnProperty("getMediaInfo") || !rulesContext.hasOwnProperty("getMediaType") || !rulesContext.hasOwnProperty("getScheduleController") || !rulesContext.hasOwnProperty("getStreamInfo") || !rulesContext.hasOwnProperty("getAbrController") || !rulesContext.hasOwnProperty("useBufferOccupancyABR")) {
                return switchRequest;
              }
              var mediaInfo = rulesContext.getMediaInfo();
              var mediaType = rulesContext.getMediaType();
              var scheduleController = rulesContext.getScheduleController();
              var streamInfo = rulesContext.getStreamInfo();
              var abrController = rulesContext.getAbrController();
              var throughputHistory = abrController.getThroughputHistory();
              var streamId = streamInfo ? streamInfo.id : null;
              var isDynamic = streamInfo && streamInfo.manifestInfo && streamInfo.manifestInfo.isDynamic;
              var useBufferOccupancyABR = rulesContext.useBufferOccupancyABR();
              switchRequest.reason = switchRequest.reason || {};
              if (!useBufferOccupancyABR) {
                return switchRequest;
              }
              scheduleController.setTimeToLoadDelay(0);
              var bolaState = getBolaState(rulesContext);
              if (bolaState.state === BOLA_STATE_ONE_BITRATE) {
                return switchRequest;
              }
              var bufferLevel = dashMetrics.getCurrentBufferLevel(mediaType);
              var throughput = throughputHistory.getAverageThroughput(mediaType, isDynamic);
              var safeThroughput = throughputHistory.getSafeAverageThroughput(mediaType, isDynamic);
              var latency = throughputHistory.getAverageLatency(mediaType);
              var quality;
              switchRequest.reason.state = bolaState.state;
              switchRequest.reason.throughput = throughput;
              switchRequest.reason.latency = latency;
              if (isNaN(throughput)) {
                return switchRequest;
              }
              switch (bolaState.state) {
                case BOLA_STATE_STARTUP:
                  quality = abrController.getQualityForBitrate(mediaInfo, safeThroughput, streamId, latency);
                  switchRequest.quality = quality;
                  switchRequest.reason.throughput = safeThroughput;
                  bolaState.placeholderBuffer = Math.max(0, minBufferLevelForQuality(bolaState, quality) - bufferLevel);
                  bolaState.lastQuality = quality;
                  if (!isNaN(bolaState.lastSegmentDurationS) && bufferLevel >= bolaState.lastSegmentDurationS) {
                    bolaState.state = BOLA_STATE_STEADY;
                  }
                  break;
                case BOLA_STATE_STEADY:
                  updatePlaceholderBuffer(bolaState, mediaType);
                  quality = getQualityFromBufferLevel(bolaState, bufferLevel + bolaState.placeholderBuffer);
                  var qualityForThroughput = abrController.getQualityForBitrate(mediaInfo, safeThroughput, streamId, latency);
                  if (quality > bolaState.lastQuality && quality > qualityForThroughput) {
                    quality = Math.max(qualityForThroughput, bolaState.lastQuality);
                  }
                  var delayS = Math.max(0, bufferLevel + bolaState.placeholderBuffer - maxBufferLevelForQuality(bolaState, quality));
                  if (delayS <= bolaState.placeholderBuffer) {
                    bolaState.placeholderBuffer -= delayS;
                    delayS = 0;
                  } else {
                    delayS -= bolaState.placeholderBuffer;
                    bolaState.placeholderBuffer = 0;
                    if (quality < abrController.getMaxAllowedIndexFor(mediaType, streamId)) {
                      scheduleController.setTimeToLoadDelay(1e3 * delayS);
                    } else {
                      delayS = 0;
                    }
                  }
                  switchRequest.quality = quality;
                  switchRequest.reason.throughput = throughput;
                  switchRequest.reason.latency = latency;
                  switchRequest.reason.bufferLevel = bufferLevel;
                  switchRequest.reason.placeholderBuffer = bolaState.placeholderBuffer;
                  switchRequest.reason.delay = delayS;
                  bolaState.lastQuality = quality;
                  break;
                default:
                  logger.debug("BOLA ABR rule invoked in bad state.");
                  switchRequest.quality = abrController.getQualityForBitrate(mediaInfo, safeThroughput, streamId, latency);
                  switchRequest.reason.state = bolaState.state;
                  switchRequest.reason.throughput = safeThroughput;
                  switchRequest.reason.latency = latency;
                  bolaState.state = BOLA_STATE_STARTUP;
                  clearBolaStateOnSeek(bolaState);
              }
              return switchRequest;
            }
            function resetInitialSettings() {
              bolaStateDict = {};
            }
            function reset() {
              resetInitialSettings();
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].BUFFER_EMPTY, onBufferEmpty, instance);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].PLAYBACK_SEEKING, onPlaybackSeeking, instance);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].METRIC_ADDED, onMetricAdded, instance);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].QUALITY_CHANGE_REQUESTED, onQualityChangeRequested, instance);
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].FRAGMENT_LOADING_ABANDONED, onFragmentLoadingAbandoned, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].MEDIA_FRAGMENT_LOADED, onMediaFragmentLoaded, instance);
            }
            instance = {
              getMaxIndex,
              reset
            };
            setup();
            return instance;
          }
          BolaRule.__dashjs_factory_name = "BolaRule";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__["default"].getClassFactory(BolaRule);
        },
        "./src/streaming/rules/abr/DroppedFramesRule.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _SwitchRequest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/rules/SwitchRequest.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/Debug.js");
          function DroppedFramesRule() {
            var context = this.context;
            var instance, logger;
            var DROPPED_PERCENTAGE_FORBID = 0.15;
            var GOOD_SAMPLE_SIZE = 375;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_2__["default"])(context).getInstance().getLogger(instance);
            }
            function getMaxIndex(rulesContext) {
              var switchRequest = Object(_SwitchRequest__WEBPACK_IMPORTED_MODULE_1__["default"])(context).create();
              if (!rulesContext || !rulesContext.hasOwnProperty("getDroppedFramesHistory")) {
                return switchRequest;
              }
              var droppedFramesHistory = rulesContext.getDroppedFramesHistory();
              var streamId = rulesContext.getStreamInfo().id;
              if (droppedFramesHistory) {
                var dfh = droppedFramesHistory.getFrameHistory(streamId);
                if (!dfh || dfh.length === 0) {
                  return switchRequest;
                }
                var droppedFrames = 0;
                var totalFrames = 0;
                var maxIndex = _SwitchRequest__WEBPACK_IMPORTED_MODULE_1__["default"].NO_CHANGE;
                for (var i3 = 1; i3 < dfh.length; i3++) {
                  if (dfh[i3]) {
                    droppedFrames = dfh[i3].droppedVideoFrames;
                    totalFrames = dfh[i3].totalVideoFrames;
                    if (totalFrames > GOOD_SAMPLE_SIZE && droppedFrames / totalFrames > DROPPED_PERCENTAGE_FORBID) {
                      maxIndex = i3 - 1;
                      logger.debug("index: " + maxIndex + " Dropped Frames: " + droppedFrames + " Total Frames: " + totalFrames);
                      break;
                    }
                  }
                }
                return Object(_SwitchRequest__WEBPACK_IMPORTED_MODULE_1__["default"])(context).create(maxIndex, {
                  droppedFrames
                });
              }
              return switchRequest;
            }
            instance = {
              getMaxIndex
            };
            setup();
            return instance;
          }
          DroppedFramesRule.__dashjs_factory_name = "DroppedFramesRule";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(DroppedFramesRule);
        },
        "./src/streaming/rules/abr/InsufficientBufferRule.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/events/Events.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/core/Debug.js");
          var _SwitchRequest__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/rules/SwitchRequest.js");
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/streaming/constants/MetricsConstants.js");
          var _MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/streaming/MediaPlayerEvents.js");
          function InsufficientBufferRule(config) {
            config = config || {};
            var INSUFFICIENT_BUFFER_SAFETY_FACTOR = 0.5;
            var SEGMENT_IGNORE_COUNT = 2;
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_0__["default"])(context).getInstance();
            var dashMetrics = config.dashMetrics;
            var settings = config.settings;
            var instance, logger, bufferStateDict;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_3__["default"])(context).getInstance().getLogger(instance);
              resetInitialSettings();
              eventBus.on(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].PLAYBACK_SEEKING, _onPlaybackSeeking, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_1__["default"].BYTES_APPENDED_END_FRAGMENT, _onBytesAppended, instance);
            }
            function checkConfig() {
              if (!dashMetrics || !dashMetrics.hasOwnProperty("getCurrentBufferLevel") || !dashMetrics.hasOwnProperty("getCurrentBufferState")) {
                throw new Error(_constants_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].MISSING_CONFIG_ERROR);
              }
            }
            function getMaxIndex(rulesContext) {
              var switchRequest = Object(_SwitchRequest__WEBPACK_IMPORTED_MODULE_4__["default"])(context).create();
              if (!rulesContext || !rulesContext.hasOwnProperty("getMediaType")) {
                return switchRequest;
              }
              checkConfig();
              var mediaType = rulesContext.getMediaType();
              var currentBufferState = dashMetrics.getCurrentBufferState(mediaType);
              var representationInfo = rulesContext.getRepresentationInfo();
              var fragmentDuration = representationInfo.fragmentDuration;
              var streamInfo = rulesContext.getStreamInfo();
              var streamId = streamInfo ? streamInfo.id : null;
              if (shouldIgnore(mediaType) || !fragmentDuration) {
                return switchRequest;
              }
              if (currentBufferState && currentBufferState.state === _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_6__["default"].BUFFER_EMPTY) {
                logger.debug("[" + mediaType + "] Switch to index 0; buffer is empty.");
                switchRequest.quality = 0;
                switchRequest.reason = "InsufficientBufferRule: Buffer is empty";
              } else {
                var mediaInfo = rulesContext.getMediaInfo();
                var abrController = rulesContext.getAbrController();
                var throughputHistory = abrController.getThroughputHistory();
                var bufferLevel = dashMetrics.getCurrentBufferLevel(mediaType);
                var throughput = throughputHistory.getAverageThroughput(mediaType);
                var latency = throughputHistory.getAverageLatency(mediaType);
                var bitrate = throughput * (bufferLevel / fragmentDuration) * INSUFFICIENT_BUFFER_SAFETY_FACTOR;
                switchRequest.quality = abrController.getQualityForBitrate(mediaInfo, bitrate, streamId, latency);
                switchRequest.reason = "InsufficientBufferRule: being conservative to avoid immediate rebuffering";
              }
              return switchRequest;
            }
            function shouldIgnore(mediaType) {
              return !settings.get().streaming.lowLatencyEnabled && bufferStateDict[mediaType].ignoreCount > 0;
            }
            function resetInitialSettings() {
              bufferStateDict = {};
              bufferStateDict[_constants_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].VIDEO] = {
                ignoreCount: SEGMENT_IGNORE_COUNT
              };
              bufferStateDict[_constants_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].AUDIO] = {
                ignoreCount: SEGMENT_IGNORE_COUNT
              };
            }
            function _onPlaybackSeeking() {
              resetInitialSettings();
            }
            function _onBytesAppended(e) {
              if (!isNaN(e.startTime) && (e.mediaType === _constants_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].AUDIO || e.mediaType === _constants_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].VIDEO)) {
                if (bufferStateDict[e.mediaType].ignoreCount > 0) {
                  bufferStateDict[e.mediaType].ignoreCount--;
                }
              }
            }
            function reset() {
              resetInitialSettings();
              eventBus.off(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_7__["default"].PLAYBACK_SEEKING, _onPlaybackSeeking, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_1__["default"].BYTES_APPENDED_END_FRAGMENT, _onBytesAppended, instance);
            }
            instance = {
              getMaxIndex,
              reset
            };
            setup();
            return instance;
          }
          InsufficientBufferRule.__dashjs_factory_name = "InsufficientBufferRule";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__["default"].getClassFactory(InsufficientBufferRule);
        },
        "./src/streaming/rules/abr/L2ARule.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/MetricsConstants.js");
          var _SwitchRequest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/rules/SwitchRequest.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/vo/metrics/HTTPRequest.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/core/events/Events.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/core/Debug.js");
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var L2A_STATE_ONE_BITRATE = 0;
          var L2A_STATE_STARTUP = 1;
          var L2A_STATE_STEADY = 2;
          function L2ARule(config) {
            config = config || {};
            var context = this.context;
            var dashMetrics = config.dashMetrics;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_4__["default"])(context).getInstance();
            var instance, l2AStateDict, l2AParameterDict, logger;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_6__["default"])(context).getInstance().getLogger(instance);
              _resetInitialSettings();
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].PLAYBACK_SEEKING, _onPlaybackSeeking, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].MEDIA_FRAGMENT_LOADED, _onMediaFragmentLoaded, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].METRIC_ADDED, _onMetricAdded, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].QUALITY_CHANGE_REQUESTED, _onQualityChangeRequested, instance);
            }
            function _getInitialL2AState(rulesContext) {
              var initialState = {};
              var mediaInfo = rulesContext.getMediaInfo();
              var bitrates = mediaInfo.bitrateList.map(function(b3) {
                return b3.bandwidth / 1e3;
              });
              initialState.state = L2A_STATE_STARTUP;
              initialState.bitrates = bitrates;
              initialState.lastQuality = 0;
              _initializeL2AParameters(mediaInfo);
              _clearL2AStateOnSeek(initialState);
              return initialState;
            }
            function _initializeL2AParameters(mediaInfo) {
              if (!mediaInfo || !mediaInfo.type) {
                return;
              }
              l2AParameterDict[mediaInfo.type] = {};
              l2AParameterDict[mediaInfo.type].w = [];
              l2AParameterDict[mediaInfo.type].prev_w = [];
              l2AParameterDict[mediaInfo.type].Q = 0;
              l2AParameterDict[mediaInfo.type].segment_request_start_s = 0;
              l2AParameterDict[mediaInfo.type].segment_download_finish_s = 0;
              l2AParameterDict[mediaInfo.type].B_target = 1.5;
            }
            function _clearL2AStateOnSeek(l2AState) {
              l2AState.placeholderBuffer = 0;
              l2AState.mostAdvancedSegmentStart = NaN;
              l2AState.lastSegmentWasReplacement = false;
              l2AState.lastSegmentStart = NaN;
              l2AState.lastSegmentDurationS = NaN;
              l2AState.lastSegmentRequestTimeMs = NaN;
              l2AState.lastSegmentFinishTimeMs = NaN;
            }
            function _getL2AState(rulesContext) {
              var mediaType = rulesContext.getMediaType();
              var l2AState = l2AStateDict[mediaType];
              if (!l2AState) {
                l2AState = _getInitialL2AState(rulesContext);
                l2AStateDict[mediaType] = l2AState;
              }
              return l2AState;
            }
            function _onPlaybackSeeking() {
              for (var mediaType in l2AStateDict) {
                if (l2AStateDict.hasOwnProperty(mediaType)) {
                  var l2aState = l2AStateDict[mediaType];
                  if (l2aState.state !== L2A_STATE_ONE_BITRATE) {
                    l2aState.state = L2A_STATE_STARTUP;
                    _clearL2AStateOnSeek(l2aState);
                  }
                }
              }
            }
            function _onMediaFragmentLoaded(e) {
              if (e && e.chunk && e.chunk.mediaInfo) {
                var l2AState = l2AStateDict[e.chunk.mediaInfo.type];
                var l2AParameters = l2AParameterDict[e.chunk.mediaInfo.type];
                if (l2AState && l2AState.state !== L2A_STATE_ONE_BITRATE) {
                  var start = e.chunk.start;
                  if (isNaN(l2AState.mostAdvancedSegmentStart) || start > l2AState.mostAdvancedSegmentStart) {
                    l2AState.mostAdvancedSegmentStart = start;
                    l2AState.lastSegmentWasReplacement = false;
                  } else {
                    l2AState.lastSegmentWasReplacement = true;
                  }
                  l2AState.lastSegmentStart = start;
                  l2AState.lastSegmentDurationS = e.chunk.duration;
                  l2AState.lastQuality = e.chunk.quality;
                  _checkNewSegment(l2AState, l2AParameters);
                }
              }
            }
            function _onMetricAdded(e) {
              if (e && e.metric === _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_0__["default"].HTTP_REQUEST && e.value && e.value.type === _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_3__["HTTPRequest"].MEDIA_SEGMENT_TYPE && e.value.trace && e.value.trace.length) {
                var l2AState = l2AStateDict[e.mediaType];
                var l2AParameters = l2AParameterDict[e.mediaType];
                if (l2AState && l2AState.state !== L2A_STATE_ONE_BITRATE) {
                  l2AState.lastSegmentRequestTimeMs = e.value.trequest.getTime();
                  l2AState.lastSegmentFinishTimeMs = e.value._tfinish.getTime();
                  _checkNewSegment(l2AState, l2AParameters);
                }
              }
            }
            function _checkNewSegment(L2AState, l2AParameters) {
              if (!isNaN(L2AState.lastSegmentStart) && !isNaN(L2AState.lastSegmentRequestTimeMs)) {
                l2AParameters.segment_request_start_s = 1e-3 * L2AState.lastSegmentRequestTimeMs;
                l2AParameters.segment_download_finish_s = 1e-3 * L2AState.lastSegmentFinishTimeMs;
                L2AState.lastSegmentStart = NaN;
                L2AState.lastSegmentRequestTimeMs = NaN;
              }
            }
            function _onQualityChangeRequested(e) {
              if (e && e.mediaType) {
                var L2AState = l2AStateDict[e.mediaType];
                if (L2AState && L2AState.state !== L2A_STATE_ONE_BITRATE) {
                  L2AState.abrQuality = e.newQuality;
                }
              }
            }
            function _dotmultiplication(arr1, arr2) {
              if (arr1.length !== arr2.length) {
                return -1;
              }
              var sumdot = 0;
              for (var i3 = 0; i3 < arr1.length; i3++) {
                sumdot = sumdot + arr1[i3] * arr2[i3];
              }
              return sumdot;
            }
            function euclideanProjection(arr) {
              var m2 = arr.length;
              var bget = false;
              var arr2 = [];
              for (var ii = 0; ii < m2; ++ii) {
                arr2[ii] = arr[ii];
              }
              var s3 = arr.sort(function(a4, b3) {
                return b3 - a4;
              });
              var tmpsum = 0;
              var tmax = 0;
              var x3 = [];
              for (var _ii = 0; _ii < m2 - 1; ++_ii) {
                tmpsum = tmpsum + s3[_ii];
                tmax = (tmpsum - 1) / (_ii + 1);
                if (tmax >= s3[_ii + 1]) {
                  bget = true;
                  break;
                }
              }
              if (!bget) {
                tmax = (tmpsum + s3[m2 - 1] - 1) / m2;
              }
              for (var _ii2 = 0; _ii2 < m2; ++_ii2) {
                x3[_ii2] = Math.max(arr2[_ii2] - tmax, 0);
              }
              return x3;
            }
            function getMaxIndex(rulesContext) {
              var switchRequest = Object(_SwitchRequest__WEBPACK_IMPORTED_MODULE_1__["default"])(context).create();
              var horizon = 4;
              var vl = Math.pow(horizon, 0.99);
              var alpha = Math.max(Math.pow(horizon, 1), vl * Math.sqrt(horizon));
              var mediaInfo = rulesContext.getMediaInfo();
              var mediaType = rulesContext.getMediaType();
              var bitrates = mediaInfo.bitrateList.map(function(b3) {
                return b3.bandwidth;
              });
              var bitrateCount = bitrates.length;
              var scheduleController = rulesContext.getScheduleController();
              var streamInfo = rulesContext.getStreamInfo();
              var abrController = rulesContext.getAbrController();
              var throughputHistory = abrController.getThroughputHistory();
              var isDynamic = streamInfo && streamInfo.manifestInfo && streamInfo.manifestInfo.isDynamic;
              var useL2AABR = rulesContext.useL2AABR();
              var bufferLevel = dashMetrics.getCurrentBufferLevel(mediaType, true);
              var safeThroughput = throughputHistory.getSafeAverageThroughput(mediaType, isDynamic);
              var throughput = throughputHistory.getAverageThroughput(mediaType, isDynamic);
              var react = 2;
              var latency = throughputHistory.getAverageLatency(mediaType);
              var videoModel = rulesContext.getVideoModel();
              var quality;
              var currentPlaybackRate = videoModel.getPlaybackRate();
              if (!rulesContext || !rulesContext.hasOwnProperty("getMediaInfo") || !rulesContext.hasOwnProperty("getMediaType") || !rulesContext.hasOwnProperty("getScheduleController") || !rulesContext.hasOwnProperty("getStreamInfo") || !rulesContext.hasOwnProperty("getAbrController") || !rulesContext.hasOwnProperty("useL2AABR")) {
                return switchRequest;
              }
              switchRequest.reason = switchRequest.reason || {};
              if (!useL2AABR || mediaType === _constants_Constants__WEBPACK_IMPORTED_MODULE_7__["default"].AUDIO) {
                return switchRequest;
              }
              scheduleController.setTimeToLoadDelay(0);
              var l2AState = _getL2AState(rulesContext);
              if (l2AState.state === L2A_STATE_ONE_BITRATE) {
                return switchRequest;
              }
              var l2AParameter = l2AParameterDict[mediaType];
              if (!l2AParameter) {
                return switchRequest;
              }
              switchRequest.reason.state = l2AState.state;
              switchRequest.reason.throughput = throughput;
              switchRequest.reason.latency = latency;
              if (isNaN(throughput)) {
                return switchRequest;
              }
              switch (l2AState.state) {
                case L2A_STATE_STARTUP:
                  quality = abrController.getQualityForBitrate(mediaInfo, safeThroughput, streamInfo.id, latency);
                  switchRequest.quality = quality;
                  switchRequest.reason.throughput = safeThroughput;
                  l2AState.lastQuality = quality;
                  if (!isNaN(l2AState.lastSegmentDurationS) && bufferLevel >= l2AParameter.B_target) {
                    l2AState.state = L2A_STATE_STEADY;
                    l2AParameter.Q = vl;
                    for (var i3 = 0; i3 < bitrateCount; ++i3) {
                      if (i3 === l2AState.lastQuality) {
                        l2AParameter.prev_w[i3] = 1;
                      } else {
                        l2AParameter.prev_w[i3] = 0;
                      }
                    }
                  }
                  break;
                case L2A_STATE_STEADY:
                  var diff1 = [];
                  var throughputMeasureTime = dashMetrics.getCurrentHttpRequest(mediaType).trace.reduce(function(a4, b3) {
                    return a4 + b3.d;
                  }, 0);
                  var downloadBytes = dashMetrics.getCurrentHttpRequest(mediaType).trace.reduce(function(a4, b3) {
                    return a4 + b3.b[0];
                  }, 0);
                  var lastthroughput = Math.round(8 * downloadBytes / throughputMeasureTime);
                  if (lastthroughput < 1) {
                    lastthroughput = 1;
                  }
                  var V = l2AState.lastSegmentDurationS;
                  var sign = 1;
                  for (var _i = 0; _i < bitrateCount; ++_i) {
                    bitrates[_i] = bitrates[_i] / 1e3;
                    if (currentPlaybackRate * bitrates[_i] > lastthroughput) {
                      sign = -1;
                    }
                    l2AParameter.w[_i] = l2AParameter.prev_w[_i] + sign * (V / (2 * alpha)) * ((l2AParameter.Q + vl) * (currentPlaybackRate * bitrates[_i] / lastthroughput));
                  }
                  l2AParameter.w = euclideanProjection(l2AParameter.w);
                  for (var _i2 = 0; _i2 < bitrateCount; ++_i2) {
                    diff1[_i2] = l2AParameter.w[_i2] - l2AParameter.prev_w[_i2];
                    l2AParameter.prev_w[_i2] = l2AParameter.w[_i2];
                  }
                  l2AParameter.Q = Math.max(0, l2AParameter.Q - V + V * currentPlaybackRate * ((_dotmultiplication(bitrates, l2AParameter.prev_w) + _dotmultiplication(bitrates, diff1)) / lastthroughput));
                  var temp = [];
                  for (var _i3 = 0; _i3 < bitrateCount; ++_i3) {
                    temp[_i3] = Math.abs(bitrates[_i3] - _dotmultiplication(l2AParameter.w, bitrates));
                  }
                  quality = temp.indexOf(Math.min.apply(Math, temp));
                  if (quality > l2AState.lastQuality) {
                    if (bitrates[l2AState.lastQuality + 1] <= lastthroughput) {
                      quality = l2AState.lastQuality + 1;
                    }
                  }
                  if (bitrates[quality] >= lastthroughput) {
                    l2AParameter.Q = react * Math.max(vl, l2AParameter.Q);
                  }
                  switchRequest.quality = quality;
                  switchRequest.reason.throughput = throughput;
                  switchRequest.reason.latency = latency;
                  switchRequest.reason.bufferLevel = bufferLevel;
                  l2AState.lastQuality = switchRequest.quality;
                  break;
                default:
                  logger.debug("L2A ABR rule invoked in bad state.");
                  switchRequest.quality = abrController.getQualityForBitrate(mediaInfo, safeThroughput, streamInfo.id, latency);
                  switchRequest.reason.state = l2AState.state;
                  switchRequest.reason.throughput = safeThroughput;
                  switchRequest.reason.latency = latency;
                  l2AState.state = L2A_STATE_STARTUP;
                  _clearL2AStateOnSeek(l2AState);
              }
              return switchRequest;
            }
            function _resetInitialSettings() {
              l2AStateDict = {};
              l2AParameterDict = {};
            }
            function reset() {
              _resetInitialSettings();
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].PLAYBACK_SEEKING, _onPlaybackSeeking, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].MEDIA_FRAGMENT_LOADED, _onMediaFragmentLoaded, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].METRIC_ADDED, _onMetricAdded, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_5__["default"].QUALITY_CHANGE_REQUESTED, _onQualityChangeRequested, instance);
            }
            instance = {
              getMaxIndex,
              reset
            };
            setup();
            return instance;
          }
          L2ARule.__dashjs_factory_name = "L2ARule";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__["default"].getClassFactory(L2ARule);
        },
        "./src/streaming/rules/abr/SwitchHistoryRule.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/Debug.js");
          var _SwitchRequest__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/rules/SwitchRequest.js");
          function SwitchHistoryRule() {
            var context = this.context;
            var instance, logger;
            var MAX_SWITCH = 0.075;
            var SAMPLE_SIZE = 6;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_1__["default"])(context).getInstance().getLogger(instance);
            }
            function getMaxIndex(rulesContext) {
              var switchRequestHistory = rulesContext ? rulesContext.getSwitchHistory() : null;
              var switchRequests = switchRequestHistory ? switchRequestHistory.getSwitchRequests() : [];
              var drops = 0;
              var noDrops = 0;
              var dropSize = 0;
              var switchRequest = Object(_SwitchRequest__WEBPACK_IMPORTED_MODULE_2__["default"])(context).create();
              for (var i3 = 0; i3 < switchRequests.length; i3++) {
                if (switchRequests[i3] !== void 0) {
                  drops += switchRequests[i3].drops;
                  noDrops += switchRequests[i3].noDrops;
                  dropSize += switchRequests[i3].dropSize;
                  if (drops + noDrops >= SAMPLE_SIZE && drops / noDrops > MAX_SWITCH) {
                    switchRequest.quality = i3 > 0 && switchRequests[i3].drops > 0 ? i3 - 1 : i3;
                    switchRequest.reason = {
                      index: switchRequest.quality,
                      drops,
                      noDrops,
                      dropSize
                    };
                    logger.debug("Switch history rule index: " + switchRequest.quality + " samples: " + (drops + noDrops) + " drops: " + drops);
                    break;
                  }
                }
              }
              return switchRequest;
            }
            instance = {
              getMaxIndex
            };
            setup();
            return instance;
          }
          SwitchHistoryRule.__dashjs_factory_name = "SwitchHistoryRule";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(SwitchHistoryRule);
        },
        "./src/streaming/rules/abr/ThroughputRule.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _SwitchRequest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/rules/SwitchRequest.js");
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/constants/MetricsConstants.js");
          function ThroughputRule(config) {
            config = config || {};
            var context = this.context;
            var dashMetrics = config.dashMetrics;
            var instance;
            function setup() {
            }
            function checkConfig() {
              if (!dashMetrics || !dashMetrics.hasOwnProperty("getCurrentBufferState")) {
                throw new Error(_constants_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].MISSING_CONFIG_ERROR);
              }
            }
            function getMaxIndex(rulesContext) {
              var switchRequest = Object(_SwitchRequest__WEBPACK_IMPORTED_MODULE_1__["default"])(context).create();
              if (!rulesContext || !rulesContext.hasOwnProperty("getMediaInfo") || !rulesContext.hasOwnProperty("getMediaType") || !rulesContext.hasOwnProperty("useBufferOccupancyABR") || !rulesContext.hasOwnProperty("getAbrController") || !rulesContext.hasOwnProperty("getScheduleController")) {
                return switchRequest;
              }
              checkConfig();
              var mediaInfo = rulesContext.getMediaInfo();
              var mediaType = rulesContext.getMediaType();
              var currentBufferState = dashMetrics.getCurrentBufferState(mediaType);
              var scheduleController = rulesContext.getScheduleController();
              var abrController = rulesContext.getAbrController();
              var streamInfo = rulesContext.getStreamInfo();
              var streamId = streamInfo ? streamInfo.id : null;
              var isDynamic = streamInfo && streamInfo.manifestInfo ? streamInfo.manifestInfo.isDynamic : null;
              var throughputHistory = abrController.getThroughputHistory();
              var throughput = throughputHistory.getSafeAverageThroughput(mediaType, isDynamic);
              var latency = throughputHistory.getAverageLatency(mediaType);
              var useBufferOccupancyABR = rulesContext.useBufferOccupancyABR();
              if (isNaN(throughput) || !currentBufferState || useBufferOccupancyABR) {
                return switchRequest;
              }
              if (abrController.getAbandonmentStateFor(streamId, mediaType) !== _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_3__["default"].ABANDON_LOAD) {
                if (currentBufferState.state === _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_3__["default"].BUFFER_LOADED || isDynamic) {
                  switchRequest.quality = abrController.getQualityForBitrate(mediaInfo, throughput, streamId, latency);
                  scheduleController.setTimeToLoadDelay(0);
                  switchRequest.reason = {
                    throughput,
                    latency
                  };
                }
              }
              return switchRequest;
            }
            function reset() {
            }
            instance = {
              getMaxIndex,
              reset
            };
            setup();
            return instance;
          }
          ThroughputRule.__dashjs_factory_name = "ThroughputRule";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(ThroughputRule);
        },
        "./src/streaming/rules/abr/lolp/LearningAbrController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/Debug.js");
          var WEIGHT_SELECTION_MODES = {
            MANUAL: "manual_weight_selection",
            RANDOM: "random_weight_selection",
            DYNAMIC: "dynamic_weight_selection"
          };
          function LearningAbrController() {
            var context = this.context;
            var instance, logger, somBitrateNeurons, bitrateNormalizationFactor, latencyNormalizationFactor, minBitrate, weights, sortedCenters, weightSelectionMode;
            function _setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_1__["default"])(context).getInstance().getLogger(instance);
              _resetInitialSettings();
            }
            function reset() {
              _resetInitialSettings();
            }
            function _resetInitialSettings() {
              somBitrateNeurons = null;
              bitrateNormalizationFactor = 1;
              latencyNormalizationFactor = 100;
              minBitrate = 0;
              weights = null;
              sortedCenters = null;
              weightSelectionMode = WEIGHT_SELECTION_MODES.DYNAMIC;
            }
            function _getMaxThroughput() {
              var maxThroughput = 0;
              if (somBitrateNeurons) {
                for (var i3 = 0; i3 < somBitrateNeurons.length; i3++) {
                  var neuron = somBitrateNeurons[i3];
                  if (neuron.state.throughput > maxThroughput) {
                    maxThroughput = neuron.state.throughput;
                  }
                }
              }
              return maxThroughput;
            }
            function _getMagnitude(w2) {
              var magnitude = w2.map(function(x3) {
                return Math.pow(x3, 2);
              }).reduce(function(sum, now) {
                return sum + now;
              });
              return Math.sqrt(magnitude);
            }
            function _getDistance(a4, b3, w2) {
              var sum = a4.map(function(x3, i3) {
                return w2[i3] * Math.pow(x3 - b3[i3], 2);
              }).reduce(function(sum2, now) {
                return sum2 + now;
              });
              var sign = sum < 0 ? -1 : 1;
              return sign * Math.sqrt(Math.abs(sum));
            }
            function _getNeuronDistance(a4, b3) {
              var aState = [a4.state.throughput, a4.state.latency, a4.state.rebuffer, a4.state["switch"]];
              var bState = [b3.state.throughput, b3.state.latency, b3.state.rebuffer, b3.state["switch"]];
              return _getDistance(aState, bState, [1, 1, 1, 1]);
            }
            function _updateNeurons(winnerNeuron, somElements, x3) {
              for (var i3 = 0; i3 < somElements.length; i3++) {
                var somNeuron = somElements[i3];
                var sigma = 0.1;
                var neuronDistance = _getNeuronDistance(somNeuron, winnerNeuron);
                var neighbourHood = Math.exp(-1 * Math.pow(neuronDistance, 2) / (2 * Math.pow(sigma, 2)));
                _updateNeuronState(somNeuron, x3, neighbourHood);
              }
            }
            function _updateNeuronState(neuron, x3, neighbourHood) {
              var state = neuron.state;
              var w2 = [0.01, 0.01, 0.01, 0.01];
              state.throughput = state.throughput + (x3[0] - state.throughput) * w2[0] * neighbourHood;
              state.latency = state.latency + (x3[1] - state.latency) * w2[1] * neighbourHood;
              state.rebuffer = state.rebuffer + (x3[2] - state.rebuffer) * w2[2] * neighbourHood;
              state["switch"] = state["switch"] + (x3[3] - state["switch"]) * w2[3] * neighbourHood;
            }
            function _getDownShiftNeuron(currentNeuron, currentThroughput) {
              var maxSuitableBitrate = 0;
              var result = currentNeuron;
              if (somBitrateNeurons) {
                for (var i3 = 0; i3 < somBitrateNeurons.length; i3++) {
                  var n2 = somBitrateNeurons[i3];
                  if (n2.bitrate < currentNeuron.bitrate && n2.bitrate > maxSuitableBitrate && currentThroughput > n2.bitrate) {
                    maxSuitableBitrate = n2.bitrate;
                    result = n2;
                  }
                }
              }
              return result;
            }
            function getNextQuality(mediaInfo, throughput, latency, bufferSize, playbackRate, currentQualityIndex, dynamicWeightsSelector) {
              var currentLatency = latency;
              var currentBuffer = bufferSize;
              var currentThroughput = throughput;
              var somElements = _getSomBitrateNeurons(mediaInfo);
              var throughputNormalized = throughput / bitrateNormalizationFactor;
              if (throughputNormalized > 1) {
                throughputNormalized = _getMaxThroughput();
              }
              latency = latency / latencyNormalizationFactor;
              var targetLatency = 0;
              var targetRebufferLevel = 0;
              var targetSwitch = 0;
              var throughputDelta = 1e4;
              logger.debug("getNextQuality called throughput:".concat(throughputNormalized, " latency:").concat(latency, " bufferSize:").concat(bufferSize, " currentQualityIndex:").concat(currentQualityIndex, " playbackRate:").concat(playbackRate));
              var currentNeuron = somElements[currentQualityIndex];
              var downloadTime = currentNeuron.bitrate * dynamicWeightsSelector.getSegmentDuration() / currentThroughput;
              var rebuffer = Math.max(0, downloadTime - currentBuffer);
              if (currentBuffer - downloadTime < dynamicWeightsSelector.getMinBuffer()) {
                logger.debug("Buffer is low for bitrate= ".concat(currentNeuron.bitrate, " downloadTime=").concat(downloadTime, " currentBuffer=").concat(currentBuffer, " rebuffer=").concat(rebuffer));
                return _getDownShiftNeuron(currentNeuron, currentThroughput).qualityIndex;
              }
              switch (weightSelectionMode) {
                case WEIGHT_SELECTION_MODES.MANUAL:
                  _manualWeightSelection();
                  break;
                case WEIGHT_SELECTION_MODES.RANDOM:
                  _randomWeightSelection(somElements);
                  break;
                case WEIGHT_SELECTION_MODES.DYNAMIC:
                  _dynamicWeightSelection(dynamicWeightsSelector, somElements, currentLatency, currentBuffer, rebuffer, currentThroughput, playbackRate);
                  break;
                default:
                  _dynamicWeightSelection(dynamicWeightsSelector, somElements, currentLatency, currentBuffer, rebuffer, currentThroughput, playbackRate);
              }
              var minDistance = null;
              var minIndex = null;
              var winnerNeuron = null;
              for (var i3 = 0; i3 < somElements.length; i3++) {
                var somNeuron = somElements[i3];
                var somNeuronState = somNeuron.state;
                var somData = [somNeuronState.throughput, somNeuronState.latency, somNeuronState.rebuffer, somNeuronState["switch"]];
                var distanceWeights = weights.slice();
                var nextBuffer = dynamicWeightsSelector.getNextBufferWithBitrate(somNeuron.bitrate, currentBuffer, currentThroughput);
                var isBufferLow = nextBuffer < dynamicWeightsSelector.getMinBuffer();
                if (isBufferLow) {
                  logger.debug("Buffer is low for bitrate=".concat(somNeuron.bitrate, " downloadTime=").concat(downloadTime, " currentBuffer=").concat(currentBuffer, " nextBuffer=").concat(nextBuffer));
                }
                if (somNeuron.bitrate > throughput - throughputDelta || isBufferLow) {
                  if (somNeuron.bitrate !== minBitrate) {
                    distanceWeights[0] = 100;
                  }
                }
                var distance = _getDistance(somData, [throughputNormalized, targetLatency, targetRebufferLevel, targetSwitch], distanceWeights);
                if (minDistance === null || distance < minDistance) {
                  minDistance = distance;
                  minIndex = somNeuron.qualityIndex;
                  winnerNeuron = somNeuron;
                }
              }
              var bitrateSwitch = Math.abs(currentNeuron.bitrate - winnerNeuron.bitrate) / bitrateNormalizationFactor;
              _updateNeurons(currentNeuron, somElements, [throughputNormalized, latency, rebuffer, bitrateSwitch]);
              _updateNeurons(winnerNeuron, somElements, [throughputNormalized, targetLatency, targetRebufferLevel, bitrateSwitch]);
              return minIndex;
            }
            function _manualWeightSelection() {
              var throughputWeight = 0.4;
              var latencyWeight = 0.4;
              var bufferWeight = 0.4;
              var switchWeight = 0.4;
              weights = [throughputWeight, latencyWeight, bufferWeight, switchWeight];
            }
            function _randomWeightSelection(somElements) {
              weights = _getXavierWeights(somElements.length, 4);
            }
            function _dynamicWeightSelection(dynamicWeightsSelector, somElements, currentLatency, currentBuffer, rebuffer, currentThroughput, playbackRate) {
              if (!weights) {
                weights = sortedCenters[sortedCenters.length - 1];
              }
              var weightVector = dynamicWeightsSelector.findWeightVector(somElements, currentLatency, currentBuffer, rebuffer, currentThroughput, playbackRate);
              if (weightVector !== null && weightVector !== -1) {
                weights = weightVector;
              }
            }
            function _getXavierWeights(neuronCount, weightCount) {
              var W2 = [];
              var upperBound = Math.sqrt(2 / neuronCount);
              for (var i3 = 0; i3 < weightCount; i3++) {
                W2.push(Math.random() * upperBound);
              }
              weights = W2;
              return weights;
            }
            function _getSomBitrateNeurons(mediaInfo) {
              if (!somBitrateNeurons) {
                somBitrateNeurons = [];
                var bitrateList = mediaInfo.bitrateList;
                var bitrateVector = [];
                minBitrate = bitrateList[0].bandwidth;
                bitrateList.forEach(function(element) {
                  bitrateVector.push(element.bandwidth);
                  if (element.bandwidth < minBitrate) {
                    minBitrate = element.bandwidth;
                  }
                });
                bitrateNormalizationFactor = _getMagnitude(bitrateVector);
                for (var i3 = 0; i3 < bitrateList.length; i3++) {
                  var neuron = {
                    qualityIndex: i3,
                    bitrate: bitrateList[i3].bandwidth,
                    state: {
                      throughput: bitrateList[i3].bandwidth / bitrateNormalizationFactor,
                      latency: 0,
                      rebuffer: 0,
                      "switch": 0
                    }
                  };
                  somBitrateNeurons.push(neuron);
                }
                sortedCenters = _getInitialKmeansPlusPlusCenters(somBitrateNeurons);
              }
              return somBitrateNeurons;
            }
            function _getRandomData(size) {
              var dataArray = [];
              for (var i3 = 0; i3 < size; i3++) {
                var data = [
                  Math.random() * _getMaxThroughput(),
                  Math.random(),
                  Math.random(),
                  Math.random()
                ];
                dataArray.push(data);
              }
              return dataArray;
            }
            function _getInitialKmeansPlusPlusCenters(somElements) {
              var centers = [];
              var randomDataSet = _getRandomData(Math.pow(somElements.length, 2));
              centers.push(randomDataSet[0]);
              var distanceWeights = [1, 1, 1, 1];
              for (var k2 = 1; k2 < somElements.length; k2++) {
                var nextPoint = null;
                var _maxDistance = null;
                for (var i3 = 0; i3 < randomDataSet.length; i3++) {
                  var currentPoint = randomDataSet[i3];
                  var minDistance = null;
                  for (var j = 0; j < centers.length; j++) {
                    var distance = _getDistance(currentPoint, centers[j], distanceWeights);
                    if (minDistance === null || distance < minDistance) {
                      minDistance = distance;
                    }
                  }
                  if (_maxDistance === null || minDistance > _maxDistance) {
                    nextPoint = currentPoint;
                    _maxDistance = minDistance;
                  }
                }
                centers.push(nextPoint);
              }
              var maxDistance = null;
              var leastSimilarIndex = null;
              for (var _i = 0; _i < centers.length; _i++) {
                var _distance = 0;
                for (var _j = 0; _j < centers.length; _j++) {
                  if (_i === _j)
                    continue;
                  _distance += _getDistance(centers[_i], centers[_j], distanceWeights);
                }
                if (maxDistance === null || _distance > maxDistance) {
                  maxDistance = _distance;
                  leastSimilarIndex = _i;
                }
              }
              var sortedCenters2 = [];
              sortedCenters2.push(centers[leastSimilarIndex]);
              centers.splice(leastSimilarIndex, 1);
              while (centers.length > 0) {
                var _minDistance = null;
                var minIndex = null;
                for (var _i2 = 0; _i2 < centers.length; _i2++) {
                  var _distance2 = _getDistance(sortedCenters2[0], centers[_i2], distanceWeights);
                  if (_minDistance === null || _distance2 < _minDistance) {
                    _minDistance = _distance2;
                    minIndex = _i2;
                  }
                }
                sortedCenters2.push(centers[minIndex]);
                centers.splice(minIndex, 1);
              }
              return sortedCenters2;
            }
            instance = {
              getNextQuality,
              reset
            };
            _setup();
            return instance;
          }
          LearningAbrController.__dashjs_factory_name = "LearningAbrController";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(LearningAbrController);
        },
        "./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _QoeInfo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/rules/abr/lolp/QoeInfo.js");
          function LoLpQoeEvaluator() {
            var instance, voPerSegmentQoeInfo, segmentDuration, maxBitrateKbps, minBitrateKbps;
            function _setup() {
              _resetInitialSettings();
            }
            function _resetInitialSettings() {
              voPerSegmentQoeInfo = null;
              segmentDuration = null;
              maxBitrateKbps = null;
              minBitrateKbps = null;
            }
            function setupPerSegmentQoe(sDuration, maxBrKbps, minBrKbps) {
              voPerSegmentQoeInfo = _createQoeInfo("segment", sDuration, maxBrKbps, minBrKbps);
              segmentDuration = sDuration;
              maxBitrateKbps = maxBrKbps;
              minBitrateKbps = minBrKbps;
            }
            function _createQoeInfo(fragmentType, fragmentDuration, maxBitrateKbps2, minBitrateKbps2) {
              var qoeInfo = new _QoeInfo__WEBPACK_IMPORTED_MODULE_1__["default"]();
              qoeInfo.type = fragmentType;
              if (!fragmentDuration) {
                qoeInfo.weights.bitrateReward = 1;
              } else {
                qoeInfo.weights.bitrateReward = fragmentDuration;
              }
              qoeInfo.weights.bitrateSwitchPenalty = 1;
              if (!maxBitrateKbps2) {
                qoeInfo.weights.rebufferPenalty = 1e3;
              } else {
                qoeInfo.weights.rebufferPenalty = maxBitrateKbps2;
              }
              qoeInfo.weights.latencyPenalty = [];
              qoeInfo.weights.latencyPenalty.push({
                threshold: 1.1,
                penalty: minBitrateKbps2 * 0.05
              });
              qoeInfo.weights.latencyPenalty.push({
                threshold: 1e8,
                penalty: maxBitrateKbps2 * 0.1
              });
              if (!minBitrateKbps2)
                qoeInfo.weights.playbackSpeedPenalty = 200;
              else
                qoeInfo.weights.playbackSpeedPenalty = minBitrateKbps2;
              return qoeInfo;
            }
            function logSegmentMetrics(segmentBitrate, segmentRebufferTime, currentLatency, currentPlaybackSpeed) {
              if (voPerSegmentQoeInfo) {
                _logMetricsInQoeInfo(segmentBitrate, segmentRebufferTime, currentLatency, currentPlaybackSpeed, voPerSegmentQoeInfo);
              }
            }
            function _logMetricsInQoeInfo(bitrate, rebufferTime, latency, playbackSpeed, qoeInfo) {
              qoeInfo.bitrateWSum += qoeInfo.weights.bitrateReward * bitrate;
              if (qoeInfo.lastBitrate) {
                qoeInfo.bitrateSwitchWSum += qoeInfo.weights.bitrateSwitchPenalty * Math.abs(bitrate - qoeInfo.lastBitrate);
              }
              qoeInfo.lastBitrate = bitrate;
              qoeInfo.rebufferWSum += qoeInfo.weights.rebufferPenalty * rebufferTime;
              for (var i3 = 0; i3 < qoeInfo.weights.latencyPenalty.length; i3++) {
                var latencyRange = qoeInfo.weights.latencyPenalty[i3];
                if (latency <= latencyRange.threshold) {
                  qoeInfo.latencyWSum += latencyRange.penalty * latency;
                  break;
                }
              }
              qoeInfo.playbackSpeedWSum += qoeInfo.weights.playbackSpeedPenalty * Math.abs(1 - playbackSpeed);
              qoeInfo.totalQoe = qoeInfo.bitrateWSum - qoeInfo.bitrateSwitchWSum - qoeInfo.rebufferWSum - qoeInfo.latencyWSum - qoeInfo.playbackSpeedWSum;
            }
            function getPerSegmentQoe() {
              return voPerSegmentQoeInfo;
            }
            function calculateSingleUseQoe(segmentBitrate, segmentRebufferTime, currentLatency, currentPlaybackSpeed) {
              var singleUseQoeInfo = null;
              if (segmentDuration && maxBitrateKbps && minBitrateKbps) {
                singleUseQoeInfo = _createQoeInfo("segment", segmentDuration, maxBitrateKbps, minBitrateKbps);
              }
              if (singleUseQoeInfo) {
                _logMetricsInQoeInfo(segmentBitrate, segmentRebufferTime, currentLatency, currentPlaybackSpeed, singleUseQoeInfo);
                return singleUseQoeInfo.totalQoe;
              } else {
                return 0;
              }
            }
            function reset() {
              _resetInitialSettings();
            }
            instance = {
              setupPerSegmentQoe,
              logSegmentMetrics,
              getPerSegmentQoe,
              calculateSingleUseQoe,
              reset
            };
            _setup();
            return instance;
          }
          LoLpQoeEvaluator.__dashjs_factory_name = "LoLpQoeEvaluator";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(LoLpQoeEvaluator);
        },
        "./src/streaming/rules/abr/lolp/LoLpRule.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_Debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/Debug.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _LearningAbrController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/rules/abr/lolp/LearningAbrController.js");
          var _LoLpQoEEvaluator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js");
          var _SwitchRequest__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/rules/SwitchRequest.js");
          var _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/constants/MetricsConstants.js");
          var _LoLpWeightSelector__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/streaming/rules/abr/lolp/LoLpWeightSelector.js");
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var DWS_TARGET_LATENCY = 1.5;
          var DWS_BUFFER_MIN = 0.3;
          function LoLPRule(config) {
            config = config || {};
            var dashMetrics = config.dashMetrics;
            var context = this.context;
            var logger, instance, learningController, qoeEvaluator;
            function _setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_0__["default"])(context).getInstance().getLogger(instance);
              learningController = Object(_LearningAbrController__WEBPACK_IMPORTED_MODULE_2__["default"])(context).create();
              qoeEvaluator = Object(_LoLpQoEEvaluator__WEBPACK_IMPORTED_MODULE_3__["default"])(context).create();
            }
            function getMaxIndex(rulesContext) {
              try {
                var switchRequest = Object(_SwitchRequest__WEBPACK_IMPORTED_MODULE_4__["default"])(context).create();
                var mediaType = rulesContext.getMediaInfo().type;
                var abrController = rulesContext.getAbrController();
                var streamInfo = rulesContext.getStreamInfo();
                var currentQuality = abrController.getQualityFor(mediaType, streamInfo.id);
                var mediaInfo = rulesContext.getMediaInfo();
                var bufferStateVO = dashMetrics.getCurrentBufferState(mediaType);
                var scheduleController = rulesContext.getScheduleController();
                var currentBufferLevel = dashMetrics.getCurrentBufferLevel(mediaType, true);
                var isDynamic = streamInfo && streamInfo.manifestInfo ? streamInfo.manifestInfo.isDynamic : null;
                var playbackController = scheduleController.getPlaybackController();
                var latency = playbackController.getCurrentLiveLatency();
                if (!rulesContext.useLoLPABR() || mediaType === _constants_Constants__WEBPACK_IMPORTED_MODULE_7__["default"].AUDIO) {
                  return switchRequest;
                }
                if (!latency) {
                  latency = 0;
                }
                var playbackRate = playbackController.getPlaybackRate();
                var throughputHistory = abrController.getThroughputHistory();
                var throughput = throughputHistory.getSafeAverageThroughput(mediaType, isDynamic);
                logger.debug("Throughput ".concat(Math.round(throughput), " kbps"));
                if (isNaN(throughput) || !bufferStateVO) {
                  return switchRequest;
                }
                if (abrController.getAbandonmentStateFor(streamInfo.id, mediaType) === _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_5__["default"].ABANDON_LOAD) {
                  return switchRequest;
                }
                var bitrateList = mediaInfo.bitrateList;
                var segmentDuration = rulesContext.getRepresentationInfo().fragmentDuration;
                var minBitrateKbps = bitrateList[0].bandwidth / 1e3;
                var maxBitrateKbps = bitrateList[bitrateList.length - 1].bandwidth / 1e3;
                for (var i3 = 0; i3 < bitrateList.length; i3++) {
                  var b3 = bitrateList[i3].bandwidth / 1e3;
                  if (b3 > maxBitrateKbps)
                    maxBitrateKbps = b3;
                  else if (b3 < minBitrateKbps) {
                    minBitrateKbps = b3;
                  }
                }
                var currentBitrate = bitrateList[currentQuality].bandwidth;
                var currentBitrateKbps = currentBitrate / 1e3;
                var httpRequest = dashMetrics.getCurrentHttpRequest(mediaType, true);
                var lastFragmentDownloadTime = (httpRequest.tresponse.getTime() - httpRequest.trequest.getTime()) / 1e3;
                var segmentRebufferTime = lastFragmentDownloadTime > segmentDuration ? lastFragmentDownloadTime - segmentDuration : 0;
                qoeEvaluator.setupPerSegmentQoe(segmentDuration, maxBitrateKbps, minBitrateKbps);
                qoeEvaluator.logSegmentMetrics(currentBitrateKbps, segmentRebufferTime, latency, playbackRate);
                var dynamicWeightsSelector = Object(_LoLpWeightSelector__WEBPACK_IMPORTED_MODULE_6__["default"])(context).create({
                  targetLatency: DWS_TARGET_LATENCY,
                  bufferMin: DWS_BUFFER_MIN,
                  segmentDuration,
                  qoeEvaluator
                });
                switchRequest.quality = learningController.getNextQuality(mediaInfo, throughput * 1e3, latency, currentBufferLevel, playbackRate, currentQuality, dynamicWeightsSelector);
                switchRequest.reason = {
                  throughput,
                  latency
                };
                switchRequest.priority = _SwitchRequest__WEBPACK_IMPORTED_MODULE_4__["default"].PRIORITY.STRONG;
                scheduleController.setTimeToLoadDelay(0);
                if (switchRequest.quality !== currentQuality) {
                  console.log("[TgcLearningRule][" + mediaType + "] requesting switch to index: ", switchRequest.quality, "Average throughput", Math.round(throughput), "kbps");
                }
                return switchRequest;
              } catch (e) {
                throw e;
              }
            }
            function _resetInitialSettings() {
              learningController.reset();
              qoeEvaluator.reset();
            }
            function reset() {
              _resetInitialSettings();
            }
            instance = {
              getMaxIndex,
              reset
            };
            _setup();
            return instance;
          }
          LoLPRule.__dashjs_factory_name = "LoLPRule";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__["default"].getClassFactory(LoLPRule);
        },
        "./src/streaming/rules/abr/lolp/LoLpWeightSelector.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          function LoLpWeightSelector(config) {
            var targetLatency = config.targetLatency;
            var bufferMin = config.bufferMin;
            var segmentDuration = config.segmentDuration;
            var qoeEvaluator = config.qoeEvaluator;
            var instance, valueList, weightTypeCount, weightOptions, previousLatency;
            function _setup() {
              _resetInitialSettings();
            }
            function _resetInitialSettings() {
              valueList = [0.2, 0.4, 0.6, 0.8, 1];
              weightTypeCount = 4;
              weightOptions = _getPermutations(valueList, weightTypeCount);
              previousLatency = 0;
            }
            function findWeightVector(neurons, currentLatency, currentBuffer, currentRebuffer, currentThroughput, playbackRate) {
              var maxQoE = null;
              var winnerWeights = null;
              var winnerBitrate = null;
              var deltaLatency = Math.abs(currentLatency - previousLatency);
              neurons.forEach(function(neuron) {
                weightOptions.forEach(function(weightVector) {
                  var weightsObj = {
                    throughput: weightVector[0],
                    latency: weightVector[1],
                    buffer: weightVector[2],
                    "switch": weightVector[3]
                  };
                  var downloadTime = neuron.bitrate * segmentDuration / currentThroughput;
                  var nextBuffer = getNextBuffer(currentBuffer, downloadTime);
                  var rebuffer = Math.max(1e-5, downloadTime - nextBuffer);
                  var wt;
                  if (weightsObj.buffer === 0) {
                    wt = 10;
                  } else {
                    wt = 1 / weightsObj.buffer;
                  }
                  var weightedRebuffer = wt * rebuffer;
                  if (weightsObj.latency === 0) {
                    wt = 10;
                  } else {
                    wt = 1 / weightsObj.latency;
                  }
                  var weightedLatency = wt * neuron.state.latency;
                  var totalQoE = qoeEvaluator.calculateSingleUseQoe(neuron.bitrate, weightedRebuffer, weightedLatency, playbackRate);
                  if ((maxQoE === null || totalQoE > maxQoE) && _checkConstraints(currentLatency, nextBuffer, deltaLatency)) {
                    maxQoE = totalQoE;
                    winnerWeights = weightVector;
                    winnerBitrate = neuron.bitrate;
                  }
                });
              });
              if (winnerWeights === null && winnerBitrate === null) {
                winnerWeights = -1;
              }
              previousLatency = currentLatency;
              return winnerWeights;
            }
            function _checkConstraints(nextLatency, nextBuffer, deltaLatency) {
              if (nextLatency > targetLatency + deltaLatency) {
                return false;
              }
              return nextBuffer >= bufferMin;
            }
            function _getPermutations(list, length) {
              var perm = list.map(function(val) {
                return [val];
              });
              var generate = function generate2(perm2, length2, currLen) {
                if (currLen === length2) {
                  return perm2;
                }
                var len = perm2.length;
                for (var i3 = 0; i3 < len; i3++) {
                  var currPerm = perm2.shift();
                  for (var k2 = 0; k2 < list.length; k2++) {
                    perm2.push(currPerm.concat(list[k2]));
                  }
                }
                return generate2(perm2, length2, currLen + 1);
              };
              return generate(perm, length, 1);
            }
            function getMinBuffer() {
              return bufferMin;
            }
            function getSegmentDuration() {
              return segmentDuration;
            }
            function getNextBufferWithBitrate(bitrateToDownload, currentBuffer, currentThroughput) {
              var downloadTime = bitrateToDownload * segmentDuration / currentThroughput;
              return getNextBuffer(currentBuffer, downloadTime);
            }
            function getNextBuffer(currentBuffer, downloadTime) {
              var segmentDuration2 = getSegmentDuration();
              var nextBuffer;
              if (downloadTime > segmentDuration2) {
                nextBuffer = currentBuffer - segmentDuration2;
              } else {
                nextBuffer = currentBuffer + segmentDuration2 - downloadTime;
              }
              return nextBuffer;
            }
            instance = {
              getMinBuffer,
              getSegmentDuration,
              getNextBufferWithBitrate,
              getNextBuffer,
              findWeightVector
            };
            _setup();
            return instance;
          }
          LoLpWeightSelector.__dashjs_factory_name = "LoLpWeightSelector";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(LoLpWeightSelector);
        },
        "./src/streaming/rules/abr/lolp/QoeInfo.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var QoeInfo = function QoeInfo2() {
            _classCallCheck2(this, QoeInfo2);
            this.type = null;
            this.lastBitrate = null;
            this.weights = {};
            this.weights.bitrateReward = null;
            this.weights.bitrateSwitchPenalty = null;
            this.weights.rebufferPenalty = null;
            this.weights.latencyPenalty = null;
            this.weights.playbackSpeedPenalty = null;
            this.bitrateWSum = 0;
            this.bitrateSwitchWSum = 0;
            this.rebufferWSum = 0;
            this.latencyWSum = 0;
            this.playbackSpeedWSum = 0;
            this.totalQoe = 0;
          };
          __webpack_exports__["default"] = QoeInfo;
        },
        "./src/streaming/text/EmbeddedTextHtmlRender.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          function EmbeddedTextHtmlRender() {
            var captionId = 0;
            var instance;
            function checkIndent(chars) {
              var line = "";
              for (var c3 = 0; c3 < chars.length; ++c3) {
                var uc = chars[c3];
                line += uc.uchar;
              }
              var l3 = line.length;
              var ll = line.replace(/^\s+/, "").length;
              return l3 - ll;
            }
            function getRegionProperties(region) {
              return "left: " + region.x * 3.125 + "%; top: " + region.y1 * 6.66 + "%; width: " + (100 - region.x * 3.125) + "%; height: " + Math.max(region.y2 - 1 - region.y1, 1) * 6.66 + "%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;";
            }
            function createRGB(color) {
              if (color === "red") {
                return "rgb(255, 0, 0)";
              } else if (color === "green") {
                return "rgb(0, 255, 0)";
              } else if (color === "blue") {
                return "rgb(0, 0, 255)";
              } else if (color === "cyan") {
                return "rgb(0, 255, 255)";
              } else if (color === "magenta") {
                return "rgb(255, 0, 255)";
              } else if (color === "yellow") {
                return "rgb(255, 255, 0)";
              } else if (color === "white") {
                return "rgb(255, 255, 255)";
              } else if (color === "black") {
                return "rgb(0, 0, 0)";
              }
              return color;
            }
            function getStyle(videoElement, style) {
              var fontSize = videoElement.videoHeight / 15;
              if (style) {
                return "font-size: " + fontSize + "px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: " + (style.foreground ? createRGB(style.foreground) : "rgb(255, 255, 255)") + "; font-style: " + (style.italics ? "italic" : "normal") + "; text-decoration: " + (style.underline ? "underline" : "none") + "; white-space: pre; background-color: " + (style.background ? createRGB(style.background) : "transparent") + ";";
              } else {
                return "font-size: " + fontSize + "px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;";
              }
            }
            function ltrim(s3) {
              return s3.replace(/^\s+/g, "");
            }
            function rtrim(s3) {
              return s3.replace(/\s+$/g, "");
            }
            function createHTMLCaptionsFromScreen(videoElement, startTime, endTime, captionScreen) {
              var currRegion = null;
              var existingRegion = null;
              var lastRowHasText = false;
              var lastRowIndentL = -1;
              var currP = {
                start: startTime,
                end: endTime,
                spans: []
              };
              var currentStyle = "style_cea608_white_black";
              var seenRegions = {};
              var styleStates = {};
              var regions = [];
              var r3, s3;
              for (r3 = 0; r3 < 15; ++r3) {
                var row = captionScreen.rows[r3];
                var line = "";
                var prevPenState = null;
                if (row.isEmpty() === false) {
                  var rowIndent = checkIndent(row.chars);
                  if (currRegion === null) {
                    currRegion = {
                      x: rowIndent,
                      y1: r3,
                      y2: r3 + 1,
                      p: []
                    };
                  }
                  if (rowIndent !== lastRowIndentL && lastRowHasText) {
                    currRegion.p.push(currP);
                    currP = {
                      start: startTime,
                      end: endTime,
                      spans: []
                    };
                    currRegion.y2 = r3;
                    currRegion.name = "region_" + currRegion.x + "_" + currRegion.y1 + "_" + currRegion.y2;
                    if (seenRegions.hasOwnProperty(currRegion.name) === false) {
                      regions.push(currRegion);
                      seenRegions[currRegion.name] = currRegion;
                    } else {
                      existingRegion = seenRegions[currRegion.name];
                      existingRegion.p.contat(currRegion.p);
                    }
                    currRegion = {
                      x: rowIndent,
                      y1: r3,
                      y2: r3 + 1,
                      p: []
                    };
                  }
                  for (var c3 = 0; c3 < row.chars.length; ++c3) {
                    var uc = row.chars[c3];
                    var currPenState = uc.penState;
                    if (prevPenState === null || !currPenState.equals(prevPenState)) {
                      if (line.trim().length > 0) {
                        currP.spans.push({
                          name: currentStyle,
                          line,
                          row: r3
                        });
                        line = "";
                      }
                      var currPenStateString = "style_cea608_" + currPenState.foreground + "_" + currPenState.background;
                      if (currPenState.underline) {
                        currPenStateString += "_underline";
                      }
                      if (currPenState.italics) {
                        currPenStateString += "_italics";
                      }
                      if (!styleStates.hasOwnProperty(currPenStateString)) {
                        styleStates[currPenStateString] = JSON.parse(JSON.stringify(currPenState));
                      }
                      prevPenState = currPenState;
                      currentStyle = currPenStateString;
                    }
                    line += uc.uchar;
                  }
                  if (line.trim().length > 0) {
                    currP.spans.push({
                      name: currentStyle,
                      line,
                      row: r3
                    });
                  }
                  lastRowHasText = true;
                  lastRowIndentL = rowIndent;
                } else {
                  lastRowHasText = false;
                  lastRowIndentL = -1;
                  if (currRegion) {
                    currRegion.p.push(currP);
                    currP = {
                      start: startTime,
                      end: endTime,
                      spans: []
                    };
                    currRegion.y2 = r3;
                    currRegion.name = "region_" + currRegion.x + "_" + currRegion.y1 + "_" + currRegion.y2;
                    if (seenRegions.hasOwnProperty(currRegion.name) === false) {
                      regions.push(currRegion);
                      seenRegions[currRegion.name] = currRegion;
                    } else {
                      existingRegion = seenRegions[currRegion.name];
                      existingRegion.p.contat(currRegion.p);
                    }
                    currRegion = null;
                  }
                }
              }
              if (currRegion) {
                currRegion.p.push(currP);
                currRegion.y2 = r3 + 1;
                currRegion.name = "region_" + currRegion.x + "_" + currRegion.y1 + "_" + currRegion.y2;
                if (seenRegions.hasOwnProperty(currRegion.name) === false) {
                  regions.push(currRegion);
                  seenRegions[currRegion.name] = currRegion;
                } else {
                  existingRegion = seenRegions[currRegion.name];
                  existingRegion.p.contat(currRegion.p);
                }
                currRegion = null;
              }
              var captionsArray = [];
              for (r3 = 0; r3 < regions.length; ++r3) {
                var region = regions[r3];
                var cueID = "sub_cea608_" + captionId++;
                var finalDiv = document.createElement("div");
                finalDiv.id = cueID;
                var cueRegionProperties = getRegionProperties(region);
                finalDiv.style.cssText = "position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;" + cueRegionProperties;
                var bodyDiv = document.createElement("div");
                bodyDiv.className = "paragraph bodyStyle";
                bodyDiv.style.cssText = getStyle(videoElement);
                var cueUniWrapper = document.createElement("div");
                cueUniWrapper.className = "cueUniWrapper";
                cueUniWrapper.style.cssText = "unicode-bidi: normal; direction: ltr;";
                for (var p2 = 0; p2 < region.p.length; ++p2) {
                  var ptag = region.p[p2];
                  var lastSpanRow = 0;
                  for (s3 = 0; s3 < ptag.spans.length; ++s3) {
                    var span = ptag.spans[s3];
                    if (span.line.length > 0) {
                      if (s3 !== 0 && lastSpanRow != span.row) {
                        var brElement = document.createElement("br");
                        brElement.className = "lineBreak";
                        cueUniWrapper.appendChild(brElement);
                      }
                      var sameRow = false;
                      if (lastSpanRow === span.row) {
                        sameRow = true;
                      }
                      lastSpanRow = span.row;
                      var spanStyle = styleStates[span.name];
                      var spanElement = document.createElement("span");
                      spanElement.className = "spanPadding " + span.name + " customSpanColor";
                      spanElement.style.cssText = getStyle(videoElement, spanStyle);
                      if (s3 !== 0 && sameRow) {
                        if (s3 === ptag.spans.length - 1) {
                          spanElement.textContent = rtrim(span.line);
                        } else {
                          spanElement.textContent = span.line;
                        }
                      } else {
                        if (ptag.spans.length > 1 && s3 < ptag.spans.length - 1) {
                          if (span.row === ptag.spans[s3 + 1].row) {
                            spanElement.textContent = ltrim(span.line);
                          } else {
                            spanElement.textContent = span.line.trim();
                          }
                        } else {
                          spanElement.textContent = span.line.trim();
                        }
                      }
                      cueUniWrapper.appendChild(spanElement);
                    }
                  }
                }
                bodyDiv.appendChild(cueUniWrapper);
                finalDiv.appendChild(bodyDiv);
                var fontSize = {
                  "bodyStyle": ["%", 90]
                };
                for (var _s in styleStates) {
                  if (styleStates.hasOwnProperty(_s)) {
                    fontSize[_s] = ["%", 90];
                  }
                }
                captionsArray.push({
                  type: "html",
                  start: startTime,
                  end: endTime,
                  cueHTMLElement: finalDiv,
                  cueID,
                  cellResolution: [32, 15],
                  isFromCEA608: true,
                  fontSize,
                  lineHeight: {},
                  linePadding: {}
                });
              }
              return captionsArray;
            }
            instance = {
              createHTMLCaptionsFromScreen
            };
            return instance;
          }
          EmbeddedTextHtmlRender.__dashjs_factory_name = "EmbeddedTextHtmlRender";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getSingletonFactory(EmbeddedTextHtmlRender);
        },
        "./src/streaming/text/NotFragmentedTextBufferController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/events/Events.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _utils_InitCache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/utils/InitCache.js");
          var _SourceBufferSink__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/SourceBufferSink.js");
          var _streaming_vo_DashJSError__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/vo/DashJSError.js");
          var _core_errors_Errors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/core/errors/Errors.js");
          var BUFFER_CONTROLLER_TYPE = "NotFragmentedTextBufferController";
          function NotFragmentedTextBufferController(config) {
            config = config || {};
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_0__["default"])(context).getInstance();
            var textController = config.textController;
            var errHandler = config.errHandler;
            var streamInfo = config.streamInfo;
            var type = config.type;
            var instance, isBufferingCompleted, initialized, mediaSource, sourceBufferSink, initCache;
            function setup() {
              initialized = false;
              mediaSource = null;
              isBufferingCompleted = false;
              initCache = Object(_utils_InitCache__WEBPACK_IMPORTED_MODULE_3__["default"])(context).getInstance();
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_1__["default"].INIT_FRAGMENT_LOADED, _onInitFragmentLoaded, instance);
            }
            function getBufferControllerType() {
              return BUFFER_CONTROLLER_TYPE;
            }
            function initialize(source) {
              setMediaSource(source);
            }
            function createBufferSink(mediaInfo) {
              return new Promise(function(resolve2, reject) {
                try {
                  sourceBufferSink = Object(_SourceBufferSink__WEBPACK_IMPORTED_MODULE_4__["default"])(context).create({
                    mediaSource,
                    textController,
                    eventBus
                  });
                  sourceBufferSink.initializeForFirstUse(streamInfo, mediaInfo);
                  if (!initialized) {
                    if (sourceBufferSink.getBuffer() && typeof sourceBufferSink.getBuffer().initialize === "function") {
                      sourceBufferSink.getBuffer().initialize();
                    }
                    initialized = true;
                  }
                  resolve2(sourceBufferSink);
                } catch (e) {
                  errHandler.error(new _streaming_vo_DashJSError__WEBPACK_IMPORTED_MODULE_5__["default"](_core_errors_Errors__WEBPACK_IMPORTED_MODULE_6__["default"].MEDIASOURCE_TYPE_UNSUPPORTED_CODE, _core_errors_Errors__WEBPACK_IMPORTED_MODULE_6__["default"].MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE + type));
                  reject(e);
                }
              });
            }
            function getStreamId() {
              return streamInfo.id;
            }
            function getType() {
              return type;
            }
            function getBuffer() {
              return sourceBufferSink;
            }
            function setMediaSource(value) {
              mediaSource = value;
            }
            function getMediaSource() {
              return mediaSource;
            }
            function getIsPruningInProgress() {
              return false;
            }
            function getBufferLevel() {
              return 0;
            }
            function getIsBufferingCompleted() {
              return isBufferingCompleted;
            }
            function setIsBufferingCompleted(value) {
              if (isBufferingCompleted === value) {
                return;
              }
              isBufferingCompleted = value;
              if (isBufferingCompleted) {
                triggerEvent(_core_events_Events__WEBPACK_IMPORTED_MODULE_1__["default"].BUFFERING_COMPLETED);
              }
            }
            function reset(errored) {
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_1__["default"].INIT_FRAGMENT_LOADED, _onInitFragmentLoaded, instance);
              if (!errored && sourceBufferSink) {
                sourceBufferSink.abort();
                sourceBufferSink.reset();
                sourceBufferSink = null;
              }
            }
            function appendInitSegmentFromCache(representationId) {
              return initCache.extract(streamInfo.id, representationId) !== null;
            }
            function _onInitFragmentLoaded(e) {
              if (!e.chunk.bytes || isBufferingCompleted)
                return;
              initCache.save(e.chunk);
              sourceBufferSink.append(e.chunk);
              setIsBufferingCompleted(true);
            }
            function getRangeAt() {
              return null;
            }
            function getAllRangesWithSafetyFactor() {
              return [];
            }
            function getContinuousBufferTimeForTargetTime() {
              return Number.POSITIVE_INFINITY;
            }
            function clearBuffers() {
              return Promise.resolve();
            }
            function updateBufferTimestampOffset() {
              return Promise.resolve();
            }
            function prepareForPlaybackSeek() {
              return Promise.resolve();
            }
            function prepareForReplacementTrackSwitch() {
              isBufferingCompleted = false;
              return Promise.resolve();
            }
            function updateAppendWindow() {
              return Promise.resolve();
            }
            function setSeekTarget() {
            }
            function segmentRequestingCompleted() {
            }
            function pruneAllSafely() {
              return Promise.resolve();
            }
            function triggerEvent(eventType, data) {
              var payload = data || {};
              eventBus.trigger(eventType, payload, {
                streamId: streamInfo.id,
                mediaType: type
              });
            }
            instance = {
              initialize,
              getStreamId,
              getType,
              getBufferControllerType,
              createBufferSink,
              getBuffer,
              getBufferLevel,
              getRangeAt,
              getAllRangesWithSafetyFactor,
              getContinuousBufferTimeForTargetTime,
              setMediaSource,
              getMediaSource,
              appendInitSegmentFromCache,
              getIsBufferingCompleted,
              setIsBufferingCompleted,
              getIsPruningInProgress,
              reset,
              clearBuffers,
              prepareForPlaybackSeek,
              prepareForReplacementTrackSwitch,
              setSeekTarget,
              updateAppendWindow,
              pruneAllSafely,
              updateBufferTimestampOffset,
              segmentRequestingCompleted
            };
            setup();
            return instance;
          }
          NotFragmentedTextBufferController.__dashjs_factory_name = BUFFER_CONTROLLER_TYPE;
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__["default"].getClassFactory(NotFragmentedTextBufferController);
        },
        "./src/streaming/text/TextController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _TextSourceBuffer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/text/TextSourceBuffer.js");
          var _TextTracks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/text/TextTracks.js");
          var _utils_VTTParser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/utils/VTTParser.js");
          var _utils_TTMLParser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/utils/TTMLParser.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/core/events/Events.js");
          var _streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/streaming/MediaPlayerEvents.js");
          var _utils_SupervisorTools__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/streaming/utils/SupervisorTools.js");
          function TextController(config) {
            var context = this.context;
            var adapter = config.adapter;
            var errHandler = config.errHandler;
            var manifestModel = config.manifestModel;
            var mediaController = config.mediaController;
            var videoModel = config.videoModel;
            var settings = config.settings;
            var instance, streamData, textSourceBuffers, textTracks, vttParser, ttmlParser, eventBus, defaultSettings, initialSettingsSet, allTracksAreDisabled, forceTextStreaming, textTracksAdded, disableTextBeforeTextTracksAdded;
            function setup() {
              defaultSettings = null;
              forceTextStreaming = false;
              textTracksAdded = false;
              initialSettingsSet = false;
              disableTextBeforeTextTracksAdded = false;
              vttParser = Object(_utils_VTTParser__WEBPACK_IMPORTED_MODULE_4__["default"])(context).getInstance();
              ttmlParser = Object(_utils_TTMLParser__WEBPACK_IMPORTED_MODULE_5__["default"])(context).getInstance();
              eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_6__["default"])(context).getInstance();
              resetInitialSettings();
            }
            function initialize() {
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_7__["default"].CURRENT_TRACK_CHANGED, _onCurrentTrackChanged, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_7__["default"].TEXT_TRACKS_QUEUE_INITIALIZED, _onTextTracksAdded, instance);
            }
            function initializeForStream(streamInfo) {
              var streamId = streamInfo.id;
              var tracks = Object(_TextTracks__WEBPACK_IMPORTED_MODULE_3__["default"])(context).create({
                videoModel,
                streamInfo
              });
              tracks.initialize();
              textTracks[streamId] = tracks;
              var textSourceBuffer = Object(_TextSourceBuffer__WEBPACK_IMPORTED_MODULE_2__["default"])(context).create({
                errHandler,
                adapter,
                manifestModel,
                mediaController,
                videoModel,
                textTracks: tracks,
                vttParser,
                ttmlParser,
                streamInfo
              });
              textSourceBuffer.initialize();
              textSourceBuffers[streamId] = textSourceBuffer;
              streamData[streamId] = {};
              streamData[streamId].lastEnabledIndex = -1;
            }
            function createTracks(streamInfo) {
              var streamId = streamInfo.id;
              if (!textTracks[streamId]) {
                return;
              }
              textTracks[streamId].createTracks();
            }
            function addMediaInfosToBuffer(streamInfo, type, mInfos) {
              var fragmentModel = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : null;
              var streamId = streamInfo.id;
              if (!textSourceBuffers[streamId]) {
                return;
              }
              textSourceBuffers[streamId].addMediaInfos(type, mInfos, fragmentModel);
            }
            function getTextSourceBuffer(streamInfo) {
              var streamId = streamInfo.id;
              if (textSourceBuffers && textSourceBuffers[streamId]) {
                return textSourceBuffers[streamId];
              }
            }
            function getAllTracksAreDisabled() {
              return allTracksAreDisabled;
            }
            function addEmbeddedTrack(streamInfo, mediaInfo) {
              var streamId = streamInfo.id;
              if (!textSourceBuffers[streamId]) {
                return;
              }
              textSourceBuffers[streamId].addEmbeddedTrack(mediaInfo);
            }
            function setInitialSettings(settings2) {
              defaultSettings = settings2;
              initialSettingsSet = true;
            }
            function _onTextTracksAdded(e) {
              var tracks = e.tracks;
              var index = e.index;
              var streamId = e.streamId;
              var textDefaultEnabled = settings.get().streaming.text.defaultEnabled;
              if (textDefaultEnabled === false && !isTextEnabled() || disableTextBeforeTextTracksAdded) {
                setTextTrack(streamId, -1);
              } else {
                if (defaultSettings) {
                  tracks.some(function(item, idx) {
                    if (mediaController.matchSettings(defaultSettings, item)) {
                      setTextTrack(streamId, idx);
                      index = idx;
                      return true;
                    }
                  });
                }
                allTracksAreDisabled = false;
              }
              streamData[streamId].lastEnabledIndex = index;
              eventBus.trigger(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_8__["default"].TEXT_TRACKS_ADDED, {
                enabled: isTextEnabled(),
                index,
                tracks,
                streamId
              });
              textTracksAdded = true;
            }
            function _onCurrentTrackChanged(event) {
              if (!initialSettingsSet && event && event.newMediaInfo) {
                var mediaInfo = event.newMediaInfo;
                if (mediaInfo.type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT) {
                  defaultSettings = {
                    lang: mediaInfo.lang,
                    role: mediaInfo.roles[0],
                    index: mediaInfo.index,
                    codec: mediaInfo.codec,
                    accessibility: mediaInfo.accessibility[0]
                  };
                }
              }
            }
            function enableText(streamId, enable) {
              Object(_utils_SupervisorTools__WEBPACK_IMPORTED_MODULE_9__["checkParameterType"])(enable, "boolean");
              if (isTextEnabled() !== enable) {
                if (enable) {
                  setTextTrack(streamId, streamData[streamId].lastEnabledIndex);
                }
                if (!enable) {
                  streamData[streamId].lastEnabledIndex = getCurrentTrackIdx(streamId);
                  if (!textTracksAdded) {
                    disableTextBeforeTextTracksAdded = true;
                  } else {
                    setTextTrack(streamId, -1);
                  }
                }
              }
            }
            function isTextEnabled() {
              var enabled = true;
              if (allTracksAreDisabled && !forceTextStreaming) {
                enabled = false;
              }
              return enabled;
            }
            function enableForcedTextStreaming(enable) {
              Object(_utils_SupervisorTools__WEBPACK_IMPORTED_MODULE_9__["checkParameterType"])(enable, "boolean");
              forceTextStreaming = enable;
            }
            function setTextTrack(streamId, idx) {
              allTracksAreDisabled = idx === -1;
              if (allTracksAreDisabled && mediaController) {
                mediaController.saveTextSettingsDisabled();
              }
              var oldTrackIdx = getCurrentTrackIdx(streamId);
              if (oldTrackIdx === idx || !textTracks[streamId]) {
                return;
              }
              textTracks[streamId].setModeForTrackIdx(oldTrackIdx, _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT_HIDDEN);
              textTracks[streamId].setCurrentTrackIdx(idx);
              textTracks[streamId].setModeForTrackIdx(idx, _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT_SHOWING);
              var currentTrackInfo = textTracks[streamId].getCurrentTrackInfo();
              if (currentTrackInfo && currentTrackInfo.isFragmented && !currentTrackInfo.isEmbedded) {
                _setFragmentedTextTrack(streamId, currentTrackInfo, oldTrackIdx);
              } else if (currentTrackInfo && !currentTrackInfo.isFragmented) {
                _setNonFragmentedTextTrack(streamId, currentTrackInfo);
              }
              mediaController.setTrack(currentTrackInfo);
            }
            function _setFragmentedTextTrack(streamId, currentTrackInfo, oldTrackIdx) {
              if (!textSourceBuffers[streamId]) {
                return;
              }
              var config2 = textSourceBuffers[streamId].getConfig();
              var fragmentedTracks = config2.fragmentedTracks;
              for (var i3 = 0; i3 < fragmentedTracks.length; i3++) {
                var mediaInfo = fragmentedTracks[i3];
                if (currentTrackInfo.lang === mediaInfo.lang && (mediaInfo.id ? currentTrackInfo.id === mediaInfo.id : currentTrackInfo.index === mediaInfo.index)) {
                  var currentFragTrack = mediaController.getCurrentTrackFor(_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT, streamId);
                  if (mediaInfo !== currentFragTrack) {
                    textTracks[streamId].deleteCuesFromTrackIdx(oldTrackIdx);
                    textSourceBuffers[streamId].setCurrentFragmentedTrackIdx(i3);
                  } else if (oldTrackIdx === -1) {
                    eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_7__["default"].SET_FRAGMENTED_TEXT_AFTER_DISABLED, {}, {
                      streamId,
                      mediaType: _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT
                    });
                  }
                }
              }
            }
            function _setNonFragmentedTextTrack(streamId, currentTrackInfo) {
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_7__["default"].SET_NON_FRAGMENTED_TEXT, {
                currentTrackInfo
              }, {
                streamId,
                mediaType: _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT
              });
            }
            function getCurrentTrackIdx(streamId) {
              return textTracks[streamId].getCurrentTrackIdx();
            }
            function deactivateStream(streamInfo) {
              if (!streamInfo) {
                return;
              }
              var streamId = streamInfo.id;
              if (textSourceBuffers[streamId]) {
                textSourceBuffers[streamId].resetMediaInfos();
              }
              if (textTracks[streamId]) {
                textTracks[streamId].deleteAllTextTracks();
              }
            }
            function resetInitialSettings() {
              textSourceBuffers = {};
              textTracks = {};
              streamData = {};
              allTracksAreDisabled = true;
              textTracksAdded = false;
              disableTextBeforeTextTracksAdded = false;
            }
            function reset() {
              resetInitialSettings();
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_7__["default"].CURRENT_TRACK_CHANGED, _onCurrentTrackChanged, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_7__["default"].TEXT_TRACKS_QUEUE_INITIALIZED, _onTextTracksAdded, instance);
              Object.keys(textSourceBuffers).forEach(function(key) {
                textSourceBuffers[key].resetEmbedded();
                textSourceBuffers[key].reset();
              });
            }
            instance = {
              deactivateStream,
              initialize,
              initializeForStream,
              createTracks,
              getTextSourceBuffer,
              getAllTracksAreDisabled,
              addEmbeddedTrack,
              setInitialSettings,
              enableText,
              isTextEnabled,
              setTextTrack,
              getCurrentTrackIdx,
              enableForcedTextStreaming,
              addMediaInfosToBuffer,
              reset
            };
            setup();
            return instance;
          }
          TextController.__dashjs_factory_name = "TextController";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__["default"].getClassFactory(TextController);
        },
        "./src/streaming/text/TextSourceBuffer.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/vo/metrics/HTTPRequest.js");
          var _vo_TextTrackInfo__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/vo/TextTrackInfo.js");
          var _utils_BoxParser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/utils/BoxParser.js");
          var _utils_CustomTimeRanges__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/utils/CustomTimeRanges.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/core/Debug.js");
          var _EmbeddedTextHtmlRender__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/streaming/text/EmbeddedTextHtmlRender.js");
          var codem_isoboxer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./node_modules/codem-isoboxer/dist/iso_boxer.js");
          var codem_isoboxer__WEBPACK_IMPORTED_MODULE_8___default = /* @__PURE__ */ __webpack_require__.n(codem_isoboxer__WEBPACK_IMPORTED_MODULE_8__);
          var _externals_cea608_parser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./externals/cea608-parser.js");
          var _externals_cea608_parser__WEBPACK_IMPORTED_MODULE_9___default = /* @__PURE__ */ __webpack_require__.n(_externals_cea608_parser__WEBPACK_IMPORTED_MODULE_9__);
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/core/events/Events.js");
          var _vo_DashJSError__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/streaming/vo/DashJSError.js");
          var _core_errors_Errors__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/core/errors/Errors.js");
          function TextSourceBuffer(config) {
            var errHandler = config.errHandler;
            var manifestModel = config.manifestModel;
            var mediaController = config.mediaController;
            var videoModel = config.videoModel;
            var textTracks = config.textTracks;
            var vttParser = config.vttParser;
            var ttmlParser = config.ttmlParser;
            var streamInfo = config.streamInfo;
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_10__["default"])(context).getInstance();
            var embeddedInitialized = false;
            var instance, logger, boxParser, parser, mediaInfos, fragmentModel, initializationSegmentReceived, timescale, fragmentedTracks, firstFragmentedSubtitleStart, currFragmentedTrackIdx, embeddedTracks, embeddedTimescale, embeddedLastSequenceNumber, embeddedCea608FieldParsers, embeddedTextHtmlRender;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_6__["default"])(context).getInstance().getLogger(instance);
              boxParser = Object(_utils_BoxParser__WEBPACK_IMPORTED_MODULE_3__["default"])(context).getInstance();
              resetInitialSettings();
            }
            function getStreamId() {
              return streamInfo.id;
            }
            function _resetFragmented() {
              fragmentModel = null;
              timescale = NaN;
              fragmentedTracks = [];
              firstFragmentedSubtitleStart = null;
              initializationSegmentReceived = false;
            }
            function resetInitialSettings() {
              _resetFragmented();
              mediaInfos = [];
              parser = null;
            }
            function initialize() {
              if (!embeddedInitialized) {
                _initEmbedded();
              }
            }
            function addMediaInfos(type, mInfos, fModel) {
              mediaInfos = mediaInfos.concat(mInfos);
              if (type === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT && mInfos[0].isFragmented && !mInfos[0].isEmbedded) {
                fragmentModel = fModel;
                instance.buffered = Object(_utils_CustomTimeRanges__WEBPACK_IMPORTED_MODULE_4__["default"])(context).create();
                fragmentedTracks = mediaController.getTracksFor(_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT, streamInfo.id).filter(function(track) {
                  return track.isFragmented;
                });
                var currFragTrack = mediaController.getCurrentTrackFor(_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT, streamInfo.id);
                for (var i3 = 0; i3 < fragmentedTracks.length; i3++) {
                  if (fragmentedTracks[i3] === currFragTrack) {
                    setCurrentFragmentedTrackIdx(i3);
                    break;
                  }
                }
              }
              for (var _i = 0; _i < mInfos.length; _i++) {
                _createTextTrackFromMediaInfo(mInfos[_i]);
              }
            }
            function _createTextTrackFromMediaInfo(mediaInfo) {
              var textTrackInfo = new _vo_TextTrackInfo__WEBPACK_IMPORTED_MODULE_2__["default"]();
              var trackKindMap = {
                subtitle: "subtitles",
                caption: "captions"
              };
              for (var key in mediaInfo) {
                textTrackInfo[key] = mediaInfo[key];
              }
              textTrackInfo.labels = mediaInfo.labels;
              textTrackInfo.defaultTrack = getIsDefault(mediaInfo);
              textTrackInfo.isFragmented = mediaInfo.isFragmented;
              textTrackInfo.isEmbedded = !!mediaInfo.isEmbedded;
              textTrackInfo.isTTML = _checkTtml(mediaInfo);
              textTrackInfo.kind = _getKind(mediaInfo, trackKindMap);
              textTracks.addTextTrack(textTrackInfo);
            }
            function abort() {
            }
            function reset() {
              resetInitialSettings();
              mediaInfos = [];
              boxParser = null;
            }
            function _onVideoChunkReceived(e) {
              var chunk = e.chunk;
              if (chunk.mediaInfo.embeddedCaptions) {
                append(chunk.bytes, chunk);
              }
            }
            function _initEmbedded() {
              embeddedTracks = [];
              currFragmentedTrackIdx = null;
              embeddedTimescale = 0;
              embeddedCea608FieldParsers = [];
              embeddedLastSequenceNumber = null;
              embeddedInitialized = true;
              embeddedTextHtmlRender = Object(_EmbeddedTextHtmlRender__WEBPACK_IMPORTED_MODULE_7__["default"])(context).getInstance();
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].VIDEO_CHUNK_RECEIVED, _onVideoChunkReceived, instance);
              eventBus.on(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].BUFFER_CLEARED, onVideoBufferCleared, instance);
            }
            function resetEmbedded() {
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].VIDEO_CHUNK_RECEIVED, _onVideoChunkReceived, instance);
              eventBus.off(_core_events_Events__WEBPACK_IMPORTED_MODULE_11__["default"].BUFFER_CLEARED, onVideoBufferCleared, instance);
              if (textTracks) {
                textTracks.deleteAllTextTracks();
              }
              embeddedInitialized = false;
              embeddedTracks = [];
              embeddedCea608FieldParsers = [null, null];
              embeddedLastSequenceNumber = null;
            }
            function addEmbeddedTrack(mediaInfo) {
              if (!embeddedInitialized) {
                return;
              }
              if (mediaInfo) {
                if (mediaInfo.id === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].CC1 || mediaInfo.id === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].CC3) {
                  for (var i3 = 0; i3 < embeddedTracks.length; i3++) {
                    if (embeddedTracks[i3].id === mediaInfo.id) {
                      return;
                    }
                  }
                  embeddedTracks.push(mediaInfo);
                } else {
                  logger.warn("Embedded track " + mediaInfo.id + " not supported!");
                }
              }
            }
            function getConfig() {
              var config2 = {
                fragmentModel,
                fragmentedTracks,
                videoModel
              };
              return config2;
            }
            function setCurrentFragmentedTrackIdx(idx) {
              currFragmentedTrackIdx = idx;
            }
            function _checkTtml(mediaInfo) {
              return mediaInfo.codec && mediaInfo.codec.search(_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].STPP) >= 0 || mediaInfo.mimeType && mediaInfo.mimeType.search(_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TTML) >= 0;
            }
            function _getKind(mediaInfo, trackKindMap) {
              var kind = mediaInfo.roles && mediaInfo.roles.length > 0 ? trackKindMap[mediaInfo.roles[0]] : trackKindMap.caption;
              kind = kind === trackKindMap.caption || kind === trackKindMap.subtitle ? kind : trackKindMap.caption;
              return kind;
            }
            function append(bytes, chunk) {
              var mediaInfo = chunk.mediaInfo;
              var mediaType = mediaInfo.type;
              var mimeType = mediaInfo.mimeType;
              var codecType = mediaInfo.codec || mimeType;
              if (!codecType) {
                logger.error("No text type defined");
                return;
              }
              if (mediaInfo.codec.indexOf("application/mp4") !== -1) {
                _appendFragmentedText(bytes, chunk, codecType);
              } else if (mediaType === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO) {
                _appendEmbeddedText(bytes, chunk);
              } else {
                _appendText(bytes, chunk, codecType);
              }
            }
            function _appendFragmentedText(bytes, chunk, codecType) {
              var sampleList, samplesInfo;
              if (chunk.segmentType === "InitializationSegment") {
                initializationSegmentReceived = true;
                timescale = boxParser.getMediaTimescaleFromMoov(bytes);
              } else {
                if (!initializationSegmentReceived) {
                  return;
                }
                samplesInfo = boxParser.getSamplesInfo(bytes);
                sampleList = samplesInfo.sampleList;
                if (sampleList.length > 0) {
                  firstFragmentedSubtitleStart = sampleList[0].cts - chunk.start * timescale;
                }
                if (codecType.search(_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].STPP) >= 0) {
                  _appendFragmentedSttp(bytes, sampleList, codecType);
                } else {
                  _appendFragmentedWebVtt(bytes, sampleList);
                }
              }
            }
            function _appendFragmentedSttp(bytes, sampleList, codecType) {
              var i3, j;
              parser = parser !== null ? parser : getParser(codecType);
              for (i3 = 0; i3 < sampleList.length; i3++) {
                var sample = sampleList[i3];
                var sampleStart = sample.cts;
                var timestampOffset = _getTimestampOffset();
                var start = timestampOffset + sampleStart / timescale;
                var end = start + sample.duration / timescale;
                instance.buffered.add(start, end);
                var dataView = new DataView(bytes, sample.offset, sample.subSizes[0]);
                var ccContent = codem_isoboxer__WEBPACK_IMPORTED_MODULE_8___default.a.Utils.dataViewToString(dataView, _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].UTF8);
                var images = [];
                var subOffset = sample.offset + sample.subSizes[0];
                for (j = 1; j < sample.subSizes.length; j++) {
                  var inData = new Uint8Array(bytes, subOffset, sample.subSizes[j]);
                  var raw = String.fromCharCode.apply(null, inData);
                  images.push(raw);
                  subOffset += sample.subSizes[j];
                }
                try {
                  var manifest = manifestModel.getValue();
                  var offsetTime = manifest.ttmlTimeIsRelative ? sampleStart / timescale : 0;
                  var result = parser.parse(ccContent, offsetTime, sampleStart / timescale, (sampleStart + sample.duration) / timescale, images);
                  textTracks.addCaptions(currFragmentedTrackIdx, timestampOffset, result);
                } catch (e) {
                  fragmentModel.removeExecutedRequestsBeforeTime();
                  this.remove();
                  logger.error("TTML parser error: " + e.message);
                }
              }
            }
            function _appendFragmentedWebVtt(bytes, sampleList) {
              var i3, j, k2;
              var captionArray = [];
              for (i3 = 0; i3 < sampleList.length; i3++) {
                var sample = sampleList[i3];
                sample.cts -= firstFragmentedSubtitleStart;
                var timestampOffset = _getTimestampOffset();
                var start = timestampOffset + sample.cts / timescale;
                var end = start + sample.duration / timescale;
                instance.buffered.add(start, end);
                var sampleData = bytes.slice(sample.offset, sample.offset + sample.size);
                var sampleBoxes = codem_isoboxer__WEBPACK_IMPORTED_MODULE_8___default.a.parseBuffer(sampleData);
                for (j = 0; j < sampleBoxes.boxes.length; j++) {
                  var box1 = sampleBoxes.boxes[j];
                  logger.debug("VTT box1: " + box1.type);
                  if (box1.type === "vtte") {
                    continue;
                  }
                  if (box1.type === "vttc") {
                    logger.debug("VTT vttc boxes.length = " + box1.boxes.length);
                    for (k2 = 0; k2 < box1.boxes.length; k2++) {
                      var box2 = box1.boxes[k2];
                      logger.debug("VTT box2: " + box2.type);
                      if (box2.type === "payl") {
                        var cue_text = box2.cue_text;
                        logger.debug("VTT cue_text = " + cue_text);
                        var start_time = sample.cts / timescale;
                        var end_time = (sample.cts + sample.duration) / timescale;
                        captionArray.push({
                          start: start_time,
                          end: end_time,
                          data: cue_text,
                          styles: {}
                        });
                        logger.debug("VTT " + start_time + "-" + end_time + " : " + cue_text);
                      }
                    }
                  }
                }
              }
              if (captionArray.length > 0) {
                textTracks.addCaptions(currFragmentedTrackIdx, 0, captionArray);
              }
            }
            function _appendText(bytes, chunk, codecType) {
              var result, ccContent;
              var dataView = new DataView(bytes, 0, bytes.byteLength);
              ccContent = codem_isoboxer__WEBPACK_IMPORTED_MODULE_8___default.a.Utils.dataViewToString(dataView, _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].UTF8);
              try {
                result = getParser(codecType).parse(ccContent, 0);
                textTracks.addCaptions(textTracks.getCurrentTrackIdx(), 0, result);
                if (instance.buffered) {
                  instance.buffered.add(chunk.start, chunk.end);
                }
              } catch (e) {
                errHandler.error(new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_12__["default"](_core_errors_Errors__WEBPACK_IMPORTED_MODULE_13__["default"].TIMED_TEXT_ERROR_ID_PARSE_CODE, _core_errors_Errors__WEBPACK_IMPORTED_MODULE_13__["default"].TIMED_TEXT_ERROR_MESSAGE_PARSE + e.message, ccContent));
              }
            }
            function _appendEmbeddedText(bytes, chunk) {
              var i3, samplesInfo;
              if (chunk.segmentType === _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_1__["HTTPRequest"].INIT_SEGMENT_TYPE) {
                if (embeddedTimescale === 0) {
                  embeddedTimescale = boxParser.getMediaTimescaleFromMoov(bytes);
                }
              } else if (chunk.segmentType === _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_1__["HTTPRequest"].MEDIA_SEGMENT_TYPE) {
                if (embeddedTimescale === 0) {
                  logger.warn("CEA-608: No timescale for embeddedTextTrack yet");
                  return;
                }
                samplesInfo = boxParser.getSamplesInfo(bytes);
                var sequenceNumber = samplesInfo.lastSequenceNumber;
                if (!embeddedCea608FieldParsers[0] && !embeddedCea608FieldParsers[1]) {
                  _setupCeaParser();
                }
                if (embeddedTimescale) {
                  if (embeddedLastSequenceNumber !== null && sequenceNumber !== embeddedLastSequenceNumber + samplesInfo.numSequences) {
                    for (i3 = 0; i3 < embeddedCea608FieldParsers.length; i3++) {
                      if (embeddedCea608FieldParsers[i3]) {
                        embeddedCea608FieldParsers[i3].reset();
                      }
                    }
                  }
                  var allCcData = _extractCea608Data(bytes, samplesInfo.sampleList);
                  for (var fieldNr = 0; fieldNr < embeddedCea608FieldParsers.length; fieldNr++) {
                    var ccData = allCcData.fields[fieldNr];
                    var fieldParser = embeddedCea608FieldParsers[fieldNr];
                    if (fieldParser) {
                      for (i3 = 0; i3 < ccData.length; i3++) {
                        fieldParser.addData(ccData[i3][0] / embeddedTimescale, ccData[i3][1]);
                      }
                    }
                  }
                  embeddedLastSequenceNumber = sequenceNumber;
                }
              }
            }
            function _setupCeaParser() {
              var trackIdx;
              for (var i3 = 0; i3 < embeddedTracks.length; i3++) {
                trackIdx = textTracks.getTrackIdxForId(embeddedTracks[i3].id);
                if (trackIdx === -1) {
                  logger.warn("CEA-608: data before track is ready.");
                  return;
                }
                var handler = _makeCueAdderForIndex(trackIdx);
                embeddedCea608FieldParsers[i3] = new _externals_cea608_parser__WEBPACK_IMPORTED_MODULE_9___default.a.Cea608Parser(i3 + 1, {
                  newCue: handler
                }, null);
              }
            }
            function _makeCueAdderForIndex(trackIndex) {
              function newCue(startTime, endTime, captionScreen) {
                var captionsArray;
                if (videoModel.getTTMLRenderingDiv()) {
                  captionsArray = embeddedTextHtmlRender.createHTMLCaptionsFromScreen(videoModel.getElement(), startTime, endTime, captionScreen);
                } else {
                  var text = captionScreen.getDisplayText();
                  captionsArray = [{
                    start: startTime,
                    end: endTime,
                    data: text,
                    styles: {}
                  }];
                }
                if (captionsArray) {
                  textTracks.addCaptions(trackIndex, 0, captionsArray);
                }
              }
              return newCue;
            }
            function _extractCea608Data(data, samples) {
              if (samples.length === 0) {
                return null;
              }
              var allCcData = {
                splits: [],
                fields: [[], []]
              };
              var raw = new DataView(data);
              for (var i3 = 0; i3 < samples.length; i3++) {
                var sample = samples[i3];
                var cea608Ranges = _externals_cea608_parser__WEBPACK_IMPORTED_MODULE_9___default.a.findCea608Nalus(raw, sample.offset, sample.size);
                var lastSampleTime = null;
                var idx = 0;
                for (var j = 0; j < cea608Ranges.length; j++) {
                  var ccData = _externals_cea608_parser__WEBPACK_IMPORTED_MODULE_9___default.a.extractCea608DataFromRange(raw, cea608Ranges[j]);
                  for (var k2 = 0; k2 < 2; k2++) {
                    if (ccData[k2].length > 0) {
                      if (sample.cts !== lastSampleTime) {
                        idx = 0;
                      } else {
                        idx += 1;
                      }
                      var timestampOffset = _getTimestampOffset();
                      allCcData.fields[k2].push([sample.cts + timestampOffset * embeddedTimescale, ccData[k2], idx]);
                      lastSampleTime = sample.cts;
                    }
                  }
                }
              }
              allCcData.fields.forEach(function sortField(field) {
                field.sort(function(a4, b3) {
                  if (a4[0] === b3[0]) {
                    return a4[2] - b3[2];
                  }
                  return a4[0] - b3[0];
                });
              });
              return allCcData;
            }
            function _getTimestampOffset() {
              return !isNaN(instance.timestampOffset) ? instance.timestampOffset : 0;
            }
            function getIsDefault(mediaInfo) {
              var isDefault = false;
              if (embeddedTracks.length > 1 && mediaInfo.isEmbedded) {
                isDefault = mediaInfo.id && mediaInfo.id === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].CC1;
              } else if (embeddedTracks.length === 1) {
                if (mediaInfo.id && typeof mediaInfo.id === "string" && mediaInfo.id.substring(0, 2) === "CC") {
                  isDefault = true;
                }
              } else if (embeddedTracks.length === 0) {
                isDefault = mediaInfo.index === mediaInfos[0].index;
              }
              return isDefault;
            }
            function getParser(codecType) {
              var parser2;
              if (codecType.search(_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VTT) >= 0) {
                parser2 = vttParser;
              } else if (codecType.search(_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TTML) >= 0 || codecType.search(_constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].STPP) >= 0) {
                parser2 = ttmlParser;
              }
              return parser2;
            }
            function remove(start, end) {
              if (start === void 0 && start === end) {
                start = instance.buffered.start(0);
                end = instance.buffered.end(instance.buffered.length - 1);
              }
              instance.buffered.remove(start, end);
              textTracks.deleteCuesFromTrackIdx(currFragmentedTrackIdx, start, end);
            }
            function onVideoBufferCleared(e) {
              embeddedTracks.forEach(function(track) {
                var trackIdx = textTracks.getTrackIdxForId(track.id);
                if (trackIdx >= 0) {
                  textTracks.deleteCuesFromTrackIdx(trackIdx, e.from, e.to);
                }
              });
            }
            function resetMediaInfos() {
              mediaInfos = [];
            }
            instance = {
              initialize,
              addMediaInfos,
              resetMediaInfos,
              getStreamId,
              append,
              abort,
              addEmbeddedTrack,
              resetEmbedded,
              getConfig,
              setCurrentFragmentedTrackIdx,
              remove,
              reset
            };
            setup();
            return instance;
          }
          TextSourceBuffer.__dashjs_factory_name = "TextSourceBuffer";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_5__["default"].getClassFactory(TextSourceBuffer);
        },
        "./src/streaming/text/TextTracks.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/events/Events.js");
          var _streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/MediaPlayerEvents.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/core/Debug.js");
          var imsc__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/imsc/src/main/js/main.js");
          var imsc__WEBPACK_IMPORTED_MODULE_6___default = /* @__PURE__ */ __webpack_require__.n(imsc__WEBPACK_IMPORTED_MODULE_6__);
          function TextTracks(config) {
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_1__["default"])(context).getInstance();
            var videoModel = config.videoModel;
            var streamInfo = config.streamInfo;
            var instance, logger, Cue, textTrackQueue, nativeTrackElementArr, currentTrackIdx, actualVideoLeft, actualVideoTop, actualVideoWidth, actualVideoHeight, captionContainer, videoSizeCheckInterval, fullscreenAttribute, displayCCOnTop, previousISDState, topZIndex, resizeObserver;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_5__["default"])(context).getInstance().getLogger(instance);
            }
            function initialize() {
              if (typeof window === "undefined" || typeof navigator === "undefined") {
                return;
              }
              Cue = window.VTTCue || window.TextTrackCue;
              textTrackQueue = [];
              nativeTrackElementArr = [];
              currentTrackIdx = -1;
              actualVideoLeft = 0;
              actualVideoTop = 0;
              actualVideoWidth = 0;
              actualVideoHeight = 0;
              captionContainer = null;
              videoSizeCheckInterval = null;
              displayCCOnTop = false;
              topZIndex = 2147483647;
              previousISDState = null;
              if (document.fullscreenElement !== void 0) {
                fullscreenAttribute = "fullscreenElement";
              } else if (document.webkitIsFullScreen !== void 0) {
                fullscreenAttribute = "webkitIsFullScreen";
              } else if (document.msFullscreenElement) {
                fullscreenAttribute = "msFullscreenElement";
              } else if (document.mozFullScreen) {
                fullscreenAttribute = "mozFullScreen";
              }
            }
            function getStreamId() {
              return streamInfo.id;
            }
            function _createTrackForUserAgent(element) {
              var kind = element.kind;
              var label = element.id !== void 0 ? element.id : element.lang;
              var lang = element.lang;
              var isTTML = element.isTTML;
              var isEmbedded = element.isEmbedded;
              var track = videoModel.addTextTrack(kind, label, lang, isTTML, isEmbedded);
              return track;
            }
            function addTextTrack(textTrackInfoVO) {
              textTrackQueue.push(textTrackInfoVO);
            }
            function createTracks() {
              textTrackQueue.sort(function(a4, b3) {
                return a4.index - b3.index;
              });
              captionContainer = videoModel.getTTMLRenderingDiv();
              var defaultIndex = -1;
              for (var i3 = 0; i3 < textTrackQueue.length; i3++) {
                var track = _createTrackForUserAgent(textTrackQueue[i3]);
                nativeTrackElementArr.push(track);
                if (textTrackQueue[i3].defaultTrack) {
                  track["default"] = true;
                  defaultIndex = i3;
                }
                var textTrack = getTrackByIdx(i3);
                if (textTrack) {
                  textTrack.mode = _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT_SHOWING;
                  if (captionContainer && (textTrackQueue[i3].isTTML || textTrackQueue[i3].isEmbedded)) {
                    textTrack.renderingType = "html";
                  } else {
                    textTrack.renderingType = "default";
                  }
                }
                addCaptions(i3, 0, textTrackQueue[i3].captionData);
                eventBus.trigger(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_3__["default"].TEXT_TRACK_ADDED);
              }
              setCurrentTrackIdx.call(this, defaultIndex);
              if (defaultIndex >= 0) {
                var onMetadataLoaded = function onMetadataLoaded2() {
                  var track2 = getTrackByIdx(defaultIndex);
                  if (track2) {
                    checkVideoSize.call(this, track2, true);
                  }
                  eventBus.off(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_3__["default"].PLAYBACK_METADATA_LOADED, onMetadataLoaded2, this);
                };
                eventBus.on(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_3__["default"].PLAYBACK_METADATA_LOADED, onMetadataLoaded, this);
                for (var idx = 0; idx < textTrackQueue.length; idx++) {
                  var videoTextTrack = getTrackByIdx(idx);
                  if (videoTextTrack) {
                    videoTextTrack.mode = idx === defaultIndex ? _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT_SHOWING : _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT_HIDDEN;
                  }
                }
              }
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].TEXT_TRACKS_QUEUE_INITIALIZED, {
                index: currentTrackIdx,
                tracks: textTrackQueue,
                streamId: streamInfo.id
              });
            }
            function getVideoVisibleVideoSize(viewWidth, viewHeight, videoWidth, videoHeight, aspectRatio, use80Percent) {
              var viewAspectRatio = viewWidth / viewHeight;
              var videoAspectRatio = videoWidth / videoHeight;
              var videoPictureWidth = 0;
              var videoPictureHeight = 0;
              if (viewAspectRatio > videoAspectRatio) {
                videoPictureHeight = viewHeight;
                videoPictureWidth = videoPictureHeight / videoHeight * videoWidth;
              } else {
                videoPictureWidth = viewWidth;
                videoPictureHeight = videoPictureWidth / videoWidth * videoHeight;
              }
              var videoPictureXAspect = 0;
              var videoPictureYAspect = 0;
              var videoPictureWidthAspect = 0;
              var videoPictureHeightAspect = 0;
              var videoPictureAspect = videoPictureWidth / videoPictureHeight;
              if (videoPictureAspect > aspectRatio) {
                videoPictureHeightAspect = videoPictureHeight;
                videoPictureWidthAspect = videoPictureHeight * aspectRatio;
              } else {
                videoPictureWidthAspect = videoPictureWidth;
                videoPictureHeightAspect = videoPictureWidth / aspectRatio;
              }
              videoPictureXAspect = (viewWidth - videoPictureWidthAspect) / 2;
              videoPictureYAspect = (viewHeight - videoPictureHeightAspect) / 2;
              if (use80Percent) {
                return {
                  x: videoPictureXAspect + videoPictureWidthAspect * 0.1,
                  y: videoPictureYAspect + videoPictureHeightAspect * 0.1,
                  w: videoPictureWidthAspect * 0.8,
                  h: videoPictureHeightAspect * 0.8
                };
              } else {
                return {
                  x: videoPictureXAspect,
                  y: videoPictureYAspect,
                  w: videoPictureWidthAspect,
                  h: videoPictureHeightAspect
                };
              }
            }
            function checkVideoSize(track, forceDrawing) {
              var clientWidth = videoModel.getClientWidth();
              var clientHeight = videoModel.getClientHeight();
              var videoWidth = videoModel.getVideoWidth();
              var videoHeight = videoModel.getVideoHeight();
              var videoOffsetTop = videoModel.getVideoRelativeOffsetTop();
              var videoOffsetLeft = videoModel.getVideoRelativeOffsetLeft();
              if (videoWidth !== 0 && videoHeight !== 0) {
                var aspectRatio = videoWidth / videoHeight;
                var use80Percent = false;
                if (track.isFromCEA608) {
                  aspectRatio = 3.5 / 3;
                  use80Percent = true;
                }
                var realVideoSize = getVideoVisibleVideoSize.call(this, clientWidth, clientHeight, videoWidth, videoHeight, aspectRatio, use80Percent);
                var newVideoWidth = realVideoSize.w;
                var newVideoHeight = realVideoSize.h;
                var newVideoLeft = realVideoSize.x;
                var newVideoTop = realVideoSize.y;
                if (newVideoWidth != actualVideoWidth || newVideoHeight != actualVideoHeight || newVideoLeft != actualVideoLeft || newVideoTop != actualVideoTop || forceDrawing) {
                  actualVideoLeft = newVideoLeft + videoOffsetLeft;
                  actualVideoTop = newVideoTop + videoOffsetTop;
                  actualVideoWidth = newVideoWidth;
                  actualVideoHeight = newVideoHeight;
                  if (captionContainer) {
                    var containerStyle = captionContainer.style;
                    if (containerStyle) {
                      containerStyle.left = actualVideoLeft + "px";
                      containerStyle.top = actualVideoTop + "px";
                      containerStyle.width = actualVideoWidth + "px";
                      containerStyle.height = actualVideoHeight + "px";
                      containerStyle.zIndex = fullscreenAttribute && document[fullscreenAttribute] || displayCCOnTop ? topZIndex : null;
                      eventBus.trigger(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_3__["default"].CAPTION_CONTAINER_RESIZE);
                    }
                  }
                  var activeCues = track.activeCues;
                  if (activeCues) {
                    var len = activeCues.length;
                    for (var i3 = 0; i3 < len; ++i3) {
                      var cue = activeCues[i3];
                      cue.scaleCue(cue);
                    }
                  }
                }
              }
            }
            function scaleCue(activeCue) {
              var videoWidth = actualVideoWidth;
              var videoHeight = actualVideoHeight;
              var key, replaceValue, valueFontSize, valueLineHeight, elements;
              if (activeCue.cellResolution) {
                var cellUnit = [videoWidth / activeCue.cellResolution[0], videoHeight / activeCue.cellResolution[1]];
                if (activeCue.linePadding) {
                  for (key in activeCue.linePadding) {
                    if (activeCue.linePadding.hasOwnProperty(key)) {
                      var valueLinePadding = activeCue.linePadding[key];
                      replaceValue = (valueLinePadding * cellUnit[0]).toString();
                      var elementsSpan = document.getElementsByClassName("spanPadding");
                      for (var i3 = 0; i3 < elementsSpan.length; i3++) {
                        elementsSpan[i3].style.cssText = elementsSpan[i3].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi, "$1" + replaceValue);
                        elementsSpan[i3].style.cssText = elementsSpan[i3].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi, "$1" + replaceValue);
                      }
                    }
                  }
                }
                if (activeCue.fontSize) {
                  for (key in activeCue.fontSize) {
                    if (activeCue.fontSize.hasOwnProperty(key)) {
                      if (activeCue.fontSize[key][0] === "%") {
                        valueFontSize = activeCue.fontSize[key][1] / 100;
                      } else if (activeCue.fontSize[key][0] === "c") {
                        valueFontSize = activeCue.fontSize[key][1];
                      }
                      replaceValue = (valueFontSize * cellUnit[1]).toString();
                      if (key !== "defaultFontSize") {
                        elements = document.getElementsByClassName(key);
                      } else {
                        elements = document.getElementsByClassName("paragraph");
                      }
                      for (var j = 0; j < elements.length; j++) {
                        elements[j].style.cssText = elements[j].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi, "$1" + replaceValue);
                      }
                    }
                  }
                  if (activeCue.lineHeight) {
                    for (key in activeCue.lineHeight) {
                      if (activeCue.lineHeight.hasOwnProperty(key)) {
                        if (activeCue.lineHeight[key][0] === "%") {
                          valueLineHeight = activeCue.lineHeight[key][1] / 100;
                        } else if (activeCue.fontSize[key][0] === "c") {
                          valueLineHeight = activeCue.lineHeight[key][1];
                        }
                        replaceValue = (valueLineHeight * cellUnit[1]).toString();
                        elements = document.getElementsByClassName(key);
                        for (var k2 = 0; k2 < elements.length; k2++) {
                          elements[k2].style.cssText = elements[k2].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi, "$1" + replaceValue);
                        }
                      }
                    }
                  }
                }
              }
              if (activeCue.isd) {
                var htmlCaptionDiv = document.getElementById(activeCue.cueID);
                if (htmlCaptionDiv) {
                  captionContainer.removeChild(htmlCaptionDiv);
                }
                renderCaption(activeCue);
              }
            }
            function renderCaption(cue) {
              if (captionContainer) {
                var finalCue = document.createElement("div");
                captionContainer.appendChild(finalCue);
                previousISDState = Object(imsc__WEBPACK_IMPORTED_MODULE_6__["renderHTML"])(cue.isd, finalCue, function(uri) {
                  var imsc1ImgUrnTester = /^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/;
                  var smpteImgUrnTester = /^#(.*)$/;
                  if (imsc1ImgUrnTester.test(uri)) {
                    var match9 = imsc1ImgUrnTester.exec(uri);
                    var imageId = parseInt(match9[4], 10) - 1;
                    var imageData = btoa(cue.images[imageId]);
                    var dataUrl = "data:image/png;base64," + imageData;
                    return dataUrl;
                  } else if (smpteImgUrnTester.test(uri)) {
                    var _match = smpteImgUrnTester.exec(uri);
                    var _imageId = _match[1];
                    var _dataUrl = "data:image/png;base64," + cue.embeddedImages[_imageId];
                    return _dataUrl;
                  } else {
                    return null;
                  }
                }, captionContainer.clientHeight, captionContainer.clientWidth, false, function(err) {
                  logger.info("renderCaption :", err);
                }, previousISDState, true);
                finalCue.id = cue.cueID;
                eventBus.trigger(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_3__["default"].CAPTION_RENDERED, {
                  captionDiv: finalCue,
                  currentTrackIdx
                });
              }
            }
            function addCaptions(trackIdx, timeOffset, captionData) {
              var track = getTrackByIdx(trackIdx);
              var self2 = this;
              if (!track) {
                return;
              }
              if (!Array.isArray(captionData) || captionData.length === 0) {
                return;
              }
              for (var item = 0; item < captionData.length; item++) {
                var cue = void 0;
                var currentItem = captionData[item];
                track.cellResolution = currentItem.cellResolution;
                track.isFromCEA608 = currentItem.isFromCEA608;
                if (currentItem.type === "html" && captionContainer && !isNaN(currentItem.start) && !isNaN(currentItem.end)) {
                  cue = new Cue(currentItem.start + timeOffset, currentItem.end + timeOffset, "");
                  cue.cueHTMLElement = currentItem.cueHTMLElement;
                  cue.isd = currentItem.isd;
                  cue.images = currentItem.images;
                  cue.embeddedImages = currentItem.embeddedImages;
                  cue.cueID = currentItem.cueID;
                  cue.scaleCue = scaleCue.bind(self2);
                  cue.cellResolution = currentItem.cellResolution;
                  cue.lineHeight = currentItem.lineHeight;
                  cue.linePadding = currentItem.linePadding;
                  cue.fontSize = currentItem.fontSize;
                  captionContainer.style.left = actualVideoLeft + "px";
                  captionContainer.style.top = actualVideoTop + "px";
                  captionContainer.style.width = actualVideoWidth + "px";
                  captionContainer.style.height = actualVideoHeight + "px";
                  cue.onenter = function() {
                    if (track.mode === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT_SHOWING) {
                      if (this.isd) {
                        renderCaption(this);
                        logger.debug("Cue enter id:" + this.cueID);
                      } else {
                        captionContainer.appendChild(this.cueHTMLElement);
                        scaleCue.call(self2, this);
                        eventBus.trigger(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_3__["default"].CAPTION_RENDERED, {
                          captionDiv: this.cueHTMLElement,
                          currentTrackIdx
                        });
                      }
                    }
                  };
                  cue.onexit = function() {
                    if (captionContainer) {
                      var divs = captionContainer.childNodes;
                      for (var i3 = 0; i3 < divs.length; ++i3) {
                        if (divs[i3].id === this.cueID) {
                          logger.debug("Cue exit id:" + divs[i3].id);
                          captionContainer.removeChild(divs[i3]);
                          --i3;
                        }
                      }
                    }
                  };
                } else {
                  if (currentItem.data && !isNaN(currentItem.start) && !isNaN(currentItem.end)) {
                    cue = new Cue(currentItem.start - timeOffset, currentItem.end - timeOffset, currentItem.data);
                    if (currentItem.styles) {
                      if (currentItem.styles.align !== void 0 && "align" in cue) {
                        cue.align = currentItem.styles.align;
                      }
                      if (currentItem.styles.line !== void 0 && "line" in cue) {
                        cue.line = currentItem.styles.line;
                      }
                      if (currentItem.styles.position !== void 0 && "position" in cue) {
                        cue.position = currentItem.styles.position;
                      }
                      if (currentItem.styles.size !== void 0 && "size" in cue) {
                        cue.size = currentItem.styles.size;
                      }
                    }
                    cue.onenter = function() {
                      if (track.mode === _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].TEXT_SHOWING) {
                        eventBus.trigger(_streaming_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_3__["default"].CAPTION_RENDERED, {
                          currentTrackIdx
                        });
                      }
                    };
                  }
                }
                try {
                  if (cue) {
                    if (!cueInTrack(track, cue)) {
                      track.addCue(cue);
                    }
                  } else {
                    logger.error("impossible to display subtitles.");
                  }
                } catch (e) {
                  deleteTrackCues(track);
                  track.addCue(cue);
                  throw e;
                }
              }
            }
            function getTrackByIdx(idx) {
              return idx >= 0 && textTrackQueue[idx] ? videoModel.getTextTrack(textTrackQueue[idx].kind, textTrackQueue[idx].id, textTrackQueue[idx].lang, textTrackQueue[idx].isTTML, textTrackQueue[idx].isEmbedded) : null;
            }
            function getCurrentTrackIdx() {
              return currentTrackIdx;
            }
            function getTrackIdxForId(trackId) {
              var idx = -1;
              for (var i3 = 0; i3 < textTrackQueue.length; i3++) {
                if (textTrackQueue[i3].id === trackId) {
                  idx = i3;
                  break;
                }
              }
              return idx;
            }
            function setCurrentTrackIdx(idx) {
              var _this = this;
              if (idx === currentTrackIdx) {
                return;
              }
              currentTrackIdx = idx;
              var track = getTrackByIdx(currentTrackIdx);
              setCueStyleOnTrack.call(this, track);
              if (videoSizeCheckInterval) {
                clearInterval(videoSizeCheckInterval);
                videoSizeCheckInterval = null;
              }
              if (track && track.renderingType === "html") {
                checkVideoSize.call(this, track, true);
                if (window.ResizeObserver) {
                  resizeObserver = new window.ResizeObserver(function() {
                    checkVideoSize.call(_this, track, true);
                  });
                  resizeObserver.observe(videoModel.getElement());
                } else {
                  videoSizeCheckInterval = setInterval(checkVideoSize.bind(this, track), 500);
                }
              }
            }
            function setCueStyleOnTrack(track) {
              clearCaptionContainer.call(this);
              if (track) {
                if (track.renderingType === "html") {
                  setNativeCueStyle.call(this);
                } else {
                  removeNativeCueStyle.call(this);
                }
              } else {
                removeNativeCueStyle.call(this);
              }
            }
            function cueInTrack(track, cue) {
              if (!track.cues)
                return false;
              for (var i3 = 0; i3 < track.cues.length; i3++) {
                if (track.cues[i3].startTime === cue.startTime && track.cues[i3].endTime === cue.endTime) {
                  return true;
                }
              }
              return false;
            }
            function cueInRange(cue, start, end) {
              return (isNaN(start) || cue.startTime >= start) && (isNaN(end) || cue.endTime <= end);
            }
            function deleteTrackCues(track, start, end) {
              if (track.cues) {
                var cues = track.cues;
                var lastIdx = cues.length - 1;
                for (var r3 = lastIdx; r3 >= 0; r3--) {
                  if (cueInRange(cues[r3], start, end)) {
                    if (cues[r3].onexit) {
                      cues[r3].onexit();
                    }
                    track.removeCue(cues[r3]);
                  }
                }
              }
            }
            function deleteCuesFromTrackIdx(trackIdx, start, end) {
              var track = getTrackByIdx(trackIdx);
              if (track) {
                deleteTrackCues(track, start, end);
              }
            }
            function deleteAllTextTracks() {
              var ln = nativeTrackElementArr ? nativeTrackElementArr.length : 0;
              for (var i3 = 0; i3 < ln; i3++) {
                var track = getTrackByIdx(i3);
                if (track) {
                  deleteTrackCues.call(this, track, streamInfo.start, streamInfo.start + streamInfo.duration);
                }
              }
              nativeTrackElementArr = [];
              textTrackQueue = [];
              if (videoSizeCheckInterval) {
                clearInterval(videoSizeCheckInterval);
                videoSizeCheckInterval = null;
              }
              if (resizeObserver && videoModel) {
                resizeObserver.unobserve(videoModel.getElement());
                resizeObserver = null;
              }
              currentTrackIdx = -1;
              clearCaptionContainer.call(this);
            }
            function deleteTextTrack(idx) {
              videoModel.removeChild(nativeTrackElementArr[idx]);
              nativeTrackElementArr.splice(idx, 1);
            }
            function setNativeCueStyle() {
              var styleElement = document.getElementById("native-cue-style");
              if (styleElement) {
                return;
              }
              styleElement = document.createElement("style");
              styleElement.id = "native-cue-style";
              document.head.appendChild(styleElement);
              var stylesheet = styleElement.sheet;
              var video = videoModel.getElement();
              try {
                if (video) {
                  if (video.id) {
                    stylesheet.insertRule("#" + video.id + "::cue {background: transparent}", 0);
                  } else if (video.classList.length !== 0) {
                    stylesheet.insertRule("." + video.className + "::cue {background: transparent}", 0);
                  } else {
                    stylesheet.insertRule("video::cue {background: transparent}", 0);
                  }
                }
              } catch (e) {
                logger.info("" + e.message);
              }
            }
            function removeNativeCueStyle() {
              var styleElement = document.getElementById("native-cue-style");
              if (styleElement) {
                document.head.removeChild(styleElement);
              }
            }
            function clearCaptionContainer() {
              if (captionContainer) {
                while (captionContainer.firstChild) {
                  captionContainer.removeChild(captionContainer.firstChild);
                }
              }
            }
            function setModeForTrackIdx(idx, mode) {
              var track = getTrackByIdx(idx);
              if (track && track.mode !== mode) {
                track.mode = mode;
              }
            }
            function getCurrentTrackInfo() {
              return textTrackQueue[currentTrackIdx];
            }
            instance = {
              initialize,
              getStreamId,
              addTextTrack,
              addCaptions,
              createTracks,
              getCurrentTrackIdx,
              setCurrentTrackIdx,
              getTrackIdxForId,
              getCurrentTrackInfo,
              setModeForTrackIdx,
              deleteCuesFromTrackIdx,
              deleteAllTextTracks,
              deleteTextTrack
            };
            setup();
            return instance;
          }
          TextTracks.__dashjs_factory_name = "TextTracks";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_4__["default"].getClassFactory(TextTracks);
        },
        "./src/streaming/thumbnail/ThumbnailController.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _vo_Thumbnail__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/vo/Thumbnail.js");
          var _ThumbnailTracks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/thumbnail/ThumbnailTracks.js");
          var _vo_BitrateInfo__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/vo/BitrateInfo.js");
          var _dash_utils_SegmentsUtils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/dash/utils/SegmentsUtils.js");
          function ThumbnailController(config) {
            var context = this.context;
            var streamInfo = config.streamInfo;
            var instance, thumbnailTracks;
            function setup() {
              reset();
              thumbnailTracks = Object(_ThumbnailTracks__WEBPACK_IMPORTED_MODULE_3__["default"])(context).create({
                streamInfo,
                adapter: config.adapter,
                baseURLController: config.baseURLController,
                timelineConverter: config.timelineConverter,
                debug: config.debug,
                eventBus: config.eventBus,
                events: config.events,
                dashConstants: config.dashConstants,
                dashMetrics: config.dashMetrics,
                segmentBaseController: config.segmentBaseController
              });
            }
            function initialize() {
              thumbnailTracks.addTracks();
              var tracks = thumbnailTracks.getTracks();
              if (tracks && tracks.length > 0) {
                setTrackByIndex(0);
              }
            }
            function getStreamId() {
              return streamInfo.id;
            }
            function provide(time, callback) {
              if (typeof callback !== "function") {
                return;
              }
              var track = thumbnailTracks.getCurrentTrack();
              var offset, request;
              if (!track || track.segmentDuration <= 0 || time === void 0 || time === null) {
                callback(null);
                return;
              }
              request = thumbnailTracks.getThumbnailRequestForTime(time);
              if (request) {
                track.segmentDuration = request.duration;
              }
              offset = time % track.segmentDuration;
              var thumbIndex = Math.floor(offset * track.tilesHor * track.tilesVert / track.segmentDuration);
              var thumbnail = new _vo_Thumbnail__WEBPACK_IMPORTED_MODULE_2__["default"]();
              thumbnail.width = Math.floor(track.widthPerTile);
              thumbnail.height = Math.floor(track.heightPerTile);
              thumbnail.x = Math.floor(thumbIndex % track.tilesHor) * track.widthPerTile;
              thumbnail.y = Math.floor(thumbIndex / track.tilesHor) * track.heightPerTile;
              if ("readThumbnail" in track) {
                return track.readThumbnail(time, function(url) {
                  thumbnail.url = url;
                  callback(thumbnail);
                });
              } else {
                if (!request) {
                  var seq = Math.floor(time / track.segmentDuration);
                  thumbnail.url = _buildUrlFromTemplate(track, seq);
                } else {
                  thumbnail.url = request.url;
                  track.segmentDuration = NaN;
                }
                callback(thumbnail);
              }
            }
            function _buildUrlFromTemplate(track, seq) {
              var seqIdx = seq + track.startNumber;
              var url = Object(_dash_utils_SegmentsUtils__WEBPACK_IMPORTED_MODULE_5__["replaceTokenForTemplate"])(track.templateUrl, "Number", seqIdx);
              url = Object(_dash_utils_SegmentsUtils__WEBPACK_IMPORTED_MODULE_5__["replaceTokenForTemplate"])(url, "Time", (seqIdx - 1) * track.segmentDuration * track.timescale);
              url = Object(_dash_utils_SegmentsUtils__WEBPACK_IMPORTED_MODULE_5__["replaceTokenForTemplate"])(url, "Bandwidth", track.bandwidth);
              return Object(_dash_utils_SegmentsUtils__WEBPACK_IMPORTED_MODULE_5__["unescapeDollarsInTemplate"])(url);
            }
            function setTrackByIndex(index) {
              thumbnailTracks.setTrackByIndex(index);
            }
            function getCurrentTrackIndex() {
              return thumbnailTracks.getCurrentTrackIndex();
            }
            function getBitrateList() {
              var tracks = thumbnailTracks.getTracks();
              var i3 = 0;
              return tracks.map(function(t2) {
                var bitrateInfo = new _vo_BitrateInfo__WEBPACK_IMPORTED_MODULE_4__["default"]();
                bitrateInfo.mediaType = _constants_Constants__WEBPACK_IMPORTED_MODULE_1__["default"].IMAGE;
                bitrateInfo.qualityIndex = i3++;
                bitrateInfo.bitrate = t2.bitrate;
                bitrateInfo.width = t2.width;
                bitrateInfo.height = t2.height;
                return bitrateInfo;
              });
            }
            function reset() {
              if (thumbnailTracks) {
                thumbnailTracks.reset();
              }
            }
            instance = {
              getStreamId,
              initialize,
              provide,
              setTrackByIndex,
              getCurrentTrackIndex,
              getBitrateList,
              reset
            };
            setup();
            return instance;
          }
          ThumbnailController.__dashjs_factory_name = "ThumbnailController";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(ThumbnailController);
        },
        "./src/streaming/thumbnail/ThumbnailTracks.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          __webpack_require__.d(__webpack_exports__, "THUMBNAILS_SCHEME_ID_URIS", function() {
            return THUMBNAILS_SCHEME_ID_URIS;
          });
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/dash/constants/DashConstants.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _vo_ThumbnailTrackInfo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/vo/ThumbnailTrackInfo.js");
          var _streaming_utils_URLUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/utils/URLUtils.js");
          var _dash_utils_SegmentsUtils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/dash/utils/SegmentsUtils.js");
          var _streaming_utils_BoxParser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/streaming/utils/BoxParser.js");
          var _streaming_net_XHRLoader__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/streaming/net/XHRLoader.js");
          var _dash_DashHandler__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/dash/DashHandler.js");
          var _dash_controllers_SegmentsController__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/dash/controllers/SegmentsController.js");
          var THUMBNAILS_SCHEME_ID_URIS = ["http://dashif.org/thumbnail_tile", "http://dashif.org/guidelines/thumbnail_tile"];
          function ThumbnailTracks(config) {
            var context = this.context;
            var adapter = config.adapter;
            var baseURLController = config.baseURLController;
            var streamInfo = config.streamInfo;
            var timelineConverter = config.timelineConverter;
            var debug = config.debug;
            var eventBus = config.eventBus;
            var events = config.events;
            var dashConstants = config.dashConstants;
            var urlUtils = Object(_streaming_utils_URLUtils__WEBPACK_IMPORTED_MODULE_4__["default"])(context).getInstance();
            var instance, tracks, dashHandler, currentTrackIndex, mediaInfo, segmentsController, loader, boxParser;
            function setup() {
              reset();
              loader = Object(_streaming_net_XHRLoader__WEBPACK_IMPORTED_MODULE_7__["default"])(context).create({});
              boxParser = Object(_streaming_utils_BoxParser__WEBPACK_IMPORTED_MODULE_6__["default"])(context).getInstance();
              segmentsController = Object(_dash_controllers_SegmentsController__WEBPACK_IMPORTED_MODULE_9__["default"])(context).create({
                events,
                eventBus,
                streamInfo,
                timelineConverter,
                dashConstants,
                dashMetrics: config.dashMetrics,
                segmentBaseController: config.segmentBaseController,
                type: _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].IMAGE
              });
              dashHandler = Object(_dash_DashHandler__WEBPACK_IMPORTED_MODULE_8__["default"])(context).create({
                streamInfo,
                type: _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].IMAGE,
                timelineConverter,
                segmentsController,
                baseURLController,
                debug,
                eventBus,
                events,
                dashConstants,
                urlUtils
              });
              dashHandler.initialize(adapter ? adapter.getIsDynamic() : false);
            }
            function addTracks() {
              if (!streamInfo || !adapter) {
                return;
              }
              mediaInfo = adapter.getMediaInfoForType(streamInfo, _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].IMAGE);
              if (!mediaInfo) {
                return;
              }
              var voReps = adapter.getVoRepresentations(mediaInfo);
              if (voReps && voReps.length > 0) {
                voReps.forEach(function(rep) {
                  if (rep.segmentInfoType === _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_TEMPLATE && rep.segmentDuration > 0 && rep.media || rep.segmentInfoType === _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_TIMELINE) {
                    _createTrack(rep);
                  }
                  if (rep.segmentInfoType === _dash_constants_DashConstants__WEBPACK_IMPORTED_MODULE_1__["default"].SEGMENT_BASE) {
                    _createTrack(rep, true);
                  }
                });
              }
              if (tracks.length > 0) {
                tracks.sort(function(a4, b3) {
                  return a4.bitrate - b3.bitrate;
                });
              }
            }
            function _createTrack(representation, useSegmentBase) {
              var track = new _vo_ThumbnailTrackInfo__WEBPACK_IMPORTED_MODULE_3__["default"]();
              track.id = representation.id;
              track.bitrate = representation.bandwidth;
              track.width = representation.width;
              track.height = representation.height;
              track.tilesHor = 1;
              track.tilesVert = 1;
              if (representation.essentialProperties) {
                representation.essentialProperties.forEach(function(p2) {
                  if (THUMBNAILS_SCHEME_ID_URIS.indexOf(p2.schemeIdUri) >= 0 && p2.value) {
                    var vars = p2.value.split("x");
                    if (vars.length === 2 && !isNaN(vars[0]) && !isNaN(vars[1])) {
                      track.tilesHor = parseInt(vars[0], 10);
                      track.tilesVert = parseInt(vars[1], 10);
                    }
                  }
                });
              }
              if (useSegmentBase) {
                segmentsController.updateSegmentData(representation).then(function(data) {
                  _handleUpdatedSegmentData(track, representation, data);
                });
              } else {
                track.startNumber = representation.startNumber;
                track.segmentDuration = representation.segmentDuration;
                track.timescale = representation.timescale;
                track.templateUrl = buildTemplateUrl(representation);
              }
              if (track.tilesHor > 0 && track.tilesVert > 0) {
                track.widthPerTile = track.width / track.tilesHor;
                track.heightPerTile = track.height / track.tilesVert;
                tracks.push(track);
              }
            }
            function _handleUpdatedSegmentData(track, representation, data) {
              var cache = [];
              var segments = _normalizeSegments(data, representation);
              representation.segments = segments;
              track.segmentDuration = representation.segments[0].duration;
              track.readThumbnail = function(time, callback) {
                var cached = null;
                cache.some(function(el) {
                  if (el.start <= time && el.end > time) {
                    cached = el.url;
                    return true;
                  }
                });
                if (cached) {
                  callback(cached);
                } else {
                  representation.segments.some(function(ss) {
                    if (ss.mediaStartTime <= time && ss.mediaStartTime + ss.duration > time) {
                      var baseURL = baseURLController.resolve(representation.path);
                      loader.load({
                        method: "get",
                        url: baseURL.url,
                        request: {
                          range: ss.mediaRange,
                          responseType: "arraybuffer"
                        },
                        onload: function onload(e) {
                          var info = boxParser.getSamplesInfo(e.target.response);
                          var blob = new Blob([e.target.response.slice(info.sampleList[0].offset, info.sampleList[0].offset + info.sampleList[0].size)], {
                            type: "image/jpeg"
                          });
                          var imageUrl = window.URL.createObjectURL(blob);
                          cache.push({
                            start: ss.mediaStartTime,
                            end: ss.mediaStartTime + ss.duration,
                            url: imageUrl
                          });
                          if (callback)
                            callback(imageUrl);
                        }
                      });
                      return true;
                    }
                  });
                }
              };
            }
            function _normalizeSegments(data, representation) {
              var segments = [];
              var count = 0;
              var i3, len, s3, seg;
              for (i3 = 0, len = data.segments.length; i3 < len; i3++) {
                s3 = data.segments[i3];
                seg = Object(_dash_utils_SegmentsUtils__WEBPACK_IMPORTED_MODULE_5__["getTimeBasedSegment"])(timelineConverter, adapter.getIsDynamic(), representation, s3.startTime, s3.duration, s3.timescale, s3.media, s3.mediaRange, count);
                if (seg) {
                  segments.push(seg);
                  seg = null;
                  count++;
                }
              }
              return segments;
            }
            function buildTemplateUrl(representation) {
              var templateUrl = urlUtils.isRelative(representation.media) ? urlUtils.resolve(representation.media, baseURLController.resolve(representation.path).url) : representation.media;
              if (!templateUrl) {
                return "";
              }
              return Object(_dash_utils_SegmentsUtils__WEBPACK_IMPORTED_MODULE_5__["replaceIDForTemplate"])(templateUrl, representation.id);
            }
            function getTracks() {
              return tracks;
            }
            function getCurrentTrackIndex() {
              return currentTrackIndex;
            }
            function getCurrentTrack() {
              if (currentTrackIndex < 0) {
                return null;
              }
              return tracks[currentTrackIndex];
            }
            function setTrackByIndex(index) {
              if (!tracks || tracks.length === 0) {
                return;
              }
              if (index >= tracks.length) {
                index = tracks.length - 1;
              }
              currentTrackIndex = index;
            }
            function getThumbnailRequestForTime(time) {
              var currentVoRep;
              var voReps = adapter.getVoRepresentations(mediaInfo);
              for (var i3 = 0; i3 < voReps.length; i3++) {
                if (tracks[currentTrackIndex].id === voReps[i3].id) {
                  currentVoRep = voReps[i3];
                  break;
                }
              }
              return dashHandler.getSegmentRequestForTime(mediaInfo, currentVoRep, time);
            }
            function reset() {
              tracks = [];
              currentTrackIndex = -1;
              mediaInfo = null;
            }
            instance = {
              getTracks,
              addTracks,
              reset,
              setTrackByIndex,
              getCurrentTrack,
              getCurrentTrackIndex,
              getThumbnailRequestForTime
            };
            setup();
            return instance;
          }
          ThumbnailTracks.__dashjs_factory_name = "ThumbnailTracks";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__["default"].getClassFactory(ThumbnailTracks);
        },
        "./src/streaming/utils/BaseURLSelector.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_errors_Errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/errors/Errors.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/events/Events.js");
          var _controllers_BlacklistController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/streaming/controllers/BlacklistController.js");
          var _baseUrlResolution_DVBSelector__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/utils/baseUrlResolution/DVBSelector.js");
          var _baseUrlResolution_BasicSelector__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/utils/baseUrlResolution/BasicSelector.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _vo_DashJSError__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/streaming/vo/DashJSError.js");
          var _utils_SupervisorTools__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/streaming/utils/SupervisorTools.js");
          function BaseURLSelector() {
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_1__["default"])(context).getInstance();
            var instance, serviceLocationBlacklistController, basicSelector, dvbSelector, selector;
            function setup() {
              serviceLocationBlacklistController = Object(_controllers_BlacklistController__WEBPACK_IMPORTED_MODULE_3__["default"])(context).create({
                updateEventName: _core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,
                addBlacklistEventName: _core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].SERVICE_LOCATION_BLACKLIST_ADD
              });
              basicSelector = Object(_baseUrlResolution_BasicSelector__WEBPACK_IMPORTED_MODULE_5__["default"])(context).create({
                blacklistController: serviceLocationBlacklistController
              });
              dvbSelector = Object(_baseUrlResolution_DVBSelector__WEBPACK_IMPORTED_MODULE_4__["default"])(context).create({
                blacklistController: serviceLocationBlacklistController
              });
              selector = basicSelector;
            }
            function setConfig(config) {
              if (config.selector) {
                selector = config.selector;
              }
            }
            function chooseSelector(isDVB) {
              Object(_utils_SupervisorTools__WEBPACK_IMPORTED_MODULE_8__["checkParameterType"])(isDVB, "boolean");
              selector = isDVB ? dvbSelector : basicSelector;
            }
            function select(data) {
              if (!data) {
                return;
              }
              var baseUrls = data.baseUrls;
              var selectedIdx = data.selectedIdx;
              if (!isNaN(selectedIdx)) {
                return baseUrls[selectedIdx];
              }
              var selectedBaseUrl = selector.select(baseUrls);
              if (!selectedBaseUrl) {
                eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_2__["default"].URL_RESOLUTION_FAILED, {
                  error: new _vo_DashJSError__WEBPACK_IMPORTED_MODULE_7__["default"](_core_errors_Errors__WEBPACK_IMPORTED_MODULE_0__["default"].URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE, _core_errors_Errors__WEBPACK_IMPORTED_MODULE_0__["default"].URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)
                });
                if (selector === basicSelector) {
                  reset();
                }
                return;
              }
              data.selectedIdx = baseUrls.indexOf(selectedBaseUrl);
              return selectedBaseUrl;
            }
            function reset() {
              serviceLocationBlacklistController.reset();
            }
            instance = {
              chooseSelector,
              select,
              reset,
              setConfig
            };
            setup();
            return instance;
          }
          BaseURLSelector.__dashjs_factory_name = "BaseURLSelector";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_6__["default"].getClassFactory(BaseURLSelector);
        },
        "./src/streaming/utils/BoxParser.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_Debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/Debug.js");
          var _IsoFile__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/utils/IsoFile.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/FactoryMaker.js");
          var codem_isoboxer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/codem-isoboxer/dist/iso_boxer.js");
          var codem_isoboxer__WEBPACK_IMPORTED_MODULE_3___default = /* @__PURE__ */ __webpack_require__.n(codem_isoboxer__WEBPACK_IMPORTED_MODULE_3__);
          var _vo_IsoBoxSearchInfo__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/streaming/vo/IsoBoxSearchInfo.js");
          function BoxParser() {
            var logger, instance;
            var context = this.context;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_0__["default"])(context).getInstance().getLogger(instance);
            }
            function parse2(data) {
              if (!data)
                return null;
              if (data.fileStart === void 0) {
                data.fileStart = 0;
              }
              var parsedFile = codem_isoboxer__WEBPACK_IMPORTED_MODULE_3___default.a.parseBuffer(data);
              var dashIsoFile = Object(_IsoFile__WEBPACK_IMPORTED_MODULE_1__["default"])(context).create();
              dashIsoFile.setData(parsedFile);
              return dashIsoFile;
            }
            function findLastTopIsoBoxCompleted(types, buffer, offset) {
              if (offset === void 0) {
                offset = 0;
              }
              if (!buffer || offset + 8 >= buffer.byteLength) {
                return new _vo_IsoBoxSearchInfo__WEBPACK_IMPORTED_MODULE_4__["default"](0, false);
              }
              var data = buffer instanceof ArrayBuffer ? new Uint8Array(buffer) : buffer;
              var boxInfo;
              var lastCompletedOffset = 0;
              while (offset < data.byteLength) {
                var boxSize = parseUint32(data, offset);
                var boxType = parseIsoBoxType(data, offset + 4);
                if (boxSize === 0) {
                  break;
                }
                if (offset + boxSize <= data.byteLength) {
                  if (types.indexOf(boxType) >= 0) {
                    boxInfo = new _vo_IsoBoxSearchInfo__WEBPACK_IMPORTED_MODULE_4__["default"](offset, true, boxSize);
                  } else {
                    lastCompletedOffset = offset + boxSize;
                  }
                }
                offset += boxSize;
              }
              if (!boxInfo) {
                return new _vo_IsoBoxSearchInfo__WEBPACK_IMPORTED_MODULE_4__["default"](lastCompletedOffset, false);
              }
              return boxInfo;
            }
            function getSamplesInfo(ab) {
              if (!ab || ab.byteLength === 0) {
                return {
                  sampleList: [],
                  lastSequenceNumber: NaN,
                  totalDuration: NaN,
                  numSequences: NaN
                };
              }
              var isoFile = parse2(ab);
              var moofBoxes = isoFile.getBoxes("moof");
              var mfhdBoxes = isoFile.getBoxes("mfhd");
              var sampleDuration, sampleCompositionTimeOffset, sampleCount, sampleSize, sampleDts, sampleList, sample, i3, j, k2, l3, m2, n2, dataOffset, lastSequenceNumber, numSequences, totalDuration;
              numSequences = isoFile.getBoxes("moof").length;
              lastSequenceNumber = mfhdBoxes[mfhdBoxes.length - 1].sequence_number;
              sampleCount = 0;
              sampleList = [];
              var subsIndex = -1;
              var nextSubsSample = -1;
              for (l3 = 0; l3 < moofBoxes.length; l3++) {
                var moofBox = moofBoxes[l3];
                var trafBoxes = moofBox.getChildBoxes("traf");
                for (j = 0; j < trafBoxes.length; j++) {
                  var trafBox = trafBoxes[j];
                  var tfhdBox = trafBox.getChildBox("tfhd");
                  var tfdtBox = trafBox.getChildBox("tfdt");
                  sampleDts = tfdtBox.baseMediaDecodeTime;
                  var trunBoxes = trafBox.getChildBoxes("trun");
                  var subsBoxes = trafBox.getChildBoxes("subs");
                  for (k2 = 0; k2 < trunBoxes.length; k2++) {
                    var trunBox = trunBoxes[k2];
                    sampleCount = trunBox.sample_count;
                    dataOffset = (tfhdBox.base_data_offset || 0) + (trunBox.data_offset || 0);
                    for (i3 = 0; i3 < sampleCount; i3++) {
                      sample = trunBox.samples[i3];
                      sampleDuration = sample.sample_duration !== void 0 ? sample.sample_duration : tfhdBox.default_sample_duration;
                      sampleSize = sample.sample_size !== void 0 ? sample.sample_size : tfhdBox.default_sample_size;
                      sampleCompositionTimeOffset = sample.sample_composition_time_offset !== void 0 ? sample.sample_composition_time_offset : 0;
                      var sampleData = {
                        "dts": sampleDts,
                        "cts": sampleDts + sampleCompositionTimeOffset,
                        "duration": sampleDuration,
                        "offset": moofBox.offset + dataOffset,
                        "size": sampleSize,
                        "subSizes": [sampleSize]
                      };
                      if (subsBoxes) {
                        for (m2 = 0; m2 < subsBoxes.length; m2++) {
                          var subsBox = subsBoxes[m2];
                          if (subsIndex < subsBox.entry_count - 1 && i3 > nextSubsSample) {
                            subsIndex++;
                            nextSubsSample += subsBox.entries[subsIndex].sample_delta;
                          }
                          if (i3 == nextSubsSample) {
                            sampleData.subSizes = [];
                            var entry = subsBox.entries[subsIndex];
                            for (n2 = 0; n2 < entry.subsample_count; n2++) {
                              sampleData.subSizes.push(entry.subsamples[n2].subsample_size);
                            }
                          }
                        }
                      }
                      sampleList.push(sampleData);
                      dataOffset += sampleSize;
                      sampleDts += sampleDuration;
                    }
                  }
                  totalDuration = sampleDts - tfdtBox.baseMediaDecodeTime;
                }
              }
              return {
                sampleList,
                lastSequenceNumber,
                totalDuration,
                numSequences
              };
            }
            function getMediaTimescaleFromMoov(ab) {
              var isoFile = parse2(ab);
              var mdhdBox = isoFile ? isoFile.getBox("mdhd") : void 0;
              return mdhdBox ? mdhdBox.timescale : NaN;
            }
            function parseUint32(data, offset) {
              return data[offset + 3] >>> 0 | data[offset + 2] << 8 >>> 0 | data[offset + 1] << 16 >>> 0 | data[offset] << 24 >>> 0;
            }
            function parseIsoBoxType(data, offset) {
              return String.fromCharCode(data[offset++]) + String.fromCharCode(data[offset++]) + String.fromCharCode(data[offset++]) + String.fromCharCode(data[offset]);
            }
            function findInitRange(data) {
              var initRange = null;
              var start, end;
              var isoFile = parse2(data);
              if (!isoFile) {
                return initRange;
              }
              var ftyp = isoFile.getBox("ftyp");
              var moov = isoFile.getBox("moov");
              logger.debug("Searching for initialization.");
              if (moov && moov.isComplete) {
                start = ftyp ? ftyp.offset : moov.offset;
                end = moov.offset + moov.size - 1;
                initRange = start + "-" + end;
                logger.debug("Found the initialization.  Range: " + initRange);
              }
              return initRange;
            }
            function parsePayload(types, buffer, offset) {
              if (offset === void 0) {
                offset = 0;
              }
              if (!buffer || offset + 8 >= buffer.byteLength) {
                return new _vo_IsoBoxSearchInfo__WEBPACK_IMPORTED_MODULE_4__["default"](0, false);
              }
              var data = buffer instanceof ArrayBuffer ? new Uint8Array(buffer) : buffer;
              var boxInfo;
              var lastCompletedOffset = 0;
              while (offset < data.byteLength) {
                var boxSize = parseUint32(data, offset);
                var boxType = parseIsoBoxType(data, offset + 4);
                if (boxSize === 0) {
                  break;
                }
                if (offset + boxSize <= data.byteLength) {
                  if (types.indexOf(boxType) >= 0) {
                    boxInfo = new _vo_IsoBoxSearchInfo__WEBPACK_IMPORTED_MODULE_4__["default"](offset, true, boxSize, boxType);
                  } else {
                    lastCompletedOffset = offset + boxSize;
                  }
                }
                offset += boxSize;
              }
              if (!boxInfo) {
                return new _vo_IsoBoxSearchInfo__WEBPACK_IMPORTED_MODULE_4__["default"](lastCompletedOffset, false);
              }
              return boxInfo;
            }
            instance = {
              parse: parse2,
              findLastTopIsoBoxCompleted,
              getMediaTimescaleFromMoov,
              getSamplesInfo,
              findInitRange,
              parsePayload
            };
            setup();
            return instance;
          }
          BoxParser.__dashjs_factory_name = "BoxParser";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__["default"].getSingletonFactory(BoxParser);
        },
        "./src/streaming/utils/Capabilities.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          __webpack_require__.d(__webpack_exports__, "supportsMediaSource", function() {
            return supportsMediaSource;
          });
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _thumbnail_ThumbnailTracks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/thumbnail/ThumbnailTracks.js");
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var codecCompatibilityTable = [{
            "codec": "avc1",
            "compatibleCodecs": ["avc3"]
          }, {
            "codec": "avc3",
            "compatibleCodecs": ["avc1"]
          }];
          function supportsMediaSource() {
            var hasWebKit = "WebKitMediaSource" in window;
            var hasMediaSource = "MediaSource" in window;
            return hasWebKit || hasMediaSource;
          }
          function Capabilities() {
            var instance, settings, encryptedMediaSupported;
            function setup() {
              encryptedMediaSupported = false;
            }
            function setConfig(config) {
              if (!config) {
                return;
              }
              if (config.settings) {
                settings = config.settings;
              }
            }
            function supportsEncryptedMedia() {
              return encryptedMediaSupported;
            }
            function setEncryptedMediaSupported(value) {
              encryptedMediaSupported = value;
            }
            function supportsCodec(config, type) {
              if (type !== _constants_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].AUDIO && type !== _constants_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].VIDEO) {
                return Promise.resolve(true);
              }
              if (_canUseMediaCapabilitiesApi(config, type)) {
                return _checkCodecWithMediaCapabilities(config, type);
              }
              return _checkCodecWithMse(config);
            }
            function _canUseMediaCapabilitiesApi(config, type) {
              return settings.get().streaming.capabilities.useMediaCapabilitiesApi && navigator.mediaCapabilities && navigator.mediaCapabilities.decodingInfo && (config.codec && type === _constants_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].AUDIO || type === _constants_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].VIDEO && config.codec && config.width && config.height && config.bitrate && config.framerate);
            }
            function _checkCodecWithMse(config) {
              return new Promise(function(resolve2) {
                if (!config || !config.codec) {
                  resolve2(false);
                  return;
                }
                var codec = config.codec;
                if (config.width && config.height) {
                  codec += ';width="' + config.width + '";height="' + config.height + '"';
                }
                if ("MediaSource" in window && MediaSource.isTypeSupported(codec)) {
                  resolve2(true);
                  return;
                } else if ("WebKitMediaSource" in window && WebKitMediaSource.isTypeSupported(codec)) {
                  resolve2(true);
                  return;
                }
                resolve2(false);
              });
            }
            function _checkCodecWithMediaCapabilities(config, type) {
              return new Promise(function(resolve2) {
                if (!config || !config.codec) {
                  resolve2(false);
                  return;
                }
                var configuration = {
                  type: "media-source"
                };
                configuration[type] = {};
                configuration[type].contentType = config.codec;
                configuration[type].width = config.width;
                configuration[type].height = config.height;
                configuration[type].bitrate = parseInt(config.bitrate);
                configuration[type].framerate = parseFloat(config.framerate);
                navigator.mediaCapabilities.decodingInfo(configuration).then(function(result) {
                  resolve2(result.supported);
                })["catch"](function() {
                  resolve2(false);
                });
              });
            }
            function supportsEssentialProperty(ep) {
              try {
                return _thumbnail_ThumbnailTracks__WEBPACK_IMPORTED_MODULE_1__["THUMBNAILS_SCHEME_ID_URIS"].indexOf(ep.schemeIdUri) !== -1;
              } catch (e) {
                return true;
              }
            }
            function codecRootCompatibleWithCodec(codec1, codec2) {
              var codecRoot = codec1.split(".")[0];
              var rootCompatible = codec2.indexOf(codecRoot) === 0;
              var compatTableCodec;
              for (var i3 = 0; i3 < codecCompatibilityTable.length; i3++) {
                if (codecCompatibilityTable[i3].codec === codecRoot) {
                  compatTableCodec = codecCompatibilityTable[i3];
                  break;
                }
              }
              if (compatTableCodec) {
                return rootCompatible || compatTableCodec.compatibleCodecs.some(function(compatibleCodec) {
                  return codec2.indexOf(compatibleCodec) === 0;
                });
              }
              return rootCompatible;
            }
            instance = {
              setConfig,
              supportsMediaSource,
              supportsEncryptedMedia,
              supportsCodec,
              setEncryptedMediaSupported,
              supportsEssentialProperty,
              codecRootCompatibleWithCodec
            };
            setup();
            return instance;
          }
          Capabilities.__dashjs_factory_name = "Capabilities";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getSingletonFactory(Capabilities);
        },
        "./src/streaming/utils/CapabilitiesFilter.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/Debug.js");
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/constants/Constants.js");
          function CapabilitiesFilter() {
            var context = this.context;
            var instance, adapter, capabilities, settings, logger, customCapabilitiesFilters;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_1__["default"])(context).getInstance().getLogger(instance);
            }
            function setConfig(config) {
              if (!config) {
                return;
              }
              if (config.adapter) {
                adapter = config.adapter;
              }
              if (config.capabilities) {
                capabilities = config.capabilities;
              }
              if (config.settings) {
                settings = config.settings;
              }
            }
            function filterUnsupportedFeatures(manifest) {
              return new Promise(function(resolve2) {
                var promises = [];
                promises.push(_filterUnsupportedCodecs(_constants_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].VIDEO, manifest));
                promises.push(_filterUnsupportedCodecs(_constants_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].AUDIO, manifest));
                Promise.all(promises).then(function() {
                  if (settings.get().streaming.capabilities.filterUnsupportedEssentialProperties) {
                    _filterUnsupportedEssentialProperties(manifest);
                  }
                  _applyCustomFilters(manifest);
                  resolve2();
                })["catch"](function() {
                  resolve2();
                });
              });
            }
            function _filterUnsupportedCodecs(type, manifest) {
              if (!manifest || !manifest.Period_asArray || manifest.Period_asArray.length === 0) {
                return Promise.resolve();
              }
              var promises = [];
              manifest.Period_asArray.forEach(function(period) {
                promises.push(_filterUnsupportedAdaptationSetsOfPeriod(period, type));
              });
              return Promise.all(promises);
            }
            function _filterUnsupportedAdaptationSetsOfPeriod(period, type) {
              return new Promise(function(resolve2) {
                if (!period || !period.AdaptationSet_asArray || period.AdaptationSet_asArray.length === 0) {
                  resolve2();
                  return;
                }
                var promises = [];
                period.AdaptationSet_asArray.forEach(function(as) {
                  if (adapter.getIsTypeOf(as, type)) {
                    promises.push(_filterUnsupportedRepresentationsOfAdaptation(as, type));
                  }
                });
                Promise.all(promises).then(function() {
                  period.AdaptationSet_asArray = period.AdaptationSet_asArray.filter(function(as) {
                    var supported = as.Representation_asArray && as.Representation_asArray.length > 0;
                    if (!supported) {
                      logger.warn("AdaptationSet has been removed because of no supported Representation");
                    }
                    return supported;
                  });
                  resolve2();
                })["catch"](function() {
                  resolve2();
                });
              });
            }
            function _filterUnsupportedRepresentationsOfAdaptation(as, type) {
              return new Promise(function(resolve2) {
                if (!as.Representation_asArray || as.Representation_asArray.length === 0) {
                  resolve2();
                  return;
                }
                var promises = [];
                var configurations = [];
                as.Representation_asArray.forEach(function(rep, i3) {
                  var codec = adapter.getCodec(as, i3, false);
                  var config = _createConfiguration(type, rep, codec);
                  configurations.push(config);
                  promises.push(capabilities.supportsCodec(config, type));
                });
                Promise.all(promises).then(function(supported) {
                  as.Representation_asArray = as.Representation_asArray.filter(function(_2, i3) {
                    if (!supported[i3]) {
                      logger.debug("[Stream] Codec ".concat(configurations[i3].codec, " not supported "));
                    }
                    return supported[i3];
                  });
                  resolve2();
                })["catch"](function() {
                  resolve2();
                });
              });
            }
            function _createConfiguration(type, rep, codec) {
              switch (type) {
                case _constants_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].VIDEO:
                  return _createVideoConfiguration(rep, codec);
                case _constants_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].AUDIO:
                  return _createAudioConfiguration(rep, codec);
                default:
                  return null;
              }
            }
            function _createVideoConfiguration(rep, codec) {
              var width = rep.width || null;
              var height = rep.height || null;
              var framerate = rep.frameRate || null;
              var bitrate = rep.bandwidth || null;
              return {
                codec,
                width,
                height,
                framerate,
                bitrate
              };
            }
            function _createAudioConfiguration(rep, codec) {
              var samplerate = rep.audioSamplingRate || null;
              var bitrate = rep.bandwidth || null;
              return {
                codec,
                bitrate,
                samplerate
              };
            }
            function _filterUnsupportedEssentialProperties(manifest) {
              if (!manifest || !manifest.Period_asArray || manifest.Period_asArray.length === 0) {
                return;
              }
              manifest.Period_asArray.forEach(function(period) {
                period.AdaptationSet_asArray = period.AdaptationSet_asArray.filter(function(as) {
                  if (!as.Representation_asArray || as.Representation_asArray.length === 0) {
                    return true;
                  }
                  as.Representation_asArray = as.Representation_asArray.filter(function(rep) {
                    var essentialProperties = adapter.getEssentialPropertiesForRepresentation(rep);
                    if (essentialProperties && essentialProperties.length > 0) {
                      var i3 = 0;
                      while (i3 < essentialProperties.length) {
                        if (!capabilities.supportsEssentialProperty(essentialProperties[i3])) {
                          logger.debug("[Stream] EssentialProperty not supported: " + essentialProperties[i3].schemeIdUri);
                          return false;
                        }
                        i3 += 1;
                      }
                    }
                    return true;
                  });
                  return as.Representation_asArray && as.Representation_asArray.length > 0;
                });
              });
            }
            function _applyCustomFilters(manifest) {
              if (!customCapabilitiesFilters || customCapabilitiesFilters.length === 0 || !manifest || !manifest.Period_asArray || manifest.Period_asArray.length === 0) {
                return;
              }
              manifest.Period_asArray.forEach(function(period) {
                period.AdaptationSet_asArray = period.AdaptationSet_asArray.filter(function(as) {
                  if (!as.Representation_asArray || as.Representation_asArray.length === 0) {
                    return true;
                  }
                  as.Representation_asArray = as.Representation_asArray.filter(function(representation) {
                    return !customCapabilitiesFilters.some(function(customFilter) {
                      return !customFilter(representation);
                    });
                  });
                  return as.Representation_asArray && as.Representation_asArray.length > 0;
                });
              });
            }
            function setCustomCapabilitiesFilters(customFilters) {
              customCapabilitiesFilters = customFilters;
            }
            instance = {
              setConfig,
              filterUnsupportedFeatures,
              setCustomCapabilitiesFilters
            };
            setup();
            return instance;
          }
          CapabilitiesFilter.__dashjs_factory_name = "CapabilitiesFilter";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getSingletonFactory(CapabilitiesFilter);
        },
        "./src/streaming/utils/CustomTimeRanges.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _utils_SupervisorTools__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/utils/SupervisorTools.js");
          function CustomTimeRanges() {
            var customTimeRangeArray = [];
            var length = 0;
            function add(start2, end2) {
              var i3 = 0;
              for (i3 = 0; i3 < this.customTimeRangeArray.length && start2 > this.customTimeRangeArray[i3].start; i3++) {
                ;
              }
              this.customTimeRangeArray.splice(i3, 0, {
                start: start2,
                end: end2
              });
              for (i3 = 0; i3 < this.customTimeRangeArray.length - 1; i3++) {
                if (this.mergeRanges(i3, i3 + 1)) {
                  i3--;
                }
              }
              this.length = this.customTimeRangeArray.length;
            }
            function clear() {
              this.customTimeRangeArray = [];
              this.length = 0;
            }
            function remove(start2, end2) {
              for (var i3 = 0; i3 < this.customTimeRangeArray.length; i3++) {
                if (start2 <= this.customTimeRangeArray[i3].start && end2 >= this.customTimeRangeArray[i3].end) {
                  this.customTimeRangeArray.splice(i3, 1);
                  i3--;
                } else if (start2 > this.customTimeRangeArray[i3].start && end2 < this.customTimeRangeArray[i3].end) {
                  this.customTimeRangeArray.splice(i3 + 1, 0, {
                    start: end2,
                    end: this.customTimeRangeArray[i3].end
                  });
                  this.customTimeRangeArray[i3].end = start2;
                  break;
                } else if (start2 > this.customTimeRangeArray[i3].start && start2 < this.customTimeRangeArray[i3].end) {
                  this.customTimeRangeArray[i3].end = start2;
                } else if (end2 > this.customTimeRangeArray[i3].start && end2 < this.customTimeRangeArray[i3].end) {
                  this.customTimeRangeArray[i3].start = end2;
                }
              }
              this.length = this.customTimeRangeArray.length;
            }
            function mergeRanges(rangeIndex1, rangeIndex2) {
              var range1 = this.customTimeRangeArray[rangeIndex1];
              var range2 = this.customTimeRangeArray[rangeIndex2];
              if (range1.start <= range2.start && range2.start <= range1.end && range1.end <= range2.end) {
                range1.end = range2.end;
                this.customTimeRangeArray.splice(rangeIndex2, 1);
                return true;
              } else if (range2.start <= range1.start && range1.start <= range2.end && range2.end <= range1.end) {
                range1.start = range2.start;
                this.customTimeRangeArray.splice(rangeIndex2, 1);
                return true;
              } else if (range2.start <= range1.start && range1.start <= range2.end && range1.end <= range2.end) {
                this.customTimeRangeArray.splice(rangeIndex1, 1);
                return true;
              } else if (range1.start <= range2.start && range2.start <= range1.end && range2.end <= range1.end) {
                this.customTimeRangeArray.splice(rangeIndex2, 1);
                return true;
              }
              return false;
            }
            function start(index) {
              Object(_utils_SupervisorTools__WEBPACK_IMPORTED_MODULE_1__["checkInteger"])(index);
              if (index >= this.customTimeRangeArray.length || index < 0) {
                return NaN;
              }
              return this.customTimeRangeArray[index].start;
            }
            function end(index) {
              Object(_utils_SupervisorTools__WEBPACK_IMPORTED_MODULE_1__["checkInteger"])(index);
              if (index >= this.customTimeRangeArray.length || index < 0) {
                return NaN;
              }
              return this.customTimeRangeArray[index].end;
            }
            return {
              customTimeRangeArray,
              length,
              add,
              clear,
              remove,
              mergeRanges,
              start,
              end
            };
          }
          CustomTimeRanges.__dashjs_factory_name = "CustomTimeRanges";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(CustomTimeRanges);
        },
        "./src/streaming/utils/DOMStorage.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/Debug.js");
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var legacyKeysAndReplacements = [{
            oldKey: "dashjs_vbitrate",
            newKey: "dashjs_video_bitrate"
          }, {
            oldKey: "dashjs_abitrate",
            newKey: "dashjs_audio_bitrate"
          }, {
            oldKey: "dashjs_vsettings",
            newKey: "dashjs_video_settings"
          }, {
            oldKey: "dashjs_asettings",
            newKey: "dashjs_audio_settings"
          }];
          var LOCAL_STORAGE_BITRATE_KEY_TEMPLATE = "dashjs_?_bitrate";
          var LOCAL_STORAGE_SETTINGS_KEY_TEMPLATE = "dashjs_?_settings";
          var STORAGE_TYPE_LOCAL = "localStorage";
          var STORAGE_TYPE_SESSION = "sessionStorage";
          var LAST_BITRATE = "lastBitrate";
          var LAST_MEDIA_SETTINGS = "lastMediaSettings";
          function DOMStorage(config) {
            config = config || {};
            var context = this.context;
            var settings = config.settings;
            var instance, logger, supported;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_1__["default"])(context).getInstance().getLogger(instance);
              translateLegacyKeys();
            }
            function isSupported(type) {
              if (supported !== void 0)
                return supported;
              supported = false;
              var testKey = "1";
              var testValue = "1";
              var storage;
              try {
                if (typeof window !== "undefined") {
                  storage = window[type];
                }
              } catch (error) {
                logger.warn("DOMStorage access denied: " + error.message);
                return supported;
              }
              if (!storage || type !== STORAGE_TYPE_LOCAL && type !== STORAGE_TYPE_SESSION) {
                return supported;
              }
              try {
                storage.setItem(testKey, testValue);
                storage.removeItem(testKey);
                supported = true;
              } catch (error) {
                logger.warn("DOMStorage is supported, but cannot be used: " + error.message);
              }
              return supported;
            }
            function translateLegacyKeys() {
              if (isSupported(STORAGE_TYPE_LOCAL)) {
                legacyKeysAndReplacements.forEach(function(entry) {
                  var value = localStorage.getItem(entry.oldKey);
                  if (value) {
                    localStorage.removeItem(entry.oldKey);
                    try {
                      localStorage.setItem(entry.newKey, value);
                    } catch (e) {
                      logger.error(e.message);
                    }
                  }
                });
              }
            }
            function getTimestamp() {
              var ten_minutes_ms = 60 * 1e3 * 10;
              return Math.round(new Date().getTime() / ten_minutes_ms) * ten_minutes_ms;
            }
            function canStore(storageType, key) {
              return isSupported(storageType) && settings.get().streaming[key + "CachingInfo"].enabled;
            }
            function checkConfig() {
              if (!settings) {
                throw new Error(_constants_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].MISSING_CONFIG_ERROR);
              }
            }
            function getSavedMediaSettings(type) {
              var mediaSettings = null;
              checkConfig();
              if (canStore(STORAGE_TYPE_LOCAL, LAST_MEDIA_SETTINGS)) {
                var key = LOCAL_STORAGE_SETTINGS_KEY_TEMPLATE.replace(/\?/, type);
                try {
                  var obj = JSON.parse(localStorage.getItem(key)) || {};
                  var isExpired = new Date().getTime() - parseInt(obj.timestamp, 10) >= settings.get().streaming.lastMediaSettingsCachingInfo.ttl || false;
                  mediaSettings = obj.settings;
                  if (isExpired) {
                    localStorage.removeItem(key);
                    mediaSettings = null;
                  }
                } catch (e) {
                  return null;
                }
              }
              return mediaSettings;
            }
            function getSavedBitrateSettings(type) {
              var savedBitrate = NaN;
              checkConfig();
              if (canStore(STORAGE_TYPE_LOCAL, LAST_BITRATE)) {
                var key = LOCAL_STORAGE_BITRATE_KEY_TEMPLATE.replace(/\?/, type);
                try {
                  var obj = JSON.parse(localStorage.getItem(key)) || {};
                  var isExpired = new Date().getTime() - parseInt(obj.timestamp, 10) >= settings.get().streaming.lastBitrateCachingInfo.ttl || false;
                  var bitrate = parseFloat(obj.bitrate);
                  if (!isNaN(bitrate) && !isExpired) {
                    savedBitrate = bitrate;
                    logger.debug("Last saved bitrate for " + type + " was " + bitrate);
                  } else if (isExpired) {
                    localStorage.removeItem(key);
                  }
                } catch (e) {
                  return null;
                }
              }
              return savedBitrate;
            }
            function setSavedMediaSettings(type, value) {
              if (canStore(STORAGE_TYPE_LOCAL, LAST_MEDIA_SETTINGS)) {
                var key = LOCAL_STORAGE_SETTINGS_KEY_TEMPLATE.replace(/\?/, type);
                try {
                  localStorage.setItem(key, JSON.stringify({
                    settings: value,
                    timestamp: getTimestamp()
                  }));
                } catch (e) {
                  logger.error(e.message);
                }
              }
            }
            function setSavedBitrateSettings(type, bitrate) {
              if (canStore(STORAGE_TYPE_LOCAL, LAST_BITRATE) && bitrate) {
                var key = LOCAL_STORAGE_BITRATE_KEY_TEMPLATE.replace(/\?/, type);
                try {
                  localStorage.setItem(key, JSON.stringify({
                    bitrate: bitrate.toFixed(3),
                    timestamp: getTimestamp()
                  }));
                } catch (e) {
                  logger.error(e.message);
                }
              }
            }
            instance = {
              getSavedBitrateSettings,
              setSavedBitrateSettings,
              getSavedMediaSettings,
              setSavedMediaSettings
            };
            setup();
            return instance;
          }
          DOMStorage.__dashjs_factory_name = "DOMStorage";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getSingletonFactory(DOMStorage);
          __webpack_exports__["default"] = factory;
        },
        "./src/streaming/utils/DefaultURLUtils.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          function DefaultURLUtils() {
            var resolveFunction;
            var schemeRegex = /^[a-z][a-z0-9+\-_.]*:/i;
            var httpUrlRegex = /^https?:\/\//i;
            var httpsUrlRegex = /^https:\/\//i;
            var originRegex = /^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i;
            var nativeURLResolver = function nativeURLResolver2(url, baseUrl) {
              try {
                return new window.URL(url, baseUrl).toString();
              } catch (e) {
                return url;
              }
            };
            var dumbURLResolver = function dumbURLResolver2(url, baseUrl) {
              var baseUrlParseFunc = parseBaseUrl;
              if (!baseUrl) {
                return url;
              }
              if (!isRelative(url)) {
                return url;
              }
              if (isPathAbsolute(url)) {
                baseUrlParseFunc = parseOrigin;
              }
              if (isSchemeRelative(url)) {
                baseUrlParseFunc = parseScheme;
              }
              var base = baseUrlParseFunc(baseUrl);
              var joinChar = base.charAt(base.length - 1) !== "/" && url.charAt(0) !== "/" ? "/" : "";
              return [base, url].join(joinChar);
            };
            function setup() {
              try {
                var u4 = new window.URL("x", "http://y");
                resolveFunction = nativeURLResolver;
              } catch (e) {
              } finally {
                resolveFunction = resolveFunction || dumbURLResolver;
              }
            }
            function parseBaseUrl(url) {
              var slashIndex = url.indexOf("/");
              var lastSlashIndex = url.lastIndexOf("/");
              if (slashIndex !== -1) {
                if (lastSlashIndex === slashIndex + 1) {
                  return url;
                }
                if (url.indexOf("?") !== -1) {
                  url = url.substring(0, url.indexOf("?"));
                }
                return url.substring(0, lastSlashIndex + 1);
              }
              return "";
            }
            function parseOrigin(url) {
              var matches = url.match(originRegex);
              if (matches) {
                return matches[1];
              }
              return "";
            }
            function removeHostname(url) {
              var urlParts = /^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(url);
              return urlParts[2].substring(1);
            }
            function parseScheme(url) {
              var matches = url.match(schemeRegex);
              if (matches) {
                return matches[0];
              }
              return "";
            }
            function isRelative(url) {
              return !schemeRegex.test(url);
            }
            function isPathAbsolute(url) {
              return isRelative(url) && url.charAt(0) === "/";
            }
            function isSchemeRelative(url) {
              return url.indexOf("//") === 0;
            }
            function isHTTPURL(url) {
              return httpUrlRegex.test(url);
            }
            function isHTTPS(url) {
              return httpsUrlRegex.test(url);
            }
            function resolve2(url, baseUrl) {
              return resolveFunction(url, baseUrl);
            }
            setup();
            var instance = {
              parseBaseUrl,
              parseOrigin,
              parseScheme,
              isRelative,
              isPathAbsolute,
              isSchemeRelative,
              isHTTPURL,
              isHTTPS,
              removeHostname,
              resolve: resolve2
            };
            return instance;
          }
          DefaultURLUtils.__dashjs_factory_name = "DefaultURLUtils";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getSingletonFactory(DefaultURLUtils);
        },
        "./src/streaming/utils/EBMLParser.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          function EBMLParser(config) {
            config = config || {};
            var instance;
            var data = new DataView(config.data);
            var pos = 0;
            function getPos() {
              return pos;
            }
            function setPos(value) {
              pos = value;
            }
            function consumeTag(tag, test) {
              var found = true;
              var bytesConsumed = 0;
              var p1, p2;
              if (test === void 0) {
                test = false;
              }
              if (tag.tag > 16777215) {
                if (data.getUint32(pos) !== tag.tag) {
                  found = false;
                }
                bytesConsumed = 4;
              } else if (tag.tag > 65535) {
                p1 = data.getUint16(pos);
                p2 = data.getUint8(pos + 2);
                if (p1 * 256 + p2 !== tag.tag) {
                  found = false;
                }
                bytesConsumed = 3;
              } else if (tag.tag > 255) {
                if (data.getUint16(pos) !== tag.tag) {
                  found = false;
                }
                bytesConsumed = 2;
              } else {
                if (data.getUint8(pos) !== tag.tag) {
                  found = false;
                }
                bytesConsumed = 1;
              }
              if (!found && tag.required && !test) {
                throw new Error("required tag not found");
              }
              if (found) {
                pos += bytesConsumed;
              }
              return found;
            }
            function consumeTagAndSize(tag, test) {
              var found = consumeTag(tag, test);
              if (found) {
                getMatroskaCodedNum();
              }
              return found;
            }
            function parseTag(tag) {
              var size;
              consumeTag(tag);
              size = getMatroskaCodedNum();
              return instance[tag.parse](size);
            }
            function skipOverElement(tag, test) {
              var found = consumeTag(tag, test);
              var headerSize;
              if (found) {
                headerSize = getMatroskaCodedNum();
                pos += headerSize;
              }
              return found;
            }
            function getMatroskaCodedNum(retainMSB) {
              var bytesUsed = 1;
              var mask = 128;
              var maxBytes = 8;
              var extraBytes = -1;
              var num = 0;
              var ch = data.getUint8(pos);
              var i3 = 0;
              for (i3 = 0; i3 < maxBytes; i3 += 1) {
                if ((ch & mask) === mask) {
                  num = retainMSB === void 0 ? ch & ~mask : ch;
                  extraBytes = i3;
                  break;
                }
                mask >>= 1;
              }
              for (i3 = 0; i3 < extraBytes; i3 += 1, bytesUsed += 1) {
                num = num << 8 | 255 & data.getUint8(pos + bytesUsed);
              }
              pos += bytesUsed;
              return num;
            }
            function getMatroskaFloat(size) {
              var outFloat;
              switch (size) {
                case 4:
                  outFloat = data.getFloat32(pos);
                  pos += 4;
                  break;
                case 8:
                  outFloat = data.getFloat64(pos);
                  pos += 8;
                  break;
              }
              return outFloat;
            }
            function getMatroskaUint(size) {
              var val = 0;
              for (var i3 = 0; i3 < size; i3 += 1) {
                val <<= 8;
                val |= data.getUint8(pos + i3) & 255;
              }
              pos += size;
              return val;
            }
            function moreData() {
              return pos < data.byteLength;
            }
            instance = {
              getPos,
              setPos,
              consumeTag,
              consumeTagAndSize,
              parseTag,
              skipOverElement,
              getMatroskaCodedNum,
              getMatroskaFloat,
              getMatroskaUint,
              moreData
            };
            return instance;
          }
          EBMLParser.__dashjs_factory_name = "EBMLParser";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(EBMLParser);
        },
        "./src/streaming/utils/ErrorHandler.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/events/Events.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/FactoryMaker.js");
          function ErrorHandler() {
            var instance;
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_0__["default"])(context).getInstance();
            function error(err) {
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_1__["default"].ERROR, {
                error: err
              });
            }
            instance = {
              error
            };
            return instance;
          }
          ErrorHandler.__dashjs_factory_name = "ErrorHandler";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_2__["default"].getSingletonFactory(ErrorHandler);
        },
        "./src/streaming/utils/InitCache.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          function InitCache() {
            var data = {};
            function save(chunk) {
              var id = chunk.streamId;
              var representationId = chunk.representationId;
              data[id] = data[id] || {};
              data[id][representationId] = chunk;
            }
            function extract(streamId, representationId) {
              if (data && data[streamId] && data[streamId][representationId]) {
                return data[streamId][representationId];
              } else {
                return null;
              }
            }
            function reset() {
              data = {};
            }
            var instance = {
              save,
              extract,
              reset
            };
            return instance;
          }
          InitCache.__dashjs_factory_name = "InitCache";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getSingletonFactory(InitCache);
        },
        "./src/streaming/utils/IsoFile.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _vo_IsoBox__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/vo/IsoBox.js");
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/FactoryMaker.js");
          function IsoFile() {
            var instance, parsedIsoFile;
            function getBox(type) {
              if (!type || !parsedIsoFile || !parsedIsoFile.boxes || parsedIsoFile.boxes.length === 0 || typeof parsedIsoFile.fetch !== "function")
                return null;
              return convertToDashIsoBox(parsedIsoFile.fetch(type));
            }
            function getBoxes(type) {
              var boxes = [];
              if (!type || !parsedIsoFile || typeof parsedIsoFile.fetchAll !== "function") {
                return boxes;
              }
              var boxData = parsedIsoFile.fetchAll(type);
              var box;
              for (var i3 = 0, ln = boxData.length; i3 < ln; i3++) {
                box = convertToDashIsoBox(boxData[i3]);
                if (box) {
                  boxes.push(box);
                }
              }
              return boxes;
            }
            function setData(value) {
              parsedIsoFile = value;
            }
            function getLastBox() {
              if (!parsedIsoFile || !parsedIsoFile.boxes || !parsedIsoFile.boxes.length)
                return null;
              var type = parsedIsoFile.boxes[parsedIsoFile.boxes.length - 1].type;
              var boxes = getBoxes(type);
              return boxes.length > 0 ? boxes[boxes.length - 1] : null;
            }
            function convertToDashIsoBox(boxData) {
              if (!boxData)
                return null;
              var box = new _vo_IsoBox__WEBPACK_IMPORTED_MODULE_0__["default"](boxData);
              if (boxData.hasOwnProperty("_incomplete")) {
                box.isComplete = !boxData._incomplete;
              }
              return box;
            }
            instance = {
              getBox,
              getBoxes,
              setData,
              getLastBox
            };
            return instance;
          }
          IsoFile.__dashjs_factory_name = "IsoFile";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_1__["default"].getClassFactory(IsoFile);
        },
        "./src/streaming/utils/ObjectUtils.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var fast_deep_equal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/fast-deep-equal/index.js");
          var fast_deep_equal__WEBPACK_IMPORTED_MODULE_1___default = /* @__PURE__ */ __webpack_require__.n(fast_deep_equal__WEBPACK_IMPORTED_MODULE_1__);
          function ObjectUtils() {
            var instance;
            function areEqual(obj1, obj2) {
              return fast_deep_equal__WEBPACK_IMPORTED_MODULE_1___default()(obj1, obj2);
            }
            instance = {
              areEqual
            };
            return instance;
          }
          ObjectUtils.__dashjs_factory_name = "ObjectUtils";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getSingletonFactory(ObjectUtils);
        },
        "./src/streaming/utils/RequestModifier.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          function RequestModifier() {
            var instance;
            function modifyRequestURL(url) {
              return url;
            }
            function modifyRequestHeader(request) {
              return request;
            }
            instance = {
              modifyRequestURL,
              modifyRequestHeader
            };
            return instance;
          }
          RequestModifier.__dashjs_factory_name = "RequestModifier";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getSingletonFactory(RequestModifier);
        },
        "./src/streaming/utils/SupervisorTools.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          __webpack_require__.d(__webpack_exports__, "checkParameterType", function() {
            return checkParameterType;
          });
          __webpack_require__.d(__webpack_exports__, "checkInteger", function() {
            return checkInteger;
          });
          __webpack_require__.d(__webpack_exports__, "checkRange", function() {
            return checkRange;
          });
          __webpack_require__.d(__webpack_exports__, "checkIsVideoOrAudioType", function() {
            return checkIsVideoOrAudioType;
          });
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/Constants.js");
          function _typeof5(obj) {
            "@babel/helpers - typeof";
            if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
              _typeof5 = function _typeof6(obj2) {
                return typeof obj2;
              };
            } else {
              _typeof5 = function _typeof6(obj2) {
                return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
              };
            }
            return _typeof5(obj);
          }
          function checkParameterType(parameter, type) {
            if (_typeof5(parameter) !== type) {
              throw _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].BAD_ARGUMENT_ERROR;
            }
          }
          function checkInteger(parameter) {
            var isInt = parameter !== null && !isNaN(parameter) && parameter % 1 === 0;
            if (!isInt) {
              throw _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].BAD_ARGUMENT_ERROR + " : argument is not an integer";
            }
          }
          function checkRange(parameter, min, max) {
            if (parameter < min || parameter > max) {
              throw _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].BAD_ARGUMENT_ERROR + " : argument out of range";
            }
          }
          function checkIsVideoOrAudioType(type) {
            if (typeof type !== "string" || type !== _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AUDIO && type !== _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].VIDEO) {
              throw _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].BAD_ARGUMENT_ERROR;
            }
          }
        },
        "./src/streaming/utils/TTMLParser.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/Debug.js");
          var _core_EventBus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/core/EventBus.js");
          var _core_events_Events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/core/events/Events.js");
          var imsc__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/imsc/src/main/js/main.js");
          var imsc__WEBPACK_IMPORTED_MODULE_4___default = /* @__PURE__ */ __webpack_require__.n(imsc__WEBPACK_IMPORTED_MODULE_4__);
          var _MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/streaming/MediaPlayerEvents.js");
          var _constants_ConformanceViolationConstants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/streaming/constants/ConformanceViolationConstants.js");
          function TTMLParser() {
            var context = this.context;
            var eventBus = Object(_core_EventBus__WEBPACK_IMPORTED_MODULE_2__["default"])(context).getInstance();
            var instance, logger;
            var cueCounter = 0;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_1__["default"])(context).getInstance().getLogger(instance);
            }
            function getCueID() {
              var id = "cue_TTML_" + cueCounter;
              cueCounter++;
              return id;
            }
            function parse2(data, offsetTime, startTimeSegment, endTimeSegment, images) {
              var errorMsg = "";
              var captionArray = [];
              var startTime, endTime, i3;
              var content = {};
              var embeddedImages = {};
              var currentImageId = "";
              var accumulated_image_data = "";
              var metadataHandler = {
                onOpenTag: function onOpenTag(ns, name, attrs) {
                  if (attrs[" imagetype"] && !attrs[" imageType"]) {
                    eventBus.trigger(_MediaPlayerEvents__WEBPACK_IMPORTED_MODULE_5__["default"].CONFORMANCE_VIOLATION, {
                      level: _constants_ConformanceViolationConstants__WEBPACK_IMPORTED_MODULE_6__["default"].LEVELS.ERROR,
                      event: _constants_ConformanceViolationConstants__WEBPACK_IMPORTED_MODULE_6__["default"].EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE
                    });
                    attrs[" imageType"] = attrs[" imagetype"];
                  }
                  if (name === "image" && (ns === "http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt" || ns === "http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt")) {
                    if (!attrs[" imageType"] || attrs[" imageType"].value !== "PNG") {
                      logger.warn("smpte-tt imageType != PNG. Discarded");
                      return;
                    }
                    currentImageId = attrs["http://www.w3.org/XML/1998/namespace id"].value;
                  }
                },
                onCloseTag: function onCloseTag() {
                  if (currentImageId) {
                    embeddedImages[currentImageId] = accumulated_image_data.trim();
                  }
                  accumulated_image_data = "";
                  currentImageId = "";
                },
                onText: function onText(contents) {
                  if (currentImageId) {
                    accumulated_image_data = accumulated_image_data + contents;
                  }
                }
              };
              if (!data) {
                errorMsg = "no ttml data to parse";
                throw new Error(errorMsg);
              }
              content.data = data;
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].TTML_TO_PARSE, content);
              var imsc1doc = Object(imsc__WEBPACK_IMPORTED_MODULE_4__["fromXML"])(content.data, function(msg) {
                errorMsg = msg;
              }, metadataHandler);
              eventBus.trigger(_core_events_Events__WEBPACK_IMPORTED_MODULE_3__["default"].TTML_PARSED, {
                ttmlString: content.data,
                ttmlDoc: imsc1doc
              });
              var mediaTimeEvents = imsc1doc.getMediaTimeEvents();
              for (i3 = 0; i3 < mediaTimeEvents.length; i3++) {
                var isd = Object(imsc__WEBPACK_IMPORTED_MODULE_4__["generateISD"])(imsc1doc, mediaTimeEvents[i3], function(error) {
                  errorMsg = error;
                });
                if (isd.contents.some(function(topLevelContents) {
                  return topLevelContents.contents.length;
                })) {
                  startTime = mediaTimeEvents[i3] + offsetTime < startTimeSegment ? startTimeSegment : mediaTimeEvents[i3] + offsetTime;
                  endTime = mediaTimeEvents[i3 + 1] + offsetTime > endTimeSegment ? endTimeSegment : mediaTimeEvents[i3 + 1] + offsetTime;
                  if (startTime < endTime) {
                    captionArray.push({
                      start: startTime,
                      end: endTime,
                      type: "html",
                      cueID: getCueID(),
                      isd,
                      images,
                      embeddedImages
                    });
                  }
                }
              }
              if (errorMsg !== "") {
                logger.error(errorMsg);
                throw new Error(errorMsg);
              }
              return captionArray;
            }
            instance = {
              parse: parse2
            };
            setup();
            return instance;
          }
          TTMLParser.__dashjs_factory_name = "TTMLParser";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getSingletonFactory(TTMLParser);
        },
        "./src/streaming/utils/URLUtils.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _DefaultURLUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/utils/DefaultURLUtils.js");
          function URLUtils() {
            var instance;
            var defaultURLUtils;
            var regexUtils = [];
            var context = this.context;
            function getUtils(url) {
              var i3;
              for (i3 = 0; i3 < regexUtils.length; i3++) {
                var regex = regexUtils[i3].regex;
                if (regex.test(url)) {
                  return regexUtils[i3].utils;
                }
              }
              return defaultURLUtils;
            }
            function setup() {
              defaultURLUtils = Object(_DefaultURLUtils__WEBPACK_IMPORTED_MODULE_1__["default"])(context).getInstance();
            }
            function registerUrlRegex(regex, utils) {
              regexUtils.push({
                regex,
                utils
              });
            }
            function internalCall(functionName, url, baseUrl) {
              var utils = getUtils(baseUrl || url);
              return utils && typeof utils[functionName] === "function" ? utils[functionName](url, baseUrl) : defaultURLUtils[functionName](url, baseUrl);
            }
            function parseBaseUrl(url) {
              return internalCall("parseBaseUrl", url);
            }
            function parseOrigin(url) {
              return internalCall("parseOrigin", url);
            }
            function removeHostname(url) {
              return internalCall("removeHostname", url);
            }
            function parseScheme(url) {
              return internalCall("parseScheme", url);
            }
            function isRelative(url) {
              return internalCall("isRelative", url);
            }
            function isPathAbsolute(url) {
              return internalCall("isPathAbsolute", url);
            }
            function isSchemeRelative(url) {
              return internalCall("isSchemeRelative", url);
            }
            function isHTTPURL(url) {
              return internalCall("isHTTPURL", url);
            }
            function isHTTPS(url) {
              return internalCall("isHTTPS", url);
            }
            function resolve2(url, baseUrl) {
              return internalCall("resolve", url, baseUrl);
            }
            setup();
            instance = {
              registerUrlRegex,
              parseBaseUrl,
              parseOrigin,
              parseScheme,
              isRelative,
              isPathAbsolute,
              isSchemeRelative,
              isHTTPURL,
              isHTTPS,
              removeHostname,
              resolve: resolve2
            };
            return instance;
          }
          URLUtils.__dashjs_factory_name = "URLUtils";
          var factory = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getSingletonFactory(URLUtils);
          __webpack_exports__["default"] = factory;
        },
        "./src/streaming/utils/VTTParser.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          var _core_Debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/core/Debug.js");
          var WEBVTT = "WEBVTT";
          function VTTParser() {
            var context = this.context;
            var instance, logger, regExNewLine, regExToken, regExWhiteSpace, regExWhiteSpaceWordBoundary;
            function setup() {
              logger = Object(_core_Debug__WEBPACK_IMPORTED_MODULE_1__["default"])(context).getInstance().getLogger(instance);
              regExNewLine = /(?:\r\n|\r|\n)/gm;
              regExToken = /-->/;
              regExWhiteSpace = /(^[\s]+|[\s]+$)/g;
              regExWhiteSpaceWordBoundary = /\s\b/g;
            }
            function parse2(data) {
              var captionArray = [];
              var len, lastStartTime;
              if (!data) {
                return captionArray;
              }
              data = data.split(regExNewLine);
              len = data.length;
              lastStartTime = -1;
              for (var i3 = 0; i3 < len; i3++) {
                var item = data[i3];
                if (item.length > 0 && item !== WEBVTT) {
                  if (item.match(regExToken)) {
                    var attributes = parseItemAttributes(item);
                    var cuePoints = attributes.cuePoints;
                    var styles = attributes.styles;
                    var text = getSublines(data, i3 + 1);
                    var startTime = convertCuePointTimes(cuePoints[0].replace(regExWhiteSpace, ""));
                    var endTime = convertCuePointTimes(cuePoints[1].replace(regExWhiteSpace, ""));
                    if (!isNaN(startTime) && !isNaN(endTime) && startTime >= lastStartTime && endTime > startTime) {
                      if (text !== "") {
                        lastStartTime = startTime;
                        captionArray.push({
                          start: startTime,
                          end: endTime,
                          data: text,
                          styles
                        });
                      } else {
                        logger.error("Skipping cue due to empty/malformed cue text");
                      }
                    } else {
                      logger.error("Skipping cue due to incorrect cue timing");
                    }
                  }
                }
              }
              return captionArray;
            }
            function convertCuePointTimes(time) {
              var timeArray = time.split(":");
              var len = timeArray.length - 1;
              time = parseInt(timeArray[len - 1], 10) * 60 + parseFloat(timeArray[len]);
              if (len === 2) {
                time += parseInt(timeArray[0], 10) * 3600;
              }
              return time;
            }
            function parseItemAttributes(data) {
              var vttCuePoints = data.split(regExToken);
              var arr = vttCuePoints[1].split(regExWhiteSpaceWordBoundary);
              arr.shift();
              vttCuePoints[1] = arr[0];
              arr.shift();
              return {
                cuePoints: vttCuePoints,
                styles: getCaptionStyles(arr)
              };
            }
            function getCaptionStyles(arr) {
              var styleObject = {};
              arr.forEach(function(element) {
                if (element.split(/:/).length > 1) {
                  var val = element.split(/:/)[1];
                  if (val && val.search(/%/) != -1) {
                    val = parseInt(val.replace(/%/, ""), 10);
                  }
                  if (element.match(/align/) || element.match(/A/)) {
                    styleObject.align = val;
                  }
                  if (element.match(/line/) || element.match(/L/)) {
                    styleObject.line = val;
                  }
                  if (element.match(/position/) || element.match(/P/)) {
                    styleObject.position = val;
                  }
                  if (element.match(/size/) || element.match(/S/)) {
                    styleObject.size = val;
                  }
                }
              });
              return styleObject;
            }
            function getSublines(data, idx) {
              var i3 = idx;
              var subline = "";
              var lineData = "";
              var lineCount;
              while (data[i3] !== "" && i3 < data.length) {
                i3++;
              }
              lineCount = i3 - idx;
              if (lineCount > 1) {
                for (var j = 0; j < lineCount; j++) {
                  lineData = data[idx + j];
                  if (!lineData.match(regExToken)) {
                    subline += lineData;
                    if (j !== lineCount - 1) {
                      subline += "\n";
                    }
                  } else {
                    subline = "";
                    break;
                  }
                }
              } else {
                lineData = data[idx];
                if (!lineData.match(regExToken))
                  subline = lineData;
              }
              return subline;
            }
            instance = {
              parse: parse2
            };
            setup();
            return instance;
          }
          VTTParser.__dashjs_factory_name = "VTTParser";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getSingletonFactory(VTTParser);
        },
        "./src/streaming/utils/baseUrlResolution/BasicSelector.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          function BasicSelector(config) {
            config = config || {};
            var instance;
            var blacklistController = config.blacklistController;
            function select(baseUrls) {
              var index = 0;
              var selectedBaseUrl;
              if (baseUrls && baseUrls.some(function(baseUrl, idx) {
                index = idx;
                return !blacklistController.contains(baseUrl.serviceLocation);
              })) {
                selectedBaseUrl = baseUrls[index];
              }
              return selectedBaseUrl;
            }
            instance = {
              select
            };
            return instance;
          }
          BasicSelector.__dashjs_factory_name = "BasicSelector";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(BasicSelector);
        },
        "./src/streaming/utils/baseUrlResolution/DVBSelector.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/core/FactoryMaker.js");
          function DVBSelector(config) {
            config = config || {};
            var instance;
            var blacklistController = config.blacklistController;
            function getNonBlacklistedBaseUrls(urls) {
              var removedPriorities = [];
              var samePrioritiesFilter = function samePrioritiesFilter2(el) {
                if (removedPriorities.length) {
                  if (el.dvb_priority && removedPriorities.indexOf(el.dvb_priority) !== -1) {
                    return false;
                  }
                }
                return true;
              };
              var serviceLocationFilter = function serviceLocationFilter2(baseUrl) {
                if (blacklistController.contains(baseUrl.serviceLocation)) {
                  if (baseUrl.dvb_priority) {
                    removedPriorities.push(baseUrl.dvb_priority);
                  }
                  return false;
                }
                return true;
              };
              return urls.filter(serviceLocationFilter).filter(samePrioritiesFilter);
            }
            function selectByWeight(availableUrls) {
              var prioritySorter = function prioritySorter2(a4, b3) {
                var diff = a4.dvb_priority - b3.dvb_priority;
                return isNaN(diff) ? 0 : diff;
              };
              var topPriorityFilter = function topPriorityFilter2(baseUrl, idx2, arr) {
                return !idx2 || arr[0].dvb_priority && baseUrl.dvb_priority && arr[0].dvb_priority === baseUrl.dvb_priority;
              };
              var totalWeight = 0;
              var cumulWeights = [];
              var idx = 0;
              var rn, urls;
              urls = availableUrls.sort(prioritySorter).filter(topPriorityFilter);
              if (urls.length) {
                if (urls.length > 1) {
                  urls.forEach(function(baseUrl) {
                    totalWeight += baseUrl.dvb_weight;
                    cumulWeights.push(totalWeight);
                  });
                  rn = Math.floor(Math.random() * (totalWeight - 1));
                  cumulWeights.every(function(limit, index) {
                    idx = index;
                    if (rn < limit) {
                      return false;
                    }
                    return true;
                  });
                }
                return urls[idx];
              }
            }
            function select(baseUrls) {
              return baseUrls && selectByWeight(getNonBlacklistedBaseUrls(baseUrls));
            }
            instance = {
              select
            };
            return instance;
          }
          DVBSelector.__dashjs_factory_name = "DVBSelector";
          __webpack_exports__["default"] = _core_FactoryMaker__WEBPACK_IMPORTED_MODULE_0__["default"].getClassFactory(DVBSelector);
        },
        "./src/streaming/vo/BitrateInfo.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var BitrateInfo = function BitrateInfo2() {
            _classCallCheck2(this, BitrateInfo2);
            this.mediaType = null;
            this.bitrate = null;
            this.width = null;
            this.height = null;
            this.scanType = null;
            this.qualityIndex = NaN;
          };
          __webpack_exports__["default"] = BitrateInfo;
        },
        "./src/streaming/vo/DashJSError.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var DashJSError = function DashJSError2(code, message, data) {
            _classCallCheck2(this, DashJSError2);
            this.code = code || null;
            this.message = message || null;
            this.data = data || null;
          };
          __webpack_exports__["default"] = DashJSError;
        },
        "./src/streaming/vo/DataChunk.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var DataChunk = function DataChunk2() {
            _classCallCheck2(this, DataChunk2);
            this.streamId = null;
            this.mediaInfo = null;
            this.segmentType = null;
            this.quality = NaN;
            this.index = NaN;
            this.bytes = null;
            this.start = NaN;
            this.end = NaN;
            this.duration = NaN;
            this.representationId = null;
            this.endFragment = null;
          };
          __webpack_exports__["default"] = DataChunk;
        },
        "./src/streaming/vo/FragmentRequest.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/vo/metrics/HTTPRequest.js");
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties3(target, props) {
            for (var i3 = 0; i3 < props.length; i3++) {
              var descriptor = props[i3];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass3(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties3(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties3(Constructor, staticProps);
            return Constructor;
          }
          var FragmentRequest = /* @__PURE__ */ function() {
            function FragmentRequest2(url) {
              _classCallCheck2(this, FragmentRequest2);
              this.action = FragmentRequest2.ACTION_DOWNLOAD;
              this.startTime = NaN;
              this.mediaStartTime = NaN;
              this.mediaType = null;
              this.mediaInfo = null;
              this.type = null;
              this.duration = NaN;
              this.timescale = NaN;
              this.range = null;
              this.url = url || null;
              this.serviceLocation = null;
              this.requestStartDate = null;
              this.firstByteDate = null;
              this.requestEndDate = null;
              this.quality = NaN;
              this.index = NaN;
              this.availabilityStartTime = null;
              this.availabilityEndTime = null;
              this.wallStartTime = null;
              this.bytesLoaded = NaN;
              this.bytesTotal = NaN;
              this.delayLoadingTime = NaN;
              this.responseType = "arraybuffer";
              this.representationId = null;
            }
            _createClass3(FragmentRequest2, [{
              key: "isInitializationRequest",
              value: function isInitializationRequest() {
                return this.type && this.type === _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_0__["HTTPRequest"].INIT_SEGMENT_TYPE;
              }
            }, {
              key: "setInfo",
              value: function setInfo(info) {
                this.type = info && info.init ? _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_0__["HTTPRequest"].INIT_SEGMENT_TYPE : _vo_metrics_HTTPRequest__WEBPACK_IMPORTED_MODULE_0__["HTTPRequest"].MEDIA_SEGMENT_TYPE;
                this.url = info && info.url ? info.url : null;
                this.range = info && info.range ? info.range.start + "-" + info.range.end : null;
                this.mediaType = info && info.mediaType ? info.mediaType : null;
              }
            }]);
            return FragmentRequest2;
          }();
          FragmentRequest.ACTION_DOWNLOAD = "download";
          FragmentRequest.ACTION_COMPLETE = "complete";
          __webpack_exports__["default"] = FragmentRequest;
        },
        "./src/streaming/vo/HeadRequest.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _FragmentRequest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/vo/FragmentRequest.js");
          function _typeof5(obj) {
            "@babel/helpers - typeof";
            if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
              _typeof5 = function _typeof6(obj2) {
                return typeof obj2;
              };
            } else {
              _typeof5 = function _typeof6(obj2) {
                return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
              };
            }
            return _typeof5(obj);
          }
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _inherits2(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            if (superClass)
              _setPrototypeOf2(subClass, superClass);
          }
          function _setPrototypeOf2(o2, p2) {
            _setPrototypeOf2 = Object.setPrototypeOf || function _setPrototypeOf3(o3, p3) {
              o3.__proto__ = p3;
              return o3;
            };
            return _setPrototypeOf2(o2, p2);
          }
          function _createSuper2(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct2();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf2(Derived), result;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf2(this).constructor;
                result = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn2(this, result);
            };
          }
          function _possibleConstructorReturn2(self2, call) {
            if (call && (_typeof5(call) === "object" || typeof call === "function")) {
              return call;
            }
            return _assertThisInitialized2(self2);
          }
          function _assertThisInitialized2(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct2() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e) {
              return false;
            }
          }
          function _getPrototypeOf2(o2) {
            _getPrototypeOf2 = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf3(o3) {
              return o3.__proto__ || Object.getPrototypeOf(o3);
            };
            return _getPrototypeOf2(o2);
          }
          var HeadRequest = /* @__PURE__ */ function(_FragmentRequest) {
            _inherits2(HeadRequest2, _FragmentRequest);
            var _super = _createSuper2(HeadRequest2);
            function HeadRequest2(url) {
              var _this;
              _classCallCheck2(this, HeadRequest2);
              _this = _super.call(this, url);
              _this.checkForExistenceOnly = true;
              return _this;
            }
            return HeadRequest2;
          }(_FragmentRequest__WEBPACK_IMPORTED_MODULE_0__["default"]);
          __webpack_exports__["default"] = HeadRequest;
        },
        "./src/streaming/vo/IsoBox.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties3(target, props) {
            for (var i3 = 0; i3 < props.length; i3++) {
              var descriptor = props[i3];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass3(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties3(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties3(Constructor, staticProps);
            return Constructor;
          }
          var IsoBox = /* @__PURE__ */ function() {
            function IsoBox2(boxData) {
              _classCallCheck2(this, IsoBox2);
              this.offset = boxData._offset;
              this.type = boxData.type;
              this.size = boxData.size;
              this.boxes = [];
              if (boxData.boxes) {
                for (var i3 = 0; i3 < boxData.boxes.length; i3++) {
                  this.boxes.push(new IsoBox2(boxData.boxes[i3]));
                }
              }
              this.isComplete = true;
              switch (boxData.type) {
                case "sidx":
                  this.timescale = boxData.timescale;
                  this.earliest_presentation_time = boxData.earliest_presentation_time;
                  this.first_offset = boxData.first_offset;
                  this.references = boxData.references;
                  if (boxData.references) {
                    this.references = [];
                    for (var _i = 0; _i < boxData.references.length; _i++) {
                      var reference = {
                        reference_type: boxData.references[_i].reference_type,
                        referenced_size: boxData.references[_i].referenced_size,
                        subsegment_duration: boxData.references[_i].subsegment_duration
                      };
                      this.references.push(reference);
                    }
                  }
                  break;
                case "emsg":
                  this.id = boxData.id;
                  this.version = boxData.version === 1 ? 1 : 0;
                  this.value = boxData.value;
                  this.timescale = boxData.timescale;
                  this.scheme_id_uri = boxData.scheme_id_uri;
                  this.presentation_time_delta = boxData.version === 1 ? boxData.presentation_time : boxData.presentation_time_delta;
                  this.event_duration = boxData.event_duration;
                  this.message_data = boxData.message_data;
                  break;
                case "mdhd":
                  this.timescale = boxData.timescale;
                  break;
                case "mfhd":
                  this.sequence_number = boxData.sequence_number;
                  break;
                case "subs":
                  this.entry_count = boxData.entry_count;
                  this.entries = boxData.entries;
                  break;
                case "tfhd":
                  this.base_data_offset = boxData.base_data_offset;
                  this.sample_description_index = boxData.sample_description_index;
                  this.default_sample_duration = boxData.default_sample_duration;
                  this.default_sample_size = boxData.default_sample_size;
                  this.default_sample_flags = boxData.default_sample_flags;
                  this.flags = boxData.flags;
                  break;
                case "tfdt":
                  this.version = boxData.version;
                  this.baseMediaDecodeTime = boxData.baseMediaDecodeTime;
                  this.flags = boxData.flags;
                  break;
                case "trun":
                  this.sample_count = boxData.sample_count;
                  this.first_sample_flags = boxData.first_sample_flags;
                  this.data_offset = boxData.data_offset;
                  this.flags = boxData.flags;
                  this.samples = boxData.samples;
                  if (boxData.samples) {
                    this.samples = [];
                    for (var _i2 = 0, ln = boxData.samples.length; _i2 < ln; _i2++) {
                      var sample = {
                        sample_size: boxData.samples[_i2].sample_size,
                        sample_duration: boxData.samples[_i2].sample_duration,
                        sample_composition_time_offset: boxData.samples[_i2].sample_composition_time_offset
                      };
                      this.samples.push(sample);
                    }
                  }
                  break;
              }
            }
            _createClass3(IsoBox2, [{
              key: "getChildBox",
              value: function getChildBox(type) {
                for (var i3 = 0; i3 < this.boxes.length; i3++) {
                  if (this.boxes[i3].type === type) {
                    return this.boxes[i3];
                  }
                }
              }
            }, {
              key: "getChildBoxes",
              value: function getChildBoxes(type) {
                var boxes = [];
                for (var i3 = 0; i3 < this.boxes.length; i3++) {
                  if (this.boxes[i3].type === type) {
                    boxes.push(this.boxes[i3]);
                  }
                }
                return boxes;
              }
            }]);
            return IsoBox2;
          }();
          __webpack_exports__["default"] = IsoBox;
        },
        "./src/streaming/vo/IsoBoxSearchInfo.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var IsoBoxSearchInfo = function IsoBoxSearchInfo2(lastCompletedOffset, found, size) {
            _classCallCheck2(this, IsoBoxSearchInfo2);
            this.lastCompletedOffset = lastCompletedOffset;
            this.found = found;
            this.size = size;
          };
          __webpack_exports__["default"] = IsoBoxSearchInfo;
        },
        "./src/streaming/vo/MetricsList.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var MetricsList = function MetricsList2() {
            _classCallCheck2(this, MetricsList2);
            this.TcpList = [];
            this.HttpList = [];
            this.RepSwitchList = [];
            this.BufferLevel = [];
            this.BufferState = [];
            this.PlayList = [];
            this.DroppedFrames = [];
            this.SchedulingInfo = [];
            this.DVRInfo = [];
            this.ManifestUpdate = [];
            this.RequestsQueue = null;
            this.DVBErrors = [];
          };
          __webpack_exports__["default"] = MetricsList;
        },
        "./src/streaming/vo/TextRequest.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/Constants.js");
          var _FragmentRequest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/streaming/vo/FragmentRequest.js");
          function _typeof5(obj) {
            "@babel/helpers - typeof";
            if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
              _typeof5 = function _typeof6(obj2) {
                return typeof obj2;
              };
            } else {
              _typeof5 = function _typeof6(obj2) {
                return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
              };
            }
            return _typeof5(obj);
          }
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _inherits2(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            if (superClass)
              _setPrototypeOf2(subClass, superClass);
          }
          function _setPrototypeOf2(o2, p2) {
            _setPrototypeOf2 = Object.setPrototypeOf || function _setPrototypeOf3(o3, p3) {
              o3.__proto__ = p3;
              return o3;
            };
            return _setPrototypeOf2(o2, p2);
          }
          function _createSuper2(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct2();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf2(Derived), result;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf2(this).constructor;
                result = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn2(this, result);
            };
          }
          function _possibleConstructorReturn2(self2, call) {
            if (call && (_typeof5(call) === "object" || typeof call === "function")) {
              return call;
            }
            return _assertThisInitialized2(self2);
          }
          function _assertThisInitialized2(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct2() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e) {
              return false;
            }
          }
          function _getPrototypeOf2(o2) {
            _getPrototypeOf2 = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf3(o3) {
              return o3.__proto__ || Object.getPrototypeOf(o3);
            };
            return _getPrototypeOf2(o2);
          }
          var TextRequest = /* @__PURE__ */ function(_FragmentRequest) {
            _inherits2(TextRequest2, _FragmentRequest);
            var _super = _createSuper2(TextRequest2);
            function TextRequest2(url, type) {
              var _this;
              _classCallCheck2(this, TextRequest2);
              _this = _super.call(this);
              _this.url = url || null;
              _this.type = type || null;
              _this.mediaType = _constants_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].STREAM;
              _this.responseType = "";
              return _this;
            }
            return TextRequest2;
          }(_FragmentRequest__WEBPACK_IMPORTED_MODULE_1__["default"]);
          __webpack_exports__["default"] = TextRequest;
        },
        "./src/streaming/vo/TextTrackInfo.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _dash_vo_MediaInfo__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/dash/vo/MediaInfo.js");
          function _typeof5(obj) {
            "@babel/helpers - typeof";
            if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
              _typeof5 = function _typeof6(obj2) {
                return typeof obj2;
              };
            } else {
              _typeof5 = function _typeof6(obj2) {
                return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
              };
            }
            return _typeof5(obj);
          }
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _inherits2(subClass, superClass) {
            if (typeof superClass !== "function" && superClass !== null) {
              throw new TypeError("Super expression must either be null or a function");
            }
            subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
            if (superClass)
              _setPrototypeOf2(subClass, superClass);
          }
          function _setPrototypeOf2(o2, p2) {
            _setPrototypeOf2 = Object.setPrototypeOf || function _setPrototypeOf3(o3, p3) {
              o3.__proto__ = p3;
              return o3;
            };
            return _setPrototypeOf2(o2, p2);
          }
          function _createSuper2(Derived) {
            var hasNativeReflectConstruct = _isNativeReflectConstruct2();
            return function _createSuperInternal() {
              var Super = _getPrototypeOf2(Derived), result;
              if (hasNativeReflectConstruct) {
                var NewTarget = _getPrototypeOf2(this).constructor;
                result = Reflect.construct(Super, arguments, NewTarget);
              } else {
                result = Super.apply(this, arguments);
              }
              return _possibleConstructorReturn2(this, result);
            };
          }
          function _possibleConstructorReturn2(self2, call) {
            if (call && (_typeof5(call) === "object" || typeof call === "function")) {
              return call;
            }
            return _assertThisInitialized2(self2);
          }
          function _assertThisInitialized2(self2) {
            if (self2 === void 0) {
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            }
            return self2;
          }
          function _isNativeReflectConstruct2() {
            if (typeof Reflect === "undefined" || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if (typeof Proxy === "function")
              return true;
            try {
              Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              }));
              return true;
            } catch (e) {
              return false;
            }
          }
          function _getPrototypeOf2(o2) {
            _getPrototypeOf2 = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf3(o3) {
              return o3.__proto__ || Object.getPrototypeOf(o3);
            };
            return _getPrototypeOf2(o2);
          }
          var TextTrackInfo = /* @__PURE__ */ function(_MediaInfo) {
            _inherits2(TextTrackInfo2, _MediaInfo);
            var _super = _createSuper2(TextTrackInfo2);
            function TextTrackInfo2() {
              var _this;
              _classCallCheck2(this, TextTrackInfo2);
              _this = _super.call(this);
              _this.captionData = null;
              _this.label = null;
              _this.defaultTrack = false;
              _this.kind = null;
              _this.isFragmented = false;
              _this.isEmbedded = false;
              _this.isTTML = null;
              return _this;
            }
            return TextTrackInfo2;
          }(_dash_vo_MediaInfo__WEBPACK_IMPORTED_MODULE_0__["default"]);
          __webpack_exports__["default"] = TextTrackInfo;
        },
        "./src/streaming/vo/Thumbnail.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var Thumbnail = function Thumbnail2() {
            _classCallCheck2(this, Thumbnail2);
            this.url = null;
            this.width = null;
            this.height = null;
            this.x = null;
            this.y = null;
          };
          __webpack_exports__["default"] = Thumbnail;
        },
        "./src/streaming/vo/ThumbnailTrackInfo.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var ThumbnailTrackInfo = function ThumbnailTrackInfo2() {
            _classCallCheck2(this, ThumbnailTrackInfo2);
            this.bitrate = 0;
            this.width = 0;
            this.height = 0;
            this.tilesHor = 0;
            this.tilesVert = 0;
            this.widthPerTile = 0;
            this.heightPerTile = 0;
            this.startNumber = 0;
            this.segmentDuration = 0;
            this.timescale = 0;
            this.templateUrl = "";
            this.id = "";
          };
          __webpack_exports__["default"] = ThumbnailTrackInfo;
        },
        "./src/streaming/vo/URIFragmentData.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var URIFragmentData = function URIFragmentData2() {
            _classCallCheck2(this, URIFragmentData2);
            this.t = null;
            this.xywh = null;
            this.track = null;
            this.id = null;
            this.s = null;
            this.r = null;
          };
          __webpack_exports__["default"] = URIFragmentData;
        },
        "./src/streaming/vo/metrics/BufferLevel.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var BufferLevel = function BufferLevel2() {
            _classCallCheck2(this, BufferLevel2);
            this.t = null;
            this.level = null;
          };
          __webpack_exports__["default"] = BufferLevel;
        },
        "./src/streaming/vo/metrics/BufferState.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          var _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/streaming/constants/MetricsConstants.js");
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var BufferState = function BufferState2() {
            _classCallCheck2(this, BufferState2);
            this.target = null;
            this.state = _constants_MetricsConstants__WEBPACK_IMPORTED_MODULE_0__["default"].BUFFER_EMPTY;
          };
          __webpack_exports__["default"] = BufferState;
        },
        "./src/streaming/vo/metrics/DVRInfo.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var DVRInfo = function DVRInfo2() {
            _classCallCheck2(this, DVRInfo2);
            this.time = null;
            this.range = null;
            this.manifestInfo = null;
          };
          __webpack_exports__["default"] = DVRInfo;
        },
        "./src/streaming/vo/metrics/DroppedFrames.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var DroppedFrames = function DroppedFrames2() {
            _classCallCheck2(this, DroppedFrames2);
            this.time = null;
            this.droppedFrames = null;
          };
          __webpack_exports__["default"] = DroppedFrames;
        },
        "./src/streaming/vo/metrics/HTTPRequest.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          __webpack_require__.d(__webpack_exports__, "HTTPRequest", function() {
            return HTTPRequest;
          });
          __webpack_require__.d(__webpack_exports__, "HTTPRequestTrace", function() {
            return HTTPRequestTrace;
          });
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var HTTPRequest = function HTTPRequest2() {
            _classCallCheck2(this, HTTPRequest2);
            this.tcpid = null;
            this.type = null;
            this.url = null;
            this.actualurl = null;
            this.range = null;
            this.trequest = null;
            this.tresponse = null;
            this.responsecode = null;
            this.interval = null;
            this.trace = [];
            this._stream = null;
            this._tfinish = null;
            this._mediaduration = null;
            this._quality = null;
            this._responseHeaders = null;
            this._serviceLocation = null;
          };
          var HTTPRequestTrace = function HTTPRequestTrace2() {
            _classCallCheck2(this, HTTPRequestTrace2);
            this.s = null;
            this.d = null;
            this.b = [];
            this.t = null;
          };
          HTTPRequest.GET = "GET";
          HTTPRequest.HEAD = "HEAD";
          HTTPRequest.MPD_TYPE = "MPD";
          HTTPRequest.XLINK_EXPANSION_TYPE = "XLinkExpansion";
          HTTPRequest.INIT_SEGMENT_TYPE = "InitializationSegment";
          HTTPRequest.INDEX_SEGMENT_TYPE = "IndexSegment";
          HTTPRequest.MEDIA_SEGMENT_TYPE = "MediaSegment";
          HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE = "BitstreamSwitchingSegment";
          HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE = "FragmentInfoSegment";
          HTTPRequest.LICENSE = "license";
          HTTPRequest.OTHER_TYPE = "other";
        },
        "./src/streaming/vo/metrics/ManifestUpdate.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          __webpack_require__.d(__webpack_exports__, "ManifestUpdate", function() {
            return ManifestUpdate;
          });
          __webpack_require__.d(__webpack_exports__, "ManifestUpdateStreamInfo", function() {
            return ManifestUpdateStreamInfo;
          });
          __webpack_require__.d(__webpack_exports__, "ManifestUpdateRepresentationInfo", function() {
            return ManifestUpdateRepresentationInfo;
          });
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var ManifestUpdate = function ManifestUpdate2() {
            _classCallCheck2(this, ManifestUpdate2);
            this.mediaType = null;
            this.type = null;
            this.requestTime = null;
            this.fetchTime = null;
            this.availabilityStartTime = null;
            this.presentationStartTime = 0;
            this.clientTimeOffset = 0;
            this.currentTime = null;
            this.buffered = null;
            this.latency = 0;
            this.streamInfo = [];
            this.representationInfo = [];
          };
          var ManifestUpdateStreamInfo = function ManifestUpdateStreamInfo2() {
            _classCallCheck2(this, ManifestUpdateStreamInfo2);
            this.id = null;
            this.index = null;
            this.start = null;
            this.duration = null;
          };
          var ManifestUpdateRepresentationInfo = function ManifestUpdateRepresentationInfo2() {
            _classCallCheck2(this, ManifestUpdateRepresentationInfo2);
            this.id = null;
            this.index = null;
            this.mediaType = null;
            this.streamIndex = null;
            this.presentationTimeOffset = null;
            this.startNumber = null;
            this.fragmentInfoType = null;
          };
        },
        "./src/streaming/vo/metrics/PlayList.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          __webpack_require__.d(__webpack_exports__, "PlayList", function() {
            return PlayList;
          });
          __webpack_require__.d(__webpack_exports__, "PlayListTrace", function() {
            return PlayListTrace;
          });
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var PlayList = function PlayList2() {
            _classCallCheck2(this, PlayList2);
            this.start = null;
            this.mstart = null;
            this.starttype = null;
            this.trace = [];
          };
          PlayList.INITIAL_PLAYOUT_START_REASON = "initial_playout";
          PlayList.SEEK_START_REASON = "seek";
          PlayList.RESUME_FROM_PAUSE_START_REASON = "resume";
          PlayList.METRICS_COLLECTION_START_REASON = "metrics_collection_start";
          var PlayListTrace = function PlayListTrace2() {
            _classCallCheck2(this, PlayListTrace2);
            this.representationid = null;
            this.subreplevel = null;
            this.start = null;
            this.mstart = null;
            this.duration = null;
            this.playbackspeed = null;
            this.stopreason = null;
          };
          PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON = "representation_switch";
          PlayListTrace.REBUFFERING_REASON = "rebuffering";
          PlayListTrace.USER_REQUEST_STOP_REASON = "user_request";
          PlayListTrace.END_OF_PERIOD_STOP_REASON = "end_of_period";
          PlayListTrace.END_OF_CONTENT_STOP_REASON = "end_of_content";
          PlayListTrace.METRICS_COLLECTION_STOP_REASON = "metrics_collection_end";
          PlayListTrace.FAILURE_STOP_REASON = "failure";
        },
        "./src/streaming/vo/metrics/RepresentationSwitch.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var RepresentationSwitch = function RepresentationSwitch2() {
            _classCallCheck2(this, RepresentationSwitch2);
            this.t = null;
            this.mt = null;
            this.to = null;
            this.lto = null;
          };
          __webpack_exports__["default"] = RepresentationSwitch;
        },
        "./src/streaming/vo/metrics/RequestsQueue.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var RequestsQueue = function RequestsQueue2() {
            _classCallCheck2(this, RequestsQueue2);
            this.loadingRequests = [];
            this.executedRequests = [];
          };
          __webpack_exports__["default"] = RequestsQueue;
        },
        "./src/streaming/vo/metrics/SchedulingInfo.js": function(module3, __webpack_exports__, __webpack_require__) {
          "use strict";
          __webpack_require__.r(__webpack_exports__);
          function _classCallCheck2(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          var SchedulingInfo = function SchedulingInfo2() {
            _classCallCheck2(this, SchedulingInfo2);
            this.mediaType = null;
            this.t = null;
            this.type = null;
            this.startTime = null;
            this.availabilityStartTime = null;
            this.duration = null;
            this.quality = null;
            this.range = null;
            this.state = null;
          };
          __webpack_exports__["default"] = SchedulingInfo;
        },
        0: function(module3, exports3) {
        },
        1: function(module3, exports3) {
        }
      })["default"];
    });
  }
});

// node_modules/highcharts/highstock.js
var require_highstock = __commonJS({
  "node_modules/highcharts/highstock.js"(exports2, module2) {
    "use strict";
    (function(V, M2) {
      typeof module2 === "object" && module2.exports ? (M2["default"] = M2, module2.exports = V.document ? M2(V) : M2) : typeof define === "function" && define.amd ? define("highcharts/highstock", function() {
        return M2(V);
      }) : (V.Highcharts && V.Highcharts.error(16, true), V.Highcharts = M2(V));
    })(typeof window !== "undefined" ? window : exports2, function(V) {
      function M2(h4, D3, A, E3) {
        h4.hasOwnProperty(D3) || (h4[D3] = E3.apply(null, A));
      }
      var h3 = {};
      M2(h3, "Core/Globals.js", [], function() {
        var h4 = typeof V !== "undefined" ? V : typeof window !== "undefined" ? window : {}, D3;
        (function(e) {
          e.SVG_NS = "http://www.w3.org/2000/svg";
          e.product = "Highcharts";
          e.version = "9.3.0";
          e.win = h4;
          e.doc = e.win.document;
          e.svg = e.doc && e.doc.createElementNS && !!e.doc.createElementNS(e.SVG_NS, "svg").createSVGRect;
          e.userAgent = e.win.navigator && e.win.navigator.userAgent || "";
          e.isChrome = e.userAgent.indexOf("Chrome") !== -1;
          e.isFirefox = e.userAgent.indexOf("Firefox") !== -1;
          e.isMS = /(edge|msie|trident)/i.test(e.userAgent) && !e.win.opera;
          e.isSafari = !e.isChrome && e.userAgent.indexOf("Safari") !== -1;
          e.isTouchDevice = /(Mobile|Android|Windows Phone)/.test(e.userAgent);
          e.isWebKit = e.userAgent.indexOf("AppleWebKit") !== -1;
          e.deg2rad = 2 * Math.PI / 360;
          e.hasBidiBug = e.isFirefox && 4 > parseInt(e.userAgent.split("Firefox/")[1], 10);
          e.hasTouch = !!e.win.TouchEvent;
          e.marginNames = ["plotTop", "marginRight", "marginBottom", "plotLeft"];
          e.noop = function() {
          };
          e.supportsPassiveEvents = function() {
            var h5 = false;
            if (!e.isMS) {
              var D4 = Object.defineProperty({}, "passive", { get: function() {
                h5 = true;
              } });
              e.win.addEventListener && e.win.removeEventListener && (e.win.addEventListener("testPassive", e.noop, D4), e.win.removeEventListener("testPassive", e.noop, D4));
            }
            return h5;
          }();
          e.charts = [];
          e.dateFormats = {};
          e.seriesTypes = {};
          e.symbolSizes = {};
          e.chartCount = 0;
        })(D3 || (D3 = {}));
        "";
        return D3;
      });
      M2(h3, "Core/Utilities.js", [h3["Core/Globals.js"]], function(e) {
        function h4(b3, r3, g3, m2) {
          var n3 = r3 ? "Highcharts error" : "Highcharts warning";
          b3 === 32 && (b3 = n3 + ": Deprecated member");
          var N3 = l3(b3), G2 = N3 ? n3 + " #" + b3 + ": www.highcharts.com/errors/" + b3 + "/" : b3.toString();
          if (typeof m2 !== "undefined") {
            var P2 = "";
            N3 && (G2 += "?");
            K2(m2, function(b4, m3) {
              P2 += "\n - " + m3 + ": " + b4;
              N3 && (G2 += encodeURI(m3) + "=" + encodeURI(b4));
            });
            G2 += P2;
          }
          y2(e, "displayError", { chart: g3, code: b3, message: G2, params: m2 }, function() {
            if (r3)
              throw Error(G2);
            c3.console && h4.messages.indexOf(G2) === -1 && console.warn(G2);
          });
          h4.messages.push(G2);
        }
        function A(b3, r3) {
          var c4 = {};
          K2(b3, function(m2, g3) {
            if (I2(b3[g3], true) && !b3.nodeType && r3[g3])
              m2 = A(b3[g3], r3[g3]), Object.keys(m2).length && (c4[g3] = m2);
            else if (I2(b3[g3]) || b3[g3] !== r3[g3])
              c4[g3] = b3[g3];
          });
          return c4;
        }
        function E3(b3, r3) {
          return parseInt(b3, r3 || 10);
        }
        function v(b3) {
          return typeof b3 === "string";
        }
        function H2(b3) {
          b3 = Object.prototype.toString.call(b3);
          return b3 === "[object Array]" || b3 === "[object Array Iterator]";
        }
        function I2(b3, r3) {
          return !!b3 && typeof b3 === "object" && (!r3 || !H2(b3));
        }
        function z2(b3) {
          return I2(b3) && typeof b3.nodeType === "number";
        }
        function q3(b3) {
          var r3 = b3 && b3.constructor;
          return !(!I2(b3, true) || z2(b3) || !r3 || !r3.name || r3.name === "Object");
        }
        function l3(b3) {
          return typeof b3 === "number" && !isNaN(b3) && Infinity > b3 && -Infinity < b3;
        }
        function f2(b3) {
          return typeof b3 !== "undefined" && b3 !== null;
        }
        function d2(b3, r3, c4) {
          var m2;
          v(r3) ? f2(c4) ? b3.setAttribute(r3, c4) : b3 && b3.getAttribute && ((m2 = b3.getAttribute(r3)) || r3 !== "class" || (m2 = b3.getAttribute(r3 + "Name"))) : K2(r3, function(m3, r4) {
            f2(m3) ? b3.setAttribute(r4, m3) : b3.removeAttribute(r4);
          });
          return m2;
        }
        function a4(b3, r3) {
          var c4;
          b3 || (b3 = {});
          for (c4 in r3)
            b3[c4] = r3[c4];
          return b3;
        }
        function p2() {
          for (var b3 = arguments, r3 = b3.length, c4 = 0; c4 < r3; c4++) {
            var m2 = b3[c4];
            if (typeof m2 !== "undefined" && m2 !== null)
              return m2;
          }
        }
        function k2(b3, r3) {
          e.isMS && !e.svg && r3 && typeof r3.opacity !== "undefined" && (r3.filter = "alpha(opacity=" + 100 * r3.opacity + ")");
          a4(b3.style, r3);
        }
        function F2(b3, r3, c4, m2, g3) {
          b3 = x3.createElement(b3);
          r3 && a4(b3, r3);
          g3 && k2(b3, { padding: "0", border: "none", margin: "0" });
          c4 && k2(b3, c4);
          m2 && m2.appendChild(b3);
          return b3;
        }
        function B(b3, r3) {
          return 1e14 < b3 ? b3 : parseFloat(b3.toPrecision(r3 || 14));
        }
        function J2(b3, r3, g3) {
          var m2 = e.getStyle || J2;
          if (r3 === "width")
            return r3 = Math.min(b3.offsetWidth, b3.scrollWidth), g3 = b3.getBoundingClientRect && b3.getBoundingClientRect().width, g3 < r3 && g3 >= r3 - 1 && (r3 = Math.floor(g3)), Math.max(0, r3 - (m2(b3, "padding-left", true) || 0) - (m2(b3, "padding-right", true) || 0));
          if (r3 === "height")
            return Math.max(0, Math.min(b3.offsetHeight, b3.scrollHeight) - (m2(b3, "padding-top", true) || 0) - (m2(b3, "padding-bottom", true) || 0));
          c3.getComputedStyle || h4(27, true);
          if (b3 = c3.getComputedStyle(b3, void 0)) {
            var n3 = b3.getPropertyValue(r3);
            p2(g3, r3 !== "opacity") && (n3 = E3(n3));
          }
          return n3;
        }
        function K2(b3, r3, c4) {
          for (var m2 in b3)
            Object.hasOwnProperty.call(b3, m2) && r3.call(c4 || b3[m2], b3[m2], m2, b3);
        }
        function L3(b3, r3, c4) {
          function m2(m3, r4) {
            var P2 = b3.removeEventListener || e.removeEventListenerPolyfill;
            P2 && P2.call(b3, m3, r4, false);
          }
          function g3(P2) {
            var c5;
            if (b3.nodeName) {
              if (r3) {
                var g4 = {};
                g4[r3] = true;
              } else
                g4 = P2;
              K2(g4, function(b4, r4) {
                if (P2[r4])
                  for (c5 = P2[r4].length; c5--; )
                    m2(r4, P2[r4][c5].fn);
              });
            }
          }
          var n3 = typeof b3 === "function" && b3.prototype || b3;
          if (Object.hasOwnProperty.call(n3, "hcEvents")) {
            var G2 = n3.hcEvents;
            r3 ? (n3 = G2[r3] || [], c4 ? (G2[r3] = n3.filter(function(b4) {
              return c4 !== b4.fn;
            }), m2(r3, c4)) : (g3(G2), G2[r3] = [])) : (g3(G2), delete n3.hcEvents);
          }
        }
        function y2(b3, r3, c4, m2) {
          c4 = c4 || {};
          if (x3.createEvent && (b3.dispatchEvent || b3.fireEvent && b3 !== e)) {
            var g3 = x3.createEvent("Events");
            g3.initEvent(r3, true, true);
            c4 = a4(g3, c4);
            b3.dispatchEvent ? b3.dispatchEvent(c4) : b3.fireEvent(r3, c4);
          } else if (b3.hcEvents) {
            c4.target || a4(c4, { preventDefault: function() {
              c4.defaultPrevented = true;
            }, target: b3, type: r3 });
            g3 = [];
            for (var n3 = b3, u5 = false; n3.hcEvents; )
              Object.hasOwnProperty.call(n3, "hcEvents") && n3.hcEvents[r3] && (g3.length && (u5 = true), g3.unshift.apply(g3, n3.hcEvents[r3])), n3 = Object.getPrototypeOf(n3);
            u5 && g3.sort(function(b4, c5) {
              return b4.order - c5.order;
            });
            g3.forEach(function(r4) {
              r4.fn.call(b3, c4) === false && c4.preventDefault();
            });
          }
          m2 && !c4.defaultPrevented && m2.call(b3, c4);
        }
        var C2 = e.charts, x3 = e.doc, c3 = e.win;
        (h4 || (h4 = {})).messages = [];
        var t2;
        Math.easeInOutSine = function(b3) {
          return -0.5 * (Math.cos(Math.PI * b3) - 1);
        };
        var g2 = Array.prototype.find ? function(b3, c4) {
          return b3.find(c4);
        } : function(b3, c4) {
          var r3, m2 = b3.length;
          for (r3 = 0; r3 < m2; r3++)
            if (c4(b3[r3], r3))
              return b3[r3];
        };
        K2({ map: "map", each: "forEach", grep: "filter", reduce: "reduce", some: "some" }, function(b3, c4) {
          e[c4] = function(r3) {
            var m2;
            h4(32, false, void 0, (m2 = {}, m2["Highcharts." + c4] = "use Array." + b3, m2));
            return Array.prototype[b3].apply(r3, [].slice.call(arguments, 1));
          };
        });
        var u4, n2 = function() {
          var b3 = Math.random().toString(36).substring(2, 9) + "-", c4 = 0;
          return function() {
            return "highcharts-" + (u4 ? "" : b3) + c4++;
          };
        }();
        c3.jQuery && (c3.jQuery.fn.highcharts = function() {
          var b3 = [].slice.call(arguments);
          if (this[0])
            return b3[0] ? (new e[v(b3[0]) ? b3.shift() : "Chart"](this[0], b3[0], b3[1]), this) : C2[d2(this[0], "data-highcharts-chart")];
        });
        g2 = { addEvent: function(b3, c4, g3, m2) {
          m2 === void 0 && (m2 = {});
          var r3 = typeof b3 === "function" && b3.prototype || b3;
          Object.hasOwnProperty.call(r3, "hcEvents") || (r3.hcEvents = {});
          r3 = r3.hcEvents;
          e.Point && b3 instanceof e.Point && b3.series && b3.series.chart && (b3.series.chart.runTrackerClick = true);
          var n3 = b3.addEventListener || e.addEventListenerPolyfill;
          n3 && n3.call(b3, c4, g3, e.supportsPassiveEvents ? { passive: m2.passive === void 0 ? c4.indexOf("touch") !== -1 : m2.passive, capture: false } : false);
          r3[c4] || (r3[c4] = []);
          r3[c4].push({ fn: g3, order: typeof m2.order === "number" ? m2.order : Infinity });
          r3[c4].sort(function(b4, c5) {
            return b4.order - c5.order;
          });
          return function() {
            L3(b3, c4, g3);
          };
        }, arrayMax: function(b3) {
          for (var c4 = b3.length, g3 = b3[0]; c4--; )
            b3[c4] > g3 && (g3 = b3[c4]);
          return g3;
        }, arrayMin: function(b3) {
          for (var c4 = b3.length, g3 = b3[0]; c4--; )
            b3[c4] < g3 && (g3 = b3[c4]);
          return g3;
        }, attr: d2, clamp: function(b3, c4, g3) {
          return b3 > c4 ? b3 < g3 ? b3 : g3 : c4;
        }, cleanRecursively: A, clearTimeout: function(b3) {
          f2(b3) && clearTimeout(b3);
        }, correctFloat: B, createElement: F2, css: k2, defined: f2, destroyObjectProperties: function(b3, c4) {
          K2(b3, function(g3, m2) {
            g3 && g3 !== c4 && g3.destroy && g3.destroy();
            delete b3[m2];
          });
        }, discardElement: function(b3) {
          t2 || (t2 = F2("div"));
          b3 && t2.appendChild(b3);
          t2.innerHTML = "";
        }, erase: function(b3, c4) {
          for (var g3 = b3.length; g3--; )
            if (b3[g3] === c4) {
              b3.splice(g3, 1);
              break;
            }
        }, error: h4, extend: a4, extendClass: function(b3, c4) {
          var g3 = function() {
          };
          g3.prototype = new b3();
          a4(g3.prototype, c4);
          return g3;
        }, find: g2, fireEvent: y2, getMagnitude: function(b3) {
          return Math.pow(10, Math.floor(Math.log(b3) / Math.LN10));
        }, getNestedProperty: function(b3, g3) {
          for (b3 = b3.split("."); b3.length && f2(g3); ) {
            var r3 = b3.shift();
            if (typeof r3 === "undefined" || r3 === "__proto__")
              return;
            g3 = g3[r3];
            if (!f2(g3) || typeof g3 === "function" || typeof g3.nodeType === "number" || g3 === c3)
              return;
          }
          return g3;
        }, getStyle: J2, inArray: function(b3, c4, g3) {
          h4(32, false, void 0, { "Highcharts.inArray": "use Array.indexOf" });
          return c4.indexOf(b3, g3);
        }, isArray: H2, isClass: q3, isDOMElement: z2, isFunction: function(b3) {
          return typeof b3 === "function";
        }, isNumber: l3, isObject: I2, isString: v, keys: function(b3) {
          h4(32, false, void 0, { "Highcharts.keys": "use Object.keys" });
          return Object.keys(b3);
        }, merge: function() {
          var b3, c4 = arguments, g3 = {}, m2 = function(b4, c5) {
            typeof b4 !== "object" && (b4 = {});
            K2(c5, function(g4, r3) {
              r3 !== "__proto__" && r3 !== "constructor" && (!I2(g4, true) || q3(g4) || z2(g4) ? b4[r3] = c5[r3] : b4[r3] = m2(b4[r3] || {}, g4));
            });
            return b4;
          };
          c4[0] === true && (g3 = c4[1], c4 = Array.prototype.slice.call(c4, 2));
          var n3 = c4.length;
          for (b3 = 0; b3 < n3; b3++)
            g3 = m2(g3, c4[b3]);
          return g3;
        }, normalizeTickInterval: function(b3, c4, g3, m2, n3) {
          var r3 = b3;
          g3 = p2(g3, 1);
          var u5 = b3 / g3;
          c4 || (c4 = n3 ? [1, 1.2, 1.5, 2, 2.5, 3, 4, 5, 6, 8, 10] : [1, 2, 2.5, 5, 10], m2 === false && (g3 === 1 ? c4 = c4.filter(function(b4) {
            return b4 % 1 === 0;
          }) : 0.1 >= g3 && (c4 = [1 / g3])));
          for (m2 = 0; m2 < c4.length && !(r3 = c4[m2], n3 && r3 * g3 >= b3 || !n3 && u5 <= (c4[m2] + (c4[m2 + 1] || c4[m2])) / 2); m2++)
            ;
          return r3 = B(r3 * g3, -Math.round(Math.log(1e-3) / Math.LN10));
        }, objectEach: K2, offset: function(b3) {
          var g3 = x3.documentElement;
          b3 = b3.parentElement || b3.parentNode ? b3.getBoundingClientRect() : { top: 0, left: 0, width: 0, height: 0 };
          return { top: b3.top + (c3.pageYOffset || g3.scrollTop) - (g3.clientTop || 0), left: b3.left + (c3.pageXOffset || g3.scrollLeft) - (g3.clientLeft || 0), width: b3.width, height: b3.height };
        }, pad: function(b3, c4, g3) {
          return Array((c4 || 2) + 1 - String(b3).replace("-", "").length).join(g3 || "0") + b3;
        }, pick: p2, pInt: E3, relativeLength: function(b3, c4, g3) {
          return /%$/.test(b3) ? c4 * parseFloat(b3) / 100 + (g3 || 0) : parseFloat(b3);
        }, removeEvent: L3, splat: function(b3) {
          return H2(b3) ? b3 : [b3];
        }, stableSort: function(b3, c4) {
          var g3 = b3.length, m2, n3;
          for (n3 = 0; n3 < g3; n3++)
            b3[n3].safeI = n3;
          b3.sort(function(b4, g4) {
            m2 = c4(b4, g4);
            return m2 === 0 ? b4.safeI - g4.safeI : m2;
          });
          for (n3 = 0; n3 < g3; n3++)
            delete b3[n3].safeI;
        }, syncTimeout: function(b3, c4, g3) {
          if (0 < c4)
            return setTimeout(b3, c4, g3);
          b3.call(0, g3);
          return -1;
        }, timeUnits: {
          millisecond: 1,
          second: 1e3,
          minute: 6e4,
          hour: 36e5,
          day: 864e5,
          week: 6048e5,
          month: 24192e5,
          year: 314496e5
        }, uniqueKey: n2, useSerialIds: function(b3) {
          return u4 = p2(b3, u4);
        }, wrap: function(b3, c4, g3) {
          var m2 = b3[c4];
          b3[c4] = function() {
            var b4 = Array.prototype.slice.call(arguments), c5 = arguments, n3 = this;
            n3.proceed = function() {
              m2.apply(n3, arguments.length ? arguments : c5);
            };
            b4.unshift(m2);
            b4 = g3.apply(this, b4);
            n3.proceed = null;
            return b4;
          };
        } };
        "";
        return g2;
      });
      M2(h3, "Core/Chart/ChartDefaults.js", [], function() {
        return { panning: { enabled: false, type: "x" }, styledMode: false, borderRadius: 0, colorCount: 10, defaultSeriesType: "line", ignoreHiddenSeries: true, spacing: [
          10,
          10,
          15,
          10
        ], resetZoomButton: { theme: { zIndex: 6 }, position: { align: "right", x: -10, y: 10 } }, zoomBySingleTouch: false, width: null, height: null, borderColor: "#335cad", backgroundColor: "#ffffff", plotBorderColor: "#cccccc" };
      });
      M2(h3, "Core/Color/Color.js", [h3["Core/Globals.js"], h3["Core/Utilities.js"]], function(e, h4) {
        var D3 = h4.isNumber, E3 = h4.merge, v = h4.pInt;
        h4 = function() {
          function h5(D4) {
            this.rgba = [NaN, NaN, NaN, NaN];
            this.input = D4;
            var z2 = e.Color;
            if (z2 && z2 !== h5)
              return new z2(D4);
            if (!(this instanceof h5))
              return new h5(D4);
            this.init(D4);
          }
          h5.parse = function(e2) {
            return e2 ? new h5(e2) : h5.None;
          };
          h5.prototype.init = function(e2) {
            var z2;
            if (typeof e2 === "object" && typeof e2.stops !== "undefined")
              this.stops = e2.stops.map(function(d2) {
                return new h5(d2[1]);
              });
            else if (typeof e2 === "string") {
              this.input = e2 = h5.names[e2.toLowerCase()] || e2;
              if (e2.charAt(0) === "#") {
                var q3 = e2.length;
                var l3 = parseInt(e2.substr(1), 16);
                q3 === 7 ? z2 = [(l3 & 16711680) >> 16, (l3 & 65280) >> 8, l3 & 255, 1] : q3 === 4 && (z2 = [(l3 & 3840) >> 4 | (l3 & 3840) >> 8, (l3 & 240) >> 4 | l3 & 240, (l3 & 15) << 4 | l3 & 15, 1]);
              }
              if (!z2)
                for (l3 = h5.parsers.length; l3-- && !z2; ) {
                  var f2 = h5.parsers[l3];
                  (q3 = f2.regex.exec(e2)) && (z2 = f2.parse(q3));
                }
            }
            z2 && (this.rgba = z2);
          };
          h5.prototype.get = function(e2) {
            var z2 = this.input, q3 = this.rgba;
            if (typeof z2 === "object" && typeof this.stops !== "undefined") {
              var l3 = E3(z2);
              l3.stops = [].slice.call(l3.stops);
              this.stops.forEach(function(f2, d2) {
                l3.stops[d2] = [l3.stops[d2][0], f2.get(e2)];
              });
              return l3;
            }
            return q3 && D3(q3[0]) ? e2 === "rgb" || !e2 && q3[3] === 1 ? "rgb(" + q3[0] + "," + q3[1] + "," + q3[2] + ")" : e2 === "a" ? "" + q3[3] : "rgba(" + q3.join(",") + ")" : z2;
          };
          h5.prototype.brighten = function(e2) {
            var z2 = this.rgba;
            if (this.stops)
              this.stops.forEach(function(l3) {
                l3.brighten(e2);
              });
            else if (D3(e2) && e2 !== 0)
              for (var q3 = 0; 3 > q3; q3++)
                z2[q3] += v(255 * e2), 0 > z2[q3] && (z2[q3] = 0), 255 < z2[q3] && (z2[q3] = 255);
            return this;
          };
          h5.prototype.setOpacity = function(e2) {
            this.rgba[3] = e2;
            return this;
          };
          h5.prototype.tweenTo = function(e2, z2) {
            var q3 = this.rgba, l3 = e2.rgba;
            if (!D3(q3[0]) || !D3(l3[0]))
              return e2.input || "none";
            e2 = l3[3] !== 1 || q3[3] !== 1;
            return (e2 ? "rgba(" : "rgb(") + Math.round(l3[0] + (q3[0] - l3[0]) * (1 - z2)) + "," + Math.round(l3[1] + (q3[1] - l3[1]) * (1 - z2)) + "," + Math.round(l3[2] + (q3[2] - l3[2]) * (1 - z2)) + (e2 ? "," + (l3[3] + (q3[3] - l3[3]) * (1 - z2)) : "") + ")";
          };
          h5.names = { white: "#ffffff", black: "#000000" };
          h5.parsers = [{
            regex: /rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,
            parse: function(e2) {
              return [v(e2[1]), v(e2[2]), v(e2[3]), parseFloat(e2[4], 10)];
            }
          }, { regex: /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/, parse: function(e2) {
            return [v(e2[1]), v(e2[2]), v(e2[3]), 1];
          } }];
          h5.None = new h5("");
          return h5;
        }();
        "";
        return h4;
      });
      M2(h3, "Core/Color/Palettes.js", [], function() {
        return { colors: "#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ") };
      });
      M2(h3, "Core/Time.js", [h3["Core/Globals.js"], h3["Core/Utilities.js"]], function(e, h4) {
        var D3 = e.win, E3 = h4.defined, v = h4.error, H2 = h4.extend, I2 = h4.isObject, z2 = h4.merge, q3 = h4.objectEach, l3 = h4.pad, f2 = h4.pick, d2 = h4.splat, a4 = h4.timeUnits, p2 = e.isSafari && D3.Intl && D3.Intl.DateTimeFormat.prototype.formatRange, k2 = e.isSafari && D3.Intl && !D3.Intl.DateTimeFormat.prototype.formatRange;
        h4 = function() {
          function F2(a5) {
            this.options = {};
            this.variableTimezone = this.useUTC = false;
            this.Date = D3.Date;
            this.getTimezoneOffset = this.timezoneOffsetFunction();
            this.update(a5);
          }
          F2.prototype.get = function(a5, d3) {
            if (this.variableTimezone || this.timezoneOffset) {
              var B = d3.getTime(), f3 = B - this.getTimezoneOffset(d3);
              d3.setTime(f3);
              a5 = d3["getUTC" + a5]();
              d3.setTime(B);
              return a5;
            }
            return this.useUTC ? d3["getUTC" + a5]() : d3["get" + a5]();
          };
          F2.prototype.set = function(a5, d3, f3) {
            if (this.variableTimezone || this.timezoneOffset) {
              if (a5 === "Milliseconds" || a5 === "Seconds" || a5 === "Minutes" && this.getTimezoneOffset(d3) % 36e5 === 0)
                return d3["setUTC" + a5](f3);
              var B = this.getTimezoneOffset(d3);
              B = d3.getTime() - B;
              d3.setTime(B);
              d3["setUTC" + a5](f3);
              a5 = this.getTimezoneOffset(d3);
              B = d3.getTime() + a5;
              return d3.setTime(B);
            }
            return this.useUTC || p2 && a5 === "FullYear" ? d3["setUTC" + a5](f3) : d3["set" + a5](f3);
          };
          F2.prototype.update = function(a5) {
            var d3 = f2(a5 && a5.useUTC, true);
            this.options = a5 = z2(true, this.options || {}, a5);
            this.Date = a5.Date || D3.Date || Date;
            this.timezoneOffset = (this.useUTC = d3) && a5.timezoneOffset;
            this.getTimezoneOffset = this.timezoneOffsetFunction();
            this.variableTimezone = d3 && !(!a5.getTimezoneOffset && !a5.timezone);
          };
          F2.prototype.makeTime = function(a5, d3, p3, F3, y2, C2) {
            if (this.useUTC) {
              var x3 = this.Date.UTC.apply(0, arguments);
              var c3 = this.getTimezoneOffset(x3);
              x3 += c3;
              var t2 = this.getTimezoneOffset(x3);
              c3 !== t2 ? x3 += t2 - c3 : c3 - 36e5 !== this.getTimezoneOffset(x3 - 36e5) || k2 || (x3 -= 36e5);
            } else
              x3 = new this.Date(a5, d3, f2(p3, 1), f2(F3, 0), f2(y2, 0), f2(C2, 0)).getTime();
            return x3;
          };
          F2.prototype.timezoneOffsetFunction = function() {
            var a5 = this, d3 = this.options, f3 = d3.moment || D3.moment;
            if (!this.useUTC)
              return function(a6) {
                return 6e4 * new Date(a6.toString()).getTimezoneOffset();
              };
            if (d3.timezone) {
              if (f3)
                return function(a6) {
                  return 6e4 * -f3.tz(a6, d3.timezone).utcOffset();
                };
              v(25);
            }
            return this.useUTC && d3.getTimezoneOffset ? function(a6) {
              return 6e4 * d3.getTimezoneOffset(a6.valueOf());
            } : function() {
              return 6e4 * (a5.timezoneOffset || 0);
            };
          };
          F2.prototype.dateFormat = function(a5, d3, p3) {
            if (!E3(d3) || isNaN(d3))
              return e.defaultOptions.lang && e.defaultOptions.lang.invalidDate || "";
            a5 = f2(a5, "%Y-%m-%d %H:%M:%S");
            var B = this, y2 = new this.Date(d3), C2 = this.get("Hours", y2), x3 = this.get("Day", y2), c3 = this.get("Date", y2), t2 = this.get("Month", y2), g2 = this.get("FullYear", y2), u4 = e.defaultOptions.lang, n2 = u4 && u4.weekdays, b3 = u4 && u4.shortWeekdays;
            y2 = H2({
              a: b3 ? b3[x3] : n2[x3].substr(0, 3),
              A: n2[x3],
              d: l3(c3),
              e: l3(c3, 2, " "),
              w: x3,
              b: u4.shortMonths[t2],
              B: u4.months[t2],
              m: l3(t2 + 1),
              o: t2 + 1,
              y: g2.toString().substr(2, 2),
              Y: g2,
              H: l3(C2),
              k: C2,
              I: l3(C2 % 12 || 12),
              l: C2 % 12 || 12,
              M: l3(this.get("Minutes", y2)),
              p: 12 > C2 ? "AM" : "PM",
              P: 12 > C2 ? "am" : "pm",
              S: l3(y2.getSeconds()),
              L: l3(Math.floor(d3 % 1e3), 3)
            }, e.dateFormats);
            q3(y2, function(b4, c4) {
              for (; a5.indexOf("%" + c4) !== -1; )
                a5 = a5.replace("%" + c4, typeof b4 === "function" ? b4.call(B, d3) : b4);
            });
            return p3 ? a5.substr(0, 1).toUpperCase() + a5.substr(1) : a5;
          };
          F2.prototype.resolveDTLFormat = function(a5) {
            return I2(a5, true) ? a5 : (a5 = d2(a5), { main: a5[0], from: a5[1], to: a5[2] });
          };
          F2.prototype.getTimeTicks = function(d3, p3, k3, F3) {
            var y2 = this, C2 = [], x3 = {}, c3 = new y2.Date(p3), t2 = d3.unitRange, g2 = d3.count || 1, u4;
            F3 = f2(F3, 1);
            if (E3(p3)) {
              y2.set("Milliseconds", c3, t2 >= a4.second ? 0 : g2 * Math.floor(y2.get("Milliseconds", c3) / g2));
              t2 >= a4.second && y2.set("Seconds", c3, t2 >= a4.minute ? 0 : g2 * Math.floor(y2.get("Seconds", c3) / g2));
              t2 >= a4.minute && y2.set("Minutes", c3, t2 >= a4.hour ? 0 : g2 * Math.floor(y2.get("Minutes", c3) / g2));
              t2 >= a4.hour && y2.set("Hours", c3, t2 >= a4.day ? 0 : g2 * Math.floor(y2.get("Hours", c3) / g2));
              t2 >= a4.day && y2.set("Date", c3, t2 >= a4.month ? 1 : Math.max(1, g2 * Math.floor(y2.get("Date", c3) / g2)));
              if (t2 >= a4.month) {
                y2.set("Month", c3, t2 >= a4.year ? 0 : g2 * Math.floor(y2.get("Month", c3) / g2));
                var n2 = y2.get("FullYear", c3);
              }
              t2 >= a4.year && y2.set("FullYear", c3, n2 - n2 % g2);
              t2 === a4.week && (n2 = y2.get("Day", c3), y2.set("Date", c3, y2.get("Date", c3) - n2 + F3 + (n2 < F3 ? -7 : 0)));
              n2 = y2.get("FullYear", c3);
              F3 = y2.get("Month", c3);
              var b3 = y2.get("Date", c3), r3 = y2.get("Hours", c3);
              p3 = c3.getTime();
              !y2.variableTimezone && y2.useUTC || !E3(k3) || (u4 = k3 - p3 > 4 * a4.month || y2.getTimezoneOffset(p3) !== y2.getTimezoneOffset(k3));
              p3 = c3.getTime();
              for (c3 = 1; p3 < k3; )
                C2.push(p3), p3 = t2 === a4.year ? y2.makeTime(n2 + c3 * g2, 0) : t2 === a4.month ? y2.makeTime(n2, F3 + c3 * g2) : !u4 || t2 !== a4.day && t2 !== a4.week ? u4 && t2 === a4.hour && 1 < g2 ? y2.makeTime(n2, F3, b3, r3 + c3 * g2) : p3 + t2 * g2 : y2.makeTime(n2, F3, b3 + c3 * g2 * (t2 === a4.day ? 1 : 7)), c3++;
              C2.push(p3);
              t2 <= a4.hour && 1e4 > C2.length && C2.forEach(function(b4) {
                b4 % 18e5 === 0 && y2.dateFormat("%H%M%S%L", b4) === "000000000" && (x3[b4] = "day");
              });
            }
            C2.info = H2(d3, { higherRanks: x3, totalRange: t2 * g2 });
            return C2;
          };
          F2.prototype.getDateFormat = function(d3, p3, f3, k3) {
            var y2 = this.dateFormat("%m-%d %H:%M:%S.%L", p3), C2 = { millisecond: 15, second: 12, minute: 9, hour: 6, day: 3 }, x3 = "millisecond";
            for (c3 in a4) {
              if (d3 === a4.week && +this.dateFormat("%w", p3) === f3 && y2.substr(6) === "00:00:00.000") {
                var c3 = "week";
                break;
              }
              if (a4[c3] > d3) {
                c3 = x3;
                break;
              }
              if (C2[c3] && y2.substr(C2[c3]) !== "01-01 00:00:00.000".substr(C2[c3]))
                break;
              c3 !== "week" && (x3 = c3);
            }
            if (c3)
              var t2 = this.resolveDTLFormat(k3[c3]).main;
            return t2;
          };
          return F2;
        }();
        "";
        return h4;
      });
      M2(h3, "Core/DefaultOptions.js", [h3["Core/Chart/ChartDefaults.js"], h3["Core/Color/Color.js"], h3["Core/Globals.js"], h3["Core/Color/Palettes.js"], h3["Core/Time.js"], h3["Core/Utilities.js"]], function(e, h4, A, E3, v, H2) {
        h4 = h4.parse;
        var D3 = H2.merge, z2 = {
          colors: E3.colors,
          symbols: ["circle", "diamond", "square", "triangle", "triangle-down"],
          lang: {
            loading: "Loading...",
            months: "January February March April May June July August September October November December".split(" "),
            shortMonths: "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
            weekdays: "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
            decimalPoint: ".",
            numericSymbols: "kMGTPE".split(""),
            resetZoom: "Reset zoom",
            resetZoomTitle: "Reset zoom level 1:1",
            thousandsSep: " "
          },
          global: {},
          time: { Date: void 0, getTimezoneOffset: void 0, timezone: void 0, timezoneOffset: 0, useUTC: true },
          chart: e,
          title: { text: "Chart title", align: "center", margin: 15, widthAdjust: -44 },
          subtitle: { text: "", align: "center", widthAdjust: -44 },
          caption: { margin: 15, text: "", align: "left", verticalAlign: "bottom" },
          plotOptions: {},
          labels: { style: { position: "absolute", color: "#333333" } },
          legend: {
            enabled: true,
            align: "center",
            alignColumns: true,
            className: "highcharts-no-tooltip",
            layout: "horizontal",
            labelFormatter: function() {
              return this.name;
            },
            borderColor: "#999999",
            borderRadius: 0,
            navigation: { activeColor: "#003399", inactiveColor: "#cccccc" },
            itemStyle: { color: "#333333", cursor: "pointer", fontSize: "12px", fontWeight: "bold", textOverflow: "ellipsis" },
            itemHoverStyle: { color: "#000000" },
            itemHiddenStyle: { color: "#cccccc" },
            shadow: false,
            itemCheckboxStyle: { position: "absolute", width: "13px", height: "13px" },
            squareSymbol: true,
            symbolPadding: 5,
            verticalAlign: "bottom",
            x: 0,
            y: 0,
            title: { style: { fontWeight: "bold" } }
          },
          loading: { labelStyle: { fontWeight: "bold", position: "relative", top: "45%" }, style: { position: "absolute", backgroundColor: "#ffffff", opacity: 0.5, textAlign: "center" } },
          tooltip: {
            enabled: true,
            animation: A.svg,
            borderRadius: 3,
            dateTimeLabelFormats: {
              millisecond: "%A, %b %e, %H:%M:%S.%L",
              second: "%A, %b %e, %H:%M:%S",
              minute: "%A, %b %e, %H:%M",
              hour: "%A, %b %e, %H:%M",
              day: "%A, %b %e, %Y",
              week: "Week from %A, %b %e, %Y",
              month: "%B %Y",
              year: "%Y"
            },
            footerFormat: "",
            headerShape: "callout",
            hideDelay: 500,
            padding: 8,
            shape: "callout",
            shared: false,
            snap: A.isTouchDevice ? 25 : 10,
            headerFormat: '<span style="font-size: 10px">{point.key}</span><br/>',
            pointFormat: '<span style="color:{point.color}">\u25CF</span> {series.name}: <b>{point.y}</b><br/>',
            backgroundColor: h4("#f7f7f7").setOpacity(0.85).get(),
            borderWidth: 1,
            shadow: true,
            stickOnContact: false,
            style: { color: "#333333", cursor: "default", fontSize: "12px", whiteSpace: "nowrap" },
            useHTML: false
          },
          credits: { enabled: true, href: "https://www.highcharts.com?credits", position: { align: "right", x: -10, verticalAlign: "bottom", y: -5 }, style: { cursor: "pointer", color: "#999999", fontSize: "9px" }, text: "Highcharts.com" }
        };
        z2.chart.styledMode = false;
        "";
        var q3 = new v(D3(z2.global, z2.time));
        e = { defaultOptions: z2, defaultTime: q3, getOptions: function() {
          return z2;
        }, setOptions: function(l3) {
          D3(true, z2, l3);
          if (l3.time || l3.global)
            A.time ? A.time.update(D3(z2.global, z2.time, l3.global, l3.time)) : A.time = q3;
          return z2;
        } };
        "";
        return e;
      });
      M2(h3, "Core/Animation/Fx.js", [h3["Core/Color/Color.js"], h3["Core/Globals.js"], h3["Core/Utilities.js"]], function(e, h4, A) {
        var D3 = e.parse, v = h4.win, H2 = A.isNumber, I2 = A.objectEach;
        return function() {
          function e2(q3, l3, f2) {
            this.pos = NaN;
            this.options = l3;
            this.elem = q3;
            this.prop = f2;
          }
          e2.prototype.dSetter = function() {
            var q3 = this.paths, l3 = q3 && q3[0];
            q3 = q3 && q3[1];
            var f2 = this.now || 0, d2 = [];
            if (f2 !== 1 && l3 && q3)
              if (l3.length === q3.length && 1 > f2)
                for (var a4 = 0; a4 < q3.length; a4++) {
                  for (var p2 = l3[a4], k2 = q3[a4], F2 = [], B = 0; B < k2.length; B++) {
                    var J2 = p2[B], K2 = k2[B];
                    H2(J2) && H2(K2) && (k2[0] !== "A" || B !== 4 && B !== 5) ? F2[B] = J2 + f2 * (K2 - J2) : F2[B] = K2;
                  }
                  d2.push(F2);
                }
              else
                d2 = q3;
            else
              d2 = this.toD || [];
            this.elem.attr("d", d2, void 0, true);
          };
          e2.prototype.update = function() {
            var q3 = this.elem, l3 = this.prop, f2 = this.now, d2 = this.options.step;
            if (this[l3 + "Setter"])
              this[l3 + "Setter"]();
            else
              q3.attr ? q3.element && q3.attr(l3, f2, null, true) : q3.style[l3] = f2 + this.unit;
            d2 && d2.call(q3, f2, this);
          };
          e2.prototype.run = function(q3, l3, f2) {
            var d2 = this, a4 = d2.options, p2 = function(a5) {
              return p2.stopped ? false : d2.step(a5);
            }, k2 = v.requestAnimationFrame || function(a5) {
              setTimeout(a5, 13);
            }, F2 = function() {
              for (var a5 = 0; a5 < e2.timers.length; a5++)
                e2.timers[a5]() || e2.timers.splice(a5--, 1);
              e2.timers.length && k2(F2);
            };
            q3 !== l3 || this.elem["forceAnimate:" + this.prop] ? (this.startTime = +new Date(), this.start = q3, this.end = l3, this.unit = f2, this.now = this.start, this.pos = 0, p2.elem = this.elem, p2.prop = this.prop, p2() && e2.timers.push(p2) === 1 && k2(F2)) : (delete a4.curAnim[this.prop], a4.complete && Object.keys(a4.curAnim).length === 0 && a4.complete.call(this.elem));
          };
          e2.prototype.step = function(q3) {
            var l3 = +new Date(), f2 = this.options, d2 = this.elem, a4 = f2.complete, p2 = f2.duration, k2 = f2.curAnim;
            if (d2.attr && !d2.element)
              q3 = false;
            else if (q3 || l3 >= p2 + this.startTime) {
              this.now = this.end;
              this.pos = 1;
              this.update();
              var F2 = k2[this.prop] = true;
              I2(k2, function(a5) {
                a5 !== true && (F2 = false);
              });
              F2 && a4 && a4.call(d2);
              q3 = false;
            } else
              this.pos = f2.easing((l3 - this.startTime) / p2), this.now = this.start + (this.end - this.start) * this.pos, this.update(), q3 = true;
            return q3;
          };
          e2.prototype.initPath = function(q3, l3, f2) {
            function d2(a5, d3) {
              for (; a5.length < L3; ) {
                var x3 = a5[0], c3 = d3[L3 - a5.length];
                c3 && x3[0] === "M" && (a5[0] = c3[0] === "C" ? ["C", x3[1], x3[2], x3[1], x3[2], x3[1], x3[2]] : [
                  "L",
                  x3[1],
                  x3[2]
                ]);
                a5.unshift(x3);
                F2 && (x3 = a5.pop(), a5.push(a5[a5.length - 1], x3));
              }
            }
            function a4(a5, d3) {
              for (; a5.length < L3; )
                if (d3 = a5[Math.floor(a5.length / B) - 1].slice(), d3[0] === "C" && (d3[1] = d3[5], d3[2] = d3[6]), F2) {
                  var x3 = a5[Math.floor(a5.length / B)].slice();
                  a5.splice(a5.length / 2, 0, d3, x3);
                } else
                  a5.push(d3);
            }
            var p2 = q3.startX, k2 = q3.endX;
            f2 = f2.slice();
            var F2 = q3.isArea, B = F2 ? 2 : 1;
            l3 = l3 && l3.slice();
            if (!l3)
              return [f2, f2];
            if (p2 && k2 && k2.length) {
              for (q3 = 0; q3 < p2.length; q3++)
                if (p2[q3] === k2[0]) {
                  var J2 = q3;
                  break;
                } else if (p2[0] === k2[k2.length - p2.length + q3]) {
                  J2 = q3;
                  var K2 = true;
                  break;
                } else if (p2[p2.length - 1] === k2[k2.length - p2.length + q3]) {
                  J2 = p2.length - q3;
                  break;
                }
              typeof J2 === "undefined" && (l3 = []);
            }
            if (l3.length && H2(J2)) {
              var L3 = f2.length + J2 * B;
              K2 ? (d2(l3, f2), a4(f2, l3)) : (d2(f2, l3), a4(l3, f2));
            }
            return [l3, f2];
          };
          e2.prototype.fillSetter = function() {
            e2.prototype.strokeSetter.apply(this, arguments);
          };
          e2.prototype.strokeSetter = function() {
            this.elem.attr(this.prop, D3(this.start).tweenTo(D3(this.end), this.pos), null, true);
          };
          e2.timers = [];
          return e2;
        }();
      });
      M2(h3, "Core/Animation/AnimationUtilities.js", [h3["Core/Animation/Fx.js"], h3["Core/Utilities.js"]], function(e, h4) {
        function D3(a4) {
          return q3(a4) ? l3({ duration: 500, defer: 0 }, a4) : { duration: a4 ? 500 : 0, defer: 0 };
        }
        function E3(a4, d3) {
          for (var f3 = e.timers.length; f3--; )
            e.timers[f3].elem !== a4 || d3 && d3 !== e.timers[f3].prop || (e.timers[f3].stopped = true);
        }
        var v = h4.defined, H2 = h4.getStyle, I2 = h4.isArray, z2 = h4.isNumber, q3 = h4.isObject, l3 = h4.merge, f2 = h4.objectEach, d2 = h4.pick;
        return { animate: function(a4, d3, k2) {
          var p2, B = "", J2, K2;
          if (!q3(k2)) {
            var L3 = arguments;
            k2 = { duration: L3[2], easing: L3[3], complete: L3[4] };
          }
          z2(k2.duration) || (k2.duration = 400);
          k2.easing = typeof k2.easing === "function" ? k2.easing : Math[k2.easing] || Math.easeInOutSine;
          k2.curAnim = l3(d3);
          f2(d3, function(f3, C2) {
            E3(a4, C2);
            K2 = new e(a4, k2, C2);
            J2 = void 0;
            C2 === "d" && I2(d3.d) ? (K2.paths = K2.initPath(a4, a4.pathArray, d3.d), K2.toD = d3.d, p2 = 0, J2 = 1) : a4.attr ? p2 = a4.attr(C2) : (p2 = parseFloat(H2(a4, C2)) || 0, C2 !== "opacity" && (B = "px"));
            J2 || (J2 = f3);
            typeof J2 === "string" && J2.match("px") && (J2 = J2.replace(/px/g, ""));
            K2.run(p2, J2, B);
          });
        }, animObject: D3, getDeferredAnimation: function(a4, d3, f3) {
          var p2 = D3(d3), k2 = 0, l4 = 0;
          (f3 ? [f3] : a4.series).forEach(function(a5) {
            a5 = D3(a5.options.animation);
            k2 = d3 && v(d3.defer) ? p2.defer : Math.max(k2, a5.duration + a5.defer);
            l4 = Math.min(p2.duration, a5.duration);
          });
          a4.renderer.forExport && (k2 = 0);
          return { defer: Math.max(0, k2 - l4), duration: Math.min(k2, l4) };
        }, setAnimation: function(a4, f3) {
          f3.renderer.globalAnimation = d2(a4, f3.options.chart.animation, true);
        }, stop: E3 };
      });
      M2(h3, "Core/Renderer/HTML/AST.js", [h3["Core/Globals.js"], h3["Core/Utilities.js"]], function(e, h4) {
        var D3 = e.SVG_NS, E3 = h4.attr, v = h4.createElement, H2 = h4.discardElement, I2 = h4.error, z2 = h4.isString, q3 = h4.objectEach, l3 = h4.splat;
        try {
          var f2 = !!new DOMParser().parseFromString("", "text/html");
        } catch (d2) {
          f2 = false;
        }
        h4 = function() {
          function d2(a4) {
            this.nodes = typeof a4 === "string" ? this.parseMarkup(a4) : a4;
          }
          d2.filterUserAttributes = function(a4) {
            q3(a4, function(f3, k2) {
              var p2 = true;
              d2.allowedAttributes.indexOf(k2) === -1 && (p2 = false);
              ["background", "dynsrc", "href", "lowsrc", "src"].indexOf(k2) !== -1 && (p2 = z2(f3) && d2.allowedReferences.some(function(a5) {
                return f3.indexOf(a5) === 0;
              }));
              p2 || (I2("Highcharts warning: Invalid attribute '" + k2 + "' in config"), delete a4[k2]);
            });
            return a4;
          };
          d2.setElementHTML = function(a4, f3) {
            a4.innerHTML = "";
            f3 && new d2(f3).addToDOM(a4);
          };
          d2.prototype.addToDOM = function(a4) {
            function f3(a5, p2) {
              var k2;
              l3(a5).forEach(function(a6) {
                var B = a6.tagName, l4 = a6.textContent ? e.doc.createTextNode(a6.textContent) : void 0;
                if (B)
                  if (B === "#text")
                    var y2 = l4;
                  else if (d2.allowedTags.indexOf(B) !== -1) {
                    B = e.doc.createElementNS(B === "svg" ? D3 : p2.namespaceURI || D3, B);
                    var C2 = a6.attributes || {};
                    q3(a6, function(a7, c3) {
                      c3 !== "tagName" && c3 !== "attributes" && c3 !== "children" && c3 !== "textContent" && (C2[c3] = a7);
                    });
                    E3(B, d2.filterUserAttributes(C2));
                    l4 && B.appendChild(l4);
                    f3(a6.children || [], B);
                    y2 = B;
                  } else
                    I2("Highcharts warning: Invalid tagName '" + B + "' in config");
                y2 && p2.appendChild(y2);
                k2 = y2;
              });
              return k2;
            }
            return f3(this.nodes, a4);
          };
          d2.prototype.parseMarkup = function(a4) {
            var d3 = [];
            a4 = a4.trim();
            if (f2)
              a4 = new DOMParser().parseFromString(a4, "text/html");
            else {
              var k2 = v("div");
              k2.innerHTML = a4;
              a4 = { body: k2 };
            }
            var l4 = function(a5, d4) {
              var f3 = a5.nodeName.toLowerCase(), p2 = { tagName: f3 };
              f3 === "#text" && (p2.textContent = a5.textContent || "");
              if (f3 = a5.attributes) {
                var k3 = {};
                [].forEach.call(f3, function(a6) {
                  k3[a6.name] = a6.value;
                });
                p2.attributes = k3;
              }
              if (a5.childNodes.length) {
                var C2 = [];
                [].forEach.call(a5.childNodes, function(a6) {
                  l4(a6, C2);
                });
                C2.length && (p2.children = C2);
              }
              d4.push(p2);
            };
            [].forEach.call(a4.body.childNodes, function(a5) {
              return l4(a5, d3);
            });
            k2 && H2(k2);
            return d3;
          };
          d2.allowedAttributes = "aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align textAnchor textLength title type valign width x x1 x2 y y1 y2 zIndex".split(" ");
          d2.allowedReferences = "https:// http:// mailto: / ../ ./ #".split(" ");
          d2.allowedTags = "a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr u ul #text".split(" ");
          return d2;
        }();
        "";
        return h4;
      });
      M2(h3, "Core/FormatUtilities.js", [
        h3["Core/DefaultOptions.js"],
        h3["Core/Utilities.js"]
      ], function(e, h4) {
        function D3(l3, f2, d2, a4) {
          l3 = +l3 || 0;
          f2 = +f2;
          var p2 = E3.lang, k2 = (l3.toString().split(".")[1] || "").split("e")[0].length, F2 = l3.toString().split("e"), B = f2;
          if (f2 === -1)
            f2 = Math.min(k2, 20);
          else if (!I2(f2))
            f2 = 2;
          else if (f2 && F2[1] && 0 > F2[1]) {
            var J2 = f2 + +F2[1];
            0 <= J2 ? (F2[0] = (+F2[0]).toExponential(J2).split("e")[0], f2 = J2) : (F2[0] = F2[0].split(".")[0] || 0, l3 = 20 > f2 ? (F2[0] * Math.pow(10, F2[1])).toFixed(f2) : 0, F2[1] = 0);
          }
          J2 = (Math.abs(F2[1] ? F2[0] : l3) + Math.pow(10, -Math.max(f2, k2) - 1)).toFixed(f2);
          k2 = String(q3(J2));
          var K2 = 3 < k2.length ? k2.length % 3 : 0;
          d2 = z2(d2, p2.decimalPoint);
          a4 = z2(a4, p2.thousandsSep);
          l3 = (0 > l3 ? "-" : "") + (K2 ? k2.substr(0, K2) + a4 : "");
          l3 = 0 > +F2[1] && !B ? "0" : l3 + k2.substr(K2).replace(/(\d{3})(?=\d)/g, "$1" + a4);
          f2 && (l3 += d2 + J2.slice(-f2));
          F2[1] && +l3 !== 0 && (l3 += "e" + F2[1]);
          return l3;
        }
        var E3 = e.defaultOptions, v = e.defaultTime, H2 = h4.getNestedProperty, I2 = h4.isNumber, z2 = h4.pick, q3 = h4.pInt;
        return { dateFormat: function(l3, f2, d2) {
          return v.dateFormat(l3, f2, d2);
        }, format: function(l3, f2, d2) {
          var a4 = "{", p2 = false, k2 = /f$/, F2 = /\.([0-9])/, B = E3.lang, J2 = d2 && d2.time || v;
          d2 = d2 && d2.numberFormatter || D3;
          for (var K2 = []; l3; ) {
            var q4 = l3.indexOf(a4);
            if (q4 === -1)
              break;
            var y2 = l3.slice(0, q4);
            if (p2) {
              y2 = y2.split(":");
              a4 = H2(y2.shift() || "", f2);
              if (y2.length && typeof a4 === "number")
                if (y2 = y2.join(":"), k2.test(y2)) {
                  var C2 = parseInt((y2.match(F2) || ["", "-1"])[1], 10);
                  a4 !== null && (a4 = d2(a4, C2, B.decimalPoint, -1 < y2.indexOf(",") ? B.thousandsSep : ""));
                } else
                  a4 = J2.dateFormat(y2, a4);
              K2.push(a4);
            } else
              K2.push(y2);
            l3 = l3.slice(q4 + 1);
            a4 = (p2 = !p2) ? "}" : "{";
          }
          K2.push(l3);
          return K2.join("");
        }, numberFormat: D3 };
      });
      M2(h3, "Core/Renderer/RendererUtilities.js", [h3["Core/Utilities.js"]], function(e) {
        var h4 = e.clamp, A = e.pick, E3 = e.stableSort, v;
        (function(e2) {
          function v2(e3, q3, l3) {
            var f2 = e3, d2 = f2.reducedLen || q3, a4 = function(a5, d3) {
              return (d3.rank || 0) - (a5.rank || 0);
            }, p2 = function(a5, d3) {
              return a5.target - d3.target;
            }, k2, F2 = true, B = [], J2 = 0;
            for (k2 = e3.length; k2--; )
              J2 += e3[k2].size;
            if (J2 > d2) {
              E3(e3, a4);
              for (J2 = k2 = 0; J2 <= d2; )
                J2 += e3[k2].size, k2++;
              B = e3.splice(k2 - 1, e3.length);
            }
            E3(e3, p2);
            for (e3 = e3.map(function(a5) {
              return { size: a5.size, targets: [a5.target], align: A(a5.align, 0.5) };
            }); F2; ) {
              for (k2 = e3.length; k2--; )
                d2 = e3[k2], a4 = (Math.min.apply(0, d2.targets) + Math.max.apply(0, d2.targets)) / 2, d2.pos = h4(a4 - d2.size * d2.align, 0, q3 - d2.size);
              k2 = e3.length;
              for (F2 = false; k2--; )
                0 < k2 && e3[k2 - 1].pos + e3[k2 - 1].size > e3[k2].pos && (e3[k2 - 1].size += e3[k2].size, e3[k2 - 1].targets = e3[k2 - 1].targets.concat(e3[k2].targets), e3[k2 - 1].align = 0.5, e3[k2 - 1].pos + e3[k2 - 1].size > q3 && (e3[k2 - 1].pos = q3 - e3[k2 - 1].size), e3.splice(k2, 1), F2 = true);
            }
            f2.push.apply(f2, B);
            k2 = 0;
            e3.some(function(a5) {
              var d3 = 0;
              return (a5.targets || []).some(function() {
                f2[k2].pos = a5.pos + d3;
                if (typeof l3 !== "undefined" && Math.abs(f2[k2].pos - f2[k2].target) > l3)
                  return f2.slice(0, k2 + 1).forEach(function(a6) {
                    return delete a6.pos;
                  }), f2.reducedLen = (f2.reducedLen || q3) - 0.1 * q3, f2.reducedLen > 0.1 * q3 && v2(f2, q3, l3), true;
                d3 += f2[k2].size;
                k2++;
                return false;
              });
            });
            E3(f2, p2);
            return f2;
          }
          e2.distribute = v2;
        })(v || (v = {}));
        return v;
      });
      M2(h3, "Core/Renderer/SVG/SVGElement.js", [h3["Core/Animation/AnimationUtilities.js"], h3["Core/Renderer/HTML/AST.js"], h3["Core/Color/Color.js"], h3["Core/Globals.js"], h3["Core/Utilities.js"]], function(e, h4, A, E3, v) {
        var D3 = e.animate, I2 = e.animObject, z2 = e.stop, q3 = E3.deg2rad, l3 = E3.doc, f2 = E3.noop, d2 = E3.svg, a4 = E3.SVG_NS, p2 = E3.win, k2 = v.addEvent, F2 = v.attr, B = v.createElement, J2 = v.css, K2 = v.defined, L3 = v.erase, y2 = v.extend, C2 = v.fireEvent, x3 = v.isArray, c3 = v.isFunction, t2 = v.isNumber, g2 = v.isString, u4 = v.merge, n2 = v.objectEach, b3 = v.pick, r3 = v.pInt, G2 = v.syncTimeout, m2 = v.uniqueKey;
        e = function() {
          function w2() {
            this.element = void 0;
            this.onEvents = {};
            this.opacity = 1;
            this.renderer = void 0;
            this.SVG_NS = a4;
            this.symbolCustomAttribs = "x y width height r start end innerR anchorX anchorY rounded".split(" ");
          }
          w2.prototype._defaultGetter = function(c4) {
            c4 = b3(this[c4 + "Value"], this[c4], this.element ? this.element.getAttribute(c4) : null, 0);
            /^[\-0-9\.]+$/.test(c4) && (c4 = parseFloat(c4));
            return c4;
          };
          w2.prototype._defaultSetter = function(b4, c4, g3) {
            g3.setAttribute(c4, b4);
          };
          w2.prototype.add = function(b4) {
            var c4 = this.renderer, g3 = this.element;
            b4 && (this.parentGroup = b4);
            this.parentInverted = b4 && b4.inverted;
            typeof this.textStr !== "undefined" && this.element.nodeName === "text" && c4.buildText(this);
            this.added = true;
            if (!b4 || b4.handleZ || this.zIndex)
              var m3 = this.zIndexSetter();
            m3 || (b4 ? b4.element : c4.box).appendChild(g3);
            if (this.onAdd)
              this.onAdd();
            return this;
          };
          w2.prototype.addClass = function(b4, c4) {
            var g3 = c4 ? "" : this.attr("class") || "";
            b4 = (b4 || "").split(/ /g).reduce(function(b5, c5) {
              g3.indexOf(c5) === -1 && b5.push(c5);
              return b5;
            }, g3 ? [g3] : []).join(" ");
            b4 !== g3 && this.attr("class", b4);
            return this;
          };
          w2.prototype.afterSetters = function() {
            this.doTransform && (this.updateTransform(), this.doTransform = false);
          };
          w2.prototype.align = function(c4, m3, n3) {
            var P2 = {}, a5 = this.renderer, r4 = a5.alignedObjects, u5, N3, d3;
            if (c4) {
              if (this.alignOptions = c4, this.alignByTranslate = m3, !n3 || g2(n3))
                this.alignTo = u5 = n3 || "renderer", L3(r4, this), r4.push(this), n3 = void 0;
            } else
              c4 = this.alignOptions, m3 = this.alignByTranslate, u5 = this.alignTo;
            n3 = b3(n3, a5[u5], u5 === "scrollablePlotBox" ? a5.plotBox : void 0, a5);
            u5 = c4.align;
            var t3 = c4.verticalAlign;
            a5 = (n3.x || 0) + (c4.x || 0);
            r4 = (n3.y || 0) + (c4.y || 0);
            u5 === "right" ? N3 = 1 : u5 === "center" && (N3 = 2);
            N3 && (a5 += (n3.width - (c4.width || 0)) / N3);
            P2[m3 ? "translateX" : "x"] = Math.round(a5);
            t3 === "bottom" ? d3 = 1 : t3 === "middle" && (d3 = 2);
            d3 && (r4 += (n3.height - (c4.height || 0)) / d3);
            P2[m3 ? "translateY" : "y"] = Math.round(r4);
            this[this.placed ? "animate" : "attr"](P2);
            this.placed = true;
            this.alignAttr = P2;
            return this;
          };
          w2.prototype.alignSetter = function(b4) {
            var c4 = { left: "start", center: "middle", right: "end" };
            c4[b4] && (this.alignValue = b4, this.element.setAttribute("text-anchor", c4[b4]));
          };
          w2.prototype.animate = function(c4, g3, m3) {
            var a5 = this, r4 = I2(b3(g3, this.renderer.globalAnimation, true));
            g3 = r4.defer;
            b3(l3.hidden, l3.msHidden, l3.webkitHidden, false) && (r4.duration = 0);
            r4.duration !== 0 ? (m3 && (r4.complete = m3), G2(function() {
              a5.element && D3(a5, c4, r4);
            }, g3)) : (this.attr(c4, void 0, m3), n2(c4, function(b4, c5) {
              r4.step && r4.step.call(this, b4, { prop: c5, pos: 1, elem: this });
            }, this));
            return this;
          };
          w2.prototype.applyTextOutline = function(b4) {
            var c4 = this.element;
            b4.indexOf("contrast") !== -1 && (b4 = b4.replace(/contrast/g, this.renderer.getContrast(c4.style.fill)));
            var g3 = b4.split(" ");
            b4 = g3[g3.length - 1];
            if ((g3 = g3[0]) && g3 !== "none" && E3.svg) {
              this.fakeTS = true;
              this.ySetter = this.xSetter;
              g3 = g3.replace(/(^[\d\.]+)(.*?)$/g, function(b5, c5, g4) {
                return 2 * Number(c5) + g4;
              });
              this.removeTextOutline();
              var m3 = l3.createElementNS(a4, "tspan");
              F2(m3, { "class": "highcharts-text-outline", fill: b4, stroke: b4, "stroke-width": g3, "stroke-linejoin": "round" });
              [].forEach.call(c4.childNodes, function(b5) {
                var c5 = b5.cloneNode(true);
                c5.removeAttribute && ["fill", "stroke", "stroke-width", "stroke"].forEach(function(b6) {
                  return c5.removeAttribute(b6);
                });
                m3.appendChild(c5);
              });
              var n3 = l3.createElementNS(a4, "tspan");
              n3.textContent = "\u200B";
              ["x", "y"].forEach(function(b5) {
                var g4 = c4.getAttribute(b5);
                g4 && n3.setAttribute(b5, g4);
              });
              m3.appendChild(n3);
              c4.insertBefore(m3, c4.firstChild);
            }
          };
          w2.prototype.attr = function(b4, c4, g3, m3) {
            var r4 = this.element, a5 = this.symbolCustomAttribs, P2, O3 = this, u5, N3;
            if (typeof b4 === "string" && typeof c4 !== "undefined") {
              var d3 = b4;
              b4 = {};
              b4[d3] = c4;
            }
            typeof b4 === "string" ? O3 = (this[b4 + "Getter"] || this._defaultGetter).call(this, b4, r4) : (n2(b4, function(c5, g4) {
              u5 = false;
              m3 || z2(this, g4);
              this.symbolName && a5.indexOf(g4) !== -1 && (P2 || (this.symbolAttr(b4), P2 = true), u5 = true);
              !this.rotation || g4 !== "x" && g4 !== "y" || (this.doTransform = true);
              u5 || (N3 = this[g4 + "Setter"] || this._defaultSetter, N3.call(this, c5, g4, r4), !this.styledMode && this.shadows && /^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(g4) && this.updateShadows(g4, c5, N3));
            }, this), this.afterSetters());
            g3 && g3.call(this);
            return O3;
          };
          w2.prototype.clip = function(b4) {
            return this.attr("clip-path", b4 ? "url(" + this.renderer.url + "#" + b4.id + ")" : "none");
          };
          w2.prototype.crisp = function(b4, c4) {
            c4 = c4 || b4.strokeWidth || 0;
            var g3 = Math.round(c4) % 2 / 2;
            b4.x = Math.floor(b4.x || this.x || 0) + g3;
            b4.y = Math.floor(b4.y || this.y || 0) + g3;
            b4.width = Math.floor((b4.width || this.width || 0) - 2 * g3);
            b4.height = Math.floor((b4.height || this.height || 0) - 2 * g3);
            K2(b4.strokeWidth) && (b4.strokeWidth = c4);
            return b4;
          };
          w2.prototype.complexColor = function(b4, c4, g3) {
            var r4 = this.renderer, a5, P2, d3, t3, w3, N3, G3, f3, p3, k3, y3 = [], B2;
            C2(this.renderer, "complexColor", { args: arguments }, function() {
              b4.radialGradient ? P2 = "radialGradient" : b4.linearGradient && (P2 = "linearGradient");
              if (P2) {
                d3 = b4[P2];
                w3 = r4.gradients;
                N3 = b4.stops;
                p3 = g3.radialReference;
                x3(d3) && (b4[P2] = d3 = { x1: d3[0], y1: d3[1], x2: d3[2], y2: d3[3], gradientUnits: "userSpaceOnUse" });
                P2 === "radialGradient" && p3 && !K2(d3.gradientUnits) && (t3 = d3, d3 = u4(d3, r4.getRadialAttr(p3, t3), { gradientUnits: "userSpaceOnUse" }));
                n2(d3, function(b5, c5) {
                  c5 !== "id" && y3.push(c5, b5);
                });
                n2(N3, function(b5) {
                  y3.push(b5);
                });
                y3 = y3.join(",");
                if (w3[y3])
                  k3 = w3[y3].attr("id");
                else {
                  d3.id = k3 = m2();
                  var O3 = w3[y3] = r4.createElement(P2).attr(d3).add(r4.defs);
                  O3.radAttr = t3;
                  O3.stops = [];
                  N3.forEach(function(b5) {
                    b5[1].indexOf("rgba") === 0 ? (a5 = A.parse(b5[1]), G3 = a5.get("rgb"), f3 = a5.get("a")) : (G3 = b5[1], f3 = 1);
                    b5 = r4.createElement("stop").attr({
                      offset: b5[0],
                      "stop-color": G3,
                      "stop-opacity": f3
                    }).add(O3);
                    O3.stops.push(b5);
                  });
                }
                B2 = "url(" + r4.url + "#" + k3 + ")";
                g3.setAttribute(c4, B2);
                g3.gradient = y3;
                b4.toString = function() {
                  return B2;
                };
              }
            });
          };
          w2.prototype.css = function(b4) {
            var c4 = this.styles, g3 = {}, m3 = this.element, a5 = ["textOutline", "textOverflow", "width"], u5 = "", t3 = !c4;
            b4 && b4.color && (b4.fill = b4.color);
            c4 && n2(b4, function(b5, m4) {
              c4 && c4[m4] !== b5 && (g3[m4] = b5, t3 = true);
            });
            if (t3) {
              c4 && (b4 = y2(c4, g3));
              if (b4) {
                if (b4.width === null || b4.width === "auto")
                  delete this.textWidth;
                else if (m3.nodeName.toLowerCase() === "text" && b4.width)
                  var w3 = this.textWidth = r3(b4.width);
              }
              this.styles = b4;
              w3 && !d2 && this.renderer.forExport && delete b4.width;
              if (m3.namespaceURI === this.SVG_NS) {
                var N3 = function(b5, c5) {
                  return "-" + c5.toLowerCase();
                };
                n2(b4, function(b5, c5) {
                  a5.indexOf(c5) === -1 && (u5 += c5.replace(/([A-Z])/g, N3) + ":" + b5 + ";");
                });
                u5 && F2(m3, "style", u5);
              } else
                J2(m3, b4);
              this.added && (this.element.nodeName === "text" && this.renderer.buildText(this), b4 && b4.textOutline && this.applyTextOutline(b4.textOutline));
            }
            return this;
          };
          w2.prototype.dashstyleSetter = function(c4) {
            var g3 = this["stroke-width"];
            g3 === "inherit" && (g3 = 1);
            if (c4 = c4 && c4.toLowerCase()) {
              var m3 = c4.replace("shortdashdotdot", "3,1,1,1,1,1,").replace("shortdashdot", "3,1,1,1").replace("shortdot", "1,1,").replace("shortdash", "3,1,").replace("longdash", "8,3,").replace(/dot/g, "1,3,").replace("dash", "4,3,").replace(/,$/, "").split(",");
              for (c4 = m3.length; c4--; )
                m3[c4] = "" + r3(m3[c4]) * b3(g3, NaN);
              c4 = m3.join(",").replace(/NaN/g, "none");
              this.element.setAttribute("stroke-dasharray", c4);
            }
          };
          w2.prototype.destroy = function() {
            var b4 = this, c4 = b4.element || {}, g3 = b4.renderer, m3 = c4.ownerSVGElement, r4 = g3.isSVG && c4.nodeName === "SPAN" && b4.parentGroup || void 0;
            c4.onclick = c4.onmouseout = c4.onmouseover = c4.onmousemove = c4.point = null;
            z2(b4);
            if (b4.clipPath && m3) {
              var a5 = b4.clipPath;
              [].forEach.call(m3.querySelectorAll("[clip-path],[CLIP-PATH]"), function(b5) {
                -1 < b5.getAttribute("clip-path").indexOf(a5.element.id) && b5.removeAttribute("clip-path");
              });
              b4.clipPath = a5.destroy();
            }
            if (b4.stops) {
              for (m3 = 0; m3 < b4.stops.length; m3++)
                b4.stops[m3].destroy();
              b4.stops.length = 0;
              b4.stops = void 0;
            }
            b4.safeRemoveChild(c4);
            for (g3.styledMode || b4.destroyShadows(); r4 && r4.div && r4.div.childNodes.length === 0; )
              c4 = r4.parentGroup, b4.safeRemoveChild(r4.div), delete r4.div, r4 = c4;
            b4.alignTo && L3(g3.alignedObjects, b4);
            n2(b4, function(c5, g4) {
              b4[g4] && b4[g4].parentGroup === b4 && b4[g4].destroy && b4[g4].destroy();
              delete b4[g4];
            });
          };
          w2.prototype.destroyShadows = function() {
            (this.shadows || []).forEach(function(b4) {
              this.safeRemoveChild(b4);
            }, this);
            this.shadows = void 0;
          };
          w2.prototype.destroyTextPath = function(b4, c4) {
            var g3 = b4.getElementsByTagName("text")[0];
            if (g3) {
              if (g3.removeAttribute("dx"), g3.removeAttribute("dy"), c4.element.setAttribute("id", ""), this.textPathWrapper && g3.getElementsByTagName("textPath").length) {
                for (b4 = this.textPathWrapper.element.childNodes; b4.length; )
                  g3.appendChild(b4[0]);
                g3.removeChild(this.textPathWrapper.element);
              }
            } else if (b4.getAttribute("dx") || b4.getAttribute("dy"))
              b4.removeAttribute("dx"), b4.removeAttribute("dy");
            this.textPathWrapper && (this.textPathWrapper = this.textPathWrapper.destroy());
          };
          w2.prototype.dSetter = function(b4, c4, g3) {
            x3(b4) && (typeof b4[0] === "string" && (b4 = this.renderer.pathToSegments(b4)), this.pathArray = b4, b4 = b4.reduce(function(b5, c5, g4) {
              return c5 && c5.join ? (g4 ? b5 + " " : "") + c5.join(" ") : (c5 || "").toString();
            }, ""));
            /(NaN| {2}|^$)/.test(b4) && (b4 = "M 0 0");
            this[c4] !== b4 && (g3.setAttribute(c4, b4), this[c4] = b4);
          };
          w2.prototype.fadeOut = function(c4) {
            var g3 = this;
            g3.animate({ opacity: 0 }, { duration: b3(c4, 150), complete: function() {
              g3.attr({ y: -9999 }).hide();
            } });
          };
          w2.prototype.fillSetter = function(b4, c4, g3) {
            typeof b4 === "string" ? g3.setAttribute(c4, b4) : b4 && this.complexColor(b4, c4, g3);
          };
          w2.prototype.getBBox = function(g3, m3) {
            var n3 = this.renderer, r4 = this.element, a5 = this.styles, u5 = this.textStr, d3 = n3.cache, t3 = n3.cacheKeys, Q2 = r4.namespaceURI === this.SVG_NS;
            m3 = b3(m3, this.rotation, 0);
            var x4 = n3.styledMode ? r4 && w2.prototype.getStyle.call(r4, "font-size") : a5 && a5.fontSize, G3;
            if (K2(u5)) {
              var f3 = u5.toString();
              f3.indexOf("<") === -1 && (f3 = f3.replace(/[0-9]/g, "0"));
              f3 += ["", m3, x4, this.textWidth, a5 && a5.textOverflow, a5 && a5.fontWeight].join();
            }
            f3 && !g3 && (G3 = d3[f3]);
            if (!G3) {
              if (Q2 || n3.forExport) {
                try {
                  var N3 = this.fakeTS && function(b4) {
                    var c4 = r4.querySelector(".highcharts-text-outline");
                    c4 && J2(c4, { display: b4 });
                  };
                  c3(N3) && N3("none");
                  G3 = r4.getBBox ? y2({}, r4.getBBox()) : { width: r4.offsetWidth, height: r4.offsetHeight };
                  c3(N3) && N3("");
                } catch (U) {
                  "";
                }
                if (!G3 || 0 > G3.width)
                  G3 = {
                    width: 0,
                    height: 0
                  };
              } else
                G3 = this.htmlGetBBox();
              n3.isSVG && (g3 = G3.width, n3 = G3.height, Q2 && (G3.height = n3 = { "11px,17": 14, "13px,20": 16 }[a5 && a5.fontSize + "," + Math.round(n3)] || n3), m3 && (a5 = m3 * q3, G3.width = Math.abs(n3 * Math.sin(a5)) + Math.abs(g3 * Math.cos(a5)), G3.height = Math.abs(n3 * Math.cos(a5)) + Math.abs(g3 * Math.sin(a5))));
              if (f3 && (u5 === "" || 0 < G3.height)) {
                for (; 250 < t3.length; )
                  delete d3[t3.shift()];
                d3[f3] || t3.push(f3);
                d3[f3] = G3;
              }
            }
            return G3;
          };
          w2.prototype.getStyle = function(b4) {
            return p2.getComputedStyle(this.element || this, "").getPropertyValue(b4);
          };
          w2.prototype.hasClass = function(b4) {
            return ("" + this.attr("class")).split(" ").indexOf(b4) !== -1;
          };
          w2.prototype.hide = function(b4) {
            b4 ? this.attr({ y: -9999 }) : this.attr({ visibility: "hidden" });
            return this;
          };
          w2.prototype.htmlGetBBox = function() {
            return { height: 0, width: 0, x: 0, y: 0 };
          };
          w2.prototype.init = function(b4, c4) {
            this.element = c4 === "span" ? B(c4) : l3.createElementNS(this.SVG_NS, c4);
            this.renderer = b4;
            C2(this, "afterInit");
          };
          w2.prototype.invert = function(b4) {
            this.inverted = b4;
            this.updateTransform();
            return this;
          };
          w2.prototype.on = function(b4, c4) {
            var g3 = this.onEvents;
            if (g3[b4])
              g3[b4]();
            g3[b4] = k2(this.element, b4, c4);
            return this;
          };
          w2.prototype.opacitySetter = function(b4, c4, g3) {
            this.opacity = b4 = Number(Number(b4).toFixed(3));
            g3.setAttribute(c4, b4);
          };
          w2.prototype.removeClass = function(b4) {
            return this.attr("class", ("" + this.attr("class")).replace(g2(b4) ? new RegExp("(^| )" + b4 + "( |$)") : b4, " ").replace(/ +/g, " ").trim());
          };
          w2.prototype.removeTextOutline = function() {
            var b4 = this.element.querySelector("tspan.highcharts-text-outline");
            b4 && this.safeRemoveChild(b4);
          };
          w2.prototype.safeRemoveChild = function(b4) {
            var c4 = b4.parentNode;
            c4 && c4.removeChild(b4);
          };
          w2.prototype.setRadialReference = function(b4) {
            var c4 = this.element.gradient && this.renderer.gradients[this.element.gradient];
            this.element.radialReference = b4;
            c4 && c4.radAttr && c4.animate(this.renderer.getRadialAttr(b4, c4.radAttr));
            return this;
          };
          w2.prototype.setTextPath = function(b4, c4) {
            var g3 = this.element, r4 = this.text ? this.text.element : g3, a5 = { textAnchor: "text-anchor" }, d3 = false, w3 = this.textPathWrapper, G3 = !w3;
            c4 = u4(true, { enabled: true, attributes: { dy: -5, startOffset: "50%", textAnchor: "middle" } }, c4);
            var x4 = h4.filterUserAttributes(c4.attributes);
            if (b4 && c4 && c4.enabled) {
              w3 && w3.element.parentNode === null ? (G3 = true, w3 = w3.destroy()) : w3 && this.removeTextOutline.call(w3.parentGroup);
              this.options && this.options.padding && (x4.dx = -this.options.padding);
              w3 || (this.textPathWrapper = w3 = this.renderer.createElement("textPath"), d3 = true);
              var C3 = w3.element;
              (c4 = b4.element.getAttribute("id")) || b4.element.setAttribute("id", c4 = m2());
              if (G3)
                for (r4.setAttribute("y", 0), t2(x4.dx) && r4.setAttribute("x", -x4.dx), b4 = [].slice.call(r4.childNodes), G3 = 0; G3 < b4.length; G3++) {
                  var k3 = b4[G3];
                  k3.nodeType !== p2.Node.TEXT_NODE && k3.nodeName !== "tspan" || C3.appendChild(k3);
                }
              d3 && w3 && w3.add({ element: r4 });
              C3.setAttributeNS("http://www.w3.org/1999/xlink", "href", this.renderer.url + "#" + c4);
              K2(x4.dy) && (C3.parentNode.setAttribute("dy", x4.dy), delete x4.dy);
              K2(x4.dx) && (C3.parentNode.setAttribute("dx", x4.dx), delete x4.dx);
              n2(x4, function(b5, c5) {
                C3.setAttribute(a5[c5] || c5, b5);
              });
              g3.removeAttribute("transform");
              this.removeTextOutline.call(w3);
              this.text && !this.renderer.styledMode && this.attr({ fill: "none", "stroke-width": 0 });
              this.applyTextOutline = this.updateTransform = f2;
            } else
              w3 && (delete this.updateTransform, delete this.applyTextOutline, this.destroyTextPath(g3, b4), this.updateTransform(), this.options && this.options.rotation && this.applyTextOutline(this.options.style.textOutline));
            return this;
          };
          w2.prototype.shadow = function(b4, c4, g3) {
            var m3 = [], r4 = this.element, a5 = this.oldShadowOptions, u5 = { color: "#000000", offsetX: this.parentInverted ? -1 : 1, offsetY: this.parentInverted ? -1 : 1, opacity: 0.15, width: 3 }, P2 = false, d3;
            b4 === true ? d3 = u5 : typeof b4 === "object" && (d3 = y2(u5, b4));
            d3 && (d3 && a5 && n2(d3, function(b5, c5) {
              b5 !== a5[c5] && (P2 = true);
            }), P2 && this.destroyShadows(), this.oldShadowOptions = d3);
            if (!d3)
              this.destroyShadows();
            else if (!this.shadows) {
              var w3 = d3.opacity / d3.width;
              var t3 = this.parentInverted ? "translate(" + d3.offsetY + ", " + d3.offsetX + ")" : "translate(" + d3.offsetX + ", " + d3.offsetY + ")";
              for (u5 = 1; u5 <= d3.width; u5++) {
                var G3 = r4.cloneNode(false);
                var x4 = 2 * d3.width + 1 - 2 * u5;
                F2(G3, { stroke: b4.color || "#000000", "stroke-opacity": w3 * u5, "stroke-width": x4, transform: t3, fill: "none" });
                G3.setAttribute("class", (G3.getAttribute("class") || "") + " highcharts-shadow");
                g3 && (F2(G3, "height", Math.max(F2(G3, "height") - x4, 0)), G3.cutHeight = x4);
                c4 ? c4.element.appendChild(G3) : r4.parentNode && r4.parentNode.insertBefore(G3, r4);
                m3.push(G3);
              }
              this.shadows = m3;
            }
            return this;
          };
          w2.prototype.show = function(b4) {
            return this.attr({ visibility: b4 ? "inherit" : "visible" });
          };
          w2.prototype.strokeSetter = function(b4, c4, g3) {
            this[c4] = b4;
            this.stroke && this["stroke-width"] ? (w2.prototype.fillSetter.call(this, this.stroke, "stroke", g3), g3.setAttribute("stroke-width", this["stroke-width"]), this.hasStroke = true) : c4 === "stroke-width" && b4 === 0 && this.hasStroke ? (g3.removeAttribute("stroke"), this.hasStroke = false) : this.renderer.styledMode && this["stroke-width"] && (g3.setAttribute("stroke-width", this["stroke-width"]), this.hasStroke = true);
          };
          w2.prototype.strokeWidth = function() {
            if (!this.renderer.styledMode)
              return this["stroke-width"] || 0;
            var b4 = this.getStyle("stroke-width"), c4 = 0;
            if (b4.indexOf("px") === b4.length - 2)
              c4 = r3(b4);
            else if (b4 !== "") {
              var g3 = l3.createElementNS(a4, "rect");
              F2(g3, { width: b4, "stroke-width": 0 });
              this.element.parentNode.appendChild(g3);
              c4 = g3.getBBox().width;
              g3.parentNode.removeChild(g3);
            }
            return c4;
          };
          w2.prototype.symbolAttr = function(c4) {
            var g3 = this;
            "x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(m3) {
              g3[m3] = b3(c4[m3], g3[m3]);
            });
            g3.attr({ d: g3.renderer.symbols[g3.symbolName](g3.x, g3.y, g3.width, g3.height, g3) });
          };
          w2.prototype.textSetter = function(b4) {
            b4 !== this.textStr && (delete this.textPxLength, this.textStr = b4, this.added && this.renderer.buildText(this));
          };
          w2.prototype.titleSetter = function(c4) {
            var g3 = this.element, m3 = g3.getElementsByTagName("title")[0] || l3.createElementNS(this.SVG_NS, "title");
            g3.insertBefore ? g3.insertBefore(m3, g3.firstChild) : g3.appendChild(m3);
            m3.textContent = String(b3(c4, "")).replace(/<[^>]*>/g, "").replace(/&lt;/g, "<").replace(/&gt;/g, ">");
          };
          w2.prototype.toFront = function() {
            var b4 = this.element;
            b4.parentNode.appendChild(b4);
            return this;
          };
          w2.prototype.translate = function(b4, c4) {
            return this.attr({ translateX: b4, translateY: c4 });
          };
          w2.prototype.updateShadows = function(b4, c4, g3) {
            var m3 = this.shadows;
            if (m3)
              for (var n3 = m3.length; n3--; )
                g3.call(m3[n3], b4 === "height" ? Math.max(c4 - (m3[n3].cutHeight || 0), 0) : b4 === "d" ? this.d : c4, b4, m3[n3]);
          };
          w2.prototype.updateTransform = function() {
            var c4 = this.scaleX, g3 = this.scaleY, m3 = this.inverted, n3 = this.rotation, r4 = this.matrix, a5 = this.element, u5 = this.translateX || 0, d3 = this.translateY || 0;
            m3 && (u5 += this.width, d3 += this.height);
            u5 = ["translate(" + u5 + "," + d3 + ")"];
            K2(r4) && u5.push("matrix(" + r4.join(",") + ")");
            m3 ? u5.push("rotate(90) scale(-1,1)") : n3 && u5.push("rotate(" + n3 + " " + b3(this.rotationOriginX, a5.getAttribute("x"), 0) + " " + b3(this.rotationOriginY, a5.getAttribute("y") || 0) + ")");
            (K2(c4) || K2(g3)) && u5.push("scale(" + b3(c4, 1) + " " + b3(g3, 1) + ")");
            u5.length && a5.setAttribute("transform", u5.join(" "));
          };
          w2.prototype.visibilitySetter = function(b4, c4, g3) {
            b4 === "inherit" ? g3.removeAttribute(c4) : this[c4] !== b4 && g3.setAttribute(c4, b4);
            this[c4] = b4;
          };
          w2.prototype.xGetter = function(b4) {
            this.element.nodeName === "circle" && (b4 === "x" ? b4 = "cx" : b4 === "y" && (b4 = "cy"));
            return this._defaultGetter(b4);
          };
          w2.prototype.zIndexSetter = function(b4, c4) {
            var g3 = this.renderer, m3 = this.parentGroup, n3 = (m3 || g3).element || g3.box, a5 = this.element;
            g3 = n3 === g3.box;
            var u5 = false;
            var d3 = this.added;
            var w3;
            K2(b4) ? (a5.setAttribute("data-z-index", b4), b4 = +b4, this[c4] === b4 && (d3 = false)) : K2(this[c4]) && a5.removeAttribute("data-z-index");
            this[c4] = b4;
            if (d3) {
              (b4 = this.zIndex) && m3 && (m3.handleZ = true);
              c4 = n3.childNodes;
              for (w3 = c4.length - 1; 0 <= w3 && !u5; w3--) {
                m3 = c4[w3];
                d3 = m3.getAttribute("data-z-index");
                var t3 = !K2(d3);
                if (m3 !== a5) {
                  if (0 > b4 && t3 && !g3 && !w3)
                    n3.insertBefore(a5, c4[w3]), u5 = true;
                  else if (r3(d3) <= b4 || t3 && (!K2(b4) || 0 <= b4))
                    n3.insertBefore(a5, c4[w3 + 1] || null), u5 = true;
                }
              }
              u5 || (n3.insertBefore(a5, c4[g3 ? 3 : 0] || null), u5 = true);
            }
            return u5;
          };
          return w2;
        }();
        e.prototype["stroke-widthSetter"] = e.prototype.strokeSetter;
        e.prototype.yGetter = e.prototype.xGetter;
        e.prototype.matrixSetter = e.prototype.rotationOriginXSetter = e.prototype.rotationOriginYSetter = e.prototype.rotationSetter = e.prototype.scaleXSetter = e.prototype.scaleYSetter = e.prototype.translateXSetter = e.prototype.translateYSetter = e.prototype.verticalAlignSetter = function(b4, c4) {
          this[c4] = b4;
          this.doTransform = true;
        };
        "";
        return e;
      });
      M2(h3, "Core/Renderer/RendererRegistry.js", [h3["Core/Globals.js"]], function(e) {
        var h4;
        (function(h5) {
          h5.rendererTypes = {};
          var D3;
          h5.getRendererType = function(e2) {
            e2 === void 0 && (e2 = D3);
            return h5.rendererTypes[e2] || h5.rendererTypes[D3];
          };
          h5.registerRendererType = function(v, A, I2) {
            h5.rendererTypes[v] = A;
            if (!D3 || I2)
              D3 = v, e.Renderer = A;
          };
        })(h4 || (h4 = {}));
        return h4;
      });
      M2(h3, "Core/Renderer/SVG/SVGLabel.js", [h3["Core/Renderer/SVG/SVGElement.js"], h3["Core/Utilities.js"]], function(e, h4) {
        var D3 = this && this.__extends || function() {
          var l3 = function(f2, d2) {
            l3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(a4, d3) {
              a4.__proto__ = d3;
            } || function(a4, d3) {
              for (var f3 in d3)
                d3.hasOwnProperty(f3) && (a4[f3] = d3[f3]);
            };
            return l3(f2, d2);
          };
          return function(f2, d2) {
            function a4() {
              this.constructor = f2;
            }
            l3(f2, d2);
            f2.prototype = d2 === null ? Object.create(d2) : (a4.prototype = d2.prototype, new a4());
          };
        }(), E3 = h4.defined, v = h4.extend, H2 = h4.isNumber, I2 = h4.merge, z2 = h4.pick, q3 = h4.removeEvent;
        return function(l3) {
          function f2(d2, a4, p2, k2, F2, B, J2, K2, e2, y2) {
            var C2 = l3.call(this) || this;
            C2.paddingLeftSetter = C2.paddingSetter;
            C2.paddingRightSetter = C2.paddingSetter;
            C2.init(d2, "g");
            C2.textStr = a4;
            C2.x = p2;
            C2.y = k2;
            C2.anchorX = B;
            C2.anchorY = J2;
            C2.baseline = e2;
            C2.className = y2;
            C2.addClass(y2 === "button" ? "highcharts-no-tooltip" : "highcharts-label");
            y2 && C2.addClass("highcharts-" + y2);
            C2.text = d2.text(void 0, 0, 0, K2).attr({ zIndex: 1 });
            var x3;
            typeof F2 === "string" && ((x3 = /^url\((.*?)\)$/.test(F2)) || C2.renderer.symbols[F2]) && (C2.symbolKey = F2);
            C2.bBox = f2.emptyBBox;
            C2.padding = 3;
            C2.baselineOffset = 0;
            C2.needsBox = d2.styledMode || x3;
            C2.deferredAttr = {};
            C2.alignFactor = 0;
            return C2;
          }
          D3(f2, l3);
          f2.prototype.alignSetter = function(d2) {
            d2 = { left: 0, center: 0.5, right: 1 }[d2];
            d2 !== this.alignFactor && (this.alignFactor = d2, this.bBox && H2(this.xSetting) && this.attr({ x: this.xSetting }));
          };
          f2.prototype.anchorXSetter = function(d2, a4) {
            this.anchorX = d2;
            this.boxAttr(a4, Math.round(d2) - this.getCrispAdjust() - this.xSetting);
          };
          f2.prototype.anchorYSetter = function(d2, a4) {
            this.anchorY = d2;
            this.boxAttr(a4, d2 - this.ySetting);
          };
          f2.prototype.boxAttr = function(d2, a4) {
            this.box ? this.box.attr(d2, a4) : this.deferredAttr[d2] = a4;
          };
          f2.prototype.css = function(d2) {
            if (d2) {
              var a4 = {};
              d2 = I2(d2);
              f2.textProps.forEach(function(f3) {
                typeof d2[f3] !== "undefined" && (a4[f3] = d2[f3], delete d2[f3]);
              });
              this.text.css(a4);
              var p2 = "width" in a4;
              "fontSize" in a4 || "fontWeight" in a4 ? this.updateTextPadding() : p2 && this.updateBoxSize();
            }
            return e.prototype.css.call(this, d2);
          };
          f2.prototype.destroy = function() {
            q3(this.element, "mouseenter");
            q3(this.element, "mouseleave");
            this.text && this.text.destroy();
            this.box && (this.box = this.box.destroy());
            e.prototype.destroy.call(this);
          };
          f2.prototype.fillSetter = function(d2, a4) {
            d2 && (this.needsBox = true);
            this.fill = d2;
            this.boxAttr(a4, d2);
          };
          f2.prototype.getBBox = function() {
            this.textStr && this.bBox.width === 0 && this.bBox.height === 0 && this.updateBoxSize();
            var d2 = this.padding, a4 = z2(this.paddingLeft, d2);
            return { width: this.width, height: this.height, x: this.bBox.x - a4, y: this.bBox.y - d2 };
          };
          f2.prototype.getCrispAdjust = function() {
            return this.renderer.styledMode && this.box ? this.box.strokeWidth() % 2 / 2 : (this["stroke-width"] ? parseInt(this["stroke-width"], 10) : 0) % 2 / 2;
          };
          f2.prototype.heightSetter = function(d2) {
            this.heightSetting = d2;
          };
          f2.prototype.onAdd = function() {
            var d2 = this.textStr;
            this.text.add(this);
            this.attr({ text: E3(d2) ? d2 : "", x: this.x, y: this.y });
            this.box && E3(this.anchorX) && this.attr({ anchorX: this.anchorX, anchorY: this.anchorY });
          };
          f2.prototype.paddingSetter = function(d2, a4) {
            H2(d2) ? d2 !== this[a4] && (this[a4] = d2, this.updateTextPadding()) : this[a4] = void 0;
          };
          f2.prototype.rSetter = function(d2, a4) {
            this.boxAttr(a4, d2);
          };
          f2.prototype.shadow = function(d2) {
            d2 && !this.renderer.styledMode && (this.updateBoxSize(), this.box && this.box.shadow(d2));
            return this;
          };
          f2.prototype.strokeSetter = function(d2, a4) {
            this.stroke = d2;
            this.boxAttr(a4, d2);
          };
          f2.prototype["stroke-widthSetter"] = function(d2, a4) {
            d2 && (this.needsBox = true);
            this["stroke-width"] = d2;
            this.boxAttr(a4, d2);
          };
          f2.prototype["text-alignSetter"] = function(d2) {
            this.textAlign = d2;
          };
          f2.prototype.textSetter = function(d2) {
            typeof d2 !== "undefined" && this.text.attr({ text: d2 });
            this.updateTextPadding();
          };
          f2.prototype.updateBoxSize = function() {
            var d2 = this.text.element.style, a4 = {}, p2 = this.padding, k2 = this.bBox = H2(this.widthSetting) && H2(this.heightSetting) && !this.textAlign || !E3(this.text.textStr) ? f2.emptyBBox : this.text.getBBox();
            this.width = this.getPaddedWidth();
            this.height = (this.heightSetting || k2.height || 0) + 2 * p2;
            d2 = this.renderer.fontMetrics(d2 && d2.fontSize, this.text);
            this.baselineOffset = p2 + Math.min((this.text.firstLineMetrics || d2).b, k2.height || Infinity);
            this.heightSetting && (this.baselineOffset += (this.heightSetting - d2.h) / 2);
            this.needsBox && (this.box || (p2 = this.box = this.symbolKey ? this.renderer.symbol(this.symbolKey) : this.renderer.rect(), p2.addClass((this.className === "button" ? "" : "highcharts-label-box") + (this.className ? " highcharts-" + this.className + "-box" : "")), p2.add(this)), p2 = this.getCrispAdjust(), a4.x = p2, a4.y = (this.baseline ? -this.baselineOffset : 0) + p2, a4.width = Math.round(this.width), a4.height = Math.round(this.height), this.box.attr(v(a4, this.deferredAttr)), this.deferredAttr = {});
          };
          f2.prototype.updateTextPadding = function() {
            var d2 = this.text;
            this.updateBoxSize();
            var a4 = this.baseline ? 0 : this.baselineOffset, f3 = z2(this.paddingLeft, this.padding);
            E3(this.widthSetting) && this.bBox && (this.textAlign === "center" || this.textAlign === "right") && (f3 += { center: 0.5, right: 1 }[this.textAlign] * (this.widthSetting - this.bBox.width));
            if (f3 !== d2.x || a4 !== d2.y)
              d2.attr("x", f3), d2.hasBoxWidthChanged && (this.bBox = d2.getBBox(true)), typeof a4 !== "undefined" && d2.attr("y", a4);
            d2.x = f3;
            d2.y = a4;
          };
          f2.prototype.widthSetter = function(d2) {
            this.widthSetting = H2(d2) ? d2 : void 0;
          };
          f2.prototype.getPaddedWidth = function() {
            var d2 = this.padding, a4 = z2(this.paddingLeft, d2);
            d2 = z2(this.paddingRight, d2);
            return (this.widthSetting || this.bBox.width || 0) + a4 + d2;
          };
          f2.prototype.xSetter = function(d2) {
            this.x = d2;
            this.alignFactor && (d2 -= this.alignFactor * this.getPaddedWidth(), this["forceAnimate:x"] = true);
            this.xSetting = Math.round(d2);
            this.attr("translateX", this.xSetting);
          };
          f2.prototype.ySetter = function(d2) {
            this.ySetting = this.y = Math.round(d2);
            this.attr("translateY", this.ySetting);
          };
          f2.emptyBBox = { width: 0, height: 0, x: 0, y: 0 };
          f2.textProps = "color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" ");
          return f2;
        }(e);
      });
      M2(h3, "Core/Renderer/SVG/Symbols.js", [h3["Core/Utilities.js"]], function(e) {
        function h4(e2, q3, l3, f2, d2) {
          var a4 = [];
          if (d2) {
            var p2 = d2.start || 0, k2 = I2(d2.r, l3);
            l3 = I2(d2.r, f2 || l3);
            var F2 = (d2.end || 0) - 1e-3;
            f2 = d2.innerR;
            var B = I2(d2.open, 1e-3 > Math.abs((d2.end || 0) - p2 - 2 * Math.PI)), J2 = Math.cos(p2), K2 = Math.sin(p2), h5 = Math.cos(F2), y2 = Math.sin(F2);
            p2 = I2(d2.longArc, 1e-3 > F2 - p2 - Math.PI ? 0 : 1);
            a4.push(["M", e2 + k2 * J2, q3 + l3 * K2], ["A", k2, l3, 0, p2, I2(d2.clockwise, 1), e2 + k2 * h5, q3 + l3 * y2]);
            v(f2) && a4.push(B ? ["M", e2 + f2 * h5, q3 + f2 * y2] : ["L", e2 + f2 * h5, q3 + f2 * y2], ["A", f2, f2, 0, p2, v(d2.clockwise) ? 1 - d2.clockwise : 0, e2 + f2 * J2, q3 + f2 * K2]);
            B || a4.push(["Z"]);
          }
          return a4;
        }
        function A(e2, q3, l3, f2, d2) {
          return d2 && d2.r ? E3(e2, q3, l3, f2, d2) : [["M", e2, q3], ["L", e2 + l3, q3], ["L", e2 + l3, q3 + f2], ["L", e2, q3 + f2], ["Z"]];
        }
        function E3(e2, q3, l3, f2, d2) {
          d2 = d2 && d2.r || 0;
          return [["M", e2 + d2, q3], ["L", e2 + l3 - d2, q3], ["C", e2 + l3, q3, e2 + l3, q3, e2 + l3, q3 + d2], ["L", e2 + l3, q3 + f2 - d2], ["C", e2 + l3, q3 + f2, e2 + l3, q3 + f2, e2 + l3 - d2, q3 + f2], ["L", e2 + d2, q3 + f2], ["C", e2, q3 + f2, e2, q3 + f2, e2, q3 + f2 - d2], ["L", e2, q3 + d2], ["C", e2, q3, e2, q3, e2 + d2, q3]];
        }
        var v = e.defined, H2 = e.isNumber, I2 = e.pick;
        return { arc: h4, callout: function(e2, q3, l3, f2, d2) {
          var a4 = Math.min(d2 && d2.r || 0, l3, f2), p2 = a4 + 6, k2 = d2 && d2.anchorX;
          d2 = d2 && d2.anchorY || 0;
          var F2 = E3(e2, q3, l3, f2, { r: a4 });
          if (!H2(k2))
            return F2;
          e2 + k2 >= l3 ? d2 > q3 + p2 && d2 < q3 + f2 - p2 ? F2.splice(3, 1, ["L", e2 + l3, d2 - 6], ["L", e2 + l3 + 6, d2], ["L", e2 + l3, d2 + 6], ["L", e2 + l3, q3 + f2 - a4]) : F2.splice(3, 1, ["L", e2 + l3, f2 / 2], ["L", k2, d2], ["L", e2 + l3, f2 / 2], ["L", e2 + l3, q3 + f2 - a4]) : 0 >= e2 + k2 ? d2 > q3 + p2 && d2 < q3 + f2 - p2 ? F2.splice(7, 1, ["L", e2, d2 + 6], ["L", e2 - 6, d2], ["L", e2, d2 - 6], ["L", e2, q3 + a4]) : F2.splice(7, 1, ["L", e2, f2 / 2], ["L", k2, d2], ["L", e2, f2 / 2], ["L", e2, q3 + a4]) : d2 && d2 > f2 && k2 > e2 + p2 && k2 < e2 + l3 - p2 ? F2.splice(5, 1, ["L", k2 + 6, q3 + f2], ["L", k2, q3 + f2 + 6], ["L", k2 - 6, q3 + f2], ["L", e2 + a4, q3 + f2]) : d2 && 0 > d2 && k2 > e2 + p2 && k2 < e2 + l3 - p2 && F2.splice(1, 1, ["L", k2 - 6, q3], ["L", k2, q3 - 6], ["L", k2 + 6, q3], ["L", l3 - a4, q3]);
          return F2;
        }, circle: function(e2, q3, l3, f2) {
          return h4(e2 + l3 / 2, q3 + f2 / 2, l3 / 2, f2 / 2, { start: 0.5 * Math.PI, end: 2.5 * Math.PI, open: false });
        }, diamond: function(e2, q3, l3, f2) {
          return [["M", e2 + l3 / 2, q3], ["L", e2 + l3, q3 + f2 / 2], ["L", e2 + l3 / 2, q3 + f2], ["L", e2, q3 + f2 / 2], ["Z"]];
        }, rect: A, roundedRect: E3, square: A, triangle: function(e2, q3, l3, f2) {
          return [["M", e2 + l3 / 2, q3], ["L", e2 + l3, q3 + f2], ["L", e2, q3 + f2], ["Z"]];
        }, "triangle-down": function(e2, q3, l3, f2) {
          return [["M", e2, q3], ["L", e2 + l3, q3], ["L", e2 + l3 / 2, q3 + f2], ["Z"]];
        } };
      });
      M2(h3, "Core/Renderer/SVG/TextBuilder.js", [h3["Core/Renderer/HTML/AST.js"], h3["Core/Globals.js"], h3["Core/Utilities.js"]], function(e, h4, A) {
        var D3 = h4.doc, v = h4.SVG_NS, H2 = h4.win, I2 = A.attr, z2 = A.isString, q3 = A.objectEach, l3 = A.pick;
        return function() {
          function f2(d2) {
            var a4 = d2.styles;
            this.renderer = d2.renderer;
            this.svgElement = d2;
            this.width = d2.textWidth;
            this.textLineHeight = a4 && a4.lineHeight;
            this.textOutline = a4 && a4.textOutline;
            this.ellipsis = !(!a4 || a4.textOverflow !== "ellipsis");
            this.noWrap = !(!a4 || a4.whiteSpace !== "nowrap");
            this.fontSize = a4 && a4.fontSize;
          }
          f2.prototype.buildSVG = function() {
            var d2 = this.svgElement, a4 = d2.element, f3 = d2.renderer, k2 = l3(d2.textStr, "").toString(), F2 = k2.indexOf("<") !== -1, B = a4.childNodes;
            f3 = this.width && !d2.added && f3.box;
            var J2 = /<br.*?>/g, K2 = [k2, this.ellipsis, this.noWrap, this.textLineHeight, this.textOutline, this.fontSize, this.width].join();
            if (K2 !== d2.textCache) {
              d2.textCache = K2;
              delete d2.actualWidth;
              for (K2 = B.length; K2--; )
                a4.removeChild(B[K2]);
              F2 || this.ellipsis || this.width || k2.indexOf(" ") !== -1 && (!this.noWrap || J2.test(k2)) ? k2 !== "" && (f3 && f3.appendChild(a4), k2 = new e(k2), this.modifyTree(k2.nodes), k2.addToDOM(d2.element), this.modifyDOM(), this.ellipsis && (a4.textContent || "").indexOf("\u2026") !== -1 && d2.attr("title", this.unescapeEntities(d2.textStr || "", ["&lt;", "&gt;"])), f3 && f3.removeChild(a4)) : a4.appendChild(D3.createTextNode(this.unescapeEntities(k2)));
              z2(this.textOutline) && d2.applyTextOutline && d2.applyTextOutline(this.textOutline);
            }
          };
          f2.prototype.modifyDOM = function() {
            var d2 = this, a4 = this.svgElement, f3 = I2(a4.element, "x");
            a4.firstLineMetrics = void 0;
            for (var k2; k2 = a4.element.firstChild; )
              if (/^[\s\u200B]*$/.test(k2.textContent || " "))
                a4.element.removeChild(k2);
              else
                break;
            [].forEach.call(a4.element.querySelectorAll("tspan.highcharts-br"), function(k3, p2) {
              k3.nextSibling && k3.previousSibling && (p2 === 0 && k3.previousSibling.nodeType === 1 && (a4.firstLineMetrics = a4.renderer.fontMetrics(void 0, k3.previousSibling)), I2(k3, { dy: d2.getLineHeight(k3.nextSibling), x: f3 }));
            });
            var e2 = this.width || 0;
            if (e2) {
              var B = function(k3, p2) {
                var y2 = k3.textContent || "", C2 = y2.replace(/([^\^])-/g, "$1- ").split(" "), x3 = !d2.noWrap && (1 < C2.length || 1 < a4.element.childNodes.length), c3 = d2.getLineHeight(p2), t2 = 0, g2 = a4.actualWidth;
                if (d2.ellipsis)
                  y2 && d2.truncate(k3, y2, void 0, 0, Math.max(0, e2 - parseInt(d2.fontSize || 12, 10)), function(c4, g3) {
                    return c4.substring(0, g3) + "\u2026";
                  });
                else if (x3) {
                  y2 = [];
                  for (x3 = []; p2.firstChild && p2.firstChild !== k3; )
                    x3.push(p2.firstChild), p2.removeChild(p2.firstChild);
                  for (; C2.length; )
                    C2.length && !d2.noWrap && 0 < t2 && (y2.push(k3.textContent || ""), k3.textContent = C2.join(" ").replace(/- /g, "-")), d2.truncate(k3, void 0, C2, t2 === 0 ? g2 || 0 : 0, e2, function(c4, g3) {
                      return C2.slice(0, g3).join(" ").replace(/- /g, "-");
                    }), g2 = a4.actualWidth, t2++;
                  x3.forEach(function(c4) {
                    p2.insertBefore(c4, k3);
                  });
                  y2.forEach(function(g3) {
                    p2.insertBefore(D3.createTextNode(g3), k3);
                    g3 = D3.createElementNS(v, "tspan");
                    g3.textContent = "\u200B";
                    I2(g3, { dy: c3, x: f3 });
                    p2.insertBefore(g3, k3);
                  });
                }
              }, l4 = function(d3) {
                [].slice.call(d3.childNodes).forEach(function(f4) {
                  f4.nodeType === H2.Node.TEXT_NODE ? B(f4, d3) : (f4.className.baseVal.indexOf("highcharts-br") !== -1 && (a4.actualWidth = 0), l4(f4));
                });
              };
              l4(a4.element);
            }
          };
          f2.prototype.getLineHeight = function(d2) {
            var a4;
            d2 = d2.nodeType === H2.Node.TEXT_NODE ? d2.parentElement : d2;
            this.renderer.styledMode || (a4 = d2 && /(px|em)$/.test(d2.style.fontSize) ? d2.style.fontSize : this.fontSize || this.renderer.style.fontSize || 12);
            return this.textLineHeight ? parseInt(this.textLineHeight.toString(), 10) : this.renderer.fontMetrics(a4, d2 || this.svgElement.element).h;
          };
          f2.prototype.modifyTree = function(d2) {
            var a4 = this, f3 = function(k2, p2) {
              var B = k2.tagName, e2 = a4.renderer.styledMode, l4 = k2.attributes || {};
              if (B === "b" || B === "strong")
                e2 ? l4["class"] = "highcharts-strong" : l4.style = "font-weight:bold;" + (l4.style || "");
              else if (B === "i" || B === "em")
                e2 ? l4["class"] = "highcharts-emphasized" : l4.style = "font-style:italic;" + (l4.style || "");
              z2(l4.style) && (l4.style = l4.style.replace(/(;| |^)color([ :])/, "$1fill$2"));
              B === "br" && (l4["class"] = "highcharts-br", k2.textContent = "\u200B", (p2 = d2[p2 + 1]) && p2.textContent && (p2.textContent = p2.textContent.replace(/^ +/gm, "")));
              B !== "#text" && B !== "a" && (k2.tagName = "tspan");
              k2.attributes = l4;
              k2.children && k2.children.filter(function(a5) {
                return a5.tagName !== "#text";
              }).forEach(f3);
            };
            d2.forEach(f3);
          };
          f2.prototype.truncate = function(d2, a4, f3, k2, l4, B) {
            var p2 = this.svgElement, e2 = p2.renderer, F2 = p2.rotation, y2 = [], C2 = f3 ? 1 : 0, x3 = (a4 || f3 || "").length, c3 = x3, t2, g2 = function(c4, b3) {
              b3 = b3 || c4;
              var g3 = d2.parentNode;
              if (g3 && typeof y2[b3] === "undefined")
                if (g3.getSubStringLength)
                  try {
                    y2[b3] = k2 + g3.getSubStringLength(0, f3 ? b3 + 1 : b3);
                  } catch (G2) {
                    "";
                  }
                else
                  e2.getSpanWidth && (d2.textContent = B(a4 || f3, c4), y2[b3] = k2 + e2.getSpanWidth(p2, d2));
              return y2[b3];
            };
            p2.rotation = 0;
            var u4 = g2(d2.textContent.length);
            if (k2 + u4 > l4) {
              for (; C2 <= x3; )
                c3 = Math.ceil((C2 + x3) / 2), f3 && (t2 = B(f3, c3)), u4 = g2(c3, t2 && t2.length - 1), C2 === x3 ? C2 = x3 + 1 : u4 > l4 ? x3 = c3 - 1 : C2 = c3;
              x3 === 0 ? d2.textContent = "" : a4 && x3 === a4.length - 1 || (d2.textContent = t2 || B(a4 || f3, c3));
            }
            f3 && f3.splice(0, c3);
            p2.actualWidth = u4;
            p2.rotation = F2;
          };
          f2.prototype.unescapeEntities = function(d2, a4) {
            q3(this.renderer.escapes, function(f3, k2) {
              a4 && a4.indexOf(f3) !== -1 || (d2 = d2.toString().replace(new RegExp(f3, "g"), k2));
            });
            return d2;
          };
          return f2;
        }();
      });
      M2(h3, "Core/Renderer/SVG/SVGRenderer.js", [h3["Core/Renderer/HTML/AST.js"], h3["Core/Color/Color.js"], h3["Core/Globals.js"], h3["Core/Renderer/RendererRegistry.js"], h3["Core/Renderer/SVG/SVGElement.js"], h3["Core/Renderer/SVG/SVGLabel.js"], h3["Core/Renderer/SVG/Symbols.js"], h3["Core/Renderer/SVG/TextBuilder.js"], h3["Core/Utilities.js"]], function(e, h4, A, E3, v, H2, I2, z2, q3) {
        var l3 = A.charts, f2 = A.deg2rad, d2 = A.doc, a4 = A.isFirefox, p2 = A.isMS, k2 = A.isWebKit, F2 = A.noop, B = A.SVG_NS, J2 = A.symbolSizes, K2 = A.win, L3 = q3.addEvent, y2 = q3.attr, C2 = q3.createElement, x3 = q3.css, c3 = q3.defined, t2 = q3.destroyObjectProperties, g2 = q3.extend, u4 = q3.isArray, n2 = q3.isNumber, b3 = q3.isObject, r3 = q3.isString, G2 = q3.merge, m2 = q3.pick, w2 = q3.pInt, N3 = q3.uniqueKey, X;
        A = function() {
          function P2(b4, c4, g3, m3, n3, a5, r4) {
            this.width = this.url = this.style = this.isSVG = this.imgCount = this.height = this.gradients = this.globalAnimation = this.defs = this.chartIndex = this.cacheKeys = this.cache = this.boxWrapper = this.box = this.alignedObjects = void 0;
            this.init(b4, c4, g3, m3, n3, a5, r4);
          }
          P2.prototype.init = function(b4, c4, g3, m3, n3, r4, u5) {
            var O3 = this.createElement("svg").attr({ version: "1.1", "class": "highcharts-root" }), w3 = O3.element;
            u5 || O3.css(this.getStyle(m3));
            b4.appendChild(w3);
            y2(b4, "dir", "ltr");
            b4.innerHTML.indexOf("xmlns") === -1 && y2(w3, "xmlns", this.SVG_NS);
            this.isSVG = true;
            this.box = w3;
            this.boxWrapper = O3;
            this.alignedObjects = [];
            this.url = this.getReferenceURL();
            this.createElement("desc").add().element.appendChild(d2.createTextNode("Created with Highcharts 9.3.0"));
            this.defs = this.createElement("defs").add();
            this.allowHTML = r4;
            this.forExport = n3;
            this.styledMode = u5;
            this.gradients = {};
            this.cache = {};
            this.cacheKeys = [];
            this.imgCount = 0;
            this.setSize(c4, g3, false);
            var P3;
            a4 && b4.getBoundingClientRect && (c4 = function() {
              x3(b4, { left: 0, top: 0 });
              P3 = b4.getBoundingClientRect();
              x3(b4, { left: Math.ceil(P3.left) - P3.left + "px", top: Math.ceil(P3.top) - P3.top + "px" });
            }, c4(), this.unSubPixelFix = L3(K2, "resize", c4));
          };
          P2.prototype.definition = function(b4) {
            return new e([b4]).addToDOM(this.defs.element);
          };
          P2.prototype.getReferenceURL = function() {
            if ((a4 || k2) && d2.getElementsByTagName("base").length) {
              if (!c3(X)) {
                var b4 = N3();
                b4 = new e([{
                  tagName: "svg",
                  attributes: { width: 8, height: 8 },
                  children: [{ tagName: "defs", children: [{ tagName: "clipPath", attributes: { id: b4 }, children: [{ tagName: "rect", attributes: { width: 4, height: 4 } }] }] }, { tagName: "rect", attributes: { id: "hitme", width: 8, height: 8, "clip-path": "url(#" + b4 + ")", fill: "rgba(0,0,0,0.001)" } }]
                }]).addToDOM(d2.body);
                x3(b4, { position: "fixed", top: 0, left: 0, zIndex: 9e5 });
                var g3 = d2.elementFromPoint(6, 6);
                X = (g3 && g3.id) === "hitme";
                d2.body.removeChild(b4);
              }
              if (X)
                return K2.location.href.split("#")[0].replace(/<[^>]*>/g, "").replace(/([\('\)])/g, "\\$1").replace(/ /g, "%20");
            }
            return "";
          };
          P2.prototype.getStyle = function(b4) {
            return this.style = g2({ fontFamily: '"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif', fontSize: "12px" }, b4);
          };
          P2.prototype.setStyle = function(b4) {
            this.boxWrapper.css(this.getStyle(b4));
          };
          P2.prototype.isHidden = function() {
            return !this.boxWrapper.getBBox().width;
          };
          P2.prototype.destroy = function() {
            var b4 = this.defs;
            this.box = null;
            this.boxWrapper = this.boxWrapper.destroy();
            t2(this.gradients || {});
            this.gradients = null;
            b4 && (this.defs = b4.destroy());
            this.unSubPixelFix && this.unSubPixelFix();
            return this.alignedObjects = null;
          };
          P2.prototype.createElement = function(b4) {
            var c4 = new this.Element();
            c4.init(this, b4);
            return c4;
          };
          P2.prototype.getRadialAttr = function(b4, c4) {
            return { cx: b4[0] - b4[2] / 2 + (c4.cx || 0) * b4[2], cy: b4[1] - b4[2] / 2 + (c4.cy || 0) * b4[2], r: (c4.r || 0) * b4[2] };
          };
          P2.prototype.buildText = function(b4) {
            new z2(b4).buildSVG();
          };
          P2.prototype.getContrast = function(b4) {
            b4 = h4.parse(b4).rgba;
            b4[0] *= 1;
            b4[1] *= 1.2;
            b4[2] *= 0.5;
            return 459 < b4[0] + b4[1] + b4[2] ? "#000000" : "#FFFFFF";
          };
          P2.prototype.button = function(b4, c4, m3, n3, a5, r4, u5, d3, w3, P3) {
            var t3 = this.label(b4, c4, m3, w3, void 0, void 0, P3, void 0, "button"), x4 = this.styledMode, O3 = 0, f3 = a5 ? G2(a5) : {};
            b4 = f3 && f3.style || {};
            f3 = e.filterUserAttributes(f3);
            t3.attr(G2({ padding: 8, r: 2 }, f3));
            if (!x4) {
              f3 = G2({ fill: "#f7f7f7", stroke: "#cccccc", "stroke-width": 1, style: { color: "#333333", cursor: "pointer", fontWeight: "normal" } }, { style: b4 }, f3);
              var Q2 = f3.style;
              delete f3.style;
              r4 = G2(f3, { fill: "#e6e6e6" }, e.filterUserAttributes(r4 || {}));
              var C3 = r4.style;
              delete r4.style;
              u5 = G2(f3, { fill: "#e6ebf5", style: { color: "#000000", fontWeight: "bold" } }, e.filterUserAttributes(u5 || {}));
              var k3 = u5.style;
              delete u5.style;
              d3 = G2(f3, { style: { color: "#cccccc" } }, e.filterUserAttributes(d3 || {}));
              var W2 = d3.style;
              delete d3.style;
            }
            L3(t3.element, p2 ? "mouseover" : "mouseenter", function() {
              O3 !== 3 && t3.setState(1);
            });
            L3(t3.element, p2 ? "mouseout" : "mouseleave", function() {
              O3 !== 3 && t3.setState(O3);
            });
            t3.setState = function(b5) {
              b5 !== 1 && (t3.state = O3 = b5);
              t3.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-" + ["normal", "hover", "pressed", "disabled"][b5 || 0]);
              x4 || t3.attr([f3, r4, u5, d3][b5 || 0]).css([Q2, C3, k3, W2][b5 || 0]);
            };
            x4 || t3.attr(f3).css(g2({ cursor: "default" }, Q2));
            return t3.on("touchstart", function(b5) {
              return b5.stopPropagation();
            }).on("click", function(b5) {
              O3 !== 3 && n3.call(t3, b5);
            });
          };
          P2.prototype.crispLine = function(b4, g3, m3) {
            m3 === void 0 && (m3 = "round");
            var n3 = b4[0], r4 = b4[1];
            c3(n3[1]) && n3[1] === r4[1] && (n3[1] = r4[1] = Math[m3](n3[1]) - g3 % 2 / 2);
            c3(n3[2]) && n3[2] === r4[2] && (n3[2] = r4[2] = Math[m3](n3[2]) + g3 % 2 / 2);
            return b4;
          };
          P2.prototype.path = function(c4) {
            var m3 = this.styledMode ? {} : { fill: "none" };
            u4(c4) ? m3.d = c4 : b3(c4) && g2(m3, c4);
            return this.createElement("path").attr(m3);
          };
          P2.prototype.circle = function(c4, g3, m3) {
            c4 = b3(c4) ? c4 : typeof c4 === "undefined" ? {} : { x: c4, y: g3, r: m3 };
            g3 = this.createElement("circle");
            g3.xSetter = g3.ySetter = function(b4, c5, g4) {
              g4.setAttribute("c" + c5, b4);
            };
            return g3.attr(c4);
          };
          P2.prototype.arc = function(c4, g3, m3, n3, r4, a5) {
            b3(c4) ? (n3 = c4, g3 = n3.y, m3 = n3.r, c4 = n3.x) : n3 = { innerR: n3, start: r4, end: a5 };
            c4 = this.symbol("arc", c4, g3, m3, m3, n3);
            c4.r = m3;
            return c4;
          };
          P2.prototype.rect = function(c4, g3, m3, n3, r4, a5) {
            r4 = b3(c4) ? c4.r : r4;
            var u5 = this.createElement("rect");
            c4 = b3(c4) ? c4 : typeof c4 === "undefined" ? {} : { x: c4, y: g3, width: Math.max(m3, 0), height: Math.max(n3, 0) };
            this.styledMode || (typeof a5 !== "undefined" && (c4["stroke-width"] = a5, c4 = u5.crisp(c4)), c4.fill = "none");
            r4 && (c4.r = r4);
            u5.rSetter = function(b4, c5, g4) {
              u5.r = b4;
              y2(g4, { rx: b4, ry: b4 });
            };
            u5.rGetter = function() {
              return u5.r || 0;
            };
            return u5.attr(c4);
          };
          P2.prototype.setSize = function(b4, c4, g3) {
            this.width = b4;
            this.height = c4;
            this.boxWrapper.animate({ width: b4, height: c4 }, { step: function() {
              this.attr({ viewBox: "0 0 " + this.attr("width") + " " + this.attr("height") });
            }, duration: m2(g3, true) ? void 0 : 0 });
            this.alignElements();
          };
          P2.prototype.g = function(b4) {
            var c4 = this.createElement("g");
            return b4 ? c4.attr({ "class": "highcharts-" + b4 }) : c4;
          };
          P2.prototype.image = function(b4, c4, g3, m3, r4, a5) {
            var u5 = { preserveAspectRatio: "none" }, d3 = function(b5, c5) {
              b5.setAttributeNS ? b5.setAttributeNS("http://www.w3.org/1999/xlink", "href", c5) : b5.setAttribute("hc-svg-href", c5);
            };
            n2(c4) && (u5.x = c4);
            n2(g3) && (u5.y = g3);
            n2(m3) && (u5.width = m3);
            n2(r4) && (u5.height = r4);
            var w3 = this.createElement("image").attr(u5);
            c4 = function(c5) {
              d3(w3.element, b4);
              a5.call(w3, c5);
            };
            a5 ? (d3(w3.element, "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="), g3 = new K2.Image(), L3(g3, "load", c4), g3.src = b4, g3.complete && c4({})) : d3(w3.element, b4);
            return w3;
          };
          P2.prototype.symbol = function(b4, n3, r4, a5, u5, w3) {
            var t3 = this, P3 = /^url\((.*?)\)$/, G3 = P3.test(b4), f3 = !G3 && (this.symbols[b4] ? b4 : "circle"), O3 = f3 && this.symbols[f3], Q2;
            if (O3) {
              typeof n3 === "number" && (Q2 = O3.call(this.symbols, Math.round(n3 || 0), Math.round(r4 || 0), a5 || 0, u5 || 0, w3));
              var k3 = this.path(Q2);
              t3.styledMode || k3.attr("fill", "none");
              g2(k3, { symbolName: f3 || void 0, x: n3, y: r4, width: a5, height: u5 });
              w3 && g2(k3, w3);
            } else if (G3) {
              var p3 = b4.match(P3)[1];
              var y3 = k3 = this.image(p3);
              y3.imgwidth = m2(J2[p3] && J2[p3].width, w3 && w3.width);
              y3.imgheight = m2(J2[p3] && J2[p3].height, w3 && w3.height);
              var e2 = function(b5) {
                return b5.attr({ width: b5.width, height: b5.height });
              };
              ["width", "height"].forEach(function(b5) {
                y3[b5 + "Setter"] = function(b6, g3) {
                  var m3 = this["img" + g3];
                  this[g3] = b6;
                  c3(m3) && (w3 && w3.backgroundSize === "within" && this.width && this.height && (m3 = Math.round(m3 * Math.min(this.width / this.imgwidth, this.height / this.imgheight))), this.element && this.element.setAttribute(g3, m3), this.alignByTranslate || (b6 = ((this[g3] || 0) - m3) / 2, this.attr(g3 === "width" ? { translateX: b6 } : { translateY: b6 })));
                };
              });
              c3(n3) && y3.attr({ x: n3, y: r4 });
              y3.isImg = true;
              c3(y3.imgwidth) && c3(y3.imgheight) ? e2(y3) : (y3.attr({ width: 0, height: 0 }), C2("img", { onload: function() {
                var b5 = l3[t3.chartIndex];
                this.width === 0 && (x3(this, { position: "absolute", top: "-999em" }), d2.body.appendChild(this));
                J2[p3] = { width: this.width, height: this.height };
                y3.imgwidth = this.width;
                y3.imgheight = this.height;
                y3.element && e2(y3);
                this.parentNode && this.parentNode.removeChild(this);
                t3.imgCount--;
                if (!t3.imgCount && b5 && !b5.hasLoaded)
                  b5.onload();
              }, src: p3 }), this.imgCount++);
            }
            return k3;
          };
          P2.prototype.clipRect = function(b4, c4, g3, m3) {
            var n3 = N3() + "-", r4 = this.createElement("clipPath").attr({ id: n3 }).add(this.defs);
            b4 = this.rect(b4, c4, g3, m3, 0).add(r4);
            b4.id = n3;
            b4.clipPath = r4;
            b4.count = 0;
            return b4;
          };
          P2.prototype.text = function(b4, g3, m3, n3) {
            var r4 = {};
            if (n3 && (this.allowHTML || !this.forExport))
              return this.html(b4, g3, m3);
            r4.x = Math.round(g3 || 0);
            m3 && (r4.y = Math.round(m3));
            c3(b4) && (r4.text = b4);
            b4 = this.createElement("text").attr(r4);
            if (!n3 || this.forExport && !this.allowHTML)
              b4.xSetter = function(b5, c4, g4) {
                for (var m4 = g4.getElementsByTagName("tspan"), n4 = g4.getAttribute(c4), r5 = 0, a5; r5 < m4.length; r5++)
                  a5 = m4[r5], a5.getAttribute(c4) === n4 && a5.setAttribute(c4, b5);
                g4.setAttribute(c4, b5);
              };
            return b4;
          };
          P2.prototype.fontMetrics = function(b4, c4) {
            b4 = !this.styledMode && /px/.test(b4) || !K2.getComputedStyle ? b4 || c4 && c4.style && c4.style.fontSize || this.style && this.style.fontSize : c4 && v.prototype.getStyle.call(c4, "font-size");
            b4 = /px/.test(b4) ? w2(b4) : 12;
            c4 = 24 > b4 ? b4 + 3 : Math.round(1.2 * b4);
            return { h: c4, b: Math.round(0.8 * c4), f: b4 };
          };
          P2.prototype.rotCorr = function(b4, c4, g3) {
            var m3 = b4;
            c4 && g3 && (m3 = Math.max(m3 * Math.cos(c4 * f2), 4));
            return { x: -b4 / 3 * Math.sin(c4 * f2), y: m3 };
          };
          P2.prototype.pathToSegments = function(b4) {
            for (var c4 = [], g3 = [], m3 = { A: 8, C: 7, H: 2, L: 3, M: 3, Q: 5, S: 5, T: 3, V: 2 }, a5 = 0; a5 < b4.length; a5++)
              r3(g3[0]) && n2(b4[a5]) && g3.length === m3[g3[0].toUpperCase()] && b4.splice(a5, 0, g3[0].replace("M", "L").replace("m", "l")), typeof b4[a5] === "string" && (g3.length && c4.push(g3.slice(0)), g3.length = 0), g3.push(b4[a5]);
            c4.push(g3.slice(0));
            return c4;
          };
          P2.prototype.label = function(b4, c4, g3, m3, n3, r4, a5, u5, d3) {
            return new H2(this, b4, c4, g3, m3, n3, r4, a5, u5, d3);
          };
          P2.prototype.alignElements = function() {
            this.alignedObjects.forEach(function(b4) {
              return b4.align();
            });
          };
          return P2;
        }();
        g2(A.prototype, {
          Element: v,
          SVG_NS: B,
          escapes: { "&": "&amp;", "<": "&lt;", ">": "&gt;", "'": "&#39;", '"': "&quot;" },
          symbols: I2,
          draw: F2
        });
        E3.registerRendererType("svg", A, true);
        "";
        return A;
      });
      M2(h3, "Core/Renderer/HTML/HTMLElement.js", [h3["Core/Globals.js"], h3["Core/Renderer/SVG/SVGElement.js"], h3["Core/Utilities.js"]], function(e, h4, A) {
        var D3 = this && this.__extends || function() {
          var a5 = function(d3, f3) {
            a5 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(a6, d4) {
              a6.__proto__ = d4;
            } || function(a6, d4) {
              for (var f4 in d4)
                d4.hasOwnProperty(f4) && (a6[f4] = d4[f4]);
            };
            return a5(d3, f3);
          };
          return function(d3, f3) {
            function k2() {
              this.constructor = d3;
            }
            a5(d3, f3);
            d3.prototype = f3 === null ? Object.create(f3) : (k2.prototype = f3.prototype, new k2());
          };
        }(), v = e.isFirefox, H2 = e.isMS, I2 = e.isWebKit, z2 = e.win, q3 = A.css, l3 = A.defined, f2 = A.extend, d2 = A.pick, a4 = A.pInt;
        return function(p2) {
          function k2() {
            return p2 !== null && p2.apply(this, arguments) || this;
          }
          D3(k2, p2);
          k2.compose = function(a5) {
            if (k2.composedClasses.indexOf(a5) === -1) {
              k2.composedClasses.push(a5);
              var d3 = k2.prototype, f3 = a5.prototype;
              f3.getSpanCorrection = d3.getSpanCorrection;
              f3.htmlCss = d3.htmlCss;
              f3.htmlGetBBox = d3.htmlGetBBox;
              f3.htmlUpdateTransform = d3.htmlUpdateTransform;
              f3.setSpanRotation = d3.setSpanRotation;
            }
            return a5;
          };
          k2.prototype.getSpanCorrection = function(a5, d3, f3) {
            this.xCorr = -a5 * f3;
            this.yCorr = -d3;
          };
          k2.prototype.htmlCss = function(a5) {
            var k3 = this.element.tagName === "SPAN" && a5 && "width" in a5, p3 = d2(k3 && a5.width, void 0);
            if (k3) {
              delete a5.width;
              this.textWidth = p3;
              var l4 = true;
            }
            a5 && a5.textOverflow === "ellipsis" && (a5.whiteSpace = "nowrap", a5.overflow = "hidden");
            this.styles = f2(this.styles, a5);
            q3(this.element, a5);
            l4 && this.htmlUpdateTransform();
            return this;
          };
          k2.prototype.htmlGetBBox = function() {
            var a5 = this.element;
            return { x: a5.offsetLeft, y: a5.offsetTop, width: a5.offsetWidth, height: a5.offsetHeight };
          };
          k2.prototype.htmlUpdateTransform = function() {
            if (this.added) {
              var d3 = this.renderer, f3 = this.element, k3 = this.translateX || 0, p3 = this.translateY || 0, e2 = this.x || 0, y2 = this.y || 0, C2 = this.textAlign || "left", x3 = { left: 0, center: 0.5, right: 1 }[C2], c3 = this.styles;
              c3 = c3 && c3.whiteSpace;
              q3(f3, { marginLeft: k3, marginTop: p3 });
              !d3.styledMode && this.shadows && this.shadows.forEach(function(b4) {
                q3(b4, { marginLeft: k3 + 1, marginTop: p3 + 1 });
              });
              this.inverted && [].forEach.call(f3.childNodes, function(b4) {
                d3.invertChild(b4, f3);
              });
              if (f3.tagName === "SPAN") {
                var t2 = this.rotation, g2 = this.textWidth && a4(this.textWidth), u4 = [t2, C2, f3.innerHTML, this.textWidth, this.textAlign].join(), n2 = void 0;
                n2 = false;
                if (g2 !== this.oldTextWidth) {
                  if (this.textPxLength)
                    var b3 = this.textPxLength;
                  else
                    q3(f3, { width: "", whiteSpace: c3 || "nowrap" }), b3 = f3.offsetWidth;
                  (g2 > this.oldTextWidth || b3 > g2) && (/[ \-]/.test(f3.textContent || f3.innerText) || f3.style.textOverflow === "ellipsis") && (q3(f3, { width: b3 > g2 || t2 ? g2 + "px" : "auto", display: "block", whiteSpace: c3 || "normal" }), this.oldTextWidth = g2, n2 = true);
                }
                this.hasBoxWidthChanged = n2;
                u4 !== this.cTT && (n2 = d3.fontMetrics(f3.style.fontSize, f3).b, !l3(t2) || t2 === (this.oldRotation || 0) && C2 === this.oldAlign || this.setSpanRotation(t2, x3, n2), this.getSpanCorrection(!l3(t2) && this.textPxLength || f3.offsetWidth, n2, x3, t2, C2));
                q3(f3, { left: e2 + (this.xCorr || 0) + "px", top: y2 + (this.yCorr || 0) + "px" });
                this.cTT = u4;
                this.oldRotation = t2;
                this.oldAlign = C2;
              }
            } else
              this.alignOnAdd = true;
          };
          k2.prototype.setSpanRotation = function(a5, d3, f3) {
            var k3 = {}, p3 = H2 && !/Edge/.test(z2.navigator.userAgent) ? "-ms-transform" : I2 ? "-webkit-transform" : v ? "MozTransform" : z2.opera ? "-o-transform" : void 0;
            p3 && (k3[p3] = k3.transform = "rotate(" + a5 + "deg)", k3[p3 + (v ? "Origin" : "-origin")] = k3.transformOrigin = 100 * d3 + "% " + f3 + "px", q3(this.element, k3));
          };
          k2.composedClasses = [];
          return k2;
        }(h4);
      });
      M2(h3, "Core/Renderer/HTML/HTMLRenderer.js", [h3["Core/Renderer/HTML/AST.js"], h3["Core/Renderer/SVG/SVGElement.js"], h3["Core/Renderer/SVG/SVGRenderer.js"], h3["Core/Utilities.js"]], function(e, h4, A, E3) {
        var v = this && this.__extends || function() {
          var l3 = function(f2, d2) {
            l3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(a4, d3) {
              a4.__proto__ = d3;
            } || function(a4, d3) {
              for (var f3 in d3)
                d3.hasOwnProperty(f3) && (a4[f3] = d3[f3]);
            };
            return l3(f2, d2);
          };
          return function(f2, d2) {
            function a4() {
              this.constructor = f2;
            }
            l3(f2, d2);
            f2.prototype = d2 === null ? Object.create(d2) : (a4.prototype = d2.prototype, new a4());
          };
        }(), D3 = E3.attr, I2 = E3.createElement, z2 = E3.extend, q3 = E3.pick;
        return function(l3) {
          function f2() {
            return l3 !== null && l3.apply(this, arguments) || this;
          }
          v(f2, l3);
          f2.compose = function(d2) {
            f2.composedClasses.indexOf(d2) === -1 && (f2.composedClasses.push(d2), d2.prototype.html = f2.prototype.html);
            return d2;
          };
          f2.prototype.html = function(d2, a4, f3) {
            var k2 = this.createElement("span"), p2 = k2.element, l4 = k2.renderer, J2 = l4.isSVG, K2 = function(a5, d3) {
              ["opacity", "visibility"].forEach(function(f4) {
                a5[f4 + "Setter"] = function(x3, c3, t2) {
                  var g2 = a5.div ? a5.div.style : d3;
                  h4.prototype[f4 + "Setter"].call(this, x3, c3, t2);
                  g2 && (g2[c3] = x3);
                };
              });
              a5.addedSetters = true;
            };
            k2.textSetter = function(a5) {
              a5 !== this.textStr && (delete this.bBox, delete this.oldTextWidth, e.setElementHTML(this.element, q3(a5, "")), this.textStr = a5, k2.doTransform = true);
            };
            J2 && K2(k2, k2.element.style);
            k2.xSetter = k2.ySetter = k2.alignSetter = k2.rotationSetter = function(a5, d3) {
              d3 === "align" ? k2.alignValue = k2.textAlign = a5 : k2[d3] = a5;
              k2.doTransform = true;
            };
            k2.afterSetters = function() {
              this.doTransform && (this.htmlUpdateTransform(), this.doTransform = false);
            };
            k2.attr({ text: d2, x: Math.round(a4), y: Math.round(f3) }).css({ position: "absolute" });
            l4.styledMode || k2.css({ fontFamily: this.style.fontFamily, fontSize: this.style.fontSize });
            p2.style.whiteSpace = "nowrap";
            k2.css = k2.htmlCss;
            J2 && (k2.add = function(a5) {
              var d3 = l4.box.parentNode, f4 = [];
              if (this.parentGroup = a5) {
                var x3 = a5.div;
                if (!x3) {
                  for (; a5; )
                    f4.push(a5), a5 = a5.parentGroup;
                  f4.reverse().forEach(function(c3) {
                    function a6(b3, g3) {
                      c3[g3] = b3;
                      g3 === "translateX" ? n2.left = b3 + "px" : n2.top = b3 + "px";
                      c3.doTransform = true;
                    }
                    var g2 = D3(c3.element, "class"), u4 = c3.styles || {};
                    x3 = c3.div = c3.div || I2("div", g2 ? { className: g2 } : void 0, { position: "absolute", left: (c3.translateX || 0) + "px", top: (c3.translateY || 0) + "px", display: c3.display, opacity: c3.opacity, cursor: u4.cursor, pointerEvents: u4.pointerEvents, visibility: c3.visibility }, x3 || d3);
                    var n2 = x3.style;
                    z2(c3, { classSetter: function(b3) {
                      return function(c4) {
                        this.element.setAttribute("class", c4);
                        b3.className = c4;
                      };
                    }(x3), on: function() {
                      f4[0].div && k2.on.apply({ element: f4[0].div, onEvents: c3.onEvents }, arguments);
                      return c3;
                    }, translateXSetter: a6, translateYSetter: a6 });
                    c3.addedSetters || K2(c3);
                  });
                }
              } else
                x3 = d3;
              x3.appendChild(p2);
              k2.added = true;
              k2.alignOnAdd && k2.htmlUpdateTransform();
              return k2;
            });
            return k2;
          };
          f2.composedClasses = [];
          return f2;
        }(A);
      });
      M2(h3, "Core/Axis/AxisDefaults.js", [], function() {
        var e;
        (function(e2) {
          e2.defaultXAxisOptions = {
            alignTicks: true,
            allowDecimals: void 0,
            panningEnabled: true,
            zIndex: 2,
            zoomEnabled: true,
            dateTimeLabelFormats: { millisecond: {
              main: "%H:%M:%S.%L",
              range: false
            }, second: { main: "%H:%M:%S", range: false }, minute: { main: "%H:%M", range: false }, hour: { main: "%H:%M", range: false }, day: { main: "%e. %b" }, week: { main: "%e. %b" }, month: { main: "%b '%y" }, year: { main: "%Y" } },
            endOnTick: false,
            gridLineDashStyle: "Solid",
            gridZIndex: 1,
            labels: { autoRotation: void 0, autoRotationLimit: 80, distance: void 0, enabled: true, indentation: 10, overflow: "justify", padding: 5, reserveSpace: void 0, rotation: void 0, staggerLines: 0, step: 0, useHTML: false, x: 0, zIndex: 7, style: { color: "#666666", cursor: "default", fontSize: "11px" } },
            maxPadding: 0.01,
            minorGridLineDashStyle: "Solid",
            minorTickLength: 2,
            minorTickPosition: "outside",
            minPadding: 0.01,
            offset: void 0,
            opposite: false,
            reversed: void 0,
            reversedStacks: false,
            showEmpty: true,
            showFirstLabel: true,
            showLastLabel: true,
            startOfWeek: 1,
            startOnTick: false,
            tickLength: 10,
            tickPixelInterval: 100,
            tickmarkPlacement: "between",
            tickPosition: "outside",
            title: { align: "middle", rotation: 0, useHTML: false, x: 0, y: 0, style: { color: "#666666" } },
            type: "linear",
            uniqueNames: true,
            visible: true,
            minorGridLineColor: "#f2f2f2",
            minorGridLineWidth: 1,
            minorTickColor: "#999999",
            lineColor: "#ccd6eb",
            lineWidth: 1,
            gridLineColor: "#e6e6e6",
            gridLineWidth: void 0,
            tickColor: "#ccd6eb"
          };
          e2.defaultYAxisOptions = { reversedStacks: true, endOnTick: true, maxPadding: 0.05, minPadding: 0.05, tickPixelInterval: 72, showLastLabel: true, labels: { x: -8 }, startOnTick: true, title: { rotation: 270, text: "Values" }, stackLabels: { animation: {}, allowOverlap: false, enabled: false, crop: true, overflow: "justify", formatter: function() {
            var e3 = this.axis.chart.numberFormatter;
            return e3(this.total, -1);
          }, style: {
            color: "#000000",
            fontSize: "11px",
            fontWeight: "bold",
            textOutline: "1px contrast"
          } }, gridLineWidth: 1, lineWidth: 0 };
          e2.defaultLeftAxisOptions = { labels: { x: -15 }, title: { rotation: 270 } };
          e2.defaultRightAxisOptions = { labels: { x: 15 }, title: { rotation: 90 } };
          e2.defaultBottomAxisOptions = { labels: { autoRotation: [-45], x: 0 }, margin: 15, title: { rotation: 0 } };
          e2.defaultTopAxisOptions = { labels: { autoRotation: [-45], x: 0 }, margin: 15, title: { rotation: 0 } };
        })(e || (e = {}));
        return e;
      });
      M2(h3, "Core/Foundation.js", [h3["Core/Utilities.js"]], function(e) {
        var h4 = e.addEvent, A = e.isFunction, E3 = e.objectEach, v = e.removeEvent, H2;
        (function(e2) {
          e2.registerEventOptions = function(e3, q3) {
            e3.eventOptions = e3.eventOptions || {};
            E3(q3.events, function(l3, f2) {
              e3.eventOptions[f2] !== l3 && (e3.eventOptions[f2] && (v(e3, f2, e3.eventOptions[f2]), delete e3.eventOptions[f2]), A(l3) && (e3.eventOptions[f2] = l3, h4(e3, f2, l3)));
            });
          };
        })(H2 || (H2 = {}));
        return H2;
      });
      M2(h3, "Core/Axis/Tick.js", [h3["Core/FormatUtilities.js"], h3["Core/Globals.js"], h3["Core/Utilities.js"]], function(e, h4, A) {
        var D3 = h4.deg2rad, v = A.clamp, H2 = A.correctFloat, I2 = A.defined, z2 = A.destroyObjectProperties, q3 = A.extend, l3 = A.fireEvent, f2 = A.isNumber, d2 = A.merge, a4 = A.objectEach, p2 = A.pick;
        h4 = function() {
          function k2(a5, d3, f3, k3, e2) {
            this.isNewLabel = this.isNew = true;
            this.axis = a5;
            this.pos = d3;
            this.type = f3 || "";
            this.parameters = e2 || {};
            this.tickmarkOffset = this.parameters.tickmarkOffset;
            this.options = this.parameters.options;
            l3(this, "init");
            f3 || k3 || this.addLabel();
          }
          k2.prototype.addLabel = function() {
            var a5 = this, d3 = a5.axis, k3 = d3.options, h5 = d3.chart, L3 = d3.categories, y2 = d3.logarithmic, C2 = d3.names, x3 = a5.pos, c3 = p2(a5.options && a5.options.labels, k3.labels), t2 = d3.tickPositions, g2 = x3 === t2[0], u4 = x3 === t2[t2.length - 1], n2 = (!c3.step || c3.step === 1) && d3.tickInterval === 1;
            t2 = t2.info;
            var b3 = a5.label, r3;
            L3 = this.parameters.category || (L3 ? p2(L3[x3], C2[x3], x3) : x3);
            y2 && f2(L3) && (L3 = H2(y2.lin2log(L3)));
            if (d3.dateTime)
              if (t2) {
                var G2 = h5.time.resolveDTLFormat(k3.dateTimeLabelFormats[!k3.grid && t2.higherRanks[x3] || t2.unitName]);
                var m2 = G2.main;
              } else
                f2(L3) && (m2 = d3.dateTime.getXDateFormat(L3, k3.dateTimeLabelFormats || {}));
            a5.isFirst = g2;
            a5.isLast = u4;
            var w2 = { axis: d3, chart: h5, dateTimeLabelFormat: m2, isFirst: g2, isLast: u4, pos: x3, tick: a5, tickPositionInfo: t2, value: L3 };
            l3(this, "labelFormat", w2);
            var N3 = function(b4) {
              return c3.formatter ? c3.formatter.call(b4, b4) : c3.format ? (b4.text = d3.defaultLabelFormatter.call(b4), e.format(c3.format, b4, h5)) : d3.defaultLabelFormatter.call(b4, b4);
            };
            k3 = N3.call(w2, w2);
            var X = G2 && G2.list;
            a5.shortenLabel = X ? function() {
              for (r3 = 0; r3 < X.length; r3++)
                if (q3(w2, { dateTimeLabelFormat: X[r3] }), b3.attr({ text: N3.call(w2, w2) }), b3.getBBox().width < d3.getSlotWidth(a5) - 2 * c3.padding)
                  return;
              b3.attr({ text: "" });
            } : void 0;
            n2 && d3._addedPlotLB && a5.moveLabel(k3, c3);
            I2(b3) || a5.movedLabel ? b3 && b3.textStr !== k3 && !n2 && (!b3.textWidth || c3.style.width || b3.styles.width || b3.css({ width: null }), b3.attr({ text: k3 }), b3.textPxLength = b3.getBBox().width) : (a5.label = b3 = a5.createLabel({ x: 0, y: 0 }, k3, c3), a5.rotation = 0);
          };
          k2.prototype.createLabel = function(a5, f3, k3) {
            var e2 = this.axis, p3 = e2.chart;
            if (a5 = I2(f3) && k3.enabled ? p3.renderer.text(f3, a5.x, a5.y, k3.useHTML).add(e2.labelGroup) : null)
              p3.styledMode || a5.css(d2(k3.style)), a5.textPxLength = a5.getBBox().width;
            return a5;
          };
          k2.prototype.destroy = function() {
            z2(this, this.axis);
          };
          k2.prototype.getPosition = function(a5, d3, f3, k3) {
            var e2 = this.axis, p3 = e2.chart, C2 = k3 && p3.oldChartHeight || p3.chartHeight;
            a5 = { x: a5 ? H2(e2.translate(d3 + f3, null, null, k3) + e2.transB) : e2.left + e2.offset + (e2.opposite ? (k3 && p3.oldChartWidth || p3.chartWidth) - e2.right - e2.left : 0), y: a5 ? C2 - e2.bottom + e2.offset - (e2.opposite ? e2.height : 0) : H2(C2 - e2.translate(d3 + f3, null, null, k3) - e2.transB) };
            a5.y = v(a5.y, -1e5, 1e5);
            l3(this, "afterGetPosition", { pos: a5 });
            return a5;
          };
          k2.prototype.getLabelPosition = function(a5, d3, f3, k3, e2, p3, C2, x3) {
            var c3 = this.axis, t2 = c3.transA, g2 = c3.isLinked && c3.linkedParent ? c3.linkedParent.reversed : c3.reversed, u4 = c3.staggerLines, n2 = c3.tickRotCorr || { x: 0, y: 0 }, b3 = k3 || c3.reserveSpaceDefault ? 0 : -c3.labelOffset * (c3.labelAlign === "center" ? 0.5 : 1), r3 = {}, G2 = e2.y;
            I2(G2) || (G2 = c3.side === 0 ? f3.rotation ? -8 : -f3.getBBox().height : c3.side === 2 ? n2.y + 8 : Math.cos(f3.rotation * D3) * (n2.y - f3.getBBox(false, 0).height / 2));
            a5 = a5 + e2.x + b3 + n2.x - (p3 && k3 ? p3 * t2 * (g2 ? -1 : 1) : 0);
            d3 = d3 + G2 - (p3 && !k3 ? p3 * t2 * (g2 ? 1 : -1) : 0);
            u4 && (f3 = C2 / (x3 || 1) % u4, c3.opposite && (f3 = u4 - f3 - 1), d3 += c3.labelOffset / u4 * f3);
            r3.x = a5;
            r3.y = Math.round(d3);
            l3(this, "afterGetLabelPosition", { pos: r3, tickmarkOffset: p3, index: C2 });
            return r3;
          };
          k2.prototype.getLabelSize = function() {
            return this.label ? this.label.getBBox()[this.axis.horiz ? "height" : "width"] : 0;
          };
          k2.prototype.getMarkPath = function(a5, d3, f3, k3, e2, p3) {
            return p3.crispLine([["M", a5, d3], ["L", a5 + (e2 ? 0 : -f3), d3 + (e2 ? f3 : 0)]], k3);
          };
          k2.prototype.handleOverflow = function(a5) {
            var d3 = this.axis, f3 = d3.options.labels, k3 = a5.x, e2 = d3.chart.chartWidth, l4 = d3.chart.spacing, C2 = p2(d3.labelLeft, Math.min(d3.pos, l4[3]));
            l4 = p2(d3.labelRight, Math.max(d3.isRadial ? 0 : d3.pos + d3.len, e2 - l4[1]));
            var x3 = this.label, c3 = this.rotation, t2 = { left: 0, center: 0.5, right: 1 }[d3.labelAlign || x3.attr("align")], g2 = x3.getBBox().width, u4 = d3.getSlotWidth(this), n2 = {}, b3 = u4, r3 = 1, G2;
            if (c3 || f3.overflow !== "justify")
              0 > c3 && k3 - t2 * g2 < C2 ? G2 = Math.round(k3 / Math.cos(c3 * D3) - C2) : 0 < c3 && k3 + t2 * g2 > l4 && (G2 = Math.round((e2 - k3) / Math.cos(c3 * D3)));
            else if (e2 = k3 + (1 - t2) * g2, k3 - t2 * g2 < C2 ? b3 = a5.x + b3 * (1 - t2) - C2 : e2 > l4 && (b3 = l4 - a5.x + b3 * t2, r3 = -1), b3 = Math.min(u4, b3), b3 < u4 && d3.labelAlign === "center" && (a5.x += r3 * (u4 - b3 - t2 * (u4 - Math.min(g2, b3)))), g2 > b3 || d3.autoRotation && (x3.styles || {}).width)
              G2 = b3;
            G2 && (this.shortenLabel ? this.shortenLabel() : (n2.width = Math.floor(G2) + "px", (f3.style || {}).textOverflow || (n2.textOverflow = "ellipsis"), x3.css(n2)));
          };
          k2.prototype.moveLabel = function(d3, f3) {
            var k3 = this, e2 = k3.label, p3 = k3.axis, l4 = p3.reversed, C2 = false;
            e2 && e2.textStr === d3 ? (k3.movedLabel = e2, C2 = true, delete k3.label) : a4(p3.ticks, function(c3) {
              C2 || c3.isNew || c3 === k3 || !c3.label || c3.label.textStr !== d3 || (k3.movedLabel = c3.label, C2 = true, c3.labelPos = k3.movedLabel.xy, delete c3.label);
            });
            if (!C2 && (k3.labelPos || e2)) {
              var x3 = k3.labelPos || e2.xy;
              e2 = p3.horiz ? l4 ? 0 : p3.width + p3.left : x3.x;
              p3 = p3.horiz ? x3.y : l4 ? p3.width + p3.left : 0;
              k3.movedLabel = k3.createLabel({ x: e2, y: p3 }, d3, f3);
              k3.movedLabel && k3.movedLabel.attr({ opacity: 0 });
            }
          };
          k2.prototype.render = function(a5, d3, f3) {
            var k3 = this.axis, e2 = k3.horiz, y2 = this.pos, C2 = p2(this.tickmarkOffset, k3.tickmarkOffset);
            y2 = this.getPosition(e2, y2, C2, d3);
            C2 = y2.x;
            var x3 = y2.y;
            k3 = e2 && C2 === k3.pos + k3.len || !e2 && x3 === k3.pos ? -1 : 1;
            e2 = p2(f3, this.label && this.label.newOpacity, 1);
            f3 = p2(f3, 1);
            this.isActive = true;
            this.renderGridLine(d3, f3, k3);
            this.renderMark(y2, f3, k3);
            this.renderLabel(y2, d3, e2, a5);
            this.isNew = false;
            l3(this, "afterRender");
          };
          k2.prototype.renderGridLine = function(a5, d3, f3) {
            var k3 = this.axis, e2 = k3.options, l4 = {}, C2 = this.pos, x3 = this.type, c3 = p2(this.tickmarkOffset, k3.tickmarkOffset), t2 = k3.chart.renderer, g2 = this.gridLine, u4 = e2.gridLineWidth, n2 = e2.gridLineColor, b3 = e2.gridLineDashStyle;
            this.type === "minor" && (u4 = e2.minorGridLineWidth, n2 = e2.minorGridLineColor, b3 = e2.minorGridLineDashStyle);
            g2 || (k3.chart.styledMode || (l4.stroke = n2, l4["stroke-width"] = u4 || 0, l4.dashstyle = b3), x3 || (l4.zIndex = 1), a5 && (d3 = 0), this.gridLine = g2 = t2.path().attr(l4).addClass("highcharts-" + (x3 ? x3 + "-" : "") + "grid-line").add(k3.gridGroup));
            if (g2 && (f3 = k3.getPlotLinePath({ value: C2 + c3, lineWidth: g2.strokeWidth() * f3, force: "pass", old: a5 })))
              g2[a5 || this.isNew ? "attr" : "animate"]({ d: f3, opacity: d3 });
          };
          k2.prototype.renderMark = function(a5, d3, f3) {
            var k3 = this.axis, e2 = k3.options, l4 = k3.chart.renderer, C2 = this.type, x3 = k3.tickSize(C2 ? C2 + "Tick" : "tick"), c3 = a5.x;
            a5 = a5.y;
            var t2 = p2(e2[C2 !== "minor" ? "tickWidth" : "minorTickWidth"], !C2 && k3.isXAxis ? 1 : 0);
            e2 = e2[C2 !== "minor" ? "tickColor" : "minorTickColor"];
            var g2 = this.mark, u4 = !g2;
            x3 && (k3.opposite && (x3[0] = -x3[0]), g2 || (this.mark = g2 = l4.path().addClass("highcharts-" + (C2 ? C2 + "-" : "") + "tick").add(k3.axisGroup), k3.chart.styledMode || g2.attr({ stroke: e2, "stroke-width": t2 })), g2[u4 ? "attr" : "animate"]({ d: this.getMarkPath(c3, a5, x3[0], g2.strokeWidth() * f3, k3.horiz, l4), opacity: d3 }));
          };
          k2.prototype.renderLabel = function(a5, d3, k3, e2) {
            var l4 = this.axis, y2 = l4.horiz, C2 = l4.options, x3 = this.label, c3 = C2.labels, t2 = c3.step;
            l4 = p2(this.tickmarkOffset, l4.tickmarkOffset);
            var g2 = a5.x;
            a5 = a5.y;
            var u4 = true;
            x3 && f2(g2) && (x3.xy = a5 = this.getLabelPosition(g2, a5, x3, y2, c3, l4, e2, t2), this.isFirst && !this.isLast && !C2.showFirstLabel || this.isLast && !this.isFirst && !C2.showLastLabel ? u4 = false : !y2 || c3.step || c3.rotation || d3 || k3 === 0 || this.handleOverflow(a5), t2 && e2 % t2 && (u4 = false), u4 && f2(a5.y) ? (a5.opacity = k3, x3[this.isNewLabel ? "attr" : "animate"](a5), this.isNewLabel = false) : (x3.attr("y", -9999), this.isNewLabel = true));
          };
          k2.prototype.replaceMovedLabel = function() {
            var a5 = this.label, d3 = this.axis, f3 = d3.reversed;
            if (a5 && !this.isNew) {
              var k3 = d3.horiz ? f3 ? d3.left : d3.width + d3.left : a5.xy.x;
              f3 = d3.horiz ? a5.xy.y : f3 ? d3.width + d3.top : d3.top;
              a5.animate({ x: k3, y: f3, opacity: 0 }, void 0, a5.destroy);
              delete this.label;
            }
            d3.isDirty = true;
            this.label = this.movedLabel;
            delete this.movedLabel;
          };
          return k2;
        }();
        "";
        return h4;
      });
      M2(h3, "Core/Axis/Axis.js", [
        h3["Core/Animation/AnimationUtilities.js"],
        h3["Core/Axis/AxisDefaults.js"],
        h3["Core/Color/Color.js"],
        h3["Core/DefaultOptions.js"],
        h3["Core/Foundation.js"],
        h3["Core/Globals.js"],
        h3["Core/Axis/Tick.js"],
        h3["Core/Utilities.js"]
      ], function(e, h4, A, E3, v, H2, I2, z2) {
        var q3 = e.animObject, l3 = E3.defaultOptions, f2 = v.registerEventOptions, d2 = H2.deg2rad, a4 = z2.arrayMax, p2 = z2.arrayMin, k2 = z2.clamp, F2 = z2.correctFloat, B = z2.defined, J2 = z2.destroyObjectProperties, K2 = z2.erase, L3 = z2.error, y2 = z2.extend, C2 = z2.fireEvent, x3 = z2.getMagnitude, c3 = z2.isArray, t2 = z2.isNumber, g2 = z2.isString, u4 = z2.merge, n2 = z2.normalizeTickInterval, b3 = z2.objectEach, r3 = z2.pick, G2 = z2.relativeLength, m2 = z2.removeEvent, w2 = z2.splat, N3 = z2.syncTimeout;
        e = function() {
          function e2(b4, c4) {
            this.zoomEnabled = this.width = this.visible = this.userOptions = this.translationSlope = this.transB = this.transA = this.top = this.ticks = this.tickRotCorr = this.tickPositions = this.tickmarkOffset = this.tickInterval = this.tickAmount = this.side = this.series = this.right = this.positiveValuesOnly = this.pos = this.pointRangePadding = this.pointRange = this.plotLinesAndBandsGroups = this.plotLinesAndBands = this.paddedTicks = this.overlap = this.options = this.offset = this.names = this.minPixelPadding = this.minorTicks = this.minorTickInterval = this.min = this.maxLabelLength = this.max = this.len = this.left = this.labelFormatter = this.labelEdge = this.isLinked = this.height = this.hasVisibleSeries = this.hasNames = this.eventOptions = this.coll = this.closestPointRange = this.chart = this.categories = this.bottom = this.alternateBands = void 0;
            this.init(b4, c4);
          }
          e2.prototype.init = function(b4, c4) {
            var g3 = c4.isX;
            this.chart = b4;
            this.horiz = b4.inverted && !this.isZAxis ? !g3 : g3;
            this.isXAxis = g3;
            this.coll = this.coll || (g3 ? "xAxis" : "yAxis");
            C2(this, "init", { userOptions: c4 });
            this.opposite = r3(c4.opposite, this.opposite);
            this.side = r3(c4.side, this.side, this.horiz ? this.opposite ? 0 : 2 : this.opposite ? 1 : 3);
            this.setOptions(c4);
            var a5 = this.options, m3 = a5.labels, n3 = a5.type;
            this.userOptions = c4;
            this.minPixelPadding = 0;
            this.reversed = r3(a5.reversed, this.reversed);
            this.visible = a5.visible;
            this.zoomEnabled = a5.zoomEnabled;
            this.hasNames = n3 === "category" || a5.categories === true;
            this.categories = a5.categories || this.hasNames;
            this.names || (this.names = [], this.names.keys = {});
            this.plotLinesAndBandsGroups = {};
            this.positiveValuesOnly = !!this.logarithmic;
            this.isLinked = B(a5.linkedTo);
            this.ticks = {};
            this.labelEdge = [];
            this.minorTicks = {};
            this.plotLinesAndBands = [];
            this.alternateBands = {};
            this.len = 0;
            this.minRange = this.userMinRange = a5.minRange || a5.maxZoom;
            this.range = a5.range;
            this.offset = a5.offset || 0;
            this.min = this.max = null;
            c4 = r3(a5.crosshair, w2(b4.options.tooltip.crosshairs)[g3 ? 0 : 1]);
            this.crosshair = c4 === true ? {} : c4;
            b4.axes.indexOf(this) === -1 && (g3 ? b4.axes.splice(b4.xAxis.length, 0, this) : b4.axes.push(this), b4[this.coll].push(this));
            this.series = this.series || [];
            b4.inverted && !this.isZAxis && g3 && typeof this.reversed === "undefined" && (this.reversed = true);
            this.labelRotation = t2(m3.rotation) ? m3.rotation : void 0;
            f2(this, a5);
            C2(this, "afterInit");
          };
          e2.prototype.setOptions = function(b4) {
            this.options = u4(h4.defaultXAxisOptions, this.coll === "yAxis" && h4.defaultYAxisOptions, [h4.defaultTopAxisOptions, h4.defaultRightAxisOptions, h4.defaultBottomAxisOptions, h4.defaultLeftAxisOptions][this.side], u4(l3[this.coll], b4));
            C2(this, "afterSetOptions", { userOptions: b4 });
          };
          e2.prototype.defaultLabelFormatter = function(b4) {
            var c4 = this.axis;
            b4 = this.chart.numberFormatter;
            var g3 = t2(this.value) ? this.value : NaN, a5 = c4.chart.time, m3 = this.dateTimeLabelFormat, n3 = l3.lang, d3 = n3.numericSymbols;
            n3 = n3.numericSymbolMagnitude || 1e3;
            var r4 = c4.logarithmic ? Math.abs(g3) : c4.tickInterval, u5 = d3 && d3.length;
            if (c4.categories)
              var f3 = "" + this.value;
            else if (m3)
              f3 = a5.dateFormat(m3, g3);
            else if (u5 && 1e3 <= r4)
              for (; u5-- && typeof f3 === "undefined"; )
                c4 = Math.pow(n3, u5 + 1), r4 >= c4 && 10 * g3 % c4 === 0 && d3[u5] !== null && g3 !== 0 && (f3 = b4(g3 / c4, -1) + d3[u5]);
            typeof f3 === "undefined" && (f3 = 1e4 <= Math.abs(g3) ? b4(g3, -1) : b4(g3, -1, void 0, ""));
            return f3;
          };
          e2.prototype.getSeriesExtremes = function() {
            var b4 = this, c4 = b4.chart, g3;
            C2(this, "getSeriesExtremes", null, function() {
              b4.hasVisibleSeries = false;
              b4.dataMin = b4.dataMax = b4.threshold = null;
              b4.softThreshold = !b4.isXAxis;
              b4.stacking && b4.stacking.buildStacks();
              b4.series.forEach(function(a5) {
                if (a5.visible || !c4.options.chart.ignoreHiddenSeries) {
                  var m3 = a5.options, n3 = m3.threshold;
                  b4.hasVisibleSeries = true;
                  b4.positiveValuesOnly && 0 >= n3 && (n3 = null);
                  if (b4.isXAxis) {
                    if (m3 = a5.xData, m3.length) {
                      m3 = b4.logarithmic ? m3.filter(b4.validatePositiveValue) : m3;
                      g3 = a5.getXExtremes(m3);
                      var d3 = g3.min;
                      var u5 = g3.max;
                      t2(d3) || d3 instanceof Date || (m3 = m3.filter(t2), g3 = a5.getXExtremes(m3), d3 = g3.min, u5 = g3.max);
                      m3.length && (b4.dataMin = Math.min(r3(b4.dataMin, d3), d3), b4.dataMax = Math.max(r3(b4.dataMax, u5), u5));
                    }
                  } else if (a5 = a5.applyExtremes(), t2(a5.dataMin) && (d3 = a5.dataMin, b4.dataMin = Math.min(r3(b4.dataMin, d3), d3)), t2(a5.dataMax) && (u5 = a5.dataMax, b4.dataMax = Math.max(r3(b4.dataMax, u5), u5)), B(n3) && (b4.threshold = n3), !m3.softThreshold || b4.positiveValuesOnly)
                    b4.softThreshold = false;
                }
              });
            });
            C2(this, "afterGetSeriesExtremes");
          };
          e2.prototype.translate = function(b4, c4, g3, a5, m3, n3) {
            var d3 = this.linkedParent || this, r4 = a5 && d3.old ? d3.old.min : d3.min, u5 = d3.minPixelPadding;
            m3 = (d3.isOrdinal || d3.brokenAxis && d3.brokenAxis.hasBreaks || d3.logarithmic && m3) && d3.lin2val;
            var f3 = 1, w3 = 0;
            a5 = a5 && d3.old ? d3.old.transA : d3.transA;
            a5 || (a5 = d3.transA);
            g3 && (f3 *= -1, w3 = d3.len);
            d3.reversed && (f3 *= -1, w3 -= f3 * (d3.sector || d3.len));
            c4 ? (b4 = (b4 * f3 + w3 - u5) / a5 + r4, m3 && (b4 = d3.lin2val(b4))) : (m3 && (b4 = d3.val2lin(b4)), b4 = t2(r4) ? f3 * (b4 - r4) * a5 + w3 + f3 * u5 + (t2(n3) ? a5 * n3 : 0) : void 0);
            return b4;
          };
          e2.prototype.toPixels = function(b4, c4) {
            return this.translate(b4, false, !this.horiz, null, true) + (c4 ? 0 : this.pos);
          };
          e2.prototype.toValue = function(b4, c4) {
            return this.translate(b4 - (c4 ? 0 : this.pos), true, !this.horiz, null, true);
          };
          e2.prototype.getPlotLinePath = function(b4) {
            function c4(b5, c5, g4) {
              if (P2 !== "pass" && b5 < c5 || b5 > g4)
                P2 ? b5 = k2(b5, c5, g4) : h5 = true;
              return b5;
            }
            var g3 = this, a5 = g3.chart, m3 = g3.left, n3 = g3.top, d3 = b4.old, u5 = b4.value, f3 = b4.lineWidth, w3 = d3 && a5.oldChartHeight || a5.chartHeight, G3 = d3 && a5.oldChartWidth || a5.chartWidth, e3 = g3.transB, x4 = b4.translatedValue, P2 = b4.force, p3, l4, y3, N4, h5;
            b4 = { value: u5, lineWidth: f3, old: d3, force: P2, acrossPanes: b4.acrossPanes, translatedValue: x4 };
            C2(this, "getPlotLinePath", b4, function(b5) {
              x4 = r3(x4, g3.translate(u5, null, null, d3));
              x4 = k2(x4, -1e5, 1e5);
              p3 = y3 = Math.round(x4 + e3);
              l4 = N4 = Math.round(w3 - x4 - e3);
              t2(x4) ? g3.horiz ? (l4 = n3, N4 = w3 - g3.bottom, p3 = y3 = c4(p3, m3, m3 + g3.width)) : (p3 = m3, y3 = G3 - g3.right, l4 = N4 = c4(l4, n3, n3 + g3.height)) : (h5 = true, P2 = false);
              b5.path = h5 && !P2 ? null : a5.renderer.crispLine([["M", p3, l4], ["L", y3, N4]], f3 || 1);
            });
            return b4.path;
          };
          e2.prototype.getLinearTickPositions = function(b4, c4, g3) {
            var a5 = F2(Math.floor(c4 / b4) * b4);
            g3 = F2(Math.ceil(g3 / b4) * b4);
            var m3 = [], n3;
            F2(a5 + b4) === a5 && (n3 = 20);
            if (this.single)
              return [c4];
            for (c4 = a5; c4 <= g3; ) {
              m3.push(c4);
              c4 = F2(c4 + b4, n3);
              if (c4 === d3)
                break;
              var d3 = c4;
            }
            return m3;
          };
          e2.prototype.getMinorTickInterval = function() {
            var b4 = this.options;
            return b4.minorTicks === true ? r3(b4.minorTickInterval, "auto") : b4.minorTicks === false ? null : b4.minorTickInterval;
          };
          e2.prototype.getMinorTickPositions = function() {
            var b4 = this.options, c4 = this.tickPositions, g3 = this.minorTickInterval, a5 = this.pointRangePadding || 0, m3 = this.min - a5;
            a5 = this.max + a5;
            var n3 = a5 - m3, d3 = [];
            if (n3 && n3 / g3 < this.len / 3) {
              var r4 = this.logarithmic;
              if (r4)
                this.paddedTicks.forEach(function(b5, c5, a6) {
                  c5 && d3.push.apply(d3, r4.getLogTickPositions(g3, a6[c5 - 1], a6[c5], true));
                });
              else if (this.dateTime && this.getMinorTickInterval() === "auto")
                d3 = d3.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(g3), m3, a5, b4.startOfWeek));
              else
                for (b4 = m3 + (c4[0] - m3) % g3; b4 <= a5 && b4 !== d3[0]; b4 += g3)
                  d3.push(b4);
            }
            d3.length !== 0 && this.trimTicks(d3);
            return d3;
          };
          e2.prototype.adjustForMinRange = function() {
            var b4 = this.options, c4 = this.logarithmic, g3 = this.min, m3 = this.max, d3 = 0, n3, u5, f3, w3;
            this.isXAxis && typeof this.minRange === "undefined" && !c4 && (B(b4.min) || B(b4.max) || B(b4.floor) || B(b4.ceiling) ? this.minRange = null : (this.series.forEach(function(b5) {
              f3 = b5.xData;
              w3 = b5.xIncrement ? 1 : f3.length - 1;
              if (1 < f3.length) {
                for (n3 = w3; 0 < n3; n3--)
                  if (u5 = f3[n3] - f3[n3 - 1], !d3 || u5 < d3)
                    d3 = u5;
              }
            }), this.minRange = Math.min(5 * d3, this.dataMax - this.dataMin)));
            if (m3 - g3 < this.minRange) {
              var t3 = this.dataMax - this.dataMin >= this.minRange;
              var G3 = this.minRange;
              var e3 = (G3 - m3 + g3) / 2;
              e3 = [g3 - e3, r3(b4.min, g3 - e3)];
              t3 && (e3[2] = this.logarithmic ? this.logarithmic.log2lin(this.dataMin) : this.dataMin);
              g3 = a4(e3);
              m3 = [g3 + G3, r3(b4.max, g3 + G3)];
              t3 && (m3[2] = c4 ? c4.log2lin(this.dataMax) : this.dataMax);
              m3 = p2(m3);
              m3 - g3 < G3 && (e3[0] = m3 - G3, e3[1] = r3(b4.min, m3 - G3), g3 = a4(e3));
            }
            this.min = g3;
            this.max = m3;
          };
          e2.prototype.getClosest = function() {
            var b4;
            this.categories ? b4 = 1 : this.series.forEach(function(c4) {
              var g3 = c4.closestPointRange, a5 = c4.visible || !c4.chart.options.chart.ignoreHiddenSeries;
              !c4.noSharedTooltip && B(g3) && a5 && (b4 = B(b4) ? Math.min(b4, g3) : g3);
            });
            return b4;
          };
          e2.prototype.nameToX = function(b4) {
            var g3 = c3(this.categories), a5 = g3 ? this.categories : this.names, m3 = b4.options.x;
            b4.series.requireSorting = false;
            B(m3) || (m3 = this.options.uniqueNames ? g3 ? a5.indexOf(b4.name) : r3(a5.keys[b4.name], -1) : b4.series.autoIncrement());
            if (m3 === -1) {
              if (!g3)
                var d3 = a5.length;
            } else
              d3 = m3;
            typeof d3 !== "undefined" && (this.names[d3] = b4.name, this.names.keys[b4.name] = d3);
            return d3;
          };
          e2.prototype.updateNames = function() {
            var b4 = this, c4 = this.names;
            0 < c4.length && (Object.keys(c4.keys).forEach(function(b5) {
              delete c4.keys[b5];
            }), c4.length = 0, this.minRange = this.userMinRange, (this.series || []).forEach(function(c5) {
              c5.xIncrement = null;
              if (!c5.points || c5.isDirtyData)
                b4.max = Math.max(b4.max, c5.xData.length - 1), c5.processData(), c5.generatePoints();
              c5.data.forEach(function(g3, a5) {
                if (g3 && g3.options && typeof g3.name !== "undefined") {
                  var m3 = b4.nameToX(g3);
                  typeof m3 !== "undefined" && m3 !== g3.x && (g3.x = m3, c5.xData[a5] = m3);
                }
              });
            }));
          };
          e2.prototype.setAxisTranslation = function() {
            var b4 = this, c4 = b4.max - b4.min, a5 = b4.linkedParent, m3 = !!b4.categories, d3 = b4.isXAxis, n3 = b4.axisPointRange || 0, u5 = 0, f3 = 0, w3 = b4.transA;
            if (d3 || m3 || n3) {
              var t3 = b4.getClosest();
              a5 ? (u5 = a5.minPointOffset, f3 = a5.pointRangePadding) : b4.series.forEach(function(c5) {
                var a6 = m3 ? 1 : d3 ? r3(c5.options.pointRange, t3, 0) : b4.axisPointRange || 0, w4 = c5.options.pointPlacement;
                n3 = Math.max(n3, a6);
                if (!b4.single || m3)
                  c5 = c5.is("xrange") ? !d3 : d3, u5 = Math.max(u5, c5 && g2(w4) ? 0 : a6 / 2), f3 = Math.max(f3, c5 && w4 === "on" ? 0 : a6);
              });
              a5 = b4.ordinal && b4.ordinal.slope && t3 ? b4.ordinal.slope / t3 : 1;
              b4.minPointOffset = u5 *= a5;
              b4.pointRangePadding = f3 *= a5;
              b4.pointRange = Math.min(n3, b4.single && m3 ? 1 : c4);
              d3 && (b4.closestPointRange = t3);
            }
            b4.translationSlope = b4.transA = w3 = b4.staticScale || b4.len / (c4 + f3 || 1);
            b4.transB = b4.horiz ? b4.left : b4.bottom;
            b4.minPixelPadding = w3 * u5;
            C2(this, "afterSetAxisTranslation");
          };
          e2.prototype.minFromRange = function() {
            return this.max - this.range;
          };
          e2.prototype.setTickInterval = function(b4) {
            var c4 = this.chart, g3 = this.logarithmic, a5 = this.options, m3 = this.isXAxis, d3 = this.isLinked, u5 = a5.tickPixelInterval, f3 = this.categories, w3 = this.softThreshold, G3 = a5.maxPadding, e3 = a5.minPadding, k3 = t2(a5.tickInterval) && 0 <= a5.tickInterval ? a5.tickInterval : void 0, p3 = t2(this.threshold) ? this.threshold : null;
            this.dateTime || f3 || d3 || this.getTickAmount();
            var l4 = r3(this.userMin, a5.min);
            var P2 = r3(this.userMax, a5.max);
            if (d3) {
              this.linkedParent = c4[this.coll][a5.linkedTo];
              var y3 = this.linkedParent.getExtremes();
              this.min = r3(y3.min, y3.dataMin);
              this.max = r3(y3.max, y3.dataMax);
              a5.type !== this.linkedParent.options.type && L3(11, 1, c4);
            } else {
              if (w3 && B(p3)) {
                if (this.dataMin >= p3)
                  y3 = p3, e3 = 0;
                else if (this.dataMax <= p3) {
                  var N4 = p3;
                  G3 = 0;
                }
              }
              this.min = r3(l4, y3, this.dataMin);
              this.max = r3(P2, N4, this.dataMax);
            }
            g3 && (this.positiveValuesOnly && !b4 && 0 >= Math.min(this.min, r3(this.dataMin, this.min)) && L3(10, 1, c4), this.min = F2(g3.log2lin(this.min), 16), this.max = F2(g3.log2lin(this.max), 16));
            this.range && B(this.max) && (this.userMin = this.min = l4 = Math.max(this.dataMin, this.minFromRange()), this.userMax = P2 = this.max, this.range = null);
            C2(this, "foundExtremes");
            this.beforePadding && this.beforePadding();
            this.adjustForMinRange();
            !(f3 || this.axisPointRange || this.stacking && this.stacking.usePercentage || d3) && B(this.min) && B(this.max) && (c4 = this.max - this.min) && (!B(l4) && e3 && (this.min -= c4 * e3), !B(P2) && G3 && (this.max += c4 * G3));
            t2(this.userMin) || (t2(a5.softMin) && a5.softMin < this.min && (this.min = l4 = a5.softMin), t2(a5.floor) && (this.min = Math.max(this.min, a5.floor)));
            t2(this.userMax) || (t2(a5.softMax) && a5.softMax > this.max && (this.max = P2 = a5.softMax), t2(a5.ceiling) && (this.max = Math.min(this.max, a5.ceiling)));
            w3 && B(this.dataMin) && (p3 = p3 || 0, !B(l4) && this.min < p3 && this.dataMin >= p3 ? this.min = this.options.minRange ? Math.min(p3, this.max - this.minRange) : p3 : !B(P2) && this.max > p3 && this.dataMax <= p3 && (this.max = this.options.minRange ? Math.max(p3, this.min + this.minRange) : p3));
            t2(this.min) && t2(this.max) && !this.chart.polar && this.min > this.max && (B(this.options.min) ? this.max = this.min : B(this.options.max) && (this.min = this.max));
            this.tickInterval = this.min === this.max || typeof this.min === "undefined" || typeof this.max === "undefined" ? 1 : d3 && this.linkedParent && !k3 && u5 === this.linkedParent.options.tickPixelInterval ? k3 = this.linkedParent.tickInterval : r3(k3, this.tickAmount ? (this.max - this.min) / Math.max(this.tickAmount - 1, 1) : void 0, f3 ? 1 : (this.max - this.min) * u5 / Math.max(this.len, u5));
            if (m3 && !b4) {
              var h5 = this.min !== (this.old && this.old.min) || this.max !== (this.old && this.old.max);
              this.series.forEach(function(b5) {
                b5.forceCrop = b5.forceCropping && b5.forceCropping();
                b5.processData(h5);
              });
              C2(this, "postProcessData", { hasExtemesChanged: h5 });
            }
            this.setAxisTranslation();
            C2(this, "initialAxisTranslation");
            this.pointRange && !k3 && (this.tickInterval = Math.max(this.pointRange, this.tickInterval));
            b4 = r3(a5.minTickInterval, this.dateTime && !this.series.some(function(b5) {
              return b5.noSharedTooltip;
            }) ? this.closestPointRange : 0);
            !k3 && this.tickInterval < b4 && (this.tickInterval = b4);
            this.dateTime || this.logarithmic || k3 || (this.tickInterval = n2(this.tickInterval, void 0, x3(this.tickInterval), r3(a5.allowDecimals, 0.5 > this.tickInterval || this.tickAmount !== void 0), !!this.tickAmount));
            this.tickAmount || (this.tickInterval = this.unsquish());
            this.setTickPositions();
          };
          e2.prototype.setTickPositions = function() {
            var b4 = this.options, c4 = b4.tickPositions, g3 = this.getMinorTickInterval(), a5 = this.hasVerticalPanning(), m3 = this.coll === "colorAxis", d3 = (m3 || !a5) && b4.startOnTick;
            a5 = (m3 || !a5) && b4.endOnTick;
            m3 = b4.tickPositioner;
            this.tickmarkOffset = this.categories && b4.tickmarkPlacement === "between" && this.tickInterval === 1 ? 0.5 : 0;
            this.minorTickInterval = g3 === "auto" && this.tickInterval ? this.tickInterval / 5 : g3;
            this.single = this.min === this.max && B(this.min) && !this.tickAmount && (parseInt(this.min, 10) === this.min || b4.allowDecimals !== false);
            this.tickPositions = g3 = c4 && c4.slice();
            !g3 && (this.ordinal && this.ordinal.positions || !((this.max - this.min) / this.tickInterval > Math.max(2 * this.len, 200)) ? g3 = this.dateTime ? this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval, b4.units), this.min, this.max, b4.startOfWeek, this.ordinal && this.ordinal.positions, this.closestPointRange, true) : this.logarithmic ? this.logarithmic.getLogTickPositions(this.tickInterval, this.min, this.max) : this.getLinearTickPositions(this.tickInterval, this.min, this.max) : (g3 = [this.min, this.max], L3(19, false, this.chart)), g3.length > this.len && (g3 = [g3[0], g3.pop()], g3[0] === g3[1] && (g3.length = 1)), this.tickPositions = g3, m3 && (m3 = m3.apply(this, [this.min, this.max]))) && (this.tickPositions = g3 = m3);
            this.paddedTicks = g3.slice(0);
            this.trimTicks(g3, d3, a5);
            this.isLinked || (this.single && 2 > g3.length && !this.categories && !this.series.some(function(b5) {
              return b5.is("heatmap") && b5.options.pointPlacement === "between";
            }) && (this.min -= 0.5, this.max += 0.5), c4 || m3 || this.adjustTickAmount());
            C2(this, "afterSetTickPositions");
          };
          e2.prototype.trimTicks = function(b4, c4, g3) {
            var a5 = b4[0], m3 = b4[b4.length - 1], d3 = !this.isOrdinal && this.minPointOffset || 0;
            C2(this, "trimTicks");
            if (!this.isLinked) {
              if (c4 && a5 !== -Infinity)
                this.min = a5;
              else
                for (; this.min - d3 > b4[0]; )
                  b4.shift();
              if (g3)
                this.max = m3;
              else
                for (; this.max + d3 < b4[b4.length - 1]; )
                  b4.pop();
              b4.length === 0 && B(a5) && !this.options.tickPositions && b4.push((m3 + a5) / 2);
            }
          };
          e2.prototype.alignToOthers = function() {
            var b4 = {}, c4 = this.options, g3;
            this.chart.options.chart.alignTicks !== false && c4.alignTicks && c4.startOnTick !== false && c4.endOnTick !== false && !this.logarithmic && this.chart[this.coll].forEach(function(c5) {
              var a5 = c5.options;
              a5 = [c5.horiz ? a5.left : a5.top, a5.width, a5.height, a5.pane].join();
              c5.series.length && (b4[a5] ? g3 = true : b4[a5] = 1);
            });
            return g3;
          };
          e2.prototype.getTickAmount = function() {
            var b4 = this.options, c4 = b4.tickPixelInterval, g3 = b4.tickAmount;
            !B(b4.tickInterval) && !g3 && this.len < c4 && !this.isRadial && !this.logarithmic && b4.startOnTick && b4.endOnTick && (g3 = 2);
            !g3 && this.alignToOthers() && (g3 = Math.ceil(this.len / c4) + 1);
            4 > g3 && (this.finalTickAmt = g3, g3 = 5);
            this.tickAmount = g3;
          };
          e2.prototype.adjustTickAmount = function() {
            var b4 = this.options, c4 = this.tickInterval, g3 = this.tickPositions, a5 = this.tickAmount, m3 = this.finalTickAmt, d3 = g3 && g3.length, n3 = r3(this.threshold, this.softThreshold ? 0 : null);
            if (this.hasData() && t2(this.min) && t2(this.max)) {
              if (d3 < a5) {
                for (; g3.length < a5; )
                  g3.length % 2 || this.min === n3 ? g3.push(F2(g3[g3.length - 1] + c4)) : g3.unshift(F2(g3[0] - c4));
                this.transA *= (d3 - 1) / (a5 - 1);
                this.min = b4.startOnTick ? g3[0] : Math.min(this.min, g3[0]);
                this.max = b4.endOnTick ? g3[g3.length - 1] : Math.max(this.max, g3[g3.length - 1]);
              } else
                d3 > a5 && (this.tickInterval *= 2, this.setTickPositions());
              if (B(m3)) {
                for (c4 = b4 = g3.length; c4--; )
                  (m3 === 3 && c4 % 2 === 1 || 2 >= m3 && 0 < c4 && c4 < b4 - 1) && g3.splice(c4, 1);
                this.finalTickAmt = void 0;
              }
            }
          };
          e2.prototype.setScale = function() {
            var b4 = false, c4 = false;
            this.series.forEach(function(g4) {
              b4 = b4 || g4.isDirtyData || g4.isDirty;
              c4 = c4 || g4.xAxis && g4.xAxis.isDirty || false;
            });
            this.setAxisSize();
            var g3 = this.len !== (this.old && this.old.len);
            g3 || b4 || c4 || this.isLinked || this.forceRedraw || this.userMin !== (this.old && this.old.userMin) || this.userMax !== (this.old && this.old.userMax) || this.alignToOthers() ? (this.stacking && this.stacking.resetStacks(), this.forceRedraw = false, this.getSeriesExtremes(), this.setTickInterval(), this.isDirty || (this.isDirty = g3 || this.min !== (this.old && this.old.min) || this.max !== (this.old && this.old.max))) : this.stacking && this.stacking.cleanStacks();
            b4 && this.panningState && (this.panningState.isDirty = true);
            C2(this, "afterSetScale");
          };
          e2.prototype.setExtremes = function(b4, c4, g3, a5, m3) {
            var d3 = this, n3 = d3.chart;
            g3 = r3(g3, true);
            d3.series.forEach(function(b5) {
              delete b5.kdTree;
            });
            m3 = y2(m3, { min: b4, max: c4 });
            C2(d3, "setExtremes", m3, function() {
              d3.userMin = b4;
              d3.userMax = c4;
              d3.eventArgs = m3;
              g3 && n3.redraw(a5);
            });
          };
          e2.prototype.zoom = function(b4, c4) {
            var g3 = this, a5 = this.dataMin, m3 = this.dataMax, d3 = this.options, n3 = Math.min(a5, r3(d3.min, a5)), u5 = Math.max(m3, r3(d3.max, m3));
            b4 = { newMin: b4, newMax: c4 };
            C2(this, "zoom", b4, function(b5) {
              var c5 = b5.newMin, d4 = b5.newMax;
              if (c5 !== g3.min || d4 !== g3.max)
                g3.allowZoomOutside || (B(a5) && (c5 < n3 && (c5 = n3), c5 > u5 && (c5 = u5)), B(m3) && (d4 < n3 && (d4 = n3), d4 > u5 && (d4 = u5))), g3.displayBtn = typeof c5 !== "undefined" || typeof d4 !== "undefined", g3.setExtremes(c5, d4, false, void 0, { trigger: "zoom" });
              b5.zoomed = true;
            });
            return b4.zoomed;
          };
          e2.prototype.setAxisSize = function() {
            var b4 = this.chart, c4 = this.options, g3 = c4.offsets || [0, 0, 0, 0], a5 = this.horiz, m3 = this.width = Math.round(G2(r3(c4.width, b4.plotWidth - g3[3] + g3[1]), b4.plotWidth)), d3 = this.height = Math.round(G2(r3(c4.height, b4.plotHeight - g3[0] + g3[2]), b4.plotHeight)), n3 = this.top = Math.round(G2(r3(c4.top, b4.plotTop + g3[0]), b4.plotHeight, b4.plotTop));
            c4 = this.left = Math.round(G2(r3(c4.left, b4.plotLeft + g3[3]), b4.plotWidth, b4.plotLeft));
            this.bottom = b4.chartHeight - d3 - n3;
            this.right = b4.chartWidth - m3 - c4;
            this.len = Math.max(a5 ? m3 : d3, 0);
            this.pos = a5 ? c4 : n3;
          };
          e2.prototype.getExtremes = function() {
            var b4 = this.logarithmic;
            return {
              min: b4 ? F2(b4.lin2log(this.min)) : this.min,
              max: b4 ? F2(b4.lin2log(this.max)) : this.max,
              dataMin: this.dataMin,
              dataMax: this.dataMax,
              userMin: this.userMin,
              userMax: this.userMax
            };
          };
          e2.prototype.getThreshold = function(b4) {
            var c4 = this.logarithmic, g3 = c4 ? c4.lin2log(this.min) : this.min;
            c4 = c4 ? c4.lin2log(this.max) : this.max;
            b4 === null || b4 === -Infinity ? b4 = g3 : b4 === Infinity ? b4 = c4 : g3 > b4 ? b4 = g3 : c4 < b4 && (b4 = c4);
            return this.translate(b4, 0, 1, 0, 1);
          };
          e2.prototype.autoLabelAlign = function(b4) {
            var c4 = (r3(b4, 0) - 90 * this.side + 720) % 360;
            b4 = { align: "center" };
            C2(this, "autoLabelAlign", b4, function(b5) {
              15 < c4 && 165 > c4 ? b5.align = "right" : 195 < c4 && 345 > c4 && (b5.align = "left");
            });
            return b4.align;
          };
          e2.prototype.tickSize = function(b4) {
            var c4 = this.options, g3 = r3(c4[b4 === "tick" ? "tickWidth" : "minorTickWidth"], b4 === "tick" && this.isXAxis && !this.categories ? 1 : 0), a5 = c4[b4 === "tick" ? "tickLength" : "minorTickLength"];
            if (g3 && a5) {
              c4[b4 + "Position"] === "inside" && (a5 = -a5);
              var m3 = [a5, g3];
            }
            b4 = { tickSize: m3 };
            C2(this, "afterTickSize", b4);
            return b4.tickSize;
          };
          e2.prototype.labelMetrics = function() {
            var b4 = this.tickPositions && this.tickPositions[0] || 0;
            return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize, this.ticks[b4] && this.ticks[b4].label);
          };
          e2.prototype.unsquish = function() {
            var b4 = this.options.labels, c4 = this.horiz, g3 = this.tickInterval, a5 = this.len / (((this.categories ? 1 : 0) + this.max - this.min) / g3), m3 = b4.rotation, n3 = this.labelMetrics(), u5 = Math.max(this.max - this.min, 0), f3 = function(b5) {
              var c5 = b5 / (a5 || 1);
              c5 = 1 < c5 ? Math.ceil(c5) : 1;
              c5 * g3 > u5 && b5 !== Infinity && a5 !== Infinity && u5 && (c5 = Math.ceil(u5 / g3));
              return F2(c5 * g3);
            }, w3 = g3, G3, e3, x4 = Number.MAX_VALUE;
            if (c4) {
              if (!b4.staggerLines && !b4.step)
                if (t2(m3))
                  var k3 = [m3];
                else
                  a5 < b4.autoRotationLimit && (k3 = b4.autoRotation);
              k3 && k3.forEach(function(b5) {
                if (b5 === m3 || b5 && -90 <= b5 && 90 >= b5) {
                  e3 = f3(Math.abs(n3.h / Math.sin(d2 * b5)));
                  var c5 = e3 + Math.abs(b5 / 360);
                  c5 < x4 && (x4 = c5, G3 = b5, w3 = e3);
                }
              });
            } else
              b4.step || (w3 = f3(n3.h));
            this.autoRotation = k3;
            this.labelRotation = r3(G3, t2(m3) ? m3 : 0);
            return w3;
          };
          e2.prototype.getSlotWidth = function(b4) {
            var c4 = this.chart, g3 = this.horiz, a5 = this.options.labels, m3 = Math.max(this.tickPositions.length - (this.categories ? 0 : 1), 1), d3 = c4.margin[3];
            if (b4 && t2(b4.slotWidth))
              return b4.slotWidth;
            if (g3 && 2 > a5.step)
              return a5.rotation ? 0 : (this.staggerLines || 1) * this.len / m3;
            if (!g3) {
              b4 = a5.style.width;
              if (b4 !== void 0)
                return parseInt(String(b4), 10);
              if (d3)
                return d3 - c4.spacing[3];
            }
            return 0.33 * c4.chartWidth;
          };
          e2.prototype.renderUnsquish = function() {
            var b4 = this.chart, c4 = b4.renderer, a5 = this.tickPositions, m3 = this.ticks, d3 = this.options.labels, n3 = d3.style, r4 = this.horiz, u5 = this.getSlotWidth(), f3 = Math.max(1, Math.round(u5 - 2 * d3.padding)), w3 = {}, t3 = this.labelMetrics(), G3 = n3.textOverflow, e3 = 0;
            g2(d3.rotation) || (w3.rotation = d3.rotation || 0);
            a5.forEach(function(b5) {
              b5 = m3[b5];
              b5.movedLabel && b5.replaceMovedLabel();
              b5 && b5.label && b5.label.textPxLength > e3 && (e3 = b5.label.textPxLength);
            });
            this.maxLabelLength = e3;
            if (this.autoRotation)
              e3 > f3 && e3 > t3.h ? w3.rotation = this.labelRotation : this.labelRotation = 0;
            else if (u5) {
              var x4 = f3;
              if (!G3) {
                var k3 = "clip";
                for (f3 = a5.length; !r4 && f3--; ) {
                  var p3 = a5[f3];
                  if (p3 = m3[p3].label)
                    p3.styles && p3.styles.textOverflow === "ellipsis" ? p3.css({ textOverflow: "clip" }) : p3.textPxLength > u5 && p3.css({ width: u5 + "px" }), p3.getBBox().height > this.len / a5.length - (t3.h - t3.f) && (p3.specificTextOverflow = "ellipsis");
                }
              }
            }
            w3.rotation && (x4 = e3 > 0.5 * b4.chartHeight ? 0.33 * b4.chartHeight : e3, G3 || (k3 = "ellipsis"));
            if (this.labelAlign = d3.align || this.autoLabelAlign(this.labelRotation))
              w3.align = this.labelAlign;
            a5.forEach(function(b5) {
              var c5 = (b5 = m3[b5]) && b5.label, g3 = n3.width, a6 = {};
              c5 && (c5.attr(w3), b5.shortenLabel ? b5.shortenLabel() : x4 && !g3 && n3.whiteSpace !== "nowrap" && (x4 < c5.textPxLength || c5.element.tagName === "SPAN") ? (a6.width = x4 + "px", G3 || (a6.textOverflow = c5.specificTextOverflow || k3), c5.css(a6)) : c5.styles && c5.styles.width && !a6.width && !g3 && c5.css({ width: null }), delete c5.specificTextOverflow, b5.rotation = w3.rotation);
            }, this);
            this.tickRotCorr = c4.rotCorr(t3.b, this.labelRotation || 0, this.side !== 0);
          };
          e2.prototype.hasData = function() {
            return this.series.some(function(b4) {
              return b4.hasData();
            }) || this.options.showEmpty && B(this.min) && B(this.max);
          };
          e2.prototype.addTitle = function(b4) {
            var c4 = this.chart.renderer, g3 = this.horiz, a5 = this.opposite, m3 = this.options.title, d3 = this.chart.styledMode, n3;
            this.axisTitle || ((n3 = m3.textAlign) || (n3 = (g3 ? { low: "left", middle: "center", high: "right" } : { low: a5 ? "right" : "left", middle: "center", high: a5 ? "left" : "right" })[m3.align]), this.axisTitle = c4.text(m3.text || "", 0, 0, m3.useHTML).attr({ zIndex: 7, rotation: m3.rotation, align: n3 }).addClass("highcharts-axis-title"), d3 || this.axisTitle.css(u4(m3.style)), this.axisTitle.add(this.axisGroup), this.axisTitle.isNew = true);
            d3 || m3.style.width || this.isRadial || this.axisTitle.css({ width: this.len + "px" });
            this.axisTitle[b4 ? "show" : "hide"](b4);
          };
          e2.prototype.generateTick = function(b4) {
            var c4 = this.ticks;
            c4[b4] ? c4[b4].addLabel() : c4[b4] = new I2(this, b4);
          };
          e2.prototype.getOffset = function() {
            var c4 = this, g3 = this, a5 = g3.chart, m3 = g3.horiz, d3 = g3.options, n3 = g3.side, u5 = g3.ticks, f3 = g3.tickPositions, w3 = g3.coll, t3 = g3.axisParent, e3 = a5.renderer, G3 = a5.inverted && !g3.isZAxis ? [1, 0, 3, 2][n3] : n3, x4 = g3.hasData(), k3 = d3.title, p3 = d3.labels, l4 = a5.axisOffset;
            a5 = a5.clipOffset;
            var y3 = [
              -1,
              1,
              1,
              -1
            ][n3], N4 = d3.className, h5, q4 = 0, J3 = 0, F3 = 0;
            g3.showAxis = h5 = x4 || d3.showEmpty;
            g3.staggerLines = g3.horiz && p3.staggerLines || void 0;
            if (!g3.axisGroup) {
              var K3 = function(b4, g4, a6) {
                return e3.g(b4).attr({ zIndex: a6 }).addClass("highcharts-" + w3.toLowerCase() + g4 + " " + (c4.isRadial ? "highcharts-radial-axis" + g4 + " " : "") + (N4 || "")).add(t3);
              };
              g3.gridGroup = K3("grid", "-grid", d3.gridZIndex);
              g3.axisGroup = K3("axis", "", d3.zIndex);
              g3.labelGroup = K3("axis-labels", "-labels", p3.zIndex);
            }
            x4 || g3.isLinked ? (f3.forEach(function(b4) {
              g3.generateTick(b4);
            }), g3.renderUnsquish(), g3.reserveSpaceDefault = n3 === 0 || n3 === 2 || { 1: "left", 3: "right" }[n3] === g3.labelAlign, r3(p3.reserveSpace, g3.labelAlign === "center" ? true : null, g3.reserveSpaceDefault) && f3.forEach(function(b4) {
              F3 = Math.max(u5[b4].getLabelSize(), F3);
            }), g3.staggerLines && (F3 *= g3.staggerLines), g3.labelOffset = F3 * (g3.opposite ? -1 : 1)) : b3(u5, function(b4, c5) {
              b4.destroy();
              delete u5[c5];
            });
            if (k3 && k3.text && k3.enabled !== false && (g3.addTitle(h5), h5 && k3.reserveSpace !== false)) {
              g3.titleOffset = q4 = g3.axisTitle.getBBox()[m3 ? "height" : "width"];
              var L4 = k3.offset;
              J3 = B(L4) ? 0 : r3(k3.margin, m3 ? 5 : 10);
            }
            g3.renderLine();
            g3.offset = y3 * r3(d3.offset, l4[n3] ? l4[n3] + (d3.margin || 0) : 0);
            g3.tickRotCorr = g3.tickRotCorr || { x: 0, y: 0 };
            k3 = n3 === 0 ? -g3.labelMetrics().h : n3 === 2 ? g3.tickRotCorr.y : 0;
            x4 = Math.abs(F3) + J3;
            F3 && (x4 = x4 - k3 + y3 * (m3 ? r3(p3.y, g3.tickRotCorr.y + 8 * y3) : p3.x));
            g3.axisTitleMargin = r3(L4, x4);
            g3.getMaxLabelDimensions && (g3.maxLabelDimensions = g3.getMaxLabelDimensions(u5, f3));
            w3 !== "colorAxis" && (m3 = this.tickSize("tick"), l4[n3] = Math.max(l4[n3], (g3.axisTitleMargin || 0) + q4 + y3 * g3.offset, x4, f3 && f3.length && m3 ? m3[0] + y3 * g3.offset : 0), d3 = !g3.axisLine || d3.offset ? 0 : 2 * Math.floor(g3.axisLine.strokeWidth() / 2), a5[G3] = Math.max(a5[G3], d3));
            C2(this, "afterGetOffset");
          };
          e2.prototype.getLinePath = function(b4) {
            var c4 = this.chart, g3 = this.opposite, a5 = this.offset, m3 = this.horiz, d3 = this.left + (g3 ? this.width : 0) + a5;
            a5 = c4.chartHeight - this.bottom - (g3 ? this.height : 0) + a5;
            g3 && (b4 *= -1);
            return c4.renderer.crispLine([["M", m3 ? this.left : d3, m3 ? a5 : this.top], ["L", m3 ? c4.chartWidth - this.right : d3, m3 ? a5 : c4.chartHeight - this.bottom]], b4);
          };
          e2.prototype.renderLine = function() {
            this.axisLine || (this.axisLine = this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup), this.chart.styledMode || this.axisLine.attr({ stroke: this.options.lineColor, "stroke-width": this.options.lineWidth, zIndex: 7 }));
          };
          e2.prototype.getTitlePosition = function() {
            var b4 = this.horiz, c4 = this.left, g3 = this.top, a5 = this.len, m3 = this.options.title, d3 = b4 ? c4 : g3, n3 = this.opposite, r4 = this.offset, u5 = m3.x, f3 = m3.y, w3 = this.axisTitle, t3 = this.chart.renderer.fontMetrics(m3.style.fontSize, w3);
            w3 = Math.max(w3.getBBox(null, 0).height - t3.h - 1, 0);
            a5 = { low: d3 + (b4 ? 0 : a5), middle: d3 + a5 / 2, high: d3 + (b4 ? a5 : 0) }[m3.align];
            c4 = (b4 ? g3 + this.height : c4) + (b4 ? 1 : -1) * (n3 ? -1 : 1) * this.axisTitleMargin + [
              -w3,
              w3,
              t3.f,
              -w3
            ][this.side];
            b4 = { x: b4 ? a5 + u5 : c4 + (n3 ? this.width : 0) + r4 + u5, y: b4 ? c4 + f3 - (n3 ? this.height : 0) + r4 : a5 + f3 };
            C2(this, "afterGetTitlePosition", { titlePosition: b4 });
            return b4;
          };
          e2.prototype.renderMinorTick = function(b4, c4) {
            var g3 = this.minorTicks;
            g3[b4] || (g3[b4] = new I2(this, b4, "minor"));
            c4 && g3[b4].isNew && g3[b4].render(null, true);
            g3[b4].render(null, false, 1);
          };
          e2.prototype.renderTick = function(b4, c4, g3) {
            var a5 = this.ticks;
            if (!this.isLinked || b4 >= this.min && b4 <= this.max || this.grid && this.grid.isColumn)
              a5[b4] || (a5[b4] = new I2(this, b4)), g3 && a5[b4].isNew && a5[b4].render(c4, true, -1), a5[b4].render(c4);
          };
          e2.prototype.render = function() {
            var c4 = this, g3 = c4.chart, a5 = c4.logarithmic, m3 = c4.options, d3 = c4.isLinked, n3 = c4.tickPositions, r4 = c4.axisTitle, u5 = c4.ticks, f3 = c4.minorTicks, w3 = c4.alternateBands, e3 = m3.stackLabels, G3 = m3.alternateGridColor, x4 = c4.tickmarkOffset, k3 = c4.axisLine, p3 = c4.showAxis, l4 = q3(g3.renderer.globalAnimation), y3, h5;
            c4.labelEdge.length = 0;
            c4.overlap = false;
            [u5, f3, w3].forEach(function(c5) {
              b3(c5, function(b4) {
                b4.isActive = false;
              });
            });
            if (c4.hasData() || d3) {
              var B2 = c4.chart.hasRendered && c4.old && t2(c4.old.min);
              c4.minorTickInterval && !c4.categories && c4.getMinorTickPositions().forEach(function(b4) {
                c4.renderMinorTick(b4, B2);
              });
              n3.length && (n3.forEach(function(b4, g4) {
                c4.renderTick(b4, g4, B2);
              }), x4 && (c4.min === 0 || c4.single) && (u5[-1] || (u5[-1] = new I2(c4, -1, null, true)), u5[-1].render(-1)));
              G3 && n3.forEach(function(b4, m4) {
                h5 = typeof n3[m4 + 1] !== "undefined" ? n3[m4 + 1] + x4 : c4.max - x4;
                m4 % 2 === 0 && b4 < c4.max && h5 <= c4.max + (g3.polar ? -x4 : x4) && (w3[b4] || (w3[b4] = new H2.PlotLineOrBand(c4)), y3 = b4 + x4, w3[b4].options = { from: a5 ? a5.lin2log(y3) : y3, to: a5 ? a5.lin2log(h5) : h5, color: G3, className: "highcharts-alternate-grid" }, w3[b4].render(), w3[b4].isActive = true);
              });
              c4._addedPlotLB || (c4._addedPlotLB = true, (m3.plotLines || []).concat(m3.plotBands || []).forEach(function(b4) {
                c4.addPlotBandOrLine(b4);
              }));
            }
            [u5, f3, w3].forEach(function(c5) {
              var a6 = [], m4 = l4.duration;
              b3(c5, function(b4, c6) {
                b4.isActive || (b4.render(c6, false, 0), b4.isActive = false, a6.push(c6));
              });
              N3(function() {
                for (var b4 = a6.length; b4--; )
                  c5[a6[b4]] && !c5[a6[b4]].isActive && (c5[a6[b4]].destroy(), delete c5[a6[b4]]);
              }, c5 !== w3 && g3.hasRendered && m4 ? m4 : 0);
            });
            k3 && (k3[k3.isPlaced ? "animate" : "attr"]({ d: this.getLinePath(k3.strokeWidth()) }), k3.isPlaced = true, k3[p3 ? "show" : "hide"](p3));
            r4 && p3 && (m3 = c4.getTitlePosition(), t2(m3.y) ? (r4[r4.isNew ? "attr" : "animate"](m3), r4.isNew = false) : (r4.attr("y", -9999), r4.isNew = true));
            e3 && e3.enabled && c4.stacking && c4.stacking.renderStackTotals();
            c4.old = { len: c4.len, max: c4.max, min: c4.min, transA: c4.transA, userMax: c4.userMax, userMin: c4.userMin };
            c4.isDirty = false;
            C2(this, "afterRender");
          };
          e2.prototype.redraw = function() {
            this.visible && (this.render(), this.plotLinesAndBands.forEach(function(b4) {
              b4.render();
            }));
            this.series.forEach(function(b4) {
              b4.isDirty = true;
            });
          };
          e2.prototype.getKeepProps = function() {
            return this.keepProps || e2.keepProps;
          };
          e2.prototype.destroy = function(c4) {
            var g3 = this, a5 = g3.plotLinesAndBands, d3 = this.eventOptions;
            C2(this, "destroy", { keepEvents: c4 });
            c4 || m2(g3);
            [g3.ticks, g3.minorTicks, g3.alternateBands].forEach(function(b4) {
              J2(b4);
            });
            if (a5)
              for (c4 = a5.length; c4--; )
                a5[c4].destroy();
            "axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(b4) {
              g3[b4] && (g3[b4] = g3[b4].destroy());
            });
            for (var n3 in g3.plotLinesAndBandsGroups)
              g3.plotLinesAndBandsGroups[n3] = g3.plotLinesAndBandsGroups[n3].destroy();
            b3(g3, function(b4, c5) {
              g3.getKeepProps().indexOf(c5) === -1 && delete g3[c5];
            });
            this.eventOptions = d3;
          };
          e2.prototype.drawCrosshair = function(b4, c4) {
            var g3 = this.crosshair, a5 = r3(g3 && g3.snap, true), m3 = this.chart, d3, n3 = this.cross;
            C2(this, "drawCrosshair", { e: b4, point: c4 });
            b4 || (b4 = this.cross && this.cross.e);
            if (g3 && (B(c4) || !a5) !== false) {
              a5 ? B(c4) && (d3 = r3(this.coll !== "colorAxis" ? c4.crosshairPos : null, this.isXAxis ? c4.plotX : this.len - c4.plotY)) : d3 = b4 && (this.horiz ? b4.chartX - this.pos : this.len - b4.chartY + this.pos);
              if (B(d3)) {
                var u5 = { value: c4 && (this.isXAxis ? c4.x : r3(c4.stackY, c4.y)), translatedValue: d3 };
                m3.polar && y2(u5, { isCrosshair: true, chartX: b4 && b4.chartX, chartY: b4 && b4.chartY, point: c4 });
                u5 = this.getPlotLinePath(u5) || null;
              }
              if (!B(u5)) {
                this.hideCrosshair();
                return;
              }
              a5 = this.categories && !this.isRadial;
              n3 || (this.cross = n3 = m3.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-" + (a5 ? "category " : "thin ") + (g3.className || "")).attr({ zIndex: r3(g3.zIndex, 2) }).add(), m3.styledMode || (n3.attr({ stroke: g3.color || (a5 ? A.parse("#ccd6eb").setOpacity(0.25).get() : "#cccccc"), "stroke-width": r3(g3.width, 1) }).css({ "pointer-events": "none" }), g3.dashStyle && n3.attr({ dashstyle: g3.dashStyle })));
              n3.show().attr({ d: u5 });
              a5 && !g3.width && n3.attr({ "stroke-width": this.transA });
              this.cross.e = b4;
            } else
              this.hideCrosshair();
            C2(this, "afterDrawCrosshair", { e: b4, point: c4 });
          };
          e2.prototype.hideCrosshair = function() {
            this.cross && this.cross.hide();
            C2(this, "afterHideCrosshair");
          };
          e2.prototype.hasVerticalPanning = function() {
            var b4 = this.chart.options.chart.panning;
            return !!(b4 && b4.enabled && /y/.test(b4.type));
          };
          e2.prototype.validatePositiveValue = function(b4) {
            return t2(b4) && 0 < b4;
          };
          e2.prototype.update = function(b4, c4) {
            var g3 = this.chart;
            b4 = u4(this.userOptions, b4);
            this.destroy(true);
            this.init(g3, b4);
            g3.isDirtyBox = true;
            r3(c4, true) && g3.redraw();
          };
          e2.prototype.remove = function(b4) {
            for (var c4 = this.chart, g3 = this.coll, a5 = this.series, m3 = a5.length; m3--; )
              a5[m3] && a5[m3].remove(false);
            K2(c4.axes, this);
            K2(c4[g3], this);
            c4[g3].forEach(function(b5, c5) {
              b5.options.index = b5.userOptions.index = c5;
            });
            this.destroy();
            c4.isDirtyBox = true;
            r3(b4, true) && c4.redraw();
          };
          e2.prototype.setTitle = function(b4, c4) {
            this.update({ title: b4 }, c4);
          };
          e2.prototype.setCategories = function(b4, c4) {
            this.update({ categories: b4 }, c4);
          };
          e2.defaultOptions = h4.defaultXAxisOptions;
          e2.keepProps = "extKey hcEvents names series userMax userMin".split(" ");
          return e2;
        }();
        "";
        return e;
      });
      M2(h3, "Core/Axis/DateTimeAxis.js", [h3["Core/Utilities.js"]], function(e) {
        var h4 = e.addEvent, A = e.getMagnitude, E3 = e.normalizeTickInterval, v = e.timeUnits, H2;
        (function(e2) {
          function z2() {
            return this.chart.time.getTimeTicks.apply(this.chart.time, arguments);
          }
          function q3(d2) {
            d2.userOptions.type !== "datetime" ? this.dateTime = void 0 : this.dateTime || (this.dateTime = new f2(this));
          }
          var l3 = [];
          e2.compose = function(d2) {
            l3.indexOf(d2) === -1 && (l3.push(d2), d2.keepProps.push("dateTime"), d2.prototype.getTimeTicks = z2, h4(d2, "init", q3));
            return d2;
          };
          var f2 = function() {
            function d2(a4) {
              this.axis = a4;
            }
            d2.prototype.normalizeTimeTickInterval = function(a4, d3) {
              var f3 = d3 || [["millisecond", [1, 2, 5, 10, 20, 25, 50, 100, 200, 500]], ["second", [1, 2, 5, 10, 15, 30]], ["minute", [1, 2, 5, 10, 15, 30]], ["hour", [1, 2, 3, 4, 6, 8, 12]], ["day", [1, 2]], ["week", [1, 2]], ["month", [1, 2, 3, 4, 6]], ["year", null]];
              d3 = f3[f3.length - 1];
              var e3 = v[d3[0]], p2 = d3[1], l4;
              for (l4 = 0; l4 < f3.length && !(d3 = f3[l4], e3 = v[d3[0]], p2 = d3[1], f3[l4 + 1] && a4 <= (e3 * p2[p2.length - 1] + v[f3[l4 + 1][0]]) / 2); l4++)
                ;
              e3 === v.year && a4 < 5 * e3 && (p2 = [1, 2, 5]);
              a4 = E3(a4 / e3, p2, d3[0] === "year" ? Math.max(A(a4 / e3), 1) : 1);
              return { unitRange: e3, count: a4, unitName: d3[0] };
            };
            d2.prototype.getXDateFormat = function(a4, d3) {
              var f3 = this.axis;
              return f3.closestPointRange ? f3.chart.time.getDateFormat(f3.closestPointRange, a4, f3.options.startOfWeek, d3) || d3.year : d3.day;
            };
            return d2;
          }();
          e2.Additions = f2;
        })(H2 || (H2 = {}));
        return H2;
      });
      M2(h3, "Core/Axis/LogarithmicAxis.js", [h3["Core/Utilities.js"]], function(e) {
        var h4 = e.addEvent, A = e.getMagnitude, E3 = e.normalizeTickInterval, v = e.pick, H2;
        (function(e2) {
          function z2(d2) {
            var a4 = this.logarithmic;
            d2.userOptions.type !== "logarithmic" ? this.logarithmic = void 0 : a4 || (this.logarithmic = new f2(this));
          }
          function q3() {
            var d2 = this.logarithmic;
            d2 && (this.lin2val = function(a4) {
              return d2.lin2log(a4);
            }, this.val2lin = function(a4) {
              return d2.log2lin(a4);
            });
          }
          var l3 = [];
          e2.compose = function(d2) {
            l3.indexOf(d2) === -1 && (l3.push(d2), d2.keepProps.push("logarithmic"), h4(d2, "init", z2), h4(d2, "afterInit", q3));
            return d2;
          };
          var f2 = function() {
            function d2(a4) {
              this.axis = a4;
            }
            d2.prototype.getLogTickPositions = function(a4, d3, f3, e3) {
              var k2 = this.axis, p2 = k2.len, l4 = k2.options, h5 = [];
              e3 || (this.minorAutoInterval = void 0);
              if (0.5 <= a4)
                a4 = Math.round(a4), h5 = k2.getLinearTickPositions(a4, d3, f3);
              else if (0.08 <= a4) {
                var y2 = Math.floor(d3), C2, x3 = l4 = void 0;
                for (p2 = 0.3 < a4 ? [1, 2, 4] : 0.15 < a4 ? [1, 2, 4, 6, 8] : [1, 2, 3, 4, 5, 6, 7, 8, 9]; y2 < f3 + 1 && !x3; y2++) {
                  var c3 = p2.length;
                  for (C2 = 0; C2 < c3 && !x3; C2++) {
                    var t2 = this.log2lin(this.lin2log(y2) * p2[C2]);
                    t2 > d3 && (!e3 || l4 <= f3) && typeof l4 !== "undefined" && h5.push(l4);
                    l4 > f3 && (x3 = true);
                    l4 = t2;
                  }
                }
              } else
                d3 = this.lin2log(d3), f3 = this.lin2log(f3), a4 = e3 ? k2.getMinorTickInterval() : l4.tickInterval, a4 = v(a4 === "auto" ? null : a4, this.minorAutoInterval, l4.tickPixelInterval / (e3 ? 5 : 1) * (f3 - d3) / ((e3 ? p2 / k2.tickPositions.length : p2) || 1)), a4 = E3(a4, void 0, A(a4)), h5 = k2.getLinearTickPositions(a4, d3, f3).map(this.log2lin), e3 || (this.minorAutoInterval = a4 / 5);
              e3 || (k2.tickInterval = a4);
              return h5;
            };
            d2.prototype.lin2log = function(a4) {
              return Math.pow(10, a4);
            };
            d2.prototype.log2lin = function(a4) {
              return Math.log(a4) / Math.LN10;
            };
            return d2;
          }();
          e2.Additions = f2;
        })(H2 || (H2 = {}));
        return H2;
      });
      M2(h3, "Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js", [h3["Core/Utilities.js"]], function(e) {
        var h4 = e.erase, A = e.extend, E3 = e.isNumber, v;
        (function(e2) {
          var v2 = [], z2;
          e2.compose = function(e3, f2) {
            z2 || (z2 = e3);
            v2.indexOf(f2) === -1 && (v2.push(f2), A(f2.prototype, q3.prototype));
            return f2;
          };
          var q3 = function() {
            function e3() {
            }
            e3.prototype.getPlotBandPath = function(f2, d2, a4) {
              a4 === void 0 && (a4 = this.options);
              var e4 = this.getPlotLinePath({ value: d2, force: true, acrossPanes: a4.acrossPanes }), k2 = [], l3 = this.horiz;
              d2 = !E3(this.min) || !E3(this.max) || f2 < this.min && d2 < this.min || f2 > this.max && d2 > this.max;
              f2 = this.getPlotLinePath({ value: f2, force: true, acrossPanes: a4.acrossPanes });
              a4 = 1;
              if (f2 && e4) {
                if (d2) {
                  var h5 = f2.toString() === e4.toString();
                  a4 = 0;
                }
                for (d2 = 0; d2 < f2.length; d2 += 2) {
                  var q4 = f2[d2], K2 = f2[d2 + 1], L3 = e4[d2], y2 = e4[d2 + 1];
                  q4[0] !== "M" && q4[0] !== "L" || K2[0] !== "M" && K2[0] !== "L" || L3[0] !== "M" && L3[0] !== "L" || y2[0] !== "M" && y2[0] !== "L" || (l3 && L3[1] === q4[1] ? (L3[1] += a4, y2[1] += a4) : l3 || L3[2] !== q4[2] || (L3[2] += a4, y2[2] += a4), k2.push(["M", q4[1], q4[2]], ["L", K2[1], K2[2]], ["L", y2[1], y2[2]], ["L", L3[1], L3[2]], ["Z"]));
                  k2.isFlat = h5;
                }
              }
              return k2;
            };
            e3.prototype.addPlotBand = function(f2) {
              return this.addPlotBandOrLine(f2, "plotBands");
            };
            e3.prototype.addPlotLine = function(f2) {
              return this.addPlotBandOrLine(f2, "plotLines");
            };
            e3.prototype.addPlotBandOrLine = function(f2, d2) {
              var a4 = this, e4 = this.userOptions, k2 = new z2(this, f2);
              this.visible && (k2 = k2.render());
              if (k2) {
                this._addedPlotLB || (this._addedPlotLB = true, (e4.plotLines || []).concat(e4.plotBands || []).forEach(function(d3) {
                  a4.addPlotBandOrLine(d3);
                }));
                if (d2) {
                  var l3 = e4[d2] || [];
                  l3.push(f2);
                  e4[d2] = l3;
                }
                this.plotLinesAndBands.push(k2);
              }
              return k2;
            };
            e3.prototype.removePlotBandOrLine = function(f2) {
              var d2 = this.plotLinesAndBands, a4 = this.options, e4 = this.userOptions;
              if (d2) {
                for (var k2 = d2.length; k2--; )
                  d2[k2].id === f2 && d2[k2].destroy();
                [a4.plotLines || [], e4.plotLines || [], a4.plotBands || [], e4.plotBands || []].forEach(function(a5) {
                  for (k2 = a5.length; k2--; )
                    (a5[k2] || {}).id === f2 && h4(a5, a5[k2]);
                });
              }
            };
            e3.prototype.removePlotBand = function(f2) {
              this.removePlotBandOrLine(f2);
            };
            e3.prototype.removePlotLine = function(f2) {
              this.removePlotBandOrLine(f2);
            };
            return e3;
          }();
        })(v || (v = {}));
        return v;
      });
      M2(h3, "Core/Axis/PlotLineOrBand/PlotLineOrBand.js", [h3["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"], h3["Core/Utilities.js"]], function(e, h4) {
        var A = h4.arrayMax, D3 = h4.arrayMin, v = h4.defined, H2 = h4.destroyObjectProperties, I2 = h4.erase, z2 = h4.fireEvent, q3 = h4.merge, l3 = h4.objectEach, f2 = h4.pick;
        h4 = function() {
          function d2(a4, d3) {
            this.axis = a4;
            d3 && (this.options = d3, this.id = d3.id);
          }
          d2.compose = function(a4) {
            return e.compose(d2, a4);
          };
          d2.prototype.render = function() {
            z2(this, "render");
            var a4 = this, d3 = a4.axis, e2 = d3.horiz, h5 = d3.logarithmic, B = a4.options, J2 = B.color, K2 = f2(B.zIndex, 0), L3 = B.events, y2 = {}, C2 = d3.chart.renderer, x3 = B.label, c3 = a4.label, t2 = B.to, g2 = B.from, u4 = B.value, n2 = a4.svgElem, b3 = [], r3 = v(g2) && v(t2);
            b3 = v(u4);
            var G2 = !n2, m2 = { "class": "highcharts-plot-" + (r3 ? "band " : "line ") + (B.className || "") }, w2 = r3 ? "bands" : "lines";
            h5 && (g2 = h5.log2lin(g2), t2 = h5.log2lin(t2), u4 = h5.log2lin(u4));
            d3.chart.styledMode || (b3 ? (m2.stroke = J2 || "#999999", m2["stroke-width"] = f2(B.width, 1), B.dashStyle && (m2.dashstyle = B.dashStyle)) : r3 && (m2.fill = J2 || "#e6ebf5", B.borderWidth && (m2.stroke = B.borderColor, m2["stroke-width"] = B.borderWidth)));
            y2.zIndex = K2;
            w2 += "-" + K2;
            (h5 = d3.plotLinesAndBandsGroups[w2]) || (d3.plotLinesAndBandsGroups[w2] = h5 = C2.g("plot-" + w2).attr(y2).add());
            G2 && (a4.svgElem = n2 = C2.path().attr(m2).add(h5));
            if (b3)
              b3 = d3.getPlotLinePath({ value: u4, lineWidth: n2.strokeWidth(), acrossPanes: B.acrossPanes });
            else if (r3)
              b3 = d3.getPlotBandPath(g2, t2, B);
            else
              return;
            !a4.eventsAdded && L3 && (l3(L3, function(b4, c4) {
              n2.on(c4, function(b5) {
                L3[c4].apply(a4, [b5]);
              });
            }), a4.eventsAdded = true);
            (G2 || !n2.d) && b3 && b3.length ? n2.attr({ d: b3 }) : n2 && (b3 ? (n2.show(true), n2.animate({ d: b3 })) : n2.d && (n2.hide(), c3 && (a4.label = c3 = c3.destroy())));
            x3 && (v(x3.text) || v(x3.formatter)) && b3 && b3.length && 0 < d3.width && 0 < d3.height && !b3.isFlat ? (x3 = q3({ align: e2 && r3 && "center", x: e2 ? !r3 && 4 : 10, verticalAlign: !e2 && r3 && "middle", y: e2 ? r3 ? 16 : 10 : r3 ? 6 : -4, rotation: e2 && !r3 && 90 }, x3), this.renderLabel(x3, b3, r3, K2)) : c3 && c3.hide();
            return a4;
          };
          d2.prototype.renderLabel = function(a4, d3, f3, e2) {
            var k2 = this.axis, l4 = k2.chart.renderer, p2 = this.label;
            p2 || (this.label = p2 = l4.text(this.getLabelText(a4), 0, 0, a4.useHTML).attr({ align: a4.textAlign || a4.align, rotation: a4.rotation, "class": "highcharts-plot-" + (f3 ? "band" : "line") + "-label " + (a4.className || ""), zIndex: e2 }).add(), k2.chart.styledMode || p2.css(q3({ textOverflow: "ellipsis" }, a4.style)));
            e2 = d3.xBounds || [d3[0][1], d3[1][1], f3 ? d3[2][1] : d3[0][1]];
            d3 = d3.yBounds || [d3[0][2], d3[1][2], f3 ? d3[2][2] : d3[0][2]];
            f3 = D3(e2);
            l4 = D3(d3);
            p2.align(a4, false, { x: f3, y: l4, width: A(e2) - f3, height: A(d3) - l4 });
            p2.alignValue && p2.alignValue !== "left" || p2.css({ width: (p2.rotation === 90 ? k2.height - (p2.alignAttr.y - k2.top) : k2.width - (p2.alignAttr.x - k2.left)) + "px" });
            p2.show(true);
          };
          d2.prototype.getLabelText = function(a4) {
            return v(a4.formatter) ? a4.formatter.call(this) : a4.text;
          };
          d2.prototype.destroy = function() {
            I2(this.axis.plotLinesAndBands, this);
            delete this.axis;
            H2(this);
          };
          return d2;
        }();
        "";
        "";
        return h4;
      });
      M2(h3, "Core/Tooltip.js", [h3["Core/FormatUtilities.js"], h3["Core/Globals.js"], h3["Core/Renderer/RendererUtilities.js"], h3["Core/Renderer/RendererRegistry.js"], h3["Core/Utilities.js"]], function(e, h4, A, E3, v) {
        var D3 = e.format, I2 = h4.doc, z2 = A.distribute, q3 = v.addEvent, l3 = v.clamp, f2 = v.css, d2 = v.defined, a4 = v.discardElement, p2 = v.extend, k2 = v.fireEvent, F2 = v.isArray, B = v.isNumber, J2 = v.isString, K2 = v.merge, L3 = v.pick, y2 = v.splat, C2 = v.syncTimeout;
        e = function() {
          function e2(c3, a5) {
            this.allowShared = true;
            this.container = void 0;
            this.crosshairs = [];
            this.distance = 0;
            this.isHidden = true;
            this.isSticky = false;
            this.now = {};
            this.options = {};
            this.outside = false;
            this.chart = c3;
            this.init(c3, a5);
          }
          e2.prototype.applyFilter = function() {
            var c3 = this.chart;
            c3.renderer.definition({
              tagName: "filter",
              attributes: { id: "drop-shadow-" + c3.index, opacity: 0.5 },
              children: [{ tagName: "feGaussianBlur", attributes: { "in": "SourceAlpha", stdDeviation: 1 } }, { tagName: "feOffset", attributes: { dx: 1, dy: 1 } }, { tagName: "feComponentTransfer", children: [{ tagName: "feFuncA", attributes: { type: "linear", slope: 0.3 } }] }, { tagName: "feMerge", children: [{ tagName: "feMergeNode" }, { tagName: "feMergeNode", attributes: { "in": "SourceGraphic" } }] }]
            });
          };
          e2.prototype.bodyFormatter = function(c3) {
            return c3.map(function(c4) {
              var g2 = c4.series.tooltipOptions;
              return (g2[(c4.point.formatPrefix || "point") + "Formatter"] || c4.point.tooltipFormatter).call(c4.point, g2[(c4.point.formatPrefix || "point") + "Format"] || "");
            });
          };
          e2.prototype.cleanSplit = function(c3) {
            this.chart.series.forEach(function(a5) {
              var g2 = a5 && a5.tt;
              g2 && (!g2.isActive || c3 ? a5.tt = g2.destroy() : g2.isActive = false);
            });
          };
          e2.prototype.defaultFormatter = function(c3) {
            var a5 = this.points || y2(this);
            var g2 = [c3.tooltipFooterHeaderFormatter(a5[0])];
            g2 = g2.concat(c3.bodyFormatter(a5));
            g2.push(c3.tooltipFooterHeaderFormatter(a5[0], true));
            return g2;
          };
          e2.prototype.destroy = function() {
            this.label && (this.label = this.label.destroy());
            this.split && this.tt && (this.cleanSplit(true), this.tt = this.tt.destroy());
            this.renderer && (this.renderer = this.renderer.destroy(), a4(this.container));
            v.clearTimeout(this.hideTimer);
            v.clearTimeout(this.tooltipTimeout);
          };
          e2.prototype.getAnchor = function(c3, a5) {
            var g2 = this.chart, d3 = g2.pointer, n2 = g2.inverted, b3 = g2.plotTop, r3 = g2.plotLeft, f3, m2, e3 = 0, t2 = 0;
            c3 = y2(c3);
            this.followPointer && a5 ? (typeof a5.chartX === "undefined" && (a5 = d3.normalize(a5)), d3 = [a5.chartX - r3, a5.chartY - b3]) : c3[0].tooltipPos ? d3 = c3[0].tooltipPos : (c3.forEach(function(c4) {
              f3 = c4.series.yAxis;
              m2 = c4.series.xAxis;
              e3 += c4.plotX || 0;
              t2 += c4.plotLow ? (c4.plotLow + (c4.plotHigh || 0)) / 2 : c4.plotY || 0;
              m2 && f3 && (n2 ? (e3 += b3 + g2.plotHeight - m2.len - m2.pos, t2 += r3 + g2.plotWidth - f3.len - f3.pos) : (e3 += m2.pos - r3, t2 += f3.pos - b3));
            }), e3 /= c3.length, t2 /= c3.length, d3 = [n2 ? g2.plotWidth - t2 : e3, n2 ? g2.plotHeight - e3 : t2], this.shared && 1 < c3.length && a5 && (n2 ? d3[0] = a5.chartX - r3 : d3[1] = a5.chartY - b3));
            return d3.map(Math.round);
          };
          e2.prototype.getLabel = function() {
            var c3 = this, a5 = this.chart.styledMode, g2 = this.options, u4 = this.split && this.allowShared, n2 = "tooltip" + (d2(g2.className) ? " " + g2.className : ""), b3 = g2.style.pointerEvents || (!this.followPointer && g2.stickOnContact ? "auto" : "none"), r3 = function() {
              c3.inContact = true;
            }, e3 = function(b4) {
              var g3 = c3.chart.hoverSeries;
              c3.inContact = c3.shouldStickOnContact() && c3.chart.pointer.inClass(b4.relatedTarget, "highcharts-tooltip");
              if (!c3.inContact && g3 && g3.onMouseOut)
                g3.onMouseOut();
            }, m2, w2 = this.chart.renderer;
            if (c3.label) {
              var x3 = !c3.label.hasClass("highcharts-label");
              (u4 && !x3 || !u4 && x3) && c3.destroy();
            }
            if (!this.label) {
              if (this.outside) {
                x3 = this.chart.options.chart.style;
                var k3 = E3.getRendererType();
                this.container = m2 = h4.doc.createElement("div");
                m2.className = "highcharts-tooltip-container";
                f2(m2, { position: "absolute", top: "1px", pointerEvents: b3, zIndex: Math.max(this.options.style.zIndex || 0, (x3 && x3.zIndex || 0) + 3) });
                q3(m2, "mouseenter", r3);
                q3(m2, "mouseleave", e3);
                h4.doc.body.appendChild(m2);
                this.renderer = w2 = new k3(m2, 0, 0, x3, void 0, void 0, w2.styledMode);
              }
              u4 ? this.label = w2.g(n2) : (this.label = w2.label("", 0, 0, g2.shape, void 0, void 0, g2.useHTML, void 0, n2).attr({ padding: g2.padding, r: g2.borderRadius }), a5 || this.label.attr({
                fill: g2.backgroundColor,
                "stroke-width": g2.borderWidth
              }).css(g2.style).css({ pointerEvents: b3 }).shadow(g2.shadow));
              a5 && g2.shadow && (this.applyFilter(), this.label.attr({ filter: "url(#drop-shadow-" + this.chart.index + ")" }));
              if (c3.outside && !c3.split) {
                var l4 = this.label, p3 = l4.xSetter, C3 = l4.ySetter;
                l4.xSetter = function(b4) {
                  p3.call(l4, c3.distance);
                  m2.style.left = b4 + "px";
                };
                l4.ySetter = function(b4) {
                  C3.call(l4, c3.distance);
                  m2.style.top = b4 + "px";
                };
              }
              this.label.on("mouseenter", r3).on("mouseleave", e3).attr({ zIndex: 8 }).add();
            }
            return this.label;
          };
          e2.prototype.getPosition = function(c3, a5, g2) {
            var d3 = this.chart, n2 = this.distance, b3 = {}, r3 = d3.inverted && g2.h || 0, f3 = this.outside, m2 = f3 ? I2.documentElement.clientWidth - 2 * n2 : d3.chartWidth, e3 = f3 ? Math.max(I2.body.scrollHeight, I2.documentElement.scrollHeight, I2.body.offsetHeight, I2.documentElement.offsetHeight, I2.documentElement.clientHeight) : d3.chartHeight, t2 = d3.pointer.getChartPosition(), x3 = function(b4) {
              var r4 = b4 === "x";
              return [b4, r4 ? m2 : e3, r4 ? c3 : a5].concat(f3 ? [r4 ? c3 * t2.scaleX : a5 * t2.scaleY, r4 ? t2.left - n2 + (g2.plotX + d3.plotLeft) * t2.scaleX : t2.top - n2 + (g2.plotY + d3.plotTop) * t2.scaleY, 0, r4 ? m2 : e3] : [r4 ? c3 : a5, r4 ? g2.plotX + d3.plotLeft : g2.plotY + d3.plotTop, r4 ? d3.plotLeft : d3.plotTop, r4 ? d3.plotLeft + d3.plotWidth : d3.plotTop + d3.plotHeight]);
            }, k3 = x3("y"), l4 = x3("x"), p3;
            x3 = !!g2.negative;
            !d3.polar && d3.hoverSeries && d3.hoverSeries.yAxis && d3.hoverSeries.yAxis.reversed && (x3 = !x3);
            var C3 = !this.followPointer && L3(g2.ttBelow, !d3.inverted === x3), y3 = function(c4, g3, a6, m3, d4, u4, e4) {
              var w2 = f3 ? c4 === "y" ? n2 * t2.scaleY : n2 * t2.scaleX : n2, G2 = (a6 - m3) / 2, x4 = m3 < d4 - n2, k4 = d4 + n2 + m3 < g3, l5 = d4 - w2 - a6 + G2;
              d4 = d4 + w2 - G2;
              if (C3 && k4)
                b3[c4] = d4;
              else if (!C3 && x4)
                b3[c4] = l5;
              else if (x4)
                b3[c4] = Math.min(e4 - m3, 0 > l5 - r3 ? l5 : l5 - r3);
              else if (k4)
                b3[c4] = Math.max(u4, d4 + r3 + a6 > g3 ? d4 : d4 + r3);
              else
                return false;
            }, h5 = function(c4, g3, a6, m3, d4) {
              var r4;
              d4 < n2 || d4 > g3 - n2 ? r4 = false : b3[c4] = d4 < a6 / 2 ? 1 : d4 > g3 - m3 / 2 ? g3 - m3 - 2 : d4 - a6 / 2;
              return r4;
            }, Q2 = function(b4) {
              var c4 = k3;
              k3 = l4;
              l4 = c4;
              p3 = b4;
            }, q4 = function() {
              y3.apply(0, k3) !== false ? h5.apply(0, l4) !== false || p3 || (Q2(true), q4()) : p3 ? b3.x = b3.y = 0 : (Q2(true), q4());
            };
            (d3.inverted || 1 < this.len) && Q2();
            q4();
            return b3;
          };
          e2.prototype.hide = function(c3) {
            var a5 = this;
            v.clearTimeout(this.hideTimer);
            c3 = L3(c3, this.options.hideDelay);
            this.isHidden || (this.hideTimer = C2(function() {
              a5.getLabel().fadeOut(c3 ? void 0 : c3);
              a5.isHidden = true;
            }, c3));
          };
          e2.prototype.init = function(c3, a5) {
            this.chart = c3;
            this.options = a5;
            this.crosshairs = [];
            this.now = { x: 0, y: 0 };
            this.isHidden = true;
            this.split = a5.split && !c3.inverted && !c3.polar;
            this.shared = a5.shared || this.split;
            this.outside = L3(a5.outside, !(!c3.scrollablePixelsX && !c3.scrollablePixelsY));
          };
          e2.prototype.shouldStickOnContact = function() {
            return !(this.followPointer || !this.options.stickOnContact);
          };
          e2.prototype.isStickyOnContact = function() {
            return !(!this.shouldStickOnContact() || !this.inContact);
          };
          e2.prototype.move = function(c3, a5, g2, d3) {
            var n2 = this, b3 = n2.now, r3 = n2.options.animation !== false && !n2.isHidden && (1 < Math.abs(c3 - b3.x) || 1 < Math.abs(a5 - b3.y)), f3 = n2.followPointer || 1 < n2.len;
            p2(b3, { x: r3 ? (2 * b3.x + c3) / 3 : c3, y: r3 ? (b3.y + a5) / 2 : a5, anchorX: f3 ? void 0 : r3 ? (2 * b3.anchorX + g2) / 3 : g2, anchorY: f3 ? void 0 : r3 ? (b3.anchorY + d3) / 2 : d3 });
            n2.getLabel().attr(b3);
            n2.drawTracker();
            r3 && (v.clearTimeout(this.tooltipTimeout), this.tooltipTimeout = setTimeout(function() {
              n2 && n2.move(c3, a5, g2, d3);
            }, 32));
          };
          e2.prototype.refresh = function(c3, a5) {
            var g2 = this.chart, d3 = this.options, n2 = y2(c3), b3 = n2[0], r3 = [], f3 = d3.formatter || this.defaultFormatter, m2 = this.shared, e3 = g2.styledMode, x3 = {};
            if (d3.enabled) {
              v.clearTimeout(this.hideTimer);
              this.allowShared = !(!F2(c3) && c3.series && c3.series.noSharedTooltip);
              this.followPointer = !this.split && b3.series.tooltipOptions.followPointer;
              c3 = this.getAnchor(c3, a5);
              var t2 = c3[0], l4 = c3[1];
              m2 && this.allowShared ? (g2.pointer.applyInactiveState(n2), n2.forEach(function(b4) {
                b4.setState("hover");
                r3.push(b4.getLabelConfig());
              }), x3 = { x: b3.category, y: b3.y }, x3.points = r3) : x3 = b3.getLabelConfig();
              this.len = r3.length;
              f3 = f3.call(x3, this);
              m2 = b3.series;
              this.distance = L3(m2.tooltipOptions.distance, 16);
              if (f3 === false)
                this.hide();
              else {
                if (this.split && this.allowShared)
                  this.renderSplit(f3, n2);
                else {
                  var p3 = t2, C3 = l4;
                  a5 && g2.pointer.isDirectTouch && (p3 = a5.chartX - g2.plotLeft, C3 = a5.chartY - g2.plotTop);
                  if (g2.polar || m2.options.clip === false || n2.some(function(b4) {
                    return b4.series.shouldShowTooltip(p3, C3);
                  }))
                    a5 = this.getLabel(), d3.style.width && !e3 || a5.css({ width: this.chart.spacingBox.width + "px" }), a5.attr({ text: f3 && f3.join ? f3.join("") : f3 }), a5.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-" + L3(b3.colorIndex, m2.colorIndex)), e3 || a5.attr({ stroke: d3.borderColor || b3.color || m2.color || "#666666" }), this.updatePosition({
                      plotX: t2,
                      plotY: l4,
                      negative: b3.negative,
                      ttBelow: b3.ttBelow,
                      h: c3[2] || 0
                    });
                  else {
                    this.hide();
                    return;
                  }
                }
                this.isHidden && this.label && this.label.attr({ opacity: 1 }).show();
                this.isHidden = false;
              }
              k2(this, "refresh");
            }
          };
          e2.prototype.renderSplit = function(c3, a5) {
            function g2(b4, c4, g3, a6, m3) {
              m3 === void 0 && (m3 = true);
              g3 ? (c4 = A2 ? 0 : ea, b4 = l3(b4 - a6 / 2, R.left, R.right - a6 - (d3.outside ? D4 : 0))) : (c4 -= H2, b4 = m3 ? b4 - a6 - B2 : b4 + B2, b4 = l3(b4, m3 ? b4 : R.left, R.right));
              return { x: b4, y: c4 };
            }
            var d3 = this, n2 = d3.chart, b3 = d3.chart, r3 = b3.chartWidth, f3 = b3.chartHeight, m2 = b3.plotHeight, e3 = b3.plotLeft, x3 = b3.plotTop, t2 = b3.pointer, k3 = b3.scrollablePixelsY;
            k3 = k3 === void 0 ? 0 : k3;
            var C3 = b3.scrollablePixelsX, y3 = b3.scrollingContainer;
            y3 = y3 === void 0 ? { scrollLeft: 0, scrollTop: 0 } : y3;
            var h5 = y3.scrollLeft;
            y3 = y3.scrollTop;
            var q4 = b3.styledMode, B2 = d3.distance, Q2 = d3.options, F3 = d3.options.positioner, R = d3.outside && typeof C3 !== "number" ? I2.documentElement.getBoundingClientRect() : { left: h5, right: h5 + r3, top: y3, bottom: y3 + f3 }, K3 = d3.getLabel(), v2 = this.renderer || n2.renderer, A2 = !(!n2.xAxis[0] || !n2.xAxis[0].opposite);
            n2 = t2.getChartPosition();
            var D4 = n2.left;
            n2 = n2.top;
            var H2 = x3 + y3, E4 = 0, ea = m2 - k3;
            J2(c3) && (c3 = [false, c3]);
            c3 = c3.slice(0, a5.length + 1).reduce(function(b4, c4, n3) {
              if (c4 !== false && c4 !== "") {
                n3 = a5[n3 - 1] || { isHeader: true, plotX: a5[0].plotX, plotY: m2, series: {} };
                var r4 = n3.isHeader, f4 = r4 ? d3 : n3.series;
                c4 = c4.toString();
                var u4 = f4.tt, w2 = n3.isHeader;
                var t3 = n3.series;
                var G2 = "highcharts-color-" + L3(n3.colorIndex, t3.colorIndex, "none");
                u4 || (u4 = { padding: Q2.padding, r: Q2.borderRadius }, q4 || (u4.fill = Q2.backgroundColor, u4["stroke-width"] = Q2.borderWidth), u4 = v2.label("", 0, 0, Q2[w2 ? "headerShape" : "shape"], void 0, void 0, Q2.useHTML).addClass((w2 ? "highcharts-tooltip-header " : "") + "highcharts-tooltip-box " + G2).attr(u4).add(K3));
                u4.isActive = true;
                u4.attr({ text: c4 });
                q4 || u4.css(Q2.style).shadow(Q2.shadow).attr({ stroke: Q2.borderColor || n3.color || t3.color || "#333333" });
                f4 = f4.tt = u4;
                w2 = f4.getBBox();
                c4 = w2.width + f4.strokeWidth();
                r4 && (E4 = w2.height, ea += E4, A2 && (H2 -= E4));
                t3 = n3.plotX;
                t3 = t3 === void 0 ? 0 : t3;
                G2 = n3.plotY;
                G2 = G2 === void 0 ? 0 : G2;
                u4 = n3.series;
                if (n3.isHeader) {
                  t3 = e3 + t3;
                  var k4 = x3 + m2 / 2;
                } else {
                  var C4 = u4.xAxis, p3 = u4.yAxis;
                  t3 = C4.pos + l3(t3, -B2, C4.len + B2);
                  u4.shouldShowTooltip(0, p3.pos - x3 + G2, { ignoreX: true }) && (k4 = p3.pos + G2);
                }
                t3 = l3(t3, R.left - B2, R.right + B2);
                typeof k4 === "number" ? (w2 = w2.height + 1, G2 = F3 ? F3.call(d3, c4, w2, n3) : g2(t3, k4, r4, c4), b4.push({ align: F3 ? 0 : void 0, anchorX: t3, anchorY: k4, boxWidth: c4, point: n3, rank: L3(G2.rank, r4 ? 1 : 0), size: w2, target: G2.y, tt: f4, x: G2.x })) : f4.isActive = false;
              }
              return b4;
            }, []);
            !F3 && c3.some(function(b4) {
              var c4 = (d3.outside ? D4 : 0) + b4.anchorX;
              return c4 < R.left && c4 + b4.boxWidth < R.right ? true : c4 < D4 - R.left + b4.boxWidth && R.right - c4 > c4;
            }) && (c3 = c3.map(function(b4) {
              var c4 = g2(b4.anchorX, b4.anchorY, b4.point.isHeader, b4.boxWidth, false);
              return p2(b4, { target: c4.y, x: c4.x });
            }));
            d3.cleanSplit();
            z2(c3, ea);
            var M3 = D4, Y = D4;
            c3.forEach(function(b4) {
              var c4 = b4.x, g3 = b4.boxWidth;
              b4 = b4.isHeader;
              b4 || (d3.outside && D4 + c4 < M3 && (M3 = D4 + c4), !b4 && d3.outside && M3 + g3 > Y && (Y = D4 + c4));
            });
            c3.forEach(function(b4) {
              var c4 = b4.x, g3 = b4.anchorX, a6 = b4.pos, m3 = b4.point.isHeader;
              a6 = { visibility: typeof a6 === "undefined" ? "hidden" : "inherit", x: c4, y: a6 + H2, anchorX: g3, anchorY: b4.anchorY };
              if (d3.outside && c4 < g3) {
                var n3 = D4 - M3;
                0 < n3 && (m3 || (a6.x = c4 + n3, a6.anchorX = g3 + n3), m3 && (a6.x = (Y - M3) / 2, a6.anchorX = g3 + n3));
              }
              b4.tt.attr(a6);
            });
            c3 = d3.container;
            k3 = d3.renderer;
            d3.outside && c3 && k3 && (b3 = K3.getBBox(), k3.setSize(b3.width + b3.x, b3.height + b3.y, false), c3.style.left = M3 + "px", c3.style.top = n2 + "px");
          };
          e2.prototype.drawTracker = function() {
            if (this.followPointer || !this.options.stickOnContact)
              this.tracker && this.tracker.destroy();
            else {
              var c3 = this.chart, a5 = this.label, g2 = this.shared ? c3.hoverPoints : c3.hoverPoint;
              if (a5 && g2) {
                var d3 = { x: 0, y: 0, width: 0, height: 0 };
                g2 = this.getAnchor(g2);
                var n2 = a5.getBBox();
                g2[0] += c3.plotLeft - a5.translateX;
                g2[1] += c3.plotTop - a5.translateY;
                d3.x = Math.min(0, g2[0]);
                d3.y = Math.min(0, g2[1]);
                d3.width = 0 > g2[0] ? Math.max(Math.abs(g2[0]), n2.width - g2[0]) : Math.max(Math.abs(g2[0]), n2.width);
                d3.height = 0 > g2[1] ? Math.max(Math.abs(g2[1]), n2.height - Math.abs(g2[1])) : Math.max(Math.abs(g2[1]), n2.height);
                this.tracker ? this.tracker.attr(d3) : (this.tracker = a5.renderer.rect(d3).addClass("highcharts-tracker").add(a5), c3.styledMode || this.tracker.attr({ fill: "rgba(0,0,0,0)" }));
              }
            }
          };
          e2.prototype.styledModeFormat = function(c3) {
            return c3.replace('style="font-size: 10px"', 'class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g, 'class="highcharts-color-{$1.colorIndex}"');
          };
          e2.prototype.tooltipFooterHeaderFormatter = function(c3, a5) {
            var g2 = c3.series, d3 = g2.tooltipOptions, n2 = g2.xAxis, b3 = n2 && n2.dateTime;
            n2 = {
              isFooter: a5,
              labelConfig: c3
            };
            var r3 = d3.xDateFormat, f3 = d3[a5 ? "footerFormat" : "headerFormat"];
            k2(this, "headerFormatter", n2, function(a6) {
              b3 && !r3 && B(c3.key) && (r3 = b3.getXDateFormat(c3.key, d3.dateTimeLabelFormats));
              b3 && r3 && (c3.point && c3.point.tooltipDateKeys || ["key"]).forEach(function(b4) {
                f3 = f3.replace("{point." + b4 + "}", "{point." + b4 + ":" + r3 + "}");
              });
              g2.chart.styledMode && (f3 = this.styledModeFormat(f3));
              a6.text = D3(f3, { point: c3, series: g2 }, this.chart);
            });
            return n2.text;
          };
          e2.prototype.update = function(c3) {
            this.destroy();
            K2(true, this.chart.options.tooltip.userOptions, c3);
            this.init(this.chart, K2(true, this.options, c3));
          };
          e2.prototype.updatePosition = function(c3) {
            var a5 = this.chart, g2 = this.options, d3 = a5.pointer, n2 = this.getLabel();
            d3 = d3.getChartPosition();
            var b3 = (g2.positioner || this.getPosition).call(this, n2.width, n2.height, c3), r3 = c3.plotX + a5.plotLeft;
            c3 = c3.plotY + a5.plotTop;
            if (this.outside) {
              g2 = g2.borderWidth + 2 * this.distance;
              this.renderer.setSize(n2.width + g2, n2.height + g2, false);
              if (d3.scaleX !== 1 || d3.scaleY !== 1)
                f2(this.container, { transform: "scale(" + d3.scaleX + ", " + d3.scaleY + ")" }), r3 *= d3.scaleX, c3 *= d3.scaleY;
              r3 += d3.left - b3.x;
              c3 += d3.top - b3.y;
            }
            this.move(Math.round(b3.x), Math.round(b3.y || 0), r3, c3);
          };
          return e2;
        }();
        "";
        return e;
      });
      M2(h3, "Core/Series/Point.js", [h3["Core/Renderer/HTML/AST.js"], h3["Core/Animation/AnimationUtilities.js"], h3["Core/DefaultOptions.js"], h3["Core/FormatUtilities.js"], h3["Core/Utilities.js"]], function(e, h4, A, E3, v) {
        var D3 = h4.animObject, I2 = A.defaultOptions, z2 = E3.format, q3 = v.addEvent, l3 = v.defined, f2 = v.erase, d2 = v.extend, a4 = v.fireEvent, p2 = v.getNestedProperty, k2 = v.isArray, F2 = v.isFunction, B = v.isNumber, J2 = v.isObject, K2 = v.merge, L3 = v.objectEach, y2 = v.pick, C2 = v.syncTimeout, x3 = v.removeEvent, c3 = v.uniqueKey;
        h4 = function() {
          function t2() {
            this.colorIndex = this.category = void 0;
            this.formatPrefix = "point";
            this.id = void 0;
            this.isNull = false;
            this.percentage = this.options = this.name = void 0;
            this.selected = false;
            this.total = this.series = void 0;
            this.visible = true;
            this.x = void 0;
          }
          t2.prototype.animateBeforeDestroy = function() {
            var c4 = this, a5 = { x: c4.startXPos, opacity: 0 }, n2 = c4.getGraphicalProps();
            n2.singular.forEach(function(b3) {
              c4[b3] = c4[b3].animate(b3 === "dataLabel" ? {
                x: c4[b3].startXPos,
                y: c4[b3].startYPos,
                opacity: 0
              } : a5);
            });
            n2.plural.forEach(function(b3) {
              c4[b3].forEach(function(b4) {
                b4.element && b4.animate(d2({ x: c4.startXPos }, b4.startYPos ? { x: b4.startXPos, y: b4.startYPos } : {}));
              });
            });
          };
          t2.prototype.applyOptions = function(c4, a5) {
            var g2 = this.series, b3 = g2.options.pointValKey || g2.pointValKey;
            c4 = t2.prototype.optionsToObject.call(this, c4);
            d2(this, c4);
            this.options = this.options ? d2(this.options, c4) : c4;
            c4.group && delete this.group;
            c4.dataLabels && delete this.dataLabels;
            b3 && (this.y = t2.prototype.getNestedProperty.call(this, b3));
            this.formatPrefix = (this.isNull = y2(this.isValid && !this.isValid(), this.x === null || !B(this.y))) ? "null" : "point";
            this.selected && (this.state = "select");
            "name" in this && typeof a5 === "undefined" && g2.xAxis && g2.xAxis.hasNames && (this.x = g2.xAxis.nameToX(this));
            typeof this.x === "undefined" && g2 ? this.x = typeof a5 === "undefined" ? g2.autoIncrement() : a5 : B(c4.x) && g2.options.relativeXValue && (this.x = g2.autoIncrement(c4.x));
            return this;
          };
          t2.prototype.destroy = function() {
            function c4() {
              if (a5.graphic || a5.dataLabel || a5.dataLabels)
                x3(a5), a5.destroyElements();
              for (m2 in a5)
                a5[m2] = null;
            }
            var a5 = this, d3 = a5.series, b3 = d3.chart;
            d3 = d3.options.dataSorting;
            var r3 = b3.hoverPoints, e2 = D3(a5.series.chart.renderer.globalAnimation), m2;
            a5.legendItem && b3.legend.destroyItem(a5);
            r3 && (a5.setState(), f2(r3, a5), r3.length || (b3.hoverPoints = null));
            if (a5 === b3.hoverPoint)
              a5.onMouseOut();
            d3 && d3.enabled ? (this.animateBeforeDestroy(), C2(c4, e2.duration)) : c4();
            b3.pointCount--;
          };
          t2.prototype.destroyElements = function(c4) {
            var g2 = this;
            c4 = g2.getGraphicalProps(c4);
            c4.singular.forEach(function(c5) {
              g2[c5] = g2[c5].destroy();
            });
            c4.plural.forEach(function(c5) {
              g2[c5].forEach(function(b3) {
                b3.element && b3.destroy();
              });
              delete g2[c5];
            });
          };
          t2.prototype.firePointEvent = function(c4, d3, n2) {
            var b3 = this, g2 = this.series.options;
            (g2.point.events[c4] || b3.options && b3.options.events && b3.options.events[c4]) && b3.importEvents();
            c4 === "click" && g2.allowPointSelect && (n2 = function(c5) {
              b3.select && b3.select(null, c5.ctrlKey || c5.metaKey || c5.shiftKey);
            });
            a4(b3, c4, d3, n2);
          };
          t2.prototype.getClassName = function() {
            return "highcharts-point" + (this.selected ? " highcharts-point-select" : "") + (this.negative ? " highcharts-negative" : "") + (this.isNull ? " highcharts-null-point" : "") + (typeof this.colorIndex !== "undefined" ? " highcharts-color-" + this.colorIndex : "") + (this.options.className ? " " + this.options.className : "") + (this.zone && this.zone.className ? " " + this.zone.className.replace("highcharts-negative", "") : "");
          };
          t2.prototype.getGraphicalProps = function(c4) {
            var g2 = this, a5 = [], b3 = { singular: [], plural: [] }, d3;
            c4 = c4 || { graphic: 1, dataLabel: 1 };
            c4.graphic && a5.push("graphic", "upperGraphic", "shadowGroup");
            c4.dataLabel && a5.push("dataLabel", "dataLabelUpper", "connector");
            for (d3 = a5.length; d3--; ) {
              var f3 = a5[d3];
              g2[f3] && b3.singular.push(f3);
            }
            ["dataLabel", "connector"].forEach(function(a6) {
              var d4 = a6 + "s";
              c4[a6] && g2[d4] && b3.plural.push(d4);
            });
            return b3;
          };
          t2.prototype.getLabelConfig = function() {
            return { x: this.category, y: this.y, color: this.color, colorIndex: this.colorIndex, key: this.name || this.category, series: this.series, point: this, percentage: this.percentage, total: this.total || this.stackTotal };
          };
          t2.prototype.getNestedProperty = function(c4) {
            if (c4)
              return c4.indexOf("custom.") === 0 ? p2(c4, this.options) : this[c4];
          };
          t2.prototype.getZone = function() {
            var c4 = this.series, a5 = c4.zones;
            c4 = c4.zoneAxis || "y";
            var d3, b3 = 0;
            for (d3 = a5[b3]; this[c4] >= d3.value; )
              d3 = a5[++b3];
            this.nonZonedColor || (this.nonZonedColor = this.color);
            this.color = d3 && d3.color && !this.options.color ? d3.color : this.nonZonedColor;
            return d3;
          };
          t2.prototype.hasNewShapeType = function() {
            return (this.graphic && (this.graphic.symbolName || this.graphic.element.nodeName)) !== this.shapeType;
          };
          t2.prototype.init = function(g2, d3, n2) {
            this.series = g2;
            this.applyOptions(d3, n2);
            this.id = l3(this.id) ? this.id : c3();
            this.resolveColor();
            g2.chart.pointCount++;
            a4(this, "afterInit");
            return this;
          };
          t2.prototype.optionsToObject = function(c4) {
            var g2 = this.series, a5 = g2.options.keys, b3 = a5 || g2.pointArrayMap || ["y"], d3 = b3.length, f3 = {}, m2 = 0, e2 = 0;
            if (B(c4) || c4 === null)
              f3[b3[0]] = c4;
            else if (k2(c4))
              for (!a5 && c4.length > d3 && (g2 = typeof c4[0], g2 === "string" ? f3.name = c4[0] : g2 === "number" && (f3.x = c4[0]), m2++); e2 < d3; )
                a5 && typeof c4[m2] === "undefined" || (0 < b3[e2].indexOf(".") ? t2.prototype.setNestedProperty(f3, c4[m2], b3[e2]) : f3[b3[e2]] = c4[m2]), m2++, e2++;
            else
              typeof c4 === "object" && (f3 = c4, c4.dataLabels && (g2._hasPointLabels = true), c4.marker && (g2._hasPointMarkers = true));
            return f3;
          };
          t2.prototype.resolveColor = function() {
            var c4 = this.series, a5 = c4.chart.styledMode;
            var d3 = c4.chart.options.chart.colorCount;
            delete this.nonZonedColor;
            if (c4.options.colorByPoint) {
              if (!a5) {
                d3 = c4.options.colors || c4.chart.options.colors;
                var b3 = d3[c4.colorCounter];
                d3 = d3.length;
              }
              a5 = c4.colorCounter;
              c4.colorCounter++;
              c4.colorCounter === d3 && (c4.colorCounter = 0);
            } else
              a5 || (b3 = c4.color), a5 = c4.colorIndex;
            this.colorIndex = y2(this.options.colorIndex, a5);
            this.color = y2(this.options.color, b3);
          };
          t2.prototype.setNestedProperty = function(c4, a5, d3) {
            d3.split(".").reduce(function(b3, c5, g2, d4) {
              b3[c5] = d4.length - 1 === g2 ? a5 : J2(b3[c5], true) ? b3[c5] : {};
              return b3[c5];
            }, c4);
            return c4;
          };
          t2.prototype.tooltipFormatter = function(c4) {
            var g2 = this.series, a5 = g2.tooltipOptions, b3 = y2(a5.valueDecimals, ""), d3 = a5.valuePrefix || "", f3 = a5.valueSuffix || "";
            g2.chart.styledMode && (c4 = g2.chart.tooltip.styledModeFormat(c4));
            (g2.pointArrayMap || ["y"]).forEach(function(g3) {
              g3 = "{point." + g3;
              if (d3 || f3)
                c4 = c4.replace(RegExp(g3 + "}", "g"), d3 + g3 + "}" + f3);
              c4 = c4.replace(RegExp(g3 + "}", "g"), g3 + ":,." + b3 + "f}");
            });
            return z2(c4, { point: this, series: this.series }, g2.chart);
          };
          t2.prototype.update = function(c4, a5, d3, b3) {
            function g2() {
              n2.applyOptions(c4);
              var b4 = f3 && n2.hasDummyGraphic;
              b4 = n2.y === null ? !b4 : b4;
              f3 && b4 && (n2.graphic = f3.destroy(), delete n2.hasDummyGraphic);
              J2(c4, true) && (f3 && f3.element && c4 && c4.marker && typeof c4.marker.symbol !== "undefined" && (n2.graphic = f3.destroy()), c4 && c4.dataLabels && n2.dataLabel && (n2.dataLabel = n2.dataLabel.destroy()), n2.connector && (n2.connector = n2.connector.destroy()));
              x4 = n2.index;
              m2.updateParallelArrays(n2, x4);
              u4.data[x4] = J2(u4.data[x4], true) || J2(c4, true) ? n2.options : y2(c4, u4.data[x4]);
              m2.isDirty = m2.isDirtyData = true;
              !m2.fixedBox && m2.hasCartesianSeries && (e2.isDirtyBox = true);
              u4.legendType === "point" && (e2.isDirtyLegend = true);
              a5 && e2.redraw(d3);
            }
            var n2 = this, m2 = n2.series, f3 = n2.graphic, e2 = m2.chart, u4 = m2.options, x4;
            a5 = y2(a5, true);
            b3 === false ? g2() : n2.firePointEvent("update", { options: c4 }, g2);
          };
          t2.prototype.remove = function(c4, a5) {
            this.series.removePoint(this.series.data.indexOf(this), c4, a5);
          };
          t2.prototype.select = function(c4, a5) {
            var g2 = this, b3 = g2.series, d3 = b3.chart;
            this.selectedStaging = c4 = y2(c4, !g2.selected);
            g2.firePointEvent(c4 ? "select" : "unselect", { accumulate: a5 }, function() {
              g2.selected = g2.options.selected = c4;
              b3.options.data[b3.data.indexOf(g2)] = g2.options;
              g2.setState(c4 && "select");
              a5 || d3.getSelectedPoints().forEach(function(b4) {
                var c5 = b4.series;
                b4.selected && b4 !== g2 && (b4.selected = b4.options.selected = false, c5.options.data[c5.data.indexOf(b4)] = b4.options, b4.setState(d3.hoverPoints && c5.options.inactiveOtherPoints ? "inactive" : ""), b4.firePointEvent("unselect"));
              });
            });
            delete this.selectedStaging;
          };
          t2.prototype.onMouseOver = function(c4) {
            var a5 = this.series.chart, g2 = a5.pointer;
            c4 = c4 ? g2.normalize(c4) : g2.getChartCoordinatesFromPoint(this, a5.inverted);
            g2.runPointActions(c4, this);
          };
          t2.prototype.onMouseOut = function() {
            var c4 = this.series.chart;
            this.firePointEvent("mouseOut");
            this.series.options.inactiveOtherPoints || (c4.hoverPoints || []).forEach(function(c5) {
              c5.setState();
            });
            c4.hoverPoints = c4.hoverPoint = null;
          };
          t2.prototype.importEvents = function() {
            if (!this.hasImportedEvents) {
              var c4 = this, a5 = K2(c4.series.options.point, c4.options).events;
              c4.events = a5;
              L3(a5, function(a6, b3) {
                F2(a6) && q3(c4, b3, a6);
              });
              this.hasImportedEvents = true;
            }
          };
          t2.prototype.setState = function(c4, f3) {
            var g2 = this.series, b3 = this.state, r3 = g2.options.states[c4 || "normal"] || {}, u4 = I2.plotOptions[g2.type].marker && g2.options.marker, m2 = u4 && u4.enabled === false, w2 = u4 && u4.states && u4.states[c4 || "normal"] || {}, x4 = w2.enabled === false, k3 = this.marker || {}, t3 = g2.chart, l4 = u4 && g2.markerAttribs, C3 = g2.halo, p3, h5 = g2.stateMarkerGraphic;
            c4 = c4 || "";
            if (!(c4 === this.state && !f3 || this.selected && c4 !== "select" || r3.enabled === false || c4 && (x4 || m2 && w2.enabled === false) || c4 && k3.states && k3.states[c4] && k3.states[c4].enabled === false)) {
              this.state = c4;
              l4 && (p3 = g2.markerAttribs(this, c4));
              if (this.graphic && !this.hasDummyGraphic) {
                b3 && this.graphic.removeClass("highcharts-point-" + b3);
                c4 && this.graphic.addClass("highcharts-point-" + c4);
                if (!t3.styledMode) {
                  var q4 = g2.pointAttribs(this, c4);
                  var Q2 = y2(t3.options.chart.animation, r3.animation);
                  g2.options.inactiveOtherPoints && B(q4.opacity) && ((this.dataLabels || []).forEach(function(b4) {
                    b4 && b4.animate({ opacity: q4.opacity }, Q2);
                  }), this.connector && this.connector.animate({ opacity: q4.opacity }, Q2));
                  this.graphic.animate(q4, Q2);
                }
                p3 && this.graphic.animate(p3, y2(t3.options.chart.animation, w2.animation, u4.animation));
                h5 && h5.hide();
              } else {
                if (c4 && w2) {
                  b3 = k3.symbol || g2.symbol;
                  h5 && h5.currentSymbol !== b3 && (h5 = h5.destroy());
                  if (p3)
                    if (h5)
                      h5[f3 ? "animate" : "attr"]({ x: p3.x, y: p3.y });
                    else
                      b3 && (g2.stateMarkerGraphic = h5 = t3.renderer.symbol(b3, p3.x, p3.y, p3.width, p3.height).add(g2.markerGroup), h5.currentSymbol = b3);
                  !t3.styledMode && h5 && this.state !== "inactive" && h5.attr(g2.pointAttribs(this, c4));
                }
                h5 && (h5[c4 && this.isInside ? "show" : "hide"](), h5.element.point = this, h5.addClass(this.getClassName(), true));
              }
              r3 = r3.halo;
              p3 = (h5 = this.graphic || h5) && h5.visibility || "inherit";
              r3 && r3.size && h5 && p3 !== "hidden" && !this.isCluster ? (C3 || (g2.halo = C3 = t3.renderer.path().add(h5.parentGroup)), C3.show()[f3 ? "animate" : "attr"]({ d: this.haloPath(r3.size) }), C3.attr({ "class": "highcharts-halo highcharts-color-" + y2(this.colorIndex, g2.colorIndex) + (this.className ? " " + this.className : ""), visibility: p3, zIndex: -1 }), C3.point = this, t3.styledMode || C3.attr(d2({ fill: this.color || g2.color, "fill-opacity": r3.opacity }, e.filterUserAttributes(r3.attributes || {})))) : C3 && C3.point && C3.point.haloPath && C3.animate({ d: C3.point.haloPath(0) }, null, C3.hide);
              a4(this, "afterSetState", { state: c4 });
            }
          };
          t2.prototype.haloPath = function(c4) {
            return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX) - c4, this.plotY - c4, 2 * c4, 2 * c4);
          };
          return t2;
        }();
        "";
        return h4;
      });
      M2(h3, "Core/Pointer.js", [h3["Core/Color/Color.js"], h3["Core/Globals.js"], h3["Core/Tooltip.js"], h3["Core/Utilities.js"]], function(e, h4, A, E3) {
        var v = e.parse, D3 = h4.charts, I2 = h4.noop, z2 = E3.addEvent, q3 = E3.attr, l3 = E3.css, f2 = E3.defined, d2 = E3.extend, a4 = E3.find, p2 = E3.fireEvent, k2 = E3.isNumber, F2 = E3.isObject, B = E3.objectEach, J2 = E3.offset, K2 = E3.pick, L3 = E3.splat;
        e = function() {
          function e2(a5, d3) {
            this.lastValidTouch = {};
            this.pinchDown = [];
            this.runChartClick = false;
            this.eventsToUnbind = [];
            this.chart = a5;
            this.hasDragged = false;
            this.options = d3;
            this.init(a5, d3);
          }
          e2.prototype.applyInactiveState = function(a5) {
            var d3 = [], c3;
            (a5 || []).forEach(function(a6) {
              c3 = a6.series;
              d3.push(c3);
              c3.linkedParent && d3.push(c3.linkedParent);
              c3.linkedSeries && (d3 = d3.concat(c3.linkedSeries));
              c3.navigatorSeries && d3.push(c3.navigatorSeries);
            });
            this.chart.series.forEach(function(c4) {
              d3.indexOf(c4) === -1 ? c4.setState("inactive", true) : c4.options.inactiveOtherPoints && c4.setAllPointsToState("inactive");
            });
          };
          e2.prototype.destroy = function() {
            var a5 = this;
            this.eventsToUnbind.forEach(function(a6) {
              return a6();
            });
            this.eventsToUnbind = [];
            h4.chartCount || (e2.unbindDocumentMouseUp && (e2.unbindDocumentMouseUp = e2.unbindDocumentMouseUp()), e2.unbindDocumentTouchEnd && (e2.unbindDocumentTouchEnd = e2.unbindDocumentTouchEnd()));
            clearInterval(a5.tooltipTimeout);
            B(a5, function(d3, c3) {
              a5[c3] = void 0;
            });
          };
          e2.prototype.drag = function(a5) {
            var d3 = this.chart, c3 = d3.options.chart, f3 = this.zoomHor, g2 = this.zoomVert, e3 = d3.plotLeft, n2 = d3.plotTop, b3 = d3.plotWidth, r3 = d3.plotHeight, k3 = this.mouseDownX || 0, m2 = this.mouseDownY || 0, w2 = F2(c3.panning) ? c3.panning && c3.panning.enabled : c3.panning, l4 = c3.panKey && a5[c3.panKey + "Key"], p3 = a5.chartX, C2 = a5.chartY, h5 = this.selectionMarker;
            if (!h5 || !h5.touch) {
              if (p3 < e3 ? p3 = e3 : p3 > e3 + b3 && (p3 = e3 + b3), C2 < n2 ? C2 = n2 : C2 > n2 + r3 && (C2 = n2 + r3), this.hasDragged = Math.sqrt(Math.pow(k3 - p3, 2) + Math.pow(m2 - C2, 2)), 10 < this.hasDragged) {
                var y2 = d3.isInsidePlot(k3 - e3, m2 - n2, { visiblePlotOnly: true });
                !d3.hasCartesianSeries && !d3.mapView || !this.zoomX && !this.zoomY || !y2 || l4 || h5 || (this.selectionMarker = h5 = d3.renderer.rect(e3, n2, f3 ? 1 : b3, g2 ? 1 : r3, 0).attr({ "class": "highcharts-selection-marker", zIndex: 7 }).add(), d3.styledMode || h5.attr({ fill: c3.selectionMarkerFill || v("#335cad").setOpacity(0.25).get() }));
                h5 && f3 && (f3 = p3 - k3, h5.attr({ width: Math.abs(f3), x: (0 < f3 ? 0 : f3) + k3 }));
                h5 && g2 && (f3 = C2 - m2, h5.attr({ height: Math.abs(f3), y: (0 < f3 ? 0 : f3) + m2 }));
                y2 && !h5 && w2 && d3.pan(a5, c3.panning);
              }
            }
          };
          e2.prototype.dragStart = function(a5) {
            var d3 = this.chart;
            d3.mouseIsDown = a5.type;
            d3.cancelClick = false;
            d3.mouseDownX = this.mouseDownX = a5.chartX;
            d3.mouseDownY = this.mouseDownY = a5.chartY;
          };
          e2.prototype.drop = function(a5) {
            var e3 = this, c3 = this.chart, t2 = this.hasPinched;
            if (this.selectionMarker) {
              var g2 = this.selectionMarker, u4 = g2.attr ? g2.attr("x") : g2.x, n2 = g2.attr ? g2.attr("y") : g2.y, b3 = g2.attr ? g2.attr("width") : g2.width, r3 = g2.attr ? g2.attr("height") : g2.height, G2 = { originalEvent: a5, xAxis: [], yAxis: [], x: u4, y: n2, width: b3, height: r3 }, m2 = !!c3.mapView;
              if (this.hasDragged || t2)
                c3.axes.forEach(function(c4) {
                  if (c4.zoomEnabled && f2(c4.min) && (t2 || e3[{ xAxis: "zoomX", yAxis: "zoomY" }[c4.coll]]) && k2(u4) && k2(n2)) {
                    var g3 = c4.horiz, d3 = a5.type === "touchend" ? c4.minPixelPadding : 0, w2 = c4.toValue((g3 ? u4 : n2) + d3);
                    g3 = c4.toValue((g3 ? u4 + b3 : n2 + r3) - d3);
                    G2[c4.coll].push({ axis: c4, min: Math.min(w2, g3), max: Math.max(w2, g3) });
                    m2 = true;
                  }
                }), m2 && p2(c3, "selection", G2, function(b4) {
                  c3.zoom(d2(b4, t2 ? { animation: false } : null));
                });
              k2(c3.index) && (this.selectionMarker = this.selectionMarker.destroy());
              t2 && this.scaleGroups();
            }
            c3 && k2(c3.index) && (l3(c3.container, { cursor: c3._cursor }), c3.cancelClick = 10 < this.hasDragged, c3.mouseIsDown = this.hasDragged = this.hasPinched = false, this.pinchDown = []);
          };
          e2.prototype.findNearestKDPoint = function(a5, d3, c3) {
            var f3 = this.chart, g2 = f3.hoverPoint;
            f3 = f3.tooltip;
            if (g2 && f3 && f3.isStickyOnContact())
              return g2;
            var e3;
            a5.forEach(function(a6) {
              var b3 = !(a6.noSharedTooltip && d3) && 0 > a6.options.findNearestPointBy.indexOf("y");
              a6 = a6.searchPoint(c3, b3);
              if ((b3 = F2(a6, true) && a6.series) && !(b3 = !F2(e3, true))) {
                b3 = e3.distX - a6.distX;
                var g3 = e3.dist - a6.dist, f4 = (a6.series.group && a6.series.group.zIndex) - (e3.series.group && e3.series.group.zIndex);
                b3 = 0 < (b3 !== 0 && d3 ? b3 : g3 !== 0 ? g3 : f4 !== 0 ? f4 : e3.series.index > a6.series.index ? -1 : 1);
              }
              b3 && (e3 = a6);
            });
            return e3;
          };
          e2.prototype.getChartCoordinatesFromPoint = function(a5, d3) {
            var c3 = a5.series, f3 = c3.xAxis;
            c3 = c3.yAxis;
            var g2 = a5.shapeArgs;
            if (f3 && c3) {
              var e3 = K2(a5.clientX, a5.plotX), n2 = a5.plotY || 0;
              a5.isNode && g2 && k2(g2.x) && k2(g2.y) && (e3 = g2.x, n2 = g2.y);
              return d3 ? { chartX: c3.len + c3.pos - n2, chartY: f3.len + f3.pos - e3 } : { chartX: e3 + f3.pos, chartY: n2 + c3.pos };
            }
            if (g2 && g2.x && g2.y)
              return { chartX: g2.x, chartY: g2.y };
          };
          e2.prototype.getChartPosition = function() {
            if (this.chartPosition)
              return this.chartPosition;
            var a5 = this.chart.container, d3 = J2(a5);
            this.chartPosition = { left: d3.left, top: d3.top, scaleX: 1, scaleY: 1 };
            var c3 = a5.offsetWidth;
            a5 = a5.offsetHeight;
            2 < c3 && 2 < a5 && (this.chartPosition.scaleX = d3.width / c3, this.chartPosition.scaleY = d3.height / a5);
            return this.chartPosition;
          };
          e2.prototype.getCoordinates = function(a5) {
            var d3 = { xAxis: [], yAxis: [] };
            this.chart.axes.forEach(function(c3) {
              d3[c3.isXAxis ? "xAxis" : "yAxis"].push({ axis: c3, value: c3.toValue(a5[c3.horiz ? "chartX" : "chartY"]) });
            });
            return d3;
          };
          e2.prototype.getHoverData = function(d3, f3, c3, e3, g2, u4) {
            var n2 = [];
            e3 = !(!e3 || !d3);
            var b3 = { chartX: u4 ? u4.chartX : void 0, chartY: u4 ? u4.chartY : void 0, shared: g2 };
            p2(this, "beforeGetHoverData", b3);
            var r3 = f3 && !f3.stickyTracking ? [f3] : c3.filter(function(c4) {
              return b3.filter ? b3.filter(c4) : c4.visible && !(!g2 && c4.directTouch) && K2(c4.options.enableMouseTracking, true) && c4.stickyTracking;
            });
            var k3 = e3 || !u4 ? d3 : this.findNearestKDPoint(r3, g2, u4);
            f3 = k3 && k3.series;
            k3 && (g2 && !f3.noSharedTooltip ? (r3 = c3.filter(function(c4) {
              return b3.filter ? b3.filter(c4) : c4.visible && !(!g2 && c4.directTouch) && K2(c4.options.enableMouseTracking, true) && !c4.noSharedTooltip;
            }), r3.forEach(function(b4) {
              var c4 = a4(b4.points, function(b5) {
                return b5.x === k3.x && !b5.isNull;
              });
              F2(c4) && (b4.chart.isBoosting && (c4 = b4.getPoint(c4)), n2.push(c4));
            })) : n2.push(k3));
            b3 = { hoverPoint: k3 };
            p2(this, "afterGetHoverData", b3);
            return { hoverPoint: b3.hoverPoint, hoverSeries: f3, hoverPoints: n2 };
          };
          e2.prototype.getPointFromEvent = function(a5) {
            a5 = a5.target;
            for (var d3; a5 && !d3; )
              d3 = a5.point, a5 = a5.parentNode;
            return d3;
          };
          e2.prototype.onTrackerMouseOut = function(a5) {
            a5 = a5.relatedTarget || a5.toElement;
            var d3 = this.chart.hoverSeries;
            this.isDirectTouch = false;
            if (!(!d3 || !a5 || d3.stickyTracking || this.inClass(a5, "highcharts-tooltip") || this.inClass(a5, "highcharts-series-" + d3.index) && this.inClass(a5, "highcharts-tracker")))
              d3.onMouseOut();
          };
          e2.prototype.inClass = function(a5, d3) {
            for (var c3; a5; ) {
              if (c3 = q3(a5, "class")) {
                if (c3.indexOf(d3) !== -1)
                  return true;
                if (c3.indexOf("highcharts-container") !== -1)
                  return false;
              }
              a5 = a5.parentNode;
            }
          };
          e2.prototype.init = function(a5, d3) {
            this.options = d3;
            this.chart = a5;
            this.runChartClick = !(!d3.chart.events || !d3.chart.events.click);
            this.pinchDown = [];
            this.lastValidTouch = {};
            A && (a5.tooltip = new A(a5, d3.tooltip), this.followTouchMove = K2(d3.tooltip.followTouchMove, true));
            this.setDOMEvents();
          };
          e2.prototype.normalize = function(a5, f3) {
            var c3 = a5.touches, e3 = c3 ? c3.length ? c3.item(0) : K2(c3.changedTouches, a5.changedTouches)[0] : a5;
            f3 || (f3 = this.getChartPosition());
            c3 = e3.pageX - f3.left;
            e3 = e3.pageY - f3.top;
            c3 /= f3.scaleX;
            e3 /= f3.scaleY;
            return d2(a5, { chartX: Math.round(c3), chartY: Math.round(e3) });
          };
          e2.prototype.onContainerClick = function(a5) {
            var f3 = this.chart, c3 = f3.hoverPoint;
            a5 = this.normalize(a5);
            var e3 = f3.plotLeft, g2 = f3.plotTop;
            f3.cancelClick || (c3 && this.inClass(a5.target, "highcharts-tracker") ? (p2(c3.series, "click", d2(a5, { point: c3 })), f3.hoverPoint && c3.firePointEvent("click", a5)) : (d2(a5, this.getCoordinates(a5)), f3.isInsidePlot(a5.chartX - e3, a5.chartY - g2, { visiblePlotOnly: true }) && p2(f3, "click", a5)));
          };
          e2.prototype.onContainerMouseDown = function(a5) {
            var d3 = ((a5.buttons || a5.button) & 1) === 1;
            a5 = this.normalize(a5);
            if (h4.isFirefox && a5.button !== 0)
              this.onContainerMouseMove(a5);
            if (typeof a5.button === "undefined" || d3)
              this.zoomOption(a5), d3 && a5.preventDefault && a5.preventDefault(), this.dragStart(a5);
          };
          e2.prototype.onContainerMouseLeave = function(a5) {
            var d3 = D3[K2(e2.hoverChartIndex, -1)], c3 = this.chart.tooltip;
            c3 && c3.shouldStickOnContact() && this.inClass(a5.relatedTarget, "highcharts-tooltip-container") || (a5 = this.normalize(a5), d3 && (a5.relatedTarget || a5.toElement) && (d3.pointer.reset(), d3.pointer.chartPosition = void 0), c3 && !c3.isHidden && this.reset());
          };
          e2.prototype.onContainerMouseEnter = function(a5) {
            delete this.chartPosition;
          };
          e2.prototype.onContainerMouseMove = function(a5) {
            var d3 = this.chart;
            a5 = this.normalize(a5);
            this.setHoverChartIndex();
            a5.preventDefault || (a5.returnValue = false);
            (d3.mouseIsDown === "mousedown" || this.touchSelect(a5)) && this.drag(a5);
            d3.openMenu || !this.inClass(a5.target, "highcharts-tracker") && !d3.isInsidePlot(a5.chartX - d3.plotLeft, a5.chartY - d3.plotTop, { visiblePlotOnly: true }) || (this.inClass(a5.target, "highcharts-no-tooltip") ? this.reset(false, 0) : this.runPointActions(a5));
          };
          e2.prototype.onDocumentTouchEnd = function(a5) {
            var d3 = D3[K2(e2.hoverChartIndex, -1)];
            d3 && d3.pointer.drop(a5);
          };
          e2.prototype.onContainerTouchMove = function(a5) {
            if (this.touchSelect(a5))
              this.onContainerMouseMove(a5);
            else
              this.touch(a5);
          };
          e2.prototype.onContainerTouchStart = function(a5) {
            if (this.touchSelect(a5))
              this.onContainerMouseDown(a5);
            else
              this.zoomOption(a5), this.touch(a5, true);
          };
          e2.prototype.onDocumentMouseMove = function(a5) {
            var d3 = this.chart, c3 = this.chartPosition;
            a5 = this.normalize(a5, c3);
            var f3 = d3.tooltip;
            !c3 || f3 && f3.isStickyOnContact() || d3.isInsidePlot(a5.chartX - d3.plotLeft, a5.chartY - d3.plotTop, { visiblePlotOnly: true }) || this.inClass(a5.target, "highcharts-tracker") || this.reset();
          };
          e2.prototype.onDocumentMouseUp = function(a5) {
            var d3 = D3[K2(e2.hoverChartIndex, -1)];
            d3 && d3.pointer.drop(a5);
          };
          e2.prototype.pinch = function(a5) {
            var f3 = this, c3 = f3.chart, e3 = f3.pinchDown, g2 = a5.touches || [], u4 = g2.length, n2 = f3.lastValidTouch, b3 = f3.hasZoom, r3 = {}, k3 = u4 === 1 && (f3.inClass(a5.target, "highcharts-tracker") && c3.runTrackerClick || f3.runChartClick), m2 = {}, w2 = f3.selectionMarker;
            1 < u4 ? f3.initiated = true : u4 === 1 && this.followTouchMove && (f3.initiated = false);
            b3 && f3.initiated && !k3 && a5.cancelable !== false && a5.preventDefault();
            [].map.call(g2, function(b4) {
              return f3.normalize(b4);
            });
            a5.type === "touchstart" ? ([].forEach.call(g2, function(b4, c4) {
              e3[c4] = { chartX: b4.chartX, chartY: b4.chartY };
            }), n2.x = [e3[0].chartX, e3[1] && e3[1].chartX], n2.y = [e3[0].chartY, e3[1] && e3[1].chartY], c3.axes.forEach(function(b4) {
              if (b4.zoomEnabled) {
                var a6 = c3.bounds[b4.horiz ? "h" : "v"], g3 = b4.minPixelPadding, d3 = b4.toPixels(Math.min(K2(b4.options.min, b4.dataMin), b4.dataMin)), m3 = b4.toPixels(Math.max(K2(b4.options.max, b4.dataMax), b4.dataMax)), f4 = Math.max(d3, m3);
                a6.min = Math.min(b4.pos, Math.min(d3, m3) - g3);
                a6.max = Math.max(b4.pos + b4.len, f4 + g3);
              }
            }), f3.res = true) : f3.followTouchMove && u4 === 1 ? this.runPointActions(f3.normalize(a5)) : e3.length && (p2(c3, "touchpan", { originalEvent: a5 }, function() {
              w2 || (f3.selectionMarker = w2 = d2({ destroy: I2, touch: true }, c3.plotBox));
              f3.pinchTranslate(e3, g2, r3, w2, m2, n2);
              f3.hasPinched = b3;
              f3.scaleGroups(r3, m2);
            }), f3.res && (f3.res = false, this.reset(false, 0)));
          };
          e2.prototype.pinchTranslate = function(a5, d3, c3, f3, g2, e3) {
            this.zoomHor && this.pinchTranslateDirection(true, a5, d3, c3, f3, g2, e3);
            this.zoomVert && this.pinchTranslateDirection(false, a5, d3, c3, f3, g2, e3);
          };
          e2.prototype.pinchTranslateDirection = function(a5, d3, c3, f3, g2, e3, n2, b3) {
            var r3 = this.chart, k3 = a5 ? "x" : "y", m2 = a5 ? "X" : "Y", w2 = "chart" + m2, u4 = a5 ? "width" : "height", t2 = r3["plot" + (a5 ? "Left" : "Top")], l4 = r3.inverted, p3 = r3.bounds[a5 ? "h" : "v"], x3 = d3.length === 1, h5 = d3[0][w2], y2 = !x3 && d3[1][w2];
            d3 = function() {
              typeof J3 === "number" && 20 < Math.abs(h5 - y2) && (B2 = b3 || Math.abs(R - J3) / Math.abs(h5 - y2));
              C2 = (t2 - R) / B2 + h5;
              q4 = r3["plot" + (a5 ? "Width" : "Height")] / B2;
            };
            var q4, C2, B2 = b3 || 1, R = c3[0][w2], J3 = !x3 && c3[1][w2];
            d3();
            c3 = C2;
            if (c3 < p3.min) {
              c3 = p3.min;
              var F3 = true;
            } else
              c3 + q4 > p3.max && (c3 = p3.max - q4, F3 = true);
            F3 ? (R -= 0.8 * (R - n2[k3][0]), typeof J3 === "number" && (J3 -= 0.8 * (J3 - n2[k3][1])), d3()) : n2[k3] = [R, J3];
            l4 || (e3[k3] = C2 - t2, e3[u4] = q4);
            e3 = l4 ? 1 / B2 : B2;
            g2[u4] = q4;
            g2[k3] = c3;
            f3[l4 ? a5 ? "scaleY" : "scaleX" : "scale" + m2] = B2;
            f3["translate" + m2] = e3 * t2 + (R - e3 * h5);
          };
          e2.prototype.reset = function(a5, d3) {
            var c3 = this.chart, f3 = c3.hoverSeries, g2 = c3.hoverPoint, e3 = c3.hoverPoints, n2 = c3.tooltip, b3 = n2 && n2.shared ? e3 : g2;
            a5 && b3 && L3(b3).forEach(function(b4) {
              b4.series.isCartesian && typeof b4.plotX === "undefined" && (a5 = false);
            });
            if (a5)
              n2 && b3 && L3(b3).length && (n2.refresh(b3), n2.shared && e3 ? e3.forEach(function(b4) {
                b4.setState(b4.state, true);
                b4.series.isCartesian && (b4.series.xAxis.crosshair && b4.series.xAxis.drawCrosshair(null, b4), b4.series.yAxis.crosshair && b4.series.yAxis.drawCrosshair(null, b4));
              }) : g2 && (g2.setState(g2.state, true), c3.axes.forEach(function(b4) {
                b4.crosshair && g2.series[b4.coll] === b4 && b4.drawCrosshair(null, g2);
              })));
            else {
              if (g2)
                g2.onMouseOut();
              e3 && e3.forEach(function(b4) {
                b4.setState();
              });
              if (f3)
                f3.onMouseOut();
              n2 && n2.hide(d3);
              this.unDocMouseMove && (this.unDocMouseMove = this.unDocMouseMove());
              c3.axes.forEach(function(b4) {
                b4.hideCrosshair();
              });
              this.hoverX = c3.hoverPoints = c3.hoverPoint = null;
            }
          };
          e2.prototype.runPointActions = function(d3, f3) {
            var c3 = this.chart, k3 = c3.tooltip && c3.tooltip.options.enabled ? c3.tooltip : void 0, g2 = k3 ? k3.shared : false, u4 = f3 || c3.hoverPoint, n2 = u4 && u4.series || c3.hoverSeries;
            f3 = this.getHoverData(u4, n2, c3.series, (!d3 || d3.type !== "touchmove") && (!!f3 || n2 && n2.directTouch && this.isDirectTouch), g2, d3);
            u4 = f3.hoverPoint;
            n2 = f3.hoverSeries;
            var b3 = f3.hoverPoints;
            f3 = n2 && n2.tooltipOptions.followPointer && !n2.tooltipOptions.split;
            g2 = g2 && n2 && !n2.noSharedTooltip;
            if (u4 && (u4 !== c3.hoverPoint || k3 && k3.isHidden)) {
              (c3.hoverPoints || []).forEach(function(c4) {
                b3.indexOf(c4) === -1 && c4.setState();
              });
              if (c3.hoverSeries !== n2)
                n2.onMouseOver();
              this.applyInactiveState(b3);
              (b3 || []).forEach(function(b4) {
                b4.setState("hover");
              });
              c3.hoverPoint && c3.hoverPoint.firePointEvent("mouseOut");
              if (!u4.series)
                return;
              c3.hoverPoints = b3;
              c3.hoverPoint = u4;
              u4.firePointEvent("mouseOver");
              k3 && k3.refresh(g2 ? b3 : u4, d3);
            } else
              f3 && k3 && !k3.isHidden && (u4 = k3.getAnchor([{}], d3), c3.isInsidePlot(u4[0], u4[1], { visiblePlotOnly: true }) && k3.updatePosition({ plotX: u4[0], plotY: u4[1] }));
            this.unDocMouseMove || (this.unDocMouseMove = z2(c3.container.ownerDocument, "mousemove", function(b4) {
              var c4 = D3[e2.hoverChartIndex];
              if (c4)
                c4.pointer.onDocumentMouseMove(b4);
            }), this.eventsToUnbind.push(this.unDocMouseMove));
            c3.axes.forEach(function(g3) {
              var f4 = K2((g3.crosshair || {}).snap, true), m2;
              f4 && ((m2 = c3.hoverPoint) && m2.series[g3.coll] === g3 || (m2 = a4(b3, function(b4) {
                return b4.series[g3.coll] === g3;
              })));
              m2 || !f4 ? g3.drawCrosshair(d3, m2) : g3.hideCrosshair();
            });
          };
          e2.prototype.scaleGroups = function(a5, d3) {
            var c3 = this.chart;
            c3.series.forEach(function(f3) {
              var g2 = a5 || f3.getPlotBox();
              f3.group && (f3.xAxis && f3.xAxis.zoomEnabled || c3.mapView) && (f3.group.attr(g2), f3.markerGroup && (f3.markerGroup.attr(g2), f3.markerGroup.clip(d3 ? c3.clipRect : null)), f3.dataLabelsGroup && f3.dataLabelsGroup.attr(g2));
            });
            c3.clipRect.attr(d3 || c3.clipBox);
          };
          e2.prototype.setDOMEvents = function() {
            var a5 = this, d3 = this.chart.container, c3 = d3.ownerDocument;
            d3.onmousedown = this.onContainerMouseDown.bind(this);
            d3.onmousemove = this.onContainerMouseMove.bind(this);
            d3.onclick = this.onContainerClick.bind(this);
            this.eventsToUnbind.push(z2(d3, "mouseenter", this.onContainerMouseEnter.bind(this)));
            this.eventsToUnbind.push(z2(d3, "mouseleave", this.onContainerMouseLeave.bind(this)));
            e2.unbindDocumentMouseUp || (e2.unbindDocumentMouseUp = z2(c3, "mouseup", this.onDocumentMouseUp.bind(this)));
            for (var f3 = this.chart.renderTo.parentElement; f3 && f3.tagName !== "BODY"; )
              this.eventsToUnbind.push(z2(f3, "scroll", function() {
                delete a5.chartPosition;
              })), f3 = f3.parentElement;
            h4.hasTouch && (this.eventsToUnbind.push(z2(d3, "touchstart", this.onContainerTouchStart.bind(this), { passive: false })), this.eventsToUnbind.push(z2(d3, "touchmove", this.onContainerTouchMove.bind(this), { passive: false })), e2.unbindDocumentTouchEnd || (e2.unbindDocumentTouchEnd = z2(c3, "touchend", this.onDocumentTouchEnd.bind(this), { passive: false })));
          };
          e2.prototype.setHoverChartIndex = function() {
            var a5 = this.chart, d3 = h4.charts[K2(e2.hoverChartIndex, -1)];
            if (d3 && d3 !== a5)
              d3.pointer.onContainerMouseLeave({ relatedTarget: true });
            d3 && d3.mouseIsDown || (e2.hoverChartIndex = a5.index);
          };
          e2.prototype.touch = function(a5, d3) {
            var c3 = this.chart, f3;
            this.setHoverChartIndex();
            if (a5.touches.length === 1)
              if (a5 = this.normalize(a5), (f3 = c3.isInsidePlot(a5.chartX - c3.plotLeft, a5.chartY - c3.plotTop, { visiblePlotOnly: true })) && !c3.openMenu) {
                d3 && this.runPointActions(a5);
                if (a5.type === "touchmove") {
                  d3 = this.pinchDown;
                  var g2 = d3[0] ? 4 <= Math.sqrt(Math.pow(d3[0].chartX - a5.chartX, 2) + Math.pow(d3[0].chartY - a5.chartY, 2)) : false;
                }
                K2(g2, true) && this.pinch(a5);
              } else
                d3 && this.reset();
            else
              a5.touches.length === 2 && this.pinch(a5);
          };
          e2.prototype.touchSelect = function(a5) {
            return !(!this.chart.options.chart.zoomBySingleTouch || !a5.touches || a5.touches.length !== 1);
          };
          e2.prototype.zoomOption = function(a5) {
            var d3 = this.chart, c3 = d3.options.chart;
            d3 = d3.inverted;
            var f3 = c3.zoomType || "";
            /touch/.test(a5.type) && (f3 = K2(c3.pinchType, f3));
            this.zoomX = a5 = /x/.test(f3);
            this.zoomY = c3 = /y/.test(f3);
            this.zoomHor = a5 && !d3 || c3 && d3;
            this.zoomVert = c3 && !d3 || a5 && d3;
            this.hasZoom = a5 || c3;
          };
          return e2;
        }();
        "";
        return e;
      });
      M2(h3, "Core/MSPointer.js", [h3["Core/Globals.js"], h3["Core/Pointer.js"], h3["Core/Utilities.js"]], function(e, h4, A) {
        function D3() {
          var d3 = [];
          d3.item = function(a5) {
            return this[a5];
          };
          a4(k2, function(a5) {
            d3.push({ pageX: a5.pageX, pageY: a5.pageY, target: a5.target });
          });
          return d3;
        }
        function v(a5, d3, f3, e2) {
          var k3 = I2[h4.hoverChartIndex || NaN];
          a5.pointerType !== "touch" && a5.pointerType !== a5.MSPOINTER_TYPE_TOUCH || !k3 || (k3 = k3.pointer, e2(a5), k3[d3]({ type: f3, target: a5.currentTarget, preventDefault: q3, touches: D3() }));
        }
        var H2 = this && this.__extends || function() {
          var a5 = function(d3, f3) {
            a5 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(a6, d4) {
              a6.__proto__ = d4;
            } || function(a6, d4) {
              for (var f4 in d4)
                d4.hasOwnProperty(f4) && (a6[f4] = d4[f4]);
            };
            return a5(d3, f3);
          };
          return function(d3, f3) {
            function e2() {
              this.constructor = d3;
            }
            a5(d3, f3);
            d3.prototype = f3 === null ? Object.create(f3) : (e2.prototype = f3.prototype, new e2());
          };
        }(), I2 = e.charts, z2 = e.doc, q3 = e.noop, l3 = e.win, f2 = A.addEvent, d2 = A.css, a4 = A.objectEach, p2 = A.removeEvent, k2 = {}, F2 = !!l3.PointerEvent;
        return function(a5) {
          function h5() {
            return a5 !== null && a5.apply(this, arguments) || this;
          }
          H2(h5, a5);
          h5.isRequired = function() {
            return !(e.hasTouch || !l3.PointerEvent && !l3.MSPointerEvent);
          };
          h5.prototype.batchMSEvents = function(a6) {
            a6(this.chart.container, F2 ? "pointerdown" : "MSPointerDown", this.onContainerPointerDown);
            a6(this.chart.container, F2 ? "pointermove" : "MSPointerMove", this.onContainerPointerMove);
            a6(z2, F2 ? "pointerup" : "MSPointerUp", this.onDocumentPointerUp);
          };
          h5.prototype.destroy = function() {
            this.batchMSEvents(p2);
            a5.prototype.destroy.call(this);
          };
          h5.prototype.init = function(f3, e2) {
            a5.prototype.init.call(this, f3, e2);
            this.hasZoom && d2(f3.container, { "-ms-touch-action": "none", "touch-action": "none" });
          };
          h5.prototype.onContainerPointerDown = function(a6) {
            v(a6, "onContainerTouchStart", "touchstart", function(a7) {
              k2[a7.pointerId] = { pageX: a7.pageX, pageY: a7.pageY, target: a7.currentTarget };
            });
          };
          h5.prototype.onContainerPointerMove = function(a6) {
            v(a6, "onContainerTouchMove", "touchmove", function(a7) {
              k2[a7.pointerId] = {
                pageX: a7.pageX,
                pageY: a7.pageY
              };
              k2[a7.pointerId].target || (k2[a7.pointerId].target = a7.currentTarget);
            });
          };
          h5.prototype.onDocumentPointerUp = function(a6) {
            v(a6, "onDocumentTouchEnd", "touchend", function(a7) {
              delete k2[a7.pointerId];
            });
          };
          h5.prototype.setDOMEvents = function() {
            a5.prototype.setDOMEvents.call(this);
            (this.hasZoom || this.followTouchMove) && this.batchMSEvents(f2);
          };
          return h5;
        }(h4);
      });
      M2(h3, "Core/Legend/Legend.js", [
        h3["Core/Animation/AnimationUtilities.js"],
        h3["Core/FormatUtilities.js"],
        h3["Core/Globals.js"],
        h3["Core/Series/Point.js"],
        h3["Core/Renderer/RendererUtilities.js"],
        h3["Core/Utilities.js"]
      ], function(e, h4, A, E3, v, H2) {
        var D3 = e.animObject, z2 = e.setAnimation, q3 = h4.format;
        e = A.isFirefox;
        var l3 = A.marginNames;
        A = A.win;
        var f2 = v.distribute, d2 = H2.addEvent, a4 = H2.createElement, p2 = H2.css, k2 = H2.defined, F2 = H2.discardElement, B = H2.find, J2 = H2.fireEvent, K2 = H2.isNumber, L3 = H2.merge, y2 = H2.pick, C2 = H2.relativeLength, x3 = H2.stableSort, c3 = H2.syncTimeout;
        v = H2.wrap;
        H2 = function() {
          function e2(c4, a5) {
            this.allItems = [];
            this.contentGroup = this.box = void 0;
            this.display = false;
            this.group = void 0;
            this.offsetWidth = this.maxLegendWidth = this.maxItemWidth = this.legendWidth = this.legendHeight = this.lastLineHeight = this.lastItemY = this.itemY = this.itemX = this.itemMarginTop = this.itemMarginBottom = this.itemHeight = this.initialItemY = 0;
            this.options = {};
            this.padding = 0;
            this.pages = [];
            this.proximate = false;
            this.scrollGroup = void 0;
            this.widthOption = this.totalItemWidth = this.titleHeight = this.symbolWidth = this.symbolHeight = 0;
            this.chart = c4;
            this.init(c4, a5);
          }
          e2.prototype.init = function(c4, a5) {
            this.chart = c4;
            this.setOptions(a5);
            a5.enabled && (this.render(), d2(this.chart, "endResize", function() {
              this.legend.positionCheckboxes();
            }), this.proximate ? this.unchartrender = d2(this.chart, "render", function() {
              this.legend.proximatePositions();
              this.legend.positionItems();
            }) : this.unchartrender && this.unchartrender());
          };
          e2.prototype.setOptions = function(c4) {
            var a5 = y2(c4.padding, 8);
            this.options = c4;
            this.chart.styledMode || (this.itemStyle = c4.itemStyle, this.itemHiddenStyle = L3(this.itemStyle, c4.itemHiddenStyle));
            this.itemMarginTop = c4.itemMarginTop || 0;
            this.itemMarginBottom = c4.itemMarginBottom || 0;
            this.padding = a5;
            this.initialItemY = a5 - 5;
            this.symbolWidth = y2(c4.symbolWidth, 16);
            this.pages = [];
            this.proximate = c4.layout === "proximate" && !this.chart.inverted;
            this.baseline = void 0;
          };
          e2.prototype.update = function(c4, a5) {
            var d3 = this.chart;
            this.setOptions(L3(true, this.options, c4));
            this.destroy();
            d3.isDirtyLegend = d3.isDirtyBox = true;
            y2(a5, true) && d3.redraw();
            J2(this, "afterUpdate");
          };
          e2.prototype.colorizeItem = function(c4, a5) {
            c4.legendGroup[a5 ? "removeClass" : "addClass"]("highcharts-legend-item-hidden");
            if (!this.chart.styledMode) {
              var d3 = this.options, b3 = c4.legendItem, g2 = c4.legendLine, f3 = c4.legendSymbol, m2 = this.itemHiddenStyle.color;
              d3 = a5 ? d3.itemStyle.color : m2;
              var e3 = a5 ? c4.color || m2 : m2, k3 = c4.options && c4.options.marker, u4 = { fill: e3 };
              b3 && b3.css({ fill: d3, color: d3 });
              g2 && g2.attr({ stroke: e3 });
              f3 && (k3 && f3.isMarker && (u4 = c4.pointAttribs(), a5 || (u4.stroke = u4.fill = m2)), f3.attr(u4));
            }
            J2(this, "afterColorizeItem", { item: c4, visible: a5 });
          };
          e2.prototype.positionItems = function() {
            this.allItems.forEach(this.positionItem, this);
            this.chart.isResizing || this.positionCheckboxes();
          };
          e2.prototype.positionItem = function(c4) {
            var a5 = this, d3 = this.options, b3 = d3.symbolPadding, g2 = !d3.rtl, f3 = c4._legendItemPos;
            d3 = f3[0];
            f3 = f3[1];
            var m2 = c4.checkbox, e3 = c4.legendGroup;
            e3 && e3.element && (b3 = { translateX: g2 ? d3 : this.legendWidth - d3 - 2 * b3 - 4, translateY: f3 }, g2 = function() {
              J2(a5, "afterPositionItem", { item: c4 });
            }, k2(e3.translateY) ? e3.animate(b3, void 0, g2) : (e3.attr(b3), g2()));
            m2 && (m2.x = d3, m2.y = f3);
          };
          e2.prototype.destroyItem = function(c4) {
            var a5 = c4.checkbox;
            ["legendItem", "legendLine", "legendSymbol", "legendGroup"].forEach(function(a6) {
              c4[a6] && (c4[a6] = c4[a6].destroy());
            });
            a5 && F2(c4.checkbox);
          };
          e2.prototype.destroy = function() {
            function c4(c5) {
              this[c5] && (this[c5] = this[c5].destroy());
            }
            this.getAllItems().forEach(function(a5) {
              [
                "legendItem",
                "legendGroup"
              ].forEach(c4, a5);
            });
            "clipRect up down pager nav box title group".split(" ").forEach(c4, this);
            this.display = null;
          };
          e2.prototype.positionCheckboxes = function() {
            var c4 = this.group && this.group.alignAttr, a5 = this.clipHeight || this.legendHeight, d3 = this.titleHeight;
            if (c4) {
              var b3 = c4.translateY;
              this.allItems.forEach(function(g2) {
                var f3 = g2.checkbox;
                if (f3) {
                  var m2 = b3 + d3 + f3.y + (this.scrollOffset || 0) + 3;
                  p2(f3, { left: c4.translateX + g2.checkboxOffset + f3.x - 20 + "px", top: m2 + "px", display: this.proximate || m2 > b3 - 6 && m2 < b3 + a5 - 6 ? "" : "none" });
                }
              }, this);
            }
          };
          e2.prototype.renderTitle = function() {
            var c4 = this.options, a5 = this.padding, d3 = c4.title, b3 = 0;
            d3.text && (this.title || (this.title = this.chart.renderer.label(d3.text, a5 - 3, a5 - 4, null, null, null, c4.useHTML, null, "legend-title").attr({ zIndex: 1 }), this.chart.styledMode || this.title.css(d3.style), this.title.add(this.group)), d3.width || this.title.css({ width: this.maxLegendWidth + "px" }), c4 = this.title.getBBox(), b3 = c4.height, this.offsetWidth = c4.width, this.contentGroup.attr({ translateY: b3 }));
            this.titleHeight = b3;
          };
          e2.prototype.setText = function(c4) {
            var a5 = this.options;
            c4.legendItem.attr({ text: a5.labelFormat ? q3(a5.labelFormat, c4, this.chart) : a5.labelFormatter.call(c4) });
          };
          e2.prototype.renderItem = function(c4) {
            var a5 = this.chart, d3 = a5.renderer, b3 = this.options, g2 = this.symbolWidth, f3 = b3.symbolPadding || 0, m2 = this.itemStyle, e3 = this.itemHiddenStyle, k3 = b3.layout === "horizontal" ? y2(b3.itemDistance, 20) : 0, l4 = !b3.rtl, p3 = !c4.series, h5 = !p3 && c4.series.drawLegendSymbol ? c4.series : c4, t2 = h5.options, x4 = this.createCheckboxForItem && t2 && t2.showCheckbox, q4 = b3.useHTML, C3 = c4.options.className, Q2 = c4.legendItem;
            t2 = g2 + f3 + k3 + (x4 ? 20 : 0);
            Q2 || (c4.legendGroup = d3.g("legend-item").addClass("highcharts-" + h5.type + "-series highcharts-color-" + c4.colorIndex + (C3 ? " " + C3 : "") + (p3 ? " highcharts-series-" + c4.index : "")).attr({ zIndex: 1 }).add(this.scrollGroup), c4.legendItem = Q2 = d3.text("", l4 ? g2 + f3 : -f3, this.baseline || 0, q4), a5.styledMode || Q2.css(L3(c4.visible ? m2 : e3)), Q2.attr({ align: l4 ? "left" : "right", zIndex: 2 }).add(c4.legendGroup), this.baseline || (this.fontMetrics = d3.fontMetrics(a5.styledMode ? 12 : m2.fontSize, Q2), this.baseline = this.fontMetrics.f + 3 + this.itemMarginTop, Q2.attr("y", this.baseline), this.symbolHeight = b3.symbolHeight || this.fontMetrics.f, b3.squareSymbol && (this.symbolWidth = y2(b3.symbolWidth, Math.max(this.symbolHeight, 16)), t2 = this.symbolWidth + f3 + k3 + (x4 ? 20 : 0), l4 && Q2.attr("x", this.symbolWidth + f3))), h5.drawLegendSymbol(this, c4), this.setItemEvents && this.setItemEvents(c4, Q2, q4));
            x4 && !c4.checkbox && this.createCheckboxForItem && this.createCheckboxForItem(c4);
            this.colorizeItem(c4, c4.visible);
            !a5.styledMode && m2.width || Q2.css({ width: (b3.itemWidth || this.widthOption || a5.spacingBox.width) - t2 + "px" });
            this.setText(c4);
            a5 = Q2.getBBox();
            c4.itemWidth = c4.checkboxOffset = b3.itemWidth || c4.legendItemWidth || a5.width + t2;
            this.maxItemWidth = Math.max(this.maxItemWidth, c4.itemWidth);
            this.totalItemWidth += c4.itemWidth;
            this.itemHeight = c4.itemHeight = Math.round(c4.legendItemHeight || a5.height || this.symbolHeight);
          };
          e2.prototype.layoutItem = function(c4) {
            var a5 = this.options, d3 = this.padding, b3 = a5.layout === "horizontal", g2 = c4.itemHeight, f3 = this.itemMarginBottom, m2 = this.itemMarginTop, e3 = b3 ? y2(a5.itemDistance, 20) : 0, k3 = this.maxLegendWidth;
            a5 = a5.alignColumns && this.totalItemWidth > k3 ? this.maxItemWidth : c4.itemWidth;
            b3 && this.itemX - d3 + a5 > k3 && (this.itemX = d3, this.lastLineHeight && (this.itemY += m2 + this.lastLineHeight + f3), this.lastLineHeight = 0);
            this.lastItemY = m2 + this.itemY + f3;
            this.lastLineHeight = Math.max(g2, this.lastLineHeight);
            c4._legendItemPos = [this.itemX, this.itemY];
            b3 ? this.itemX += a5 : (this.itemY += m2 + g2 + f3, this.lastLineHeight = g2);
            this.offsetWidth = this.widthOption || Math.max((b3 ? this.itemX - d3 - (c4.checkbox ? 0 : e3) : a5) + d3, this.offsetWidth);
          };
          e2.prototype.getAllItems = function() {
            var c4 = [];
            this.chart.series.forEach(function(a5) {
              var d3 = a5 && a5.options;
              a5 && y2(d3.showInLegend, k2(d3.linkedTo) ? false : void 0, true) && (c4 = c4.concat(a5.legendItems || (d3.legendType === "point" ? a5.data : a5)));
            });
            J2(this, "afterGetAllItems", { allItems: c4 });
            return c4;
          };
          e2.prototype.getAlignment = function() {
            var c4 = this.options;
            return this.proximate ? c4.align.charAt(0) + "tv" : c4.floating ? "" : c4.align.charAt(0) + c4.verticalAlign.charAt(0) + c4.layout.charAt(0);
          };
          e2.prototype.adjustMargins = function(c4, a5) {
            var d3 = this.chart, b3 = this.options, g2 = this.getAlignment();
            g2 && [/(lth|ct|rth)/, /(rtv|rm|rbv)/, /(rbh|cb|lbh)/, /(lbv|lm|ltv)/].forEach(function(f3, m2) {
              f3.test(g2) && !k2(c4[m2]) && (d3[l3[m2]] = Math.max(d3[l3[m2]], d3.legend[(m2 + 1) % 2 ? "legendHeight" : "legendWidth"] + [1, -1, -1, 1][m2] * b3[m2 % 2 ? "x" : "y"] + y2(b3.margin, 12) + a5[m2] + (d3.titleOffset[m2] || 0)));
            });
          };
          e2.prototype.proximatePositions = function() {
            var c4 = this.chart, a5 = [], d3 = this.options.align === "left";
            this.allItems.forEach(function(b3) {
              var g2;
              var f3 = d3;
              if (b3.yAxis) {
                b3.xAxis.options.reversed && (f3 = !f3);
                b3.points && (g2 = B(f3 ? b3.points : b3.points.slice(0).reverse(), function(b4) {
                  return K2(b4.plotY);
                }));
                f3 = this.itemMarginTop + b3.legendItem.getBBox().height + this.itemMarginBottom;
                var m2 = b3.yAxis.top - c4.plotTop;
                b3.visible ? (g2 = g2 ? g2.plotY : b3.yAxis.height, g2 += m2 - 0.3 * f3) : g2 = m2 + b3.yAxis.height;
                a5.push({ target: g2, size: f3, item: b3 });
              }
            }, this);
            f2(a5, c4.plotHeight).forEach(function(b3) {
              b3.item._legendItemPos && (b3.item._legendItemPos[1] = c4.plotTop - c4.spacing[0] + b3.pos);
            });
          };
          e2.prototype.render = function() {
            var c4 = this.chart, a5 = c4.renderer, d3 = this.options, b3 = this.padding, f3 = this.getAllItems(), e3 = this.group, m2 = this.box;
            this.itemX = b3;
            this.itemY = this.initialItemY;
            this.lastItemY = this.offsetWidth = 0;
            this.widthOption = C2(d3.width, c4.spacingBox.width - b3);
            var k3 = c4.spacingBox.width - 2 * b3 - d3.x;
            -1 < ["rm", "lm"].indexOf(this.getAlignment().substring(0, 2)) && (k3 /= 2);
            this.maxLegendWidth = this.widthOption || k3;
            e3 || (this.group = e3 = a5.g("legend").addClass(d3.className || "").attr({ zIndex: 7 }).add(), this.contentGroup = a5.g().attr({ zIndex: 1 }).add(e3), this.scrollGroup = a5.g().add(this.contentGroup));
            this.renderTitle();
            x3(f3, function(b4, c5) {
              return (b4.options && b4.options.legendIndex || 0) - (c5.options && c5.options.legendIndex || 0);
            });
            d3.reversed && f3.reverse();
            this.allItems = f3;
            this.display = k3 = !!f3.length;
            this.itemHeight = this.totalItemWidth = this.maxItemWidth = this.lastLineHeight = 0;
            f3.forEach(this.renderItem, this);
            f3.forEach(this.layoutItem, this);
            f3 = (this.widthOption || this.offsetWidth) + b3;
            var l4 = this.lastItemY + this.lastLineHeight + this.titleHeight;
            l4 = this.handleOverflow(l4);
            l4 += b3;
            m2 || (this.box = m2 = a5.rect().addClass("highcharts-legend-box").attr({ r: d3.borderRadius }).add(e3), m2.isNew = true);
            c4.styledMode || m2.attr({ stroke: d3.borderColor, "stroke-width": d3.borderWidth || 0, fill: d3.backgroundColor || "none" }).shadow(d3.shadow);
            0 < f3 && 0 < l4 && (m2[m2.isNew ? "attr" : "animate"](m2.crisp.call({}, { x: 0, y: 0, width: f3, height: l4 }, m2.strokeWidth())), m2.isNew = false);
            m2[k3 ? "show" : "hide"]();
            c4.styledMode && e3.getStyle("display") === "none" && (f3 = l4 = 0);
            this.legendWidth = f3;
            this.legendHeight = l4;
            k3 && this.align();
            this.proximate || this.positionItems();
            J2(this, "afterRender");
          };
          e2.prototype.align = function(c4) {
            c4 === void 0 && (c4 = this.chart.spacingBox);
            var a5 = this.chart, d3 = this.options, b3 = c4.y;
            /(lth|ct|rth)/.test(this.getAlignment()) && 0 < a5.titleOffset[0] ? b3 += a5.titleOffset[0] : /(lbh|cb|rbh)/.test(this.getAlignment()) && 0 < a5.titleOffset[2] && (b3 -= a5.titleOffset[2]);
            b3 !== c4.y && (c4 = L3(c4, { y: b3 }));
            this.group.align(L3(d3, { width: this.legendWidth, height: this.legendHeight, verticalAlign: this.proximate ? "top" : d3.verticalAlign }), true, c4);
          };
          e2.prototype.handleOverflow = function(c4) {
            var a5 = this, d3 = this.chart, b3 = d3.renderer, g2 = this.options, f3 = g2.y, m2 = g2.verticalAlign === "top", e3 = this.padding, k3 = g2.maxHeight, l4 = g2.navigation, p3 = y2(l4.animation, true), h5 = l4.arrowSize || 12, t2 = this.pages, x4 = this.allItems, q4 = function(b4) {
              typeof b4 === "number" ? F3.attr({ height: b4 }) : F3 && (a5.clipRect = F3.destroy(), a5.contentGroup.clip());
              a5.contentGroup.div && (a5.contentGroup.div.style.clip = b4 ? "rect(" + e3 + "px,9999px," + (e3 + b4) + "px,0)" : "auto");
            }, C3 = function(c5) {
              a5[c5] = b3.circle(0, 0, 1.3 * h5).translate(h5 / 2, h5 / 2).add(R);
              d3.styledMode || a5[c5].attr("fill", "rgba(0,0,0,0.0001)");
              return a5[c5];
            }, Q2, B2;
            f3 = d3.spacingBox.height + (m2 ? -f3 : f3) - e3;
            var R = this.nav, F3 = this.clipRect;
            g2.layout !== "horizontal" || g2.verticalAlign === "middle" || g2.floating || (f3 /= 2);
            k3 && (f3 = Math.min(f3, k3));
            t2.length = 0;
            c4 && 0 < f3 && c4 > f3 && l4.enabled !== false ? (this.clipHeight = Q2 = Math.max(f3 - 20 - this.titleHeight - e3, 0), this.currentPage = y2(this.currentPage, 1), this.fullHeight = c4, x4.forEach(function(b4, c5) {
              var a6 = b4._legendItemPos[1], d4 = Math.round(b4.legendItem.getBBox().height), g3 = t2.length;
              if (!g3 || a6 - t2[g3 - 1] > Q2 && (B2 || a6) !== t2[g3 - 1])
                t2.push(B2 || a6), g3++;
              b4.pageIx = g3 - 1;
              B2 && (x4[c5 - 1].pageIx = g3 - 1);
              c5 === x4.length - 1 && a6 + d4 - t2[g3 - 1] > Q2 && d4 <= Q2 && (t2.push(a6), b4.pageIx = g3);
              a6 !== B2 && (B2 = a6);
            }), F3 || (F3 = a5.clipRect = b3.clipRect(0, e3, 9999, 0), a5.contentGroup.clip(F3)), q4(Q2), R || (this.nav = R = b3.g().attr({ zIndex: 1 }).add(this.group), this.up = b3.symbol("triangle", 0, 0, h5, h5).add(R), C3("upTracker").on("click", function() {
              a5.scroll(-1, p3);
            }), this.pager = b3.text("", 15, 10).addClass("highcharts-legend-navigation"), d3.styledMode || this.pager.css(l4.style), this.pager.add(R), this.down = b3.symbol("triangle-down", 0, 0, h5, h5).add(R), C3("downTracker").on("click", function() {
              a5.scroll(1, p3);
            })), a5.scroll(0), c4 = f3) : R && (q4(), this.nav = R.destroy(), this.scrollGroup.attr({ translateY: 1 }), this.clipHeight = 0);
            return c4;
          };
          e2.prototype.scroll = function(a5, d3) {
            var g2 = this, b3 = this.chart, f3 = this.pages, e3 = f3.length, m2 = this.clipHeight, k3 = this.options.navigation, l4 = this.pager, p3 = this.padding, u4 = this.currentPage + a5;
            u4 > e3 && (u4 = e3);
            0 < u4 && (typeof d3 !== "undefined" && z2(d3, b3), this.nav.attr({ translateX: p3, translateY: m2 + this.padding + 7 + this.titleHeight, visibility: "visible" }), [this.up, this.upTracker].forEach(function(b4) {
              b4.attr({ "class": u4 === 1 ? "highcharts-legend-nav-inactive" : "highcharts-legend-nav-active" });
            }), l4.attr({ text: u4 + "/" + e3 }), [this.down, this.downTracker].forEach(function(b4) {
              b4.attr({ x: 18 + this.pager.getBBox().width, "class": u4 === e3 ? "highcharts-legend-nav-inactive" : "highcharts-legend-nav-active" });
            }, this), b3.styledMode || (this.up.attr({ fill: u4 === 1 ? k3.inactiveColor : k3.activeColor }), this.upTracker.css({ cursor: u4 === 1 ? "default" : "pointer" }), this.down.attr({ fill: u4 === e3 ? k3.inactiveColor : k3.activeColor }), this.downTracker.css({ cursor: u4 === e3 ? "default" : "pointer" })), this.scrollOffset = -f3[u4 - 1] + this.initialItemY, this.scrollGroup.animate({ translateY: this.scrollOffset }), this.currentPage = u4, this.positionCheckboxes(), a5 = D3(y2(d3, b3.renderer.globalAnimation, true)), c3(function() {
              J2(g2, "afterScroll", { currentPage: u4 });
            }, a5.duration));
          };
          e2.prototype.setItemEvents = function(c4, a5, d3) {
            var b3 = this, g2 = b3.chart.renderer.boxWrapper, f3 = c4 instanceof E3, m2 = "highcharts-legend-" + (f3 ? "point" : "series") + "-active", e3 = b3.chart.styledMode, n2 = function(a6) {
              b3.allItems.forEach(function(b4) {
                c4 !== b4 && [b4].concat(b4.linkedSeries || []).forEach(function(b5) {
                  b5.setState(a6, !f3);
                });
              });
            };
            (d3 ? [a5, c4.legendSymbol] : [c4.legendGroup]).forEach(function(d4) {
              if (d4)
                d4.on("mouseover", function() {
                  c4.visible && n2("inactive");
                  c4.setState("hover");
                  c4.visible && g2.addClass(m2);
                  e3 || a5.css(b3.options.itemHoverStyle);
                }).on("mouseout", function() {
                  b3.chart.styledMode || a5.css(L3(c4.visible ? b3.itemStyle : b3.itemHiddenStyle));
                  n2("");
                  g2.removeClass(m2);
                  c4.setState();
                }).on("click", function(b4) {
                  var a6 = function() {
                    c4.setVisible && c4.setVisible();
                    n2(c4.visible ? "inactive" : "");
                  };
                  g2.removeClass(m2);
                  b4 = { browserEvent: b4 };
                  c4.firePointEvent ? c4.firePointEvent("legendItemClick", b4, a6) : J2(c4, "legendItemClick", b4, a6);
                });
            });
          };
          e2.prototype.createCheckboxForItem = function(c4) {
            c4.checkbox = a4("input", { type: "checkbox", className: "highcharts-legend-checkbox", checked: c4.selected, defaultChecked: c4.selected }, this.options.itemCheckboxStyle, this.chart.container);
            d2(c4.checkbox, "click", function(a5) {
              J2(c4.series || c4, "checkboxClick", { checked: a5.target.checked, item: c4 }, function() {
                c4.select();
              });
            });
          };
          return e2;
        }();
        (/Trident\/7\.0/.test(A.navigator && A.navigator.userAgent) || e) && v(H2.prototype, "positionItem", function(c4, a5) {
          var d3 = this, g2 = function() {
            a5._legendItemPos && c4.call(d3, a5);
          };
          g2();
          d3.bubbleLegend || setTimeout(g2);
        });
        "";
        return H2;
      });
      M2(h3, "Core/Series/SeriesRegistry.js", [h3["Core/Globals.js"], h3["Core/DefaultOptions.js"], h3["Core/Series/Point.js"], h3["Core/Utilities.js"]], function(e, h4, A, E3) {
        var v = h4.defaultOptions, D3 = E3.error, I2 = E3.extendClass, z2 = E3.merge, q3;
        (function(l3) {
          function f2(d2, a4) {
            var f3 = v.plotOptions || {}, e2 = a4.defaultOptions;
            a4.prototype.pointClass || (a4.prototype.pointClass = A);
            a4.prototype.type = d2;
            e2 && (f3[d2] = e2);
            l3.seriesTypes[d2] = a4;
          }
          l3.seriesTypes = e.seriesTypes;
          l3.getSeries = function(d2, a4) {
            a4 === void 0 && (a4 = {});
            var f3 = d2.options.chart;
            f3 = a4.type || f3.type || f3.defaultSeriesType || "";
            var e2 = l3.seriesTypes[f3];
            l3 || D3(17, true, d2, { missingModuleFor: f3 });
            f3 = new e2();
            typeof f3.init === "function" && f3.init(d2, a4);
            return f3;
          };
          l3.registerSeriesType = f2;
          l3.seriesType = function(d2, a4, e2, k2, h5) {
            var p2 = v.plotOptions || {};
            a4 = a4 || "";
            p2[d2] = z2(p2[a4], e2);
            f2(d2, I2(l3.seriesTypes[a4] || function() {
            }, k2));
            l3.seriesTypes[d2].prototype.type = d2;
            h5 && (l3.seriesTypes[d2].prototype.pointClass = I2(A, h5));
            return l3.seriesTypes[d2];
          };
        })(q3 || (q3 = {}));
        return q3;
      });
      M2(h3, "Core/Chart/Chart.js", [
        h3["Core/Animation/AnimationUtilities.js"],
        h3["Core/Axis/Axis.js"],
        h3["Core/FormatUtilities.js"],
        h3["Core/Foundation.js"],
        h3["Core/Globals.js"],
        h3["Core/Legend/Legend.js"],
        h3["Core/MSPointer.js"],
        h3["Core/DefaultOptions.js"],
        h3["Core/Pointer.js"],
        h3["Core/Renderer/RendererRegistry.js"],
        h3["Core/Series/SeriesRegistry.js"],
        h3["Core/Renderer/SVG/SVGRenderer.js"],
        h3["Core/Time.js"],
        h3["Core/Utilities.js"],
        h3["Core/Renderer/HTML/AST.js"]
      ], function(e, h4, A, E3, v, H2, I2, z2, q3, l3, f2, d2, a4, p2, k2) {
        var F2 = e.animate, B = e.animObject, J2 = e.setAnimation, K2 = A.numberFormat, L3 = E3.registerEventOptions, y2 = v.charts, C2 = v.doc, x3 = v.marginNames, c3 = v.svg, t2 = v.win, g2 = z2.defaultOptions, u4 = z2.defaultTime, n2 = f2.seriesTypes, b3 = p2.addEvent, r3 = p2.attr, G2 = p2.cleanRecursively, m2 = p2.createElement, w2 = p2.css, N3 = p2.defined, X = p2.discardElement, P2 = p2.erase, O3 = p2.error, W2 = p2.extend, Z = p2.find, D3 = p2.fireEvent, aa = p2.getStyle, Q2 = p2.isArray, ba = p2.isNumber, R = p2.isObject, ca = p2.isString, T = p2.merge, U = p2.objectEach, S2 = p2.pick, da = p2.pInt, ia = p2.relativeLength, M3 = p2.removeEvent, fa = p2.splat, Y = p2.syncTimeout, ja = p2.uniqueKey;
        e = function() {
          function f3(b4, c4, a5) {
            this.series = this.renderTo = this.renderer = this.pointer = this.pointCount = this.plotWidth = this.plotTop = this.plotLeft = this.plotHeight = this.plotBox = this.options = this.numberFormatter = this.margin = this.legend = this.labelCollectors = this.isResizing = this.index = this.eventOptions = this.container = this.colorCounter = this.clipBox = this.chartWidth = this.chartHeight = this.bounds = this.axisOffset = this.axes = void 0;
            this.sharedClips = {};
            this.yAxis = this.xAxis = this.userOptions = this.titleOffset = this.time = this.symbolCounter = this.spacingBox = this.spacing = void 0;
            this.getArgs(b4, c4, a5);
          }
          f3.chart = function(b4, c4, a5) {
            return new f3(b4, c4, a5);
          };
          f3.prototype.getArgs = function(b4, c4, a5) {
            ca(b4) || b4.nodeName ? (this.renderTo = b4, this.init(c4, a5)) : this.init(b4, c4);
          };
          f3.prototype.init = function(b4, c4) {
            var d3 = b4.plotOptions || {};
            D3(this, "init", { args: arguments }, function() {
              var f4 = T(g2, b4), m3 = f4.chart;
              U(f4.plotOptions, function(b5, c5) {
                R(b5) && (b5.tooltip = d3[c5] && T(d3[c5].tooltip) || void 0);
              });
              f4.tooltip.userOptions = b4.chart && b4.chart.forExport && b4.tooltip.userOptions || b4.tooltip;
              this.userOptions = b4;
              this.margin = [];
              this.spacing = [];
              this.bounds = { h: {}, v: {} };
              this.labelCollectors = [];
              this.callback = c4;
              this.isResizing = 0;
              this.options = f4;
              this.axes = [];
              this.series = [];
              this.time = b4.time && Object.keys(b4.time).length ? new a4(b4.time) : v.time;
              this.numberFormatter = m3.numberFormatter || K2;
              this.styledMode = m3.styledMode;
              this.hasCartesianSeries = m3.showAxes;
              this.index = y2.length;
              y2.push(this);
              v.chartCount++;
              L3(this, m3);
              this.xAxis = [];
              this.yAxis = [];
              this.pointCount = this.colorCounter = this.symbolCounter = 0;
              D3(this, "afterInit");
              this.firstRender();
            });
          };
          f3.prototype.initSeries = function(b4) {
            var c4 = this.options.chart;
            c4 = b4.type || c4.type || c4.defaultSeriesType;
            var a5 = n2[c4];
            a5 || O3(17, true, this, { missingModuleFor: c4 });
            c4 = new a5();
            typeof c4.init === "function" && c4.init(this, b4);
            return c4;
          };
          f3.prototype.setSeriesData = function() {
            this.getSeriesOrderByLinks().forEach(function(b4) {
              b4.points || b4.data || !b4.enabledDataSorting || b4.setData(b4.options.data, false);
            });
          };
          f3.prototype.getSeriesOrderByLinks = function() {
            return this.series.concat().sort(function(b4, c4) {
              return b4.linkedSeries.length || c4.linkedSeries.length ? c4.linkedSeries.length - b4.linkedSeries.length : 0;
            });
          };
          f3.prototype.orderSeries = function(b4) {
            var c4 = this.series;
            b4 = b4 || 0;
            for (var a5 = c4.length; b4 < a5; ++b4)
              c4[b4] && (c4[b4].index = b4, c4[b4].name = c4[b4].getName());
          };
          f3.prototype.isInsidePlot = function(b4, c4, a5) {
            a5 === void 0 && (a5 = {});
            var d3 = this.inverted, g3 = this.plotBox, f4 = this.plotLeft, m3 = this.plotTop, e2 = this.scrollablePlotBox, n3 = 0;
            var r4 = 0;
            a5.visiblePlotOnly && this.scrollingContainer && (r4 = this.scrollingContainer, n3 = r4.scrollLeft, r4 = r4.scrollTop);
            var k3 = a5.series;
            g3 = a5.visiblePlotOnly && e2 || g3;
            e2 = a5.inverted ? c4 : b4;
            c4 = a5.inverted ? b4 : c4;
            b4 = { x: e2, y: c4, isInsidePlot: true };
            if (!a5.ignoreX) {
              var w3 = k3 && (d3 ? k3.yAxis : k3.xAxis) || { pos: f4, len: Infinity };
              e2 = a5.paneCoordinates ? w3.pos + e2 : f4 + e2;
              e2 >= Math.max(n3 + f4, w3.pos) && e2 <= Math.min(n3 + f4 + g3.width, w3.pos + w3.len) || (b4.isInsidePlot = false);
            }
            !a5.ignoreY && b4.isInsidePlot && (d3 = k3 && (d3 ? k3.xAxis : k3.yAxis) || { pos: m3, len: Infinity }, a5 = a5.paneCoordinates ? d3.pos + c4 : m3 + c4, a5 >= Math.max(r4 + m3, d3.pos) && a5 <= Math.min(r4 + m3 + g3.height, d3.pos + d3.len) || (b4.isInsidePlot = false));
            D3(this, "afterIsInsidePlot", b4);
            return b4.isInsidePlot;
          };
          f3.prototype.redraw = function(b4) {
            D3(this, "beforeRedraw");
            var c4 = this.hasCartesianSeries ? this.axes : this.colorAxis || [], a5 = this.series, d3 = this.pointer, g3 = this.legend, f4 = this.userOptions.legend, m3 = this.renderer, e2 = m3.isHidden(), n3 = [], r4 = this.isDirtyBox, k3 = this.isDirtyLegend;
            this.setResponsive && this.setResponsive(false);
            J2(this.hasRendered ? b4 : false, this);
            e2 && this.temporaryDisplay();
            this.layOutTitles();
            for (b4 = a5.length; b4--; ) {
              var w3 = a5[b4];
              if (w3.options.stacking || w3.options.centerInCategory) {
                var l4 = true;
                if (w3.isDirty) {
                  var p3 = true;
                  break;
                }
              }
            }
            if (p3)
              for (b4 = a5.length; b4--; )
                w3 = a5[b4], w3.options.stacking && (w3.isDirty = true);
            a5.forEach(function(b5) {
              b5.isDirty && (b5.options.legendType === "point" ? (typeof b5.updateTotals === "function" && b5.updateTotals(), k3 = true) : f4 && (f4.labelFormatter || f4.labelFormat) && (k3 = true));
              b5.isDirtyData && D3(b5, "updatedData");
            });
            k3 && g3 && g3.options.enabled && (g3.render(), this.isDirtyLegend = false);
            l4 && this.getStacks();
            c4.forEach(function(b5) {
              b5.updateNames();
              b5.setScale();
            });
            this.getMargins();
            c4.forEach(function(b5) {
              b5.isDirty && (r4 = true);
            });
            c4.forEach(function(b5) {
              var c5 = b5.min + "," + b5.max;
              b5.extKey !== c5 && (b5.extKey = c5, n3.push(function() {
                D3(b5, "afterSetExtremes", W2(b5.eventArgs, b5.getExtremes()));
                delete b5.eventArgs;
              }));
              (r4 || l4) && b5.redraw();
            });
            r4 && this.drawChartBox();
            D3(this, "predraw");
            a5.forEach(function(b5) {
              (r4 || b5.isDirty) && b5.visible && b5.redraw();
              b5.isDirtyData = false;
            });
            d3 && d3.reset(true);
            m3.draw();
            D3(this, "redraw");
            D3(this, "render");
            e2 && this.temporaryDisplay(true);
            n3.forEach(function(b5) {
              b5.call();
            });
          };
          f3.prototype.get = function(b4) {
            function c4(c5) {
              return c5.id === b4 || c5.options && c5.options.id === b4;
            }
            for (var a5 = this.series, d3 = Z(this.axes, c4) || Z(this.series, c4), g3 = 0; !d3 && g3 < a5.length; g3++)
              d3 = Z(a5[g3].points || [], c4);
            return d3;
          };
          f3.prototype.getAxes = function() {
            var b4 = this, c4 = this.options, a5 = c4.xAxis = fa(c4.xAxis || {});
            c4 = c4.yAxis = fa(c4.yAxis || {});
            D3(this, "getAxes");
            a5.forEach(function(b5, c5) {
              b5.index = c5;
              b5.isX = true;
            });
            c4.forEach(function(b5, c5) {
              b5.index = c5;
            });
            a5.concat(c4).forEach(function(c5) {
              new h4(b4, c5);
            });
            D3(this, "afterGetAxes");
          };
          f3.prototype.getSelectedPoints = function() {
            return this.series.reduce(function(b4, c4) {
              c4.getPointsCollection().forEach(function(c5) {
                S2(c5.selectedStaging, c5.selected) && b4.push(c5);
              });
              return b4;
            }, []);
          };
          f3.prototype.getSelectedSeries = function() {
            return this.series.filter(function(b4) {
              return b4.selected;
            });
          };
          f3.prototype.setTitle = function(b4, c4, a5) {
            this.applyDescription("title", b4);
            this.applyDescription("subtitle", c4);
            this.applyDescription("caption", void 0);
            this.layOutTitles(a5);
          };
          f3.prototype.applyDescription = function(b4, c4) {
            var a5 = this, d3 = b4 === "title" ? { color: "#333333", fontSize: this.options.isStock ? "16px" : "18px" } : { color: "#666666" };
            d3 = this.options[b4] = T(!this.styledMode && { style: d3 }, this.options[b4], c4);
            var g3 = this[b4];
            g3 && c4 && (this[b4] = g3 = g3.destroy());
            d3 && !g3 && (g3 = this.renderer.text(d3.text, 0, 0, d3.useHTML).attr({ align: d3.align, "class": "highcharts-" + b4, zIndex: d3.zIndex || 4 }).add(), g3.update = function(c5) {
              a5[{ title: "setTitle", subtitle: "setSubtitle", caption: "setCaption" }[b4]](c5);
            }, this.styledMode || g3.css(d3.style), this[b4] = g3);
          };
          f3.prototype.layOutTitles = function(b4) {
            var c4 = [0, 0, 0], a5 = this.renderer, d3 = this.spacingBox;
            ["title", "subtitle", "caption"].forEach(function(b5) {
              var g4 = this[b5], f4 = this.options[b5], m3 = f4.verticalAlign || "top";
              b5 = b5 === "title" ? m3 === "top" ? -3 : 0 : m3 === "top" ? c4[0] + 2 : 0;
              var e2;
              if (g4) {
                this.styledMode || (e2 = f4.style && f4.style.fontSize);
                e2 = a5.fontMetrics(e2, g4).b;
                g4.css({ width: (f4.width || d3.width + (f4.widthAdjust || 0)) + "px" });
                var n3 = Math.round(g4.getBBox(f4.useHTML).height);
                g4.align(W2({ y: m3 === "bottom" ? e2 : b5 + e2, height: n3 }, f4), false, "spacingBox");
                f4.floating || (m3 === "top" ? c4[0] = Math.ceil(c4[0] + n3) : m3 === "bottom" && (c4[2] = Math.ceil(c4[2] + n3)));
              }
            }, this);
            c4[0] && (this.options.title.verticalAlign || "top") === "top" && (c4[0] += this.options.title.margin);
            c4[2] && this.options.caption.verticalAlign === "bottom" && (c4[2] += this.options.caption.margin);
            var g3 = !this.titleOffset || this.titleOffset.join(",") !== c4.join(",");
            this.titleOffset = c4;
            D3(this, "afterLayOutTitles");
            !this.isDirtyBox && g3 && (this.isDirtyBox = this.isDirtyLegend = g3, this.hasRendered && S2(b4, true) && this.isDirtyBox && this.redraw());
          };
          f3.prototype.getChartSize = function() {
            var b4 = this.options.chart, c4 = b4.width;
            b4 = b4.height;
            var a5 = this.renderTo;
            N3(c4) || (this.containerWidth = aa(a5, "width"));
            N3(b4) || (this.containerHeight = aa(a5, "height"));
            this.chartWidth = Math.max(0, c4 || this.containerWidth || 600);
            this.chartHeight = Math.max(0, ia(b4, this.chartWidth) || (1 < this.containerHeight ? this.containerHeight : 400));
          };
          f3.prototype.temporaryDisplay = function(b4) {
            var c4 = this.renderTo;
            if (b4)
              for (; c4 && c4.style; )
                c4.hcOrigStyle && (w2(c4, c4.hcOrigStyle), delete c4.hcOrigStyle), c4.hcOrigDetached && (C2.body.removeChild(c4), c4.hcOrigDetached = false), c4 = c4.parentNode;
            else
              for (; c4 && c4.style; ) {
                C2.body.contains(c4) || c4.parentNode || (c4.hcOrigDetached = true, C2.body.appendChild(c4));
                if (aa(c4, "display", false) === "none" || c4.hcOricDetached)
                  c4.hcOrigStyle = { display: c4.style.display, height: c4.style.height, overflow: c4.style.overflow }, b4 = { display: "block", overflow: "hidden" }, c4 !== this.renderTo && (b4.height = 0), w2(c4, b4), c4.offsetWidth || c4.style.setProperty("display", "block", "important");
                c4 = c4.parentNode;
                if (c4 === C2.body)
                  break;
              }
          };
          f3.prototype.setClassName = function(b4) {
            this.container.className = "highcharts-container " + (b4 || "");
          };
          f3.prototype.getContainer = function() {
            var b4 = this.options, a5 = b4.chart, g3 = ja(), f4, e2 = this.renderTo;
            e2 || (this.renderTo = e2 = a5.renderTo);
            ca(e2) && (this.renderTo = e2 = C2.getElementById(e2));
            e2 || O3(13, true, this);
            var n3 = da(r3(e2, "data-highcharts-chart"));
            ba(n3) && y2[n3] && y2[n3].hasRendered && y2[n3].destroy();
            r3(e2, "data-highcharts-chart", this.index);
            e2.innerHTML = "";
            a5.skipClone || e2.offsetWidth || this.temporaryDisplay();
            this.getChartSize();
            n3 = this.chartWidth;
            var k3 = this.chartHeight;
            w2(e2, { overflow: "hidden" });
            this.styledMode || (f4 = W2({ position: "relative", overflow: "hidden", width: n3 + "px", height: k3 + "px", textAlign: "left", lineHeight: "normal", zIndex: 0, "-webkit-tap-highlight-color": "rgba(0,0,0,0)", userSelect: "none", "touch-action": "manipulation", outline: "none" }, a5.style || {}));
            this.container = g3 = m2("div", { id: g3 }, f4, e2);
            this._cursor = g3.style.cursor;
            this.renderer = new (a5.renderer || !c3 ? l3.getRendererType(a5.renderer) : d2)(g3, n3, k3, void 0, a5.forExport, b4.exporting && b4.exporting.allowHTML, this.styledMode);
            J2(void 0, this);
            this.setClassName(a5.className);
            if (this.styledMode)
              for (var p3 in b4.defs)
                this.renderer.definition(b4.defs[p3]);
            else
              this.renderer.setStyle(a5.style);
            this.renderer.chartIndex = this.index;
            D3(this, "afterGetContainer");
          };
          f3.prototype.getMargins = function(b4) {
            var c4 = this.spacing, a5 = this.margin, d3 = this.titleOffset;
            this.resetMargins();
            d3[0] && !N3(a5[0]) && (this.plotTop = Math.max(this.plotTop, d3[0] + c4[0]));
            d3[2] && !N3(a5[2]) && (this.marginBottom = Math.max(this.marginBottom, d3[2] + c4[2]));
            this.legend && this.legend.display && this.legend.adjustMargins(a5, c4);
            D3(this, "getMargins");
            b4 || this.getAxisMargins();
          };
          f3.prototype.getAxisMargins = function() {
            var b4 = this, c4 = b4.axisOffset = [0, 0, 0, 0], a5 = b4.colorAxis, d3 = b4.margin, g3 = function(b5) {
              b5.forEach(function(b6) {
                b6.visible && b6.getOffset();
              });
            };
            b4.hasCartesianSeries ? g3(b4.axes) : a5 && a5.length && g3(a5);
            x3.forEach(function(a6, g4) {
              N3(d3[g4]) || (b4[a6] += c4[g4]);
            });
            b4.setChartSize();
          };
          f3.prototype.reflow = function(b4) {
            var c4 = this, a5 = c4.options.chart, d3 = c4.renderTo, g3 = N3(a5.width) && N3(a5.height), f4 = a5.width || aa(d3, "width");
            a5 = a5.height || aa(d3, "height");
            d3 = b4 ? b4.target : t2;
            delete c4.pointer.chartPosition;
            if (!g3 && !c4.isPrinting && f4 && a5 && (d3 === t2 || d3 === C2)) {
              if (f4 !== c4.containerWidth || a5 !== c4.containerHeight)
                p2.clearTimeout(c4.reflowTimeout), c4.reflowTimeout = Y(function() {
                  c4.container && c4.setSize(void 0, void 0, false);
                }, b4 ? 100 : 0);
              c4.containerWidth = f4;
              c4.containerHeight = a5;
            }
          };
          f3.prototype.setReflow = function(c4) {
            var a5 = this;
            c4 === false || this.unbindReflow ? c4 === false && this.unbindReflow && (this.unbindReflow = this.unbindReflow()) : (this.unbindReflow = b3(t2, "resize", function(b4) {
              a5.options && a5.reflow(b4);
            }), b3(this, "destroy", this.unbindReflow));
          };
          f3.prototype.setSize = function(b4, c4, a5) {
            var d3 = this, g3 = d3.renderer;
            d3.isResizing += 1;
            J2(a5, d3);
            a5 = g3.globalAnimation;
            d3.oldChartHeight = d3.chartHeight;
            d3.oldChartWidth = d3.chartWidth;
            typeof b4 !== "undefined" && (d3.options.chart.width = b4);
            typeof c4 !== "undefined" && (d3.options.chart.height = c4);
            d3.getChartSize();
            d3.styledMode || (a5 ? F2 : w2)(d3.container, { width: d3.chartWidth + "px", height: d3.chartHeight + "px" }, a5);
            d3.setChartSize(true);
            g3.setSize(d3.chartWidth, d3.chartHeight, a5);
            d3.axes.forEach(function(b5) {
              b5.isDirty = true;
              b5.setScale();
            });
            d3.isDirtyLegend = true;
            d3.isDirtyBox = true;
            d3.layOutTitles();
            d3.getMargins();
            d3.redraw(a5);
            d3.oldChartHeight = null;
            D3(d3, "resize");
            Y(function() {
              d3 && D3(d3, "endResize", null, function() {
                --d3.isResizing;
              });
            }, B(a5).duration);
          };
          f3.prototype.setChartSize = function(b4) {
            var c4 = this.inverted, a5 = this.renderer, d3 = this.chartWidth, g3 = this.chartHeight, f4 = this.options.chart, m3 = this.spacing, e2 = this.clipOffset, n3, r4, k3, w3;
            this.plotLeft = n3 = Math.round(this.plotLeft);
            this.plotTop = r4 = Math.round(this.plotTop);
            this.plotWidth = k3 = Math.max(0, Math.round(d3 - n3 - this.marginRight));
            this.plotHeight = w3 = Math.max(0, Math.round(g3 - r4 - this.marginBottom));
            this.plotSizeX = c4 ? w3 : k3;
            this.plotSizeY = c4 ? k3 : w3;
            this.plotBorderWidth = f4.plotBorderWidth || 0;
            this.spacingBox = a5.spacingBox = { x: m3[3], y: m3[0], width: d3 - m3[3] - m3[1], height: g3 - m3[0] - m3[2] };
            this.plotBox = a5.plotBox = { x: n3, y: r4, width: k3, height: w3 };
            c4 = 2 * Math.floor(this.plotBorderWidth / 2);
            d3 = Math.ceil(Math.max(c4, e2[3]) / 2);
            g3 = Math.ceil(Math.max(c4, e2[0]) / 2);
            this.clipBox = { x: d3, y: g3, width: Math.floor(this.plotSizeX - Math.max(c4, e2[1]) / 2 - d3), height: Math.max(0, Math.floor(this.plotSizeY - Math.max(c4, e2[2]) / 2 - g3)) };
            b4 || (this.axes.forEach(function(b5) {
              b5.setAxisSize();
              b5.setAxisTranslation();
            }), a5.alignElements());
            D3(this, "afterSetChartSize", { skipAxes: b4 });
          };
          f3.prototype.resetMargins = function() {
            D3(this, "resetMargins");
            var b4 = this, c4 = b4.options.chart;
            ["margin", "spacing"].forEach(function(a5) {
              var d3 = c4[a5], g3 = R(d3) ? d3 : [d3, d3, d3, d3];
              ["Top", "Right", "Bottom", "Left"].forEach(function(d4, f4) {
                b4[a5][f4] = S2(c4[a5 + d4], g3[f4]);
              });
            });
            x3.forEach(function(c5, a5) {
              b4[c5] = S2(b4.margin[a5], b4.spacing[a5]);
            });
            b4.axisOffset = [0, 0, 0, 0];
            b4.clipOffset = [0, 0, 0, 0];
          };
          f3.prototype.drawChartBox = function() {
            var b4 = this.options.chart, c4 = this.renderer, a5 = this.chartWidth, d3 = this.chartHeight, g3 = this.styledMode, f4 = this.plotBGImage, m3 = b4.backgroundColor, e2 = b4.plotBackgroundColor, n3 = b4.plotBackgroundImage, r4 = this.plotLeft, k3 = this.plotTop, w3 = this.plotWidth, l4 = this.plotHeight, p3 = this.plotBox, u5 = this.clipRect, h5 = this.clipBox, t3 = this.chartBackground, G3 = this.plotBackground, x4 = this.plotBorder, y3, q4 = "animate";
            t3 || (this.chartBackground = t3 = c4.rect().addClass("highcharts-background").add(), q4 = "attr");
            if (g3)
              var Q3 = y3 = t3.strokeWidth();
            else {
              Q3 = b4.borderWidth || 0;
              y3 = Q3 + (b4.shadow ? 8 : 0);
              m3 = { fill: m3 || "none" };
              if (Q3 || t3["stroke-width"])
                m3.stroke = b4.borderColor, m3["stroke-width"] = Q3;
              t3.attr(m3).shadow(b4.shadow);
            }
            t3[q4]({ x: y3 / 2, y: y3 / 2, width: a5 - y3 - Q3 % 2, height: d3 - y3 - Q3 % 2, r: b4.borderRadius });
            q4 = "animate";
            G3 || (q4 = "attr", this.plotBackground = G3 = c4.rect().addClass("highcharts-plot-background").add());
            G3[q4](p3);
            g3 || (G3.attr({ fill: e2 || "none" }).shadow(b4.plotShadow), n3 && (f4 ? (n3 !== f4.attr("href") && f4.attr("href", n3), f4.animate(p3)) : this.plotBGImage = c4.image(n3, r4, k3, w3, l4).add()));
            u5 ? u5.animate({ width: h5.width, height: h5.height }) : this.clipRect = c4.clipRect(h5);
            q4 = "animate";
            x4 || (q4 = "attr", this.plotBorder = x4 = c4.rect().addClass("highcharts-plot-border").attr({ zIndex: 1 }).add());
            g3 || x4.attr({ stroke: b4.plotBorderColor, "stroke-width": b4.plotBorderWidth || 0, fill: "none" });
            x4[q4](x4.crisp({ x: r4, y: k3, width: w3, height: l4 }, -x4.strokeWidth()));
            this.isDirtyBox = false;
            D3(this, "afterDrawChartBox");
          };
          f3.prototype.propFromSeries = function() {
            var b4 = this, c4 = b4.options.chart, a5 = b4.options.series, d3, g3, f4;
            ["inverted", "angular", "polar"].forEach(function(m3) {
              g3 = n2[c4.type || c4.defaultSeriesType];
              f4 = c4[m3] || g3 && g3.prototype[m3];
              for (d3 = a5 && a5.length; !f4 && d3--; )
                (g3 = n2[a5[d3].type]) && g3.prototype[m3] && (f4 = true);
              b4[m3] = f4;
            });
          };
          f3.prototype.linkSeries = function() {
            var b4 = this, c4 = b4.series;
            c4.forEach(function(b5) {
              b5.linkedSeries.length = 0;
            });
            c4.forEach(function(c5) {
              var a5 = c5.options.linkedTo;
              ca(a5) && (a5 = a5 === ":previous" ? b4.series[c5.index - 1] : b4.get(a5)) && a5.linkedParent !== c5 && (a5.linkedSeries.push(c5), c5.linkedParent = a5, a5.enabledDataSorting && c5.setDataSortingOptions(), c5.visible = S2(c5.options.visible, a5.options.visible, c5.visible));
            });
            D3(this, "afterLinkSeries");
          };
          f3.prototype.renderSeries = function() {
            this.series.forEach(function(b4) {
              b4.translate();
              b4.render();
            });
          };
          f3.prototype.renderLabels = function() {
            var b4 = this, c4 = b4.options.labels;
            c4.items && c4.items.forEach(function(a5) {
              var d3 = W2(c4.style, a5.style), g3 = da(d3.left) + b4.plotLeft, f4 = da(d3.top) + b4.plotTop + 12;
              delete d3.left;
              delete d3.top;
              b4.renderer.text(a5.html, g3, f4).attr({ zIndex: 2 }).css(d3).add();
            });
          };
          f3.prototype.render = function() {
            var b4 = this.axes, c4 = this.colorAxis, a5 = this.renderer, d3 = this.options, g3 = function(b5) {
              b5.forEach(function(b6) {
                b6.visible && b6.render();
              });
            }, f4 = 0;
            this.setTitle();
            this.legend = new H2(this, d3.legend);
            this.getStacks && this.getStacks();
            this.getMargins(true);
            this.setChartSize();
            d3 = this.plotWidth;
            b4.some(function(b5) {
              if (b5.horiz && b5.visible && b5.options.labels.enabled && b5.series.length)
                return f4 = 21, true;
            });
            var m3 = this.plotHeight = Math.max(this.plotHeight - f4, 0);
            b4.forEach(function(b5) {
              b5.setScale();
            });
            this.getAxisMargins();
            var e2 = 1.1 < d3 / this.plotWidth, n3 = 1.05 < m3 / this.plotHeight;
            if (e2 || n3)
              b4.forEach(function(b5) {
                (b5.horiz && e2 || !b5.horiz && n3) && b5.setTickInterval(true);
              }), this.getMargins();
            this.drawChartBox();
            this.hasCartesianSeries ? g3(b4) : c4 && c4.length && g3(c4);
            this.seriesGroup || (this.seriesGroup = a5.g("series-group").attr({ zIndex: 3 }).add());
            this.renderSeries();
            this.renderLabels();
            this.addCredits();
            this.setResponsive && this.setResponsive();
            this.hasRendered = true;
          };
          f3.prototype.addCredits = function(b4) {
            var c4 = this, a5 = T(true, this.options.credits, b4);
            a5.enabled && !this.credits && (this.credits = this.renderer.text(a5.text + (this.mapCredits || ""), 0, 0).addClass("highcharts-credits").on("click", function() {
              a5.href && (t2.location.href = a5.href);
            }).attr({ align: a5.position.align, zIndex: 8 }), c4.styledMode || this.credits.css(a5.style), this.credits.add().align(a5.position), this.credits.update = function(b5) {
              c4.credits = c4.credits.destroy();
              c4.addCredits(b5);
            });
          };
          f3.prototype.destroy = function() {
            var b4 = this, c4 = b4.axes, a5 = b4.series, d3 = b4.container, g3 = d3 && d3.parentNode, f4;
            D3(b4, "destroy");
            b4.renderer.forExport ? P2(y2, b4) : y2[b4.index] = void 0;
            v.chartCount--;
            b4.renderTo.removeAttribute("data-highcharts-chart");
            M3(b4);
            for (f4 = c4.length; f4--; )
              c4[f4] = c4[f4].destroy();
            this.scroller && this.scroller.destroy && this.scroller.destroy();
            for (f4 = a5.length; f4--; )
              a5[f4] = a5[f4].destroy();
            "title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(c5) {
              var a6 = b4[c5];
              a6 && a6.destroy && (b4[c5] = a6.destroy());
            });
            d3 && (d3.innerHTML = "", M3(d3), g3 && X(d3));
            U(b4, function(c5, a6) {
              delete b4[a6];
            });
          };
          f3.prototype.firstRender = function() {
            var b4 = this, c4 = b4.options;
            if (!b4.isReadyToRender || b4.isReadyToRender()) {
              b4.getContainer();
              b4.resetMargins();
              b4.setChartSize();
              b4.propFromSeries();
              b4.getAxes();
              (Q2(c4.series) ? c4.series : []).forEach(function(c5) {
                b4.initSeries(c5);
              });
              b4.linkSeries();
              b4.setSeriesData();
              D3(b4, "beforeRender");
              q3 && (I2.isRequired() ? b4.pointer = new I2(b4, c4) : b4.pointer = new q3(b4, c4));
              b4.render();
              b4.pointer.getChartPosition();
              if (!b4.renderer.imgCount && !b4.hasLoaded)
                b4.onload();
              b4.temporaryDisplay(true);
            }
          };
          f3.prototype.onload = function() {
            this.callbacks.concat([this.callback]).forEach(function(b4) {
              b4 && typeof this.index !== "undefined" && b4.apply(this, [this]);
            }, this);
            D3(this, "load");
            D3(this, "render");
            N3(this.index) && this.setReflow(this.options.chart.reflow);
            this.hasLoaded = true;
          };
          f3.prototype.addSeries = function(b4, c4, a5) {
            var d3 = this, g3;
            b4 && (c4 = S2(c4, true), D3(d3, "addSeries", { options: b4 }, function() {
              g3 = d3.initSeries(b4);
              d3.isDirtyLegend = true;
              d3.linkSeries();
              g3.enabledDataSorting && g3.setData(b4.data, false);
              D3(d3, "afterAddSeries", { series: g3 });
              c4 && d3.redraw(a5);
            }));
            return g3;
          };
          f3.prototype.addAxis = function(b4, c4, a5, d3) {
            return this.createAxis(c4 ? "xAxis" : "yAxis", { axis: b4, redraw: a5, animation: d3 });
          };
          f3.prototype.addColorAxis = function(b4, c4, a5) {
            return this.createAxis("colorAxis", { axis: b4, redraw: c4, animation: a5 });
          };
          f3.prototype.createAxis = function(b4, c4) {
            b4 = new h4(this, T(c4.axis, { index: this[b4].length, isX: b4 === "xAxis" }));
            S2(c4.redraw, true) && this.redraw(c4.animation);
            return b4;
          };
          f3.prototype.showLoading = function(c4) {
            var a5 = this, d3 = a5.options, g3 = d3.loading, f4 = function() {
              e2 && w2(e2, { left: a5.plotLeft + "px", top: a5.plotTop + "px", width: a5.plotWidth + "px", height: a5.plotHeight + "px" });
            }, e2 = a5.loadingDiv, n3 = a5.loadingSpan;
            e2 || (a5.loadingDiv = e2 = m2("div", { className: "highcharts-loading highcharts-loading-hidden" }, null, a5.container));
            n3 || (a5.loadingSpan = n3 = m2("span", { className: "highcharts-loading-inner" }, null, e2), b3(a5, "redraw", f4));
            e2.className = "highcharts-loading";
            k2.setElementHTML(n3, S2(c4, d3.lang.loading, ""));
            a5.styledMode || (w2(e2, W2(g3.style, { zIndex: 10 })), w2(n3, g3.labelStyle), a5.loadingShown || (w2(e2, { opacity: 0, display: "" }), F2(e2, { opacity: g3.style.opacity || 0.5 }, { duration: g3.showDuration || 0 })));
            a5.loadingShown = true;
            f4();
          };
          f3.prototype.hideLoading = function() {
            var b4 = this.options, c4 = this.loadingDiv;
            c4 && (c4.className = "highcharts-loading highcharts-loading-hidden", this.styledMode || F2(c4, { opacity: 0 }, {
              duration: b4.loading.hideDuration || 100,
              complete: function() {
                w2(c4, { display: "none" });
              }
            }));
            this.loadingShown = false;
          };
          f3.prototype.update = function(b4, c4, d3, g3) {
            var f4 = this, m3 = { credits: "addCredits", title: "setTitle", subtitle: "setSubtitle", caption: "setCaption" }, e2 = b4.isResponsiveOptions, n3 = [], r4, k3;
            D3(f4, "update", { options: b4 });
            e2 || f4.setResponsive(false, true);
            b4 = G2(b4, f4.options);
            f4.userOptions = T(f4.userOptions, b4);
            var w3 = b4.chart;
            if (w3) {
              T(true, f4.options.chart, w3);
              "className" in w3 && f4.setClassName(w3.className);
              "reflow" in w3 && f4.setReflow(w3.reflow);
              if ("inverted" in w3 || "polar" in w3 || "type" in w3) {
                f4.propFromSeries();
                var l4 = true;
              }
              "alignTicks" in w3 && (l4 = true);
              "events" in w3 && L3(this, w3);
              U(w3, function(b5, c5) {
                f4.propsRequireUpdateSeries.indexOf("chart." + c5) !== -1 && (r4 = true);
                f4.propsRequireDirtyBox.indexOf(c5) !== -1 && (f4.isDirtyBox = true);
                f4.propsRequireReflow.indexOf(c5) !== -1 && (e2 ? f4.isDirtyBox = true : k3 = true);
              });
              !f4.styledMode && w3.style && f4.renderer.setStyle(f4.options.chart.style || {});
            }
            !f4.styledMode && b4.colors && (this.options.colors = b4.colors);
            b4.time && (this.time === u4 && (this.time = new a4(b4.time)), T(true, f4.options.time, b4.time));
            U(b4, function(c5, a5) {
              if (f4[a5] && typeof f4[a5].update === "function")
                f4[a5].update(c5, false);
              else if (typeof f4[m3[a5]] === "function")
                f4[m3[a5]](c5);
              else
                a5 !== "colors" && f4.collectionsWithUpdate.indexOf(a5) === -1 && T(true, f4.options[a5], b4[a5]);
              a5 !== "chart" && f4.propsRequireUpdateSeries.indexOf(a5) !== -1 && (r4 = true);
            });
            this.collectionsWithUpdate.forEach(function(c5) {
              if (b4[c5]) {
                var a5 = [];
                f4[c5].forEach(function(b5, c6) {
                  b5.options.isInternal || a5.push(S2(b5.options.index, c6));
                });
                fa(b4[c5]).forEach(function(b5, g4) {
                  var m4 = N3(b5.id), e3;
                  m4 && (e3 = f4.get(b5.id));
                  !e3 && f4[c5] && (e3 = f4[c5][a5 ? a5[g4] : g4]) && m4 && N3(e3.options.id) && (e3 = void 0);
                  e3 && e3.coll === c5 && (e3.update(b5, false), d3 && (e3.touched = true));
                  !e3 && d3 && f4.collectionsWithInit[c5] && (f4.collectionsWithInit[c5][0].apply(f4, [b5].concat(f4.collectionsWithInit[c5][1] || []).concat([false])).touched = true);
                });
                d3 && f4[c5].forEach(function(b5) {
                  b5.touched || b5.options.isInternal ? delete b5.touched : n3.push(b5);
                });
              }
            });
            n3.forEach(function(b5) {
              b5.chart && b5.remove && b5.remove(false);
            });
            l4 && f4.axes.forEach(function(b5) {
              b5.update({}, false);
            });
            r4 && f4.getSeriesOrderByLinks().forEach(function(b5) {
              b5.chart && b5.update({}, false);
            }, this);
            l4 = w3 && w3.width;
            w3 = w3 && (ca(w3.height) ? ia(w3.height, l4 || f4.chartWidth) : w3.height);
            k3 || ba(l4) && l4 !== f4.chartWidth || ba(w3) && w3 !== f4.chartHeight ? f4.setSize(l4, w3, g3) : S2(c4, true) && f4.redraw(g3);
            D3(f4, "afterUpdate", { options: b4, redraw: c4, animation: g3 });
          };
          f3.prototype.setSubtitle = function(b4, c4) {
            this.applyDescription("subtitle", b4);
            this.layOutTitles(c4);
          };
          f3.prototype.setCaption = function(b4, c4) {
            this.applyDescription("caption", b4);
            this.layOutTitles(c4);
          };
          f3.prototype.showResetZoom = function() {
            function b4() {
              c4.zoomOut();
            }
            var c4 = this, a5 = g2.lang, d3 = c4.options.chart.resetZoomButton, f4 = d3.theme, m3 = f4.states, e2 = d3.relativeTo === "chart" || d3.relativeTo === "spacingBox" ? null : "scrollablePlotBox";
            D3(this, "beforeShowResetZoom", null, function() {
              c4.resetZoomButton = c4.renderer.button(a5.resetZoom, null, null, b4, f4, m3 && m3.hover).attr({ align: d3.position.align, title: a5.resetZoomTitle }).addClass("highcharts-reset-zoom").add().align(d3.position, false, e2);
            });
            D3(this, "afterShowResetZoom");
          };
          f3.prototype.zoomOut = function() {
            D3(this, "selection", { resetSelection: true }, this.zoom);
          };
          f3.prototype.zoom = function(b4) {
            var c4 = this, a5 = c4.pointer, d3 = c4.inverted ? a5.mouseDownX : a5.mouseDownY, g3 = false, f4;
            !b4 || b4.resetSelection ? (c4.axes.forEach(function(b5) {
              f4 = b5.zoom();
            }), a5.initiated = false) : b4.xAxis.concat(b4.yAxis).forEach(function(b5) {
              var m4 = b5.axis, e2 = c4.inverted ? m4.left : m4.top, n3 = c4.inverted ? e2 + m4.width : e2 + m4.height, r4 = m4.isXAxis, k3 = false;
              if (!r4 && d3 >= e2 && d3 <= n3 || r4 || !N3(d3))
                k3 = true;
              a5[r4 ? "zoomX" : "zoomY"] && k3 && (f4 = m4.zoom(b5.min, b5.max), m4.displayBtn && (g3 = true));
            });
            var m3 = c4.resetZoomButton;
            g3 && !m3 ? c4.showResetZoom() : !g3 && R(m3) && (c4.resetZoomButton = m3.destroy());
            f4 && c4.redraw(S2(c4.options.chart.animation, b4 && b4.animation, 100 > c4.pointCount));
          };
          f3.prototype.pan = function(b4, c4) {
            var a5 = this, d3 = a5.hoverPoints;
            c4 = typeof c4 === "object" ? c4 : { enabled: c4, type: "x" };
            var g3 = a5.options.chart, f4 = a5.options.mapNavigation && a5.options.mapNavigation.enabled;
            g3 && g3.panning && (g3.panning = c4);
            var m3 = c4.type, e2;
            D3(this, "pan", { originalEvent: b4 }, function() {
              d3 && d3.forEach(function(b5) {
                b5.setState();
              });
              var c5 = a5.xAxis;
              m3 === "xy" ? c5 = c5.concat(a5.yAxis) : m3 === "y" && (c5 = a5.yAxis);
              var g4 = {};
              c5.forEach(function(c6) {
                if (c6.options.panningEnabled && !c6.options.isInternal) {
                  var d4 = c6.horiz, n3 = b4[d4 ? "chartX" : "chartY"];
                  d4 = d4 ? "mouseDownX" : "mouseDownY";
                  var r4 = a5[d4], k3 = c6.minPointOffset || 0, w3 = c6.reversed && !a5.inverted || !c6.reversed && a5.inverted ? -1 : 1, l4 = c6.getExtremes(), p3 = c6.toValue(r4 - n3, true) + k3 * w3, u5 = c6.toValue(r4 + c6.len - n3, true) - (k3 * w3 || c6.isXAxis && c6.pointRangePadding || 0), h5 = u5 < p3;
                  w3 = c6.hasVerticalPanning();
                  r4 = h5 ? u5 : p3;
                  p3 = h5 ? p3 : u5;
                  var t3 = c6.panningState;
                  !w3 || c6.isXAxis || t3 && !t3.isDirty || c6.series.forEach(function(b5) {
                    var c7 = b5.getProcessedData(true);
                    c7 = b5.getExtremes(c7.yData, true);
                    t3 || (t3 = { startMin: Number.MAX_VALUE, startMax: -Number.MAX_VALUE });
                    ba(c7.dataMin) && ba(c7.dataMax) && (t3.startMin = Math.min(S2(b5.options.threshold, Infinity), c7.dataMin, t3.startMin), t3.startMax = Math.max(S2(b5.options.threshold, -Infinity), c7.dataMax, t3.startMax));
                  });
                  w3 = Math.min(S2(t3 && t3.startMin, l4.dataMin), k3 ? l4.min : c6.toValue(c6.toPixels(l4.min) - c6.minPixelPadding));
                  u5 = Math.max(S2(t3 && t3.startMax, l4.dataMax), k3 ? l4.max : c6.toValue(c6.toPixels(l4.max) + c6.minPixelPadding));
                  c6.panningState = t3;
                  c6.isOrdinal || (k3 = w3 - r4, 0 < k3 && (p3 += k3, r4 = w3), k3 = p3 - u5, 0 < k3 && (p3 = u5, r4 -= k3), c6.series.length && r4 !== l4.min && p3 !== l4.max && r4 >= w3 && p3 <= u5 && (c6.setExtremes(r4, p3, false, false, { trigger: "pan" }), a5.resetZoomButton || f4 || r4 === w3 || p3 === u5 || !m3.match("y") || (a5.showResetZoom(), c6.displayBtn = false), e2 = true), g4[d4] = n3);
                }
              });
              U(g4, function(b5, c6) {
                a5[c6] = b5;
              });
              e2 && a5.redraw(false);
              w2(a5.container, { cursor: "move" });
            });
          };
          return f3;
        }();
        W2(e.prototype, {
          callbacks: [],
          collectionsWithInit: { xAxis: [e.prototype.addAxis, [true]], yAxis: [e.prototype.addAxis, [false]], series: [e.prototype.addSeries] },
          collectionsWithUpdate: ["xAxis", "yAxis", "series"],
          propsRequireDirtyBox: "backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),
          propsRequireReflow: "margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),
          propsRequireUpdateSeries: "chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")
        });
        "";
        return e;
      });
      M2(h3, "Core/Legend/LegendSymbol.js", [h3["Core/Utilities.js"]], function(e) {
        var h4 = e.merge, A = e.pick, E3;
        (function(e2) {
          e2.drawLineMarker = function(e3) {
            var v = this.options, z2 = e3.symbolWidth, q3 = e3.symbolHeight, l3 = q3 / 2, f2 = this.chart.renderer, d2 = this.legendGroup;
            e3 = e3.baseline - Math.round(0.3 * e3.fontMetrics.b);
            var a4 = {}, p2 = v.marker;
            this.chart.styledMode || (a4 = { "stroke-width": v.lineWidth || 0 }, v.dashStyle && (a4.dashstyle = v.dashStyle));
            this.legendLine = f2.path([["M", 0, e3], ["L", z2, e3]]).addClass("highcharts-graph").attr(a4).add(d2);
            p2 && p2.enabled !== false && z2 && (v = Math.min(A(p2.radius, l3), l3), this.symbol.indexOf("url") === 0 && (p2 = h4(p2, { width: q3, height: q3 }), v = 0), this.legendSymbol = z2 = f2.symbol(this.symbol, z2 / 2 - v, e3 - v, 2 * v, 2 * v, p2).addClass("highcharts-point").add(d2), z2.isMarker = true);
          };
          e2.drawRectangle = function(e3, h5) {
            var v = e3.symbolHeight, q3 = e3.options.squareSymbol;
            h5.legendSymbol = this.chart.renderer.rect(q3 ? (e3.symbolWidth - v) / 2 : 0, e3.baseline - v + 1, q3 ? v : e3.symbolWidth, v, A(e3.options.symbolRadius, v / 2)).addClass("highcharts-point").attr({ zIndex: 3 }).add(h5.legendGroup);
          };
        })(E3 || (E3 = {}));
        return E3;
      });
      M2(h3, "Core/Series/SeriesDefaults.js", [], function() {
        return { lineWidth: 2, allowPointSelect: false, crisp: true, showCheckbox: false, animation: { duration: 1e3 }, events: {}, marker: { enabledThreshold: 2, lineColor: "#ffffff", lineWidth: 0, radius: 4, states: {
          normal: { animation: true },
          hover: { animation: { duration: 50 }, enabled: true, radiusPlus: 2, lineWidthPlus: 1 },
          select: { fillColor: "#cccccc", lineColor: "#000000", lineWidth: 2 }
        } }, point: { events: {} }, dataLabels: { animation: {}, align: "center", defer: true, formatter: function() {
          var e = this.series.chart.numberFormatter;
          return typeof this.y !== "number" ? "" : e(this.y, -1);
        }, padding: 5, style: { fontSize: "11px", fontWeight: "bold", color: "contrast", textOutline: "1px contrast" }, verticalAlign: "bottom", x: 0, y: 0 }, cropThreshold: 300, opacity: 1, pointRange: 0, softThreshold: true, states: {
          normal: { animation: true },
          hover: { animation: { duration: 50 }, lineWidthPlus: 1, marker: {}, halo: { size: 10, opacity: 0.25 } },
          select: { animation: { duration: 0 } },
          inactive: { animation: { duration: 50 }, opacity: 0.2 }
        }, stickyTracking: true, turboThreshold: 1e3, findNearestPointBy: "x" };
      });
      M2(h3, "Core/Series/Series.js", [
        h3["Core/Animation/AnimationUtilities.js"],
        h3["Core/DefaultOptions.js"],
        h3["Core/Foundation.js"],
        h3["Core/Globals.js"],
        h3["Core/Legend/LegendSymbol.js"],
        h3["Core/Series/Point.js"],
        h3["Core/Series/SeriesDefaults.js"],
        h3["Core/Series/SeriesRegistry.js"],
        h3["Core/Renderer/SVG/SVGElement.js"],
        h3["Core/Utilities.js"]
      ], function(e, h4, A, E3, v, H2, I2, z2, q3, l3) {
        var f2 = e.animObject, d2 = e.setAnimation, a4 = h4.defaultOptions, p2 = A.registerEventOptions, k2 = E3.hasTouch, F2 = E3.svg, B = E3.win, J2 = z2.seriesTypes, K2 = l3.addEvent, L3 = l3.arrayMax, y2 = l3.arrayMin, C2 = l3.clamp, x3 = l3.cleanRecursively, c3 = l3.correctFloat, t2 = l3.defined, g2 = l3.erase, u4 = l3.error, n2 = l3.extend, b3 = l3.find, r3 = l3.fireEvent, G2 = l3.getNestedProperty, m2 = l3.isArray, w2 = l3.isNumber, N3 = l3.isString, D3 = l3.merge, P2 = l3.objectEach, O3 = l3.pick, W2 = l3.removeEvent, Z = l3.splat, ha = l3.syncTimeout;
        e = function() {
          function e2() {
            this.zones = this.yAxis = this.xAxis = this.userOptions = this.tooltipOptions = this.processedYData = this.processedXData = this.points = this.options = this.linkedSeries = this.index = this.eventsToUnbind = this.eventOptions = this.data = this.chart = this._i = void 0;
          }
          e2.prototype.init = function(b4, c4) {
            r3(this, "init", { options: c4 });
            var a5 = this, d3 = b4.series;
            this.eventsToUnbind = [];
            a5.chart = b4;
            a5.options = a5.setOptions(c4);
            c4 = a5.options;
            a5.linkedSeries = [];
            a5.bindAxes();
            n2(a5, { name: c4.name, state: "", visible: c4.visible !== false, selected: c4.selected === true });
            p2(this, c4);
            var g3 = c4.events;
            if (g3 && g3.click || c4.point && c4.point.events && c4.point.events.click || c4.allowPointSelect)
              b4.runTrackerClick = true;
            a5.getColor();
            a5.getSymbol();
            a5.parallelArrays.forEach(function(b5) {
              a5[b5 + "Data"] || (a5[b5 + "Data"] = []);
            });
            a5.isCartesian && (b4.hasCartesianSeries = true);
            var f3;
            d3.length && (f3 = d3[d3.length - 1]);
            a5._i = O3(f3 && f3._i, -1) + 1;
            a5.opacity = a5.options.opacity;
            b4.orderSeries(this.insert(d3));
            c4.dataSorting && c4.dataSorting.enabled ? a5.setDataSortingOptions() : a5.points || a5.data || a5.setData(c4.data, false);
            r3(this, "afterInit");
          };
          e2.prototype.is = function(b4) {
            return J2[b4] && this instanceof J2[b4];
          };
          e2.prototype.insert = function(b4) {
            var c4 = this.options.index, a5;
            if (w2(c4)) {
              for (a5 = b4.length; a5--; )
                if (c4 >= O3(b4[a5].options.index, b4[a5]._i)) {
                  b4.splice(a5 + 1, 0, this);
                  break;
                }
              a5 === -1 && b4.unshift(this);
              a5 += 1;
            } else
              b4.push(this);
            return O3(a5, b4.length - 1);
          };
          e2.prototype.bindAxes = function() {
            var b4 = this, c4 = b4.options, a5 = b4.chart, d3;
            r3(this, "bindAxes", null, function() {
              (b4.axisTypes || []).forEach(function(g3) {
                var f3 = 0;
                a5[g3].forEach(function(a6) {
                  d3 = a6.options;
                  if (c4[g3] === f3 && !d3.isInternal || typeof c4[g3] !== "undefined" && c4[g3] === d3.id || typeof c4[g3] === "undefined" && d3.index === 0)
                    b4.insert(a6.series), b4[g3] = a6, a6.isDirty = true;
                  d3.isInternal || f3++;
                });
                b4[g3] || b4.optionalAxis === g3 || u4(18, true, a5);
              });
            });
            r3(this, "afterBindAxes");
          };
          e2.prototype.updateParallelArrays = function(b4, c4) {
            var a5 = b4.series, d3 = arguments, g3 = w2(c4) ? function(d4) {
              var g4 = d4 === "y" && a5.toYData ? a5.toYData(b4) : b4[d4];
              a5[d4 + "Data"][c4] = g4;
            } : function(b5) {
              Array.prototype[c4].apply(a5[b5 + "Data"], Array.prototype.slice.call(d3, 2));
            };
            a5.parallelArrays.forEach(g3);
          };
          e2.prototype.hasData = function() {
            return this.visible && typeof this.dataMax !== "undefined" && typeof this.dataMin !== "undefined" || this.visible && this.yData && 0 < this.yData.length;
          };
          e2.prototype.autoIncrement = function(b4) {
            var c4 = this.options, a5 = c4.pointIntervalUnit, d3 = c4.relativeXValue, g3 = this.chart.time, f3 = this.xIncrement, e3;
            f3 = O3(f3, c4.pointStart, 0);
            this.pointInterval = e3 = O3(this.pointInterval, c4.pointInterval, 1);
            d3 && w2(b4) && (e3 *= b4);
            a5 && (c4 = new g3.Date(f3), a5 === "day" ? g3.set("Date", c4, g3.get("Date", c4) + e3) : a5 === "month" ? g3.set("Month", c4, g3.get("Month", c4) + e3) : a5 === "year" && g3.set("FullYear", c4, g3.get("FullYear", c4) + e3), e3 = c4.getTime() - f3);
            if (d3 && w2(b4))
              return f3 + e3;
            this.xIncrement = f3 + e3;
            return f3;
          };
          e2.prototype.setDataSortingOptions = function() {
            var b4 = this.options;
            n2(this, { requireSorting: false, sorted: false, enabledDataSorting: true, allowDG: false });
            t2(b4.pointRange) || (b4.pointRange = 1);
          };
          e2.prototype.setOptions = function(b4) {
            var c4 = this.chart, d3 = c4.options, g3 = d3.plotOptions, f3 = c4.userOptions || {};
            b4 = D3(b4);
            c4 = c4.styledMode;
            var e3 = { plotOptions: g3, userOptions: b4 };
            r3(this, "setOptions", e3);
            var m3 = e3.plotOptions[this.type], n3 = f3.plotOptions || {};
            this.userOptions = e3.userOptions;
            f3 = D3(m3, g3.series, f3.plotOptions && f3.plotOptions[this.type], b4);
            this.tooltipOptions = D3(a4.tooltip, a4.plotOptions.series && a4.plotOptions.series.tooltip, a4.plotOptions[this.type].tooltip, d3.tooltip.userOptions, g3.series && g3.series.tooltip, g3[this.type].tooltip, b4.tooltip);
            this.stickyTracking = O3(b4.stickyTracking, n3[this.type] && n3[this.type].stickyTracking, n3.series && n3.series.stickyTracking, this.tooltipOptions.shared && !this.noSharedTooltip ? true : f3.stickyTracking);
            m3.marker === null && delete f3.marker;
            this.zoneAxis = f3.zoneAxis;
            g3 = this.zones = (f3.zones || []).slice();
            !f3.negativeColor && !f3.negativeFillColor || f3.zones || (d3 = { value: f3[this.zoneAxis + "Threshold"] || f3.threshold || 0, className: "highcharts-negative" }, c4 || (d3.color = f3.negativeColor, d3.fillColor = f3.negativeFillColor), g3.push(d3));
            g3.length && t2(g3[g3.length - 1].value) && g3.push(c4 ? {} : { color: this.color, fillColor: this.fillColor });
            r3(this, "afterSetOptions", { options: f3 });
            return f3;
          };
          e2.prototype.getName = function() {
            return O3(this.options.name, "Series " + (this.index + 1));
          };
          e2.prototype.getCyclic = function(b4, c4, a5) {
            var d3 = this.chart, g3 = this.userOptions, f3 = b4 + "Index", e3 = b4 + "Counter", m3 = a5 ? a5.length : O3(d3.options.chart[b4 + "Count"], d3[b4 + "Count"]);
            if (!c4) {
              var n3 = O3(g3[f3], g3["_" + f3]);
              t2(n3) || (d3.series.length || (d3[e3] = 0), g3["_" + f3] = n3 = d3[e3] % m3, d3[e3] += 1);
              a5 && (c4 = a5[n3]);
            }
            typeof n3 !== "undefined" && (this[f3] = n3);
            this[b4] = c4;
          };
          e2.prototype.getColor = function() {
            this.chart.styledMode ? this.getCyclic("color") : this.options.colorByPoint ? this.color = "#cccccc" : this.getCyclic("color", this.options.color || a4.plotOptions[this.type].color, this.chart.options.colors);
          };
          e2.prototype.getPointsCollection = function() {
            return (this.hasGroupedData ? this.points : this.data) || [];
          };
          e2.prototype.getSymbol = function() {
            this.getCyclic("symbol", this.options.marker.symbol, this.chart.options.symbols);
          };
          e2.prototype.findPointIndex = function(c4, a5) {
            var d3 = c4.id, g3 = c4.x, f3 = this.points, e3 = this.options.dataSorting, m3, n3;
            if (d3)
              e3 = this.chart.get(d3), e3 instanceof H2 && (m3 = e3);
            else if (this.linkedParent || this.enabledDataSorting || this.options.relativeXValue) {
              if (m3 = function(b4) {
                return !b4.touched && b4.index === c4.index;
              }, e3 && e3.matchByName ? m3 = function(b4) {
                return !b4.touched && b4.name === c4.name;
              } : this.options.relativeXValue && (m3 = function(b4) {
                return !b4.touched && b4.options.x === c4.x;
              }), m3 = b3(f3, m3), !m3)
                return;
            }
            if (m3) {
              var r4 = m3 && m3.index;
              typeof r4 !== "undefined" && (n3 = true);
            }
            typeof r4 === "undefined" && w2(g3) && (r4 = this.xData.indexOf(g3, a5));
            r4 !== -1 && typeof r4 !== "undefined" && this.cropped && (r4 = r4 >= this.cropStart ? r4 - this.cropStart : r4);
            !n3 && w2(r4) && f3[r4] && f3[r4].touched && (r4 = void 0);
            return r4;
          };
          e2.prototype.updateData = function(b4, c4) {
            var a5 = this.options, d3 = a5.dataSorting, g3 = this.points, f3 = [], e3 = this.requireSorting, m3 = b4.length === g3.length, n3, r4, k3, l4 = true;
            this.xIncrement = null;
            b4.forEach(function(b5, c5) {
              var r5 = t2(b5) && this.pointClass.prototype.optionsToObject.call({ series: this }, b5) || {}, l5 = r5.x;
              if (r5.id || w2(l5)) {
                if (r5 = this.findPointIndex(r5, k3), r5 === -1 || typeof r5 === "undefined" ? f3.push(b5) : g3[r5] && b5 !== a5.data[r5] ? (g3[r5].update(b5, false, null, false), g3[r5].touched = true, e3 && (k3 = r5 + 1)) : g3[r5] && (g3[r5].touched = true), !m3 || c5 !== r5 || d3 && d3.enabled || this.hasDerivedData)
                  n3 = true;
              } else
                f3.push(b5);
            }, this);
            if (n3)
              for (b4 = g3.length; b4--; )
                (r4 = g3[b4]) && !r4.touched && r4.remove && r4.remove(false, c4);
            else
              !m3 || d3 && d3.enabled ? l4 = false : (b4.forEach(function(b5, c5) {
                b5 !== g3[c5].y && g3[c5].update && g3[c5].update(b5, false, null, false);
              }), f3.length = 0);
            g3.forEach(function(b5) {
              b5 && (b5.touched = false);
            });
            if (!l4)
              return false;
            f3.forEach(function(b5) {
              this.addPoint(b5, false, null, null, false);
            }, this);
            this.xIncrement === null && this.xData && this.xData.length && (this.xIncrement = L3(this.xData), this.autoIncrement());
            return true;
          };
          e2.prototype.setData = function(b4, c4, a5, d3) {
            var g3 = this, f3 = g3.points, e3 = f3 && f3.length || 0, n3 = g3.options, r4 = g3.chart, k3 = n3.dataSorting, l4 = g3.xAxis, p3 = n3.turboThreshold, h5 = this.xData, t3 = this.yData, x4 = g3.pointArrayMap;
            x4 = x4 && x4.length;
            var G3 = n3.keys, y3, q4 = 0, C3 = 1, B2 = null;
            b4 = b4 || [];
            var Q2 = b4.length;
            c4 = O3(c4, true);
            k3 && k3.enabled && (b4 = this.sortData(b4));
            d3 !== false && Q2 && e3 && !g3.cropped && !g3.hasGroupedData && g3.visible && !g3.isSeriesBoosting && (y3 = this.updateData(b4, a5));
            if (!y3) {
              g3.xIncrement = null;
              g3.colorCounter = 0;
              this.parallelArrays.forEach(function(b5) {
                g3[b5 + "Data"].length = 0;
              });
              if (p3 && Q2 > p3)
                if (B2 = g3.getFirstValidPoint(b4), w2(B2))
                  for (a5 = 0; a5 < Q2; a5++)
                    h5[a5] = this.autoIncrement(), t3[a5] = b4[a5];
                else if (m2(B2))
                  if (x4)
                    if (B2.length === x4)
                      for (a5 = 0; a5 < Q2; a5++)
                        h5[a5] = this.autoIncrement(), t3[a5] = b4[a5];
                    else
                      for (a5 = 0; a5 < Q2; a5++)
                        d3 = b4[a5], h5[a5] = d3[0], t3[a5] = d3.slice(1, x4 + 1);
                  else if (G3 && (q4 = G3.indexOf("x"), C3 = G3.indexOf("y"), q4 = 0 <= q4 ? q4 : 0, C3 = 0 <= C3 ? C3 : 1), B2.length === 1 && (C3 = 0), q4 === C3)
                    for (a5 = 0; a5 < Q2; a5++)
                      h5[a5] = this.autoIncrement(), t3[a5] = b4[a5][C3];
                  else
                    for (a5 = 0; a5 < Q2; a5++)
                      d3 = b4[a5], h5[a5] = d3[q4], t3[a5] = d3[C3];
                else
                  u4(12, false, r4);
              else
                for (a5 = 0; a5 < Q2; a5++)
                  typeof b4[a5] !== "undefined" && (d3 = { series: g3 }, g3.pointClass.prototype.applyOptions.apply(d3, [b4[a5]]), g3.updateParallelArrays(d3, a5));
              t3 && N3(t3[0]) && u4(14, true, r4);
              g3.data = [];
              g3.options.data = g3.userOptions.data = b4;
              for (a5 = e3; a5--; )
                f3[a5] && f3[a5].destroy && f3[a5].destroy();
              l4 && (l4.minRange = l4.userMinRange);
              g3.isDirty = r4.isDirtyBox = true;
              g3.isDirtyData = !!f3;
              a5 = false;
            }
            n3.legendType === "point" && (this.processData(), this.generatePoints());
            c4 && r4.redraw(a5);
          };
          e2.prototype.sortData = function(b4) {
            var c4 = this, a5 = c4.options.dataSorting.sortKey || "y", d3 = function(b5, c5) {
              return t2(c5) && b5.pointClass.prototype.optionsToObject.call({ series: b5 }, c5) || {};
            };
            b4.forEach(function(a6, g3) {
              b4[g3] = d3(c4, a6);
              b4[g3].index = g3;
            }, this);
            b4.concat().sort(function(b5, c5) {
              b5 = G2(a5, b5);
              c5 = G2(a5, c5);
              return c5 < b5 ? -1 : c5 > b5 ? 1 : 0;
            }).forEach(function(b5, c5) {
              b5.x = c5;
            }, this);
            c4.linkedSeries && c4.linkedSeries.forEach(function(c5) {
              var a6 = c5.options, g3 = a6.data;
              a6.dataSorting && a6.dataSorting.enabled || !g3 || (g3.forEach(function(a7, f3) {
                g3[f3] = d3(c5, a7);
                b4[f3] && (g3[f3].x = b4[f3].x, g3[f3].index = f3);
              }), c5.setData(g3, false));
            });
            return b4;
          };
          e2.prototype.getProcessedData = function(b4) {
            var c4 = this.xAxis, a5 = this.options, d3 = a5.cropThreshold, g3 = b4 || this.getExtremesFromAll || a5.getExtremesFromAll, f3 = this.isCartesian;
            b4 = c4 && c4.val2lin;
            a5 = !(!c4 || !c4.logarithmic);
            var e3 = 0, m3 = this.xData, n3 = this.yData, r4 = this.requireSorting;
            var k3 = false;
            var w3 = m3.length;
            if (c4) {
              k3 = c4.getExtremes();
              var l4 = k3.min;
              var p3 = k3.max;
              k3 = c4.categories && !c4.names.length;
            }
            if (f3 && this.sorted && !g3 && (!d3 || w3 > d3 || this.forceCrop)) {
              if (m3[w3 - 1] < l4 || m3[0] > p3)
                m3 = [], n3 = [];
              else if (this.yData && (m3[0] < l4 || m3[w3 - 1] > p3)) {
                var h5 = this.cropData(this.xData, this.yData, l4, p3);
                m3 = h5.xData;
                n3 = h5.yData;
                e3 = h5.start;
                h5 = true;
              }
            }
            for (d3 = m3.length || 1; --d3; )
              if (c4 = a5 ? b4(m3[d3]) - b4(m3[d3 - 1]) : m3[d3] - m3[d3 - 1], 0 < c4 && (typeof t3 === "undefined" || c4 < t3))
                var t3 = c4;
              else
                0 > c4 && r4 && !k3 && (u4(15, false, this.chart), r4 = false);
            return { xData: m3, yData: n3, cropped: h5, cropStart: e3, closestPointRange: t3 };
          };
          e2.prototype.processData = function(b4) {
            var c4 = this.xAxis;
            if (this.isCartesian && !this.isDirty && !c4.isDirty && !this.yAxis.isDirty && !b4)
              return false;
            b4 = this.getProcessedData();
            this.cropped = b4.cropped;
            this.cropStart = b4.cropStart;
            this.processedXData = b4.xData;
            this.processedYData = b4.yData;
            this.closestPointRange = this.basePointRange = b4.closestPointRange;
            r3(this, "afterProcessData");
          };
          e2.prototype.cropData = function(b4, c4, a5, d3, g3) {
            var f3 = b4.length, e3, m3 = 0, n3 = f3;
            g3 = O3(g3, this.cropShoulder);
            for (e3 = 0; e3 < f3; e3++)
              if (b4[e3] >= a5) {
                m3 = Math.max(0, e3 - g3);
                break;
              }
            for (a5 = e3; a5 < f3; a5++)
              if (b4[a5] > d3) {
                n3 = a5 + g3;
                break;
              }
            return { xData: b4.slice(m3, n3), yData: c4.slice(m3, n3), start: m3, end: n3 };
          };
          e2.prototype.generatePoints = function() {
            var b4 = this.options, c4 = b4.data, a5 = this.processedXData, d3 = this.processedYData, g3 = this.pointClass, f3 = a5.length, e3 = this.cropStart || 0, m3 = this.hasGroupedData, k3 = b4.keys, w3 = [];
            b4 = b4.dataGrouping && b4.dataGrouping.groupAll ? e3 : 0;
            var l4, p3, h5 = this.data;
            if (!h5 && !m3) {
              var u5 = [];
              u5.length = c4.length;
              h5 = this.data = u5;
            }
            k3 && m3 && (this.options.keys = false);
            for (p3 = 0; p3 < f3; p3++) {
              u5 = e3 + p3;
              if (m3) {
                var t3 = new g3().init(this, [a5[p3]].concat(Z(d3[p3])));
                t3.dataGroup = this.groupMap[b4 + p3];
                t3.dataGroup.options && (t3.options = t3.dataGroup.options, n2(t3, t3.dataGroup.options), delete t3.dataLabels);
              } else
                (t3 = h5[u5]) || typeof c4[u5] === "undefined" || (h5[u5] = t3 = new g3().init(this, c4[u5], a5[p3]));
              t3 && (t3.index = m3 ? b4 + p3 : u5, w3[p3] = t3);
            }
            this.options.keys = k3;
            if (h5 && (f3 !== (l4 = h5.length) || m3))
              for (p3 = 0; p3 < l4; p3++)
                p3 !== e3 || m3 || (p3 += f3), h5[p3] && (h5[p3].destroyElements(), h5[p3].plotX = void 0);
            this.data = h5;
            this.points = w3;
            r3(this, "afterGeneratePoints");
          };
          e2.prototype.getXExtremes = function(b4) {
            return { min: y2(b4), max: L3(b4) };
          };
          e2.prototype.getExtremes = function(b4, c4) {
            var a5 = this.xAxis, d3 = this.yAxis, g3 = this.processedXData || this.xData, f3 = [], e3 = this.requireSorting ? this.cropShoulder : 0;
            d3 = d3 ? d3.positiveValuesOnly : false;
            var n3, k3 = 0, l4 = 0, p3 = 0;
            b4 = b4 || this.stackedYData || this.processedYData || [];
            var h5 = b4.length;
            if (a5) {
              var t3 = a5.getExtremes();
              k3 = t3.min;
              l4 = t3.max;
            }
            for (n3 = 0; n3 < h5; n3++) {
              var u5 = g3[n3];
              t3 = b4[n3];
              var x4 = (w2(t3) || m2(t3)) && (t3.length || 0 < t3 || !d3);
              u5 = c4 || this.getExtremesFromAll || this.options.getExtremesFromAll || this.cropped || !a5 || (g3[n3 + e3] || u5) >= k3 && (g3[n3 - e3] || u5) <= l4;
              if (x4 && u5)
                if (x4 = t3.length)
                  for (; x4--; )
                    w2(t3[x4]) && (f3[p3++] = t3[x4]);
                else
                  f3[p3++] = t3;
            }
            b4 = { activeYData: f3, dataMin: y2(f3), dataMax: L3(f3) };
            r3(this, "afterGetExtremes", { dataExtremes: b4 });
            return b4;
          };
          e2.prototype.applyExtremes = function() {
            var b4 = this.getExtremes();
            this.dataMin = b4.dataMin;
            this.dataMax = b4.dataMax;
            return b4;
          };
          e2.prototype.getFirstValidPoint = function(b4) {
            for (var c4 = b4.length, a5 = 0, d3 = null; d3 === null && a5 < c4; )
              d3 = b4[a5], a5++;
            return d3;
          };
          e2.prototype.translate = function() {
            this.processedXData || this.processData();
            this.generatePoints();
            var b4 = this.options, a5 = b4.stacking, d3 = this.xAxis, g3 = d3.categories, f3 = this.enabledDataSorting, e3 = this.yAxis, n3 = this.points, k3 = n3.length, l4 = this.pointPlacementToXValue(), p3 = !!l4, h5 = b4.threshold, u5 = b4.startFromThreshold ? h5 : 0, x4 = this.zoneAxis || "y", G3, q4, y3 = Number.MAX_VALUE;
            for (G3 = 0; G3 < k3; G3++) {
              var B2 = n3[G3], N4 = B2.x, F3 = void 0, J3 = void 0, K3 = B2.y, L4 = B2.low, v2 = a5 && e3.stacking && e3.stacking.stacks[(this.negStacks && K3 < (u5 ? 0 : h5) ? "-" : "") + this.stackKey];
              if (e3.positiveValuesOnly && !e3.validatePositiveValue(K3) || d3.positiveValuesOnly && !d3.validatePositiveValue(N4))
                B2.isNull = true;
              B2.plotX = q4 = c3(C2(d3.translate(N4, 0, 0, 0, 1, l4, this.type === "flags"), -1e5, 1e5));
              if (a5 && this.visible && v2 && v2[N4]) {
                var z3 = this.getStackIndicator(z3, N4, this.index);
                B2.isNull || (F3 = v2[N4], J3 = F3.points[z3.key]);
              }
              m2(J3) && (L4 = J3[0], K3 = J3[1], L4 === u5 && z3.key === v2[N4].base && (L4 = O3(w2(h5) && h5, e3.min)), e3.positiveValuesOnly && 0 >= L4 && (L4 = null), B2.total = B2.stackTotal = F3.total, B2.percentage = F3.total && B2.y / F3.total * 100, B2.stackY = K3, this.irregularWidths || F3.setOffset(this.pointXOffset || 0, this.barW || 0));
              B2.yBottom = t2(L4) ? C2(e3.translate(L4, 0, 1, 0, 1), -1e5, 1e5) : null;
              this.dataModify && (K3 = this.dataModify.modifyValue(K3, G3));
              B2.plotY = void 0;
              w2(K3) && (F3 = e3.translate(K3, false, true, false, true), typeof F3 !== "undefined" && (B2.plotY = C2(F3, -1e5, 1e5)));
              B2.isInside = this.isPointInside(B2);
              B2.clientX = p3 ? c3(d3.translate(N4, 0, 0, 0, 1, l4)) : q4;
              B2.negative = B2[x4] < (b4[x4 + "Threshold"] || h5 || 0);
              B2.category = g3 && typeof g3[B2.x] !== "undefined" ? g3[B2.x] : B2.x;
              if (!B2.isNull && B2.visible !== false) {
                typeof P3 !== "undefined" && (y3 = Math.min(y3, Math.abs(q4 - P3)));
                var P3 = q4;
              }
              B2.zone = this.zones.length ? B2.getZone() : void 0;
              !B2.graphic && this.group && f3 && (B2.isNew = true);
            }
            this.closestPointRangePx = y3;
            r3(this, "afterTranslate");
          };
          e2.prototype.getValidPoints = function(b4, c4, a5) {
            var d3 = this.chart;
            return (b4 || this.points || []).filter(function(b5) {
              return c4 && !d3.isInsidePlot(b5.plotX, b5.plotY, { inverted: d3.inverted }) ? false : b5.visible !== false && (a5 || !b5.isNull);
            });
          };
          e2.prototype.getClipBox = function() {
            var b4 = this.chart, c4 = this.xAxis, a5 = this.yAxis, d3 = D3(b4.clipBox);
            c4 && c4.len !== b4.plotSizeX && (d3.width = c4.len);
            a5 && a5.len !== b4.plotSizeY && (d3.height = a5.len);
            return d3;
          };
          e2.prototype.getSharedClipKey = function() {
            return this.sharedClipKey = (this.options.xAxis || 0) + "," + (this.options.yAxis || 0);
          };
          e2.prototype.setClip = function() {
            var b4 = this.chart, c4 = this.group, a5 = this.markerGroup, d3 = b4.sharedClips;
            b4 = b4.renderer;
            var g3 = this.getClipBox(), f3 = this.getSharedClipKey(), e3 = d3[f3];
            e3 ? e3.animate(g3) : d3[f3] = e3 = b4.clipRect(g3);
            c4 && c4.clip(this.options.clip === false ? void 0 : e3);
            a5 && a5.clip();
          };
          e2.prototype.animate = function(b4) {
            var c4 = this.chart, a5 = this.group, d3 = this.markerGroup, g3 = c4.inverted, e3 = f2(this.options.animation), m3 = [this.getSharedClipKey(), e3.duration, e3.easing, e3.defer].join(), n3 = c4.sharedClips[m3], r4 = c4.sharedClips[m3 + "m"];
            if (b4 && a5)
              e3 = this.getClipBox(), n3 ? n3.attr("height", e3.height) : (e3.width = 0, g3 && (e3.x = c4.plotHeight), n3 = c4.renderer.clipRect(e3), c4.sharedClips[m3] = n3, r4 = c4.renderer.clipRect({ x: g3 ? (c4.plotSizeX || 0) + 99 : -99, y: g3 ? -c4.plotLeft : -c4.plotTop, width: 99, height: g3 ? c4.chartWidth : c4.chartHeight }), c4.sharedClips[m3 + "m"] = r4), a5.clip(n3), d3 && d3.clip(r4);
            else if (n3 && !n3.hasClass("highcharts-animating")) {
              c4 = this.getClipBox();
              var k3 = e3.step;
              d3 && d3.element.childNodes.length && (e3.step = function(b5, c5) {
                k3 && k3.apply(c5, arguments);
                r4 && r4.element && r4.attr(c5.prop, c5.prop === "width" ? b5 + 99 : b5);
              });
              n3.addClass("highcharts-animating").animate(c4, e3);
            }
          };
          e2.prototype.afterAnimate = function() {
            var b4 = this;
            this.setClip();
            P2(this.chart.sharedClips, function(c4, a5, d3) {
              c4 && !b4.chart.container.querySelector('[clip-path="url(#' + c4.id + ')"]') && (c4.destroy(), delete d3[a5]);
            });
            this.finishedAnimating = true;
            r3(this, "afterAnimate");
          };
          e2.prototype.drawPoints = function() {
            var b4 = this.points, c4 = this.chart, a5 = this.options.marker, d3 = this[this.specialGroup] || this.markerGroup, g3 = this.xAxis, f3 = O3(a5.enabled, !g3 || g3.isRadial ? true : null, this.closestPointRangePx >= a5.enabledThreshold * a5.radius), e3, m3;
            if (a5.enabled !== false || this._hasPointMarkers)
              for (e3 = 0; e3 < b4.length; e3++) {
                var n3 = b4[e3];
                var r4 = (m3 = n3.graphic) ? "animate" : "attr";
                var k3 = n3.marker || {};
                var w3 = !!n3.marker;
                if ((f3 && typeof k3.enabled === "undefined" || k3.enabled) && !n3.isNull && n3.visible !== false) {
                  var l4 = O3(k3.symbol, this.symbol, "rect");
                  var p3 = this.markerAttribs(n3, n3.selected && "select");
                  this.enabledDataSorting && (n3.startXPos = g3.reversed ? -(p3.width || 0) : g3.width);
                  var t3 = n3.isInside !== false;
                  m3 ? m3[t3 ? "show" : "hide"](t3).animate(p3) : t3 && (0 < (p3.width || 0) || n3.hasImage) && (n3.graphic = m3 = c4.renderer.symbol(l4, p3.x, p3.y, p3.width, p3.height, w3 ? k3 : a5).add(d3), this.enabledDataSorting && c4.hasRendered && (m3.attr({ x: n3.startXPos }), r4 = "animate"));
                  m3 && r4 === "animate" && m3[t3 ? "show" : "hide"](t3).animate(p3);
                  if (m3 && !c4.styledMode)
                    m3[r4](this.pointAttribs(n3, n3.selected && "select"));
                  m3 && m3.addClass(n3.getClassName(), true);
                } else
                  m3 && (n3.graphic = m3.destroy());
              }
          };
          e2.prototype.markerAttribs = function(b4, c4) {
            var a5 = this.options, d3 = a5.marker, g3 = b4.marker || {}, f3 = g3.symbol || d3.symbol, e3 = O3(g3.radius, d3.radius);
            c4 && (d3 = d3.states[c4], c4 = g3.states && g3.states[c4], e3 = O3(c4 && c4.radius, d3 && d3.radius, e3 + (d3 && d3.radiusPlus || 0)));
            b4.hasImage = f3 && f3.indexOf("url") === 0;
            b4.hasImage && (e3 = 0);
            b4 = { x: a5.crisp ? Math.floor(b4.plotX - e3) : b4.plotX - e3, y: b4.plotY - e3 };
            e3 && (b4.width = b4.height = 2 * e3);
            return b4;
          };
          e2.prototype.pointAttribs = function(b4, c4) {
            var a5 = this.options.marker, d3 = b4 && b4.options, g3 = d3 && d3.marker || {}, f3 = d3 && d3.color, e3 = b4 && b4.color, m3 = b4 && b4.zone && b4.zone.color, n3 = this.color;
            b4 = O3(g3.lineWidth, a5.lineWidth);
            d3 = 1;
            n3 = f3 || m3 || e3 || n3;
            f3 = g3.fillColor || a5.fillColor || n3;
            e3 = g3.lineColor || a5.lineColor || n3;
            c4 = c4 || "normal";
            a5 = a5.states[c4] || {};
            c4 = g3.states && g3.states[c4] || {};
            b4 = O3(c4.lineWidth, a5.lineWidth, b4 + O3(c4.lineWidthPlus, a5.lineWidthPlus, 0));
            f3 = c4.fillColor || a5.fillColor || f3;
            e3 = c4.lineColor || a5.lineColor || e3;
            d3 = O3(c4.opacity, a5.opacity, d3);
            return { stroke: e3, "stroke-width": b4, fill: f3, opacity: d3 };
          };
          e2.prototype.destroy = function(b4) {
            var c4 = this, a5 = c4.chart, d3 = /AppleWebKit\/533/.test(B.navigator.userAgent), f3 = c4.data || [], e3, m3, n3, k3;
            r3(c4, "destroy");
            this.removeEvents(b4);
            (c4.axisTypes || []).forEach(function(b5) {
              (k3 = c4[b5]) && k3.series && (g2(k3.series, c4), k3.isDirty = k3.forceRedraw = true);
            });
            c4.legendItem && c4.chart.legend.destroyItem(c4);
            for (m3 = f3.length; m3--; )
              (n3 = f3[m3]) && n3.destroy && n3.destroy();
            c4.clips && c4.clips.forEach(function(b5) {
              return b5.destroy();
            });
            l3.clearTimeout(c4.animationTimeout);
            P2(c4, function(b5, c5) {
              b5 instanceof q3 && !b5.survive && (e3 = d3 && c5 === "group" ? "hide" : "destroy", b5[e3]());
            });
            a5.hoverSeries === c4 && (a5.hoverSeries = void 0);
            g2(a5.series, c4);
            a5.orderSeries();
            P2(c4, function(a6, d4) {
              b4 && d4 === "hcEvents" || delete c4[d4];
            });
          };
          e2.prototype.applyZones = function() {
            var b4 = this, c4 = this.chart, a5 = c4.renderer, d3 = this.zones, g3 = this.clips || [], f3 = this.graph, e3 = this.area, m3 = Math.max(c4.chartWidth, c4.chartHeight), n3 = this[(this.zoneAxis || "y") + "Axis"], r4 = c4.inverted, k3, w3, l4, p3, t3, h5, u5, x4, G3 = false;
            if (d3.length && (f3 || e3) && n3 && typeof n3.min !== "undefined") {
              var q4 = n3.reversed;
              var y3 = n3.horiz;
              f3 && !this.showLine && f3.hide();
              e3 && e3.hide();
              var B2 = n3.getExtremes();
              d3.forEach(function(d4, N4) {
                k3 = q4 ? y3 ? c4.plotWidth : 0 : y3 ? 0 : n3.toPixels(B2.min) || 0;
                k3 = C2(O3(w3, k3), 0, m3);
                w3 = C2(Math.round(n3.toPixels(O3(d4.value, B2.max), true) || 0), 0, m3);
                G3 && (k3 = w3 = n3.toPixels(B2.max));
                p3 = Math.abs(k3 - w3);
                t3 = Math.min(k3, w3);
                h5 = Math.max(k3, w3);
                n3.isXAxis ? (l4 = { x: r4 ? h5 : t3, y: 0, width: p3, height: m3 }, y3 || (l4.x = c4.plotHeight - l4.x)) : (l4 = { x: 0, y: r4 ? h5 : t3, width: m3, height: p3 }, y3 && (l4.y = c4.plotWidth - l4.y));
                r4 && a5.isVML && (l4 = n3.isXAxis ? {
                  x: 0,
                  y: q4 ? t3 : h5,
                  height: l4.width,
                  width: c4.chartWidth
                } : { x: l4.y - c4.plotLeft - c4.spacingBox.x, y: 0, width: l4.height, height: c4.chartHeight });
                g3[N4] ? g3[N4].animate(l4) : g3[N4] = a5.clipRect(l4);
                u5 = b4["zone-area-" + N4];
                x4 = b4["zone-graph-" + N4];
                f3 && x4 && x4.clip(g3[N4]);
                e3 && u5 && u5.clip(g3[N4]);
                G3 = d4.value > B2.max;
                b4.resetZones && w3 === 0 && (w3 = void 0);
              });
              this.clips = g3;
            } else
              b4.visible && (f3 && f3.show(true), e3 && e3.show(true));
          };
          e2.prototype.invertGroups = function(b4) {
            function c4() {
              ["group", "markerGroup"].forEach(function(c5) {
                a5[c5] && (d3.renderer.isVML && a5[c5].attr({ width: a5.yAxis.len, height: a5.xAxis.len }), a5[c5].width = a5.yAxis.len, a5[c5].height = a5.xAxis.len, a5[c5].invert(a5.isRadialSeries ? false : b4));
              });
            }
            var a5 = this, d3 = a5.chart;
            a5.xAxis && (a5.eventsToUnbind.push(K2(d3, "resize", c4)), c4(), a5.invertGroups = c4);
          };
          e2.prototype.plotGroup = function(b4, c4, a5, d3, g3) {
            var f3 = this[b4], e3 = !f3;
            a5 = { visibility: a5, zIndex: d3 || 0.1 };
            typeof this.opacity === "undefined" || this.chart.styledMode || this.state === "inactive" || (a5.opacity = this.opacity);
            e3 && (this[b4] = f3 = this.chart.renderer.g().add(g3));
            f3.addClass("highcharts-" + c4 + " highcharts-series-" + this.index + " highcharts-" + this.type + "-series " + (t2(this.colorIndex) ? "highcharts-color-" + this.colorIndex + " " : "") + (this.options.className || "") + (f3.hasClass("highcharts-tracker") ? " highcharts-tracker" : ""), true);
            f3.attr(a5)[e3 ? "attr" : "animate"](this.getPlotBox());
            return f3;
          };
          e2.prototype.getPlotBox = function() {
            var b4 = this.chart, c4 = this.xAxis, a5 = this.yAxis;
            b4.inverted && (c4 = a5, a5 = this.xAxis);
            return { translateX: c4 ? c4.left : b4.plotLeft, translateY: a5 ? a5.top : b4.plotTop, scaleX: 1, scaleY: 1 };
          };
          e2.prototype.removeEvents = function(b4) {
            b4 || W2(this);
            this.eventsToUnbind.length && (this.eventsToUnbind.forEach(function(b5) {
              b5();
            }), this.eventsToUnbind.length = 0);
          };
          e2.prototype.render = function() {
            var b4 = this, c4 = b4.chart, a5 = b4.options, d3 = f2(a5.animation), g3 = b4.visible ? "inherit" : "hidden", e3 = a5.zIndex, m3 = b4.hasRendered, n3 = c4.seriesGroup, k3 = c4.inverted;
            c4 = !b4.finishedAnimating && c4.renderer.isSVG ? d3.duration : 0;
            r3(this, "render");
            var w3 = b4.plotGroup("group", "series", g3, e3, n3);
            b4.markerGroup = b4.plotGroup("markerGroup", "markers", g3, e3, n3);
            a5.clip !== false && b4.setClip();
            b4.animate && c4 && b4.animate(true);
            w3.inverted = O3(b4.invertible, b4.isCartesian) ? k3 : false;
            b4.drawGraph && (b4.drawGraph(), b4.applyZones());
            b4.visible && b4.drawPoints();
            b4.drawDataLabels && b4.drawDataLabels();
            b4.redrawPoints && b4.redrawPoints();
            b4.drawTracker && b4.options.enableMouseTracking !== false && b4.drawTracker();
            b4.invertGroups(k3);
            b4.animate && c4 && b4.animate();
            m3 || (c4 && d3.defer && (c4 += d3.defer), b4.animationTimeout = ha(function() {
              b4.afterAnimate();
            }, c4 || 0));
            b4.isDirty = false;
            b4.hasRendered = true;
            r3(b4, "afterRender");
          };
          e2.prototype.redraw = function() {
            var b4 = this.chart, c4 = this.isDirty || this.isDirtyData, a5 = this.group, d3 = this.xAxis, g3 = this.yAxis;
            a5 && (b4.inverted && a5.attr({
              width: b4.plotWidth,
              height: b4.plotHeight
            }), a5.animate({ translateX: O3(d3 && d3.left, b4.plotLeft), translateY: O3(g3 && g3.top, b4.plotTop) }));
            this.translate();
            this.render();
            c4 && delete this.kdTree;
          };
          e2.prototype.searchPoint = function(b4, c4) {
            var a5 = this.xAxis, d3 = this.yAxis, g3 = this.chart.inverted;
            return this.searchKDTree({ clientX: g3 ? a5.len - b4.chartY + a5.pos : b4.chartX - a5.pos, plotY: g3 ? d3.len - b4.chartX + d3.pos : b4.chartY - d3.pos }, c4, b4);
          };
          e2.prototype.buildKDTree = function(b4) {
            function c4(b5, d4, g3) {
              var f3 = b5 && b5.length;
              if (f3) {
                var e3 = a5.kdAxisArray[d4 % g3];
                b5.sort(function(b6, c5) {
                  return b6[e3] - c5[e3];
                });
                f3 = Math.floor(f3 / 2);
                return { point: b5[f3], left: c4(b5.slice(0, f3), d4 + 1, g3), right: c4(b5.slice(f3 + 1), d4 + 1, g3) };
              }
            }
            this.buildingKdTree = true;
            var a5 = this, d3 = -1 < a5.options.findNearestPointBy.indexOf("y") ? 2 : 1;
            delete a5.kdTree;
            ha(function() {
              a5.kdTree = c4(a5.getValidPoints(null, !a5.directTouch), d3, d3);
              a5.buildingKdTree = false;
            }, a5.options.kdNow || b4 && b4.type === "touchstart" ? 0 : 1);
          };
          e2.prototype.searchKDTree = function(b4, c4, a5) {
            function d3(b5, c5, a6, n3) {
              var r4 = c5.point, k3 = g3.kdAxisArray[a6 % n3], w3 = r4, l4 = t2(b5[f3]) && t2(r4[f3]) ? Math.pow(b5[f3] - r4[f3], 2) : null;
              var p3 = t2(b5[e3]) && t2(r4[e3]) ? Math.pow(b5[e3] - r4[e3], 2) : null;
              p3 = (l4 || 0) + (p3 || 0);
              r4.dist = t2(p3) ? Math.sqrt(p3) : Number.MAX_VALUE;
              r4.distX = t2(l4) ? Math.sqrt(l4) : Number.MAX_VALUE;
              k3 = b5[k3] - r4[k3];
              p3 = 0 > k3 ? "left" : "right";
              l4 = 0 > k3 ? "right" : "left";
              c5[p3] && (p3 = d3(b5, c5[p3], a6 + 1, n3), w3 = p3[m3] < w3[m3] ? p3 : r4);
              c5[l4] && Math.sqrt(k3 * k3) < w3[m3] && (b5 = d3(b5, c5[l4], a6 + 1, n3), w3 = b5[m3] < w3[m3] ? b5 : w3);
              return w3;
            }
            var g3 = this, f3 = this.kdAxisArray[0], e3 = this.kdAxisArray[1], m3 = c4 ? "distX" : "dist";
            c4 = -1 < g3.options.findNearestPointBy.indexOf("y") ? 2 : 1;
            this.kdTree || this.buildingKdTree || this.buildKDTree(a5);
            if (this.kdTree)
              return d3(b4, this.kdTree, c4, c4);
          };
          e2.prototype.pointPlacementToXValue = function() {
            var b4 = this.options, c4 = b4.pointRange, a5 = this.xAxis;
            b4 = b4.pointPlacement;
            b4 === "between" && (b4 = a5.reversed ? -0.5 : 0.5);
            return w2(b4) ? b4 * (c4 || a5.pointRange) : 0;
          };
          e2.prototype.isPointInside = function(b4) {
            var c4 = this.chart, a5 = this.xAxis, d3 = this.yAxis;
            return typeof b4.plotY !== "undefined" && typeof b4.plotX !== "undefined" && 0 <= b4.plotY && b4.plotY <= (d3 ? d3.len : c4.plotHeight) && 0 <= b4.plotX && b4.plotX <= (a5 ? a5.len : c4.plotWidth);
          };
          e2.prototype.drawTracker = function() {
            var b4 = this, c4 = b4.options, a5 = c4.trackByArea, d3 = [].concat(a5 ? b4.areaPath : b4.graphPath), g3 = b4.chart, f3 = g3.pointer, e3 = g3.renderer, m3 = g3.options.tooltip.snap, n3 = b4.tracker, w3 = function(c5) {
              if (g3.hoverSeries !== b4)
                b4.onMouseOver();
            }, l4 = "rgba(192,192,192," + (F2 ? 1e-4 : 2e-3) + ")";
            n3 ? n3.attr({ d: d3 }) : b4.graph && (b4.tracker = e3.path(d3).attr({ visibility: b4.visible ? "visible" : "hidden", zIndex: 2 }).addClass(a5 ? "highcharts-tracker-area" : "highcharts-tracker-line").add(b4.group), g3.styledMode || b4.tracker.attr({ "stroke-linecap": "round", "stroke-linejoin": "round", stroke: l4, fill: a5 ? l4 : "none", "stroke-width": b4.graph.strokeWidth() + (a5 ? 0 : 2 * m3) }), [b4.tracker, b4.markerGroup, b4.dataLabelsGroup].forEach(function(b5) {
              if (b5 && (b5.addClass("highcharts-tracker").on("mouseover", w3).on("mouseout", function(b6) {
                f3.onTrackerMouseOut(b6);
              }), c4.cursor && !g3.styledMode && b5.css({ cursor: c4.cursor }), k2))
                b5.on("touchstart", w3);
            }));
            r3(this, "afterDrawTracker");
          };
          e2.prototype.addPoint = function(b4, c4, a5, d3, g3) {
            var f3 = this.options, e3 = this.data, m3 = this.chart, n3 = this.xAxis;
            n3 = n3 && n3.hasNames && n3.names;
            var k3 = f3.data, w3 = this.xData, l4;
            c4 = O3(c4, true);
            var p3 = { series: this };
            this.pointClass.prototype.applyOptions.apply(p3, [b4]);
            var t3 = p3.x;
            var h5 = w3.length;
            if (this.requireSorting && t3 < w3[h5 - 1])
              for (l4 = true; h5 && w3[h5 - 1] > t3; )
                h5--;
            this.updateParallelArrays(p3, "splice", h5, 0, 0);
            this.updateParallelArrays(p3, h5);
            n3 && p3.name && (n3[t3] = p3.name);
            k3.splice(h5, 0, b4);
            l4 && (this.data.splice(h5, 0, null), this.processData());
            f3.legendType === "point" && this.generatePoints();
            a5 && (e3[0] && e3[0].remove ? e3[0].remove(false) : (e3.shift(), this.updateParallelArrays(p3, "shift"), k3.shift()));
            g3 !== false && r3(this, "addPoint", { point: p3 });
            this.isDirtyData = this.isDirty = true;
            c4 && m3.redraw(d3);
          };
          e2.prototype.removePoint = function(b4, c4, a5) {
            var g3 = this, f3 = g3.data, e3 = f3[b4], m3 = g3.points, n3 = g3.chart, r4 = function() {
              m3 && m3.length === f3.length && m3.splice(b4, 1);
              f3.splice(b4, 1);
              g3.options.data.splice(b4, 1);
              g3.updateParallelArrays(e3 || { series: g3 }, "splice", b4, 1);
              e3 && e3.destroy();
              g3.isDirty = true;
              g3.isDirtyData = true;
              c4 && n3.redraw();
            };
            d2(a5, n3);
            c4 = O3(c4, true);
            e3 ? e3.firePointEvent("remove", null, r4) : r4();
          };
          e2.prototype.remove = function(b4, c4, a5, d3) {
            function g3() {
              f3.destroy(d3);
              e3.isDirtyLegend = e3.isDirtyBox = true;
              e3.linkSeries();
              O3(b4, true) && e3.redraw(c4);
            }
            var f3 = this, e3 = f3.chart;
            a5 !== false ? r3(f3, "remove", null, g3) : g3();
          };
          e2.prototype.update = function(b4, c4) {
            b4 = x3(b4, this.userOptions);
            r3(this, "update", { options: b4 });
            var a5 = this, d3 = a5.chart, g3 = a5.userOptions, f3 = a5.initialType || a5.type, e3 = d3.options.plotOptions, m3 = J2[f3].prototype, k3 = a5.finishedAnimating && { animation: false }, w3 = {}, l4, p3 = ["eventOptions", "navigatorSeries", "baseSeries"], t3 = b4.type || g3.type || d3.options.chart.type, h5 = !(this.hasDerivedData || t3 && t3 !== this.type || typeof b4.pointStart !== "undefined" || typeof b4.pointInterval !== "undefined" || typeof b4.relativeXValue !== "undefined" || a5.hasOptionChanged("dataGrouping") || a5.hasOptionChanged("pointStart") || a5.hasOptionChanged("pointInterval") || a5.hasOptionChanged("pointIntervalUnit") || a5.hasOptionChanged("keys"));
            t3 = t3 || f3;
            h5 && (p3.push("data", "isDirtyData", "points", "processedXData", "processedYData", "xIncrement", "cropped", "_hasPointMarkers", "_hasPointLabels", "clips", "nodes", "layout", "mapMap", "mapData", "minY", "maxY", "minX", "maxX"), b4.visible !== false && p3.push("area", "graph"), a5.parallelArrays.forEach(function(b5) {
              p3.push(b5 + "Data");
            }), b4.data && (b4.dataSorting && n2(a5.options.dataSorting, b4.dataSorting), this.setData(b4.data, false)));
            b4 = D3(g3, k3, { index: typeof g3.index === "undefined" ? a5.index : g3.index, pointStart: O3(e3 && e3.series && e3.series.pointStart, g3.pointStart, a5.xData[0]) }, !h5 && { data: a5.options.data }, b4);
            h5 && b4.data && (b4.data = a5.options.data);
            p3 = ["group", "markerGroup", "dataLabelsGroup", "transformGroup"].concat(p3);
            p3.forEach(function(b5) {
              p3[b5] = a5[b5];
              delete a5[b5];
            });
            e3 = false;
            if (J2[t3]) {
              if (e3 = t3 !== a5.type, a5.remove(false, false, false, true), e3)
                if (Object.setPrototypeOf)
                  Object.setPrototypeOf(a5, J2[t3].prototype);
                else {
                  k3 = Object.hasOwnProperty.call(a5, "hcEvents") && a5.hcEvents;
                  for (l4 in m3)
                    a5[l4] = void 0;
                  n2(a5, J2[t3].prototype);
                  k3 ? a5.hcEvents = k3 : delete a5.hcEvents;
                }
            } else
              u4(17, true, d3, { missingModuleFor: t3 });
            p3.forEach(function(b5) {
              a5[b5] = p3[b5];
            });
            a5.init(d3, b4);
            if (h5 && this.points) {
              var G3 = a5.options;
              G3.visible === false ? (w3.graphic = 1, w3.dataLabel = 1) : a5._hasPointLabels || (b4 = G3.marker, m3 = G3.dataLabels, !b4 || b4.enabled !== false && (g3.marker && g3.marker.symbol) === b4.symbol || (w3.graphic = 1), m3 && m3.enabled === false && (w3.dataLabel = 1));
              this.points.forEach(function(b5) {
                b5 && b5.series && (b5.resolveColor(), Object.keys(w3).length && b5.destroyElements(w3), G3.showInLegend === false && b5.legendItem && d3.legend.destroyItem(b5));
              }, this);
            }
            a5.initialType = f3;
            d3.linkSeries();
            e3 && a5.linkedSeries.length && (a5.isDirtyData = true);
            r3(this, "afterUpdate");
            O3(c4, true) && d3.redraw(h5 ? void 0 : false);
          };
          e2.prototype.setName = function(b4) {
            this.name = this.options.name = this.userOptions.name = b4;
            this.chart.isDirtyLegend = true;
          };
          e2.prototype.hasOptionChanged = function(b4) {
            var c4 = this.options[b4], a5 = this.chart.options.plotOptions, d3 = this.userOptions[b4];
            return d3 ? c4 !== d3 : c4 !== O3(a5 && a5[this.type] && a5[this.type][b4], a5 && a5.series && a5.series[b4], c4);
          };
          e2.prototype.onMouseOver = function() {
            var b4 = this.chart, c4 = b4.hoverSeries;
            b4.pointer.setHoverChartIndex();
            if (c4 && c4 !== this)
              c4.onMouseOut();
            this.options.events.mouseOver && r3(this, "mouseOver");
            this.setState("hover");
            b4.hoverSeries = this;
          };
          e2.prototype.onMouseOut = function() {
            var b4 = this.options, c4 = this.chart, a5 = c4.tooltip, d3 = c4.hoverPoint;
            c4.hoverSeries = null;
            if (d3)
              d3.onMouseOut();
            this && b4.events.mouseOut && r3(this, "mouseOut");
            !a5 || this.stickyTracking || a5.shared && !this.noSharedTooltip || a5.hide();
            c4.series.forEach(function(b5) {
              b5.setState("", true);
            });
          };
          e2.prototype.setState = function(b4, c4) {
            var a5 = this, d3 = a5.options, g3 = a5.graph, f3 = d3.inactiveOtherPoints, e3 = d3.states, m3 = O3(e3[b4 || "normal"] && e3[b4 || "normal"].animation, a5.chart.options.chart.animation), n3 = d3.lineWidth, r4 = 0, k3 = d3.opacity;
            b4 = b4 || "";
            if (a5.state !== b4 && ([a5.group, a5.markerGroup, a5.dataLabelsGroup].forEach(function(c5) {
              c5 && (a5.state && c5.removeClass("highcharts-series-" + a5.state), b4 && c5.addClass("highcharts-series-" + b4));
            }), a5.state = b4, !a5.chart.styledMode)) {
              if (e3[b4] && e3[b4].enabled === false)
                return;
              b4 && (n3 = e3[b4].lineWidth || n3 + (e3[b4].lineWidthPlus || 0), k3 = O3(e3[b4].opacity, k3));
              if (g3 && !g3.dashstyle)
                for (d3 = { "stroke-width": n3 }, g3.animate(d3, m3); a5["zone-graph-" + r4]; )
                  a5["zone-graph-" + r4].animate(d3, m3), r4 += 1;
              f3 || [a5.group, a5.markerGroup, a5.dataLabelsGroup, a5.labelBySeries].forEach(function(b5) {
                b5 && b5.animate({ opacity: k3 }, m3);
              });
            }
            c4 && f3 && a5.points && a5.setAllPointsToState(b4 || void 0);
          };
          e2.prototype.setAllPointsToState = function(b4) {
            this.points.forEach(function(c4) {
              c4.setState && c4.setState(b4);
            });
          };
          e2.prototype.setVisible = function(b4, c4) {
            var a5 = this, d3 = a5.chart, g3 = a5.legendItem, f3 = d3.options.chart.ignoreHiddenSeries, e3 = a5.visible, m3 = (a5.visible = b4 = a5.options.visible = a5.userOptions.visible = typeof b4 === "undefined" ? !e3 : b4) ? "show" : "hide";
            ["group", "dataLabelsGroup", "markerGroup", "tracker", "tt"].forEach(function(b5) {
              if (a5[b5])
                a5[b5][m3]();
            });
            if (d3.hoverSeries === a5 || (d3.hoverPoint && d3.hoverPoint.series) === a5)
              a5.onMouseOut();
            g3 && d3.legend.colorizeItem(a5, b4);
            a5.isDirty = true;
            a5.options.stacking && d3.series.forEach(function(b5) {
              b5.options.stacking && b5.visible && (b5.isDirty = true);
            });
            a5.linkedSeries.forEach(function(c5) {
              c5.setVisible(b4, false);
            });
            f3 && (d3.isDirtyBox = true);
            r3(a5, m3);
            c4 !== false && d3.redraw();
          };
          e2.prototype.show = function() {
            this.setVisible(true);
          };
          e2.prototype.hide = function() {
            this.setVisible(false);
          };
          e2.prototype.select = function(b4) {
            this.selected = b4 = this.options.selected = typeof b4 === "undefined" ? !this.selected : b4;
            this.checkbox && (this.checkbox.checked = b4);
            r3(this, b4 ? "select" : "unselect");
          };
          e2.prototype.shouldShowTooltip = function(b4, c4, a5) {
            a5 === void 0 && (a5 = {});
            a5.series = this;
            a5.visiblePlotOnly = true;
            return this.chart.isInsidePlot(b4, c4, a5);
          };
          e2.defaultOptions = I2;
          return e2;
        }();
        n2(e.prototype, { axisTypes: [
          "xAxis",
          "yAxis"
        ], coll: "series", colorCounter: 0, cropShoulder: 1, directTouch: false, drawLegendSymbol: v.drawLineMarker, isCartesian: true, kdAxisArray: ["clientX", "plotY"], parallelArrays: ["x", "y"], pointClass: H2, requireSorting: true, sorted: true });
        z2.series = e;
        "";
        "";
        return e;
      });
      M2(h3, "Extensions/ScrollablePlotArea.js", [h3["Core/Animation/AnimationUtilities.js"], h3["Core/Axis/Axis.js"], h3["Core/Chart/Chart.js"], h3["Core/Series/Series.js"], h3["Core/Renderer/RendererRegistry.js"], h3["Core/Utilities.js"]], function(e, h4, A, E3, v, H2) {
        var D3 = e.stop, z2 = H2.addEvent, q3 = H2.createElement, l3 = H2.merge, f2 = H2.pick;
        z2(A, "afterSetChartSize", function(d2) {
          var a4 = this.options.chart.scrollablePlotArea, f3 = a4 && a4.minWidth;
          a4 = a4 && a4.minHeight;
          if (!this.renderer.forExport) {
            if (f3) {
              if (this.scrollablePixelsX = f3 = Math.max(0, f3 - this.chartWidth)) {
                this.scrollablePlotBox = this.renderer.scrollablePlotBox = l3(this.plotBox);
                this.plotBox.width = this.plotWidth += f3;
                this.inverted ? this.clipBox.height += f3 : this.clipBox.width += f3;
                var e2 = { 1: { name: "right", value: f3 } };
              }
            } else
              a4 && (this.scrollablePixelsY = f3 = Math.max(0, a4 - this.chartHeight)) && (this.scrollablePlotBox = this.renderer.scrollablePlotBox = l3(this.plotBox), this.plotBox.height = this.plotHeight += f3, this.inverted ? this.clipBox.width += f3 : this.clipBox.height += f3, e2 = { 2: { name: "bottom", value: f3 } });
            e2 && !d2.skipAxes && this.axes.forEach(function(a5) {
              e2[a5.side] ? a5.getPlotLinePath = function() {
                var d3 = e2[a5.side].name, f4 = this[d3];
                this[d3] = f4 - e2[a5.side].value;
                var k2 = h4.prototype.getPlotLinePath.apply(this, arguments);
                this[d3] = f4;
                return k2;
              } : (a5.setAxisSize(), a5.setAxisTranslation());
            });
          }
        });
        z2(A, "render", function() {
          this.scrollablePixelsX || this.scrollablePixelsY ? (this.setUpScrolling && this.setUpScrolling(), this.applyFixed()) : this.fixedDiv && this.applyFixed();
        });
        A.prototype.setUpScrolling = function() {
          var d2 = this, a4 = { WebkitOverflowScrolling: "touch", overflowX: "hidden", overflowY: "hidden" };
          this.scrollablePixelsX && (a4.overflowX = "auto");
          this.scrollablePixelsY && (a4.overflowY = "auto");
          this.scrollingParent = q3("div", { className: "highcharts-scrolling-parent" }, { position: "relative" }, this.renderTo);
          this.scrollingContainer = q3("div", { className: "highcharts-scrolling" }, a4, this.scrollingParent);
          z2(this.scrollingContainer, "scroll", function() {
            d2.pointer && delete d2.pointer.chartPosition;
          });
          this.innerContainer = q3("div", { className: "highcharts-inner-container" }, null, this.scrollingContainer);
          this.innerContainer.appendChild(this.container);
          this.setUpScrolling = null;
        };
        A.prototype.moveFixedElements = function() {
          var d2 = this.container, a4 = this.fixedRenderer, f3 = ".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" "), e2;
          this.scrollablePixelsX && !this.inverted ? e2 = ".highcharts-yaxis" : this.scrollablePixelsX && this.inverted ? e2 = ".highcharts-xaxis" : this.scrollablePixelsY && !this.inverted ? e2 = ".highcharts-xaxis" : this.scrollablePixelsY && this.inverted && (e2 = ".highcharts-yaxis");
          e2 && f3.push(e2 + ":not(.highcharts-radial-axis)", e2 + "-labels:not(.highcharts-radial-axis-labels)");
          f3.forEach(function(f4) {
            [].forEach.call(d2.querySelectorAll(f4), function(d3) {
              (d3.namespaceURI === a4.SVG_NS ? a4.box : a4.box.parentNode).appendChild(d3);
              d3.style.pointerEvents = "auto";
            });
          });
        };
        A.prototype.applyFixed = function() {
          var d2 = !this.fixedDiv, a4 = this.options.chart, e2 = a4.scrollablePlotArea, k2 = v.getRendererType();
          d2 ? (this.fixedDiv = q3("div", { className: "highcharts-fixed" }, { position: "absolute", overflow: "hidden", pointerEvents: "none", zIndex: (a4.style && a4.style.zIndex || 0) + 2, top: 0 }, null, true), this.scrollingContainer && this.scrollingContainer.parentNode.insertBefore(this.fixedDiv, this.scrollingContainer), this.renderTo.style.overflow = "visible", this.fixedRenderer = a4 = new k2(this.fixedDiv, this.chartWidth, this.chartHeight, this.options.chart.style), this.scrollableMask = a4.path().attr({ fill: this.options.chart.backgroundColor || "#fff", "fill-opacity": f2(e2.opacity, 0.85), zIndex: -1 }).addClass("highcharts-scrollable-mask").add(), z2(this, "afterShowResetZoom", this.moveFixedElements), z2(this, "afterDrilldown", this.moveFixedElements), z2(this, "afterLayOutTitles", this.moveFixedElements)) : this.fixedRenderer.setSize(this.chartWidth, this.chartHeight);
          if (this.scrollableDirty || d2)
            this.scrollableDirty = false, this.moveFixedElements();
          a4 = this.chartWidth + (this.scrollablePixelsX || 0);
          k2 = this.chartHeight + (this.scrollablePixelsY || 0);
          D3(this.container);
          this.container.style.width = a4 + "px";
          this.container.style.height = k2 + "px";
          this.renderer.boxWrapper.attr({ width: a4, height: k2, viewBox: [0, 0, a4, k2].join(" ") });
          this.chartBackground.attr({ width: a4, height: k2 });
          this.scrollingContainer.style.height = this.chartHeight + "px";
          d2 && (e2.scrollPositionX && (this.scrollingContainer.scrollLeft = this.scrollablePixelsX * e2.scrollPositionX), e2.scrollPositionY && (this.scrollingContainer.scrollTop = this.scrollablePixelsY * e2.scrollPositionY));
          k2 = this.axisOffset;
          d2 = this.plotTop - k2[0] - 1;
          e2 = this.plotLeft - k2[3] - 1;
          a4 = this.plotTop + this.plotHeight + k2[2] + 1;
          k2 = this.plotLeft + this.plotWidth + k2[1] + 1;
          var l4 = this.plotLeft + this.plotWidth - (this.scrollablePixelsX || 0), h5 = this.plotTop + this.plotHeight - (this.scrollablePixelsY || 0);
          d2 = this.scrollablePixelsX ? [["M", 0, d2], ["L", this.plotLeft - 1, d2], ["L", this.plotLeft - 1, a4], ["L", 0, a4], ["Z"], ["M", l4, d2], ["L", this.chartWidth, d2], ["L", this.chartWidth, a4], ["L", l4, a4], ["Z"]] : this.scrollablePixelsY ? [["M", e2, 0], ["L", e2, this.plotTop - 1], ["L", k2, this.plotTop - 1], ["L", k2, 0], ["Z"], ["M", e2, h5], ["L", e2, this.chartHeight], ["L", k2, this.chartHeight], ["L", k2, h5], ["Z"]] : [["M", 0, 0]];
          this.redrawTrigger !== "adjustHeight" && this.scrollableMask.attr({ d: d2 });
        };
        z2(h4, "afterInit", function() {
          this.chart.scrollableDirty = true;
        });
        z2(E3, "show", function() {
          this.chart.scrollableDirty = true;
        });
        "";
      });
      M2(h3, "Core/Axis/StackingAxis.js", [h3["Core/Animation/AnimationUtilities.js"], h3["Core/Axis/Axis.js"], h3["Core/Utilities.js"]], function(e, h4, A) {
        var D3 = e.getDeferredAnimation, v = A.addEvent, H2 = A.destroyObjectProperties, I2 = A.fireEvent, z2 = A.isNumber, q3 = A.objectEach, l3;
        (function(f2) {
          function d2() {
            var a5 = this.stacking;
            if (a5) {
              var d3 = a5.stacks;
              q3(d3, function(a6, f3) {
                H2(a6);
                d3[f3] = null;
              });
              a5 && a5.stackTotalGroup && a5.stackTotalGroup.destroy();
            }
          }
          function a4() {
            this.stacking || (this.stacking = new k2(this));
          }
          var e2 = [];
          f2.compose = function(f3) {
            e2.indexOf(f3) === -1 && (e2.push(f3), v(f3, "init", a4), v(f3, "destroy", d2));
            return f3;
          };
          var k2 = function() {
            function a5(a6) {
              this.oldStacks = {};
              this.stacks = {};
              this.stacksTouched = 0;
              this.axis = a6;
            }
            a5.prototype.buildStacks = function() {
              var a6 = this.axis, d3 = a6.series, f3 = a6.options.reversedStacks, e3 = d3.length, k3;
              if (!a6.isXAxis) {
                this.usePercentage = false;
                for (k3 = e3; k3--; ) {
                  var l4 = d3[f3 ? k3 : e3 - k3 - 1];
                  l4.setStackedPoints();
                  l4.setGroupedPoints();
                }
                for (k3 = 0; k3 < e3; k3++)
                  d3[k3].modifyStacks();
                I2(a6, "afterBuildStacks");
              }
            };
            a5.prototype.cleanStacks = function() {
              if (!this.axis.isXAxis) {
                if (this.oldStacks)
                  var a6 = this.stacks = this.oldStacks;
                q3(a6, function(a7) {
                  q3(a7, function(a8) {
                    a8.cumulative = a8.total;
                  });
                });
              }
            };
            a5.prototype.resetStacks = function() {
              var a6 = this, d3 = a6.stacks;
              a6.axis.isXAxis || q3(d3, function(d4) {
                q3(d4, function(f3, e3) {
                  z2(f3.touched) && f3.touched < a6.stacksTouched ? (f3.destroy(), delete d4[e3]) : (f3.total = null, f3.cumulative = null);
                });
              });
            };
            a5.prototype.renderStackTotals = function() {
              var a6 = this.axis, d3 = a6.chart, f3 = d3.renderer, e3 = this.stacks;
              a6 = D3(d3, a6.options.stackLabels && a6.options.stackLabels.animation || false);
              var k3 = this.stackTotalGroup = this.stackTotalGroup || f3.g("stack-labels").attr({ visibility: "visible", zIndex: 6, opacity: 0 }).add();
              k3.translate(d3.plotLeft, d3.plotTop);
              q3(e3, function(a7) {
                q3(a7, function(a8) {
                  a8.render(k3);
                });
              });
              k3.animate({ opacity: 1 }, a6);
            };
            return a5;
          }();
          f2.Additions = k2;
        })(l3 || (l3 = {}));
        return l3;
      });
      M2(h3, "Extensions/Stacking.js", [h3["Core/Axis/Axis.js"], h3["Core/Chart/Chart.js"], h3["Core/FormatUtilities.js"], h3["Core/Globals.js"], h3["Core/Series/Series.js"], h3["Core/Axis/StackingAxis.js"], h3["Core/Utilities.js"]], function(e, h4, A, E3, v, H2, I2) {
        var z2 = A.format, q3 = I2.correctFloat, l3 = I2.defined, f2 = I2.destroyObjectProperties, d2 = I2.isArray, a4 = I2.isNumber, p2 = I2.objectEach, k2 = I2.pick, F2 = function() {
          function d3(a5, d4, f3, e2, k3) {
            var l4 = a5.chart.inverted;
            this.axis = a5;
            this.isNegative = f3;
            this.options = d4 = d4 || {};
            this.x = e2;
            this.total = null;
            this.points = {};
            this.hasValidPoints = false;
            this.stack = k3;
            this.rightCliff = this.leftCliff = 0;
            this.alignOptions = { align: d4.align || (l4 ? f3 ? "left" : "right" : "center"), verticalAlign: d4.verticalAlign || (l4 ? "middle" : f3 ? "bottom" : "top"), y: d4.y, x: d4.x };
            this.textAlign = d4.textAlign || (l4 ? f3 ? "right" : "left" : "center");
          }
          d3.prototype.destroy = function() {
            f2(this, this.axis);
          };
          d3.prototype.render = function(a5) {
            var d4 = this.axis.chart, f3 = this.options, e2 = f3.format;
            e2 = e2 ? z2(e2, this, d4) : f3.formatter.call(this);
            this.label ? this.label.attr({
              text: e2,
              visibility: "hidden"
            }) : (this.label = d4.renderer.label(e2, null, null, f3.shape, null, null, f3.useHTML, false, "stack-labels"), e2 = { r: f3.borderRadius || 0, text: e2, rotation: f3.rotation, padding: k2(f3.padding, 5), visibility: "hidden" }, d4.styledMode || (e2.fill = f3.backgroundColor, e2.stroke = f3.borderColor, e2["stroke-width"] = f3.borderWidth, this.label.css(f3.style)), this.label.attr(e2), this.label.added || this.label.add(a5));
            this.label.labelrank = d4.plotSizeY;
          };
          d3.prototype.setOffset = function(d4, f3, e2, p3, h5) {
            var x3 = this.axis, c3 = x3.chart;
            p3 = x3.translate(x3.stacking.usePercentage ? 100 : p3 ? p3 : this.total, 0, 0, 0, 1);
            e2 = x3.translate(e2 ? e2 : 0);
            e2 = l3(p3) && Math.abs(p3 - e2);
            d4 = k2(h5, c3.xAxis[0].translate(this.x)) + d4;
            x3 = l3(p3) && this.getStackBox(c3, this, d4, p3, f3, e2, x3);
            f3 = this.label;
            e2 = this.isNegative;
            d4 = k2(this.options.overflow, "justify") === "justify";
            var t2 = this.textAlign;
            f3 && x3 && (h5 = f3.getBBox(), p3 = f3.padding, t2 = t2 === "left" ? c3.inverted ? -p3 : p3 : t2 === "right" ? h5.width : c3.inverted && t2 === "center" ? h5.width / 2 : c3.inverted ? e2 ? h5.width + p3 : -p3 : h5.width / 2, e2 = c3.inverted ? h5.height / 2 : e2 ? -p3 : h5.height, this.alignOptions.x = k2(this.options.x, 0), this.alignOptions.y = k2(this.options.y, 0), x3.x -= t2, x3.y -= e2, f3.align(this.alignOptions, null, x3), c3.isInsidePlot(f3.alignAttr.x + t2 - this.alignOptions.x, f3.alignAttr.y + e2 - this.alignOptions.y) ? f3.show() : (f3.alignAttr.y = -9999, d4 = false), d4 && v.prototype.justifyDataLabel.call(this.axis, f3, this.alignOptions, f3.alignAttr, h5, x3), f3.attr({ x: f3.alignAttr.x, y: f3.alignAttr.y }), k2(!d4 && this.options.crop, true) && ((c3 = a4(f3.x) && a4(f3.y) && c3.isInsidePlot(f3.x - p3 + f3.width, f3.y) && c3.isInsidePlot(f3.x + p3, f3.y)) || f3.hide()));
          };
          d3.prototype.getStackBox = function(a5, d4, f3, e2, k3, l4, c3) {
            var p3 = d4.axis.reversed, g2 = a5.inverted, h5 = c3.height + c3.pos - (g2 ? a5.plotLeft : a5.plotTop);
            d4 = d4.isNegative && !p3 || !d4.isNegative && p3;
            return { x: g2 ? d4 ? e2 - c3.right : e2 - l4 + c3.pos - a5.plotLeft : f3 + a5.xAxis[0].transB - a5.plotLeft, y: g2 ? c3.height - f3 - k3 : d4 ? h5 - e2 - l4 : h5 - e2, width: g2 ? l4 : k3, height: g2 ? k3 : l4 };
          };
          return d3;
        }();
        h4.prototype.getStacks = function() {
          var a5 = this, d3 = a5.inverted;
          a5.yAxis.forEach(function(a6) {
            a6.stacking && a6.stacking.stacks && a6.hasVisibleSeries && (a6.stacking.oldStacks = a6.stacking.stacks);
          });
          a5.series.forEach(function(f3) {
            var e2 = f3.xAxis && f3.xAxis.options || {};
            !f3.options.stacking || f3.visible !== true && a5.options.chart.ignoreHiddenSeries !== false || (f3.stackKey = [f3.type, k2(f3.options.stack, ""), d3 ? e2.top : e2.left, d3 ? e2.height : e2.width].join());
          });
        };
        H2.compose(e);
        v.prototype.setGroupedPoints = function() {
          var a5 = this.yAxis.stacking;
          this.options.centerInCategory && (this.is("column") || this.is("columnrange")) && !this.options.stacking && 1 < this.chart.series.length ? v.prototype.setStackedPoints.call(this, "group") : a5 && p2(a5.stacks, function(d3, f3) {
            f3.slice(-5) === "group" && (p2(d3, function(a6) {
              return a6.destroy();
            }), delete a5.stacks[f3]);
          });
        };
        v.prototype.setStackedPoints = function(a5) {
          var f3 = a5 || this.options.stacking;
          if (f3 && (this.visible === true || this.chart.options.chart.ignoreHiddenSeries === false)) {
            var e2 = this.processedXData, p3 = this.processedYData, h5 = [], C2 = p3.length, x3 = this.options, c3 = x3.threshold, t2 = k2(x3.startFromThreshold && c3, 0);
            x3 = x3.stack;
            a5 = a5 ? this.type + "," + f3 : this.stackKey;
            var g2 = "-" + a5, u4 = this.negStacks, n2 = this.yAxis, b3 = n2.stacking.stacks, r3 = n2.stacking.oldStacks, G2, m2;
            n2.stacking.stacksTouched += 1;
            for (m2 = 0; m2 < C2; m2++) {
              var w2 = e2[m2];
              var N3 = p3[m2];
              var B = this.getStackIndicator(B, w2, this.index);
              var v2 = B.key;
              var O3 = (G2 = u4 && N3 < (t2 ? 0 : c3)) ? g2 : a5;
              b3[O3] || (b3[O3] = {});
              b3[O3][w2] || (r3[O3] && r3[O3][w2] ? (b3[O3][w2] = r3[O3][w2], b3[O3][w2].total = null) : b3[O3][w2] = new F2(n2, n2.options.stackLabels, G2, w2, x3));
              O3 = b3[O3][w2];
              N3 !== null ? (O3.points[v2] = O3.points[this.index] = [k2(O3.cumulative, t2)], l3(O3.cumulative) || (O3.base = v2), O3.touched = n2.stacking.stacksTouched, 0 < B.index && this.singleStacks === false && (O3.points[v2][0] = O3.points[this.index + "," + w2 + ",0"][0])) : O3.points[v2] = O3.points[this.index] = null;
              f3 === "percent" ? (G2 = G2 ? a5 : g2, u4 && b3[G2] && b3[G2][w2] ? (G2 = b3[G2][w2], O3.total = G2.total = Math.max(G2.total, O3.total) + Math.abs(N3) || 0) : O3.total = q3(O3.total + (Math.abs(N3) || 0))) : f3 === "group" ? (d2(N3) && (N3 = N3[0]), N3 !== null && (O3.total = (O3.total || 0) + 1)) : O3.total = q3(O3.total + (N3 || 0));
              O3.cumulative = f3 === "group" ? (O3.total || 1) - 1 : k2(O3.cumulative, t2) + (N3 || 0);
              N3 !== null && (O3.points[v2].push(O3.cumulative), h5[m2] = O3.cumulative, O3.hasValidPoints = true);
            }
            f3 === "percent" && (n2.stacking.usePercentage = true);
            f3 !== "group" && (this.stackedYData = h5);
            n2.stacking.oldStacks = {};
          }
        };
        v.prototype.modifyStacks = function() {
          var a5 = this, d3 = a5.stackKey, f3 = a5.yAxis.stacking.stacks, e2 = a5.processedXData, k3, l4 = a5.options.stacking;
          a5[l4 + "Stacker"] && [d3, "-" + d3].forEach(function(d4) {
            for (var c3 = e2.length, p3, g2; c3--; )
              if (p3 = e2[c3], k3 = a5.getStackIndicator(k3, p3, a5.index, d4), g2 = (p3 = f3[d4] && f3[d4][p3]) && p3.points[k3.key])
                a5[l4 + "Stacker"](g2, p3, c3);
          });
        };
        v.prototype.percentStacker = function(a5, d3, f3) {
          d3 = d3.total ? 100 / d3.total : 0;
          a5[0] = q3(a5[0] * d3);
          a5[1] = q3(a5[1] * d3);
          this.stackedYData[f3] = a5[1];
        };
        v.prototype.getStackIndicator = function(a5, d3, f3, e2) {
          !l3(a5) || a5.x !== d3 || e2 && a5.key !== e2 ? a5 = { x: d3, index: 0, key: e2 } : a5.index++;
          a5.key = [f3, d3, a5.index].join();
          return a5;
        };
        E3.StackItem = F2;
        "";
        return E3.StackItem;
      });
      M2(h3, "Series/Line/LineSeries.js", [h3["Core/Series/Series.js"], h3["Core/Series/SeriesRegistry.js"], h3["Core/Utilities.js"]], function(e, h4, A) {
        var D3 = this && this.__extends || function() {
          var e2 = function(h5, q3) {
            e2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e3, f2) {
              e3.__proto__ = f2;
            } || function(e3, f2) {
              for (var d2 in f2)
                f2.hasOwnProperty(d2) && (e3[d2] = f2[d2]);
            };
            return e2(h5, q3);
          };
          return function(h5, q3) {
            function l3() {
              this.constructor = h5;
            }
            e2(h5, q3);
            h5.prototype = q3 === null ? Object.create(q3) : (l3.prototype = q3.prototype, new l3());
          };
        }(), v = A.defined, H2 = A.merge;
        A = function(h5) {
          function z2() {
            var e2 = h5 !== null && h5.apply(this, arguments) || this;
            e2.data = void 0;
            e2.options = void 0;
            e2.points = void 0;
            return e2;
          }
          D3(z2, h5);
          z2.prototype.drawGraph = function() {
            var e2 = this, l3 = this.options, f2 = (this.gappedPath || this.getGraphPath).call(this), d2 = this.chart.styledMode, a4 = [["graph", "highcharts-graph"]];
            d2 || a4[0].push(l3.lineColor || this.color || "#cccccc", l3.dashStyle);
            a4 = e2.getZonesGraphs(a4);
            a4.forEach(function(a5, k2) {
              var p2 = a5[0], h6 = e2[p2], q3 = h6 ? "animate" : "attr";
              h6 ? (h6.endX = e2.preventGraphAnimation ? null : f2.xMap, h6.animate({ d: f2 })) : f2.length && (e2[p2] = h6 = e2.chart.renderer.path(f2).addClass(a5[1]).attr({ zIndex: 1 }).add(e2.group));
              h6 && !d2 && (p2 = { stroke: a5[2], "stroke-width": l3.lineWidth, fill: e2.fillGraph && e2.color || "none" }, a5[3] ? p2.dashstyle = a5[3] : l3.linecap !== "square" && (p2["stroke-linecap"] = p2["stroke-linejoin"] = "round"), h6[q3](p2).shadow(2 > k2 && l3.shadow));
              h6 && (h6.startX = f2.xMap, h6.isArea = f2.isArea);
            });
          };
          z2.prototype.getGraphPath = function(e2, l3, f2) {
            var d2 = this, a4 = d2.options, h6 = [], k2 = [], q3, B = a4.step;
            e2 = e2 || d2.points;
            var J2 = e2.reversed;
            J2 && e2.reverse();
            (B = { right: 1, center: 2 }[B] || B && 3) && J2 && (B = 4 - B);
            e2 = this.getValidPoints(e2, false, !(a4.connectNulls && !l3 && !f2));
            e2.forEach(function(p2, F2) {
              var y2 = p2.plotX, C2 = p2.plotY, x3 = e2[F2 - 1];
              (p2.leftCliff || x3 && x3.rightCliff) && !f2 && (q3 = true);
              p2.isNull && !v(l3) && 0 < F2 ? q3 = !a4.connectNulls : p2.isNull && !l3 ? q3 = true : (F2 === 0 || q3 ? F2 = [["M", p2.plotX, p2.plotY]] : d2.getPointSpline ? F2 = [d2.getPointSpline(e2, p2, F2)] : B ? (F2 = B === 1 ? [["L", x3.plotX, C2]] : B === 2 ? [["L", (x3.plotX + y2) / 2, x3.plotY], ["L", (x3.plotX + y2) / 2, C2]] : [["L", y2, x3.plotY]], F2.push(["L", y2, C2])) : F2 = [["L", y2, C2]], k2.push(p2.x), B && (k2.push(p2.x), B === 2 && k2.push(p2.x)), h6.push.apply(h6, F2), q3 = false);
            });
            h6.xMap = k2;
            return d2.graphPath = h6;
          };
          z2.prototype.getZonesGraphs = function(e2) {
            this.zones.forEach(function(l3, f2) {
              f2 = ["zone-graph-" + f2, "highcharts-graph highcharts-zone-graph-" + f2 + " " + (l3.className || "")];
              this.chart.styledMode || f2.push(l3.color || this.color, l3.dashStyle || this.options.dashStyle);
              e2.push(f2);
            }, this);
            return e2;
          };
          z2.defaultOptions = H2(e.defaultOptions, {});
          return z2;
        }(e);
        h4.registerSeriesType("line", A);
        "";
        return A;
      });
      M2(h3, "Series/Area/AreaSeries.js", [
        h3["Core/Color/Color.js"],
        h3["Core/Legend/LegendSymbol.js"],
        h3["Core/Series/SeriesRegistry.js"],
        h3["Core/Utilities.js"]
      ], function(e, h4, A, E3) {
        var v = this && this.__extends || function() {
          var f2 = function(d2, a4) {
            f2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(a5, d3) {
              a5.__proto__ = d3;
            } || function(a5, d3) {
              for (var f3 in d3)
                d3.hasOwnProperty(f3) && (a5[f3] = d3[f3]);
            };
            return f2(d2, a4);
          };
          return function(d2, a4) {
            function e2() {
              this.constructor = d2;
            }
            f2(d2, a4);
            d2.prototype = a4 === null ? Object.create(a4) : (e2.prototype = a4.prototype, new e2());
          };
        }(), D3 = e.parse, I2 = A.seriesTypes.line;
        e = E3.extend;
        var z2 = E3.merge, q3 = E3.objectEach, l3 = E3.pick;
        E3 = function(f2) {
          function d2() {
            var a4 = f2 !== null && f2.apply(this, arguments) || this;
            a4.data = void 0;
            a4.options = void 0;
            a4.points = void 0;
            return a4;
          }
          v(d2, f2);
          d2.prototype.drawGraph = function() {
            this.areaPath = [];
            f2.prototype.drawGraph.apply(this);
            var a4 = this, d3 = this.areaPath, e2 = this.options, h5 = [["area", "highcharts-area", this.color, e2.fillColor]];
            this.zones.forEach(function(d4, f3) {
              h5.push(["zone-area-" + f3, "highcharts-area highcharts-zone-area-" + f3 + " " + d4.className, d4.color || a4.color, d4.fillColor || e2.fillColor]);
            });
            h5.forEach(function(f3) {
              var k2 = f3[0], h6 = a4[k2], p2 = h6 ? "animate" : "attr", q4 = {};
              h6 ? (h6.endX = a4.preventGraphAnimation ? null : d3.xMap, h6.animate({ d: d3 })) : (q4.zIndex = 0, h6 = a4[k2] = a4.chart.renderer.path(d3).addClass(f3[1]).add(a4.group), h6.isArea = true);
              a4.chart.styledMode || (q4.fill = l3(f3[3], D3(f3[2]).setOpacity(l3(e2.fillOpacity, 0.75)).get()));
              h6[p2](q4);
              h6.startX = d3.xMap;
              h6.shiftUnit = e2.step ? 2 : 1;
            });
          };
          d2.prototype.getGraphPath = function(a4) {
            var d3 = I2.prototype.getGraphPath, f3 = this.options, e2 = f3.stacking, h5 = this.yAxis, q4, v2 = [], z3 = [], y2 = this.index, C2 = h5.stacking.stacks[this.stackKey], x3 = f3.threshold, c3 = Math.round(h5.getThreshold(f3.threshold));
            f3 = l3(f3.connectNulls, e2 === "percent");
            var t2 = function(b3, d4, f4) {
              var g3 = a4[b3];
              b3 = e2 && C2[g3.x].points[y2];
              var n3 = g3[f4 + "Null"] || 0;
              f4 = g3[f4 + "Cliff"] || 0;
              g3 = true;
              if (f4 || n3) {
                var r3 = (n3 ? b3[0] : b3[1]) + f4;
                var k2 = b3[0] + f4;
                g3 = !!n3;
              } else
                !e2 && a4[d4] && a4[d4].isNull && (r3 = k2 = x3);
              typeof r3 !== "undefined" && (z3.push({ plotX: u4, plotY: r3 === null ? c3 : h5.getThreshold(r3), isNull: g3, isCliff: true }), v2.push({ plotX: u4, plotY: k2 === null ? c3 : h5.getThreshold(k2), doCurve: false }));
            };
            a4 = a4 || this.points;
            e2 && (a4 = this.getStackPoints(a4));
            for (q4 = 0; q4 < a4.length; q4++) {
              e2 || (a4[q4].leftCliff = a4[q4].rightCliff = a4[q4].leftNull = a4[q4].rightNull = void 0);
              var g2 = a4[q4].isNull;
              var u4 = l3(a4[q4].rectPlotX, a4[q4].plotX);
              var n2 = e2 ? l3(a4[q4].yBottom, c3) : c3;
              if (!g2 || f3)
                f3 || t2(q4, q4 - 1, "left"), g2 && !e2 && f3 || (z3.push(a4[q4]), v2.push({ x: q4, plotX: u4, plotY: n2 })), f3 || t2(q4, q4 + 1, "right");
            }
            q4 = d3.call(this, z3, true, true);
            v2.reversed = true;
            g2 = d3.call(this, v2, true, true);
            (n2 = g2[0]) && n2[0] === "M" && (g2[0] = ["L", n2[1], n2[2]]);
            g2 = q4.concat(g2);
            g2.length && g2.push(["Z"]);
            d3 = d3.call(this, z3, false, f3);
            g2.xMap = q4.xMap;
            this.areaPath = g2;
            return d3;
          };
          d2.prototype.getStackPoints = function(a4) {
            var d3 = this, f3 = [], e2 = [], h5 = this.xAxis, v2 = this.yAxis, z3 = v2.stacking.stacks[this.stackKey], D4 = {}, y2 = v2.series, C2 = y2.length, x3 = v2.options.reversedStacks ? 1 : -1, c3 = y2.indexOf(d3);
            a4 = a4 || this.points;
            if (this.options.stacking) {
              for (var t2 = 0; t2 < a4.length; t2++)
                a4[t2].leftNull = a4[t2].rightNull = void 0, D4[a4[t2].x] = a4[t2];
              q3(z3, function(c4, a5) {
                c4.total !== null && e2.push(a5);
              });
              e2.sort(function(c4, a5) {
                return c4 - a5;
              });
              var g2 = y2.map(function(c4) {
                return c4.visible;
              });
              e2.forEach(function(a5, n2) {
                var b3 = 0, r3, k2;
                if (D4[a5] && !D4[a5].isNull)
                  f3.push(D4[a5]), [-1, 1].forEach(function(b4) {
                    var f4 = b4 === 1 ? "rightNull" : "leftNull", m3 = 0, w2 = z3[e2[n2 + b4]];
                    if (w2)
                      for (var h6 = c3; 0 <= h6 && h6 < C2; ) {
                        var l4 = y2[h6].index;
                        r3 = w2.points[l4];
                        r3 || (l4 === d3.index ? D4[a5][f4] = true : g2[h6] && (k2 = z3[a5].points[l4]) && (m3 -= k2[1] - k2[0]));
                        h6 += x3;
                      }
                    D4[a5][b4 === 1 ? "rightCliff" : "leftCliff"] = m3;
                  });
                else {
                  for (var m2 = c3; 0 <= m2 && m2 < C2; ) {
                    if (r3 = z3[a5].points[y2[m2].index]) {
                      b3 = r3[1];
                      break;
                    }
                    m2 += x3;
                  }
                  b3 = l3(b3, 0);
                  b3 = v2.translate(b3, 0, 1, 0, 1);
                  f3.push({ isNull: true, plotX: h5.translate(a5, 0, 0, 0, 1), x: a5, plotY: b3, yBottom: b3 });
                }
              });
            }
            return f3;
          };
          d2.defaultOptions = z2(I2.defaultOptions, { threshold: 0 });
          return d2;
        }(I2);
        e(E3.prototype, {
          singleStacks: false,
          drawLegendSymbol: h4.drawRectangle
        });
        A.registerSeriesType("area", E3);
        "";
        return E3;
      });
      M2(h3, "Series/Spline/SplineSeries.js", [h3["Core/Series/SeriesRegistry.js"], h3["Core/Utilities.js"]], function(e, h4) {
        var D3 = this && this.__extends || function() {
          var e2 = function(h5, q3) {
            e2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e3, f2) {
              e3.__proto__ = f2;
            } || function(e3, f2) {
              for (var d2 in f2)
                f2.hasOwnProperty(d2) && (e3[d2] = f2[d2]);
            };
            return e2(h5, q3);
          };
          return function(h5, q3) {
            function l3() {
              this.constructor = h5;
            }
            e2(h5, q3);
            h5.prototype = q3 === null ? Object.create(q3) : (l3.prototype = q3.prototype, new l3());
          };
        }(), E3 = e.seriesTypes.line, v = h4.merge, H2 = h4.pick;
        h4 = function(e2) {
          function h5() {
            var h6 = e2 !== null && e2.apply(this, arguments) || this;
            h6.data = void 0;
            h6.options = void 0;
            h6.points = void 0;
            return h6;
          }
          D3(h5, e2);
          h5.prototype.getPointSpline = function(e3, h6, f2) {
            var d2 = h6.plotX || 0, a4 = h6.plotY || 0, l3 = e3[f2 - 1];
            f2 = e3[f2 + 1];
            if (l3 && !l3.isNull && l3.doCurve !== false && !h6.isCliff && f2 && !f2.isNull && f2.doCurve !== false && !h6.isCliff) {
              e3 = l3.plotY || 0;
              var k2 = f2.plotX || 0;
              f2 = f2.plotY || 0;
              var q3 = 0;
              var B = (1.5 * d2 + (l3.plotX || 0)) / 2.5;
              var v2 = (1.5 * a4 + e3) / 2.5;
              k2 = (1.5 * d2 + k2) / 2.5;
              var z2 = (1.5 * a4 + f2) / 2.5;
              k2 !== B && (q3 = (z2 - v2) * (k2 - d2) / (k2 - B) + a4 - z2);
              v2 += q3;
              z2 += q3;
              v2 > e3 && v2 > a4 ? (v2 = Math.max(e3, a4), z2 = 2 * a4 - v2) : v2 < e3 && v2 < a4 && (v2 = Math.min(e3, a4), z2 = 2 * a4 - v2);
              z2 > f2 && z2 > a4 ? (z2 = Math.max(f2, a4), v2 = 2 * a4 - z2) : z2 < f2 && z2 < a4 && (z2 = Math.min(f2, a4), v2 = 2 * a4 - z2);
              h6.rightContX = k2;
              h6.rightContY = z2;
            }
            h6 = ["C", H2(l3.rightContX, l3.plotX, 0), H2(l3.rightContY, l3.plotY, 0), H2(B, d2, 0), H2(v2, a4, 0), d2, a4];
            l3.rightContX = l3.rightContY = void 0;
            return h6;
          };
          h5.defaultOptions = v(E3.defaultOptions);
          return h5;
        }(E3);
        e.registerSeriesType("spline", h4);
        "";
        return h4;
      });
      M2(h3, "Series/AreaSpline/AreaSplineSeries.js", [h3["Series/Area/AreaSeries.js"], h3["Series/Spline/SplineSeries.js"], h3["Core/Legend/LegendSymbol.js"], h3["Core/Series/SeriesRegistry.js"], h3["Core/Utilities.js"]], function(e, h4, A, E3, v) {
        var D3 = this && this.__extends || function() {
          var e2 = function(f2, d2) {
            e2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(a4, d3) {
              a4.__proto__ = d3;
            } || function(a4, d3) {
              for (var f3 in d3)
                d3.hasOwnProperty(f3) && (a4[f3] = d3[f3]);
            };
            return e2(f2, d2);
          };
          return function(f2, d2) {
            function a4() {
              this.constructor = f2;
            }
            e2(f2, d2);
            f2.prototype = d2 === null ? Object.create(d2) : (a4.prototype = d2.prototype, new a4());
          };
        }(), I2 = e.prototype, z2 = v.extend, q3 = v.merge;
        v = function(l3) {
          function f2() {
            var d2 = l3 !== null && l3.apply(this, arguments) || this;
            d2.data = void 0;
            d2.points = void 0;
            d2.options = void 0;
            return d2;
          }
          D3(f2, l3);
          f2.defaultOptions = q3(h4.defaultOptions, e.defaultOptions);
          return f2;
        }(h4);
        z2(v.prototype, { getGraphPath: I2.getGraphPath, getStackPoints: I2.getStackPoints, drawGraph: I2.drawGraph, drawLegendSymbol: A.drawRectangle });
        E3.registerSeriesType("areaspline", v);
        "";
        return v;
      });
      M2(h3, "Series/Column/ColumnSeries.js", [
        h3["Core/Animation/AnimationUtilities.js"],
        h3["Core/Color/Color.js"],
        h3["Core/Globals.js"],
        h3["Core/Legend/LegendSymbol.js"],
        h3["Core/Series/Series.js"],
        h3["Core/Series/SeriesRegistry.js"],
        h3["Core/Utilities.js"]
      ], function(e, h4, A, E3, v, H2, I2) {
        var z2 = this && this.__extends || function() {
          var a5 = function(d3, c3) {
            a5 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(c4, a6) {
              c4.__proto__ = a6;
            } || function(c4, a6) {
              for (var d4 in a6)
                a6.hasOwnProperty(d4) && (c4[d4] = a6[d4]);
            };
            return a5(d3, c3);
          };
          return function(d3, c3) {
            function f3() {
              this.constructor = d3;
            }
            a5(d3, c3);
            d3.prototype = c3 === null ? Object.create(c3) : (f3.prototype = c3.prototype, new f3());
          };
        }(), q3 = e.animObject, l3 = h4.parse, f2 = A.hasTouch;
        e = A.noop;
        var d2 = I2.clamp, a4 = I2.css, p2 = I2.defined, k2 = I2.extend, F2 = I2.fireEvent, B = I2.isArray, J2 = I2.isNumber, D3 = I2.merge, L3 = I2.pick, y2 = I2.objectEach;
        I2 = function(e2) {
          function h5() {
            var c3 = e2 !== null && e2.apply(this, arguments) || this;
            c3.borderWidth = void 0;
            c3.data = void 0;
            c3.group = void 0;
            c3.options = void 0;
            c3.points = void 0;
            return c3;
          }
          z2(h5, e2);
          h5.prototype.animate = function(c3) {
            var a5 = this, f3 = this.yAxis, e3 = a5.options, n2 = this.chart.inverted, b3 = {}, r3 = n2 ? "translateX" : "translateY";
            if (c3)
              b3.scaleY = 1e-3, c3 = d2(f3.toPixels(e3.threshold), f3.pos, f3.pos + f3.len), n2 ? b3.translateX = c3 - f3.len : b3.translateY = c3, a5.clipBox && a5.setClip(), a5.group.attr(b3);
            else {
              var h6 = Number(a5.group.attr(r3));
              a5.group.animate({ scaleY: 1 }, k2(q3(a5.options.animation), { step: function(c4, d3) {
                a5.group && (b3[r3] = h6 + d3.pos * (f3.pos - h6), a5.group.attr(b3));
              } }));
            }
          };
          h5.prototype.init = function(c3, a5) {
            e2.prototype.init.apply(this, arguments);
            var d3 = this;
            c3 = d3.chart;
            c3.hasRendered && c3.series.forEach(function(c4) {
              c4.type === d3.type && (c4.isDirty = true);
            });
          };
          h5.prototype.getColumnMetrics = function() {
            var c3 = this, a5 = c3.options, d3 = c3.xAxis, f3 = c3.yAxis, e3 = d3.options.reversedStacks;
            e3 = d3.reversed && !e3 || !d3.reversed && e3;
            var b3 = {}, r3, k3 = 0;
            a5.grouping === false ? k3 = 1 : c3.chart.series.forEach(function(a6) {
              var d4 = a6.yAxis, g2 = a6.options;
              if (a6.type === c3.type && (a6.visible || !c3.chart.options.chart.ignoreHiddenSeries) && f3.len === d4.len && f3.pos === d4.pos) {
                if (g2.stacking && g2.stacking !== "group") {
                  r3 = a6.stackKey;
                  typeof b3[r3] === "undefined" && (b3[r3] = k3++);
                  var e4 = b3[r3];
                } else
                  g2.grouping !== false && (e4 = k3++);
                a6.columnIndex = e4;
              }
            });
            var m2 = Math.min(Math.abs(d3.transA) * (d3.ordinal && d3.ordinal.slope || a5.pointRange || d3.closestPointRange || d3.tickInterval || 1), d3.len), h6 = m2 * a5.groupPadding, l4 = (m2 - 2 * h6) / (k3 || 1);
            a5 = Math.min(a5.maxPointWidth || d3.len, L3(a5.pointWidth, l4 * (1 - 2 * a5.pointPadding)));
            c3.columnMetrics = { width: a5, offset: (l4 - a5) / 2 + (h6 + ((c3.columnIndex || 0) + (e3 ? 1 : 0)) * l4 - m2 / 2) * (e3 ? -1 : 1), paddedWidth: l4, columnCount: k3 };
            return c3.columnMetrics;
          };
          h5.prototype.crispCol = function(c3, a5, d3, f3) {
            var g2 = this.chart, b3 = this.borderWidth, e3 = -(b3 % 2 ? 0.5 : 0);
            b3 = b3 % 2 ? 0.5 : 1;
            g2.inverted && g2.renderer.isVML && (b3 += 1);
            this.options.crisp && (d3 = Math.round(c3 + d3) + e3, c3 = Math.round(c3) + e3, d3 -= c3);
            f3 = Math.round(a5 + f3) + b3;
            e3 = 0.5 >= Math.abs(a5) && 0.5 < f3;
            a5 = Math.round(a5) + b3;
            f3 -= a5;
            e3 && f3 && (--a5, f3 += 1);
            return { x: c3, y: a5, width: d3, height: f3 };
          };
          h5.prototype.adjustForMissingColumns = function(c3, a5, d3, f3) {
            var g2 = this, b3 = this.options.stacking;
            if (!d3.isNull && 1 < f3.columnCount) {
              var e3 = 0, k3 = 0;
              y2(this.yAxis.stacking && this.yAxis.stacking.stacks, function(c4) {
                if (typeof d3.x === "number" && (c4 = c4[d3.x.toString()])) {
                  var a6 = c4.points[g2.index], f4 = c4.total;
                  b3 ? (a6 && (e3 = k3), c4.hasValidPoints && k3++) : B(a6) && (e3 = a6[1], k3 = f4 || 0);
                }
              });
              c3 = (d3.plotX || 0) + ((k3 - 1) * f3.paddedWidth + a5) / 2 - a5 - e3 * f3.paddedWidth;
            }
            return c3;
          };
          h5.prototype.translate = function() {
            var c3 = this, a5 = c3.chart, f3 = c3.options, e3 = c3.dense = 2 > c3.closestPointRange * c3.xAxis.transA;
            e3 = c3.borderWidth = L3(f3.borderWidth, e3 ? 0 : 1);
            var n2 = c3.xAxis, b3 = c3.yAxis, r3 = f3.threshold, k3 = c3.translatedThreshold = b3.getThreshold(r3), m2 = L3(f3.minPointLength, 5), h6 = c3.getColumnMetrics(), l4 = h6.width, x3 = c3.pointXOffset = h6.offset, q4 = c3.dataMin, y3 = c3.dataMax, C2 = c3.barW = Math.max(l4, 1 + 2 * e3);
            a5.inverted && (k3 -= 0.5);
            f3.pointPadding && (C2 = Math.ceil(C2));
            v.prototype.translate.apply(c3);
            c3.points.forEach(function(g2) {
              var e4 = L3(g2.yBottom, k3), w2 = 999 + Math.abs(e4), t2 = g2.plotX || 0;
              w2 = d2(g2.plotY, -w2, b3.len + w2);
              var u4 = Math.min(w2, e4), G2 = Math.max(w2, e4) - u4, N3 = l4, B2 = t2 + x3, F3 = C2;
              m2 && Math.abs(G2) < m2 && (G2 = m2, t2 = !b3.reversed && !g2.negative || b3.reversed && g2.negative, J2(r3) && J2(y3) && g2.y === r3 && y3 <= r3 && (b3.min || 0) < r3 && (q4 !== y3 || (b3.max || 0) <= r3) && (t2 = !t2), u4 = Math.abs(u4 - k3) > m2 ? e4 - m2 : k3 - (t2 ? m2 : 0));
              p2(g2.options.pointWidth) && (N3 = F3 = Math.ceil(g2.options.pointWidth), B2 -= Math.round((N3 - l4) / 2));
              f3.centerInCategory && (B2 = c3.adjustForMissingColumns(B2, N3, g2, h6));
              g2.barX = B2;
              g2.pointWidth = N3;
              g2.tooltipPos = a5.inverted ? [d2(b3.len + b3.pos - a5.plotLeft - w2, b3.pos - a5.plotLeft, b3.len + b3.pos - a5.plotLeft), n2.len + n2.pos - a5.plotTop - B2 - F3 / 2, G2] : [n2.left - a5.plotLeft + B2 + F3 / 2, d2(w2 + b3.pos - a5.plotTop, b3.pos - a5.plotTop, b3.len + b3.pos - a5.plotTop), G2];
              g2.shapeType = c3.pointClass.prototype.shapeType || "rect";
              g2.shapeArgs = c3.crispCol.apply(c3, g2.isNull ? [B2, k3, F3, 0] : [B2, u4, F3, G2]);
            });
          };
          h5.prototype.drawGraph = function() {
            this.group[this.dense ? "addClass" : "removeClass"]("highcharts-dense-data");
          };
          h5.prototype.pointAttribs = function(c3, a5) {
            var d3 = this.options, f3 = this.pointAttrToOptions || {}, e3 = f3.stroke || "borderColor", b3 = f3["stroke-width"] || "borderWidth", r3 = c3 && c3.color || this.color, k3 = c3 && c3[e3] || d3[e3] || r3;
            f3 = c3 && c3.options.dashStyle || d3.dashStyle;
            var m2 = c3 && c3[b3] || d3[b3] || this[b3] || 0, h6 = L3(c3 && c3.opacity, d3.opacity, 1);
            if (c3 && this.zones.length) {
              var p3 = c3.getZone();
              r3 = c3.options.color || p3 && (p3.color || c3.nonZonedColor) || this.color;
              p3 && (k3 = p3.borderColor || k3, f3 = p3.dashStyle || f3, m2 = p3.borderWidth || m2);
            }
            a5 && c3 && (c3 = D3(d3.states[a5], c3.options.states && c3.options.states[a5] || {}), a5 = c3.brightness, r3 = c3.color || typeof a5 !== "undefined" && l3(r3).brighten(c3.brightness).get() || r3, k3 = c3[e3] || k3, m2 = c3[b3] || m2, f3 = c3.dashStyle || f3, h6 = L3(c3.opacity, h6));
            e3 = { fill: r3, stroke: k3, "stroke-width": m2, opacity: h6 };
            f3 && (e3.dashstyle = f3);
            return e3;
          };
          h5.prototype.drawPoints = function() {
            var c3 = this, a5 = this.chart, d3 = c3.options, f3 = a5.renderer, e3 = d3.animationLimit || 250, b3;
            c3.points.forEach(function(g2) {
              var n2 = g2.graphic, m2 = !!n2, k3 = n2 && a5.pointCount < e3 ? "animate" : "attr";
              if (J2(g2.plotY) && g2.y !== null) {
                b3 = g2.shapeArgs;
                n2 && g2.hasNewShapeType() && (n2 = n2.destroy());
                c3.enabledDataSorting && (g2.startXPos = c3.xAxis.reversed ? -(b3 ? b3.width || 0 : 0) : c3.xAxis.width);
                n2 || (g2.graphic = n2 = f3[g2.shapeType](b3).add(g2.group || c3.group)) && c3.enabledDataSorting && a5.hasRendered && a5.pointCount < e3 && (n2.attr({ x: g2.startXPos }), m2 = true, k3 = "animate");
                if (n2 && m2)
                  n2[k3](D3(b3));
                if (d3.borderRadius)
                  n2[k3]({ r: d3.borderRadius });
                a5.styledMode || n2[k3](c3.pointAttribs(g2, g2.selected && "select")).shadow(g2.allowShadow !== false && d3.shadow, null, d3.stacking && !d3.borderRadius);
                n2 && (n2.addClass(g2.getClassName(), true), n2.attr({ visibility: g2.visible ? "inherit" : "hidden" }));
              } else
                n2 && (g2.graphic = n2.destroy());
            });
          };
          h5.prototype.drawTracker = function() {
            var c3 = this, d3 = c3.chart, g2 = d3.pointer, e3 = function(b3) {
              var c4 = g2.getPointFromEvent(b3);
              typeof c4 !== "undefined" && (g2.isDirectTouch = true, c4.onMouseOver(b3));
            }, n2;
            c3.points.forEach(function(b3) {
              n2 = B(b3.dataLabels) ? b3.dataLabels : b3.dataLabel ? [b3.dataLabel] : [];
              b3.graphic && (b3.graphic.element.point = b3);
              n2.forEach(function(c4) {
                c4.div ? c4.div.point = b3 : c4.element.point = b3;
              });
            });
            c3._hasTracking || (c3.trackerGroups.forEach(function(b3) {
              if (c3[b3]) {
                c3[b3].addClass("highcharts-tracker").on("mouseover", e3).on("mouseout", function(b4) {
                  g2.onTrackerMouseOut(b4);
                });
                if (f2)
                  c3[b3].on("touchstart", e3);
                !d3.styledMode && c3.options.cursor && c3[b3].css(a4).css({ cursor: c3.options.cursor });
              }
            }), c3._hasTracking = true);
            F2(this, "afterDrawTracker");
          };
          h5.prototype.remove = function() {
            var c3 = this, a5 = c3.chart;
            a5.hasRendered && a5.series.forEach(function(a6) {
              a6.type === c3.type && (a6.isDirty = true);
            });
            v.prototype.remove.apply(c3, arguments);
          };
          h5.defaultOptions = D3(v.defaultOptions, { borderRadius: 0, centerInCategory: false, groupPadding: 0.2, marker: null, pointPadding: 0.1, minPointLength: 0, cropThreshold: 50, pointRange: null, states: {
            hover: { halo: false, brightness: 0.1 },
            select: { color: "#cccccc", borderColor: "#000000" }
          }, dataLabels: { align: void 0, verticalAlign: void 0, y: void 0 }, startFromThreshold: true, stickyTracking: false, tooltip: { distance: 6 }, threshold: 0, borderColor: "#ffffff" });
          return h5;
        }(v);
        k2(I2.prototype, { cropShoulder: 0, directTouch: true, drawLegendSymbol: E3.drawRectangle, getSymbol: e, negStacks: true, trackerGroups: ["group", "dataLabelsGroup"] });
        H2.registerSeriesType("column", I2);
        "";
        "";
        return I2;
      });
      M2(h3, "Core/Series/DataLabel.js", [
        h3["Core/Animation/AnimationUtilities.js"],
        h3["Core/FormatUtilities.js"],
        h3["Core/Utilities.js"]
      ], function(e, h4, A) {
        var D3 = e.getDeferredAnimation, v = h4.format, H2 = A.defined, I2 = A.extend, z2 = A.fireEvent, q3 = A.isArray, l3 = A.merge, f2 = A.objectEach, d2 = A.pick, a4 = A.splat, p2;
        (function(e2) {
          function k2(a5, c3, f3, g2, e3) {
            var n2 = this, b3 = this.chart, k3 = this.isCartesian && b3.inverted, h6 = this.enabledDataSorting, m2 = d2(a5.dlBox && a5.dlBox.centerX, a5.plotX, -9999), w2 = d2(a5.plotY, -9999), l4 = c3.getBBox(), p4 = f3.rotation, t2 = f3.align, u4 = b3.isInsidePlot(m2, Math.round(w2), { inverted: k3, paneCoordinates: true, series: n2 }), x3 = function(b4) {
              h6 && n2.xAxis && !q4 && n2.setDataLabelStartPos(a5, c3, e3, u4, b4);
            }, q4 = d2(f3.overflow, h6 ? "none" : "justify") === "justify", y3 = this.visible && a5.visible !== false && (a5.series.forceDL || h6 && !q4 || u4 || d2(f3.inside, !!this.options.stacking) && g2 && b3.isInsidePlot(m2, k3 ? g2.x + 1 : g2.y + g2.height - 1, { inverted: k3, paneCoordinates: true, series: n2 }));
            if (y3) {
              var C3 = b3.renderer.fontMetrics(b3.styledMode ? void 0 : f3.style.fontSize, c3).b;
              g2 = I2({ x: k3 ? this.yAxis.len - w2 : m2, y: Math.round(k3 ? this.xAxis.len - m2 : w2), width: 0, height: 0 }, g2);
              I2(f3, { width: l4.width, height: l4.height });
              p4 ? (q4 = false, m2 = b3.renderer.rotCorr(C3, p4), m2 = { x: g2.x + (f3.x || 0) + g2.width / 2 + m2.x, y: g2.y + (f3.y || 0) + { top: 0, middle: 0.5, bottom: 1 }[f3.verticalAlign] * g2.height }, x3(m2), c3[e3 ? "attr" : "animate"](m2).attr({ align: t2 }), x3 = (p4 + 720) % 360, x3 = 180 < x3 && 360 > x3, t2 === "left" ? m2.y -= x3 ? l4.height : 0 : t2 === "center" ? (m2.x -= l4.width / 2, m2.y -= l4.height / 2) : t2 === "right" && (m2.x -= l4.width, m2.y -= x3 ? 0 : l4.height), c3.placed = true, c3.alignAttr = m2) : (x3(g2), c3.align(f3, void 0, g2), m2 = c3.alignAttr);
              q4 && 0 <= g2.height ? this.justifyDataLabel(c3, f3, m2, l4, g2, e3) : d2(f3.crop, true) && (y3 = b3.isInsidePlot(m2.x, m2.y, { paneCoordinates: true, series: n2 }) && b3.isInsidePlot(m2.x + l4.width, m2.y + l4.height, {
                paneCoordinates: true,
                series: n2
              }));
              if (f3.shape && !p4)
                c3[e3 ? "attr" : "animate"]({ anchorX: k3 ? b3.plotWidth - a5.plotY : a5.plotX, anchorY: k3 ? b3.plotHeight - a5.plotX : a5.plotY });
            }
            e3 && h6 && (c3.placed = false);
            y3 || h6 && !q4 || (c3.hide(true), c3.placed = false);
          }
          function h5(a5, c3) {
            var d3 = c3.filter;
            return d3 ? (c3 = d3.operator, a5 = a5[d3.property], d3 = d3.value, c3 === ">" && a5 > d3 || c3 === "<" && a5 < d3 || c3 === ">=" && a5 >= d3 || c3 === "<=" && a5 <= d3 || c3 === "==" && a5 == d3 || c3 === "===" && a5 === d3 ? true : false) : true;
          }
          function p3() {
            var e3 = this, c3 = e3.chart, k3 = e3.options, g2 = e3.points, l4 = e3.hasRendered || 0, n2 = c3.renderer, b3 = k3.dataLabels, r3, p4 = b3.animation;
            p4 = b3.defer ? D3(c3, p4, e3) : { defer: 0, duration: 0 };
            b3 = L3(L3(c3.options.plotOptions && c3.options.plotOptions.series && c3.options.plotOptions.series.dataLabels, c3.options.plotOptions && c3.options.plotOptions[e3.type] && c3.options.plotOptions[e3.type].dataLabels), b3);
            z2(this, "drawDataLabels");
            if (q3(b3) || b3.enabled || e3._hasPointLabels) {
              var m2 = e3.plotGroup("dataLabelsGroup", "data-labels", l4 ? "inherit" : "hidden", b3.zIndex || 6);
              m2.attr({ opacity: +l4 });
              !l4 && (l4 = e3.dataLabelsGroup) && (e3.visible && m2.show(true), l4[k3.animation ? "animate" : "attr"]({ opacity: 1 }, p4));
              g2.forEach(function(g3) {
                r3 = a4(L3(b3, g3.dlOptions || g3.options && g3.options.dataLabels));
                r3.forEach(function(b4, a5) {
                  var r4 = b4.enabled && (!g3.isNull || g3.dataLabelOnNull) && h5(g3, b4), l5 = g3.connectors ? g3.connectors[a5] : g3.connector, w2 = g3.dataLabels ? g3.dataLabels[a5] : g3.dataLabel, p5 = d2(b4.distance, g3.labelDistance), u4 = !w2;
                  if (r4) {
                    var t2 = g3.getLabelConfig();
                    var q4 = d2(b4[g3.formatPrefix + "Format"], b4.format);
                    t2 = H2(q4) ? v(q4, t2, c3) : (b4[g3.formatPrefix + "Formatter"] || b4.formatter).call(t2, b4);
                    q4 = b4.style;
                    var x3 = b4.rotation;
                    c3.styledMode || (q4.color = d2(b4.color, q4.color, e3.color, "#000000"), q4.color === "contrast" ? (g3.contrastColor = n2.getContrast(g3.color || e3.color), q4.color = !H2(p5) && b4.inside || 0 > p5 || k3.stacking ? g3.contrastColor : "#000000") : delete g3.contrastColor, k3.cursor && (q4.cursor = k3.cursor));
                    var G2 = { r: b4.borderRadius || 0, rotation: x3, padding: b4.padding, zIndex: 1 };
                    c3.styledMode || (G2.fill = b4.backgroundColor, G2.stroke = b4.borderColor, G2["stroke-width"] = b4.borderWidth);
                    f2(G2, function(b5, c4) {
                      typeof b5 === "undefined" && delete G2[c4];
                    });
                  }
                  !w2 || r4 && H2(t2) ? r4 && H2(t2) && (w2 ? G2.text = t2 : (g3.dataLabels = g3.dataLabels || [], w2 = g3.dataLabels[a5] = x3 ? n2.text(t2, 0, -9999, b4.useHTML).addClass("highcharts-data-label") : n2.label(t2, 0, -9999, b4.shape, null, null, b4.useHTML, null, "data-label"), a5 || (g3.dataLabel = w2), w2.addClass(" highcharts-data-label-color-" + g3.colorIndex + " " + (b4.className || "") + (b4.useHTML ? " highcharts-tracker" : ""))), w2.options = b4, w2.attr(G2), c3.styledMode || w2.css(q4).shadow(b4.shadow), w2.added || w2.add(m2), b4.textPath && !b4.useHTML && (w2.setTextPath(g3.getDataLabelPath && g3.getDataLabelPath(w2) || g3.graphic, b4.textPath), g3.dataLabelPath && !b4.textPath.enabled && (g3.dataLabelPath = g3.dataLabelPath.destroy())), e3.alignDataLabel(g3, w2, b4, null, u4)) : (g3.dataLabel = g3.dataLabel && g3.dataLabel.destroy(), g3.dataLabels && (g3.dataLabels.length === 1 ? delete g3.dataLabels : delete g3.dataLabels[a5]), a5 || delete g3.dataLabel, l5 && (g3.connector = g3.connector.destroy(), g3.connectors && (g3.connectors.length === 1 ? delete g3.connectors : delete g3.connectors[a5])));
                });
              });
            }
            z2(this, "afterDrawDataLabels");
          }
          function A2(a5, c3, d3, f3, e3, n2) {
            var b3 = this.chart, g2 = c3.align, k3 = c3.verticalAlign, m2 = a5.box ? 0 : a5.padding || 0, h6 = c3.x;
            h6 = h6 === void 0 ? 0 : h6;
            var l4 = c3.y;
            l4 = l4 === void 0 ? 0 : l4;
            var p4 = (d3.x || 0) + m2;
            if (0 > p4) {
              g2 === "right" && 0 <= h6 ? (c3.align = "left", c3.inside = true) : h6 -= p4;
              var u4 = true;
            }
            p4 = (d3.x || 0) + f3.width - m2;
            p4 > b3.plotWidth && (g2 === "left" && 0 >= h6 ? (c3.align = "right", c3.inside = true) : h6 += b3.plotWidth - p4, u4 = true);
            p4 = d3.y + m2;
            0 > p4 && (k3 === "bottom" && 0 <= l4 ? (c3.verticalAlign = "top", c3.inside = true) : l4 -= p4, u4 = true);
            p4 = (d3.y || 0) + f3.height - m2;
            p4 > b3.plotHeight && (k3 === "top" && 0 >= l4 ? (c3.verticalAlign = "bottom", c3.inside = true) : l4 += b3.plotHeight - p4, u4 = true);
            u4 && (c3.x = h6, c3.y = l4, a5.placed = !n2, a5.align(c3, void 0, e3));
            return u4;
          }
          function L3(a5, c3) {
            var d3 = [], f3;
            if (q3(a5) && !q3(c3))
              d3 = a5.map(function(a6) {
                return l3(a6, c3);
              });
            else if (q3(c3) && !q3(a5))
              d3 = c3.map(function(c4) {
                return l3(a5, c4);
              });
            else if (q3(a5) || q3(c3))
              for (f3 = Math.max(a5.length, c3.length); f3--; )
                d3[f3] = l3(a5[f3], c3[f3]);
            else
              d3 = l3(a5, c3);
            return d3;
          }
          function y2(a5, c3, d3, f3, e3) {
            var g2 = this.chart, b3 = g2.inverted, k3 = this.xAxis, h6 = k3.reversed, m2 = b3 ? c3.height / 2 : c3.width / 2;
            a5 = (a5 = a5.pointWidth) ? a5 / 2 : 0;
            c3.startXPos = b3 ? e3.x : h6 ? -m2 - a5 : k3.width - m2 + a5;
            c3.startYPos = b3 ? h6 ? this.yAxis.height - m2 + a5 : -m2 - a5 : e3.y;
            f3 ? c3.visibility === "hidden" && (c3.show(), c3.attr({ opacity: 0 }).animate({ opacity: 1 })) : c3.attr({ opacity: 1 }).animate({ opacity: 0 }, void 0, c3.hide);
            g2.hasRendered && (d3 && c3.attr({ x: c3.startXPos, y: c3.startYPos }), c3.placed = true);
          }
          var C2 = [];
          e2.compose = function(a5) {
            if (C2.indexOf(a5) === -1) {
              var c3 = a5.prototype;
              C2.push(a5);
              c3.alignDataLabel = k2;
              c3.drawDataLabels = p3;
              c3.justifyDataLabel = A2;
              c3.setDataLabelStartPos = y2;
            }
          };
        })(p2 || (p2 = {}));
        "";
        return p2;
      });
      M2(h3, "Series/Column/ColumnDataLabel.js", [h3["Core/Series/DataLabel.js"], h3["Core/Series/SeriesRegistry.js"], h3["Core/Utilities.js"]], function(e, h4, A) {
        var D3 = h4.series, v = A.merge, H2 = A.pick, I2;
        (function(h5) {
          function q3(f2, d2, a4, e2, k2) {
            var h6 = this.chart.inverted, l4 = f2.series, p2 = (l4.xAxis ? l4.xAxis.len : this.chart.plotSizeX) || 0;
            l4 = (l4.yAxis ? l4.yAxis.len : this.chart.plotSizeY) || 0;
            var q4 = f2.dlBox || f2.shapeArgs, z2 = H2(f2.below, f2.plotY > H2(this.translatedThreshold, l4)), y2 = H2(a4.inside, !!this.options.stacking);
            q4 && (e2 = v(q4), 0 > e2.y && (e2.height += e2.y, e2.y = 0), q4 = e2.y + e2.height - l4, 0 < q4 && q4 < e2.height && (e2.height -= q4), h6 && (e2 = { x: l4 - e2.y - e2.height, y: p2 - e2.x - e2.width, width: e2.height, height: e2.width }), y2 || (h6 ? (e2.x += z2 ? 0 : e2.width, e2.width = 0) : (e2.y += z2 ? e2.height : 0, e2.height = 0)));
            a4.align = H2(a4.align, !h6 || y2 ? "center" : z2 ? "right" : "left");
            a4.verticalAlign = H2(a4.verticalAlign, h6 || y2 ? "middle" : z2 ? "top" : "bottom");
            D3.prototype.alignDataLabel.call(this, f2, d2, a4, e2, k2);
            a4.inside && f2.contrastColor && d2.css({ color: f2.contrastColor });
          }
          var l3 = [];
          h5.compose = function(f2) {
            e.compose(D3);
            l3.indexOf(f2) === -1 && (l3.push(f2), f2.prototype.alignDataLabel = q3);
          };
        })(I2 || (I2 = {}));
        return I2;
      });
      M2(h3, "Series/Bar/BarSeries.js", [h3["Series/Column/ColumnSeries.js"], h3["Core/Series/SeriesRegistry.js"], h3["Core/Utilities.js"]], function(e, h4, A) {
        var D3 = this && this.__extends || function() {
          var e2 = function(h5, q3) {
            e2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e3, f2) {
              e3.__proto__ = f2;
            } || function(e3, f2) {
              for (var d2 in f2)
                f2.hasOwnProperty(d2) && (e3[d2] = f2[d2]);
            };
            return e2(h5, q3);
          };
          return function(h5, q3) {
            function l3() {
              this.constructor = h5;
            }
            e2(h5, q3);
            h5.prototype = q3 === null ? Object.create(q3) : (l3.prototype = q3.prototype, new l3());
          };
        }(), v = A.extend, H2 = A.merge;
        A = function(h5) {
          function v2() {
            var e2 = h5 !== null && h5.apply(this, arguments) || this;
            e2.data = void 0;
            e2.options = void 0;
            e2.points = void 0;
            return e2;
          }
          D3(v2, h5);
          v2.defaultOptions = H2(e.defaultOptions, {});
          return v2;
        }(e);
        v(A.prototype, { inverted: true });
        h4.registerSeriesType("bar", A);
        "";
        return A;
      });
      M2(h3, "Series/Scatter/ScatterSeries.js", [h3["Series/Column/ColumnSeries.js"], h3["Series/Line/LineSeries.js"], h3["Core/Series/SeriesRegistry.js"], h3["Core/Utilities.js"]], function(e, h4, A, E3) {
        var v = this && this.__extends || function() {
          var e2 = function(h5, f2) {
            e2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, a4) {
              d2.__proto__ = a4;
            } || function(d2, a4) {
              for (var f3 in a4)
                a4.hasOwnProperty(f3) && (d2[f3] = a4[f3]);
            };
            return e2(h5, f2);
          };
          return function(h5, f2) {
            function d2() {
              this.constructor = h5;
            }
            e2(h5, f2);
            h5.prototype = f2 === null ? Object.create(f2) : (d2.prototype = f2.prototype, new d2());
          };
        }(), D3 = E3.addEvent, I2 = E3.extend, z2 = E3.merge;
        E3 = function(e2) {
          function l3() {
            var f2 = e2 !== null && e2.apply(this, arguments) || this;
            f2.data = void 0;
            f2.options = void 0;
            f2.points = void 0;
            return f2;
          }
          v(l3, e2);
          l3.prototype.applyJitter = function() {
            var f2 = this, d2 = this.options.jitter, a4 = this.points.length;
            d2 && this.points.forEach(function(e3, k2) {
              ["x", "y"].forEach(function(h5, l4) {
                var p2 = "plot" + h5.toUpperCase();
                if (d2[h5] && !e3.isNull) {
                  var q3 = f2[h5 + "Axis"];
                  var B = d2[h5] * q3.transA;
                  if (q3 && !q3.isLog) {
                    var y2 = Math.max(0, e3[p2] - B);
                    q3 = Math.min(q3.len, e3[p2] + B);
                    l4 = 1e4 * Math.sin(k2 + l4 * a4);
                    e3[p2] = y2 + (q3 - y2) * (l4 - Math.floor(l4));
                    h5 === "x" && (e3.clientX = e3.plotX);
                  }
                }
              });
            });
          };
          l3.prototype.drawGraph = function() {
            this.options.lineWidth ? e2.prototype.drawGraph.call(this) : this.graph && (this.graph = this.graph.destroy());
          };
          l3.defaultOptions = z2(h4.defaultOptions, { lineWidth: 0, findNearestPointBy: "xy", jitter: { x: 0, y: 0 }, marker: { enabled: true }, tooltip: { headerFormat: '<span style="color:{point.color}">\u25CF</span> <span style="font-size: 10px"> {series.name}</span><br/>', pointFormat: "x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>" } });
          return l3;
        }(h4);
        I2(E3.prototype, { drawTracker: e.prototype.drawTracker, sorted: false, requireSorting: false, noSharedTooltip: true, trackerGroups: ["group", "markerGroup", "dataLabelsGroup"], takeOrdinalPosition: false });
        D3(E3, "afterTranslate", function() {
          this.applyJitter();
        });
        A.registerSeriesType("scatter", E3);
        "";
        return E3;
      });
      M2(h3, "Series/CenteredUtilities.js", [h3["Core/Globals.js"], h3["Core/Series/Series.js"], h3["Core/Utilities.js"]], function(e, h4, A) {
        var D3 = e.deg2rad, v = A.isNumber, H2 = A.pick, I2 = A.relativeLength, z2;
        (function(e2) {
          e2.getCenter = function() {
            var e3 = this.options, f2 = this.chart, d2 = 2 * (e3.slicedOffset || 0), a4 = f2.plotWidth - 2 * d2, p2 = f2.plotHeight - 2 * d2, k2 = e3.center, q3 = Math.min(a4, p2), B = e3.size, v2 = e3.innerSize || 0;
            typeof B === "string" && (B = parseFloat(B));
            typeof v2 === "string" && (v2 = parseFloat(v2));
            e3 = [H2(k2[0], "50%"), H2(k2[1], "50%"), H2(B && 0 > B ? void 0 : e3.size, "100%"), H2(v2 && 0 > v2 ? void 0 : e3.innerSize || 0, "0%")];
            !f2.angular || this instanceof h4 || (e3[3] = 0);
            for (k2 = 0; 4 > k2; ++k2)
              B = e3[k2], f2 = 2 > k2 || k2 === 2 && /%$/.test(B), e3[k2] = I2(B, [a4, p2, q3, e3[2]][k2]) + (f2 ? d2 : 0);
            e3[3] > e3[2] && (e3[3] = e3[2]);
            return e3;
          };
          e2.getStartAndEndRadians = function(e3, f2) {
            e3 = v(e3) ? e3 : 0;
            f2 = v(f2) && f2 > e3 && 360 > f2 - e3 ? f2 : e3 + 360;
            return { start: D3 * (e3 + -90), end: D3 * (f2 + -90) };
          };
        })(z2 || (z2 = {}));
        "";
        return z2;
      });
      M2(h3, "Series/Pie/PiePoint.js", [h3["Core/Animation/AnimationUtilities.js"], h3["Core/Series/Point.js"], h3["Core/Utilities.js"]], function(e, h4, A) {
        var D3 = this && this.__extends || function() {
          var f2 = function(d2, a4) {
            f2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(a5, d3) {
              a5.__proto__ = d3;
            } || function(a5, d3) {
              for (var f3 in d3)
                d3.hasOwnProperty(f3) && (a5[f3] = d3[f3]);
            };
            return f2(d2, a4);
          };
          return function(d2, a4) {
            function e2() {
              this.constructor = d2;
            }
            f2(d2, a4);
            d2.prototype = a4 === null ? Object.create(a4) : (e2.prototype = a4.prototype, new e2());
          };
        }(), v = e.setAnimation, H2 = A.addEvent, I2 = A.defined;
        e = A.extend;
        var z2 = A.isNumber, q3 = A.pick, l3 = A.relativeLength;
        h4 = function(f2) {
          function d2() {
            var a4 = f2 !== null && f2.apply(this, arguments) || this;
            a4.labelDistance = void 0;
            a4.options = void 0;
            a4.series = void 0;
            return a4;
          }
          D3(d2, f2);
          d2.prototype.getConnectorPath = function() {
            var a4 = this.labelPosition, d3 = this.series.options.dataLabels, f3 = this.connectorShapes, e2 = d3.connectorShape;
            f3[e2] && (e2 = f3[e2]);
            return e2.call(this, {
              x: a4.final.x,
              y: a4.final.y,
              alignment: a4.alignment
            }, a4.connectorPosition, d3);
          };
          d2.prototype.getTranslate = function() {
            return this.sliced ? this.slicedTranslation : { translateX: 0, translateY: 0 };
          };
          d2.prototype.haloPath = function(a4) {
            var d3 = this.shapeArgs;
            return this.sliced || !this.visible ? [] : this.series.chart.renderer.symbols.arc(d3.x, d3.y, d3.r + a4, d3.r + a4, { innerR: d3.r - 1, start: d3.start, end: d3.end });
          };
          d2.prototype.init = function() {
            var a4 = this;
            f2.prototype.init.apply(this, arguments);
            this.name = q3(this.name, "Slice");
            var d3 = function(d4) {
              a4.slice(d4.type === "select");
            };
            H2(this, "select", d3);
            H2(this, "unselect", d3);
            return this;
          };
          d2.prototype.isValid = function() {
            return z2(this.y) && 0 <= this.y;
          };
          d2.prototype.setVisible = function(a4, d3) {
            var f3 = this, e2 = this.series, h5 = e2.chart, l4 = e2.options.ignoreHiddenPoint;
            d3 = q3(d3, l4);
            a4 !== this.visible && (this.visible = this.options.visible = a4 = typeof a4 === "undefined" ? !this.visible : a4, e2.options.data[e2.data.indexOf(this)] = this.options, ["graphic", "dataLabel", "connector", "shadowGroup"].forEach(function(d4) {
              if (f3[d4])
                f3[d4][a4 ? "show" : "hide"](a4);
            }), this.legendItem && h5.legend.colorizeItem(this, a4), a4 || this.state !== "hover" || this.setState(""), l4 && (e2.isDirty = true), d3 && h5.redraw());
          };
          d2.prototype.slice = function(a4, d3, f3) {
            var e2 = this.series;
            v(f3, e2.chart);
            q3(d3, true);
            this.sliced = this.options.sliced = I2(a4) ? a4 : !this.sliced;
            e2.options.data[e2.data.indexOf(this)] = this.options;
            this.graphic && this.graphic.animate(this.getTranslate());
            this.shadowGroup && this.shadowGroup.animate(this.getTranslate());
          };
          return d2;
        }(h4);
        e(h4.prototype, { connectorShapes: { fixedOffset: function(f2, d2, a4) {
          var e2 = d2.breakAt;
          d2 = d2.touchingSliceAt;
          return [[
            "M",
            f2.x,
            f2.y
          ], a4.softConnector ? ["C", f2.x + (f2.alignment === "left" ? -5 : 5), f2.y, 2 * e2.x - d2.x, 2 * e2.y - d2.y, e2.x, e2.y] : ["L", e2.x, e2.y], ["L", d2.x, d2.y]];
        }, straight: function(e2, d2) {
          d2 = d2.touchingSliceAt;
          return [["M", e2.x, e2.y], ["L", d2.x, d2.y]];
        }, crookedLine: function(e2, d2, a4) {
          d2 = d2.touchingSliceAt;
          var f2 = this.series, h5 = f2.center[0], q4 = f2.chart.plotWidth, B = f2.chart.plotLeft;
          f2 = e2.alignment;
          var v2 = this.shapeArgs.r;
          a4 = l3(a4.crookDistance, 1);
          q4 = f2 === "left" ? h5 + v2 + (q4 + B - h5 - v2) * (1 - a4) : B + (h5 - v2) * a4;
          a4 = ["L", q4, e2.y];
          h5 = true;
          if (f2 === "left" ? q4 > e2.x || q4 < d2.x : q4 < e2.x || q4 > d2.x)
            h5 = false;
          e2 = [["M", e2.x, e2.y]];
          h5 && e2.push(a4);
          e2.push(["L", d2.x, d2.y]);
          return e2;
        } } });
        return h4;
      });
      M2(h3, "Series/Pie/PieSeries.js", [h3["Series/CenteredUtilities.js"], h3["Series/Column/ColumnSeries.js"], h3["Core/Globals.js"], h3["Core/Legend/LegendSymbol.js"], h3["Series/Pie/PiePoint.js"], h3["Core/Series/Series.js"], h3["Core/Series/SeriesRegistry.js"], h3["Core/Renderer/SVG/Symbols.js"], h3["Core/Utilities.js"]], function(e, h4, A, E3, v, H2, I2, z2, q3) {
        var l3 = this && this.__extends || function() {
          var a5 = function(d3, e2) {
            a5 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(a6, d4) {
              a6.__proto__ = d4;
            } || function(a6, d4) {
              for (var e3 in d4)
                d4.hasOwnProperty(e3) && (a6[e3] = d4[e3]);
            };
            return a5(d3, e2);
          };
          return function(d3, e2) {
            function f3() {
              this.constructor = d3;
            }
            a5(d3, e2);
            d3.prototype = e2 === null ? Object.create(e2) : (f3.prototype = e2.prototype, new f3());
          };
        }(), f2 = e.getStartAndEndRadians;
        A = A.noop;
        var d2 = q3.clamp, a4 = q3.extend, p2 = q3.fireEvent, k2 = q3.merge, F2 = q3.pick, B = q3.relativeLength;
        q3 = function(a5) {
          function e2() {
            var d3 = a5 !== null && a5.apply(this, arguments) || this;
            d3.center = void 0;
            d3.data = void 0;
            d3.maxLabelDistance = void 0;
            d3.options = void 0;
            d3.points = void 0;
            return d3;
          }
          l3(e2, a5);
          e2.prototype.animate = function(a6) {
            var d3 = this, e3 = d3.points, f3 = d3.startAngleRad;
            a6 || e3.forEach(function(c3) {
              var a7 = c3.graphic, e4 = c3.shapeArgs;
              a7 && e4 && (a7.attr({ r: F2(c3.startR, d3.center && d3.center[3] / 2), start: f3, end: f3 }), a7.animate({ r: e4.r, start: e4.start, end: e4.end }, d3.options.animation));
            });
          };
          e2.prototype.drawEmpty = function() {
            var a6 = this.startAngleRad, d3 = this.endAngleRad, e3 = this.options;
            if (this.total === 0 && this.center) {
              var f3 = this.center[0];
              var c3 = this.center[1];
              this.graph || (this.graph = this.chart.renderer.arc(f3, c3, this.center[1] / 2, 0, a6, d3).addClass("highcharts-empty-series").add(this.group));
              this.graph.attr({ d: z2.arc(f3, c3, this.center[2] / 2, 0, { start: a6, end: d3, innerR: this.center[3] / 2 }) });
              this.chart.styledMode || this.graph.attr({ "stroke-width": e3.borderWidth, fill: e3.fillColor || "none", stroke: e3.color || "#cccccc" });
            } else
              this.graph && (this.graph = this.graph.destroy());
          };
          e2.prototype.drawPoints = function() {
            var a6 = this.chart.renderer;
            this.points.forEach(function(d3) {
              d3.graphic && d3.hasNewShapeType() && (d3.graphic = d3.graphic.destroy());
              d3.graphic || (d3.graphic = a6[d3.shapeType](d3.shapeArgs).add(d3.series.group), d3.delayedRendering = true);
            });
          };
          e2.prototype.generatePoints = function() {
            a5.prototype.generatePoints.call(this);
            this.updateTotals();
          };
          e2.prototype.getX = function(a6, e3, f3) {
            var h5 = this.center, c3 = this.radii ? this.radii[f3.index] || 0 : h5[2] / 2;
            a6 = Math.asin(d2((a6 - h5[1]) / (c3 + f3.labelDistance), -1, 1));
            return h5[0] + (e3 ? -1 : 1) * Math.cos(a6) * (c3 + f3.labelDistance) + (0 < f3.labelDistance ? (e3 ? -1 : 1) * this.options.dataLabels.padding : 0);
          };
          e2.prototype.hasData = function() {
            return !!this.processedXData.length;
          };
          e2.prototype.redrawPoints = function() {
            var a6 = this, d3 = a6.chart, e3 = d3.renderer, f3 = a6.options.shadow, c3, h5, g2, l4;
            this.drawEmpty();
            !f3 || a6.shadowGroup || d3.styledMode || (a6.shadowGroup = e3.g("shadow").attr({ zIndex: -1 }).add(a6.group));
            a6.points.forEach(function(n2) {
              var b3 = {};
              h5 = n2.graphic;
              if (!n2.isNull && h5) {
                var r3 = void 0;
                l4 = n2.shapeArgs;
                c3 = n2.getTranslate();
                d3.styledMode || (r3 = n2.shadowGroup, f3 && !r3 && (r3 = n2.shadowGroup = e3.g("shadow").add(a6.shadowGroup)), r3 && r3.attr(c3), g2 = a6.pointAttribs(n2, n2.selected && "select"));
                n2.delayedRendering ? (h5.setRadialReference(a6.center).attr(l4).attr(c3), d3.styledMode || h5.attr(g2).attr({ "stroke-linejoin": "round" }).shadow(f3, r3), n2.delayedRendering = false) : (h5.setRadialReference(a6.center), d3.styledMode || k2(true, b3, g2), k2(true, b3, l4, c3), h5.animate(b3));
                h5.attr({ visibility: n2.visible ? "inherit" : "hidden" });
                h5.addClass(n2.getClassName(), true);
              } else
                h5 && (n2.graphic = h5.destroy());
            });
          };
          e2.prototype.sortByAngle = function(a6, d3) {
            a6.sort(function(a7, e3) {
              return typeof a7.angle !== "undefined" && (e3.angle - a7.angle) * d3;
            });
          };
          e2.prototype.translate = function(a6) {
            this.generatePoints();
            var d3 = this.options, e3 = d3.slicedOffset, h5 = e3 + (d3.borderWidth || 0), c3 = f2(d3.startAngle, d3.endAngle), k3 = this.startAngleRad = c3.start;
            c3 = (this.endAngleRad = c3.end) - k3;
            var g2 = this.points, l4 = d3.dataLabels.distance;
            d3 = d3.ignoreHiddenPoint;
            var n2 = g2.length, b3, r3 = 0;
            a6 || (this.center = a6 = this.getCenter());
            for (b3 = 0; b3 < n2; b3++) {
              var q4 = g2[b3];
              var m2 = k3 + r3 * c3;
              !q4.isValid() || d3 && !q4.visible || (r3 += q4.percentage / 100);
              var w2 = k3 + r3 * c3;
              var N3 = { x: a6[0], y: a6[1], r: a6[2] / 2, innerR: a6[3] / 2, start: Math.round(1e3 * m2) / 1e3, end: Math.round(1e3 * w2) / 1e3 };
              q4.shapeType = "arc";
              q4.shapeArgs = N3;
              q4.labelDistance = F2(q4.options.dataLabels && q4.options.dataLabels.distance, l4);
              q4.labelDistance = B(q4.labelDistance, N3.r);
              this.maxLabelDistance = Math.max(this.maxLabelDistance || 0, q4.labelDistance);
              w2 = (w2 + m2) / 2;
              w2 > 1.5 * Math.PI ? w2 -= 2 * Math.PI : w2 < -Math.PI / 2 && (w2 += 2 * Math.PI);
              q4.slicedTranslation = { translateX: Math.round(Math.cos(w2) * e3), translateY: Math.round(Math.sin(w2) * e3) };
              N3 = Math.cos(w2) * a6[2] / 2;
              var v2 = Math.sin(w2) * a6[2] / 2;
              q4.tooltipPos = [a6[0] + 0.7 * N3, a6[1] + 0.7 * v2];
              q4.half = w2 < -Math.PI / 2 || w2 > Math.PI / 2 ? 1 : 0;
              q4.angle = w2;
              m2 = Math.min(h5, q4.labelDistance / 5);
              q4.labelPosition = { natural: { x: a6[0] + N3 + Math.cos(w2) * q4.labelDistance, y: a6[1] + v2 + Math.sin(w2) * q4.labelDistance }, "final": {}, alignment: 0 > q4.labelDistance ? "center" : q4.half ? "right" : "left", connectorPosition: { breakAt: { x: a6[0] + N3 + Math.cos(w2) * m2, y: a6[1] + v2 + Math.sin(w2) * m2 }, touchingSliceAt: { x: a6[0] + N3, y: a6[1] + v2 } } };
            }
            p2(this, "afterTranslate");
          };
          e2.prototype.updateTotals = function() {
            var a6 = this.points, d3 = a6.length, e3 = this.options.ignoreHiddenPoint, f3, c3 = 0;
            for (f3 = 0; f3 < d3; f3++) {
              var h5 = a6[f3];
              !h5.isValid() || e3 && !h5.visible || (c3 += h5.y);
            }
            this.total = c3;
            for (f3 = 0; f3 < d3; f3++)
              h5 = a6[f3], h5.percentage = 0 < c3 && (h5.visible || !e3) ? h5.y / c3 * 100 : 0, h5.total = c3;
          };
          e2.defaultOptions = k2(H2.defaultOptions, {
            center: [null, null],
            clip: false,
            colorByPoint: true,
            dataLabels: { allowOverlap: true, connectorPadding: 5, connectorShape: "fixedOffset", crookDistance: "70%", distance: 30, enabled: true, formatter: function() {
              return this.point.isNull ? void 0 : this.point.name;
            }, softConnector: true, x: 0 },
            fillColor: void 0,
            ignoreHiddenPoint: true,
            inactiveOtherPoints: true,
            legendType: "point",
            marker: null,
            size: null,
            showInLegend: false,
            slicedOffset: 10,
            stickyTracking: false,
            tooltip: { followPointer: true },
            borderColor: "#ffffff",
            borderWidth: 1,
            lineWidth: void 0,
            states: { hover: { brightness: 0.1 } }
          });
          return e2;
        }(H2);
        a4(q3.prototype, { axisTypes: [], directTouch: true, drawGraph: void 0, drawLegendSymbol: E3.drawRectangle, drawTracker: h4.prototype.drawTracker, getCenter: e.getCenter, getSymbol: A, isCartesian: false, noSharedTooltip: true, pointAttribs: h4.prototype.pointAttribs, pointClass: v, requireSorting: false, searchPoint: A, trackerGroups: ["group", "dataLabelsGroup"] });
        I2.registerSeriesType("pie", q3);
        "";
        return q3;
      });
      M2(h3, "Series/Pie/PieDataLabel.js", [
        h3["Core/Series/DataLabel.js"],
        h3["Core/Globals.js"],
        h3["Core/Renderer/RendererUtilities.js"],
        h3["Core/Series/SeriesRegistry.js"],
        h3["Core/Utilities.js"]
      ], function(e, h4, A, E3, v) {
        var D3 = h4.noop, I2 = A.distribute, z2 = E3.series, q3 = v.arrayMax, l3 = v.clamp, f2 = v.defined, d2 = v.merge, a4 = v.pick, p2 = v.relativeLength, k2;
        (function(h5) {
          function k3() {
            var e2 = this, h6 = e2.data, c3 = e2.chart, k4 = e2.options.dataLabels || {}, g2 = k4.connectorPadding, l4 = c3.plotWidth, n2 = c3.plotHeight, b3 = c3.plotLeft, r3 = Math.round(c3.chartWidth / 3), p3 = e2.center, m2 = p3[2] / 2, w2 = p3[1], y3 = [[], []], B = [0, 0, 0, 0], v3 = e2.dataLabelPositioners, F3, D4, A3, J2, E4, K2, H2, L3, M3, T, U, S2;
            e2.visible && (k4.enabled || e2._hasPointLabels) && (h6.forEach(function(b4) {
              b4.dataLabel && b4.visible && b4.dataLabel.shortened && (b4.dataLabel.attr({ width: "auto" }).css({ width: "auto", textOverflow: "clip" }), b4.dataLabel.shortened = false);
            }), z2.prototype.drawDataLabels.apply(e2), h6.forEach(function(b4) {
              b4.dataLabel && (b4.visible ? (y3[b4.half].push(b4), b4.dataLabel._pos = null, !f2(k4.style.width) && !f2(b4.options.dataLabels && b4.options.dataLabels.style && b4.options.dataLabels.style.width) && b4.dataLabel.getBBox().width > r3 && (b4.dataLabel.css({ width: Math.round(0.7 * r3) + "px" }), b4.dataLabel.shortened = true)) : (b4.dataLabel = b4.dataLabel.destroy(), b4.dataLabels && b4.dataLabels.length === 1 && delete b4.dataLabels));
            }), y3.forEach(function(d3, h7) {
              var r4 = d3.length, u4 = [], q4;
              if (r4) {
                e2.sortByAngle(d3, h7 - 0.5);
                if (0 < e2.maxLabelDistance) {
                  var t2 = Math.max(0, w2 - m2 - e2.maxLabelDistance);
                  var G2 = Math.min(w2 + m2 + e2.maxLabelDistance, c3.plotHeight);
                  d3.forEach(function(b4) {
                    0 < b4.labelDistance && b4.dataLabel && (b4.top = Math.max(0, w2 - m2 - b4.labelDistance), b4.bottom = Math.min(w2 + m2 + b4.labelDistance, c3.plotHeight), q4 = b4.dataLabel.getBBox().height || 21, b4.distributeBox = { target: b4.labelPosition.natural.y - b4.top + q4 / 2, size: q4, rank: b4.y }, u4.push(b4.distributeBox));
                  });
                  t2 = G2 + q4 - t2;
                  I2(u4, t2, t2 / 5);
                }
                for (U = 0; U < r4; U++) {
                  F3 = d3[U];
                  K2 = F3.labelPosition;
                  J2 = F3.dataLabel;
                  T = F3.visible === false ? "hidden" : "inherit";
                  M3 = t2 = K2.natural.y;
                  u4 && f2(F3.distributeBox) && (typeof F3.distributeBox.pos === "undefined" ? T = "hidden" : (H2 = F3.distributeBox.size, M3 = v3.radialDistributionY(F3)));
                  delete F3.positionIndex;
                  if (k4.justify)
                    L3 = v3.justify(F3, m2, p3);
                  else
                    switch (k4.alignTo) {
                      case "connectors":
                        L3 = v3.alignToConnectors(d3, h7, l4, b3);
                        break;
                      case "plotEdges":
                        L3 = v3.alignToPlotEdges(J2, h7, l4, b3);
                        break;
                      default:
                        L3 = v3.radialDistributionX(e2, F3, M3, t2);
                    }
                  J2._attr = { visibility: T, align: K2.alignment };
                  S2 = F3.options.dataLabels || {};
                  J2._pos = { x: L3 + a4(S2.x, k4.x) + ({ left: g2, right: -g2 }[K2.alignment] || 0), y: M3 + a4(S2.y, k4.y) - 10 };
                  K2.final.x = L3;
                  K2.final.y = M3;
                  a4(k4.crop, true) && (E4 = J2.getBBox().width, t2 = null, L3 - E4 < g2 && h7 === 1 ? (t2 = Math.round(E4 - L3 + g2), B[3] = Math.max(t2, B[3])) : L3 + E4 > l4 - g2 && h7 === 0 && (t2 = Math.round(L3 + E4 - l4 + g2), B[1] = Math.max(t2, B[1])), 0 > M3 - H2 / 2 ? B[0] = Math.max(Math.round(-M3 + H2 / 2), B[0]) : M3 + H2 / 2 > n2 && (B[2] = Math.max(Math.round(M3 + H2 / 2 - n2), B[2])), J2.sideOverflow = t2);
                }
              }
            }), q3(B) === 0 || this.verifyDataLabelOverflow(B)) && (this.placeDataLabels(), this.points.forEach(function(b4) {
              S2 = d2(k4, b4.options.dataLabels);
              if (D4 = a4(S2.connectorWidth, 1)) {
                var f3;
                A3 = b4.connector;
                if ((J2 = b4.dataLabel) && J2._pos && b4.visible && 0 < b4.labelDistance) {
                  T = J2._attr.visibility;
                  if (f3 = !A3)
                    b4.connector = A3 = c3.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-" + b4.colorIndex + (b4.className ? " " + b4.className : "")).add(e2.dataLabelsGroup), c3.styledMode || A3.attr({ "stroke-width": D4, stroke: S2.connectorColor || b4.color || "#666666" });
                  A3[f3 ? "attr" : "animate"]({ d: b4.getConnectorPath() });
                  A3.attr("visibility", T);
                } else
                  A3 && (b4.connector = A3.destroy());
              }
            }));
          }
          function v2() {
            this.points.forEach(function(a5) {
              var d3 = a5.dataLabel, c3;
              d3 && a5.visible && ((c3 = d3._pos) ? (d3.sideOverflow && (d3._attr.width = Math.max(d3.getBBox().width - d3.sideOverflow, 0), d3.css({ width: d3._attr.width + "px", textOverflow: (this.options.dataLabels.style || {}).textOverflow || "ellipsis" }), d3.shortened = true), d3.attr(d3._attr), d3[d3.moved ? "animate" : "attr"](c3), d3.moved = true) : d3 && d3.attr({ y: -9999 }));
              delete a5.distributeBox;
            }, this);
          }
          function F2(a5) {
            var d3 = this.center, c3 = this.options, e2 = c3.center, f3 = c3.minSize || 80, h6 = c3.size !== null;
            if (!h6) {
              if (e2[0] !== null)
                var n2 = Math.max(d3[2] - Math.max(a5[1], a5[3]), f3);
              else
                n2 = Math.max(d3[2] - a5[1] - a5[3], f3), d3[0] += (a5[3] - a5[1]) / 2;
              e2[1] !== null ? n2 = l3(n2, f3, d3[2] - Math.max(a5[0], a5[2])) : (n2 = l3(n2, f3, d3[2] - a5[0] - a5[2]), d3[1] += (a5[0] - a5[2]) / 2);
              n2 < d3[2] ? (d3[2] = n2, d3[3] = Math.min(p2(c3.innerSize || 0, n2), n2), this.translate(d3), this.drawDataLabels && this.drawDataLabels()) : h6 = true;
            }
            return h6;
          }
          var A2 = [], y2 = { radialDistributionY: function(a5) {
            return a5.top + a5.distributeBox.pos;
          }, radialDistributionX: function(a5, d3, c3, e2) {
            return a5.getX(c3 < d3.top + 2 || c3 > d3.bottom - 2 ? e2 : c3, d3.half, d3);
          }, justify: function(a5, d3, c3) {
            return c3[0] + (a5.half ? -1 : 1) * (d3 + a5.labelDistance);
          }, alignToPlotEdges: function(a5, d3, c3, e2) {
            a5 = a5.getBBox().width;
            return d3 ? a5 + e2 : c3 - a5 - e2;
          }, alignToConnectors: function(a5, d3, c3, e2) {
            var f3 = 0, h6;
            a5.forEach(function(a6) {
              h6 = a6.dataLabel.getBBox().width;
              h6 > f3 && (f3 = h6);
            });
            return d3 ? f3 + e2 : c3 - f3 - e2;
          } };
          h5.compose = function(a5) {
            e.compose(z2);
            A2.indexOf(a5) === -1 && (A2.push(a5), a5 = a5.prototype, a5.dataLabelPositioners = y2, a5.alignDataLabel = D3, a5.drawDataLabels = k3, a5.placeDataLabels = v2, a5.verifyDataLabelOverflow = F2);
          };
        })(k2 || (k2 = {}));
        return k2;
      });
      M2(h3, "Extensions/OverlappingDataLabels.js", [h3["Core/Chart/Chart.js"], h3["Core/Utilities.js"]], function(e, h4) {
        function D3(e2, f2) {
          var d2 = false;
          if (e2) {
            var a4 = e2.newOpacity;
            e2.oldOpacity !== a4 && (e2.alignAttr && e2.placed ? (e2[a4 ? "removeClass" : "addClass"]("highcharts-data-label-hidden"), d2 = true, e2.alignAttr.opacity = a4, e2[e2.isOld ? "animate" : "attr"](e2.alignAttr, null, function() {
              f2.styledMode || e2.css({ pointerEvents: a4 ? "auto" : "none" });
            }), v(f2, "afterHideOverlappingLabel")) : e2.attr({ opacity: a4 }));
            e2.isOld = true;
          }
          return d2;
        }
        var E3 = h4.addEvent, v = h4.fireEvent, H2 = h4.isArray, I2 = h4.isNumber, z2 = h4.objectEach, q3 = h4.pick;
        E3(e, "render", function() {
          var e2 = this, f2 = [];
          (this.labelCollectors || []).forEach(function(d2) {
            f2 = f2.concat(d2());
          });
          (this.yAxis || []).forEach(function(d2) {
            d2.stacking && d2.options.stackLabels && !d2.options.stackLabels.allowOverlap && z2(d2.stacking.stacks, function(a4) {
              z2(a4, function(a5) {
                a5.label && a5.label.visibility !== "hidden" && f2.push(a5.label);
              });
            });
          });
          (this.series || []).forEach(function(d2) {
            var a4 = d2.options.dataLabels;
            d2.visible && (a4.enabled !== false || d2._hasPointLabels) && (a4 = function(a5) {
              return a5.forEach(function(a6) {
                a6.visible && (H2(a6.dataLabels) ? a6.dataLabels : a6.dataLabel ? [a6.dataLabel] : []).forEach(function(d3) {
                  var h5 = d3.options;
                  d3.labelrank = q3(h5.labelrank, a6.labelrank, a6.shapeArgs && a6.shapeArgs.height);
                  h5.allowOverlap ? (d3.oldOpacity = d3.opacity, d3.newOpacity = 1, D3(d3, e2)) : f2.push(d3);
                });
              });
            }, a4(d2.nodes || []), a4(d2.points));
          });
          this.hideOverlappingLabels(f2);
        });
        e.prototype.hideOverlappingLabels = function(e2) {
          var f2 = this, d2 = e2.length, a4 = f2.renderer, h5, k2, l3, q4 = false;
          var z3 = function(d3) {
            var e3, f3 = d3.box ? 0 : d3.padding || 0, c3 = e3 = 0, h6;
            if (d3 && (!d3.alignAttr || d3.placed)) {
              var g2 = d3.alignAttr || { x: d3.attr("x"), y: d3.attr("y") };
              var k3 = d3.parentGroup;
              d3.width || (e3 = d3.getBBox(), d3.width = e3.width, d3.height = e3.height, e3 = a4.fontMetrics(null, d3.element).h);
              var n2 = d3.width - 2 * f3;
              (h6 = { left: "0", center: "0.5", right: "1" }[d3.alignValue]) ? c3 = +h6 * n2 : I2(d3.x) && Math.round(d3.x) !== d3.translateX && (c3 = d3.x - d3.translateX);
              return { x: g2.x + (k3.translateX || 0) + f3 - (c3 || 0), y: g2.y + (k3.translateY || 0) + f3 - e3, width: d3.width - 2 * f3, height: d3.height - 2 * f3 };
            }
          };
          for (k2 = 0; k2 < d2; k2++)
            if (h5 = e2[k2])
              h5.oldOpacity = h5.opacity, h5.newOpacity = 1, h5.absoluteBox = z3(h5);
          e2.sort(function(a5, d3) {
            return (d3.labelrank || 0) - (a5.labelrank || 0);
          });
          for (k2 = 0; k2 < d2; k2++) {
            var A = (z3 = e2[k2]) && z3.absoluteBox;
            for (h5 = k2 + 1; h5 < d2; ++h5) {
              var E4 = (l3 = e2[h5]) && l3.absoluteBox;
              !A || !E4 || z3 === l3 || z3.newOpacity === 0 || l3.newOpacity === 0 || E4.x >= A.x + A.width || E4.x + E4.width <= A.x || E4.y >= A.y + A.height || E4.y + E4.height <= A.y || ((z3.labelrank < l3.labelrank ? z3 : l3).newOpacity = 0);
            }
          }
          e2.forEach(function(a5) {
            D3(a5, f2) && (q4 = true);
          });
          q4 && v(f2, "afterHideAllOverlappingLabels");
        };
      });
      M2(h3, "Core/Responsive.js", [h3["Core/Utilities.js"]], function(e) {
        var h4 = e.extend, A = e.find, E3 = e.isArray, v = e.isObject, H2 = e.merge, I2 = e.objectEach, z2 = e.pick, q3 = e.splat, l3 = e.uniqueKey, f2;
        (function(d2) {
          var a4 = [];
          d2.compose = function(d3) {
            a4.indexOf(d3) === -1 && (a4.push(d3), h4(d3.prototype, e2.prototype));
            return d3;
          };
          var e2 = function() {
            function a5() {
            }
            a5.prototype.currentOptions = function(a6) {
              function d3(a7, f4, h5, k2) {
                var c3;
                I2(a7, function(a8, g2) {
                  if (!k2 && -1 < e3.collectionsWithUpdate.indexOf(g2) && f4[g2])
                    for (a8 = q3(a8), h5[g2] = [], c3 = 0; c3 < Math.max(a8.length, f4[g2].length); c3++)
                      f4[g2][c3] && (a8[c3] === void 0 ? h5[g2][c3] = f4[g2][c3] : (h5[g2][c3] = {}, d3(a8[c3], f4[g2][c3], h5[g2][c3], k2 + 1)));
                  else
                    v(a8) ? (h5[g2] = E3(a8) ? [] : {}, d3(a8, f4[g2] || {}, h5[g2], k2 + 1)) : h5[g2] = typeof f4[g2] === "undefined" ? null : f4[g2];
                });
              }
              var e3 = this, f3 = {};
              d3(a6, this.options, f3, 0);
              return f3;
            };
            a5.prototype.matchResponsiveRule = function(a6, d3) {
              var e3 = a6.condition;
              (e3.callback || function() {
                return this.chartWidth <= z2(e3.maxWidth, Number.MAX_VALUE) && this.chartHeight <= z2(e3.maxHeight, Number.MAX_VALUE) && this.chartWidth >= z2(e3.minWidth, 0) && this.chartHeight >= z2(e3.minHeight, 0);
              }).call(this) && d3.push(a6._id);
            };
            a5.prototype.setResponsive = function(a6, d3) {
              var e3 = this, f3 = this.options.responsive, h5 = this.currentResponsive, k2 = [];
              !d3 && f3 && f3.rules && f3.rules.forEach(function(a7) {
                typeof a7._id === "undefined" && (a7._id = l3());
                e3.matchResponsiveRule(a7, k2);
              }, this);
              d3 = H2.apply(void 0, k2.map(function(a7) {
                return A((f3 || {}).rules || [], function(d4) {
                  return d4._id === a7;
                });
              }).map(function(a7) {
                return a7 && a7.chartOptions;
              }));
              d3.isResponsiveOptions = true;
              k2 = k2.toString() || void 0;
              k2 !== (h5 && h5.ruleIds) && (h5 && this.update(h5.undoOptions, a6, true), k2 ? (h5 = this.currentOptions(d3), h5.isResponsiveOptions = true, this.currentResponsive = { ruleIds: k2, mergedOptions: d3, undoOptions: h5 }, this.update(d3, a6, true)) : this.currentResponsive = void 0);
            };
            return a5;
          }();
        })(f2 || (f2 = {}));
        "";
        "";
        return f2;
      });
      M2(h3, "masters/highcharts.src.js", [
        h3["Core/Globals.js"],
        h3["Core/Utilities.js"],
        h3["Core/DefaultOptions.js"],
        h3["Core/Animation/Fx.js"],
        h3["Core/Animation/AnimationUtilities.js"],
        h3["Core/Renderer/HTML/AST.js"],
        h3["Core/FormatUtilities.js"],
        h3["Core/Renderer/RendererUtilities.js"],
        h3["Core/Renderer/SVG/SVGElement.js"],
        h3["Core/Renderer/SVG/SVGRenderer.js"],
        h3["Core/Renderer/HTML/HTMLElement.js"],
        h3["Core/Renderer/HTML/HTMLRenderer.js"],
        h3["Core/Axis/Axis.js"],
        h3["Core/Axis/DateTimeAxis.js"],
        h3["Core/Axis/LogarithmicAxis.js"],
        h3["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],
        h3["Core/Axis/Tick.js"],
        h3["Core/Tooltip.js"],
        h3["Core/Series/Point.js"],
        h3["Core/Pointer.js"],
        h3["Core/MSPointer.js"],
        h3["Core/Legend/Legend.js"],
        h3["Core/Chart/Chart.js"],
        h3["Core/Series/Series.js"],
        h3["Core/Series/SeriesRegistry.js"],
        h3["Series/Column/ColumnSeries.js"],
        h3["Series/Column/ColumnDataLabel.js"],
        h3["Series/Pie/PieSeries.js"],
        h3["Series/Pie/PieDataLabel.js"],
        h3["Core/Series/DataLabel.js"],
        h3["Core/Responsive.js"],
        h3["Core/Color/Color.js"],
        h3["Core/Time.js"]
      ], function(e, h4, A, E3, v, H2, I2, z2, q3, l3, f2, d2, a4, p2, k2, F2, B, J2, K2, L3, y2, C2, x3, c3, t2, g2, u4, n2, b3, r3, G2, m2, w2) {
        e.animate = v.animate;
        e.animObject = v.animObject;
        e.getDeferredAnimation = v.getDeferredAnimation;
        e.setAnimation = v.setAnimation;
        e.stop = v.stop;
        e.timers = E3.timers;
        e.AST = H2;
        e.Axis = a4;
        e.Chart = x3;
        e.chart = x3.chart;
        e.Fx = E3;
        e.Legend = C2;
        e.PlotLineOrBand = F2;
        e.Point = K2;
        e.Pointer = y2.isRequired() ? y2 : L3;
        e.Series = c3;
        e.SVGElement = q3;
        e.SVGRenderer = l3;
        e.Tick = B;
        e.Time = w2;
        e.Tooltip = J2;
        e.Color = m2;
        e.color = m2.parse;
        d2.compose(l3);
        f2.compose(q3);
        e.defaultOptions = A.defaultOptions;
        e.getOptions = A.getOptions;
        e.time = A.defaultTime;
        e.setOptions = A.setOptions;
        e.dateFormat = I2.dateFormat;
        e.format = I2.format;
        e.numberFormat = I2.numberFormat;
        e.addEvent = h4.addEvent;
        e.arrayMax = h4.arrayMax;
        e.arrayMin = h4.arrayMin;
        e.attr = h4.attr;
        e.clearTimeout = h4.clearTimeout;
        e.correctFloat = h4.correctFloat;
        e.createElement = h4.createElement;
        e.css = h4.css;
        e.defined = h4.defined;
        e.destroyObjectProperties = h4.destroyObjectProperties;
        e.discardElement = h4.discardElement;
        e.distribute = z2.distribute;
        e.erase = h4.erase;
        e.error = h4.error;
        e.extend = h4.extend;
        e.extendClass = h4.extendClass;
        e.find = h4.find;
        e.fireEvent = h4.fireEvent;
        e.getMagnitude = h4.getMagnitude;
        e.getStyle = h4.getStyle;
        e.inArray = h4.inArray;
        e.isArray = h4.isArray;
        e.isClass = h4.isClass;
        e.isDOMElement = h4.isDOMElement;
        e.isFunction = h4.isFunction;
        e.isNumber = h4.isNumber;
        e.isObject = h4.isObject;
        e.isString = h4.isString;
        e.keys = h4.keys;
        e.merge = h4.merge;
        e.normalizeTickInterval = h4.normalizeTickInterval;
        e.objectEach = h4.objectEach;
        e.offset = h4.offset;
        e.pad = h4.pad;
        e.pick = h4.pick;
        e.pInt = h4.pInt;
        e.relativeLength = h4.relativeLength;
        e.removeEvent = h4.removeEvent;
        e.seriesType = t2.seriesType;
        e.splat = h4.splat;
        e.stableSort = h4.stableSort;
        e.syncTimeout = h4.syncTimeout;
        e.timeUnits = h4.timeUnits;
        e.uniqueKey = h4.uniqueKey;
        e.useSerialIds = h4.useSerialIds;
        e.wrap = h4.wrap;
        u4.compose(g2);
        r3.compose(c3);
        p2.compose(a4);
        k2.compose(a4);
        b3.compose(n2);
        F2.compose(a4);
        G2.compose(x3);
        return e;
      });
      M2(h3, "Core/Axis/OrdinalAxis.js", [
        h3["Core/Axis/Axis.js"],
        h3["Core/Globals.js"],
        h3["Core/Series/Series.js"],
        h3["Core/Utilities.js"]
      ], function(e, h4, A, E3) {
        var v = E3.addEvent, D3 = E3.correctFloat, I2 = E3.css, z2 = E3.defined, q3 = E3.error, l3 = E3.pick, f2 = E3.timeUnits, d2 = [], a4;
        (function(a5) {
          function e2(a6, c4, b3, d3, e3, g3, h5) {
            e3 === void 0 && (e3 = []);
            g3 === void 0 && (g3 = 0);
            var m2 = {}, n2 = this.options.tickPixelInterval, k2 = this.chart.time, r3 = [], l4, w2, p3 = 0, u4 = [], t3 = -Number.MAX_VALUE;
            if (!this.options.ordinal && !this.options.breaks || !e3 || 3 > e3.length || typeof c4 === "undefined")
              return k2.getTimeTicks.apply(k2, arguments);
            var G2 = e3.length;
            for (l4 = 0; l4 < G2; l4++) {
              var x4 = l4 && e3[l4 - 1] > b3;
              e3[l4] < c4 && (p3 = l4);
              if (l4 === G2 - 1 || e3[l4 + 1] - e3[l4] > 5 * g3 || x4) {
                if (e3[l4] > t3) {
                  for (w2 = k2.getTimeTicks(a6, e3[p3], e3[l4], d3); w2.length && w2[0] <= t3; )
                    w2.shift();
                  w2.length && (t3 = w2[w2.length - 1]);
                  r3.push(u4.length);
                  u4 = u4.concat(w2);
                }
                p3 = l4 + 1;
              }
              if (x4)
                break;
            }
            if (w2) {
              w2 = w2.info;
              if (h5 && w2.unitRange <= f2.hour) {
                l4 = u4.length - 1;
                for (p3 = 1; p3 < l4; p3++)
                  if (k2.dateFormat("%d", u4[p3]) !== k2.dateFormat("%d", u4[p3 - 1])) {
                    m2[u4[p3]] = "day";
                    var y3 = true;
                  }
                y3 && (m2[u4[0]] = "day");
                w2.higherRanks = m2;
              }
              w2.segmentStarts = r3;
              u4.info = w2;
            } else
              q3(12, false, this.chart);
            if (h5 && z2(n2)) {
              w2 = u4.length;
              k2 = [];
              p3 = [];
              l4 = void 0;
              for (y3 = w2; y3--; )
                r3 = this.translate(u4[y3]), l4 && (p3[y3] = l4 - r3), k2[y3] = l4 = r3;
              p3.sort();
              p3 = p3[Math.floor(p3.length / 2)];
              p3 < 0.6 * n2 && (p3 = null);
              y3 = u4[w2 - 1] > b3 ? w2 - 1 : w2;
              for (l4 = void 0; y3--; )
                r3 = k2[y3], w2 = Math.abs(l4 - r3), l4 && w2 < 0.8 * n2 && (p3 === null || w2 < 0.8 * p3) ? (m2[u4[y3]] && !m2[u4[y3 + 1]] ? (w2 = y3 + 1, l4 = r3) : w2 = y3, u4.splice(w2, 1)) : l4 = r3;
            }
            return u4;
          }
          function p2(a6) {
            var c4 = this.ordinal.positions;
            if (!c4)
              return a6;
            var b3 = c4.length - 1;
            if (0 > a6)
              a6 = c4[0];
            else if (a6 > b3)
              a6 = c4[b3];
            else {
              b3 = Math.floor(a6);
              var d3 = a6 - b3;
            }
            return typeof d3 !== "undefined" && typeof c4[b3] !== "undefined" ? c4[b3] + (d3 ? d3 * (c4[b3 + 1] - c4[b3]) : 0) : a6;
          }
          function B(a6) {
            var c4 = this.ordinal, b3 = c4.positions;
            if (!b3)
              return a6;
            var d3 = (a6 - (this.old ? this.old.min : this.min)) * (this.old ? this.old.transA : this.transA) + this.minPixelPadding;
            0 < d3 && d3 < this.left + this.len || (c4.extendedOrdinalPositions || (c4.extendedOrdinalPositions = c4.getExtendedPositions()), b3 = c4.extendedOrdinalPositions);
            if (b3 && b3.length) {
              a6 = c4.getIndexOfPoint(d3, b3);
              c4 = D3(a6 % 1);
              if (0 <= a6 && a6 < b3.length - 1)
                return b3[Math.floor(a6)] + c4 * (b3[Math.ceil(a6)] - b3[Math.floor(a6)]);
              c4 = b3.length;
              d3 = b3[0];
              b3 = b3[c4 - 1];
              var e3 = (b3 - d3) / (c4 - 1);
              return 0 > a6 ? d3 + e3 * a6 : b3 + e3 * (a6 - c4);
            }
            return a6;
          }
          function J2(c4, d3) {
            var b3 = a5.Additions.findIndexOf(c4, d3, true);
            return c4[b3] === d3 ? b3 : b3 + (d3 - c4[b3]) / (c4[b3 + 1] - c4[b3]);
          }
          function E4() {
            this.ordinal || (this.ordinal = new a5.Additions(this));
          }
          function H2() {
            this.isXAxis && z2(this.options.overscroll) && this.max === this.dataMax && (!this.chart.mouseIsDown || this.isInternal) && (!this.eventArgs || this.eventArgs && this.eventArgs.trigger !== "navigator") && (this.max += this.options.overscroll, !this.isInternal && z2(this.userMin) && (this.min += this.options.overscroll));
          }
          function y2() {
            this.horiz && !this.isDirty && (this.isDirty = this.isOrdinal && this.chart.navigator && !this.chart.navigator.adaptToUpdatedData);
          }
          function C2() {
            this.ordinal && (this.ordinal.beforeSetTickPositions(), this.tickInterval = this.ordinal.postProcessTickInterval(this.tickInterval));
          }
          function x3(a6) {
            var c4 = this.xAxis[0], b3 = c4.options.overscroll, d3 = a6.originalEvent.chartX, e3 = this.options.chart.panning, f3 = false;
            if (e3 && e3.type !== "y" && c4.options.ordinal && c4.series.length) {
              var g3 = this.mouseDownX, h5 = c4.getExtremes(), k2 = h5.dataMax, l4 = h5.min, p3 = h5.max, q4 = this.hoverPoints, u4 = c4.closestPointRange || c4.ordinal && c4.ordinal.overscrollPointsRange;
              g3 = (g3 - d3) / (c4.translationSlope * (c4.ordinal.slope || u4));
              u4 = { ordinal: { positions: c4.ordinal.getExtendedPositions() } };
              var t3 = c4.index2val, x4 = c4.val2lin, y3 = void 0, v2 = y3 = void 0, B2 = void 0;
              u4.ordinal.positions ? 1 < Math.abs(g3) && (q4 && q4.forEach(function(b4) {
                b4.setState();
              }), 0 > g3 ? (v2 = u4, B2 = c4.ordinal.positions ? c4 : u4) : (v2 = c4.ordinal.positions ? c4 : u4, B2 = u4), y3 = B2.ordinal.positions, k2 > y3[y3.length - 1] && y3.push(k2), this.fixedRange = p3 - l4, y3 = c4.navigatorAxis.toFixedRange(null, null, t3.apply(v2, [x4.apply(v2, [l4, true]) + g3]), t3.apply(B2, [x4.apply(B2, [p3, true]) + g3])), y3.min >= Math.min(h5.dataMin, l4) && y3.max <= Math.max(k2, p3) + b3 && c4.setExtremes(y3.min, y3.max, true, false, { trigger: "pan" }), this.mouseDownX = d3, I2(this.container, { cursor: "move" })) : f3 = true;
            } else
              f3 = true;
            f3 || e3 && /y/.test(e3.type) ? b3 && (c4.max = c4.dataMax + b3) : a6.preventDefault();
          }
          function c3() {
            var a6 = this.xAxis;
            a6 && a6.options.ordinal && (delete a6.ordinal.index, delete a6.ordinal.extendedOrdinalPositions);
          }
          function t2(a6, c4) {
            var b3 = this.ordinal, d3 = b3.positions, e3 = b3.slope, f3 = b3.extendedOrdinalPositions;
            if (!d3)
              return a6;
            var g3 = d3.length;
            if (d3[0] <= a6 && d3[g3 - 1] >= a6)
              a6 = J2(d3, a6);
            else {
              f3 || (f3 = b3.getExtendedPositions && b3.getExtendedPositions(), b3.extendedOrdinalPositions = f3);
              if (!f3 || !f3.length)
                return a6;
              g3 = f3.length;
              e3 || (e3 = (f3[g3 - 1] - f3[0]) / g3);
              d3 = J2(f3, d3[0]);
              a6 >= f3[0] && a6 <= f3[g3 - 1] ? a6 = J2(f3, a6) - d3 : a6 < f3[0] ? (a6 = f3[0] - a6, a6 = -d3 - a6 / e3) : (a6 -= f3[g3 - 1], a6 = a6 / e3 + g3 - d3);
            }
            return c4 ? a6 : e3 * (a6 || 0) + b3.offset;
          }
          a5.compose = function(a6, f3, b3) {
            if (d2.indexOf(a6) === -1) {
              d2.push(a6);
              var g3 = a6.prototype;
              g3.getTimeTicks = e2;
              g3.index2val = p2;
              g3.lin2val = B;
              g3.val2lin = t2;
              g3.ordinal2lin = g3.val2lin;
              v(a6, "afterInit", E4);
              v(a6, "foundExtremes", H2);
              v(a6, "afterSetScale", y2);
              v(a6, "initialAxisTranslation", C2);
            }
            d2.indexOf(b3) === -1 && (d2.push(b3), v(b3, "pan", x3));
            d2.indexOf(f3) === -1 && (d2.push(f3), v(f3, "updatedData", c3));
            return a6;
          };
          var g2 = function() {
            function a6(a7) {
              this.index = {};
              this.axis = a7;
            }
            a6.prototype.beforeSetTickPositions = function() {
              var a7 = this.axis, b3 = a7.ordinal, c4 = a7.getExtremes(), d3 = c4.min, e3 = c4.max, f3 = a7.isXAxis && !!a7.options.breaks;
              c4 = a7.options.ordinal;
              var g3 = a7.chart.options.chart.ignoreHiddenSeries, h5, k2, p3 = [], q4 = Number.MAX_VALUE, t3 = false;
              if (c4 || f3) {
                a7.series.forEach(function(b4, a8) {
                  h5 = [];
                  if (!(g3 && b4.visible === false || b4.takeOrdinalPosition === false && !f3) && (p3 = p3.concat(b4.processedXData), u4 = p3.length, p3.sort(function(b5, a9) {
                    return b5 - a9;
                  }), q4 = Math.min(q4, l3(b4.closestPointRange, q4)), u4)) {
                    for (a8 = 0; a8 < u4 - 1; )
                      p3[a8] !== p3[a8 + 1] && h5.push(p3[a8 + 1]), a8++;
                    h5[0] !== p3[0] && h5.unshift(p3[0]);
                    p3 = h5;
                  }
                });
                var u4 = p3.length;
                if (2 < u4) {
                  var x4 = p3[1] - p3[0];
                  for (k2 = u4 - 1; k2-- && !t3; )
                    p3[k2 + 1] - p3[k2] !== x4 && (t3 = true);
                  !a7.options.keepOrdinalPadding && (p3[0] - d3 > x4 || e3 - p3[p3.length - 1] > x4) && (t3 = true);
                } else
                  a7.options.overscroll && (u4 === 2 ? q4 = p3[1] - p3[0] : u4 === 1 ? (q4 = a7.options.overscroll, p3 = [p3[0], p3[0] + q4]) : q4 = b3.overscrollPointsRange);
                t3 || a7.forceOrdinal ? (a7.options.overscroll && (b3.overscrollPointsRange = q4, p3 = p3.concat(b3.getOverscrollPositions())), b3.positions = p3, x4 = a7.ordinal2lin(Math.max(d3, p3[0]), true), k2 = Math.max(a7.ordinal2lin(Math.min(e3, p3[p3.length - 1]), true), 1), b3.slope = e3 = (e3 - d3) / (k2 - x4), b3.offset = d3 - x4 * e3) : (b3.overscrollPointsRange = l3(a7.closestPointRange, b3.overscrollPointsRange), b3.positions = a7.ordinal.slope = b3.offset = void 0);
              }
              a7.isOrdinal = c4 && t3;
              b3.groupIntervalFactor = null;
            };
            a6.findIndexOf = function(a7, b3, c4) {
              for (var d3 = 0, e3 = a7.length - 1, f3; d3 < e3; )
                f3 = Math.ceil((d3 + e3) / 2), a7[f3] <= b3 ? d3 = f3 : e3 = f3 - 1;
              return a7[d3] === b3 ? d3 : c4 ? d3 : -1;
            };
            a6.prototype.getExtendedPositions = function() {
              var a7 = this, b3 = a7.axis, c4 = b3.constructor.prototype, d3 = b3.chart, e3 = b3.series[0].currentDataGrouping, f3 = e3 ? e3.count + e3.unitName : "raw", g3 = b3.options.overscroll, k2 = b3.getExtremes(), l4 = void 0, p3 = a7.index;
              p3 || (p3 = a7.index = {});
              if (!p3[f3]) {
                var q4 = {
                  series: [],
                  chart: d3,
                  forceOrdinal: false,
                  getExtremes: function() {
                    return { min: k2.dataMin, max: k2.dataMax + g3 };
                  },
                  getGroupPixelWidth: c4.getGroupPixelWidth,
                  getTimeTicks: c4.getTimeTicks,
                  options: { ordinal: true },
                  ordinal: { getGroupIntervalFactor: this.getGroupIntervalFactor },
                  ordinal2lin: c4.ordinal2lin,
                  getIndexOfPoint: c4.getIndexOfPoint,
                  val2lin: c4.val2lin
                };
                q4.ordinal.axis = q4;
                b3.series.forEach(function(b4) {
                  l4 = { xAxis: q4, xData: b4.xData.slice(), chart: d3, destroyGroupedData: h4.noop, getProcessedData: A.prototype.getProcessedData, applyGrouping: A.prototype.applyGrouping };
                  l4.xData = l4.xData.concat(a7.getOverscrollPositions());
                  l4.options = { dataGrouping: e3 ? { firstAnchor: "firstPoint", anchor: "middle", lastAnchor: "lastPoint", enabled: true, forced: true, approximation: "open", units: [[e3.unitName, [e3.count]]] } : { enabled: false } };
                  q4.series.push(l4);
                  b4.processData.apply(l4);
                });
                b3.applyGrouping.call(q4, { hasExtemesChanged: false });
                l4.closestPointRange !== l4.basePointRange && l4.currentDataGrouping && (q4.forceOrdinal = true);
                b3.ordinal.beforeSetTickPositions.apply({ axis: q4 });
                p3[f3] = q4.ordinal.positions;
              }
              return p3[f3];
            };
            a6.prototype.getGroupIntervalFactor = function(a7, b3, c4) {
              c4 = c4.processedXData;
              var d3 = c4.length, e3 = [];
              var f3 = this.groupIntervalFactor;
              if (!f3) {
                for (f3 = 0; f3 < d3 - 1; f3++)
                  e3[f3] = c4[f3 + 1] - c4[f3];
                e3.sort(function(b4, a8) {
                  return b4 - a8;
                });
                e3 = e3[Math.floor(d3 / 2)];
                a7 = Math.max(a7, c4[0]);
                b3 = Math.min(b3, c4[d3 - 1]);
                this.groupIntervalFactor = f3 = d3 * e3 / (b3 - a7);
              }
              return f3;
            };
            a6.prototype.getIndexOfPoint = function(c4, b3) {
              var d3 = this.axis, e3 = this.positions ? this.positions[0] : 0, f3 = d3.series[0].points && d3.series[0].points[0] && d3.series[0].points[0].plotX || d3.minPixelPadding;
              1 < d3.series.length && d3.series.forEach(function(b4) {
                b4.points && z2(b4.points[0]) && z2(b4.points[0].plotX) && b4.points[0].plotX < f3 && (f3 = b4.points[0].plotX);
              });
              c4 = (c4 - f3) / (d3.translationSlope * (this.slope || d3.closestPointRange || this.overscrollPointsRange));
              return a6.findIndexOf(b3, e3) + c4;
            };
            a6.prototype.getOverscrollPositions = function() {
              var a7 = this.axis, b3 = a7.options.overscroll, c4 = this.overscrollPointsRange, d3 = [], e3 = a7.dataMax;
              if (z2(c4))
                for (; e3 <= a7.dataMax + b3; )
                  e3 += c4, d3.push(e3);
              return d3;
            };
            a6.prototype.postProcessTickInterval = function(a7) {
              var b3 = this.axis, c4 = this.slope;
              return c4 ? b3.options.breaks ? b3.closestPointRange || a7 : a7 / (c4 / b3.closestPointRange) : a7;
            };
            return a6;
          }();
          a5.Additions = g2;
        })(a4 || (a4 = {}));
        return a4;
      });
      M2(h3, "Series/DataModifyComposition.js", [h3["Core/Axis/Axis.js"], h3["Core/Series/Point.js"], h3["Core/Series/Series.js"], h3["Core/Utilities.js"]], function(e, h4, A, E3) {
        var v = h4.prototype.tooltipFormatter, D3 = E3.addEvent, I2 = E3.arrayMax, z2 = E3.arrayMin, q3 = E3.correctFloat, l3 = E3.defined, f2 = E3.isArray, d2 = E3.isNumber, a4 = E3.isString, p2 = E3.pick, k2;
        (function(e2) {
          function h5(c4, b3, d3) {
            this.isXAxis || (this.series.forEach(function(d4) {
              c4 === "compare" && typeof b3 !== "boolean" ? d4.setCompare(b3, false) : c4 !== "cumulative" || a4(b3) || d4.setCumulative(b3, false);
            }), p2(d3, true) && this.chart.redraw());
          }
          function k3(a5) {
            var b3 = this, c4 = b3.series.chart.numberFormatter, d3 = function(d4) {
              a5 = a5.replace("{point." + d4 + "}", (0 < b3[d4] && d4 === "change" ? "+" : "") + c4(b3[d4], p2(b3.series.tooltipOptions.changeDecimals, 2)));
            };
            l3(b3.change) && d3("change");
            l3(b3.cumulativeSum) && d3("cumulativeSum");
            return v.apply(this, [a5]);
          }
          function F2() {
            var a5 = this.options.compare;
            if (a5 === "percent" || a5 === "value" || this.options.cumulative) {
              var b3 = new u4(this);
              a5 === "percent" || a5 === "value" ? b3.initCompare(a5) : b3.initCumulative();
            }
            this.dataModify = b3;
          }
          function A2(a5) {
            a5 = a5.dataExtremes;
            var b3 = a5.activeYData;
            if (this.dataModify && a5) {
              var c4 = void 0;
              this.options.compare ? c4 = [this.dataModify.modifyValue(a5.dataMin), this.dataModify.modifyValue(a5.dataMax)] : this.options.cumulative && f2(b3) && 2 <= b3.length && (c4 = u4.getCumulativeExtremes(b3));
              c4 && (a5.dataMin = z2(c4), a5.dataMax = I2(c4));
            }
          }
          function y2(a5, b3) {
            this.options.compare = this.userOptions.compare = a5;
            this.update({}, p2(b3, true));
            !this.dataModify || a5 !== "value" && a5 !== "percent" ? this.points.forEach(function(b4) {
              delete b4.change;
            }) : this.dataModify.initCompare(a5);
          }
          function C2() {
            if (this.xAxis && this.processedYData && this.dataModify) {
              var a5 = this.processedXData, b3 = this.processedYData, c4 = b3.length, e3 = this.options.compareStart === true ? 0 : 1, f3 = -1, g3;
              this.pointArrayMap && (f3 = this.pointArrayMap.indexOf(this.options.pointValKey || this.pointValKey || "y"));
              for (g3 = 0; g3 < c4 - e3; g3++) {
                var h6 = b3[g3] && -1 < f3 ? b3[g3][f3] : b3[g3];
                if (d2(h6) && h6 !== 0 && a5[g3 + e3] >= (this.xAxis.min || 0)) {
                  this.dataModify.compareValue = h6;
                  break;
                }
              }
            }
          }
          function x3(a5, b3) {
            this.setModifier("compare", a5, b3);
          }
          function c3(a5, b3) {
            a5 = p2(a5, false);
            this.options.cumulative = this.userOptions.cumulative = a5;
            this.update({}, p2(b3, true));
            this.dataModify ? this.dataModify.initCumulative() : this.points.forEach(function(b4) {
              delete b4.cumulativeSum;
            });
          }
          function t2(a5, b3) {
            this.setModifier("cumulative", a5, b3);
          }
          var g2 = [];
          e2.compose = function(a5, b3, d3) {
            if (g2.indexOf(a5) === -1) {
              g2.push(a5);
              var e3 = a5.prototype;
              e3.setCompare = y2;
              e3.setCumulative = c3;
              D3(a5, "afterInit", F2);
              D3(a5, "afterGetExtremes", A2);
              D3(a5, "afterProcessData", C2);
            }
            g2.indexOf(b3) === -1 && (g2.push(b3), b3 = b3.prototype, b3.setCompare = x3, b3.setModifier = h5, b3.setCumulative = t2);
            g2.indexOf(d3) === -1 && (g2.push(d3), d3.prototype.tooltipFormatter = k3);
            return a5;
          };
          var u4 = function() {
            function a5(b3) {
              this.series = b3;
            }
            a5.prototype.modifyValue = function() {
              return 0;
            };
            a5.getCumulativeExtremes = function(b3) {
              var a6 = Infinity, c4 = -Infinity;
              b3.reduce(function(b4, d3) {
                d3 = b4 + d3;
                a6 = Math.min(a6, d3, b4);
                c4 = Math.max(c4, d3, b4);
                return d3;
              });
              return [a6, c4];
            };
            a5.prototype.initCompare = function(b3) {
              this.modifyValue = function(a6, c4) {
                a6 === null && (a6 = 0);
                var d3 = this.compareValue;
                return typeof a6 !== "undefined" && typeof d3 !== "undefined" ? (a6 = b3 === "value" ? a6 - d3 : a6 / d3 * 100 - (this.series.options.compareBase === 100 ? 0 : 100), typeof c4 !== "undefined" && (c4 = this.series.points[c4]) && (c4.change = a6), a6) : 0;
              };
            };
            a5.prototype.initCumulative = function() {
              this.modifyValue = function(b3, a6) {
                b3 === null && (b3 = 0);
                if (b3 !== void 0 && a6 !== void 0) {
                  var c4 = 0 < a6 ? this.series.points[a6 - 1] : null;
                  c4 && c4.cumulativeSum && (b3 = q3(c4.cumulativeSum + b3));
                  if (a6 = this.series.points[a6])
                    a6.cumulativeSum = b3;
                  return b3;
                }
                return 0;
              };
            };
            return a5;
          }();
          e2.Additions = u4;
        })(k2 || (k2 = {}));
        "";
        return k2;
      });
      M2(h3, "Core/Axis/BrokenAxis.js", [h3["Extensions/Stacking.js"], h3["Core/Utilities.js"]], function(e, h4) {
        var A = h4.addEvent, D3 = h4.find, v = h4.fireEvent, H2 = h4.isArray, I2 = h4.isNumber, z2 = h4.pick, q3;
        (function(h5) {
          function f2() {
            typeof this.brokenAxis !== "undefined" && this.brokenAxis.setBreaks(this.options.breaks, false);
          }
          function d2() {
            this.brokenAxis && this.brokenAxis.hasBreaks && (this.options.ordinal = false);
          }
          function a4() {
            var a5 = this.brokenAxis;
            if (a5 && a5.hasBreaks) {
              for (var d3 = this.tickPositions, e2 = this.tickPositions.info, c3 = [], f3 = 0; f3 < d3.length; f3++)
                a5.isInAnyBreak(d3[f3]) || c3.push(d3[f3]);
              this.tickPositions = c3;
              this.tickPositions.info = e2;
            }
          }
          function l3() {
            this.brokenAxis || (this.brokenAxis = new L3(this));
          }
          function k2() {
            var a5 = this.options.connectNulls, d3 = this.points, e2 = this.xAxis, c3 = this.yAxis;
            if (this.isDirty)
              for (var f3 = d3.length; f3--; ) {
                var g2 = d3[f3], h6 = !(g2.y === null && a5 === false) && (e2 && e2.brokenAxis && e2.brokenAxis.isInAnyBreak(g2.x, true) || c3 && c3.brokenAxis && c3.brokenAxis.isInAnyBreak(g2.y, true));
                g2.visible = h6 ? false : g2.options.visible !== false;
              }
          }
          function q4() {
            this.drawBreaks(this.xAxis, ["x"]);
            this.drawBreaks(this.yAxis, z2(this.pointArrayMap, ["y"]));
          }
          function B(a5, d3) {
            var e2 = this, c3 = e2.points, f3, g2, h6, k3;
            if (a5 && a5.brokenAxis && a5.brokenAxis.hasBreaks) {
              var b3 = a5.brokenAxis;
              d3.forEach(function(d4) {
                f3 = b3 && b3.breakArray || [];
                g2 = a5.isXAxis ? a5.min : z2(e2.options.threshold, a5.min);
                c3.forEach(function(b4) {
                  k3 = z2(b4["stack" + d4.toUpperCase()], b4[d4]);
                  f3.forEach(function(c4) {
                    if (I2(g2) && I2(k3)) {
                      h6 = false;
                      if (g2 < c4.from && k3 > c4.to || g2 > c4.from && k3 < c4.from)
                        h6 = "pointBreak";
                      else if (g2 < c4.from && k3 > c4.from && k3 < c4.to || g2 > c4.from && k3 > c4.to && k3 < c4.from)
                        h6 = "pointInBreak";
                      h6 && v(a5, h6, { point: b4, brk: c4 });
                    }
                  });
                });
              });
            }
          }
          function J2() {
            var a5 = this.currentDataGrouping, d3 = a5 && a5.gapSize;
            a5 = this.points.slice();
            var f3 = this.yAxis, c3 = this.options.gapSize, h6 = a5.length - 1, g2;
            if (c3 && 0 < h6)
              for (this.options.gapUnit !== "value" && (c3 *= this.basePointRange), d3 && d3 > c3 && d3 >= this.basePointRange && (c3 = d3), g2 = void 0; h6--; )
                g2 && g2.visible !== false || (g2 = a5[h6 + 1]), d3 = a5[h6], g2.visible !== false && d3.visible !== false && (g2.x - d3.x > c3 && (g2 = (d3.x + g2.x) / 2, a5.splice(h6 + 1, 0, { isNull: true, x: g2 }), f3.stacking && this.options.stacking && (g2 = f3.stacking.stacks[this.stackKey][g2] = new e(f3, f3.options.stackLabels, false, g2, this.stack), g2.total = 0)), g2 = d3);
            return this.getGraphPath(a5);
          }
          var E3 = [];
          h5.compose = function(e2, h6) {
            E3.indexOf(e2) === -1 && (E3.push(e2), e2.keepProps.push("brokenAxis"), A(e2, "init", l3), A(e2, "afterInit", f2), A(e2, "afterSetTickPositions", a4), A(e2, "afterSetOptions", d2));
            if (E3.indexOf(h6) === -1) {
              E3.push(h6);
              var p2 = h6.prototype;
              p2.drawBreaks = B;
              p2.gappedPath = J2;
              A(h6, "afterGeneratePoints", k2);
              A(h6, "afterRender", q4);
            }
            return e2;
          };
          var L3 = function() {
            function a5(a6) {
              this.hasBreaks = false;
              this.axis = a6;
            }
            a5.isInBreak = function(a6, d3) {
              var c3 = a6.repeat || Infinity, e2 = a6.from, f3 = a6.to - a6.from;
              d3 = d3 >= e2 ? (d3 - e2) % c3 : c3 - (e2 - d3) % c3;
              return a6.inclusive ? d3 <= f3 : d3 < f3 && d3 !== 0;
            };
            a5.lin2Val = function(d3) {
              var e2 = this.brokenAxis;
              e2 = e2 && e2.breakArray;
              if (!e2 || !I2(d3))
                return d3;
              var c3;
              for (c3 = 0; c3 < e2.length; c3++) {
                var f3 = e2[c3];
                if (f3.from >= d3)
                  break;
                else
                  f3.to < d3 ? d3 += f3.len : a5.isInBreak(f3, d3) && (d3 += f3.len);
              }
              return d3;
            };
            a5.val2Lin = function(d3) {
              var e2 = this.brokenAxis;
              e2 = e2 && e2.breakArray;
              if (!e2 || !I2(d3))
                return d3;
              var c3 = d3, f3;
              for (f3 = 0; f3 < e2.length; f3++) {
                var g2 = e2[f3];
                if (g2.to <= d3)
                  c3 -= g2.len;
                else if (g2.from >= d3)
                  break;
                else if (a5.isInBreak(g2, d3)) {
                  c3 -= d3 - g2.from;
                  break;
                }
              }
              return c3;
            };
            a5.prototype.findBreakAt = function(a6, d3) {
              return D3(d3, function(c3) {
                return c3.from < a6 && a6 < c3.to;
              });
            };
            a5.prototype.isInAnyBreak = function(d3, e2) {
              var c3 = this.axis, f3 = c3.options.breaks || [], g2 = f3.length, h6;
              if (g2 && I2(d3)) {
                for (; g2--; )
                  if (a5.isInBreak(f3[g2], d3)) {
                    var k3 = true;
                    h6 || (h6 = z2(f3[g2].showPoints, !c3.isXAxis));
                  }
                var b3 = k3 && e2 ? k3 && !h6 : k3;
              }
              return b3;
            };
            a5.prototype.setBreaks = function(d3, e2) {
              var c3 = this, f3 = c3.axis, g2 = H2(d3) && !!d3.length;
              f3.isDirty = c3.hasBreaks !== g2;
              c3.hasBreaks = g2;
              f3.options.breaks = f3.userOptions.breaks = d3;
              f3.forceRedraw = true;
              f3.series.forEach(function(a6) {
                a6.isDirty = true;
              });
              g2 || f3.val2lin !== a5.val2Lin || (delete f3.val2lin, delete f3.lin2val);
              g2 && (f3.userOptions.ordinal = false, f3.lin2val = a5.lin2Val, f3.val2lin = a5.val2Lin, f3.setExtremes = function(a6, d4, b3, e3, g3) {
                if (c3.hasBreaks) {
                  for (var m2 = this.options.breaks || [], h6; h6 = c3.findBreakAt(a6, m2); )
                    a6 = h6.to;
                  for (; h6 = c3.findBreakAt(d4, m2); )
                    d4 = h6.from;
                  d4 < a6 && (d4 = a6);
                }
                f3.constructor.prototype.setExtremes.call(this, a6, d4, b3, e3, g3);
              }, f3.setAxisTranslation = function() {
                f3.constructor.prototype.setAxisTranslation.call(this);
                c3.unitLength = void 0;
                if (c3.hasBreaks) {
                  var d4 = f3.options.breaks || [], e3 = [], b3 = [], g3 = z2(f3.pointRangePadding, 0), h6 = 0, m2, k3 = f3.userMin || f3.min, l4 = f3.userMax || f3.max, p2;
                  d4.forEach(function(b4) {
                    m2 = b4.repeat || Infinity;
                    I2(k3) && I2(l4) && (a5.isInBreak(b4, k3) && (k3 += b4.to % m2 - k3 % m2), a5.isInBreak(b4, l4) && (l4 -= l4 % m2 - b4.from % m2));
                  });
                  d4.forEach(function(b4) {
                    t2 = b4.from;
                    m2 = b4.repeat || Infinity;
                    if (I2(k3) && I2(l4)) {
                      for (; t2 - m2 > k3; )
                        t2 -= m2;
                      for (; t2 < k3; )
                        t2 += m2;
                      for (p2 = t2; p2 < l4; p2 += m2)
                        e3.push({
                          value: p2,
                          move: "in"
                        }), e3.push({ value: p2 + b4.to - b4.from, move: "out", size: b4.breakSize });
                    }
                  });
                  e3.sort(function(b4, a6) {
                    return b4.value === a6.value ? (b4.move === "in" ? 0 : 1) - (a6.move === "in" ? 0 : 1) : b4.value - a6.value;
                  });
                  var q5 = 0;
                  var t2 = k3;
                  e3.forEach(function(a6) {
                    q5 += a6.move === "in" ? 1 : -1;
                    q5 === 1 && a6.move === "in" && (t2 = a6.value);
                    q5 === 0 && I2(t2) && (b3.push({ from: t2, to: a6.value, len: a6.value - t2 - (a6.size || 0) }), h6 += a6.value - t2 - (a6.size || 0));
                  });
                  c3.breakArray = b3;
                  I2(k3) && I2(l4) && I2(f3.min) && (c3.unitLength = l4 - k3 - h6 + g3, v(f3, "afterBreaks"), f3.staticScale ? f3.transA = f3.staticScale : c3.unitLength && (f3.transA *= (l4 - f3.min + g3) / c3.unitLength), g3 && (f3.minPixelPadding = f3.transA * (f3.minPointOffset || 0)), f3.min = k3, f3.max = l4);
                }
              });
              z2(e2, true) && f3.chart.redraw();
            };
            return a5;
          }();
          h5.Additions = L3;
        })(q3 || (q3 = {}));
        return q3;
      });
      M2(h3, "masters/modules/broken-axis.src.js", [h3["Core/Globals.js"], h3["Core/Axis/BrokenAxis.js"]], function(e, h4) {
        h4.compose(e.Axis, e.Series);
      });
      M2(h3, "Extensions/DataGrouping.js", [
        h3["Core/Axis/Axis.js"],
        h3["Core/Axis/DateTimeAxis.js"],
        h3["Core/FormatUtilities.js"],
        h3["Core/Globals.js"],
        h3["Core/Series/Point.js"],
        h3["Core/Series/Series.js"],
        h3["Core/Tooltip.js"],
        h3["Core/DefaultOptions.js"],
        h3["Core/Utilities.js"]
      ], function(e, h4, A, E3, v, H2, I2, z2, q3) {
        var l3 = A.format, f2 = H2.prototype;
        A = q3.addEvent;
        var d2 = q3.arrayMax, a4 = q3.arrayMin, p2 = q3.correctFloat, k2 = q3.defined, F2 = q3.error, B = q3.extend, J2 = q3.isNumber, D3 = q3.merge, L3 = q3.pick;
        "";
        var y2 = E3.approximations = { sum: function(a5) {
          var c4 = a5.length;
          if (!c4 && a5.hasNulls)
            var b3 = null;
          else if (c4)
            for (b3 = 0; c4--; )
              b3 += a5[c4];
          return b3;
        }, average: function(a5) {
          var c4 = a5.length;
          a5 = y2.sum(a5);
          J2(a5) && c4 && (a5 = p2(a5 / c4));
          return a5;
        }, averages: function() {
          var a5 = [];
          [].forEach.call(arguments, function(c4) {
            a5.push(y2.average(c4));
          });
          return typeof a5[0] === "undefined" ? void 0 : a5;
        }, open: function(a5) {
          return a5.length ? a5[0] : a5.hasNulls ? null : void 0;
        }, high: function(a5) {
          return a5.length ? d2(a5) : a5.hasNulls ? null : void 0;
        }, low: function(c4) {
          return c4.length ? a4(c4) : c4.hasNulls ? null : void 0;
        }, close: function(a5) {
          return a5.length ? a5[a5.length - 1] : a5.hasNulls ? null : void 0;
        }, hlc: function(a5, c4, b3) {
          a5 = y2.high(a5);
          c4 = y2.low(c4);
          b3 = y2.close(b3);
          if (J2(a5) || J2(c4) || J2(b3))
            return [a5, c4, b3];
        }, ohlc: function(a5, c4, b3, d3) {
          a5 = y2.open(a5);
          c4 = y2.high(c4);
          b3 = y2.low(b3);
          d3 = y2.close(d3);
          if (J2(a5) || J2(c4) || J2(b3) || J2(d3))
            return [a5, c4, b3, d3];
        }, range: function(a5, c4) {
          a5 = y2.low(a5);
          c4 = y2.high(c4);
          if (J2(a5) || J2(c4))
            return [a5, c4];
          if (a5 === null && c4 === null)
            return null;
        } };
        q3 = function(a5, c4, b3, d3) {
          var e2 = this, f3 = e2.data, g3 = e2.options && e2.options.data, h5 = [], l4 = [], n2 = [], r3 = a5.length, p3 = !!c4, q4 = [], t3 = e2.pointArrayMap, u4 = t3 && t3.length, x4 = ["x"].concat(t3 || ["y"]), v2 = this.options.dataGrouping && this.options.dataGrouping.groupAll, B2 = 0, F3 = 0, z3;
          d3 = typeof d3 === "function" ? d3 : y2[d3] ? y2[d3] : y2[e2.getDGApproximation && e2.getDGApproximation() || "average"];
          u4 ? t3.forEach(function() {
            q4.push([]);
          }) : q4.push([]);
          var C3 = u4 || 1;
          for (z3 = 0; z3 <= r3 && !(a5[z3] >= b3[0]); z3++)
            ;
          for (z3; z3 <= r3; z3++) {
            for (; typeof b3[B2 + 1] !== "undefined" && a5[z3] >= b3[B2 + 1] || z3 === r3; ) {
              var A2 = b3[B2];
              e2.dataGroupInfo = { start: v2 ? F3 : e2.cropStart + F3, length: q4[0].length };
              var E4 = d3.apply(e2, q4);
              e2.pointClass && !k2(e2.dataGroupInfo.options) && (e2.dataGroupInfo.options = D3(e2.pointClass.prototype.optionsToObject.call({ series: e2 }, e2.options.data[e2.cropStart + F3])), x4.forEach(function(b4) {
                delete e2.dataGroupInfo.options[b4];
              }));
              typeof E4 !== "undefined" && (h5.push(A2), l4.push(E4), n2.push(e2.dataGroupInfo));
              F3 = z3;
              for (A2 = 0; A2 < C3; A2++)
                q4[A2].length = 0, q4[A2].hasNulls = false;
              B2 += 1;
              if (z3 === r3)
                break;
            }
            if (z3 === r3)
              break;
            if (t3) {
              A2 = e2.options.dataGrouping && e2.options.dataGrouping.groupAll ? z3 : e2.cropStart + z3;
              E4 = f3 && f3[A2] || e2.pointClass.prototype.applyOptions.apply({ series: e2 }, [g3[A2]]);
              var H3 = void 0;
              for (A2 = 0; A2 < u4; A2++)
                H3 = E4[t3[A2]], J2(H3) ? q4[A2].push(H3) : H3 === null && (q4[A2].hasNulls = true);
            } else
              A2 = p3 ? c4[z3] : null, J2(A2) ? q4[0].push(A2) : A2 === null && (q4[0].hasNulls = true);
          }
          return { groupedXData: h5, groupedYData: l4, groupMap: n2 };
        };
        var C2 = { approximations: y2, groupData: q3 }, x3 = f2.generatePoints, c3 = {
          groupPixelWidth: 2,
          dateTimeLabelFormats: { millisecond: ["%A, %b %e, %H:%M:%S.%L", "%A, %b %e, %H:%M:%S.%L", "-%H:%M:%S.%L"], second: ["%A, %b %e, %H:%M:%S", "%A, %b %e, %H:%M:%S", "-%H:%M:%S"], minute: ["%A, %b %e, %H:%M", "%A, %b %e, %H:%M", "-%H:%M"], hour: ["%A, %b %e, %H:%M", "%A, %b %e, %H:%M", "-%H:%M"], day: ["%A, %b %e, %Y", "%A, %b %e", "-%A, %b %e, %Y"], week: ["Week from %A, %b %e, %Y", "%A, %b %e", "-%A, %b %e, %Y"], month: ["%B %Y", "%B", "-%B %Y"], year: ["%Y", "%Y", "-%Y"] }
        }, t2 = {
          line: {},
          spline: {},
          area: {},
          areaspline: {},
          arearange: {},
          column: { groupPixelWidth: 10 },
          columnrange: { groupPixelWidth: 10 },
          candlestick: { groupPixelWidth: 10 },
          ohlc: { groupPixelWidth: 5 },
          hlc: { groupPixelWidth: 5 },
          heikinashi: { groupPixelWidth: 10 }
        }, g2 = E3.defaultDataGroupingUnits = [["millisecond", [1, 2, 5, 10, 20, 25, 50, 100, 200, 500]], ["second", [1, 2, 5, 10, 15, 30]], ["minute", [1, 2, 5, 10, 15, 30]], ["hour", [1, 2, 3, 4, 6, 8, 12]], ["day", [1]], ["week", [1]], ["month", [1, 3, 6]], ["year", null]];
        f2.getDGApproximation = function() {
          return this.is("arearange") ? "range" : this.is("ohlc") ? "ohlc" : this.is("hlc") ? "hlc" : this.is("column") ? "sum" : "average";
        };
        f2.groupData = q3;
        f2.applyGrouping = function(a5) {
          var c4 = this.chart, b3 = this.options.dataGrouping, d3 = this.allowDG !== false && b3 && L3(b3.enabled, c4.options.isStock), e2 = this.visible || !c4.options.chart.ignoreHiddenSeries, m2, l4 = this.currentDataGrouping, p3 = false;
          d3 && !this.requireSorting && (this.requireSorting = p3 = true);
          a5 = !(this.isCartesian && !this.isDirty && !this.xAxis.isDirty && !this.yAxis.isDirty && !a5) === false || !d3;
          p3 && (this.requireSorting = false);
          if (!a5) {
            this.destroyGroupedData();
            d3 = b3.groupAll ? this.xData : this.processedXData;
            var q4 = b3.groupAll ? this.yData : this.processedYData;
            a5 = c4.plotSizeX;
            p3 = this.xAxis;
            var t3 = p3.options.ordinal, u4 = this.groupPixelWidth;
            if (u4 && d3 && d3.length) {
              this.isDirty = m2 = true;
              this.points = null;
              var x4 = p3.getExtremes();
              var y3 = x4.min;
              x4 = x4.max;
              t3 = t3 && p3.ordinal && p3.ordinal.getGroupIntervalFactor(y3, x4, this) || 1;
              a5 = p3.getTimeTicks(h4.Additions.prototype.normalizeTimeTickInterval(u4 * (x4 - y3) / a5 * t3, b3.units || g2), Math.min(y3, d3[0]), Math.max(x4, d3[d3.length - 1]), p3.options.startOfWeek, d3, this.closestPointRange);
              u4 = f2.groupData.apply(this, [d3, q4, a5, b3.approximation]);
              d3 = u4.groupedXData;
              q4 = u4.groupedYData;
              t3 = 0;
              b3 && b3.smoothed && d3.length && (b3.firstAnchor = "firstPoint", b3.anchor = "middle", b3.lastAnchor = "lastPoint", F2(32, false, c4, { "dataGrouping.smoothed": "use dataGrouping.anchor" }));
              c4 = d3;
              var v2 = this.options.dataGrouping;
              y3 = this.currentDataGrouping && this.currentDataGrouping.gapSize;
              if (v2 && this.xData && y3 && this.groupMap) {
                var B2 = c4.length - 1;
                var z3 = v2.anchor;
                var C3 = L3(v2.firstAnchor, z3);
                v2 = L3(v2.lastAnchor, z3);
                if (z3 && z3 !== "start") {
                  var A2 = y3 * { middle: 0.5, end: 1 }[z3];
                  for (z3 = c4.length - 1; z3-- && 0 < z3; )
                    c4[z3] += A2;
                }
                if (C3 && C3 !== "start" && this.xData[0] >= c4[0]) {
                  z3 = this.groupMap[0].start;
                  A2 = this.groupMap[0].length;
                  var E4 = void 0;
                  J2(z3) && J2(A2) && (E4 = z3 + (A2 - 1));
                  c4[0] = { middle: c4[0] + 0.5 * y3, end: c4[0] + y3, firstPoint: this.xData[0], lastPoint: E4 && this.xData[E4] }[C3];
                }
                v2 && v2 !== "start" && y3 && c4[B2] >= x4 - y3 && (x4 = this.groupMap[this.groupMap.length - 1].start, c4[B2] = { middle: c4[B2] + 0.5 * y3, end: c4[B2] + y3, firstPoint: x4 && this.xData[x4], lastPoint: this.xData[this.xData.length - 1] }[v2]);
              }
              for (x4 = 1; x4 < a5.length; x4++)
                a5.info.segmentStarts && a5.info.segmentStarts.indexOf(x4) !== -1 || (t3 = Math.max(a5[x4] - a5[x4 - 1], t3));
              x4 = a5.info;
              x4.gapSize = t3;
              this.closestPointRange = a5.info.totalRange;
              this.groupMap = u4.groupMap;
              if (e2) {
                e2 = d3;
                if (k2(e2[0]) && J2(p3.min) && J2(p3.dataMin) && e2[0] < p3.min) {
                  if (!k2(p3.options.min) && p3.min <= p3.dataMin || p3.min === p3.dataMin)
                    p3.min = Math.min(e2[0], p3.min);
                  p3.dataMin = Math.min(e2[0], p3.dataMin);
                }
                if (k2(e2[e2.length - 1]) && J2(p3.max) && J2(p3.dataMax) && e2[e2.length - 1] > p3.max) {
                  if (!k2(p3.options.max) && J2(p3.dataMax) && p3.max >= p3.dataMax || p3.max === p3.dataMax)
                    p3.max = Math.max(e2[e2.length - 1], p3.max);
                  p3.dataMax = Math.max(e2[e2.length - 1], p3.dataMax);
                }
              }
              b3.groupAll && (this.allGroupedData = q4, b3 = this.cropData(d3, q4, p3.min, p3.max, 1), d3 = b3.xData, q4 = b3.yData, this.cropStart = b3.start);
              this.processedXData = d3;
              this.processedYData = q4;
            } else
              this.groupMap = null;
            this.hasGroupedData = m2;
            this.currentDataGrouping = x4;
            this.preventGraphAnimation = (l4 && l4.totalRange) !== (x4 && x4.totalRange);
          }
        };
        f2.destroyGroupedData = function() {
          this.groupedData && (this.groupedData.forEach(function(a5, c4) {
            a5 && (this.groupedData[c4] = a5.destroy ? a5.destroy() : null);
          }, this), this.groupedData.length = 0);
        };
        f2.generatePoints = function() {
          x3.apply(this);
          this.destroyGroupedData();
          this.groupedData = this.hasGroupedData ? this.points : null;
        };
        e.prototype.applyGrouping = function(a5) {
          var c4 = this;
          c4.series.forEach(function(b3) {
            b3.groupPixelWidth = void 0;
            b3.groupPixelWidth = c4.getGroupPixelWidth && c4.getGroupPixelWidth();
            b3.groupPixelWidth && (b3.hasProcessed = true);
            b3.applyGrouping(!!a5.hasExtemesChanged);
          });
        };
        e.prototype.getGroupPixelWidth = function() {
          var a5 = this.series, d3 = a5.length, b3, e2 = 0, f3 = false, g3;
          for (b3 = d3; b3--; )
            (g3 = a5[b3].options.dataGrouping) && (e2 = Math.max(e2, L3(g3.groupPixelWidth, c3.groupPixelWidth)));
          for (b3 = d3; b3--; )
            if (g3 = a5[b3].options.dataGrouping) {
              if (d3 = (a5[b3].processedXData || a5[b3].data).length, a5[b3].groupPixelWidth || d3 > this.chart.plotSizeX / e2 || d3 && g3.forced)
                f3 = true;
            }
          return f3 ? e2 : 0;
        };
        e.prototype.setDataGrouping = function(a5, c4) {
          var b3;
          c4 = L3(c4, true);
          a5 || (a5 = { forced: false, units: null });
          if (this instanceof e)
            for (b3 = this.series.length; b3--; )
              this.series[b3].update({ dataGrouping: a5 }, false);
          else
            this.chart.options.series.forEach(function(b4) {
              b4.dataGrouping = a5;
            }, false);
          this.ordinal && (this.ordinal.slope = void 0);
          c4 && this.chart.redraw();
        };
        A(e, "postProcessData", e.prototype.applyGrouping);
        A(v, "update", function() {
          if (this.dataGroup)
            return F2(24, false, this.series.chart), false;
        });
        A(I2, "headerFormatter", function(a5) {
          var d3 = this.chart, b3 = d3.time, e2 = a5.labelConfig, f3 = e2.series, g3 = f3.tooltipOptions, h5 = f3.options.dataGrouping, k3 = g3.xDateFormat, p3 = f3.xAxis, q4 = g3[a5.isFooter ? "footerFormat" : "headerFormat"];
          if (p3 && p3.options.type === "datetime" && h5 && J2(e2.key)) {
            var t3 = f3.currentDataGrouping;
            h5 = h5.dateTimeLabelFormats || c3.dateTimeLabelFormats;
            if (t3)
              if (g3 = h5[t3.unitName], t3.count === 1)
                k3 = g3[0];
              else {
                k3 = g3[1];
                var u4 = g3[2];
              }
            else
              !k3 && h5 && p3.dateTime && (k3 = p3.dateTime.getXDateFormat(e2.x, g3.dateTimeLabelFormats));
            k3 = b3.dateFormat(k3, e2.key);
            u4 && (k3 += b3.dateFormat(u4, e2.key + t3.totalRange - 1));
            f3.chart.styledMode && (q4 = this.styledModeFormat(q4));
            a5.text = l3(q4, { point: B(e2.point, { key: k3 }), series: f3 }, d3);
            a5.preventDefault();
          }
        });
        A(H2, "destroy", f2.destroyGroupedData);
        A(H2, "afterSetOptions", function(a5) {
          a5 = a5.options;
          var d3 = this.type, b3 = this.chart.options.plotOptions, e2 = z2.defaultOptions.plotOptions[d3].dataGrouping, f3 = this.useCommonDataGrouping && c3;
          if (t2[d3] || f3) {
            e2 || (e2 = D3(c3, t2[d3]));
            var g3 = this.chart.rangeSelector;
            a5.dataGrouping = D3(f3, e2, b3.series && b3.series.dataGrouping, b3[d3].dataGrouping, this.userOptions.dataGrouping, !a5.isInternal && g3 && J2(g3.selected) && g3.buttonOptions[g3.selected].dataGrouping);
          }
        });
        A(e, "afterSetScale", function() {
          this.series.forEach(function(a5) {
            a5.hasProcessed = false;
          });
        });
        E3.dataGrouping = C2;
        "";
        return C2;
      });
      M2(h3, "Series/HLC/HLCPoint.js", [h3["Core/Series/SeriesRegistry.js"]], function(e) {
        var h4 = this && this.__extends || function() {
          var e2 = function(h5, v) {
            e2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e3, h6) {
              e3.__proto__ = h6;
            } || function(e3, h6) {
              for (var v2 in h6)
                h6.hasOwnProperty(v2) && (e3[v2] = h6[v2]);
            };
            return e2(h5, v);
          };
          return function(h5, v) {
            function A() {
              this.constructor = h5;
            }
            e2(h5, v);
            h5.prototype = v === null ? Object.create(v) : (A.prototype = v.prototype, new A());
          };
        }();
        return function(e2) {
          function A() {
            var h5 = e2 !== null && e2.apply(this, arguments) || this;
            h5.close = void 0;
            h5.high = void 0;
            h5.low = void 0;
            h5.options = void 0;
            h5.plotClose = void 0;
            h5.series = void 0;
            return h5;
          }
          h4(A, e2);
          return A;
        }(e.seriesTypes.column.prototype.pointClass);
      });
      M2(h3, "Series/HLC/HLCSeries.js", [
        h3["Series/HLC/HLCPoint.js"],
        h3["Core/Series/SeriesRegistry.js"],
        h3["Core/Utilities.js"]
      ], function(e, h4, A) {
        var E3 = this && this.__extends || function() {
          var e2 = function(h5, l3) {
            e2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e3, d2) {
              e3.__proto__ = d2;
            } || function(e3, d2) {
              for (var a4 in d2)
                d2.hasOwnProperty(a4) && (e3[a4] = d2[a4]);
            };
            return e2(h5, l3);
          };
          return function(h5, l3) {
            function f2() {
              this.constructor = h5;
            }
            e2(h5, l3);
            h5.prototype = l3 === null ? Object.create(l3) : (f2.prototype = l3.prototype, new f2());
          };
        }(), v = h4.seriesTypes.column, D3 = A.extend, I2 = A.merge;
        A = function(e2) {
          function h5() {
            var h6 = e2 !== null && e2.apply(this, arguments) || this;
            h6.data = void 0;
            h6.options = void 0;
            h6.points = void 0;
            h6.yData = void 0;
            return h6;
          }
          E3(h5, e2);
          h5.prototype.extendStem = function(e3, f2, d2) {
            var a4 = e3[0];
            e3 = e3[1];
            typeof a4[2] === "number" && (a4[2] = Math.max(d2 + f2, a4[2]));
            typeof e3[2] === "number" && (e3[2] = Math.min(d2 - f2, e3[2]));
          };
          h5.prototype.getPointPath = function(e3, f2) {
            f2 = f2.strokeWidth();
            var d2 = e3.series, a4 = f2 % 2 / 2, h6 = Math.round(e3.plotX) - a4, k2 = Math.round(e3.shapeArgs.width / 2);
            var l3 = [["M", h6, Math.round(e3.yBottom)], ["L", h6, Math.round(e3.plotHigh)]];
            e3.close !== null && (e3 = Math.round(e3.plotClose) + a4, l3.push(["M", h6, e3], ["L", h6 + k2, e3]), d2.extendStem(l3, f2 / 2, e3));
            return l3;
          };
          h5.prototype.drawSinglePoint = function(e3) {
            var f2 = e3.series, d2 = f2.chart, a4 = e3.graphic, h6 = !a4;
            typeof e3.plotY !== "undefined" && (a4 || (e3.graphic = a4 = d2.renderer.path().add(f2.group)), d2.styledMode || a4.attr(f2.pointAttribs(e3, e3.selected && "select")), f2 = f2.getPointPath(e3, a4), a4[h6 ? "attr" : "animate"]({ d: f2 }).addClass(e3.getClassName(), true));
          };
          h5.prototype.drawPoints = function() {
            this.points.forEach(this.drawSinglePoint);
          };
          h5.prototype.init = function() {
            e2.prototype.init.apply(this, arguments);
            this.options.stacking = void 0;
          };
          h5.prototype.pointAttribs = function(h6, f2) {
            h6 = e2.prototype.pointAttribs.call(this, h6, f2);
            delete h6.fill;
            return h6;
          };
          h5.prototype.toYData = function(e3) {
            return [e3.high, e3.low, e3.close];
          };
          h5.prototype.translate = function() {
            var h6 = this, f2 = h6.yAxis, d2 = this.pointArrayMap && this.pointArrayMap.slice() || [], a4 = d2.map(function(a5) {
              return "plot" + (a5.charAt(0).toUpperCase() + a5.slice(1));
            });
            a4.push("yBottom");
            d2.push("low");
            e2.prototype.translate.apply(h6);
            h6.points.forEach(function(e3) {
              d2.forEach(function(d3, l3) {
                d3 = e3[d3];
                d3 !== null && (h6.dataModify && (d3 = h6.dataModify.modifyValue(d3)), e3[a4[l3]] = f2.toPixels(d3, true));
              });
              e3.tooltipPos[1] = e3.plotHigh + f2.pos - h6.chart.plotTop;
            });
          };
          h5.defaultOptions = I2(v.defaultOptions, { lineWidth: 1, tooltip: { pointFormat: '<span style="color:{point.color}">\u25CF</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>' }, threshold: null, states: { hover: { lineWidth: 3 } }, stickyTracking: true });
          return h5;
        }(v);
        D3(A.prototype, { animate: null, directTouch: false, pointArrayMap: [
          "high",
          "low",
          "close"
        ], pointAttrToOptions: { stroke: "color", "stroke-width": "lineWidth" }, pointValKey: "close" });
        A.prototype.pointClass = e;
        h4.registerSeriesType("hlc", A);
        "";
        return A;
      });
      M2(h3, "Series/OHLC/OHLCPoint.js", [h3["Core/Series/SeriesRegistry.js"]], function(e) {
        var h4 = this && this.__extends || function() {
          var e2 = function(h5, v) {
            e2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e3, h6) {
              e3.__proto__ = h6;
            } || function(e3, h6) {
              for (var v2 in h6)
                h6.hasOwnProperty(v2) && (e3[v2] = h6[v2]);
            };
            return e2(h5, v);
          };
          return function(h5, v) {
            function A() {
              this.constructor = h5;
            }
            e2(h5, v);
            h5.prototype = v === null ? Object.create(v) : (A.prototype = v.prototype, new A());
          };
        }();
        return function(e2) {
          function A() {
            var h5 = e2 !== null && e2.apply(this, arguments) || this;
            h5.open = void 0;
            h5.options = void 0;
            h5.plotOpen = void 0;
            h5.series = void 0;
            return h5;
          }
          h4(A, e2);
          A.prototype.getClassName = function() {
            return e2.prototype.getClassName.call(this) + (this.open < this.close ? " highcharts-point-up" : " highcharts-point-down");
          };
          A.prototype.resolveUpColor = function() {
            this.open < this.close && !this.options.color && this.series.options.upColor && (this.color = this.series.options.upColor);
          };
          A.prototype.resolveColor = function() {
            e2.prototype.resolveColor.call(this);
            this.resolveUpColor();
          };
          A.prototype.getZone = function() {
            var h5 = e2.prototype.getZone.call(this);
            this.resolveUpColor();
            return h5;
          };
          A.prototype.applyOptions = function() {
            e2.prototype.applyOptions.apply(this, arguments);
            this.resolveColor && this.resolveColor();
            return this;
          };
          return A;
        }(e.seriesTypes.hlc.prototype.pointClass);
      });
      M2(h3, "Series/OHLC/OHLCSeries.js", [
        h3["Series/OHLC/OHLCPoint.js"],
        h3["Core/Series/SeriesRegistry.js"],
        h3["Core/Utilities.js"]
      ], function(e, h4, A) {
        var D3 = this && this.__extends || function() {
          var e2 = function(d2, a4) {
            e2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(a5, d3) {
              a5.__proto__ = d3;
            } || function(a5, d3) {
              for (var e3 in d3)
                d3.hasOwnProperty(e3) && (a5[e3] = d3[e3]);
            };
            return e2(d2, a4);
          };
          return function(d2, a4) {
            function f2() {
              this.constructor = d2;
            }
            e2(d2, a4);
            d2.prototype = a4 === null ? Object.create(a4) : (f2.prototype = a4.prototype, new f2());
          };
        }(), v = h4.series, H2 = h4.seriesTypes.hlc, I2 = A.addEvent, z2 = A.extend, q3 = A.merge, l3 = function(e2) {
          function d2() {
            var a4 = e2 !== null && e2.apply(this, arguments) || this;
            a4.data = void 0;
            a4.options = void 0;
            a4.points = void 0;
            return a4;
          }
          D3(d2, e2);
          d2.prototype.getPointPath = function(a4, d3) {
            var f2 = e2.prototype.getPointPath.call(this, a4, d3);
            d3 = d3.strokeWidth();
            var h5 = d3 % 2 / 2, l4 = Math.round(a4.plotX) - h5, p2 = Math.round(a4.shapeArgs.width / 2);
            a4.open !== null && (a4 = Math.round(a4.plotOpen) + h5, f2.push(["M", l4, a4], ["L", l4 - p2, a4]), e2.prototype.extendStem.call(this, f2, d3 / 2, a4));
            return f2;
          };
          d2.prototype.pointAttribs = function(a4, d3) {
            d3 = e2.prototype.pointAttribs.call(this, a4, d3);
            var f2 = this.options;
            delete d3.fill;
            !a4.options.color && f2.upColor && a4.open < a4.close && (d3.stroke = f2.upColor);
            return d3;
          };
          d2.prototype.toYData = function(a4) {
            return [a4.open, a4.high, a4.low, a4.close];
          };
          d2.defaultOptions = q3(H2.defaultOptions, { tooltip: { pointFormat: '<span style="color:{point.color}">\u25CF</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>' } });
          return d2;
        }(H2);
        z2(l3.prototype, { pointArrayMap: ["open", "high", "low", "close"] });
        l3.prototype.pointClass = e;
        h4.registerSeriesType("ohlc", l3);
        I2(v, "init", function(e2) {
          e2 = e2.options;
          e2.useOhlcData && e2.id !== "highcharts-navigator-series" && z2(this, { pointValKey: l3.prototype.pointValKey, pointArrayMap: l3.prototype.pointArrayMap, toYData: l3.prototype.toYData });
        });
        I2(v, "afterSetOptions", function(e2) {
          e2 = e2.options;
          var d2 = e2.dataGrouping;
          d2 && e2.useOhlcData && e2.id !== "highcharts-navigator-series" && (d2.approximation = "ohlc");
        });
        "";
        return l3;
      });
      M2(h3, "Series/Candlestick/CandlestickSeries.js", [h3["Core/DefaultOptions.js"], h3["Core/Series/SeriesRegistry.js"], h3["Core/Utilities.js"]], function(e, h4, A) {
        var D3 = this && this.__extends || function() {
          var e2 = function(h5, f2) {
            e2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, a4) {
              d2.__proto__ = a4;
            } || function(d2, a4) {
              for (var e3 in a4)
                a4.hasOwnProperty(e3) && (d2[e3] = a4[e3]);
            };
            return e2(h5, f2);
          };
          return function(h5, f2) {
            function d2() {
              this.constructor = h5;
            }
            e2(h5, f2);
            h5.prototype = f2 === null ? Object.create(f2) : (d2.prototype = f2.prototype, new d2());
          };
        }(), v = e.defaultOptions;
        e = h4.seriesTypes;
        var H2 = e.column, I2 = e.ohlc, z2 = A.merge;
        A = function(e2) {
          function h5() {
            var f2 = e2 !== null && e2.apply(this, arguments) || this;
            f2.data = void 0;
            f2.options = void 0;
            f2.points = void 0;
            return f2;
          }
          D3(h5, e2);
          h5.prototype.pointAttribs = function(e3, d2) {
            var a4 = H2.prototype.pointAttribs.call(this, e3, d2), f2 = this.options, h6 = e3.open < e3.close, l3 = f2.lineColor || this.color, q3 = e3.color || this.color;
            a4["stroke-width"] = f2.lineWidth;
            a4.fill = e3.options.color || (h6 ? f2.upColor || q3 : q3);
            a4.stroke = e3.options.lineColor || (h6 ? f2.upLineColor || l3 : l3);
            d2 && (e3 = f2.states[d2], a4.fill = e3.color || a4.fill, a4.stroke = e3.lineColor || a4.stroke, a4["stroke-width"] = e3.lineWidth || a4["stroke-width"]);
            return a4;
          };
          h5.prototype.drawPoints = function() {
            var e3 = this, d2 = e3.chart, a4 = e3.yAxis.reversed;
            e3.points.forEach(function(f2) {
              var h6 = f2.graphic, l3 = !h6;
              if (typeof f2.plotY !== "undefined") {
                h6 || (f2.graphic = h6 = d2.renderer.path().add(e3.group));
                e3.chart.styledMode || h6.attr(e3.pointAttribs(f2, f2.selected && "select")).shadow(e3.options.shadow);
                var p2 = h6.strokeWidth() % 2 / 2;
                var q3 = Math.round(f2.plotX) - p2;
                var v2 = f2.plotOpen;
                var z3 = f2.plotClose;
                var y2 = Math.min(v2, z3);
                v2 = Math.max(v2, z3);
                var C2 = Math.round(f2.shapeArgs.width / 2);
                z3 = a4 ? v2 !== f2.yBottom : Math.round(y2) !== Math.round(f2.plotHigh);
                var x3 = a4 ? Math.round(y2) !== Math.round(f2.plotHigh) : v2 !== f2.yBottom;
                y2 = Math.round(y2) + p2;
                v2 = Math.round(v2) + p2;
                p2 = [];
                p2.push(["M", q3 - C2, v2], ["L", q3 - C2, y2], ["L", q3 + C2, y2], ["L", q3 + C2, v2], ["Z"], ["M", q3, y2], ["L", q3, z3 ? Math.round(a4 ? f2.yBottom : f2.plotHigh) : y2], ["M", q3, v2], ["L", q3, x3 ? Math.round(a4 ? f2.plotHigh : f2.yBottom) : v2]);
                h6[l3 ? "attr" : "animate"]({ d: p2 }).addClass(f2.getClassName(), true);
              }
            });
          };
          h5.defaultOptions = z2(I2.defaultOptions, v.plotOptions, {
            states: { hover: { lineWidth: 2 } },
            tooltip: v.plotOptions.ohlc.tooltip,
            threshold: null,
            lineColor: "#000000",
            lineWidth: 1,
            upColor: "#ffffff",
            stickyTracking: true
          });
          return h5;
        }(I2);
        h4.registerSeriesType("candlestick", A);
        "";
        return A;
      });
      M2(h3, "Series/Flags/FlagsPoint.js", [h3["Core/Series/SeriesRegistry.js"], h3["Core/Utilities.js"]], function(e, h4) {
        var A = this && this.__extends || function() {
          var e2 = function(h5, v) {
            e2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e3, h6) {
              e3.__proto__ = h6;
            } || function(e3, h6) {
              for (var l3 in h6)
                h6.hasOwnProperty(l3) && (e3[l3] = h6[l3]);
            };
            return e2(h5, v);
          };
          return function(h5, v) {
            function z2() {
              this.constructor = h5;
            }
            e2(h5, v);
            h5.prototype = v === null ? Object.create(v) : (z2.prototype = v.prototype, new z2());
          };
        }(), D3 = h4.isNumber;
        return function(e2) {
          function h5() {
            var h6 = e2 !== null && e2.apply(this, arguments) || this;
            h6.options = void 0;
            h6.series = void 0;
            return h6;
          }
          A(h5, e2);
          h5.prototype.isValid = function() {
            return D3(this.y) || typeof this.y === "undefined";
          };
          h5.prototype.hasNewShapeType = function() {
            var e3 = this.options.shape || this.series.options.shape;
            return this.graphic && e3 && e3 !== this.graphic.symbolKey;
          };
          return h5;
        }(e.seriesTypes.column.prototype.pointClass);
      });
      M2(h3, "Series/OnSeriesComposition.js", [
        h3["Series/Column/ColumnSeries.js"],
        h3["Core/Series/Series.js"],
        h3["Core/Utilities.js"]
      ], function(e, h4, A) {
        var D3 = e.prototype, v = h4.prototype, H2 = A.defined, I2 = A.stableSort, z2;
        (function(e2) {
          function h5() {
            return v.getPlotBox.call(this.options.onSeries && this.chart.get(this.options.onSeries) || this);
          }
          function f2() {
            D3.translate.apply(this);
            var a4 = this, d3 = a4.options, e3 = a4.chart, f3 = a4.points, h6 = d3.onSeries, l3 = (h6 = h6 && e3.get(h6)) && h6.options.step, q3 = h6 && h6.points, v2 = e3.inverted, y2 = a4.xAxis, z3 = a4.yAxis;
            e3 = f3.length - 1;
            var x3;
            d3 = d3.onKey || "y";
            var c3 = q3 && q3.length, t2 = 0, g2;
            if (h6 && h6.visible && c3) {
              t2 = (h6.pointXOffset || 0) + (h6.barW || 0) / 2;
              var u4 = h6.currentDataGrouping;
              var n2 = q3[c3 - 1].x + (u4 ? u4.totalRange : 0);
              I2(f3, function(b4, a5) {
                return b4.x - a5.x;
              });
              for (d3 = "plot" + d3[0].toUpperCase() + d3.substr(1); c3-- && f3[e3]; ) {
                var b3 = q3[c3];
                u4 = f3[e3];
                u4.y = b3.y;
                if (b3.x <= u4.x && typeof b3[d3] !== "undefined") {
                  if (u4.x <= n2 && (u4.plotY = b3[d3], b3.x < u4.x && !l3 && (g2 = q3[c3 + 1]) && typeof g2[d3] !== "undefined")) {
                    var r3 = (u4.x - b3.x) / (g2.x - b3.x);
                    u4.plotY += r3 * (g2[d3] - b3[d3]);
                    u4.y += r3 * (g2.y - b3.y);
                  }
                  e3--;
                  c3++;
                  if (0 > e3)
                    break;
                }
              }
            }
            f3.forEach(function(b4, c4) {
              b4.plotX += t2;
              if (typeof b4.plotY === "undefined" || v2)
                0 <= b4.plotX && b4.plotX <= y2.len ? v2 ? (b4.plotY = y2.translate(b4.x, 0, 1, 0, 1), b4.plotX = H2(b4.y) ? z3.translate(b4.y, 0, 0, 0, 1) : 0) : b4.plotY = (y2.opposite ? 0 : a4.yAxis.len) + y2.offset : b4.shapeArgs = {};
              if ((x3 = f3[c4 - 1]) && x3.plotX === b4.plotX) {
                typeof x3.stackIndex === "undefined" && (x3.stackIndex = 0);
                var d4 = x3.stackIndex + 1;
              }
              b4.stackIndex = d4;
            });
            this.onSeries = h6;
          }
          var d2 = [];
          e2.compose = function(a4) {
            if (d2.indexOf(a4) === -1) {
              d2.push(a4);
              var e3 = a4.prototype;
              e3.getPlotBox = h5;
              e3.translate = f2;
            }
            return a4;
          };
          e2.getPlotBox = h5;
          e2.translate = f2;
        })(z2 || (z2 = {}));
        return z2;
      });
      M2(h3, "Series/Flags/FlagsSymbols.js", [h3["Core/Renderer/RendererRegistry.js"], h3["Core/Renderer/SVG/SVGRenderer.js"]], function(e, h4) {
        function A(e2) {
          D3[e2 + "pin"] = function(h5, v, z2, q3, l3) {
            var f2 = l3 && l3.anchorX;
            l3 = l3 && l3.anchorY;
            e2 === "circle" && q3 > z2 && (h5 -= Math.round((q3 - z2) / 2), z2 = q3);
            var d2 = D3[e2](h5, v, z2, q3);
            if (f2 && l3) {
              var a4 = f2;
              e2 === "circle" ? a4 = h5 + z2 / 2 : (h5 = d2[0], z2 = d2[1], h5[0] === "M" && z2[0] === "L" && (a4 = (h5[1] + z2[1]) / 2));
              d2.push(["M", a4, v > l3 ? v : v + q3], ["L", f2, l3]);
              d2 = d2.concat(D3.circle(f2 - 1, l3 - 1, 2, 2));
            }
            return d2;
          };
        }
        var D3 = h4.prototype.symbols;
        D3.flag = function(e2, h5, A2, z2, q3) {
          var l3 = q3 && q3.anchorX || e2;
          q3 = q3 && q3.anchorY || h5;
          var f2 = D3.circle(l3 - 1, q3 - 1, 2, 2);
          f2.push(["M", l3, q3], ["L", e2, h5 + z2], ["L", e2, h5], ["L", e2 + A2, h5], ["L", e2 + A2, h5 + z2], ["L", e2, h5 + z2], ["Z"]);
          return f2;
        };
        A("circle");
        A("square");
        e = e.getRendererType();
        e !== h4 && (e.prototype.symbols.circlepin = D3.circlepin, e.prototype.symbols.flag = D3.flag, e.prototype.symbols.squarepin = D3.squarepin);
        return D3;
      });
      M2(h3, "Series/Flags/FlagsSeries.js", [
        h3["Series/Flags/FlagsPoint.js"],
        h3["Core/Globals.js"],
        h3["Series/OnSeriesComposition.js"],
        h3["Core/Renderer/RendererUtilities.js"],
        h3["Core/Series/SeriesRegistry.js"],
        h3["Core/Renderer/SVG/SVGElement.js"],
        h3["Core/Utilities.js"]
      ], function(e, h4, A, E3, v, H2, I2) {
        var z2 = this && this.__extends || function() {
          var a5 = function(d3, e2) {
            a5 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(a6, d4) {
              a6.__proto__ = d4;
            } || function(a6, d4) {
              for (var e3 in d4)
                d4.hasOwnProperty(e3) && (a6[e3] = d4[e3]);
            };
            return a5(d3, e2);
          };
          return function(d3, e2) {
            function f3() {
              this.constructor = d3;
            }
            a5(d3, e2);
            d3.prototype = e2 === null ? Object.create(e2) : (f3.prototype = e2.prototype, new f3());
          };
        }();
        h4 = h4.noop;
        var q3 = E3.distribute, l3 = v.series, f2 = v.seriesTypes.column, d2 = I2.addEvent, a4 = I2.defined;
        E3 = I2.extend;
        var p2 = I2.merge, k2 = I2.objectEach, F2 = I2.wrap;
        I2 = function(e2) {
          function h5() {
            var a5 = e2 !== null && e2.apply(this, arguments) || this;
            a5.data = void 0;
            a5.options = void 0;
            a5.points = void 0;
            return a5;
          }
          z2(h5, e2);
          h5.prototype.animate = function(a5) {
            a5 && this.setClip();
          };
          h5.prototype.drawPoints = function() {
            var d3 = this.points, e3 = this.chart, f3 = e3.renderer, h6 = e3.inverted, l4 = this.options, c3 = l4.y, t2, g2 = this.yAxis, u4 = {}, n2 = [];
            for (t2 = d3.length; t2--; ) {
              var b3 = d3[t2];
              var r3 = (h6 ? b3.plotY : b3.plotX) > this.xAxis.len;
              var v2 = b3.plotX;
              var m2 = b3.stackIndex;
              var w2 = b3.options.shape || l4.shape;
              var B = b3.plotY;
              typeof B !== "undefined" && (B = b3.plotY + c3 - (typeof m2 !== "undefined" && m2 * l4.stackDistance));
              b3.anchorX = m2 ? void 0 : b3.plotX;
              var z3 = m2 ? void 0 : b3.plotY;
              var A2 = w2 !== "flag";
              m2 = b3.graphic;
              typeof B !== "undefined" && 0 <= v2 && !r3 ? (m2 && b3.hasNewShapeType() && (m2 = m2.destroy()), m2 || (m2 = b3.graphic = f3.label("", null, null, w2, null, null, l4.useHTML).addClass("highcharts-point").add(this.markerGroup), b3.graphic.div && (b3.graphic.div.point = b3), m2.isNew = true), m2.attr({
                align: A2 ? "center" : "left",
                width: l4.width,
                height: l4.height,
                "text-align": l4.textAlign
              }), e3.styledMode || m2.attr(this.pointAttribs(b3)).css(p2(l4.style, b3.style)).shadow(l4.shadow), 0 < v2 && (v2 -= m2.strokeWidth() % 2), w2 = { y: B, anchorY: z3 }, l4.allowOverlapX && (w2.x = v2, w2.anchorX = b3.anchorX), m2.attr({ text: b3.options.title || l4.title || "A" })[m2.isNew ? "attr" : "animate"](w2), l4.allowOverlapX || (u4[b3.plotX] ? u4[b3.plotX].size = Math.max(u4[b3.plotX].size, m2.width) : u4[b3.plotX] = { align: A2 ? 0.5 : 0, size: m2.width, target: v2, anchorX: v2 }), b3.tooltipPos = [v2, B + g2.pos - e3.plotTop]) : m2 && (b3.graphic = m2.destroy());
            }
            if (!l4.allowOverlapX) {
              var D3 = 100;
              k2(u4, function(b4) {
                b4.plotX = b4.anchorX;
                n2.push(b4);
                D3 = Math.max(b4.size, D3);
              });
              q3(n2, h6 ? g2.len : this.xAxis.len, D3);
              d3.forEach(function(b4) {
                var c4 = b4.graphic && u4[b4.plotX];
                c4 && (b4.graphic[b4.graphic.isNew ? "attr" : "animate"]({ x: c4.pos + c4.align * c4.size, anchorX: b4.anchorX }), a4(c4.pos) ? b4.graphic.isNew = false : (b4.graphic.attr({ x: -9999, anchorX: -9999 }), b4.graphic.isNew = true));
              });
            }
            l4.useHTML && F2(this.markerGroup, "on", function(b4) {
              return H2.prototype.on.apply(b4.apply(this, [].slice.call(arguments, 1)), [].slice.call(arguments, 1));
            });
          };
          h5.prototype.drawTracker = function() {
            var a5 = this.points;
            e2.prototype.drawTracker.call(this);
            a5.forEach(function(e3) {
              var f3 = e3.graphic;
              f3 && (e3.unbindMouseOver && e3.unbindMouseOver(), e3.unbindMouseOver = d2(f3.element, "mouseover", function() {
                0 < e3.stackIndex && !e3.raised && (e3._y = f3.y, f3.attr({ y: e3._y - 8 }), e3.raised = true);
                a5.forEach(function(a6) {
                  a6 !== e3 && a6.raised && a6.graphic && (a6.graphic.attr({ y: a6._y }), a6.raised = false);
                });
              }));
            });
          };
          h5.prototype.pointAttribs = function(a5, d3) {
            var e3 = this.options, f3 = a5 && a5.color || this.color, h6 = e3.lineColor, c3 = a5 && a5.lineWidth;
            a5 = a5 && a5.fillColor || e3.fillColor;
            d3 && (a5 = e3.states[d3].fillColor, h6 = e3.states[d3].lineColor, c3 = e3.states[d3].lineWidth);
            return { fill: a5 || f3, stroke: h6 || f3, "stroke-width": c3 || e3.lineWidth || 0 };
          };
          h5.prototype.setClip = function() {
            l3.prototype.setClip.apply(this, arguments);
            this.options.clip !== false && this.sharedClipKey && this.markerGroup && this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey]);
          };
          h5.defaultOptions = p2(f2.defaultOptions, {
            pointRange: 0,
            allowOverlapX: false,
            shape: "flag",
            stackDistance: 12,
            textAlign: "center",
            tooltip: { pointFormat: "{point.text}" },
            threshold: null,
            y: -30,
            fillColor: "#ffffff",
            lineWidth: 1,
            states: { hover: { lineColor: "#000000", fillColor: "#ccd6eb" } },
            style: { fontSize: "11px", fontWeight: "bold" }
          });
          return h5;
        }(f2);
        A.compose(I2);
        E3(I2.prototype, { allowDG: false, forceCrop: true, invertible: false, noSharedTooltip: true, pointClass: e, sorted: false, takeOrdinalPosition: false, trackerGroups: ["markerGroup"], buildKDTree: h4, init: l3.prototype.init, invertGroups: h4 });
        v.registerSeriesType("flags", I2);
        "";
        "";
        return I2;
      });
      M2(h3, "Core/Axis/ScrollbarAxis.js", [h3["Core/Utilities.js"]], function(e) {
        var h4 = e.addEvent, A = e.defined, E3 = e.pick;
        return function() {
          function e2() {
          }
          e2.compose = function(v, D3) {
            if (e2.composed.indexOf(v) === -1)
              e2.composed.push(v);
            else
              return v;
            var z2 = function(e3) {
              var h5 = E3(e3.options && e3.options.min, e3.min), f2 = E3(e3.options && e3.options.max, e3.max);
              return { axisMin: h5, axisMax: f2, scrollMin: A(e3.dataMin) ? Math.min(h5, e3.min, e3.dataMin, E3(e3.threshold, Infinity)) : h5, scrollMax: A(e3.dataMax) ? Math.max(f2, e3.max, e3.dataMax, E3(e3.threshold, -Infinity)) : f2 };
            };
            h4(v, "afterInit", function() {
              var e3 = this;
              e3.options && e3.options.scrollbar && e3.options.scrollbar.enabled && (e3.options.scrollbar.vertical = !e3.horiz, e3.options.startOnTick = e3.options.endOnTick = false, e3.scrollbar = new D3(e3.chart.renderer, e3.options.scrollbar, e3.chart), h4(e3.scrollbar, "changed", function(h5) {
                var f2 = z2(e3), d2 = f2.axisMax, a4 = f2.scrollMin, l3 = f2.scrollMax - a4;
                A(f2.axisMin) && A(d2) && (e3.horiz && !e3.reversed || !e3.horiz && e3.reversed ? (f2 = a4 + l3 * this.to, a4 += l3 * this.from) : (f2 = a4 + l3 * (1 - this.from), a4 += l3 * (1 - this.to)), this.shouldUpdateExtremes(h5.DOMType) ? e3.setExtremes(a4, f2, true, h5.DOMType !== "mousemove" && h5.DOMType !== "touchmove", h5) : this.setRange(this.from, this.to));
              }));
            });
            h4(v, "afterRender", function() {
              var e3 = z2(this), h5 = e3.scrollMin, f2 = e3.scrollMax;
              e3 = this.scrollbar;
              var d2 = this.axisTitleMargin + (this.titleOffset || 0), a4 = this.chart.scrollbarsOffsets, p2 = this.options.margin || 0;
              e3 && (this.horiz ? (this.opposite || (a4[1] += d2), e3.position(this.left, this.top + this.height + 2 + a4[1] - (this.opposite ? p2 : 0), this.width, this.height), this.opposite || (a4[1] += p2), d2 = 1) : (this.opposite && (a4[0] += d2), e3.position(e3.options.opposite ? this.left + this.width + 2 + a4[0] - (this.opposite ? 0 : p2) : this.opposite ? 0 : p2, this.top, this.width, this.height), this.opposite && (a4[0] += p2), d2 = 0), a4[d2] += e3.size + e3.options.margin, isNaN(h5) || isNaN(f2) || !A(this.min) || !A(this.max) || this.min === this.max ? e3.setRange(0, 1) : (a4 = (this.min - h5) / (f2 - h5), h5 = (this.max - h5) / (f2 - h5), this.horiz && !this.reversed || !this.horiz && this.reversed ? e3.setRange(a4, h5) : e3.setRange(1 - h5, 1 - a4)));
            });
            h4(v, "afterGetOffset", function() {
              var e3 = this.scrollbar && !this.scrollbar.options.opposite;
              e3 = this.horiz ? 2 : e3 ? 3 : 1;
              var h5 = this.scrollbar;
              h5 && (this.chart.scrollbarsOffsets = [0, 0], this.chart.axisOffset[e3] += h5.size + h5.options.margin);
            });
            return v;
          };
          e2.composed = [];
          return e2;
        }();
      });
      M2(h3, "Core/ScrollbarDefaults.js", [h3["Core/Globals.js"]], function(e) {
        return {
          height: e.isTouchDevice ? 20 : 14,
          barBorderRadius: 0,
          buttonBorderRadius: 0,
          liveRedraw: void 0,
          margin: 10,
          minWidth: 6,
          opposite: true,
          step: 0.2,
          zIndex: 3,
          barBackgroundColor: "#cccccc",
          barBorderWidth: 1,
          barBorderColor: "#cccccc",
          buttonArrowColor: "#333333",
          buttonBackgroundColor: "#e6e6e6",
          buttonBorderColor: "#cccccc",
          buttonBorderWidth: 1,
          rifleColor: "#333333",
          trackBackgroundColor: "#f2f2f2",
          trackBorderColor: "#f2f2f2",
          trackBorderWidth: 1
        };
      });
      M2(h3, "Core/Scrollbar.js", [h3["Core/DefaultOptions.js"], h3["Core/Globals.js"], h3["Core/Axis/ScrollbarAxis.js"], h3["Core/ScrollbarDefaults.js"], h3["Core/Utilities.js"]], function(e, h4, A, E3, v) {
        var D3 = e.defaultOptions, I2 = v.addEvent, z2 = v.correctFloat, q3 = v.defined, l3 = v.destroyObjectProperties, f2 = v.fireEvent, d2 = v.merge, a4 = v.pick, p2 = v.removeEvent;
        e = function() {
          function e2(a5, d3, e3) {
            this._events = [];
            this.chart = void 0;
            this.from = this.chartY = this.chartX = 0;
            this.scrollbar = this.renderer = this.options = this.group = void 0;
            this.scrollbarButtons = [];
            this.scrollbarGroup = void 0;
            this.scrollbarLeft = 0;
            this.scrollbarRifles = void 0;
            this.scrollbarStrokeWidth = 1;
            this.to = this.size = this.scrollbarTop = 0;
            this.track = void 0;
            this.trackBorderWidth = 1;
            this.userOptions = void 0;
            this.y = this.x = 0;
            this.init(a5, d3, e3);
          }
          e2.compose = function(a5) {
            A.compose(a5, e2);
          };
          e2.swapXY = function(a5, d3) {
            d3 && a5.forEach(function(a6) {
              for (var d4 = a6.length, e3, f3 = 0; f3 < d4; f3 += 2)
                e3 = a6[f3 + 1], typeof e3 === "number" && (a6[f3 + 1] = a6[f3 + 2], a6[f3 + 2] = e3);
            });
            return a5;
          };
          e2.prototype.addEvents = function() {
            var a5 = this.options.inverted ? [1, 0] : [0, 1], d3 = this.scrollbarButtons, e3 = this.scrollbarGroup.element, f3 = this.track.element, k2 = this.mouseDownHandler.bind(this), l4 = this.mouseMoveHandler.bind(this), p3 = this.mouseUpHandler.bind(this);
            a5 = [[d3[a5[0]].element, "click", this.buttonToMinClick.bind(this)], [d3[a5[1]].element, "click", this.buttonToMaxClick.bind(this)], [f3, "click", this.trackClick.bind(this)], [e3, "mousedown", k2], [e3.ownerDocument, "mousemove", l4], [e3.ownerDocument, "mouseup", p3]];
            h4.hasTouch && a5.push([e3, "touchstart", k2], [e3.ownerDocument, "touchmove", l4], [e3.ownerDocument, "touchend", p3]);
            a5.forEach(function(a6) {
              I2.apply(null, a6);
            });
            this._events = a5;
          };
          e2.prototype.buttonToMaxClick = function(d3) {
            var e3 = (this.to - this.from) * a4(this.options.step, 0.2);
            this.updatePosition(this.from + e3, this.to + e3);
            f2(this, "changed", { from: this.from, to: this.to, trigger: "scrollbar", DOMEvent: d3 });
          };
          e2.prototype.buttonToMinClick = function(d3) {
            var e3 = z2(this.to - this.from) * a4(this.options.step, 0.2);
            this.updatePosition(z2(this.from - e3), z2(this.to - e3));
            f2(this, "changed", {
              from: this.from,
              to: this.to,
              trigger: "scrollbar",
              DOMEvent: d3
            });
          };
          e2.prototype.cursorToScrollbarPosition = function(a5) {
            var d3 = this.options;
            d3 = d3.minWidth > this.calculatedWidth ? d3.minWidth : 0;
            return { chartX: (a5.chartX - this.x - this.xOffset) / (this.barWidth - d3), chartY: (a5.chartY - this.y - this.yOffset) / (this.barWidth - d3) };
          };
          e2.prototype.destroy = function() {
            var a5 = this, d3 = a5.chart.scroller;
            a5.removeEvents();
            ["track", "scrollbarRifles", "scrollbar", "scrollbarGroup", "group"].forEach(function(d4) {
              a5[d4] && a5[d4].destroy && (a5[d4] = a5[d4].destroy());
            });
            d3 && a5 === d3.scrollbar && (d3.scrollbar = null, l3(d3.scrollbarButtons));
          };
          e2.prototype.drawScrollbarButton = function(a5) {
            var d3 = this.renderer, f3 = this.scrollbarButtons, h5 = this.options, k2 = this.size, l4 = d3.g().add(this.group);
            f3.push(l4);
            l4 = d3.rect().addClass("highcharts-scrollbar-button").add(l4);
            this.chart.styledMode || l4.attr({ stroke: h5.buttonBorderColor, "stroke-width": h5.buttonBorderWidth, fill: h5.buttonBackgroundColor });
            l4.attr(l4.crisp({ x: -0.5, y: -0.5, width: k2 + 1, height: k2 + 1, r: h5.buttonBorderRadius }, l4.strokeWidth()));
            l4 = d3.path(e2.swapXY([["M", k2 / 2 + (a5 ? -1 : 1), k2 / 2 - 3], ["L", k2 / 2 + (a5 ? -1 : 1), k2 / 2 + 3], ["L", k2 / 2 + (a5 ? 2 : -2), k2 / 2]], h5.vertical)).addClass("highcharts-scrollbar-arrow").add(f3[a5]);
            this.chart.styledMode || l4.attr({ fill: h5.buttonArrowColor });
          };
          e2.prototype.init = function(e3, f3, h5) {
            this.scrollbarButtons = [];
            this.renderer = e3;
            this.userOptions = f3;
            this.options = d2(E3, D3.scrollbar, f3);
            this.chart = h5;
            this.size = a4(this.options.size, this.options.height);
            f3.enabled && (this.render(), this.addEvents());
          };
          e2.prototype.mouseDownHandler = function(a5) {
            a5 = this.chart.pointer.normalize(a5);
            a5 = this.cursorToScrollbarPosition(a5);
            this.chartX = a5.chartX;
            this.chartY = a5.chartY;
            this.initPositions = [this.from, this.to];
            this.grabbedCenter = true;
          };
          e2.prototype.mouseMoveHandler = function(a5) {
            var d3 = this.chart.pointer.normalize(a5), e3 = this.options.vertical ? "chartY" : "chartX", h5 = this.initPositions || [];
            !this.grabbedCenter || a5.touches && a5.touches[0][e3] === 0 || (d3 = this.cursorToScrollbarPosition(d3)[e3], e3 = this[e3], e3 = d3 - e3, this.hasDragged = true, this.updatePosition(h5[0] + e3, h5[1] + e3), this.hasDragged && f2(this, "changed", { from: this.from, to: this.to, trigger: "scrollbar", DOMType: a5.type, DOMEvent: a5 }));
          };
          e2.prototype.mouseUpHandler = function(a5) {
            this.hasDragged && f2(this, "changed", { from: this.from, to: this.to, trigger: "scrollbar", DOMType: a5.type, DOMEvent: a5 });
            this.grabbedCenter = this.hasDragged = this.chartX = this.chartY = null;
          };
          e2.prototype.position = function(a5, d3, e3, f3) {
            var h5 = this.options.vertical, k2 = this.rendered ? "animate" : "attr", l4 = 0;
            this.x = a5;
            this.y = d3 + this.trackBorderWidth;
            this.width = e3;
            this.xOffset = this.height = f3;
            this.yOffset = l4;
            h5 ? (this.width = this.yOffset = e3 = l4 = this.size, this.xOffset = d3 = 0, this.barWidth = f3 - 2 * e3, this.x = a5 += this.options.margin) : (this.height = this.xOffset = f3 = d3 = this.size, this.barWidth = e3 - 2 * f3, this.y += this.options.margin);
            this.group[k2]({ translateX: a5, translateY: this.y });
            this.track[k2]({ width: e3, height: f3 });
            this.scrollbarButtons[1][k2]({ translateX: h5 ? 0 : e3 - d3, translateY: h5 ? f3 - l4 : 0 });
          };
          e2.prototype.removeEvents = function() {
            this._events.forEach(function(a5) {
              p2.apply(null, a5);
            });
            this._events.length = 0;
          };
          e2.prototype.render = function() {
            var a5 = this.renderer, d3 = this.options, f3 = this.size, h5 = this.chart.styledMode, k2 = a5.g("scrollbar").attr({ zIndex: d3.zIndex, translateY: -99999 }).add();
            this.group = k2;
            this.track = a5.rect().addClass("highcharts-scrollbar-track").attr({ x: 0, r: d3.trackBorderRadius || 0, height: f3, width: f3 }).add(k2);
            h5 || this.track.attr({ fill: d3.trackBackgroundColor, stroke: d3.trackBorderColor, "stroke-width": d3.trackBorderWidth });
            this.trackBorderWidth = this.track.strokeWidth();
            this.track.attr({ y: -this.trackBorderWidth % 2 / 2 });
            this.scrollbarGroup = a5.g().add(k2);
            this.scrollbar = a5.rect().addClass("highcharts-scrollbar-thumb").attr({ height: f3, width: f3, r: d3.barBorderRadius || 0 }).add(this.scrollbarGroup);
            this.scrollbarRifles = a5.path(e2.swapXY([["M", -3, f3 / 4], ["L", -3, 2 * f3 / 3], ["M", 0, f3 / 4], ["L", 0, 2 * f3 / 3], ["M", 3, f3 / 4], ["L", 3, 2 * f3 / 3]], d3.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup);
            h5 || (this.scrollbar.attr({ fill: d3.barBackgroundColor, stroke: d3.barBorderColor, "stroke-width": d3.barBorderWidth }), this.scrollbarRifles.attr({ stroke: d3.rifleColor, "stroke-width": 1 }));
            this.scrollbarStrokeWidth = this.scrollbar.strokeWidth();
            this.scrollbarGroup.translate(-this.scrollbarStrokeWidth % 2 / 2, -this.scrollbarStrokeWidth % 2 / 2);
            this.drawScrollbarButton(0);
            this.drawScrollbarButton(1);
          };
          e2.prototype.setRange = function(a5, d3) {
            var e3 = this.options, f3 = e3.vertical, h5 = e3.minWidth, k2 = this.barWidth, l4 = !this.rendered || this.hasDragged || this.chart.navigator && this.chart.navigator.hasDragged ? "attr" : "animate";
            if (q3(k2)) {
              var p3 = k2 * Math.min(d3, 1);
              a5 = Math.max(a5, 0);
              var c3 = Math.ceil(k2 * a5);
              this.calculatedWidth = p3 = z2(p3 - c3);
              p3 < h5 && (c3 = (k2 - h5 + p3) * a5, p3 = h5);
              h5 = Math.floor(c3 + this.xOffset + this.yOffset);
              k2 = p3 / 2 - 0.5;
              this.from = a5;
              this.to = d3;
              f3 ? (this.scrollbarGroup[l4]({ translateY: h5 }), this.scrollbar[l4]({ height: p3 }), this.scrollbarRifles[l4]({ translateY: k2 }), this.scrollbarTop = h5, this.scrollbarLeft = 0) : (this.scrollbarGroup[l4]({ translateX: h5 }), this.scrollbar[l4]({ width: p3 }), this.scrollbarRifles[l4]({ translateX: k2 }), this.scrollbarLeft = h5, this.scrollbarTop = 0);
              12 >= p3 ? this.scrollbarRifles.hide() : this.scrollbarRifles.show(true);
              e3.showFull === false && (0 >= a5 && 1 <= d3 ? this.group.hide() : this.group.show());
              this.rendered = true;
            }
          };
          e2.prototype.shouldUpdateExtremes = function(d3) {
            return a4(this.options.liveRedraw, h4.svg && !h4.isTouchDevice && !this.chart.isBoosting) || d3 === "mouseup" || d3 === "touchend" || !q3(d3);
          };
          e2.prototype.trackClick = function(a5) {
            var d3 = this.chart.pointer.normalize(a5), e3 = this.to - this.from, h5 = this.y + this.scrollbarTop, k2 = this.x + this.scrollbarLeft;
            this.options.vertical && d3.chartY > h5 || !this.options.vertical && d3.chartX > k2 ? this.updatePosition(this.from + e3, this.to + e3) : this.updatePosition(this.from - e3, this.to - e3);
            f2(this, "changed", { from: this.from, to: this.to, trigger: "scrollbar", DOMEvent: a5 });
          };
          e2.prototype.update = function(a5) {
            this.destroy();
            this.init(this.chart.renderer, d2(true, this.options, a5), this.chart);
          };
          e2.prototype.updatePosition = function(a5, d3) {
            1 < d3 && (a5 = z2(1 - z2(d3 - a5)), d3 = 1);
            0 > a5 && (d3 = z2(d3 - a5), a5 = 0);
            this.from = a5;
            this.to = d3;
          };
          e2.defaultOptions = E3;
          return e2;
        }();
        D3.scrollbar = d2(true, e.defaultOptions, D3.scrollbar);
        return e;
      });
      M2(h3, "Core/Axis/NavigatorAxis.js", [h3["Core/Globals.js"], h3["Core/Utilities.js"]], function(e, h4) {
        var A = e.isTouchDevice, D3 = h4.addEvent, v = h4.correctFloat, H2 = h4.defined, I2 = h4.isNumber, z2 = h4.pick, q3 = function() {
          function e2(e3) {
            this.axis = e3;
          }
          e2.prototype.destroy = function() {
            this.axis = void 0;
          };
          e2.prototype.toFixedRange = function(e3, d2, a4, h5) {
            var f2 = this.axis, l3 = f2.chart;
            l3 = l3 && l3.fixedRange;
            var p2 = (f2.pointRange || 0) / 2;
            e3 = z2(a4, f2.translate(e3, true, !f2.horiz));
            d2 = z2(h5, f2.translate(d2, true, !f2.horiz));
            f2 = l3 && (d2 - e3) / l3;
            H2(a4) || (e3 = v(e3 + p2));
            H2(h5) || (d2 = v(d2 - p2));
            0.7 < f2 && 1.3 > f2 && (h5 ? e3 = d2 - l3 : d2 = e3 + l3);
            I2(e3) && I2(d2) || (e3 = d2 = void 0);
            return { min: e3, max: d2 };
          };
          return e2;
        }();
        return function() {
          function e2() {
          }
          e2.compose = function(e3) {
            e3.keepProps.push("navigatorAxis");
            D3(e3, "init", function() {
              this.navigatorAxis || (this.navigatorAxis = new q3(this));
            });
            D3(e3, "zoom", function(d2) {
              var a4 = this.chart.options, e4 = a4.navigator, f2 = this.navigatorAxis, h5 = a4.chart.pinchType, l3 = a4.rangeSelector;
              a4 = a4.chart.zoomType;
              this.isXAxis && (e4 && e4.enabled || l3 && l3.enabled) && (a4 === "y" ? d2.zoomed = false : (!A && a4 === "xy" || A && h5 === "xy") && this.options.range && (e4 = f2.previousZoom, H2(d2.newMin) ? f2.previousZoom = [this.min, this.max] : e4 && (d2.newMin = e4[0], d2.newMax = e4[1], f2.previousZoom = void 0)));
              typeof d2.zoomed !== "undefined" && d2.preventDefault();
            });
          };
          e2.AdditionsClass = q3;
          return e2;
        }();
      });
      M2(h3, "Core/Navigator.js", [
        h3["Core/Axis/Axis.js"],
        h3["Core/Chart/Chart.js"],
        h3["Core/Color/Color.js"],
        h3["Core/Globals.js"],
        h3["Core/Axis/NavigatorAxis.js"],
        h3["Core/DefaultOptions.js"],
        h3["Core/Renderer/RendererRegistry.js"],
        h3["Core/Scrollbar.js"],
        h3["Core/Series/Series.js"],
        h3["Core/Series/SeriesRegistry.js"],
        h3["Core/Utilities.js"]
      ], function(e, h4, A, E3, v, H2, I2, z2, q3, l3, f2) {
        A = A.parse;
        var d2 = E3.hasTouch, a4 = E3.isTouchDevice, p2 = H2.defaultOptions, k2 = f2.addEvent, D3 = f2.clamp, B = f2.correctFloat, J2 = f2.defined, K2 = f2.destroyObjectProperties, L3 = f2.erase, y2 = f2.extend, C2 = f2.find, x3 = f2.isArray, c3 = f2.isNumber, t2 = f2.merge, g2 = f2.pick, u4 = f2.removeEvent, n2 = f2.splat, b3 = function(a5) {
          for (var b4 = [], d3 = 1; d3 < arguments.length; d3++)
            b4[d3 - 1] = arguments[d3];
          b4 = [].filter.call(b4, c3);
          if (b4.length)
            return Math[a5].apply(0, b4);
        };
        H2 = typeof l3.seriesTypes.areaspline === "undefined" ? "line" : "areaspline";
        y2(p2, { navigator: { height: 40, margin: 25, maskInside: true, handles: { width: 7, height: 15, symbols: ["navigator-handle", "navigator-handle"], enabled: true, lineWidth: 1, backgroundColor: "#f2f2f2", borderColor: "#999999" }, maskFill: A("#6685c2").setOpacity(0.3).get(), outlineColor: "#cccccc", outlineWidth: 1, series: {
          type: H2,
          fillOpacity: 0.05,
          lineWidth: 1,
          compare: null,
          dataGrouping: { approximation: "average", enabled: true, groupPixelWidth: 2, firstAnchor: "firstPoint", anchor: "middle", lastAnchor: "lastPoint", units: [["millisecond", [1, 2, 5, 10, 20, 25, 50, 100, 200, 500]], ["second", [1, 2, 5, 10, 15, 30]], ["minute", [1, 2, 5, 10, 15, 30]], ["hour", [1, 2, 3, 4, 6, 8, 12]], ["day", [1, 2, 3, 4]], ["week", [1, 2, 3]], ["month", [1, 3, 6]], ["year", null]] },
          dataLabels: { enabled: false, zIndex: 2 },
          id: "highcharts-navigator-series",
          className: "highcharts-navigator-series",
          lineColor: null,
          marker: { enabled: false },
          threshold: null
        }, xAxis: { overscroll: 0, className: "highcharts-navigator-xaxis", tickLength: 0, lineWidth: 0, gridLineColor: "#e6e6e6", gridLineWidth: 1, tickPixelInterval: 200, labels: { align: "left", style: { color: "#999999" }, x: 3, y: -4 }, crosshair: false }, yAxis: { className: "highcharts-navigator-yaxis", gridLineWidth: 0, startOnTick: false, endOnTick: false, minPadding: 0.1, maxPadding: 0.1, labels: { enabled: false }, crosshair: false, title: { text: null }, tickLength: 0, tickWidth: 0 } } });
        I2.getRendererType().prototype.symbols["navigator-handle"] = function(a5, b4, c4, d3, e2) {
          a5 = (e2 && e2.width || 0) / 2;
          b4 = Math.round(a5 / 3) + 0.5;
          e2 = e2 && e2.height || 0;
          return [["M", -a5 - 1, 0.5], ["L", a5, 0.5], ["L", a5, e2 + 0.5], ["L", -a5 - 1, e2 + 0.5], ["L", -a5 - 1, 0.5], ["M", -b4, 4], ["L", -b4, e2 - 3], ["M", b4 - 1, 4], ["L", b4 - 1, e2 - 3]];
        };
        var r3 = function() {
          function f3(a5) {
            this.zoomedMin = this.zoomedMax = this.yAxis = this.xAxis = this.top = this.size = this.shades = this.rendered = this.range = this.outlineHeight = this.outline = this.opposite = this.navigatorSize = this.navigatorSeries = this.navigatorOptions = this.navigatorGroup = this.navigatorEnabled = this.left = this.height = this.handles = this.chart = this.baseSeries = void 0;
            this.init(a5);
          }
          f3.prototype.drawHandle = function(a5, b4, c4, d3) {
            var e2 = this.navigatorOptions.handles.height;
            this.handles[b4][d3](c4 ? { translateX: Math.round(this.left + this.height / 2), translateY: Math.round(this.top + parseInt(a5, 10) + 0.5 - e2) } : { translateX: Math.round(this.left + parseInt(a5, 10)), translateY: Math.round(this.top + this.height / 2 - e2 / 2 - 1) });
          };
          f3.prototype.drawOutline = function(a5, b4, c4, d3) {
            var e2 = this.navigatorOptions.maskInside, f4 = this.outline.strokeWidth(), g3 = f4 / 2, h5 = f4 % 2 / 2;
            f4 = this.outlineHeight;
            var m2 = this.scrollbarHeight || 0, k3 = this.size, l4 = this.left - m2, n3 = this.top;
            c4 ? (l4 -= g3, c4 = n3 + b4 + h5, b4 = n3 + a5 + h5, h5 = [["M", l4 + f4, n3 - m2 - h5], ["L", l4 + f4, c4], ["L", l4, c4], ["L", l4, b4], ["L", l4 + f4, b4], ["L", l4 + f4, n3 + k3 + m2]], e2 && h5.push(["M", l4 + f4, c4 - g3], ["L", l4 + f4, b4 + g3])) : (a5 += l4 + m2 - h5, b4 += l4 + m2 - h5, n3 += g3, h5 = [["M", l4, n3], ["L", a5, n3], ["L", a5, n3 + f4], ["L", b4, n3 + f4], ["L", b4, n3], ["L", l4 + k3 + 2 * m2, n3]], e2 && h5.push(["M", a5 - g3, n3], ["L", b4 + g3, n3]));
            this.outline[d3]({ d: h5 });
          };
          f3.prototype.drawMasks = function(a5, b4, c4, d3) {
            var e2 = this.left, f4 = this.top, g3 = this.height;
            if (c4) {
              var h5 = [e2, e2, e2];
              var m2 = [f4, f4 + a5, f4 + b4];
              var k3 = [g3, g3, g3];
              var l4 = [a5, b4 - a5, this.size - b4];
            } else
              h5 = [e2, e2 + a5, e2 + b4], m2 = [f4, f4, f4], k3 = [a5, b4 - a5, this.size - b4], l4 = [g3, g3, g3];
            this.shades.forEach(function(a6, b5) {
              a6[d3]({ x: h5[b5], y: m2[b5], width: k3[b5], height: l4[b5] });
            });
          };
          f3.prototype.renderElements = function() {
            var a5 = this, b4 = a5.navigatorOptions, c4 = b4.maskInside, d3 = a5.chart, e2 = d3.renderer, f4, g3 = { cursor: d3.inverted ? "ns-resize" : "ew-resize" };
            a5.navigatorGroup = f4 = e2.g("navigator").attr({ zIndex: 8, visibility: "hidden" }).add();
            [!c4, c4, !c4].forEach(function(c5, h5) {
              a5.shades[h5] = e2.rect().addClass("highcharts-navigator-mask" + (h5 === 1 ? "-inside" : "-outside")).add(f4);
              d3.styledMode || a5.shades[h5].attr({ fill: c5 ? b4.maskFill : "rgba(0,0,0,0)" }).css(h5 === 1 && g3);
            });
            a5.outline = e2.path().addClass("highcharts-navigator-outline").add(f4);
            d3.styledMode || a5.outline.attr({ "stroke-width": b4.outlineWidth, stroke: b4.outlineColor });
            b4.handles.enabled && [0, 1].forEach(function(c5) {
              b4.handles.inverted = d3.inverted;
              a5.handles[c5] = e2.symbol(b4.handles.symbols[c5], -b4.handles.width / 2 - 1, 0, b4.handles.width, b4.handles.height, b4.handles);
              a5.handles[c5].attr({ zIndex: 7 - c5 }).addClass("highcharts-navigator-handle highcharts-navigator-handle-" + ["left", "right"][c5]).add(f4);
              if (!d3.styledMode) {
                var h5 = b4.handles;
                a5.handles[c5].attr({ fill: h5.backgroundColor, stroke: h5.borderColor, "stroke-width": h5.lineWidth }).css(g3);
              }
            });
          };
          f3.prototype.update = function(a5) {
            (this.series || []).forEach(function(a6) {
              a6.baseSeries && delete a6.baseSeries.navigatorSeries;
            });
            this.destroy();
            t2(true, this.chart.options.navigator, this.options, a5);
            this.init(this.chart);
          };
          f3.prototype.render = function(a5, b4, d3, e2) {
            var f4 = this.chart, h5 = this.scrollbarHeight, m2, k3 = this.xAxis, l4 = k3.pointRange || 0;
            var n3 = k3.navigatorAxis.fake ? f4.xAxis[0] : k3;
            var r4 = this.navigatorEnabled, p3, w2 = this.rendered;
            var q4 = f4.inverted;
            var t3 = f4.xAxis[0].minRange, u5 = f4.xAxis[0].options.maxRange;
            if (!this.hasDragged || J2(d3)) {
              a5 = B(a5 - l4 / 2);
              b4 = B(b4 + l4 / 2);
              if (!c3(a5) || !c3(b4))
                if (w2)
                  d3 = 0, e2 = g2(k3.width, n3.width);
                else
                  return;
              this.left = g2(k3.left, f4.plotLeft + h5 + (q4 ? f4.plotWidth : 0));
              this.size = p3 = m2 = g2(k3.len, (q4 ? f4.plotHeight : f4.plotWidth) - 2 * h5);
              f4 = q4 ? h5 : m2 + 2 * h5;
              d3 = g2(d3, k3.toPixels(a5, true));
              e2 = g2(e2, k3.toPixels(b4, true));
              c3(d3) && Math.abs(d3) !== Infinity || (d3 = 0, e2 = f4);
              a5 = k3.toValue(d3, true);
              b4 = k3.toValue(e2, true);
              var x4 = Math.abs(B(b4 - a5));
              x4 < t3 ? this.grabbedLeft ? d3 = k3.toPixels(b4 - t3 - l4, true) : this.grabbedRight && (e2 = k3.toPixels(a5 + t3 + l4, true)) : J2(u5) && B(x4 - l4) > u5 && (this.grabbedLeft ? d3 = k3.toPixels(b4 - u5 - l4, true) : this.grabbedRight && (e2 = k3.toPixels(a5 + u5 + l4, true)));
              this.zoomedMax = D3(Math.max(d3, e2), 0, p3);
              this.zoomedMin = D3(this.fixedWidth ? this.zoomedMax - this.fixedWidth : Math.min(d3, e2), 0, p3);
              this.range = this.zoomedMax - this.zoomedMin;
              p3 = Math.round(this.zoomedMax);
              d3 = Math.round(this.zoomedMin);
              r4 && (this.navigatorGroup.attr({ visibility: "visible" }), w2 = w2 && !this.hasDragged ? "animate" : "attr", this.drawMasks(d3, p3, q4, w2), this.drawOutline(d3, p3, q4, w2), this.navigatorOptions.handles.enabled && (this.drawHandle(d3, 0, q4, w2), this.drawHandle(p3, 1, q4, w2)));
              this.scrollbar && (q4 ? (q4 = this.top - h5, n3 = this.left - h5 + (r4 || !n3.opposite ? 0 : (n3.titleOffset || 0) + n3.axisTitleMargin), h5 = m2 + 2 * h5) : (q4 = this.top + (r4 ? this.height : -h5), n3 = this.left - h5), this.scrollbar.position(n3, q4, f4, h5), this.scrollbar.setRange(this.zoomedMin / (m2 || 1), this.zoomedMax / (m2 || 1)));
              this.rendered = true;
            }
          };
          f3.prototype.addMouseEvents = function() {
            var a5 = this, b4 = a5.chart, c4 = b4.container, e2 = [], f4, g3;
            a5.mouseMoveHandler = f4 = function(b5) {
              a5.onMouseMove(b5);
            };
            a5.mouseUpHandler = g3 = function(b5) {
              a5.onMouseUp(b5);
            };
            e2 = a5.getPartsEvents("mousedown");
            e2.push(k2(b4.renderTo, "mousemove", f4), k2(c4.ownerDocument, "mouseup", g3));
            d2 && (e2.push(k2(b4.renderTo, "touchmove", f4), k2(c4.ownerDocument, "touchend", g3)), e2.concat(a5.getPartsEvents("touchstart")));
            a5.eventsToUnbind = e2;
            a5.series && a5.series[0] && e2.push(k2(a5.series[0].xAxis, "foundExtremes", function() {
              b4.navigator.modifyNavigatorAxisExtremes();
            }));
          };
          f3.prototype.getPartsEvents = function(a5) {
            var b4 = this, c4 = [];
            ["shades", "handles"].forEach(function(d3) {
              b4[d3].forEach(function(e2, f4) {
                c4.push(k2(e2.element, a5, function(a6) {
                  b4[d3 + "Mousedown"](a6, f4);
                }));
              });
            });
            return c4;
          };
          f3.prototype.shadesMousedown = function(a5, b4) {
            a5 = this.chart.pointer.normalize(a5);
            var c4 = this.chart, d3 = this.xAxis, e2 = this.zoomedMin, f4 = this.left, g3 = this.size, h5 = this.range, m2 = a5.chartX;
            c4.inverted && (m2 = a5.chartY, f4 = this.top);
            if (b4 === 1)
              this.grabbedCenter = m2, this.fixedWidth = h5, this.dragOffset = m2 - e2;
            else {
              a5 = m2 - f4 - h5 / 2;
              if (b4 === 0)
                a5 = Math.max(0, a5);
              else if (b4 === 2 && a5 + h5 >= g3)
                if (a5 = g3 - h5, this.reversedExtremes) {
                  a5 -= h5;
                  var k3 = this.getUnionExtremes().dataMin;
                } else
                  var l4 = this.getUnionExtremes().dataMax;
              a5 !== e2 && (this.fixedWidth = h5, b4 = d3.navigatorAxis.toFixedRange(a5, a5 + h5, k3, l4), J2(b4.min) && c4.xAxis[0].setExtremes(Math.min(b4.min, b4.max), Math.max(b4.min, b4.max), true, null, { trigger: "navigator" }));
            }
          };
          f3.prototype.handlesMousedown = function(a5, b4) {
            this.chart.pointer.normalize(a5);
            a5 = this.chart;
            var c4 = a5.xAxis[0], d3 = this.reversedExtremes;
            b4 === 0 ? (this.grabbedLeft = true, this.otherHandlePos = this.zoomedMax, this.fixedExtreme = d3 ? c4.min : c4.max) : (this.grabbedRight = true, this.otherHandlePos = this.zoomedMin, this.fixedExtreme = d3 ? c4.max : c4.min);
            a5.fixedRange = null;
          };
          f3.prototype.onMouseMove = function(b4) {
            var c4 = this, d3 = c4.chart, e2 = c4.left, f4 = c4.navigatorSize, h5 = c4.range, m2 = c4.dragOffset, k3 = d3.inverted;
            b4.touches && b4.touches[0].pageX === 0 || (b4 = d3.pointer.normalize(b4), d3 = b4.chartX, k3 && (e2 = c4.top, d3 = b4.chartY), c4.grabbedLeft ? (c4.hasDragged = true, c4.render(0, 0, d3 - e2, c4.otherHandlePos)) : c4.grabbedRight ? (c4.hasDragged = true, c4.render(0, 0, c4.otherHandlePos, d3 - e2)) : c4.grabbedCenter && (c4.hasDragged = true, d3 < m2 ? d3 = m2 : d3 > f4 + m2 - h5 && (d3 = f4 + m2 - h5), c4.render(0, 0, d3 - m2, d3 - m2 + h5)), c4.hasDragged && c4.scrollbar && g2(c4.scrollbar.options.liveRedraw, E3.svg && !a4 && !this.chart.isBoosting) && (b4.DOMType = b4.type, setTimeout(function() {
              c4.onMouseUp(b4);
            }, 0)));
          };
          f3.prototype.onMouseUp = function(a5) {
            var b4 = this.chart, d3 = this.xAxis, e2 = this.scrollbar, f4 = a5.DOMEvent || a5, g3 = b4.inverted, h5 = this.rendered && !this.hasDragged ? "animate" : "attr";
            if (this.hasDragged && (!e2 || !e2.hasDragged) || a5.trigger === "scrollbar") {
              e2 = this.getUnionExtremes();
              if (this.zoomedMin === this.otherHandlePos)
                var m2 = this.fixedExtreme;
              else if (this.zoomedMax === this.otherHandlePos)
                var k3 = this.fixedExtreme;
              this.zoomedMax === this.size && (k3 = this.reversedExtremes ? e2.dataMin : e2.dataMax);
              this.zoomedMin === 0 && (m2 = this.reversedExtremes ? e2.dataMax : e2.dataMin);
              d3 = d3.navigatorAxis.toFixedRange(this.zoomedMin, this.zoomedMax, m2, k3);
              J2(d3.min) && b4.xAxis[0].setExtremes(Math.min(d3.min, d3.max), Math.max(d3.min, d3.max), true, this.hasDragged ? false : null, { trigger: "navigator", triggerOp: "navigator-drag", DOMEvent: f4 });
            }
            a5.DOMType !== "mousemove" && a5.DOMType !== "touchmove" && (this.grabbedLeft = this.grabbedRight = this.grabbedCenter = this.fixedWidth = this.fixedExtreme = this.otherHandlePos = this.hasDragged = this.dragOffset = null);
            this.navigatorEnabled && c3(this.zoomedMin) && c3(this.zoomedMax) && (b4 = Math.round(this.zoomedMin), a5 = Math.round(this.zoomedMax), this.shades && this.drawMasks(b4, a5, g3, h5), this.outline && this.drawOutline(b4, a5, g3, h5), this.navigatorOptions.handles.enabled && Object.keys(this.handles).length === this.handles.length && (this.drawHandle(b4, 0, g3, h5), this.drawHandle(a5, 1, g3, h5)));
          };
          f3.prototype.removeEvents = function() {
            this.eventsToUnbind && (this.eventsToUnbind.forEach(function(a5) {
              a5();
            }), this.eventsToUnbind = void 0);
            this.removeBaseSeriesEvents();
          };
          f3.prototype.removeBaseSeriesEvents = function() {
            var a5 = this.baseSeries || [];
            this.navigatorEnabled && a5[0] && (this.navigatorOptions.adaptToUpdatedData !== false && a5.forEach(function(a6) {
              u4(a6, "updatedData", this.updatedDataHandler);
            }, this), a5[0].xAxis && u4(a5[0].xAxis, "foundExtremes", this.modifyBaseAxisExtremes));
          };
          f3.prototype.init = function(a5) {
            var c4 = a5.options, d3 = c4.navigator, f4 = d3.enabled, h5 = c4.scrollbar, m2 = h5.enabled;
            c4 = f4 ? d3.height : 0;
            var l4 = m2 ? h5.height : 0;
            this.handles = [];
            this.shades = [];
            this.chart = a5;
            this.setBaseSeries();
            this.height = c4;
            this.scrollbarHeight = l4;
            this.scrollbarEnabled = m2;
            this.navigatorEnabled = f4;
            this.navigatorOptions = d3;
            this.scrollbarOptions = h5;
            this.outlineHeight = c4 + l4;
            this.opposite = g2(d3.opposite, !(f4 || !a5.inverted));
            var n3 = this;
            f4 = n3.baseSeries;
            h5 = a5.xAxis.length;
            m2 = a5.yAxis.length;
            var r4 = f4 && f4[0] && f4[0].xAxis || a5.xAxis[0] || { options: {} };
            a5.isDirtyBox = true;
            n3.navigatorEnabled ? (n3.xAxis = new e(a5, t2({ breaks: r4.options.breaks, ordinal: r4.options.ordinal }, d3.xAxis, { id: "navigator-x-axis", yAxis: "navigator-y-axis", isX: true, type: "datetime", index: h5, isInternal: true, offset: 0, keepOrdinalPadding: true, startOnTick: false, endOnTick: false, minPadding: 0, maxPadding: 0, zoomEnabled: false }, a5.inverted ? { offsets: [l4, 0, -l4, 0], width: c4 } : { offsets: [0, -l4, 0, l4], height: c4 })), n3.yAxis = new e(a5, t2(d3.yAxis, { id: "navigator-y-axis", alignTicks: false, offset: 0, index: m2, isInternal: true, reversed: g2(d3.yAxis && d3.yAxis.reversed, a5.yAxis[0] && a5.yAxis[0].reversed, false), zoomEnabled: false }, a5.inverted ? { width: c4 } : { height: c4 })), f4 || d3.series.data ? n3.updateNavigatorSeries(false) : a5.series.length === 0 && (n3.unbindRedraw = k2(a5, "beforeRedraw", function() {
              0 < a5.series.length && !n3.series && (n3.setBaseSeries(), n3.unbindRedraw());
            })), n3.reversedExtremes = a5.inverted && !n3.xAxis.reversed || !a5.inverted && n3.xAxis.reversed, n3.renderElements(), n3.addMouseEvents()) : (n3.xAxis = {
              chart: a5,
              navigatorAxis: { fake: true },
              translate: function(c5, d4) {
                var e2 = a5.xAxis[0], f5 = e2.getExtremes(), g3 = e2.len - 2 * l4, h6 = b3("min", e2.options.min, f5.dataMin);
                e2 = b3("max", e2.options.max, f5.dataMax) - h6;
                return d4 ? c5 * e2 / g3 + h6 : g3 * (c5 - h6) / e2;
              },
              toPixels: function(a6) {
                return this.translate(a6);
              },
              toValue: function(a6) {
                return this.translate(a6, true);
              }
            }, n3.xAxis.navigatorAxis.axis = n3.xAxis, n3.xAxis.navigatorAxis.toFixedRange = v.AdditionsClass.prototype.toFixedRange.bind(n3.xAxis.navigatorAxis));
            a5.options.scrollbar.enabled && (a5.scrollbar = n3.scrollbar = new z2(a5.renderer, t2(a5.options.scrollbar, { margin: n3.navigatorEnabled ? 0 : 10, vertical: a5.inverted }), a5), k2(n3.scrollbar, "changed", function(a6) {
              var b4 = n3.size, c5 = b4 * this.to;
              b4 *= this.from;
              n3.hasDragged = n3.scrollbar.hasDragged;
              n3.render(0, 0, b4, c5);
              this.shouldUpdateExtremes(a6.DOMType) && setTimeout(function() {
                n3.onMouseUp(a6);
              });
            }));
            n3.addBaseSeriesEvents();
            n3.addChartEvents();
          };
          f3.prototype.getUnionExtremes = function(a5) {
            var c4 = this.chart.xAxis[0], d3 = this.xAxis, e2 = d3.options, f4 = c4.options, h5;
            a5 && c4.dataMin === null || (h5 = { dataMin: g2(e2 && e2.min, b3("min", f4.min, c4.dataMin, d3.dataMin, d3.min)), dataMax: g2(e2 && e2.max, b3("max", f4.max, c4.dataMax, d3.dataMax, d3.max)) });
            return h5;
          };
          f3.prototype.setBaseSeries = function(a5, b4) {
            var c4 = this.chart, d3 = this.baseSeries = [];
            a5 = a5 || c4.options && c4.options.navigator.baseSeries || (c4.series.length ? C2(c4.series, function(a6) {
              return !a6.options.isInternal;
            }).index : 0);
            (c4.series || []).forEach(function(b5, c5) {
              b5.options.isInternal || !b5.options.showInNavigator && (c5 !== a5 && b5.options.id !== a5 || b5.options.showInNavigator === false) || d3.push(b5);
            });
            this.xAxis && !this.xAxis.navigatorAxis.fake && this.updateNavigatorSeries(true, b4);
          };
          f3.prototype.updateNavigatorSeries = function(a5, b4) {
            var c4 = this, d3 = c4.chart, e2 = c4.baseSeries, f4, h5, m2 = c4.navigatorOptions.series, k3, l4 = {
              enableMouseTracking: false,
              index: null,
              linkedTo: null,
              group: "nav",
              padXAxis: false,
              xAxis: "navigator-x-axis",
              yAxis: "navigator-y-axis",
              showInLegend: false,
              stacking: void 0,
              isInternal: true,
              states: { inactive: { opacity: 1 } }
            }, r4 = c4.series = (c4.series || []).filter(function(a6) {
              var b5 = a6.baseSeries;
              return 0 > e2.indexOf(b5) ? (b5 && (u4(b5, "updatedData", c4.updatedDataHandler), delete b5.navigatorSeries), a6.chart && a6.destroy(), false) : true;
            });
            e2 && e2.length && e2.forEach(function(a6) {
              var w2 = a6.navigatorSeries, q4 = y2({ color: a6.color, visible: a6.visible }, x3(m2) ? p2.navigator.series : m2);
              w2 && c4.navigatorOptions.adaptToUpdatedData === false || (l4.name = "Navigator " + e2.length, f4 = a6.options || {}, k3 = f4.navigatorOptions || {}, q4.dataLabels = n2(q4.dataLabels), h5 = t2(f4, l4, q4, k3), h5.pointRange = g2(q4.pointRange, k3.pointRange, p2.plotOptions[h5.type || "line"].pointRange), q4 = k3.data || q4.data, c4.hasNavigatorData = c4.hasNavigatorData || !!q4, h5.data = q4 || f4.data && f4.data.slice(0), w2 && w2.options ? w2.update(h5, b4) : (a6.navigatorSeries = d3.initSeries(h5), a6.navigatorSeries.baseSeries = a6, r4.push(a6.navigatorSeries)));
            });
            if (m2.data && (!e2 || !e2.length) || x3(m2))
              c4.hasNavigatorData = false, m2 = n2(m2), m2.forEach(function(a6, b5) {
                l4.name = "Navigator " + (r4.length + 1);
                h5 = t2(p2.navigator.series, { color: d3.series[b5] && !d3.series[b5].options.isInternal && d3.series[b5].color || d3.options.colors[b5] || d3.options.colors[0] }, l4, a6);
                h5.data = a6.data;
                h5.data && (c4.hasNavigatorData = true, r4.push(d3.initSeries(h5)));
              });
            a5 && this.addBaseSeriesEvents();
          };
          f3.prototype.addBaseSeriesEvents = function() {
            var a5 = this, b4 = a5.baseSeries || [];
            b4[0] && b4[0].xAxis && b4[0].eventsToUnbind.push(k2(b4[0].xAxis, "foundExtremes", this.modifyBaseAxisExtremes));
            b4.forEach(function(b5) {
              b5.eventsToUnbind.push(k2(b5, "show", function() {
                this.navigatorSeries && this.navigatorSeries.setVisible(true, false);
              }));
              b5.eventsToUnbind.push(k2(b5, "hide", function() {
                this.navigatorSeries && this.navigatorSeries.setVisible(false, false);
              }));
              this.navigatorOptions.adaptToUpdatedData !== false && b5.xAxis && b5.eventsToUnbind.push(k2(b5, "updatedData", this.updatedDataHandler));
              b5.eventsToUnbind.push(k2(b5, "remove", function() {
                this.navigatorSeries && (L3(a5.series, this.navigatorSeries), J2(this.navigatorSeries.options) && this.navigatorSeries.remove(false), delete this.navigatorSeries);
              }));
            }, this);
          };
          f3.prototype.getBaseSeriesMin = function(a5) {
            return this.baseSeries.reduce(function(a6, b4) {
              return Math.min(a6, b4.xData ? b4.xData[0] : a6);
            }, a5);
          };
          f3.prototype.modifyNavigatorAxisExtremes = function() {
            var a5 = this.xAxis, b4;
            typeof a5.getExtremes !== "undefined" && (!(b4 = this.getUnionExtremes(true)) || b4.dataMin === a5.min && b4.dataMax === a5.max || (a5.min = b4.dataMin, a5.max = b4.dataMax));
          };
          f3.prototype.modifyBaseAxisExtremes = function() {
            var a5 = this.chart.navigator, b4 = this.getExtremes(), d3 = b4.dataMin, e2 = b4.dataMax;
            b4 = b4.max - b4.min;
            var f4 = a5.stickToMin, h5 = a5.stickToMax, k3 = g2(this.options.overscroll, 0), l4 = a5.series && a5.series[0], n3 = !!this.setExtremes;
            if (!this.eventArgs || this.eventArgs.trigger !== "rangeSelectorButton") {
              if (f4) {
                var r4 = d3;
                var p3 = r4 + b4;
              }
              h5 && (p3 = e2 + k3, f4 || (r4 = Math.max(d3, p3 - b4, a5.getBaseSeriesMin(l4 && l4.xData ? l4.xData[0] : -Number.MAX_VALUE))));
              n3 && (f4 || h5) && c3(r4) && (this.min = this.userMin = r4, this.max = this.userMax = p3);
            }
            a5.stickToMin = a5.stickToMax = null;
          };
          f3.prototype.updatedDataHandler = function() {
            var a5 = this.chart.navigator, b4 = this.navigatorSeries;
            a5.stickToMax = a5.reversedExtremes ? Math.round(a5.zoomedMin) === 0 : Math.round(a5.zoomedMax) >= Math.round(a5.size);
            a5.stickToMin = a5.shouldStickToMin(this, a5);
            b4 && !a5.hasNavigatorData && (b4.options.pointStart = this.xData[0], b4.setData(this.options.data, false, null, false));
          };
          f3.prototype.shouldStickToMin = function(a5, b4) {
            b4 = b4.getBaseSeriesMin(a5.xData[0]);
            var d3 = a5.xAxis;
            a5 = d3.max;
            var e2 = d3.min;
            d3 = d3.options.range;
            return c3(a5) && c3(e2) ? d3 && 0 < a5 - b4 ? a5 - b4 < d3 : e2 <= b4 : false;
          };
          f3.prototype.addChartEvents = function() {
            this.eventsToUnbind || (this.eventsToUnbind = []);
            this.eventsToUnbind.push(k2(this.chart, "redraw", function() {
              var a5 = this.navigator, b4 = a5 && (a5.baseSeries && a5.baseSeries[0] && a5.baseSeries[0].xAxis || this.xAxis[0]);
              b4 && a5.render(b4.min, b4.max);
            }), k2(this.chart, "getMargins", function() {
              var a5 = this.navigator, b4 = a5.opposite ? "plotTop" : "marginBottom";
              this.inverted && (b4 = a5.opposite ? "marginRight" : "plotLeft");
              this[b4] = (this[b4] || 0) + (a5.navigatorEnabled || !this.inverted ? a5.outlineHeight : 0) + a5.navigatorOptions.margin;
            }));
          };
          f3.prototype.destroy = function() {
            this.removeEvents();
            this.xAxis && (L3(this.chart.xAxis, this.xAxis), L3(this.chart.axes, this.xAxis));
            this.yAxis && (L3(this.chart.yAxis, this.yAxis), L3(this.chart.axes, this.yAxis));
            (this.series || []).forEach(function(a5) {
              a5.destroy && a5.destroy();
            });
            "series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(function(a5) {
              this[a5] && this[a5].destroy && this[a5].destroy();
              this[a5] = null;
            }, this);
            [this.handles].forEach(function(a5) {
              K2(a5);
            }, this);
          };
          return f3;
        }();
        E3.Navigator || (E3.Navigator = r3, v.compose(e), k2(h4, "beforeShowResetZoom", function() {
          var b4 = this.options, c4 = b4.navigator, d3 = b4.rangeSelector;
          if ((c4 && c4.enabled || d3 && d3.enabled) && (!a4 && b4.chart.zoomType === "x" || a4 && b4.chart.pinchType === "x"))
            return false;
        }), k2(h4, "beforeRender", function() {
          var a5 = this.options;
          if (a5.navigator.enabled || a5.scrollbar.enabled)
            this.scroller = this.navigator = new r3(this);
        }), k2(h4, "afterSetChartSize", function() {
          var a5 = this.legend, b4 = this.navigator;
          if (b4) {
            var c4 = a5 && a5.options;
            var d3 = b4.xAxis;
            var e2 = b4.yAxis;
            var f3 = b4.scrollbarHeight;
            this.inverted ? (b4.left = b4.opposite ? this.chartWidth - f3 - b4.height : this.spacing[3] + f3, b4.top = this.plotTop + f3) : (b4.left = g2(d3.left, this.plotLeft + f3), b4.top = b4.navigatorOptions.top || this.chartHeight - b4.height - f3 - this.spacing[2] - (this.rangeSelector && this.extraBottomMargin ? this.rangeSelector.getHeight() : 0) - (c4 && c4.verticalAlign === "bottom" && c4.layout !== "proximate" && c4.enabled && !c4.floating ? a5.legendHeight + g2(c4.margin, 10) : 0) - (this.titleOffset ? this.titleOffset[2] : 0));
            d3 && e2 && (this.inverted ? d3.options.left = e2.options.left = b4.left : d3.options.top = e2.options.top = b4.top, d3.setAxisSize(), e2.setAxisSize());
          }
        }), k2(h4, "update", function(a5) {
          var b4 = a5.options.navigator || {}, c4 = a5.options.scrollbar || {};
          this.navigator || this.scroller || !b4.enabled && !c4.enabled || (t2(true, this.options.navigator, b4), t2(true, this.options.scrollbar, c4), delete a5.options.navigator, delete a5.options.scrollbar);
        }), k2(h4, "afterUpdate", function(a5) {
          this.navigator || this.scroller || !this.options.navigator.enabled && !this.options.scrollbar.enabled || (this.scroller = this.navigator = new r3(this), g2(a5.redraw, true) && this.redraw(a5.animation));
        }), k2(h4, "afterAddSeries", function() {
          this.navigator && this.navigator.setBaseSeries(null, false);
        }), k2(q3, "afterUpdate", function() {
          this.chart.navigator && !this.options.isInternal && this.chart.navigator.setBaseSeries(null, false);
        }), h4.prototype.callbacks.push(function(a5) {
          var b4 = a5.navigator;
          b4 && a5.xAxis[0] && (a5 = a5.xAxis[0].getExtremes(), b4.render(a5.min, a5.max));
        }));
        E3.Navigator = r3;
        return E3.Navigator;
      });
      M2(h3, "Extensions/RangeSelector.js", [h3["Core/Axis/Axis.js"], h3["Core/Chart/Chart.js"], h3["Core/Globals.js"], h3["Core/DefaultOptions.js"], h3["Core/Renderer/SVG/SVGElement.js"], h3["Core/Utilities.js"]], function(e, h4, A, E3, v, H2) {
        function D3(a5) {
          if (a5.indexOf("%L") !== -1)
            return "text";
          var b3 = "aAdewbBmoyY".split("").some(function(b4) {
            return a5.indexOf("%" + b4) !== -1;
          }), c4 = "HkIlMS".split("").some(function(b4) {
            return a5.indexOf("%" + b4) !== -1;
          });
          return b3 && c4 ? "datetime-local" : b3 ? "date" : c4 ? "time" : "text";
        }
        var z2 = E3.defaultOptions, q3 = H2.addEvent, l3 = H2.createElement, f2 = H2.css, d2 = H2.defined, a4 = H2.destroyObjectProperties, p2 = H2.discardElement, k2 = H2.extend, F2 = H2.find, B = H2.fireEvent, J2 = H2.isNumber, K2 = H2.merge, L3 = H2.objectEach, y2 = H2.pad, C2 = H2.pick, x3 = H2.pInt, c3 = H2.splat;
        k2(z2, { rangeSelector: { allButtonsEnabled: false, buttons: void 0, buttonSpacing: 5, dropdown: "responsive", enabled: void 0, verticalAlign: "top", buttonTheme: {
          width: 28,
          height: 18,
          padding: 2,
          zIndex: 7
        }, floating: false, x: 0, y: 0, height: void 0, inputBoxBorderColor: "none", inputBoxHeight: 17, inputBoxWidth: void 0, inputDateFormat: "%b %e, %Y", inputDateParser: void 0, inputEditDateFormat: "%Y-%m-%d", inputEnabled: true, inputPosition: { align: "right", x: 0, y: 0 }, inputSpacing: 5, selected: void 0, buttonPosition: { align: "left", x: 0, y: 0 }, inputStyle: { color: "#335cad", cursor: "pointer" }, labelStyle: { color: "#666666" } } });
        k2(z2.lang, { rangeSelectorZoom: "Zoom", rangeSelectorFrom: "", rangeSelectorTo: "\u2192" });
        var t2 = function() {
          function g3(a5) {
            this.buttons = void 0;
            this.buttonOptions = g3.prototype.defaultButtons;
            this.initialButtonGroupWidth = 0;
            this.options = void 0;
            this.chart = a5;
            this.init(a5);
          }
          g3.prototype.clickButton = function(a5, f3) {
            var b3 = this.chart, g4 = this.buttonOptions[a5], h5 = b3.xAxis[0], k3 = b3.scroller && b3.scroller.getUnionExtremes() || h5 || {}, l4 = k3.dataMin, n2 = k3.dataMax, r3 = h5 && Math.round(Math.min(h5.max, C2(n2, h5.max))), p3 = g4.type;
            k3 = g4._range;
            var t3, u5 = g4.dataGrouping;
            if (l4 !== null && n2 !== null) {
              b3.fixedRange = k3;
              this.setSelected(a5);
              u5 && (this.forcedDataGrouping = true, e.prototype.setDataGrouping.call(h5 || { chart: this.chart }, u5, false), this.frozenStates = g4.preserveDataGrouping);
              if (p3 === "month" || p3 === "year")
                if (h5) {
                  p3 = { range: g4, max: r3, chart: b3, dataMin: l4, dataMax: n2 };
                  var x4 = h5.minFromRange.call(p3);
                  J2(p3.newMax) && (r3 = p3.newMax);
                } else
                  k3 = g4;
              else if (k3)
                x4 = Math.max(r3 - k3, l4), r3 = Math.min(x4 + k3, n2);
              else if (p3 === "ytd")
                if (h5)
                  typeof n2 === "undefined" && (l4 = Number.MAX_VALUE, n2 = Number.MIN_VALUE, b3.series.forEach(function(a6) {
                    a6 = a6.xData;
                    l4 = Math.min(a6[0], l4);
                    n2 = Math.max(a6[a6.length - 1], n2);
                  }), f3 = false), r3 = this.getYTDExtremes(n2, l4, b3.time.useUTC), x4 = t3 = r3.min, r3 = r3.max;
                else {
                  this.deferredYTDClick = a5;
                  return;
                }
              else
                p3 === "all" && h5 && (b3.navigator && b3.navigator.baseSeries[0] && (b3.navigator.baseSeries[0].xAxis.options.range = void 0), x4 = l4, r3 = n2);
              d2(x4) && (x4 += g4._offsetMin);
              d2(r3) && (r3 += g4._offsetMax);
              this.dropdown && (this.dropdown.selectedIndex = a5 + 1);
              if (h5)
                h5.setExtremes(x4, r3, C2(f3, true), void 0, { trigger: "rangeSelectorButton", rangeSelectorButton: g4 });
              else {
                var v2 = c3(b3.options.xAxis)[0];
                var y3 = v2.range;
                v2.range = k3;
                var z3 = v2.min;
                v2.min = t3;
                q3(b3, "load", function() {
                  v2.range = y3;
                  v2.min = z3;
                });
              }
              B(this, "afterBtnClick");
            }
          };
          g3.prototype.setSelected = function(a5) {
            this.selected = this.options.selected = a5;
          };
          g3.prototype.init = function(a5) {
            var b3 = this, c4 = a5.options.rangeSelector, d3 = c4.buttons || b3.defaultButtons.slice(), e2 = c4.selected, f3 = function() {
              var a6 = b3.minInput, c5 = b3.maxInput;
              a6 && a6.blur && B(a6, "blur");
              c5 && c5.blur && B(c5, "blur");
            };
            b3.chart = a5;
            b3.options = c4;
            b3.buttons = [];
            b3.buttonOptions = d3;
            this.eventsToUnbind = [];
            this.eventsToUnbind.push(q3(a5.container, "mousedown", f3));
            this.eventsToUnbind.push(q3(a5, "resize", f3));
            d3.forEach(b3.computeButtonRange);
            typeof e2 !== "undefined" && d3[e2] && this.clickButton(e2, false);
            this.eventsToUnbind.push(q3(a5, "load", function() {
              a5.xAxis && a5.xAxis[0] && q3(a5.xAxis[0], "setExtremes", function(c5) {
                this.max - this.min !== a5.fixedRange && c5.trigger !== "rangeSelectorButton" && c5.trigger !== "updatedData" && b3.forcedDataGrouping && !b3.frozenStates && this.setDataGrouping(false, false);
              });
            }));
          };
          g3.prototype.updateButtonStates = function() {
            var a5 = this, c4 = this.chart, d3 = this.dropdown, e2 = c4.xAxis[0], f3 = Math.round(e2.max - e2.min), g4 = !e2.hasVisibleSeries, h5 = c4.scroller && c4.scroller.getUnionExtremes() || e2, k3 = h5.dataMin, l4 = h5.dataMax;
            c4 = a5.getYTDExtremes(l4, k3, c4.time.useUTC);
            var n2 = c4.min, p3 = c4.max, q4 = a5.selected, t3 = J2(q4), u5 = a5.options.allButtonsEnabled, x4 = a5.buttons;
            a5.buttonOptions.forEach(function(b3, c5) {
              var h6 = b3._range, m2 = b3.type, r3 = b3.count || 1, w2 = x4[c5], v2 = 0, y3 = b3._offsetMax - b3._offsetMin;
              b3 = c5 === q4;
              var z3 = h6 > l4 - k3, A2 = h6 < e2.minRange, G2 = false, B2 = false;
              h6 = h6 === f3;
              (m2 === "month" || m2 === "year") && f3 + 36e5 >= 864e5 * { month: 28, year: 365 }[m2] * r3 - y3 && f3 - 36e5 <= 864e5 * { month: 31, year: 366 }[m2] * r3 + y3 ? h6 = true : m2 === "ytd" ? (h6 = p3 - n2 + y3 === f3, G2 = !b3) : m2 === "all" && (h6 = e2.max - e2.min >= l4 - k3, B2 = !b3 && t3 && h6);
              m2 = !u5 && (z3 || A2 || B2 || g4);
              r3 = b3 && h6 || h6 && !t3 && !G2 || b3 && a5.frozenStates;
              m2 ? v2 = 3 : r3 && (t3 = true, v2 = 2);
              w2.state !== v2 && (w2.setState(v2), d3 && (d3.options[c5 + 1].disabled = m2, v2 === 2 && (d3.selectedIndex = c5 + 1)), v2 === 0 && q4 === c5 && a5.setSelected());
            });
          };
          g3.prototype.computeButtonRange = function(a5) {
            var b3 = a5.type, c4 = a5.count || 1, d3 = { millisecond: 1, second: 1e3, minute: 6e4, hour: 36e5, day: 864e5, week: 6048e5 };
            if (d3[b3])
              a5._range = d3[b3] * c4;
            else if (b3 === "month" || b3 === "year")
              a5._range = 864e5 * { month: 30, year: 365 }[b3] * c4;
            a5._offsetMin = C2(a5.offsetMin, 0);
            a5._offsetMax = C2(a5.offsetMax, 0);
            a5._range += a5._offsetMax - a5._offsetMin;
          };
          g3.prototype.getInputValue = function(a5) {
            a5 = a5 === "min" ? this.minInput : this.maxInput;
            var b3 = this.chart.options.rangeSelector, c4 = this.chart.time;
            return a5 ? (a5.type === "text" && b3.inputDateParser || this.defaultInputDateParser)(a5.value, c4.useUTC, c4) : 0;
          };
          g3.prototype.setInputValue = function(a5, c4) {
            var b3 = this.options, e2 = this.chart.time, f3 = a5 === "min" ? this.minInput : this.maxInput;
            a5 = a5 === "min" ? this.minDateBox : this.maxDateBox;
            if (f3) {
              var g4 = f3.getAttribute("data-hc-time");
              g4 = d2(g4) ? Number(g4) : void 0;
              d2(c4) && (d2(g4) && f3.setAttribute("data-hc-time-previous", g4), f3.setAttribute("data-hc-time", c4), g4 = c4);
              f3.value = e2.dateFormat(this.inputTypeFormats[f3.type] || b3.inputEditDateFormat, g4);
              a5 && a5.attr({ text: e2.dateFormat(b3.inputDateFormat, g4) });
            }
          };
          g3.prototype.setInputExtremes = function(a5, c4, d3) {
            if (a5 = a5 === "min" ? this.minInput : this.maxInput) {
              var b3 = this.inputTypeFormats[a5.type], e2 = this.chart.time;
              b3 && (c4 = e2.dateFormat(b3, c4), a5.min !== c4 && (a5.min = c4), d3 = e2.dateFormat(b3, d3), a5.max !== d3 && (a5.max = d3));
            }
          };
          g3.prototype.showInput = function(a5) {
            var b3 = a5 === "min" ? this.minDateBox : this.maxDateBox;
            if ((a5 = a5 === "min" ? this.minInput : this.maxInput) && b3 && this.inputGroup) {
              var c4 = a5.type === "text", d3 = this.inputGroup, e2 = d3.translateX;
              d3 = d3.translateY;
              var g4 = this.options.inputBoxWidth;
              f2(a5, { width: c4 ? b3.width + (g4 ? -2 : 20) + "px" : "auto", height: c4 ? b3.height - 2 + "px" : "auto", border: "2px solid silver" });
              c4 && g4 ? f2(a5, { left: e2 + b3.x + "px", top: d3 + "px" }) : f2(a5, { left: Math.min(Math.round(b3.x + e2 - (a5.offsetWidth - b3.width) / 2), this.chart.chartWidth - a5.offsetWidth) + "px", top: d3 - (a5.offsetHeight - b3.height) / 2 + "px" });
            }
          };
          g3.prototype.hideInput = function(a5) {
            (a5 = a5 === "min" ? this.minInput : this.maxInput) && f2(a5, { top: "-9999em", border: 0, width: "1px", height: "1px" });
          };
          g3.prototype.defaultInputDateParser = function(a5, c4, d3) {
            var b3 = a5.split("/").join("-").split(" ").join("T");
            b3.indexOf("T") === -1 && (b3 += "T00:00");
            if (c4)
              b3 += "Z";
            else {
              var e2;
              if (e2 = A.isSafari)
                e2 = b3, e2 = !(6 < e2.length && (e2.lastIndexOf("-") === e2.length - 6 || e2.lastIndexOf("+") === e2.length - 6));
              e2 && (e2 = new Date(b3).getTimezoneOffset() / 60, b3 += 0 >= e2 ? "+" + y2(-e2) + ":00" : "-" + y2(e2) + ":00");
            }
            b3 = Date.parse(b3);
            J2(b3) || (a5 = a5.split("-"), b3 = Date.UTC(x3(a5[0]), x3(a5[1]) - 1, x3(a5[2])));
            d3 && c4 && J2(b3) && (b3 += d3.getTimezoneOffset(b3));
            return b3;
          };
          g3.prototype.drawInput = function(a5) {
            function b3() {
              var b4 = g4.getInputValue(a5), d4 = c4.xAxis[0], e3 = c4.scroller && c4.scroller.xAxis ? c4.scroller.xAxis : d4, f3 = e3.dataMin;
              e3 = e3.dataMax;
              var h6 = g4.maxInput, k3 = g4.minInput;
              b4 !== Number(u5.getAttribute("data-hc-time-previous")) && J2(b4) && (u5.setAttribute("data-hc-time-previous", b4), q4 && h6 && J2(f3) ? b4 > Number(h6.getAttribute("data-hc-time")) ? b4 = void 0 : b4 < f3 && (b4 = f3) : k3 && J2(e3) && (b4 < Number(k3.getAttribute("data-hc-time")) ? b4 = void 0 : b4 > e3 && (b4 = e3)), typeof b4 !== "undefined" && d4.setExtremes(q4 ? b4 : d4.min, q4 ? d4.max : b4, void 0, void 0, { trigger: "rangeSelectorInput" }));
            }
            var c4 = this.chart, d3 = this.div, e2 = this.inputGroup, g4 = this, h5 = c4.renderer.style || {}, n2 = c4.renderer, p3 = c4.options.rangeSelector, q4 = a5 === "min", t3 = z2.lang[q4 ? "rangeSelectorFrom" : "rangeSelectorTo"] || "";
            t3 = n2.label(t3, 0).addClass("highcharts-range-label").attr({ padding: t3 ? 2 : 0, height: t3 ? p3.inputBoxHeight : 0 }).add(e2);
            n2 = n2.label("", 0).addClass("highcharts-range-input").attr({ padding: 2, width: p3.inputBoxWidth, height: p3.inputBoxHeight, "text-align": "center" }).on("click", function() {
              g4.showInput(a5);
              g4[a5 + "Input"].focus();
            });
            c4.styledMode || n2.attr({ stroke: p3.inputBoxBorderColor, "stroke-width": 1 });
            n2.add(e2);
            var u5 = l3("input", { name: a5, className: "highcharts-range-selector" }, void 0, d3);
            u5.setAttribute("type", D3(p3.inputDateFormat || "%b %e, %Y"));
            c4.styledMode || (t3.css(K2(h5, p3.labelStyle)), n2.css(K2({ color: "#333333" }, h5, p3.inputStyle)), f2(u5, k2({
              position: "absolute",
              border: 0,
              boxShadow: "0 0 15px rgba(0,0,0,0.3)",
              width: "1px",
              height: "1px",
              padding: 0,
              textAlign: "center",
              fontSize: h5.fontSize,
              fontFamily: h5.fontFamily,
              top: "-9999em"
            }, p3.inputStyle)));
            u5.onfocus = function() {
              g4.showInput(a5);
            };
            u5.onblur = function() {
              u5 === A.doc.activeElement && b3();
              g4.hideInput(a5);
              g4.setInputValue(a5);
              u5.blur();
            };
            var x4 = false;
            u5.onchange = function() {
              x4 || (b3(), g4.hideInput(a5), u5.blur());
            };
            u5.onkeypress = function(a6) {
              a6.keyCode === 13 && b3();
            };
            u5.onkeydown = function(a6) {
              x4 = true;
              a6.keyCode !== 38 && a6.keyCode !== 40 || b3();
            };
            u5.onkeyup = function() {
              x4 = false;
            };
            return { dateBox: n2, input: u5, label: t3 };
          };
          g3.prototype.getPosition = function() {
            var a5 = this.chart, c4 = a5.options.rangeSelector;
            a5 = c4.verticalAlign === "top" ? a5.plotTop - a5.axisOffset[0] : 0;
            return { buttonTop: a5 + c4.buttonPosition.y, inputTop: a5 + c4.inputPosition.y - 10 };
          };
          g3.prototype.getYTDExtremes = function(a5, c4, d3) {
            var b3 = this.chart.time, e2 = new b3.Date(a5), f3 = b3.get("FullYear", e2);
            d3 = d3 ? b3.Date.UTC(f3, 0, 1) : +new b3.Date(f3, 0, 1);
            c4 = Math.max(c4, d3);
            e2 = e2.getTime();
            return { max: Math.min(a5 || e2, e2), min: c4 };
          };
          g3.prototype.render = function(a5, c4) {
            var b3 = this.chart, e2 = b3.renderer, f3 = b3.container, g4 = b3.options, h5 = g4.rangeSelector, k3 = C2(g4.chart.style && g4.chart.style.zIndex, 0) + 1;
            g4 = h5.inputEnabled;
            if (h5.enabled !== false) {
              this.rendered || (this.group = e2.g("range-selector-group").attr({ zIndex: 7 }).add(), this.div = l3("div", void 0, { position: "relative", height: 0, zIndex: k3 }), this.buttonOptions.length && this.renderButtons(), f3.parentNode && f3.parentNode.insertBefore(this.div, f3), g4 && (this.inputGroup = e2.g("input-group").add(this.group), e2 = this.drawInput("min"), this.minDateBox = e2.dateBox, this.minLabel = e2.label, this.minInput = e2.input, e2 = this.drawInput("max"), this.maxDateBox = e2.dateBox, this.maxLabel = e2.label, this.maxInput = e2.input));
              if (g4 && (this.setInputValue("min", a5), this.setInputValue("max", c4), a5 = b3.scroller && b3.scroller.getUnionExtremes() || b3.xAxis[0] || {}, d2(a5.dataMin) && d2(a5.dataMax) && (b3 = b3.xAxis[0].minRange || 0, this.setInputExtremes("min", a5.dataMin, Math.min(a5.dataMax, this.getInputValue("max")) - b3), this.setInputExtremes("max", Math.max(a5.dataMin, this.getInputValue("min")) + b3, a5.dataMax)), this.inputGroup)) {
                var n2 = 0;
                [this.minLabel, this.minDateBox, this.maxLabel, this.maxDateBox].forEach(function(a6) {
                  if (a6) {
                    var b4 = a6.getBBox().width;
                    b4 && (a6.attr({ x: n2 }), n2 += b4 + h5.inputSpacing);
                  }
                });
              }
              this.alignElements();
              this.rendered = true;
            }
          };
          g3.prototype.renderButtons = function() {
            var a5 = this, c4 = this.buttons, d3 = this.options, e2 = z2.lang, f3 = this.chart.renderer, g4 = K2(d3.buttonTheme), h5 = g4 && g4.states, k3 = g4.width || 28;
            delete g4.width;
            delete g4.states;
            this.buttonGroup = f3.g("range-selector-buttons").add(this.group);
            var n2 = this.dropdown = l3("select", void 0, { position: "absolute", width: "1px", height: "1px", padding: 0, border: 0, top: "-9999em", cursor: "pointer", opacity: 1e-4 }, this.div);
            q3(n2, "touchstart", function() {
              n2.style.fontSize = "16px";
            });
            [[A.isMS ? "mouseover" : "mouseenter"], [A.isMS ? "mouseout" : "mouseleave"], ["change", "click"]].forEach(function(b3) {
              var d4 = b3[0], e3 = b3[1];
              q3(n2, d4, function() {
                var b4 = c4[a5.currentButtonIndex()];
                b4 && B(b4.element, e3 || d4);
              });
            });
            this.zoomText = f3.label(e2 && e2.rangeSelectorZoom || "", 0).attr({ padding: d3.buttonTheme.padding, height: d3.buttonTheme.height, paddingLeft: 0, paddingRight: 0 }).add(this.buttonGroup);
            this.chart.styledMode || (this.zoomText.css(d3.labelStyle), g4["stroke-width"] = C2(g4["stroke-width"], 0));
            l3("option", { textContent: this.zoomText.textStr, disabled: true }, void 0, n2);
            this.buttonOptions.forEach(function(b3, d4) {
              l3("option", { textContent: b3.title || b3.text }, void 0, n2);
              c4[d4] = f3.button(b3.text, 0, 0, function(c5) {
                var e3 = b3.events && b3.events.click, f4;
                e3 && (f4 = e3.call(b3, c5));
                f4 !== false && a5.clickButton(d4);
                a5.isActive = true;
              }, g4, h5 && h5.hover, h5 && h5.select, h5 && h5.disabled).attr({ "text-align": "center", width: k3 }).add(a5.buttonGroup);
              b3.title && c4[d4].attr("title", b3.title);
            });
          };
          g3.prototype.alignElements = function() {
            var a5 = this, c4 = this.buttonGroup, d3 = this.buttons, e2 = this.chart, f3 = this.group, g4 = this.inputGroup, h5 = this.options, k3 = this.zoomText, l4 = e2.options, n2 = l4.exporting && l4.exporting.enabled !== false && l4.navigation && l4.navigation.buttonOptions;
            l4 = h5.buttonPosition;
            var p3 = h5.inputPosition, q4 = h5.verticalAlign, t3 = function(b3, c5) {
              return n2 && a5.titleCollision(e2) && q4 === "top" && c5.align === "right" && c5.y - b3.getBBox().height - 12 < (n2.y || 0) + (n2.height || 0) + e2.spacing[0] ? -40 : 0;
            }, u5 = e2.plotLeft;
            if (f3 && l4 && p3) {
              var x4 = l4.x - e2.spacing[3];
              if (c4) {
                this.positionButtons();
                if (!this.initialButtonGroupWidth) {
                  var v2 = 0;
                  k3 && (v2 += k3.getBBox().width + 5);
                  d3.forEach(function(a6, b3) {
                    v2 += a6.width;
                    b3 !== d3.length - 1 && (v2 += h5.buttonSpacing);
                  });
                  this.initialButtonGroupWidth = v2;
                }
                u5 -= e2.spacing[3];
                this.updateButtonStates();
                k3 = t3(c4, l4);
                this.alignButtonGroup(k3);
                f3.placed = c4.placed = e2.hasLoaded;
              }
              c4 = 0;
              g4 && (c4 = t3(g4, p3), p3.align === "left" ? x4 = u5 : p3.align === "right" && (x4 = -Math.max(e2.axisOffset[1], -c4)), g4.align({ y: p3.y, width: g4.getBBox().width, align: p3.align, x: p3.x + x4 - 2 }, true, e2.spacingBox), g4.placed = e2.hasLoaded);
              this.handleCollision(c4);
              f3.align({ verticalAlign: q4 }, true, e2.spacingBox);
              g4 = f3.alignAttr.translateY;
              c4 = f3.getBBox().height + 20;
              t3 = 0;
              q4 === "bottom" && (t3 = (t3 = e2.legend && e2.legend.options) && t3.verticalAlign === "bottom" && t3.enabled && !t3.floating ? e2.legend.legendHeight + C2(t3.margin, 10) : 0, c4 = c4 + t3 - 20, t3 = g4 - c4 - (h5.floating ? 0 : h5.y) - (e2.titleOffset ? e2.titleOffset[2] : 0) - 10);
              if (q4 === "top")
                h5.floating && (t3 = 0), e2.titleOffset && e2.titleOffset[0] && (t3 = e2.titleOffset[0]), t3 += e2.margin[0] - e2.spacing[0] || 0;
              else if (q4 === "middle") {
                if (p3.y === l4.y)
                  t3 = g4;
                else if (p3.y || l4.y)
                  t3 = 0 > p3.y || 0 > l4.y ? t3 - Math.min(p3.y, l4.y) : g4 - c4;
              }
              f3.translate(h5.x, h5.y + Math.floor(t3));
              l4 = this.minInput;
              p3 = this.maxInput;
              g4 = this.dropdown;
              h5.inputEnabled && l4 && p3 && (l4.style.marginTop = f3.translateY + "px", p3.style.marginTop = f3.translateY + "px");
              g4 && (g4.style.marginTop = f3.translateY + "px");
            }
          };
          g3.prototype.alignButtonGroup = function(a5, c4) {
            var b3 = this.chart, d3 = this.buttonGroup, e2 = this.options.buttonPosition, f3 = b3.plotLeft - b3.spacing[3], g4 = e2.x - b3.spacing[3];
            e2.align === "right" ? g4 += a5 - f3 : e2.align === "center" && (g4 -= f3 / 2);
            d3 && d3.align({ y: e2.y, width: C2(c4, this.initialButtonGroupWidth), align: e2.align, x: g4 }, true, b3.spacingBox);
          };
          g3.prototype.positionButtons = function() {
            var a5 = this.buttons, c4 = this.chart, d3 = this.options, e2 = this.zoomText, f3 = c4.hasLoaded ? "animate" : "attr", g4 = d3.buttonPosition, h5 = c4.plotLeft, k3 = h5;
            e2 && e2.visibility !== "hidden" && (e2[f3]({ x: C2(h5 + g4.x, h5) }), k3 += g4.x + e2.getBBox().width + 5);
            this.buttonOptions.forEach(function(b3, c5) {
              if (a5[c5].visibility !== "hidden")
                a5[c5][f3]({ x: k3 }), k3 += a5[c5].width + d3.buttonSpacing;
              else
                a5[c5][f3]({ x: h5 });
            });
          };
          g3.prototype.handleCollision = function(a5) {
            var b3 = this, c4 = this.chart, d3 = this.buttonGroup, e2 = this.inputGroup, f3 = this.options, g4 = f3.buttonPosition, h5 = f3.dropdown, k3 = f3.inputPosition;
            f3 = function() {
              var a6 = 0;
              b3.buttons.forEach(function(b4) {
                b4 = b4.getBBox();
                b4.width > a6 && (a6 = b4.width);
              });
              return a6;
            };
            var l4 = function(b4) {
              if (e2 && d3) {
                var c5 = e2.alignAttr.translateX + e2.alignOptions.x - a5 + e2.getBBox().x + 2, f4 = e2.alignOptions.width, h6 = d3.alignAttr.translateX + d3.getBBox().x;
                return h6 + b4 > c5 && c5 + f4 > h6 && g4.y < k3.y + e2.getBBox().height;
              }
              return false;
            }, n2 = function() {
              e2 && d3 && e2.attr({ translateX: e2.alignAttr.translateX + (c4.axisOffset[1] >= -a5 ? 0 : -a5), translateY: e2.alignAttr.translateY + d3.getBBox().height + 10 });
            };
            if (d3) {
              if (h5 === "always") {
                this.collapseButtons(a5);
                l4(f3()) && n2();
                return;
              }
              h5 === "never" && this.expandButtons();
            }
            e2 && d3 ? k3.align === g4.align || l4(this.initialButtonGroupWidth + 20) ? h5 === "responsive" ? (this.collapseButtons(a5), l4(f3()) && n2()) : n2() : h5 === "responsive" && this.expandButtons() : d3 && h5 === "responsive" && (this.initialButtonGroupWidth > c4.plotWidth ? this.collapseButtons(a5) : this.expandButtons());
          };
          g3.prototype.collapseButtons = function(a5) {
            var b3 = this.buttons, c4 = this.buttonOptions, d3 = this.chart, e2 = this.dropdown, f3 = this.options, g4 = this.zoomText, h5 = d3.userOptions.rangeSelector && d3.userOptions.rangeSelector.buttonTheme || {}, k3 = function(a6) {
              return { text: a6 ? a6 + " \u25BE" : "\u25BE", width: "auto", paddingLeft: C2(f3.buttonTheme.paddingLeft, h5.padding, 8), paddingRight: C2(f3.buttonTheme.paddingRight, h5.padding, 8) };
            };
            g4 && g4.hide();
            var l4 = false;
            c4.forEach(function(a6, c5) {
              c5 = b3[c5];
              c5.state !== 2 ? c5.hide() : (c5.show(), c5.attr(k3(a6.text)), l4 = true);
            });
            l4 || (e2 && (e2.selectedIndex = 0), b3[0].show(), b3[0].attr(k3(this.zoomText && this.zoomText.textStr)));
            c4 = f3.buttonPosition.align;
            this.positionButtons();
            c4 !== "right" && c4 !== "center" || this.alignButtonGroup(a5, b3[this.currentButtonIndex()].getBBox().width);
            this.showDropdown();
          };
          g3.prototype.expandButtons = function() {
            var a5 = this.buttons, c4 = this.buttonOptions, d3 = this.options, e2 = this.zoomText;
            this.hideDropdown();
            e2 && e2.show();
            c4.forEach(function(b3, c5) {
              c5 = a5[c5];
              c5.show();
              c5.attr({ text: b3.text, width: d3.buttonTheme.width || 28, paddingLeft: C2(d3.buttonTheme.paddingLeft, "unset"), paddingRight: C2(d3.buttonTheme.paddingRight, "unset") });
              2 > c5.state && c5.setState(0);
            });
            this.positionButtons();
          };
          g3.prototype.currentButtonIndex = function() {
            var a5 = this.dropdown;
            return a5 && 0 < a5.selectedIndex ? a5.selectedIndex - 1 : 0;
          };
          g3.prototype.showDropdown = function() {
            var a5 = this.buttonGroup, c4 = this.buttons, d3 = this.chart, e2 = this.dropdown;
            if (a5 && e2) {
              var g4 = a5.translateX;
              a5 = a5.translateY;
              c4 = c4[this.currentButtonIndex()].getBBox();
              f2(e2, { left: d3.plotLeft + g4 + "px", top: a5 + 0.5 + "px", width: c4.width + "px", height: c4.height + "px" });
              this.hasVisibleDropdown = true;
            }
          };
          g3.prototype.hideDropdown = function() {
            var a5 = this.dropdown;
            a5 && (f2(a5, { top: "-9999em", width: "1px", height: "1px" }), this.hasVisibleDropdown = false);
          };
          g3.prototype.getHeight = function() {
            var a5 = this.options, c4 = this.group, d3 = a5.y, e2 = a5.buttonPosition.y, f3 = a5.inputPosition.y;
            if (a5.height)
              return a5.height;
            this.alignElements();
            a5 = c4 ? c4.getBBox(true).height + 13 + d3 : 0;
            c4 = Math.min(f3, e2);
            if (0 > f3 && 0 > e2 || 0 < f3 && 0 < e2)
              a5 += Math.abs(c4);
            return a5;
          };
          g3.prototype.titleCollision = function(a5) {
            return !(a5.options.title.text || a5.options.subtitle.text);
          };
          g3.prototype.update = function(a5) {
            var b3 = this.chart;
            K2(true, b3.options.rangeSelector, a5);
            this.destroy();
            this.init(b3);
            this.render();
          };
          g3.prototype.destroy = function() {
            var b3 = this, c4 = b3.minInput, d3 = b3.maxInput;
            b3.eventsToUnbind && (b3.eventsToUnbind.forEach(function(a5) {
              return a5();
            }), b3.eventsToUnbind = void 0);
            a4(b3.buttons);
            c4 && (c4.onfocus = c4.onblur = c4.onchange = null);
            d3 && (d3.onfocus = d3.onblur = d3.onchange = null);
            L3(b3, function(a5, c5) {
              a5 && c5 !== "chart" && (a5 instanceof v ? a5.destroy() : a5 instanceof window.HTMLElement && p2(a5));
              a5 !== g3.prototype[c5] && (b3[c5] = null);
            }, this);
          };
          return g3;
        }();
        t2.prototype.defaultButtons = [
          { type: "month", count: 1, text: "1m", title: "View 1 month" },
          { type: "month", count: 3, text: "3m", title: "View 3 months" },
          { type: "month", count: 6, text: "6m", title: "View 6 months" },
          { type: "ytd", text: "YTD", title: "View year to date" },
          { type: "year", count: 1, text: "1y", title: "View 1 year" },
          { type: "all", text: "All", title: "View all" }
        ];
        t2.prototype.inputTypeFormats = { "datetime-local": "%Y-%m-%dT%H:%M:%S", date: "%Y-%m-%d", time: "%H:%M:%S" };
        e.prototype.minFromRange = function() {
          var a5 = this.range, b3 = a5.type, c4 = this.max, d3 = this.chart.time, e2 = function(a6, c5) {
            var e3 = b3 === "year" ? "FullYear" : "Month", f4 = new d3.Date(a6), g4 = d3.get(e3, f4);
            d3.set(e3, f4, g4 + c5);
            g4 === d3.get(e3, f4) && d3.set("Date", f4, 0);
            return f4.getTime() - a6;
          };
          if (J2(a5)) {
            var f3 = c4 - a5;
            var g3 = a5;
          } else
            f3 = c4 + e2(c4, -a5.count), this.chart && (this.chart.fixedRange = c4 - f3);
          var h5 = C2(this.dataMin, Number.MIN_VALUE);
          J2(f3) || (f3 = h5);
          f3 <= h5 && (f3 = h5, typeof g3 === "undefined" && (g3 = e2(f3, a5.count)), this.newMax = Math.min(f3 + g3, this.dataMax));
          J2(c4) || (f3 = void 0);
          return f3;
        };
        if (!A.RangeSelector) {
          var g2 = [], u4 = function(a5) {
            function b3() {
              d3 && (c4 = a5.xAxis[0].getExtremes(), e2 = a5.legend, h5 = d3 && d3.options.verticalAlign, J2(c4.min) && d3.render(c4.min, c4.max), e2.display && h5 === "top" && h5 === e2.options.verticalAlign && (f3 = K2(a5.spacingBox), f3.y = e2.options.layout === "vertical" ? a5.plotTop : f3.y + d3.getHeight(), e2.group.placed = false, e2.align(f3)));
            }
            var c4, d3 = a5.rangeSelector, e2, f3, h5;
            d3 && (F2(g2, function(b4) {
              return b4[0] === a5;
            }) || g2.push([a5, [q3(a5.xAxis[0], "afterSetExtremes", function(a6) {
              d3 && d3.render(a6.min, a6.max);
            }), q3(a5, "redraw", b3)]]), b3());
          };
          q3(h4, "afterGetContainer", function() {
            this.options.rangeSelector && this.options.rangeSelector.enabled && (this.rangeSelector = new t2(this));
          });
          q3(h4, "beforeRender", function() {
            var a5 = this.axes, b3 = this.rangeSelector;
            b3 && (J2(b3.deferredYTDClick) && (b3.clickButton(b3.deferredYTDClick), delete b3.deferredYTDClick), a5.forEach(function(a6) {
              a6.updateNames();
              a6.setScale();
            }), this.getAxisMargins(), b3.render(), a5 = b3.options.verticalAlign, b3.options.floating || (a5 === "bottom" ? this.extraBottomMargin = true : a5 !== "middle" && (this.extraTopMargin = true)));
          });
          q3(h4, "update", function(a5) {
            var b3 = a5.options.rangeSelector;
            a5 = this.rangeSelector;
            var c4 = this.extraBottomMargin, e2 = this.extraTopMargin;
            b3 && b3.enabled && !d2(a5) && this.options.rangeSelector && (this.options.rangeSelector.enabled = true, this.rangeSelector = a5 = new t2(this));
            this.extraTopMargin = this.extraBottomMargin = false;
            a5 && (u4(this), b3 = b3 && b3.verticalAlign || a5.options && a5.options.verticalAlign, a5.options.floating || (b3 === "bottom" ? this.extraBottomMargin = true : b3 !== "middle" && (this.extraTopMargin = true)), this.extraBottomMargin !== c4 || this.extraTopMargin !== e2) && (this.isDirtyBox = true);
          });
          q3(h4, "render", function() {
            var a5 = this.rangeSelector;
            a5 && !a5.options.floating && (a5.render(), a5 = a5.options.verticalAlign, a5 === "bottom" ? this.extraBottomMargin = true : a5 !== "middle" && (this.extraTopMargin = true));
          });
          q3(h4, "getMargins", function() {
            var a5 = this.rangeSelector;
            a5 && (a5 = a5.getHeight(), this.extraTopMargin && (this.plotTop += a5), this.extraBottomMargin && (this.marginBottom += a5));
          });
          h4.prototype.callbacks.push(u4);
          q3(h4, "destroy", function() {
            for (var a5 = 0; a5 < g2.length; a5++) {
              var b3 = g2[a5];
              if (b3[0] === this) {
                b3[1].forEach(function(a6) {
                  return a6();
                });
                g2.splice(a5, 1);
                break;
              }
            }
          });
          A.RangeSelector = t2;
        }
        return t2;
      });
      M2(h3, "Core/Chart/StockChart.js", [h3["Core/Animation/AnimationUtilities.js"], h3["Core/Axis/Axis.js"], h3["Core/Chart/Chart.js"], h3["Core/FormatUtilities.js"], h3["Core/DefaultOptions.js"], h3["Core/Series/Series.js"], h3["Core/Renderer/SVG/SVGRenderer.js"], h3["Core/Utilities.js"]], function(e, h4, A, E3, v, H2, I2, z2) {
        function q3(a5, c3) {
          return a5 === "xAxis" ? { minPadding: 0, maxPadding: 0, overscroll: 0, ordinal: true, title: { text: null }, labels: { overflow: "justify" }, showLastLabel: true } : a5 === "yAxis" ? { labels: { y: -2 }, opposite: y2(c3.opposite, true), showLastLabel: !(!c3.categories && c3.type !== "category"), title: { text: null } } : {};
        }
        function l3(d3, c3) {
          if (d3 === "xAxis") {
            d3 = a4();
            var e2 = { type: "datetime", categories: void 0 };
            y2(c3.navigator && c3.navigator.enabled, d3.navigator.enabled, true) && (e2.startOnTick = false, e2.endOnTick = false);
            return e2;
          }
          return {};
        }
        var f2 = this && this.__extends || function() {
          var a5 = function(c3, d3) {
            a5 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(a6, c4) {
              a6.__proto__ = c4;
            } || function(a6, c4) {
              for (var d4 in c4)
                c4.hasOwnProperty(d4) && (a6[d4] = c4[d4]);
            };
            return a5(c3, d3);
          };
          return function(c3, d3) {
            function e2() {
              this.constructor = c3;
            }
            a5(c3, d3);
            c3.prototype = d3 === null ? Object.create(d3) : (e2.prototype = d3.prototype, new e2());
          };
        }(), d2 = E3.format, a4 = v.getOptions;
        e = z2.addEvent;
        var p2 = z2.clamp, k2 = z2.defined, D3 = z2.extend, B = z2.find, J2 = z2.isNumber, K2 = z2.isString, L3 = z2.merge, y2 = z2.pick, C2 = z2.splat;
        z2 = function(d3) {
          function c3() {
            return d3 !== null && d3.apply(this, arguments) || this;
          }
          f2(c3, d3);
          c3.prototype.init = function(c4, e2) {
            var f3 = a4(), g2 = c4.xAxis, b3 = c4.yAxis, h5 = y2(c4.navigator && c4.navigator.enabled, f3.navigator.enabled, true);
            c4.xAxis = c4.yAxis = void 0;
            h5 = L3({ chart: { panning: { enabled: true, type: "x" }, pinchType: "x" }, navigator: { enabled: h5 }, scrollbar: { enabled: y2(f3.scrollbar && f3.scrollbar.enabled, true) }, rangeSelector: { enabled: y2(f3.rangeSelector.enabled, true) }, title: { text: null }, tooltip: { split: y2(f3.tooltip.split, true), crosshairs: true }, legend: { enabled: false } }, c4, { isStock: true });
            c4.xAxis = g2;
            c4.yAxis = b3;
            h5.xAxis = C2(c4.xAxis || {}).map(function(a5, b4) {
              return L3(q3("xAxis", a5), f3.xAxis, f3.xAxis && f3.xAxis[b4], a5, l3("xAxis", c4));
            });
            h5.yAxis = C2(c4.yAxis || {}).map(function(a5, b4) {
              return L3(q3("yAxis", a5), f3.yAxis, f3.yAxis && f3.yAxis[b4], a5);
            });
            d3.prototype.init.call(this, h5, e2);
          };
          c3.prototype.createAxis = function(a5, c4) {
            c4.axis = L3(q3(a5, c4.axis), c4.axis, l3(a5, this.userOptions));
            return d3.prototype.createAxis.call(this, a5, c4);
          };
          return c3;
        }(A);
        (function(a5) {
          a5.stockChart = function(c3, d3, e2) {
            return new a5(c3, d3, e2);
          };
        })(z2 || (z2 = {}));
        e(H2, "setOptions", function(a5) {
          var c3;
          this.chart.options.isStock && (this.is("column") || this.is("columnrange") ? c3 = { borderWidth: 0, shadow: false } : this.is("scatter") || this.is("sma") || (c3 = { marker: { enabled: false, radius: 2 } }), c3 && (a5.plotOptions[this.type] = L3(a5.plotOptions[this.type], c3)));
        });
        e(h4, "autoLabelAlign", function(a5) {
          var c3 = this.chart, d3 = this.options;
          c3 = c3._labelPanes = c3._labelPanes || {};
          var e2 = this.options.labels;
          this.chart.options.isStock && this.coll === "yAxis" && (d3 = d3.top + "," + d3.height, !c3[d3] && e2.enabled && (e2.x === 15 && (e2.x = 0), typeof e2.align === "undefined" && (e2.align = "right"), c3[d3] = this, a5.align = "right", a5.preventDefault()));
        });
        e(h4, "destroy", function() {
          var a5 = this.chart, c3 = this.options && this.options.top + "," + this.options.height;
          c3 && a5._labelPanes && a5._labelPanes[c3] === this && delete a5._labelPanes[c3];
        });
        e(h4, "getPlotLinePath", function(a5) {
          function c3(a6) {
            var b4 = a6 === "xAxis" ? "yAxis" : "xAxis";
            a6 = d3.options[b4];
            return J2(a6) ? [f3[b4][a6]] : K2(a6) ? [f3.get(a6)] : e2.map(function(a7) {
              return a7[b4];
            });
          }
          var d3 = this, e2 = this.isLinked && !this.series ? this.linkedParent.series : this.series, f3 = d3.chart, h5 = f3.renderer, b3 = d3.left, l4 = d3.top, q4, m2, w2, v2, x3 = [], z3 = [], A2 = a5.translatedValue, C3 = a5.value, D4 = a5.force;
          if (f3.options.isStock && a5.acrossPanes !== false && d3.coll === "xAxis" || d3.coll === "yAxis") {
            a5.preventDefault();
            z3 = c3(d3.coll);
            var E4 = d3.isXAxis ? f3.yAxis : f3.xAxis;
            E4.forEach(function(a6) {
              if (k2(a6.options.id) ? a6.options.id.indexOf("navigator") === -1 : 1) {
                var b4 = a6.isXAxis ? "yAxis" : "xAxis";
                b4 = k2(a6.options[b4]) ? f3[b4][a6.options[b4]] : f3[b4][0];
                d3 === b4 && z3.push(a6);
              }
            });
            var F2 = z3.length ? [] : [d3.isXAxis ? f3.yAxis[0] : f3.xAxis[0]];
            z3.forEach(function(a6) {
              F2.indexOf(a6) !== -1 || B(F2, function(b4) {
                return b4.pos === a6.pos && b4.len === a6.len;
              }) || F2.push(a6);
            });
            var H3 = y2(A2, d3.translate(C3, null, null, a5.old));
            J2(H3) && (d3.horiz ? F2.forEach(function(a6) {
              var c4;
              m2 = a6.pos;
              v2 = m2 + a6.len;
              q4 = w2 = Math.round(H3 + d3.transB);
              D4 !== "pass" && (q4 < b3 || q4 > b3 + d3.width) && (D4 ? q4 = w2 = p2(q4, b3, b3 + d3.width) : c4 = true);
              c4 || x3.push(["M", q4, m2], ["L", w2, v2]);
            }) : F2.forEach(function(a6) {
              var b4;
              q4 = a6.pos;
              w2 = q4 + a6.len;
              m2 = v2 = Math.round(l4 + d3.height - H3);
              D4 !== "pass" && (m2 < l4 || m2 > l4 + d3.height) && (D4 ? m2 = v2 = p2(m2, l4, l4 + d3.height) : b4 = true);
              b4 || x3.push(["M", q4, m2], ["L", w2, v2]);
            }));
            a5.path = 0 < x3.length ? h5.crispPolyLine(x3, a5.lineWidth || 1) : null;
          }
        });
        I2.prototype.crispPolyLine = function(a5, c3) {
          for (var d3 = 0; d3 < a5.length; d3 += 2) {
            var e2 = a5[d3], f3 = a5[d3 + 1];
            e2[1] === f3[1] && (e2[1] = f3[1] = Math.round(e2[1]) - c3 % 2 / 2);
            e2[2] === f3[2] && (e2[2] = f3[2] = Math.round(e2[2]) + c3 % 2 / 2);
          }
          return a5;
        };
        e(h4, "afterHideCrosshair", function() {
          this.crossLabel && (this.crossLabel = this.crossLabel.hide());
        });
        e(h4, "afterDrawCrosshair", function(a5) {
          var c3, e2;
          if (this.crosshair && this.crosshair.label && this.crosshair.label.enabled && this.cross && J2(this.min) && J2(this.max)) {
            var f3 = this.chart, h5 = this.logarithmic, k3 = this.crosshair.label, b3 = this.horiz, l4 = this.opposite, p3 = this.left, m2 = this.top, q4 = this.crossLabel, v2 = k3.format, x3 = "", z3 = this.options.tickPosition === "inside", A2 = this.crosshair.snap !== false, B2 = 0, C3 = a5.e || this.cross && this.cross.e;
            a5 = a5.point;
            var E4 = this.min, F2 = this.max;
            h5 && (E4 = h5.lin2log(E4), F2 = h5.lin2log(F2));
            h5 = b3 ? "center" : l4 ? this.labelAlign === "right" ? "right" : "left" : this.labelAlign === "left" ? "left" : "center";
            q4 || (q4 = this.crossLabel = f3.renderer.label("", 0, void 0, k3.shape || "callout").addClass("highcharts-crosshair-label highcharts-color-" + (a5 ? a5.series.colorIndex : this.series[0] && this.series[0].colorIndex)).attr({ align: k3.align || h5, padding: y2(k3.padding, 8), r: y2(k3.borderRadius, 3), zIndex: 2 }).add(this.labelGroup), f3.styledMode || q4.attr({ fill: k3.backgroundColor || a5 && a5.series && a5.series.color || "#666666", stroke: k3.borderColor || "", "stroke-width": k3.borderWidth || 0 }).css(D3({ color: "#ffffff", fontWeight: "normal", fontSize: "11px", textAlign: "center" }, k3.style || {})));
            b3 ? (h5 = A2 ? (a5.plotX || 0) + p3 : C3.chartX, m2 += l4 ? 0 : this.height) : (h5 = l4 ? this.width + p3 : 0, m2 = A2 ? (a5.plotY || 0) + m2 : C3.chartY);
            v2 || k3.formatter || (this.dateTime && (x3 = "%b %d, %Y"), v2 = "{value" + (x3 ? ":" + x3 : "") + "}");
            x3 = A2 ? this.isXAxis ? a5.x : a5.y : this.toValue(b3 ? C3.chartX : C3.chartY);
            A2 = a5 ? a5.series.isPointInside(a5) : J2(x3) && x3 > E4 && x3 < F2;
            C3 = "";
            v2 ? C3 = d2(v2, { value: x3 }, f3) : k3.formatter && J2(x3) && (C3 = k3.formatter.call(this, x3));
            q4.attr({ text: C3, x: h5, y: m2, visibility: A2 ? "visible" : "hidden" });
            k3 = q4.getBBox();
            if (J2(q4.y))
              if (b3) {
                if (z3 && !l4 || !z3 && l4)
                  m2 = q4.y - k3.height;
              } else
                m2 = q4.y - k3.height / 2;
            b3 ? (c3 = p3 - k3.x, e2 = p3 + this.width - k3.x) : (c3 = this.labelAlign === "left" ? p3 : 0, e2 = this.labelAlign === "right" ? p3 + this.width : f3.chartWidth);
            q4.translateX < c3 && (B2 = c3 - q4.translateX);
            q4.translateX + k3.width >= e2 && (B2 = -(q4.translateX + k3.width - e2));
            q4.attr({ x: h5 + B2, y: m2, anchorX: b3 ? h5 : this.opposite ? 0 : f3.chartWidth, anchorY: b3 ? this.opposite ? f3.chartHeight : 0 : m2 + k3.height / 2 });
          }
        });
        H2.prototype.forceCropping = function() {
          var a5 = this.chart, c3 = this.options.dataGrouping;
          return this.allowDG !== false && c3 && y2(c3.enabled, a5.options.isStock);
        };
        e(A, "update", function(a5) {
          a5 = a5.options;
          "scrollbar" in a5 && this.navigator && (L3(true, this.options.scrollbar, a5.scrollbar), this.navigator.update({}, false), delete a5.scrollbar);
        });
        return z2;
      });
      M2(h3, "masters/modules/stock.src.js", [
        h3["Core/Globals.js"],
        h3["Core/Axis/OrdinalAxis.js"],
        h3["Series/DataModifyComposition.js"],
        h3["Core/Scrollbar.js"],
        h3["Core/Chart/StockChart.js"]
      ], function(e, h4, A, E3, v) {
        e.Scrollbar = E3;
        e.StockChart = e.stockChart = v.stockChart;
        E3.compose(e.Axis);
        h4.compose(e.Axis, e.Series, e.Chart);
        A.compose(e.Series, e.Axis, e.Point);
      });
      M2(h3, "masters/highstock.src.js", [h3["masters/highcharts.src.js"]], function(e) {
        e.product = "Highstock";
        return e;
      });
      h3["masters/highstock.src.js"]._modules = h3;
      return h3["masters/highstock.src.js"];
    });
  }
});

// node_modules/highcharts-react-official/dist/highcharts-react.min.js
var require_highcharts_react_min = __commonJS({
  "node_modules/highcharts-react-official/dist/highcharts-react.min.js"(exports2, module2) {
    !function(e, t2) {
      typeof exports2 == "object" && typeof module2 == "object" ? module2.exports = t2(require_react()) : typeof define == "function" && define.amd ? define(["react"], t2) : typeof exports2 == "object" ? exports2.HighchartsReact = t2(require_react()) : e.HighchartsReact = t2(e.React);
    }(typeof self != "undefined" ? self : exports2, function(e) {
      return function(e2) {
        function t2(n2) {
          if (r3[n2])
            return r3[n2].exports;
          var o2 = r3[n2] = { i: n2, l: false, exports: {} };
          return e2[n2].call(o2.exports, o2, o2.exports, t2), o2.l = true, o2.exports;
        }
        var r3 = {};
        return t2.m = e2, t2.c = r3, t2.d = function(e3, r4, n2) {
          t2.o(e3, r4) || Object.defineProperty(e3, r4, { configurable: false, enumerable: true, get: n2 });
        }, t2.n = function(e3) {
          var r4 = e3 && e3.__esModule ? function() {
            return e3.default;
          } : function() {
            return e3;
          };
          return t2.d(r4, "a", r4), r4;
        }, t2.o = function(e3, t3) {
          return Object.prototype.hasOwnProperty.call(e3, t3);
        }, t2.p = "", t2(t2.s = 0);
      }([function(e2, t2, r3) {
        "use strict";
        function n2() {
          return n2 = Object.assign || function(e3) {
            for (var t3 = 1; t3 < arguments.length; t3++) {
              var r4 = arguments[t3];
              for (var n3 in r4)
                Object.prototype.hasOwnProperty.call(r4, n3) && (e3[n3] = r4[n3]);
            }
            return e3;
          }, n2.apply(this, arguments);
        }
        function o2(e3) {
          return a4(e3) || i3(e3) || u4(e3) || c3();
        }
        function c3() {
          throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
        }
        function u4(e3, t3) {
          if (e3) {
            if (typeof e3 == "string")
              return f2(e3, t3);
            var r4 = Object.prototype.toString.call(e3).slice(8, -1);
            return r4 === "Object" && e3.constructor && (r4 = e3.constructor.name), r4 === "Map" || r4 === "Set" ? Array.from(e3) : r4 === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r4) ? f2(e3, t3) : void 0;
          }
        }
        function i3(e3) {
          if (typeof Symbol != "undefined" && e3[Symbol.iterator] != null || e3["@@iterator"] != null)
            return Array.from(e3);
        }
        function a4(e3) {
          if (Array.isArray(e3))
            return f2(e3);
        }
        function f2(e3, t3) {
          (t3 == null || t3 > e3.length) && (t3 = e3.length);
          for (var r4 = 0, n3 = new Array(t3); r4 < t3; r4++)
            n3[r4] = e3[r4];
          return n3;
        }
        function s3(e3) {
          "@babel/helpers - typeof";
          return (s3 = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(e4) {
            return typeof e4;
          } : function(e4) {
            return e4 && typeof Symbol == "function" && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
          })(e3);
        }
        Object.defineProperty(t2, "__esModule", { value: true });
        var p2 = r3(1), l3 = r3.n(p2), y2 = typeof window != "undefined" ? p2.useLayoutEffect : p2.useEffect, d2 = Object(p2.forwardRef)(function(e3, t3) {
          var r4 = Object(p2.useRef)(), c4 = Object(p2.useRef)();
          return y2(function() {
            function t4() {
              var t5 = e3.highcharts || (typeof window == "undefined" ? "undefined" : s3(window)) === "object" && window.Highcharts, n4 = e3.constructorType || "chart";
              t5 ? t5[n4] ? e3.options ? c4.current = t5[n4](r4.current, e3.options, e3.callback ? e3.callback : void 0) : console.warn('The "options" property was not passed.') : console.warn('The "constructorType" property is incorrect or some required module is not imported.') : console.warn('The "highcharts" property was not passed.');
            }
            if (c4.current) {
              if (e3.allowChartUpdate !== false)
                if (!e3.immutable && c4.current) {
                  var n3;
                  (n3 = c4.current).update.apply(n3, [e3.options].concat(o2(e3.updateArgs || [true, true])));
                } else
                  t4();
            } else
              t4();
          }), y2(function() {
            return function() {
              c4.current && (c4.current.destroy(), c4.current = null);
            };
          }, []), Object(p2.useImperativeHandle)(t3, function() {
            return { get chart() {
              return c4.current;
            }, container: r4 };
          }, []), l3.a.createElement("div", n2({}, e3.containerProps, { ref: r4 }));
        });
        t2.default = Object(p2.memo)(d2);
      }, function(t2, r3) {
        t2.exports = e;
      }]);
    });
  }
});

// src/dev/EventList.tsx
var import_react50 = __toModule(require_react());
var import_react_dom = __toModule(require_react_dom());

// src/api/client.tsx
var import_react3 = __toModule(require_react());

// node_modules/graphql/jsutils/nodejsCustomInspectSymbol.mjs
var nodejsCustomInspectSymbol = typeof Symbol === "function" && typeof Symbol.for === "function" ? Symbol.for("nodejs.util.inspect.custom") : void 0;
var nodejsCustomInspectSymbol_default = nodejsCustomInspectSymbol;

// node_modules/graphql/jsutils/inspect.mjs
function _typeof(obj) {
  "@babel/helpers - typeof";
  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
    _typeof = function _typeof5(obj2) {
      return typeof obj2;
    };
  } else {
    _typeof = function _typeof5(obj2) {
      return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
    };
  }
  return _typeof(obj);
}
var MAX_ARRAY_LENGTH = 10;
var MAX_RECURSIVE_DEPTH = 2;
function inspect(value) {
  return formatValue(value, []);
}
function formatValue(value, seenValues) {
  switch (_typeof(value)) {
    case "string":
      return JSON.stringify(value);
    case "function":
      return value.name ? "[function ".concat(value.name, "]") : "[function]";
    case "object":
      if (value === null) {
        return "null";
      }
      return formatObjectValue(value, seenValues);
    default:
      return String(value);
  }
}
function formatObjectValue(value, previouslySeenValues) {
  if (previouslySeenValues.indexOf(value) !== -1) {
    return "[Circular]";
  }
  var seenValues = [].concat(previouslySeenValues, [value]);
  var customInspectFn = getCustomFn(value);
  if (customInspectFn !== void 0) {
    var customValue = customInspectFn.call(value);
    if (customValue !== value) {
      return typeof customValue === "string" ? customValue : formatValue(customValue, seenValues);
    }
  } else if (Array.isArray(value)) {
    return formatArray(value, seenValues);
  }
  return formatObject(value, seenValues);
}
function formatObject(object, seenValues) {
  var keys = Object.keys(object);
  if (keys.length === 0) {
    return "{}";
  }
  if (seenValues.length > MAX_RECURSIVE_DEPTH) {
    return "[" + getObjectTag(object) + "]";
  }
  var properties = keys.map(function(key) {
    var value = formatValue(object[key], seenValues);
    return key + ": " + value;
  });
  return "{ " + properties.join(", ") + " }";
}
function formatArray(array, seenValues) {
  if (array.length === 0) {
    return "[]";
  }
  if (seenValues.length > MAX_RECURSIVE_DEPTH) {
    return "[Array]";
  }
  var len = Math.min(MAX_ARRAY_LENGTH, array.length);
  var remaining = array.length - len;
  var items = [];
  for (var i3 = 0; i3 < len; ++i3) {
    items.push(formatValue(array[i3], seenValues));
  }
  if (remaining === 1) {
    items.push("... 1 more item");
  } else if (remaining > 1) {
    items.push("... ".concat(remaining, " more items"));
  }
  return "[" + items.join(", ") + "]";
}
function getCustomFn(object) {
  var customInspectFn = object[String(nodejsCustomInspectSymbol_default)];
  if (typeof customInspectFn === "function") {
    return customInspectFn;
  }
  if (typeof object.inspect === "function") {
    return object.inspect;
  }
}
function getObjectTag(object) {
  var tag = Object.prototype.toString.call(object).replace(/^\[object /, "").replace(/]$/, "");
  if (tag === "Object" && typeof object.constructor === "function") {
    var name = object.constructor.name;
    if (typeof name === "string" && name !== "") {
      return name;
    }
  }
  return tag;
}

// node_modules/graphql/jsutils/invariant.mjs
function invariant(condition, message) {
  var booleanCondition = Boolean(condition);
  if (!booleanCondition) {
    throw new Error(message != null ? message : "Unexpected invariant triggered.");
  }
}

// node_modules/graphql/jsutils/defineInspect.mjs
function defineInspect(classObject) {
  var fn = classObject.prototype.toJSON;
  typeof fn === "function" || invariant(0);
  classObject.prototype.inspect = fn;
  if (nodejsCustomInspectSymbol_default) {
    classObject.prototype[nodejsCustomInspectSymbol_default] = fn;
  }
}

// node_modules/graphql/language/ast.mjs
var Location = /* @__PURE__ */ function() {
  function Location2(startToken, endToken, source) {
    this.start = startToken.start;
    this.end = endToken.end;
    this.startToken = startToken;
    this.endToken = endToken;
    this.source = source;
  }
  var _proto = Location2.prototype;
  _proto.toJSON = function toJSON() {
    return {
      start: this.start,
      end: this.end
    };
  };
  return Location2;
}();
defineInspect(Location);
var Token = /* @__PURE__ */ function() {
  function Token2(kind, start, end, line, column, prev, value) {
    this.kind = kind;
    this.start = start;
    this.end = end;
    this.line = line;
    this.column = column;
    this.value = value;
    this.prev = prev;
    this.next = null;
  }
  var _proto2 = Token2.prototype;
  _proto2.toJSON = function toJSON() {
    return {
      kind: this.kind,
      value: this.value,
      line: this.line,
      column: this.column
    };
  };
  return Token2;
}();
defineInspect(Token);
function isNode(maybeNode) {
  return maybeNode != null && typeof maybeNode.kind === "string";
}

// node_modules/graphql/language/visitor.mjs
var QueryDocumentKeys = {
  Name: [],
  Document: ["definitions"],
  OperationDefinition: ["name", "variableDefinitions", "directives", "selectionSet"],
  VariableDefinition: ["variable", "type", "defaultValue", "directives"],
  Variable: ["name"],
  SelectionSet: ["selections"],
  Field: ["alias", "name", "arguments", "directives", "selectionSet"],
  Argument: ["name", "value"],
  FragmentSpread: ["name", "directives"],
  InlineFragment: ["typeCondition", "directives", "selectionSet"],
  FragmentDefinition: [
    "name",
    "variableDefinitions",
    "typeCondition",
    "directives",
    "selectionSet"
  ],
  IntValue: [],
  FloatValue: [],
  StringValue: [],
  BooleanValue: [],
  NullValue: [],
  EnumValue: [],
  ListValue: ["values"],
  ObjectValue: ["fields"],
  ObjectField: ["name", "value"],
  Directive: ["name", "arguments"],
  NamedType: ["name"],
  ListType: ["type"],
  NonNullType: ["type"],
  SchemaDefinition: ["description", "directives", "operationTypes"],
  OperationTypeDefinition: ["type"],
  ScalarTypeDefinition: ["description", "name", "directives"],
  ObjectTypeDefinition: ["description", "name", "interfaces", "directives", "fields"],
  FieldDefinition: ["description", "name", "arguments", "type", "directives"],
  InputValueDefinition: ["description", "name", "type", "defaultValue", "directives"],
  InterfaceTypeDefinition: ["description", "name", "interfaces", "directives", "fields"],
  UnionTypeDefinition: ["description", "name", "directives", "types"],
  EnumTypeDefinition: ["description", "name", "directives", "values"],
  EnumValueDefinition: ["description", "name", "directives"],
  InputObjectTypeDefinition: ["description", "name", "directives", "fields"],
  DirectiveDefinition: ["description", "name", "arguments", "locations"],
  SchemaExtension: ["directives", "operationTypes"],
  ScalarTypeExtension: ["name", "directives"],
  ObjectTypeExtension: ["name", "interfaces", "directives", "fields"],
  InterfaceTypeExtension: ["name", "interfaces", "directives", "fields"],
  UnionTypeExtension: ["name", "directives", "types"],
  EnumTypeExtension: ["name", "directives", "values"],
  InputObjectTypeExtension: ["name", "directives", "fields"]
};
var BREAK = Object.freeze({});
function visit(root, visitor) {
  var visitorKeys = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : QueryDocumentKeys;
  var stack = void 0;
  var inArray = Array.isArray(root);
  var keys = [root];
  var index = -1;
  var edits = [];
  var node = void 0;
  var key = void 0;
  var parent = void 0;
  var path = [];
  var ancestors = [];
  var newRoot = root;
  do {
    index++;
    var isLeaving = index === keys.length;
    var isEdited = isLeaving && edits.length !== 0;
    if (isLeaving) {
      key = ancestors.length === 0 ? void 0 : path[path.length - 1];
      node = parent;
      parent = ancestors.pop();
      if (isEdited) {
        if (inArray) {
          node = node.slice();
        } else {
          var clone = {};
          for (var _i2 = 0, _Object$keys2 = Object.keys(node); _i2 < _Object$keys2.length; _i2++) {
            var k2 = _Object$keys2[_i2];
            clone[k2] = node[k2];
          }
          node = clone;
        }
        var editOffset = 0;
        for (var ii = 0; ii < edits.length; ii++) {
          var editKey = edits[ii][0];
          var editValue = edits[ii][1];
          if (inArray) {
            editKey -= editOffset;
          }
          if (inArray && editValue === null) {
            node.splice(editKey, 1);
            editOffset++;
          } else {
            node[editKey] = editValue;
          }
        }
      }
      index = stack.index;
      keys = stack.keys;
      edits = stack.edits;
      inArray = stack.inArray;
      stack = stack.prev;
    } else {
      key = parent ? inArray ? index : keys[index] : void 0;
      node = parent ? parent[key] : newRoot;
      if (node === null || node === void 0) {
        continue;
      }
      if (parent) {
        path.push(key);
      }
    }
    var result = void 0;
    if (!Array.isArray(node)) {
      if (!isNode(node)) {
        throw new Error("Invalid AST Node: ".concat(inspect(node), "."));
      }
      var visitFn = getVisitFn(visitor, node.kind, isLeaving);
      if (visitFn) {
        result = visitFn.call(visitor, node, key, parent, path, ancestors);
        if (result === BREAK) {
          break;
        }
        if (result === false) {
          if (!isLeaving) {
            path.pop();
            continue;
          }
        } else if (result !== void 0) {
          edits.push([key, result]);
          if (!isLeaving) {
            if (isNode(result)) {
              node = result;
            } else {
              path.pop();
              continue;
            }
          }
        }
      }
    }
    if (result === void 0 && isEdited) {
      edits.push([key, node]);
    }
    if (isLeaving) {
      path.pop();
    } else {
      var _visitorKeys$node$kin;
      stack = {
        inArray,
        index,
        keys,
        edits,
        prev: stack
      };
      inArray = Array.isArray(node);
      keys = inArray ? node : (_visitorKeys$node$kin = visitorKeys[node.kind]) !== null && _visitorKeys$node$kin !== void 0 ? _visitorKeys$node$kin : [];
      index = -1;
      edits = [];
      if (parent) {
        ancestors.push(parent);
      }
      parent = node;
    }
  } while (stack !== void 0);
  if (edits.length !== 0) {
    newRoot = edits[edits.length - 1][1];
  }
  return newRoot;
}
function getVisitFn(visitor, kind, isLeaving) {
  var kindVisitor = visitor[kind];
  if (kindVisitor) {
    if (!isLeaving && typeof kindVisitor === "function") {
      return kindVisitor;
    }
    var kindSpecificVisitor = isLeaving ? kindVisitor.leave : kindVisitor.enter;
    if (typeof kindSpecificVisitor === "function") {
      return kindSpecificVisitor;
    }
  } else {
    var specificVisitor = isLeaving ? visitor.leave : visitor.enter;
    if (specificVisitor) {
      if (typeof specificVisitor === "function") {
        return specificVisitor;
      }
      var specificKindVisitor = specificVisitor[kind];
      if (typeof specificKindVisitor === "function") {
        return specificKindVisitor;
      }
    }
  }
}

// node_modules/graphql/language/kinds.mjs
var Kind = Object.freeze({
  NAME: "Name",
  DOCUMENT: "Document",
  OPERATION_DEFINITION: "OperationDefinition",
  VARIABLE_DEFINITION: "VariableDefinition",
  SELECTION_SET: "SelectionSet",
  FIELD: "Field",
  ARGUMENT: "Argument",
  FRAGMENT_SPREAD: "FragmentSpread",
  INLINE_FRAGMENT: "InlineFragment",
  FRAGMENT_DEFINITION: "FragmentDefinition",
  VARIABLE: "Variable",
  INT: "IntValue",
  FLOAT: "FloatValue",
  STRING: "StringValue",
  BOOLEAN: "BooleanValue",
  NULL: "NullValue",
  ENUM: "EnumValue",
  LIST: "ListValue",
  OBJECT: "ObjectValue",
  OBJECT_FIELD: "ObjectField",
  DIRECTIVE: "Directive",
  NAMED_TYPE: "NamedType",
  LIST_TYPE: "ListType",
  NON_NULL_TYPE: "NonNullType",
  SCHEMA_DEFINITION: "SchemaDefinition",
  OPERATION_TYPE_DEFINITION: "OperationTypeDefinition",
  SCALAR_TYPE_DEFINITION: "ScalarTypeDefinition",
  OBJECT_TYPE_DEFINITION: "ObjectTypeDefinition",
  FIELD_DEFINITION: "FieldDefinition",
  INPUT_VALUE_DEFINITION: "InputValueDefinition",
  INTERFACE_TYPE_DEFINITION: "InterfaceTypeDefinition",
  UNION_TYPE_DEFINITION: "UnionTypeDefinition",
  ENUM_TYPE_DEFINITION: "EnumTypeDefinition",
  ENUM_VALUE_DEFINITION: "EnumValueDefinition",
  INPUT_OBJECT_TYPE_DEFINITION: "InputObjectTypeDefinition",
  DIRECTIVE_DEFINITION: "DirectiveDefinition",
  SCHEMA_EXTENSION: "SchemaExtension",
  SCALAR_TYPE_EXTENSION: "ScalarTypeExtension",
  OBJECT_TYPE_EXTENSION: "ObjectTypeExtension",
  INTERFACE_TYPE_EXTENSION: "InterfaceTypeExtension",
  UNION_TYPE_EXTENSION: "UnionTypeExtension",
  ENUM_TYPE_EXTENSION: "EnumTypeExtension",
  INPUT_OBJECT_TYPE_EXTENSION: "InputObjectTypeExtension"
});

// node_modules/graphql/language/blockString.mjs
function dedentBlockStringValue(rawString) {
  var lines = rawString.split(/\r\n|[\n\r]/g);
  var commonIndent = getBlockStringIndentation(rawString);
  if (commonIndent !== 0) {
    for (var i3 = 1; i3 < lines.length; i3++) {
      lines[i3] = lines[i3].slice(commonIndent);
    }
  }
  var startLine = 0;
  while (startLine < lines.length && isBlank(lines[startLine])) {
    ++startLine;
  }
  var endLine = lines.length;
  while (endLine > startLine && isBlank(lines[endLine - 1])) {
    --endLine;
  }
  return lines.slice(startLine, endLine).join("\n");
}
function isBlank(str) {
  for (var i3 = 0; i3 < str.length; ++i3) {
    if (str[i3] !== " " && str[i3] !== "	") {
      return false;
    }
  }
  return true;
}
function getBlockStringIndentation(value) {
  var _commonIndent;
  var isFirstLine = true;
  var isEmptyLine = true;
  var indent2 = 0;
  var commonIndent = null;
  for (var i3 = 0; i3 < value.length; ++i3) {
    switch (value.charCodeAt(i3)) {
      case 13:
        if (value.charCodeAt(i3 + 1) === 10) {
          ++i3;
        }
      case 10:
        isFirstLine = false;
        isEmptyLine = true;
        indent2 = 0;
        break;
      case 9:
      case 32:
        ++indent2;
        break;
      default:
        if (isEmptyLine && !isFirstLine && (commonIndent === null || indent2 < commonIndent)) {
          commonIndent = indent2;
        }
        isEmptyLine = false;
    }
  }
  return (_commonIndent = commonIndent) !== null && _commonIndent !== void 0 ? _commonIndent : 0;
}
function printBlockString(value) {
  var indentation = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "";
  var preferMultipleLines = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;
  var isSingleLine = value.indexOf("\n") === -1;
  var hasLeadingSpace = value[0] === " " || value[0] === "	";
  var hasTrailingQuote = value[value.length - 1] === '"';
  var hasTrailingSlash = value[value.length - 1] === "\\";
  var printAsMultipleLines = !isSingleLine || hasTrailingQuote || hasTrailingSlash || preferMultipleLines;
  var result = "";
  if (printAsMultipleLines && !(isSingleLine && hasLeadingSpace)) {
    result += "\n" + indentation;
  }
  result += indentation ? value.replace(/\n/g, "\n" + indentation) : value;
  if (printAsMultipleLines) {
    result += "\n";
  }
  return '"""' + result.replace(/"""/g, '\\"""') + '"""';
}

// node_modules/graphql/language/printer.mjs
function print(ast) {
  return visit(ast, {
    leave: printDocASTReducer
  });
}
var MAX_LINE_LENGTH = 80;
var printDocASTReducer = {
  Name: function Name(node) {
    return node.value;
  },
  Variable: function Variable(node) {
    return "$" + node.name;
  },
  Document: function Document(node) {
    return join(node.definitions, "\n\n") + "\n";
  },
  OperationDefinition: function OperationDefinition(node) {
    var op = node.operation;
    var name = node.name;
    var varDefs = wrap("(", join(node.variableDefinitions, ", "), ")");
    var directives = join(node.directives, " ");
    var selectionSet = node.selectionSet;
    return !name && !directives && !varDefs && op === "query" ? selectionSet : join([op, join([name, varDefs]), directives, selectionSet], " ");
  },
  VariableDefinition: function VariableDefinition(_ref) {
    var variable = _ref.variable, type = _ref.type, defaultValue = _ref.defaultValue, directives = _ref.directives;
    return variable + ": " + type + wrap(" = ", defaultValue) + wrap(" ", join(directives, " "));
  },
  SelectionSet: function SelectionSet(_ref22) {
    var selections = _ref22.selections;
    return block(selections);
  },
  Field: function Field(_ref3) {
    var alias = _ref3.alias, name = _ref3.name, args = _ref3.arguments, directives = _ref3.directives, selectionSet = _ref3.selectionSet;
    var prefix2 = wrap("", alias, ": ") + name;
    var argsLine = prefix2 + wrap("(", join(args, ", "), ")");
    if (argsLine.length > MAX_LINE_LENGTH) {
      argsLine = prefix2 + wrap("(\n", indent(join(args, "\n")), "\n)");
    }
    return join([argsLine, join(directives, " "), selectionSet], " ");
  },
  Argument: function Argument(_ref4) {
    var name = _ref4.name, value = _ref4.value;
    return name + ": " + value;
  },
  FragmentSpread: function FragmentSpread(_ref5) {
    var name = _ref5.name, directives = _ref5.directives;
    return "..." + name + wrap(" ", join(directives, " "));
  },
  InlineFragment: function InlineFragment(_ref62) {
    var typeCondition = _ref62.typeCondition, directives = _ref62.directives, selectionSet = _ref62.selectionSet;
    return join(["...", wrap("on ", typeCondition), join(directives, " "), selectionSet], " ");
  },
  FragmentDefinition: function FragmentDefinition(_ref7) {
    var name = _ref7.name, typeCondition = _ref7.typeCondition, variableDefinitions = _ref7.variableDefinitions, directives = _ref7.directives, selectionSet = _ref7.selectionSet;
    return "fragment ".concat(name).concat(wrap("(", join(variableDefinitions, ", "), ")"), " ") + "on ".concat(typeCondition, " ").concat(wrap("", join(directives, " "), " ")) + selectionSet;
  },
  IntValue: function IntValue(_ref8) {
    var value = _ref8.value;
    return value;
  },
  FloatValue: function FloatValue(_ref9) {
    var value = _ref9.value;
    return value;
  },
  StringValue: function StringValue(_ref10, key) {
    var value = _ref10.value, isBlockString = _ref10.block;
    return isBlockString ? printBlockString(value, key === "description" ? "" : "  ") : JSON.stringify(value);
  },
  BooleanValue: function BooleanValue(_ref11) {
    var value = _ref11.value;
    return value ? "true" : "false";
  },
  NullValue: function NullValue() {
    return "null";
  },
  EnumValue: function EnumValue(_ref12) {
    var value = _ref12.value;
    return value;
  },
  ListValue: function ListValue(_ref13) {
    var values = _ref13.values;
    return "[" + join(values, ", ") + "]";
  },
  ObjectValue: function ObjectValue(_ref14) {
    var fields = _ref14.fields;
    return "{" + join(fields, ", ") + "}";
  },
  ObjectField: function ObjectField(_ref15) {
    var name = _ref15.name, value = _ref15.value;
    return name + ": " + value;
  },
  Directive: function Directive(_ref16) {
    var name = _ref16.name, args = _ref16.arguments;
    return "@" + name + wrap("(", join(args, ", "), ")");
  },
  NamedType: function NamedType(_ref17) {
    var name = _ref17.name;
    return name;
  },
  ListType: function ListType(_ref18) {
    var type = _ref18.type;
    return "[" + type + "]";
  },
  NonNullType: function NonNullType(_ref19) {
    var type = _ref19.type;
    return type + "!";
  },
  SchemaDefinition: addDescription(function(_ref20) {
    var directives = _ref20.directives, operationTypes = _ref20.operationTypes;
    return join(["schema", join(directives, " "), block(operationTypes)], " ");
  }),
  OperationTypeDefinition: function OperationTypeDefinition(_ref21) {
    var operation = _ref21.operation, type = _ref21.type;
    return operation + ": " + type;
  },
  ScalarTypeDefinition: addDescription(function(_ref22) {
    var name = _ref22.name, directives = _ref22.directives;
    return join(["scalar", name, join(directives, " ")], " ");
  }),
  ObjectTypeDefinition: addDescription(function(_ref23) {
    var name = _ref23.name, interfaces = _ref23.interfaces, directives = _ref23.directives, fields = _ref23.fields;
    return join(["type", name, wrap("implements ", join(interfaces, " & ")), join(directives, " "), block(fields)], " ");
  }),
  FieldDefinition: addDescription(function(_ref24) {
    var name = _ref24.name, args = _ref24.arguments, type = _ref24.type, directives = _ref24.directives;
    return name + (hasMultilineItems(args) ? wrap("(\n", indent(join(args, "\n")), "\n)") : wrap("(", join(args, ", "), ")")) + ": " + type + wrap(" ", join(directives, " "));
  }),
  InputValueDefinition: addDescription(function(_ref25) {
    var name = _ref25.name, type = _ref25.type, defaultValue = _ref25.defaultValue, directives = _ref25.directives;
    return join([name + ": " + type, wrap("= ", defaultValue), join(directives, " ")], " ");
  }),
  InterfaceTypeDefinition: addDescription(function(_ref26) {
    var name = _ref26.name, interfaces = _ref26.interfaces, directives = _ref26.directives, fields = _ref26.fields;
    return join(["interface", name, wrap("implements ", join(interfaces, " & ")), join(directives, " "), block(fields)], " ");
  }),
  UnionTypeDefinition: addDescription(function(_ref27) {
    var name = _ref27.name, directives = _ref27.directives, types = _ref27.types;
    return join(["union", name, join(directives, " "), types && types.length !== 0 ? "= " + join(types, " | ") : ""], " ");
  }),
  EnumTypeDefinition: addDescription(function(_ref28) {
    var name = _ref28.name, directives = _ref28.directives, values = _ref28.values;
    return join(["enum", name, join(directives, " "), block(values)], " ");
  }),
  EnumValueDefinition: addDescription(function(_ref29) {
    var name = _ref29.name, directives = _ref29.directives;
    return join([name, join(directives, " ")], " ");
  }),
  InputObjectTypeDefinition: addDescription(function(_ref30) {
    var name = _ref30.name, directives = _ref30.directives, fields = _ref30.fields;
    return join(["input", name, join(directives, " "), block(fields)], " ");
  }),
  DirectiveDefinition: addDescription(function(_ref31) {
    var name = _ref31.name, args = _ref31.arguments, repeatable = _ref31.repeatable, locations = _ref31.locations;
    return "directive @" + name + (hasMultilineItems(args) ? wrap("(\n", indent(join(args, "\n")), "\n)") : wrap("(", join(args, ", "), ")")) + (repeatable ? " repeatable" : "") + " on " + join(locations, " | ");
  }),
  SchemaExtension: function SchemaExtension(_ref32) {
    var directives = _ref32.directives, operationTypes = _ref32.operationTypes;
    return join(["extend schema", join(directives, " "), block(operationTypes)], " ");
  },
  ScalarTypeExtension: function ScalarTypeExtension(_ref33) {
    var name = _ref33.name, directives = _ref33.directives;
    return join(["extend scalar", name, join(directives, " ")], " ");
  },
  ObjectTypeExtension: function ObjectTypeExtension(_ref34) {
    var name = _ref34.name, interfaces = _ref34.interfaces, directives = _ref34.directives, fields = _ref34.fields;
    return join(["extend type", name, wrap("implements ", join(interfaces, " & ")), join(directives, " "), block(fields)], " ");
  },
  InterfaceTypeExtension: function InterfaceTypeExtension(_ref35) {
    var name = _ref35.name, interfaces = _ref35.interfaces, directives = _ref35.directives, fields = _ref35.fields;
    return join(["extend interface", name, wrap("implements ", join(interfaces, " & ")), join(directives, " "), block(fields)], " ");
  },
  UnionTypeExtension: function UnionTypeExtension(_ref36) {
    var name = _ref36.name, directives = _ref36.directives, types = _ref36.types;
    return join(["extend union", name, join(directives, " "), types && types.length !== 0 ? "= " + join(types, " | ") : ""], " ");
  },
  EnumTypeExtension: function EnumTypeExtension(_ref37) {
    var name = _ref37.name, directives = _ref37.directives, values = _ref37.values;
    return join(["extend enum", name, join(directives, " "), block(values)], " ");
  },
  InputObjectTypeExtension: function InputObjectTypeExtension(_ref38) {
    var name = _ref38.name, directives = _ref38.directives, fields = _ref38.fields;
    return join(["extend input", name, join(directives, " "), block(fields)], " ");
  }
};
function addDescription(cb) {
  return function(node) {
    return join([node.description, cb(node)], "\n");
  };
}
function join(maybeArray) {
  var _maybeArray$filter$jo;
  var separator = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "";
  return (_maybeArray$filter$jo = maybeArray === null || maybeArray === void 0 ? void 0 : maybeArray.filter(function(x3) {
    return x3;
  }).join(separator)) !== null && _maybeArray$filter$jo !== void 0 ? _maybeArray$filter$jo : "";
}
function block(array) {
  return wrap("{\n", indent(join(array, "\n")), "\n}");
}
function wrap(start, maybeString) {
  var end = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : "";
  return maybeString != null && maybeString !== "" ? start + maybeString + end : "";
}
function indent(str) {
  return wrap("  ", str.replace(/\n/g, "\n  "));
}
function isMultiline(str) {
  return str.indexOf("\n") !== -1;
}
function hasMultilineItems(maybeArray) {
  return maybeArray != null && maybeArray.some(isMultiline);
}

// node_modules/graphql/jsutils/isObjectLike.mjs
function _typeof2(obj) {
  "@babel/helpers - typeof";
  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
    _typeof2 = function _typeof5(obj2) {
      return typeof obj2;
    };
  } else {
    _typeof2 = function _typeof5(obj2) {
      return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
    };
  }
  return _typeof2(obj);
}
function isObjectLike(value) {
  return _typeof2(value) == "object" && value !== null;
}

// node_modules/graphql/polyfills/symbols.mjs
var SYMBOL_ITERATOR = typeof Symbol === "function" && Symbol.iterator != null ? Symbol.iterator : "@@iterator";
var SYMBOL_ASYNC_ITERATOR = typeof Symbol === "function" && Symbol.asyncIterator != null ? Symbol.asyncIterator : "@@asyncIterator";
var SYMBOL_TO_STRING_TAG = typeof Symbol === "function" && Symbol.toStringTag != null ? Symbol.toStringTag : "@@toStringTag";

// node_modules/graphql/language/location.mjs
function getLocation(source, position) {
  var lineRegexp = /\r\n|[\n\r]/g;
  var line = 1;
  var column = position + 1;
  var match9;
  while ((match9 = lineRegexp.exec(source.body)) && match9.index < position) {
    line += 1;
    column = position + 1 - (match9.index + match9[0].length);
  }
  return {
    line,
    column
  };
}

// node_modules/graphql/language/printLocation.mjs
function printLocation(location) {
  return printSourceLocation(location.source, getLocation(location.source, location.start));
}
function printSourceLocation(source, sourceLocation) {
  var firstLineColumnOffset = source.locationOffset.column - 1;
  var body = whitespace(firstLineColumnOffset) + source.body;
  var lineIndex = sourceLocation.line - 1;
  var lineOffset = source.locationOffset.line - 1;
  var lineNum = sourceLocation.line + lineOffset;
  var columnOffset = sourceLocation.line === 1 ? firstLineColumnOffset : 0;
  var columnNum = sourceLocation.column + columnOffset;
  var locationStr = "".concat(source.name, ":").concat(lineNum, ":").concat(columnNum, "\n");
  var lines = body.split(/\r\n|[\n\r]/g);
  var locationLine = lines[lineIndex];
  if (locationLine.length > 120) {
    var subLineIndex = Math.floor(columnNum / 80);
    var subLineColumnNum = columnNum % 80;
    var subLines = [];
    for (var i3 = 0; i3 < locationLine.length; i3 += 80) {
      subLines.push(locationLine.slice(i3, i3 + 80));
    }
    return locationStr + printPrefixedLines([["".concat(lineNum), subLines[0]]].concat(subLines.slice(1, subLineIndex + 1).map(function(subLine) {
      return ["", subLine];
    }), [[" ", whitespace(subLineColumnNum - 1) + "^"], ["", subLines[subLineIndex + 1]]]));
  }
  return locationStr + printPrefixedLines([
    ["".concat(lineNum - 1), lines[lineIndex - 1]],
    ["".concat(lineNum), locationLine],
    ["", whitespace(columnNum - 1) + "^"],
    ["".concat(lineNum + 1), lines[lineIndex + 1]]
  ]);
}
function printPrefixedLines(lines) {
  var existingLines = lines.filter(function(_ref) {
    var _2 = _ref[0], line = _ref[1];
    return line !== void 0;
  });
  var padLen = Math.max.apply(Math, existingLines.map(function(_ref22) {
    var prefix2 = _ref22[0];
    return prefix2.length;
  }));
  return existingLines.map(function(_ref3) {
    var prefix2 = _ref3[0], line = _ref3[1];
    return leftPad(padLen, prefix2) + (line ? " | " + line : " |");
  }).join("\n");
}
function whitespace(len) {
  return Array(len + 1).join(" ");
}
function leftPad(len, str) {
  return whitespace(len - str.length) + str;
}

// node_modules/graphql/error/GraphQLError.mjs
function _typeof3(obj) {
  "@babel/helpers - typeof";
  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
    _typeof3 = function _typeof5(obj2) {
      return typeof obj2;
    };
  } else {
    _typeof3 = function _typeof5(obj2) {
      return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
    };
  }
  return _typeof3(obj);
}
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}
function _defineProperties(target, props) {
  for (var i3 = 0; i3 < props.length; i3++) {
    var descriptor = props[i3];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor)
      descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}
function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps)
    _defineProperties(Constructor.prototype, protoProps);
  if (staticProps)
    _defineProperties(Constructor, staticProps);
  return Constructor;
}
function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }
  subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
  if (superClass)
    _setPrototypeOf(subClass, superClass);
}
function _createSuper(Derived) {
  var hasNativeReflectConstruct = _isNativeReflectConstruct();
  return function _createSuperInternal() {
    var Super = _getPrototypeOf(Derived), result;
    if (hasNativeReflectConstruct) {
      var NewTarget = _getPrototypeOf(this).constructor;
      result = Reflect.construct(Super, arguments, NewTarget);
    } else {
      result = Super.apply(this, arguments);
    }
    return _possibleConstructorReturn(this, result);
  };
}
function _possibleConstructorReturn(self2, call) {
  if (call && (_typeof3(call) === "object" || typeof call === "function")) {
    return call;
  }
  return _assertThisInitialized(self2);
}
function _assertThisInitialized(self2) {
  if (self2 === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }
  return self2;
}
function _wrapNativeSuper(Class) {
  var _cache = typeof Map === "function" ? new Map() : void 0;
  _wrapNativeSuper = function _wrapNativeSuper2(Class2) {
    if (Class2 === null || !_isNativeFunction(Class2))
      return Class2;
    if (typeof Class2 !== "function") {
      throw new TypeError("Super expression must either be null or a function");
    }
    if (typeof _cache !== "undefined") {
      if (_cache.has(Class2))
        return _cache.get(Class2);
      _cache.set(Class2, Wrapper);
    }
    function Wrapper() {
      return _construct(Class2, arguments, _getPrototypeOf(this).constructor);
    }
    Wrapper.prototype = Object.create(Class2.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } });
    return _setPrototypeOf(Wrapper, Class2);
  };
  return _wrapNativeSuper(Class);
}
function _construct(Parent, args, Class) {
  if (_isNativeReflectConstruct()) {
    _construct = Reflect.construct;
  } else {
    _construct = function _construct2(Parent2, args2, Class2) {
      var a4 = [null];
      a4.push.apply(a4, args2);
      var Constructor = Function.bind.apply(Parent2, a4);
      var instance = new Constructor();
      if (Class2)
        _setPrototypeOf(instance, Class2.prototype);
      return instance;
    };
  }
  return _construct.apply(null, arguments);
}
function _isNativeReflectConstruct() {
  if (typeof Reflect === "undefined" || !Reflect.construct)
    return false;
  if (Reflect.construct.sham)
    return false;
  if (typeof Proxy === "function")
    return true;
  try {
    Date.prototype.toString.call(Reflect.construct(Date, [], function() {
    }));
    return true;
  } catch (e) {
    return false;
  }
}
function _isNativeFunction(fn) {
  return Function.toString.call(fn).indexOf("[native code]") !== -1;
}
function _setPrototypeOf(o2, p2) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o3, p3) {
    o3.__proto__ = p3;
    return o3;
  };
  return _setPrototypeOf(o2, p2);
}
function _getPrototypeOf(o2) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf2(o3) {
    return o3.__proto__ || Object.getPrototypeOf(o3);
  };
  return _getPrototypeOf(o2);
}
var GraphQLError = /* @__PURE__ */ function(_Error) {
  _inherits(GraphQLError2, _Error);
  var _super = _createSuper(GraphQLError2);
  function GraphQLError2(message, nodes, source, positions, path, originalError, extensions) {
    var _locations2, _source2, _positions2, _extensions2;
    var _this;
    _classCallCheck(this, GraphQLError2);
    _this = _super.call(this, message);
    var _nodes = Array.isArray(nodes) ? nodes.length !== 0 ? nodes : void 0 : nodes ? [nodes] : void 0;
    var _source = source;
    if (!_source && _nodes) {
      var _nodes$0$loc;
      _source = (_nodes$0$loc = _nodes[0].loc) === null || _nodes$0$loc === void 0 ? void 0 : _nodes$0$loc.source;
    }
    var _positions = positions;
    if (!_positions && _nodes) {
      _positions = _nodes.reduce(function(list, node) {
        if (node.loc) {
          list.push(node.loc.start);
        }
        return list;
      }, []);
    }
    if (_positions && _positions.length === 0) {
      _positions = void 0;
    }
    var _locations;
    if (positions && source) {
      _locations = positions.map(function(pos) {
        return getLocation(source, pos);
      });
    } else if (_nodes) {
      _locations = _nodes.reduce(function(list, node) {
        if (node.loc) {
          list.push(getLocation(node.loc.source, node.loc.start));
        }
        return list;
      }, []);
    }
    var _extensions = extensions;
    if (_extensions == null && originalError != null) {
      var originalExtensions = originalError.extensions;
      if (isObjectLike(originalExtensions)) {
        _extensions = originalExtensions;
      }
    }
    Object.defineProperties(_assertThisInitialized(_this), {
      name: {
        value: "GraphQLError"
      },
      message: {
        value: message,
        enumerable: true,
        writable: true
      },
      locations: {
        value: (_locations2 = _locations) !== null && _locations2 !== void 0 ? _locations2 : void 0,
        enumerable: _locations != null
      },
      path: {
        value: path !== null && path !== void 0 ? path : void 0,
        enumerable: path != null
      },
      nodes: {
        value: _nodes !== null && _nodes !== void 0 ? _nodes : void 0
      },
      source: {
        value: (_source2 = _source) !== null && _source2 !== void 0 ? _source2 : void 0
      },
      positions: {
        value: (_positions2 = _positions) !== null && _positions2 !== void 0 ? _positions2 : void 0
      },
      originalError: {
        value: originalError
      },
      extensions: {
        value: (_extensions2 = _extensions) !== null && _extensions2 !== void 0 ? _extensions2 : void 0,
        enumerable: _extensions != null
      }
    });
    if (originalError !== null && originalError !== void 0 && originalError.stack) {
      Object.defineProperty(_assertThisInitialized(_this), "stack", {
        value: originalError.stack,
        writable: true,
        configurable: true
      });
      return _possibleConstructorReturn(_this);
    }
    if (Error.captureStackTrace) {
      Error.captureStackTrace(_assertThisInitialized(_this), GraphQLError2);
    } else {
      Object.defineProperty(_assertThisInitialized(_this), "stack", {
        value: Error().stack,
        writable: true,
        configurable: true
      });
    }
    return _this;
  }
  _createClass(GraphQLError2, [{
    key: "toString",
    value: function toString() {
      return printError(this);
    }
  }, {
    key: SYMBOL_TO_STRING_TAG,
    get: function get() {
      return "Object";
    }
  }]);
  return GraphQLError2;
}(/* @__PURE__ */ _wrapNativeSuper(Error));
function printError(error) {
  var output = error.message;
  if (error.nodes) {
    for (var _i2 = 0, _error$nodes2 = error.nodes; _i2 < _error$nodes2.length; _i2++) {
      var node = _error$nodes2[_i2];
      if (node.loc) {
        output += "\n\n" + printLocation(node.loc);
      }
    }
  } else if (error.source && error.locations) {
    for (var _i4 = 0, _error$locations2 = error.locations; _i4 < _error$locations2.length; _i4++) {
      var location = _error$locations2[_i4];
      output += "\n\n" + printSourceLocation(error.source, location);
    }
  }
  return output;
}

// node_modules/graphql/error/syntaxError.mjs
function syntaxError(source, position, description) {
  return new GraphQLError("Syntax Error: ".concat(description), void 0, source, [position]);
}

// node_modules/graphql/language/tokenKind.mjs
var TokenKind = Object.freeze({
  SOF: "<SOF>",
  EOF: "<EOF>",
  BANG: "!",
  DOLLAR: "$",
  AMP: "&",
  PAREN_L: "(",
  PAREN_R: ")",
  SPREAD: "...",
  COLON: ":",
  EQUALS: "=",
  AT: "@",
  BRACKET_L: "[",
  BRACKET_R: "]",
  BRACE_L: "{",
  PIPE: "|",
  BRACE_R: "}",
  NAME: "Name",
  INT: "Int",
  FLOAT: "Float",
  STRING: "String",
  BLOCK_STRING: "BlockString",
  COMMENT: "Comment"
});

// node_modules/graphql/jsutils/devAssert.mjs
function devAssert(condition, message) {
  var booleanCondition = Boolean(condition);
  if (!booleanCondition) {
    throw new Error(message);
  }
}

// node_modules/graphql/jsutils/instanceOf.mjs
function _typeof4(obj) {
  "@babel/helpers - typeof";
  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
    _typeof4 = function _typeof5(obj2) {
      return typeof obj2;
    };
  } else {
    _typeof4 = function _typeof5(obj2) {
      return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
    };
  }
  return _typeof4(obj);
}
var instanceOf_default = false ? function instanceOf(value, constructor) {
  return value instanceof constructor;
} : function instanceOf2(value, constructor) {
  if (value instanceof constructor) {
    return true;
  }
  if (_typeof4(value) === "object" && value !== null) {
    var _value$constructor;
    var className = constructor.prototype[Symbol.toStringTag];
    var valueClassName = Symbol.toStringTag in value ? value[Symbol.toStringTag] : (_value$constructor = value.constructor) === null || _value$constructor === void 0 ? void 0 : _value$constructor.name;
    if (className === valueClassName) {
      var stringifiedValue = inspect(value);
      throw new Error("Cannot use ".concat(className, ' "').concat(stringifiedValue, '" from another module or realm.\n\nEnsure that there is only one instance of "graphql" in the node_modules\ndirectory. If different versions of "graphql" are the dependencies of other\nrelied on modules, use "resolutions" to ensure only one version is installed.\n\nhttps://yarnpkg.com/en/docs/selective-version-resolutions\n\nDuplicate "graphql" modules cannot be used at the same time since different\nversions may have different capabilities and behavior. The data from one\nversion used in the function from another could produce confusing and\nspurious results.'));
    }
  }
  return false;
};

// node_modules/graphql/language/source.mjs
function _defineProperties2(target, props) {
  for (var i3 = 0; i3 < props.length; i3++) {
    var descriptor = props[i3];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor)
      descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}
function _createClass2(Constructor, protoProps, staticProps) {
  if (protoProps)
    _defineProperties2(Constructor.prototype, protoProps);
  if (staticProps)
    _defineProperties2(Constructor, staticProps);
  return Constructor;
}
var Source = /* @__PURE__ */ function() {
  function Source2(body) {
    var name = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "GraphQL request";
    var locationOffset = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {
      line: 1,
      column: 1
    };
    typeof body === "string" || devAssert(0, "Body must be a string. Received: ".concat(inspect(body), "."));
    this.body = body;
    this.name = name;
    this.locationOffset = locationOffset;
    this.locationOffset.line > 0 || devAssert(0, "line in locationOffset is 1-indexed and must be positive.");
    this.locationOffset.column > 0 || devAssert(0, "column in locationOffset is 1-indexed and must be positive.");
  }
  _createClass2(Source2, [{
    key: SYMBOL_TO_STRING_TAG,
    get: function get() {
      return "Source";
    }
  }]);
  return Source2;
}();
function isSource(source) {
  return instanceOf_default(source, Source);
}

// node_modules/graphql/language/directiveLocation.mjs
var DirectiveLocation = Object.freeze({
  QUERY: "QUERY",
  MUTATION: "MUTATION",
  SUBSCRIPTION: "SUBSCRIPTION",
  FIELD: "FIELD",
  FRAGMENT_DEFINITION: "FRAGMENT_DEFINITION",
  FRAGMENT_SPREAD: "FRAGMENT_SPREAD",
  INLINE_FRAGMENT: "INLINE_FRAGMENT",
  VARIABLE_DEFINITION: "VARIABLE_DEFINITION",
  SCHEMA: "SCHEMA",
  SCALAR: "SCALAR",
  OBJECT: "OBJECT",
  FIELD_DEFINITION: "FIELD_DEFINITION",
  ARGUMENT_DEFINITION: "ARGUMENT_DEFINITION",
  INTERFACE: "INTERFACE",
  UNION: "UNION",
  ENUM: "ENUM",
  ENUM_VALUE: "ENUM_VALUE",
  INPUT_OBJECT: "INPUT_OBJECT",
  INPUT_FIELD_DEFINITION: "INPUT_FIELD_DEFINITION"
});

// node_modules/graphql/language/lexer.mjs
var Lexer = /* @__PURE__ */ function() {
  function Lexer2(source) {
    var startOfFileToken = new Token(TokenKind.SOF, 0, 0, 0, 0, null);
    this.source = source;
    this.lastToken = startOfFileToken;
    this.token = startOfFileToken;
    this.line = 1;
    this.lineStart = 0;
  }
  var _proto = Lexer2.prototype;
  _proto.advance = function advance() {
    this.lastToken = this.token;
    var token = this.token = this.lookahead();
    return token;
  };
  _proto.lookahead = function lookahead() {
    var token = this.token;
    if (token.kind !== TokenKind.EOF) {
      do {
        var _token$next;
        token = (_token$next = token.next) !== null && _token$next !== void 0 ? _token$next : token.next = readToken(this, token);
      } while (token.kind === TokenKind.COMMENT);
    }
    return token;
  };
  return Lexer2;
}();
function isPunctuatorTokenKind(kind) {
  return kind === TokenKind.BANG || kind === TokenKind.DOLLAR || kind === TokenKind.AMP || kind === TokenKind.PAREN_L || kind === TokenKind.PAREN_R || kind === TokenKind.SPREAD || kind === TokenKind.COLON || kind === TokenKind.EQUALS || kind === TokenKind.AT || kind === TokenKind.BRACKET_L || kind === TokenKind.BRACKET_R || kind === TokenKind.BRACE_L || kind === TokenKind.PIPE || kind === TokenKind.BRACE_R;
}
function printCharCode(code) {
  return isNaN(code) ? TokenKind.EOF : code < 127 ? JSON.stringify(String.fromCharCode(code)) : '"\\u'.concat(("00" + code.toString(16).toUpperCase()).slice(-4), '"');
}
function readToken(lexer, prev) {
  var source = lexer.source;
  var body = source.body;
  var bodyLength = body.length;
  var pos = prev.end;
  while (pos < bodyLength) {
    var code = body.charCodeAt(pos);
    var _line = lexer.line;
    var _col = 1 + pos - lexer.lineStart;
    switch (code) {
      case 65279:
      case 9:
      case 32:
      case 44:
        ++pos;
        continue;
      case 10:
        ++pos;
        ++lexer.line;
        lexer.lineStart = pos;
        continue;
      case 13:
        if (body.charCodeAt(pos + 1) === 10) {
          pos += 2;
        } else {
          ++pos;
        }
        ++lexer.line;
        lexer.lineStart = pos;
        continue;
      case 33:
        return new Token(TokenKind.BANG, pos, pos + 1, _line, _col, prev);
      case 35:
        return readComment(source, pos, _line, _col, prev);
      case 36:
        return new Token(TokenKind.DOLLAR, pos, pos + 1, _line, _col, prev);
      case 38:
        return new Token(TokenKind.AMP, pos, pos + 1, _line, _col, prev);
      case 40:
        return new Token(TokenKind.PAREN_L, pos, pos + 1, _line, _col, prev);
      case 41:
        return new Token(TokenKind.PAREN_R, pos, pos + 1, _line, _col, prev);
      case 46:
        if (body.charCodeAt(pos + 1) === 46 && body.charCodeAt(pos + 2) === 46) {
          return new Token(TokenKind.SPREAD, pos, pos + 3, _line, _col, prev);
        }
        break;
      case 58:
        return new Token(TokenKind.COLON, pos, pos + 1, _line, _col, prev);
      case 61:
        return new Token(TokenKind.EQUALS, pos, pos + 1, _line, _col, prev);
      case 64:
        return new Token(TokenKind.AT, pos, pos + 1, _line, _col, prev);
      case 91:
        return new Token(TokenKind.BRACKET_L, pos, pos + 1, _line, _col, prev);
      case 93:
        return new Token(TokenKind.BRACKET_R, pos, pos + 1, _line, _col, prev);
      case 123:
        return new Token(TokenKind.BRACE_L, pos, pos + 1, _line, _col, prev);
      case 124:
        return new Token(TokenKind.PIPE, pos, pos + 1, _line, _col, prev);
      case 125:
        return new Token(TokenKind.BRACE_R, pos, pos + 1, _line, _col, prev);
      case 34:
        if (body.charCodeAt(pos + 1) === 34 && body.charCodeAt(pos + 2) === 34) {
          return readBlockString(source, pos, _line, _col, prev, lexer);
        }
        return readString(source, pos, _line, _col, prev);
      case 45:
      case 48:
      case 49:
      case 50:
      case 51:
      case 52:
      case 53:
      case 54:
      case 55:
      case 56:
      case 57:
        return readNumber(source, pos, code, _line, _col, prev);
      case 65:
      case 66:
      case 67:
      case 68:
      case 69:
      case 70:
      case 71:
      case 72:
      case 73:
      case 74:
      case 75:
      case 76:
      case 77:
      case 78:
      case 79:
      case 80:
      case 81:
      case 82:
      case 83:
      case 84:
      case 85:
      case 86:
      case 87:
      case 88:
      case 89:
      case 90:
      case 95:
      case 97:
      case 98:
      case 99:
      case 100:
      case 101:
      case 102:
      case 103:
      case 104:
      case 105:
      case 106:
      case 107:
      case 108:
      case 109:
      case 110:
      case 111:
      case 112:
      case 113:
      case 114:
      case 115:
      case 116:
      case 117:
      case 118:
      case 119:
      case 120:
      case 121:
      case 122:
        return readName(source, pos, _line, _col, prev);
    }
    throw syntaxError(source, pos, unexpectedCharacterMessage(code));
  }
  var line = lexer.line;
  var col = 1 + pos - lexer.lineStart;
  return new Token(TokenKind.EOF, bodyLength, bodyLength, line, col, prev);
}
function unexpectedCharacterMessage(code) {
  if (code < 32 && code !== 9 && code !== 10 && code !== 13) {
    return "Cannot contain the invalid character ".concat(printCharCode(code), ".");
  }
  if (code === 39) {
    return `Unexpected single quote character ('), did you mean to use a double quote (")?`;
  }
  return "Cannot parse the unexpected character ".concat(printCharCode(code), ".");
}
function readComment(source, start, line, col, prev) {
  var body = source.body;
  var code;
  var position = start;
  do {
    code = body.charCodeAt(++position);
  } while (!isNaN(code) && (code > 31 || code === 9));
  return new Token(TokenKind.COMMENT, start, position, line, col, prev, body.slice(start + 1, position));
}
function readNumber(source, start, firstCode, line, col, prev) {
  var body = source.body;
  var code = firstCode;
  var position = start;
  var isFloat = false;
  if (code === 45) {
    code = body.charCodeAt(++position);
  }
  if (code === 48) {
    code = body.charCodeAt(++position);
    if (code >= 48 && code <= 57) {
      throw syntaxError(source, position, "Invalid number, unexpected digit after 0: ".concat(printCharCode(code), "."));
    }
  } else {
    position = readDigits(source, position, code);
    code = body.charCodeAt(position);
  }
  if (code === 46) {
    isFloat = true;
    code = body.charCodeAt(++position);
    position = readDigits(source, position, code);
    code = body.charCodeAt(position);
  }
  if (code === 69 || code === 101) {
    isFloat = true;
    code = body.charCodeAt(++position);
    if (code === 43 || code === 45) {
      code = body.charCodeAt(++position);
    }
    position = readDigits(source, position, code);
    code = body.charCodeAt(position);
  }
  if (code === 46 || isNameStart(code)) {
    throw syntaxError(source, position, "Invalid number, expected digit but got: ".concat(printCharCode(code), "."));
  }
  return new Token(isFloat ? TokenKind.FLOAT : TokenKind.INT, start, position, line, col, prev, body.slice(start, position));
}
function readDigits(source, start, firstCode) {
  var body = source.body;
  var position = start;
  var code = firstCode;
  if (code >= 48 && code <= 57) {
    do {
      code = body.charCodeAt(++position);
    } while (code >= 48 && code <= 57);
    return position;
  }
  throw syntaxError(source, position, "Invalid number, expected digit but got: ".concat(printCharCode(code), "."));
}
function readString(source, start, line, col, prev) {
  var body = source.body;
  var position = start + 1;
  var chunkStart = position;
  var code = 0;
  var value = "";
  while (position < body.length && !isNaN(code = body.charCodeAt(position)) && code !== 10 && code !== 13) {
    if (code === 34) {
      value += body.slice(chunkStart, position);
      return new Token(TokenKind.STRING, start, position + 1, line, col, prev, value);
    }
    if (code < 32 && code !== 9) {
      throw syntaxError(source, position, "Invalid character within String: ".concat(printCharCode(code), "."));
    }
    ++position;
    if (code === 92) {
      value += body.slice(chunkStart, position - 1);
      code = body.charCodeAt(position);
      switch (code) {
        case 34:
          value += '"';
          break;
        case 47:
          value += "/";
          break;
        case 92:
          value += "\\";
          break;
        case 98:
          value += "\b";
          break;
        case 102:
          value += "\f";
          break;
        case 110:
          value += "\n";
          break;
        case 114:
          value += "\r";
          break;
        case 116:
          value += "	";
          break;
        case 117: {
          var charCode = uniCharCode(body.charCodeAt(position + 1), body.charCodeAt(position + 2), body.charCodeAt(position + 3), body.charCodeAt(position + 4));
          if (charCode < 0) {
            var invalidSequence = body.slice(position + 1, position + 5);
            throw syntaxError(source, position, "Invalid character escape sequence: \\u".concat(invalidSequence, "."));
          }
          value += String.fromCharCode(charCode);
          position += 4;
          break;
        }
        default:
          throw syntaxError(source, position, "Invalid character escape sequence: \\".concat(String.fromCharCode(code), "."));
      }
      ++position;
      chunkStart = position;
    }
  }
  throw syntaxError(source, position, "Unterminated string.");
}
function readBlockString(source, start, line, col, prev, lexer) {
  var body = source.body;
  var position = start + 3;
  var chunkStart = position;
  var code = 0;
  var rawValue = "";
  while (position < body.length && !isNaN(code = body.charCodeAt(position))) {
    if (code === 34 && body.charCodeAt(position + 1) === 34 && body.charCodeAt(position + 2) === 34) {
      rawValue += body.slice(chunkStart, position);
      return new Token(TokenKind.BLOCK_STRING, start, position + 3, line, col, prev, dedentBlockStringValue(rawValue));
    }
    if (code < 32 && code !== 9 && code !== 10 && code !== 13) {
      throw syntaxError(source, position, "Invalid character within String: ".concat(printCharCode(code), "."));
    }
    if (code === 10) {
      ++position;
      ++lexer.line;
      lexer.lineStart = position;
    } else if (code === 13) {
      if (body.charCodeAt(position + 1) === 10) {
        position += 2;
      } else {
        ++position;
      }
      ++lexer.line;
      lexer.lineStart = position;
    } else if (code === 92 && body.charCodeAt(position + 1) === 34 && body.charCodeAt(position + 2) === 34 && body.charCodeAt(position + 3) === 34) {
      rawValue += body.slice(chunkStart, position) + '"""';
      position += 4;
      chunkStart = position;
    } else {
      ++position;
    }
  }
  throw syntaxError(source, position, "Unterminated string.");
}
function uniCharCode(a4, b3, c3, d2) {
  return char2hex(a4) << 12 | char2hex(b3) << 8 | char2hex(c3) << 4 | char2hex(d2);
}
function char2hex(a4) {
  return a4 >= 48 && a4 <= 57 ? a4 - 48 : a4 >= 65 && a4 <= 70 ? a4 - 55 : a4 >= 97 && a4 <= 102 ? a4 - 87 : -1;
}
function readName(source, start, line, col, prev) {
  var body = source.body;
  var bodyLength = body.length;
  var position = start + 1;
  var code = 0;
  while (position !== bodyLength && !isNaN(code = body.charCodeAt(position)) && (code === 95 || code >= 48 && code <= 57 || code >= 65 && code <= 90 || code >= 97 && code <= 122)) {
    ++position;
  }
  return new Token(TokenKind.NAME, start, position, line, col, prev, body.slice(start, position));
}
function isNameStart(code) {
  return code === 95 || code >= 65 && code <= 90 || code >= 97 && code <= 122;
}

// node_modules/graphql/language/parser.mjs
function parse(source, options) {
  var parser = new Parser(source, options);
  return parser.parseDocument();
}
var Parser = /* @__PURE__ */ function() {
  function Parser2(source, options) {
    var sourceObj = isSource(source) ? source : new Source(source);
    this._lexer = new Lexer(sourceObj);
    this._options = options;
  }
  var _proto = Parser2.prototype;
  _proto.parseName = function parseName() {
    var token = this.expectToken(TokenKind.NAME);
    return {
      kind: Kind.NAME,
      value: token.value,
      loc: this.loc(token)
    };
  };
  _proto.parseDocument = function parseDocument2() {
    var start = this._lexer.token;
    return {
      kind: Kind.DOCUMENT,
      definitions: this.many(TokenKind.SOF, this.parseDefinition, TokenKind.EOF),
      loc: this.loc(start)
    };
  };
  _proto.parseDefinition = function parseDefinition() {
    if (this.peek(TokenKind.NAME)) {
      switch (this._lexer.token.value) {
        case "query":
        case "mutation":
        case "subscription":
          return this.parseOperationDefinition();
        case "fragment":
          return this.parseFragmentDefinition();
        case "schema":
        case "scalar":
        case "type":
        case "interface":
        case "union":
        case "enum":
        case "input":
        case "directive":
          return this.parseTypeSystemDefinition();
        case "extend":
          return this.parseTypeSystemExtension();
      }
    } else if (this.peek(TokenKind.BRACE_L)) {
      return this.parseOperationDefinition();
    } else if (this.peekDescription()) {
      return this.parseTypeSystemDefinition();
    }
    throw this.unexpected();
  };
  _proto.parseOperationDefinition = function parseOperationDefinition() {
    var start = this._lexer.token;
    if (this.peek(TokenKind.BRACE_L)) {
      return {
        kind: Kind.OPERATION_DEFINITION,
        operation: "query",
        name: void 0,
        variableDefinitions: [],
        directives: [],
        selectionSet: this.parseSelectionSet(),
        loc: this.loc(start)
      };
    }
    var operation = this.parseOperationType();
    var name;
    if (this.peek(TokenKind.NAME)) {
      name = this.parseName();
    }
    return {
      kind: Kind.OPERATION_DEFINITION,
      operation,
      name,
      variableDefinitions: this.parseVariableDefinitions(),
      directives: this.parseDirectives(false),
      selectionSet: this.parseSelectionSet(),
      loc: this.loc(start)
    };
  };
  _proto.parseOperationType = function parseOperationType() {
    var operationToken = this.expectToken(TokenKind.NAME);
    switch (operationToken.value) {
      case "query":
        return "query";
      case "mutation":
        return "mutation";
      case "subscription":
        return "subscription";
    }
    throw this.unexpected(operationToken);
  };
  _proto.parseVariableDefinitions = function parseVariableDefinitions() {
    return this.optionalMany(TokenKind.PAREN_L, this.parseVariableDefinition, TokenKind.PAREN_R);
  };
  _proto.parseVariableDefinition = function parseVariableDefinition() {
    var start = this._lexer.token;
    return {
      kind: Kind.VARIABLE_DEFINITION,
      variable: this.parseVariable(),
      type: (this.expectToken(TokenKind.COLON), this.parseTypeReference()),
      defaultValue: this.expectOptionalToken(TokenKind.EQUALS) ? this.parseValueLiteral(true) : void 0,
      directives: this.parseDirectives(true),
      loc: this.loc(start)
    };
  };
  _proto.parseVariable = function parseVariable() {
    var start = this._lexer.token;
    this.expectToken(TokenKind.DOLLAR);
    return {
      kind: Kind.VARIABLE,
      name: this.parseName(),
      loc: this.loc(start)
    };
  };
  _proto.parseSelectionSet = function parseSelectionSet() {
    var start = this._lexer.token;
    return {
      kind: Kind.SELECTION_SET,
      selections: this.many(TokenKind.BRACE_L, this.parseSelection, TokenKind.BRACE_R),
      loc: this.loc(start)
    };
  };
  _proto.parseSelection = function parseSelection() {
    return this.peek(TokenKind.SPREAD) ? this.parseFragment() : this.parseField();
  };
  _proto.parseField = function parseField() {
    var start = this._lexer.token;
    var nameOrAlias = this.parseName();
    var alias;
    var name;
    if (this.expectOptionalToken(TokenKind.COLON)) {
      alias = nameOrAlias;
      name = this.parseName();
    } else {
      name = nameOrAlias;
    }
    return {
      kind: Kind.FIELD,
      alias,
      name,
      arguments: this.parseArguments(false),
      directives: this.parseDirectives(false),
      selectionSet: this.peek(TokenKind.BRACE_L) ? this.parseSelectionSet() : void 0,
      loc: this.loc(start)
    };
  };
  _proto.parseArguments = function parseArguments(isConst) {
    var item = isConst ? this.parseConstArgument : this.parseArgument;
    return this.optionalMany(TokenKind.PAREN_L, item, TokenKind.PAREN_R);
  };
  _proto.parseArgument = function parseArgument() {
    var start = this._lexer.token;
    var name = this.parseName();
    this.expectToken(TokenKind.COLON);
    return {
      kind: Kind.ARGUMENT,
      name,
      value: this.parseValueLiteral(false),
      loc: this.loc(start)
    };
  };
  _proto.parseConstArgument = function parseConstArgument() {
    var start = this._lexer.token;
    return {
      kind: Kind.ARGUMENT,
      name: this.parseName(),
      value: (this.expectToken(TokenKind.COLON), this.parseValueLiteral(true)),
      loc: this.loc(start)
    };
  };
  _proto.parseFragment = function parseFragment() {
    var start = this._lexer.token;
    this.expectToken(TokenKind.SPREAD);
    var hasTypeCondition = this.expectOptionalKeyword("on");
    if (!hasTypeCondition && this.peek(TokenKind.NAME)) {
      return {
        kind: Kind.FRAGMENT_SPREAD,
        name: this.parseFragmentName(),
        directives: this.parseDirectives(false),
        loc: this.loc(start)
      };
    }
    return {
      kind: Kind.INLINE_FRAGMENT,
      typeCondition: hasTypeCondition ? this.parseNamedType() : void 0,
      directives: this.parseDirectives(false),
      selectionSet: this.parseSelectionSet(),
      loc: this.loc(start)
    };
  };
  _proto.parseFragmentDefinition = function parseFragmentDefinition() {
    var _this$_options;
    var start = this._lexer.token;
    this.expectKeyword("fragment");
    if (((_this$_options = this._options) === null || _this$_options === void 0 ? void 0 : _this$_options.experimentalFragmentVariables) === true) {
      return {
        kind: Kind.FRAGMENT_DEFINITION,
        name: this.parseFragmentName(),
        variableDefinitions: this.parseVariableDefinitions(),
        typeCondition: (this.expectKeyword("on"), this.parseNamedType()),
        directives: this.parseDirectives(false),
        selectionSet: this.parseSelectionSet(),
        loc: this.loc(start)
      };
    }
    return {
      kind: Kind.FRAGMENT_DEFINITION,
      name: this.parseFragmentName(),
      typeCondition: (this.expectKeyword("on"), this.parseNamedType()),
      directives: this.parseDirectives(false),
      selectionSet: this.parseSelectionSet(),
      loc: this.loc(start)
    };
  };
  _proto.parseFragmentName = function parseFragmentName() {
    if (this._lexer.token.value === "on") {
      throw this.unexpected();
    }
    return this.parseName();
  };
  _proto.parseValueLiteral = function parseValueLiteral(isConst) {
    var token = this._lexer.token;
    switch (token.kind) {
      case TokenKind.BRACKET_L:
        return this.parseList(isConst);
      case TokenKind.BRACE_L:
        return this.parseObject(isConst);
      case TokenKind.INT:
        this._lexer.advance();
        return {
          kind: Kind.INT,
          value: token.value,
          loc: this.loc(token)
        };
      case TokenKind.FLOAT:
        this._lexer.advance();
        return {
          kind: Kind.FLOAT,
          value: token.value,
          loc: this.loc(token)
        };
      case TokenKind.STRING:
      case TokenKind.BLOCK_STRING:
        return this.parseStringLiteral();
      case TokenKind.NAME:
        this._lexer.advance();
        switch (token.value) {
          case "true":
            return {
              kind: Kind.BOOLEAN,
              value: true,
              loc: this.loc(token)
            };
          case "false":
            return {
              kind: Kind.BOOLEAN,
              value: false,
              loc: this.loc(token)
            };
          case "null":
            return {
              kind: Kind.NULL,
              loc: this.loc(token)
            };
          default:
            return {
              kind: Kind.ENUM,
              value: token.value,
              loc: this.loc(token)
            };
        }
      case TokenKind.DOLLAR:
        if (!isConst) {
          return this.parseVariable();
        }
        break;
    }
    throw this.unexpected();
  };
  _proto.parseStringLiteral = function parseStringLiteral() {
    var token = this._lexer.token;
    this._lexer.advance();
    return {
      kind: Kind.STRING,
      value: token.value,
      block: token.kind === TokenKind.BLOCK_STRING,
      loc: this.loc(token)
    };
  };
  _proto.parseList = function parseList(isConst) {
    var _this = this;
    var start = this._lexer.token;
    var item = function item2() {
      return _this.parseValueLiteral(isConst);
    };
    return {
      kind: Kind.LIST,
      values: this.any(TokenKind.BRACKET_L, item, TokenKind.BRACKET_R),
      loc: this.loc(start)
    };
  };
  _proto.parseObject = function parseObject(isConst) {
    var _this2 = this;
    var start = this._lexer.token;
    var item = function item2() {
      return _this2.parseObjectField(isConst);
    };
    return {
      kind: Kind.OBJECT,
      fields: this.any(TokenKind.BRACE_L, item, TokenKind.BRACE_R),
      loc: this.loc(start)
    };
  };
  _proto.parseObjectField = function parseObjectField(isConst) {
    var start = this._lexer.token;
    var name = this.parseName();
    this.expectToken(TokenKind.COLON);
    return {
      kind: Kind.OBJECT_FIELD,
      name,
      value: this.parseValueLiteral(isConst),
      loc: this.loc(start)
    };
  };
  _proto.parseDirectives = function parseDirectives(isConst) {
    var directives = [];
    while (this.peek(TokenKind.AT)) {
      directives.push(this.parseDirective(isConst));
    }
    return directives;
  };
  _proto.parseDirective = function parseDirective(isConst) {
    var start = this._lexer.token;
    this.expectToken(TokenKind.AT);
    return {
      kind: Kind.DIRECTIVE,
      name: this.parseName(),
      arguments: this.parseArguments(isConst),
      loc: this.loc(start)
    };
  };
  _proto.parseTypeReference = function parseTypeReference() {
    var start = this._lexer.token;
    var type;
    if (this.expectOptionalToken(TokenKind.BRACKET_L)) {
      type = this.parseTypeReference();
      this.expectToken(TokenKind.BRACKET_R);
      type = {
        kind: Kind.LIST_TYPE,
        type,
        loc: this.loc(start)
      };
    } else {
      type = this.parseNamedType();
    }
    if (this.expectOptionalToken(TokenKind.BANG)) {
      return {
        kind: Kind.NON_NULL_TYPE,
        type,
        loc: this.loc(start)
      };
    }
    return type;
  };
  _proto.parseNamedType = function parseNamedType() {
    var start = this._lexer.token;
    return {
      kind: Kind.NAMED_TYPE,
      name: this.parseName(),
      loc: this.loc(start)
    };
  };
  _proto.parseTypeSystemDefinition = function parseTypeSystemDefinition() {
    var keywordToken = this.peekDescription() ? this._lexer.lookahead() : this._lexer.token;
    if (keywordToken.kind === TokenKind.NAME) {
      switch (keywordToken.value) {
        case "schema":
          return this.parseSchemaDefinition();
        case "scalar":
          return this.parseScalarTypeDefinition();
        case "type":
          return this.parseObjectTypeDefinition();
        case "interface":
          return this.parseInterfaceTypeDefinition();
        case "union":
          return this.parseUnionTypeDefinition();
        case "enum":
          return this.parseEnumTypeDefinition();
        case "input":
          return this.parseInputObjectTypeDefinition();
        case "directive":
          return this.parseDirectiveDefinition();
      }
    }
    throw this.unexpected(keywordToken);
  };
  _proto.peekDescription = function peekDescription() {
    return this.peek(TokenKind.STRING) || this.peek(TokenKind.BLOCK_STRING);
  };
  _proto.parseDescription = function parseDescription() {
    if (this.peekDescription()) {
      return this.parseStringLiteral();
    }
  };
  _proto.parseSchemaDefinition = function parseSchemaDefinition() {
    var start = this._lexer.token;
    var description = this.parseDescription();
    this.expectKeyword("schema");
    var directives = this.parseDirectives(true);
    var operationTypes = this.many(TokenKind.BRACE_L, this.parseOperationTypeDefinition, TokenKind.BRACE_R);
    return {
      kind: Kind.SCHEMA_DEFINITION,
      description,
      directives,
      operationTypes,
      loc: this.loc(start)
    };
  };
  _proto.parseOperationTypeDefinition = function parseOperationTypeDefinition() {
    var start = this._lexer.token;
    var operation = this.parseOperationType();
    this.expectToken(TokenKind.COLON);
    var type = this.parseNamedType();
    return {
      kind: Kind.OPERATION_TYPE_DEFINITION,
      operation,
      type,
      loc: this.loc(start)
    };
  };
  _proto.parseScalarTypeDefinition = function parseScalarTypeDefinition() {
    var start = this._lexer.token;
    var description = this.parseDescription();
    this.expectKeyword("scalar");
    var name = this.parseName();
    var directives = this.parseDirectives(true);
    return {
      kind: Kind.SCALAR_TYPE_DEFINITION,
      description,
      name,
      directives,
      loc: this.loc(start)
    };
  };
  _proto.parseObjectTypeDefinition = function parseObjectTypeDefinition() {
    var start = this._lexer.token;
    var description = this.parseDescription();
    this.expectKeyword("type");
    var name = this.parseName();
    var interfaces = this.parseImplementsInterfaces();
    var directives = this.parseDirectives(true);
    var fields = this.parseFieldsDefinition();
    return {
      kind: Kind.OBJECT_TYPE_DEFINITION,
      description,
      name,
      interfaces,
      directives,
      fields,
      loc: this.loc(start)
    };
  };
  _proto.parseImplementsInterfaces = function parseImplementsInterfaces() {
    var _this$_options2;
    if (!this.expectOptionalKeyword("implements")) {
      return [];
    }
    if (((_this$_options2 = this._options) === null || _this$_options2 === void 0 ? void 0 : _this$_options2.allowLegacySDLImplementsInterfaces) === true) {
      var types = [];
      this.expectOptionalToken(TokenKind.AMP);
      do {
        types.push(this.parseNamedType());
      } while (this.expectOptionalToken(TokenKind.AMP) || this.peek(TokenKind.NAME));
      return types;
    }
    return this.delimitedMany(TokenKind.AMP, this.parseNamedType);
  };
  _proto.parseFieldsDefinition = function parseFieldsDefinition() {
    var _this$_options3;
    if (((_this$_options3 = this._options) === null || _this$_options3 === void 0 ? void 0 : _this$_options3.allowLegacySDLEmptyFields) === true && this.peek(TokenKind.BRACE_L) && this._lexer.lookahead().kind === TokenKind.BRACE_R) {
      this._lexer.advance();
      this._lexer.advance();
      return [];
    }
    return this.optionalMany(TokenKind.BRACE_L, this.parseFieldDefinition, TokenKind.BRACE_R);
  };
  _proto.parseFieldDefinition = function parseFieldDefinition() {
    var start = this._lexer.token;
    var description = this.parseDescription();
    var name = this.parseName();
    var args = this.parseArgumentDefs();
    this.expectToken(TokenKind.COLON);
    var type = this.parseTypeReference();
    var directives = this.parseDirectives(true);
    return {
      kind: Kind.FIELD_DEFINITION,
      description,
      name,
      arguments: args,
      type,
      directives,
      loc: this.loc(start)
    };
  };
  _proto.parseArgumentDefs = function parseArgumentDefs() {
    return this.optionalMany(TokenKind.PAREN_L, this.parseInputValueDef, TokenKind.PAREN_R);
  };
  _proto.parseInputValueDef = function parseInputValueDef() {
    var start = this._lexer.token;
    var description = this.parseDescription();
    var name = this.parseName();
    this.expectToken(TokenKind.COLON);
    var type = this.parseTypeReference();
    var defaultValue;
    if (this.expectOptionalToken(TokenKind.EQUALS)) {
      defaultValue = this.parseValueLiteral(true);
    }
    var directives = this.parseDirectives(true);
    return {
      kind: Kind.INPUT_VALUE_DEFINITION,
      description,
      name,
      type,
      defaultValue,
      directives,
      loc: this.loc(start)
    };
  };
  _proto.parseInterfaceTypeDefinition = function parseInterfaceTypeDefinition() {
    var start = this._lexer.token;
    var description = this.parseDescription();
    this.expectKeyword("interface");
    var name = this.parseName();
    var interfaces = this.parseImplementsInterfaces();
    var directives = this.parseDirectives(true);
    var fields = this.parseFieldsDefinition();
    return {
      kind: Kind.INTERFACE_TYPE_DEFINITION,
      description,
      name,
      interfaces,
      directives,
      fields,
      loc: this.loc(start)
    };
  };
  _proto.parseUnionTypeDefinition = function parseUnionTypeDefinition() {
    var start = this._lexer.token;
    var description = this.parseDescription();
    this.expectKeyword("union");
    var name = this.parseName();
    var directives = this.parseDirectives(true);
    var types = this.parseUnionMemberTypes();
    return {
      kind: Kind.UNION_TYPE_DEFINITION,
      description,
      name,
      directives,
      types,
      loc: this.loc(start)
    };
  };
  _proto.parseUnionMemberTypes = function parseUnionMemberTypes() {
    return this.expectOptionalToken(TokenKind.EQUALS) ? this.delimitedMany(TokenKind.PIPE, this.parseNamedType) : [];
  };
  _proto.parseEnumTypeDefinition = function parseEnumTypeDefinition() {
    var start = this._lexer.token;
    var description = this.parseDescription();
    this.expectKeyword("enum");
    var name = this.parseName();
    var directives = this.parseDirectives(true);
    var values = this.parseEnumValuesDefinition();
    return {
      kind: Kind.ENUM_TYPE_DEFINITION,
      description,
      name,
      directives,
      values,
      loc: this.loc(start)
    };
  };
  _proto.parseEnumValuesDefinition = function parseEnumValuesDefinition() {
    return this.optionalMany(TokenKind.BRACE_L, this.parseEnumValueDefinition, TokenKind.BRACE_R);
  };
  _proto.parseEnumValueDefinition = function parseEnumValueDefinition() {
    var start = this._lexer.token;
    var description = this.parseDescription();
    var name = this.parseName();
    var directives = this.parseDirectives(true);
    return {
      kind: Kind.ENUM_VALUE_DEFINITION,
      description,
      name,
      directives,
      loc: this.loc(start)
    };
  };
  _proto.parseInputObjectTypeDefinition = function parseInputObjectTypeDefinition() {
    var start = this._lexer.token;
    var description = this.parseDescription();
    this.expectKeyword("input");
    var name = this.parseName();
    var directives = this.parseDirectives(true);
    var fields = this.parseInputFieldsDefinition();
    return {
      kind: Kind.INPUT_OBJECT_TYPE_DEFINITION,
      description,
      name,
      directives,
      fields,
      loc: this.loc(start)
    };
  };
  _proto.parseInputFieldsDefinition = function parseInputFieldsDefinition() {
    return this.optionalMany(TokenKind.BRACE_L, this.parseInputValueDef, TokenKind.BRACE_R);
  };
  _proto.parseTypeSystemExtension = function parseTypeSystemExtension() {
    var keywordToken = this._lexer.lookahead();
    if (keywordToken.kind === TokenKind.NAME) {
      switch (keywordToken.value) {
        case "schema":
          return this.parseSchemaExtension();
        case "scalar":
          return this.parseScalarTypeExtension();
        case "type":
          return this.parseObjectTypeExtension();
        case "interface":
          return this.parseInterfaceTypeExtension();
        case "union":
          return this.parseUnionTypeExtension();
        case "enum":
          return this.parseEnumTypeExtension();
        case "input":
          return this.parseInputObjectTypeExtension();
      }
    }
    throw this.unexpected(keywordToken);
  };
  _proto.parseSchemaExtension = function parseSchemaExtension() {
    var start = this._lexer.token;
    this.expectKeyword("extend");
    this.expectKeyword("schema");
    var directives = this.parseDirectives(true);
    var operationTypes = this.optionalMany(TokenKind.BRACE_L, this.parseOperationTypeDefinition, TokenKind.BRACE_R);
    if (directives.length === 0 && operationTypes.length === 0) {
      throw this.unexpected();
    }
    return {
      kind: Kind.SCHEMA_EXTENSION,
      directives,
      operationTypes,
      loc: this.loc(start)
    };
  };
  _proto.parseScalarTypeExtension = function parseScalarTypeExtension() {
    var start = this._lexer.token;
    this.expectKeyword("extend");
    this.expectKeyword("scalar");
    var name = this.parseName();
    var directives = this.parseDirectives(true);
    if (directives.length === 0) {
      throw this.unexpected();
    }
    return {
      kind: Kind.SCALAR_TYPE_EXTENSION,
      name,
      directives,
      loc: this.loc(start)
    };
  };
  _proto.parseObjectTypeExtension = function parseObjectTypeExtension() {
    var start = this._lexer.token;
    this.expectKeyword("extend");
    this.expectKeyword("type");
    var name = this.parseName();
    var interfaces = this.parseImplementsInterfaces();
    var directives = this.parseDirectives(true);
    var fields = this.parseFieldsDefinition();
    if (interfaces.length === 0 && directives.length === 0 && fields.length === 0) {
      throw this.unexpected();
    }
    return {
      kind: Kind.OBJECT_TYPE_EXTENSION,
      name,
      interfaces,
      directives,
      fields,
      loc: this.loc(start)
    };
  };
  _proto.parseInterfaceTypeExtension = function parseInterfaceTypeExtension() {
    var start = this._lexer.token;
    this.expectKeyword("extend");
    this.expectKeyword("interface");
    var name = this.parseName();
    var interfaces = this.parseImplementsInterfaces();
    var directives = this.parseDirectives(true);
    var fields = this.parseFieldsDefinition();
    if (interfaces.length === 0 && directives.length === 0 && fields.length === 0) {
      throw this.unexpected();
    }
    return {
      kind: Kind.INTERFACE_TYPE_EXTENSION,
      name,
      interfaces,
      directives,
      fields,
      loc: this.loc(start)
    };
  };
  _proto.parseUnionTypeExtension = function parseUnionTypeExtension() {
    var start = this._lexer.token;
    this.expectKeyword("extend");
    this.expectKeyword("union");
    var name = this.parseName();
    var directives = this.parseDirectives(true);
    var types = this.parseUnionMemberTypes();
    if (directives.length === 0 && types.length === 0) {
      throw this.unexpected();
    }
    return {
      kind: Kind.UNION_TYPE_EXTENSION,
      name,
      directives,
      types,
      loc: this.loc(start)
    };
  };
  _proto.parseEnumTypeExtension = function parseEnumTypeExtension() {
    var start = this._lexer.token;
    this.expectKeyword("extend");
    this.expectKeyword("enum");
    var name = this.parseName();
    var directives = this.parseDirectives(true);
    var values = this.parseEnumValuesDefinition();
    if (directives.length === 0 && values.length === 0) {
      throw this.unexpected();
    }
    return {
      kind: Kind.ENUM_TYPE_EXTENSION,
      name,
      directives,
      values,
      loc: this.loc(start)
    };
  };
  _proto.parseInputObjectTypeExtension = function parseInputObjectTypeExtension() {
    var start = this._lexer.token;
    this.expectKeyword("extend");
    this.expectKeyword("input");
    var name = this.parseName();
    var directives = this.parseDirectives(true);
    var fields = this.parseInputFieldsDefinition();
    if (directives.length === 0 && fields.length === 0) {
      throw this.unexpected();
    }
    return {
      kind: Kind.INPUT_OBJECT_TYPE_EXTENSION,
      name,
      directives,
      fields,
      loc: this.loc(start)
    };
  };
  _proto.parseDirectiveDefinition = function parseDirectiveDefinition() {
    var start = this._lexer.token;
    var description = this.parseDescription();
    this.expectKeyword("directive");
    this.expectToken(TokenKind.AT);
    var name = this.parseName();
    var args = this.parseArgumentDefs();
    var repeatable = this.expectOptionalKeyword("repeatable");
    this.expectKeyword("on");
    var locations = this.parseDirectiveLocations();
    return {
      kind: Kind.DIRECTIVE_DEFINITION,
      description,
      name,
      arguments: args,
      repeatable,
      locations,
      loc: this.loc(start)
    };
  };
  _proto.parseDirectiveLocations = function parseDirectiveLocations() {
    return this.delimitedMany(TokenKind.PIPE, this.parseDirectiveLocation);
  };
  _proto.parseDirectiveLocation = function parseDirectiveLocation() {
    var start = this._lexer.token;
    var name = this.parseName();
    if (DirectiveLocation[name.value] !== void 0) {
      return name;
    }
    throw this.unexpected(start);
  };
  _proto.loc = function loc(startToken) {
    var _this$_options4;
    if (((_this$_options4 = this._options) === null || _this$_options4 === void 0 ? void 0 : _this$_options4.noLocation) !== true) {
      return new Location(startToken, this._lexer.lastToken, this._lexer.source);
    }
  };
  _proto.peek = function peek(kind) {
    return this._lexer.token.kind === kind;
  };
  _proto.expectToken = function expectToken(kind) {
    var token = this._lexer.token;
    if (token.kind === kind) {
      this._lexer.advance();
      return token;
    }
    throw syntaxError(this._lexer.source, token.start, "Expected ".concat(getTokenKindDesc(kind), ", found ").concat(getTokenDesc(token), "."));
  };
  _proto.expectOptionalToken = function expectOptionalToken(kind) {
    var token = this._lexer.token;
    if (token.kind === kind) {
      this._lexer.advance();
      return token;
    }
    return void 0;
  };
  _proto.expectKeyword = function expectKeyword(value) {
    var token = this._lexer.token;
    if (token.kind === TokenKind.NAME && token.value === value) {
      this._lexer.advance();
    } else {
      throw syntaxError(this._lexer.source, token.start, 'Expected "'.concat(value, '", found ').concat(getTokenDesc(token), "."));
    }
  };
  _proto.expectOptionalKeyword = function expectOptionalKeyword(value) {
    var token = this._lexer.token;
    if (token.kind === TokenKind.NAME && token.value === value) {
      this._lexer.advance();
      return true;
    }
    return false;
  };
  _proto.unexpected = function unexpected(atToken) {
    var token = atToken !== null && atToken !== void 0 ? atToken : this._lexer.token;
    return syntaxError(this._lexer.source, token.start, "Unexpected ".concat(getTokenDesc(token), "."));
  };
  _proto.any = function any(openKind, parseFn, closeKind) {
    this.expectToken(openKind);
    var nodes = [];
    while (!this.expectOptionalToken(closeKind)) {
      nodes.push(parseFn.call(this));
    }
    return nodes;
  };
  _proto.optionalMany = function optionalMany(openKind, parseFn, closeKind) {
    if (this.expectOptionalToken(openKind)) {
      var nodes = [];
      do {
        nodes.push(parseFn.call(this));
      } while (!this.expectOptionalToken(closeKind));
      return nodes;
    }
    return [];
  };
  _proto.many = function many(openKind, parseFn, closeKind) {
    this.expectToken(openKind);
    var nodes = [];
    do {
      nodes.push(parseFn.call(this));
    } while (!this.expectOptionalToken(closeKind));
    return nodes;
  };
  _proto.delimitedMany = function delimitedMany(delimiterKind, parseFn) {
    this.expectOptionalToken(delimiterKind);
    var nodes = [];
    do {
      nodes.push(parseFn.call(this));
    } while (this.expectOptionalToken(delimiterKind));
    return nodes;
  };
  return Parser2;
}();
function getTokenDesc(token) {
  var value = token.value;
  return getTokenKindDesc(token.kind) + (value != null ? ' "'.concat(value, '"') : "");
}
function getTokenKindDesc(kind) {
  return isPunctuatorTokenKind(kind) ? '"'.concat(kind, '"') : kind;
}

// node_modules/wonka/dist/wonka.mjs
function l(a4, b3) {
  b3.tag = a4;
  return b3;
}
function m() {
}
function p(a4) {
  return function(b3) {
    var c3 = a4.length;
    let d2 = false, e = false, f2 = false, g2 = 0;
    b3(l(0, [
      function(h3) {
        if (h3) {
          d2 = true;
        } else if (e) {
          f2 = true;
        } else {
          for (e = f2 = true; f2 && !d2; ) {
            g2 < c3 ? (h3 = a4[g2], g2 = g2 + 1 | 0, f2 = false, b3(l(1, [h3]))) : (d2 = true, b3(0));
          }
          e = false;
        }
      }
    ]));
  };
}
function r() {
}
function t(a4) {
  a4(0);
}
function u(a4) {
  let b3 = false;
  a4(l(0, [
    function(c3) {
      c3 ? b3 = true : b3 || a4(0);
    }
  ]));
}
function C(a4) {
  return a4(0);
}
function D(a4) {
  return function(b3) {
    return function(c3) {
      let e = m, f2 = false, g2 = [], h3 = false;
      b3(function(b4) {
        typeof b4 == "number" ? h3 || (h3 = true, g2.length === 0 && c3(0)) : b4.tag ? h3 || (f2 = false, function(a5) {
          function b5(a6) {
            typeof a6 == "number" ? g2.length !== 0 && (g2 = g2.filter(d2), a6 = g2.length === 0, h3 && a6 ? c3(0) : !f2 && a6 && (f2 = true, e(0))) : a6.tag ? g2.length !== 0 && (c3(l(1, [a6[0]])), k2(0)) : (k2 = a6 = a6[0], g2 = g2.concat(a6), a6(0));
          }
          function d2(a6) {
            return a6 !== k2;
          }
          let k2 = m;
          a5.length === 1 ? a5(b5) : a5.bind(null, b5);
        }(a4(b4[0])), f2 || (f2 = true, e(0))) : e = b4[0];
      });
      c3(l(0, [
        function(a5) {
          a5 ? (h3 || (h3 = true, e(a5)), g2.forEach(function(c4) {
            return c4(a5);
          }), g2 = []) : (f2 || h3 ? f2 = false : (f2 = true, e(0)), g2.forEach(C));
        }
      ]));
    };
  };
}
function E(a4) {
  return a4;
}
function H(a4) {
  return function(b3) {
    return function(c3) {
      let d2 = false;
      return b3(function(e) {
        if (typeof e == "number") {
          d2 || (d2 = true, c3(e));
        } else if (e.tag) {
          d2 || (a4(e[0]), c3(e));
        } else {
          var g2 = e[0];
          c3(l(0, [
            function(a5) {
              if (!d2) {
                return a5 && (d2 = true), g2(a5);
              }
            }
          ]));
        }
      });
    };
  };
}
function J(a4) {
  a4(0);
}
function K(a4) {
  return function(b3) {
    return function(c3) {
      function d2(a5) {
        h3 && (typeof a5 == "number" ? (h3 = false, n2 ? c3(a5) : f2 || (f2 = true, e(0))) : a5.tag ? (c3(a5), k2 ? k2 = false : g2(0)) : (g2 = a5 = a5[0], k2 = false, a5(0)));
      }
      let e = m, f2 = false, g2 = m, h3 = false, k2 = false, n2 = false;
      b3(function(b4) {
        typeof b4 == "number" ? n2 || (n2 = true, h3 || c3(0)) : b4.tag ? n2 || (h3 && (g2(1), g2 = m), f2 ? f2 = false : (f2 = true, e(0)), b4 = a4(b4[0]), h3 = true, b4(d2)) : e = b4[0];
      });
      c3(l(0, [
        function(a5) {
          if (a5) {
            if (n2 || (n2 = true, e(1)), h3) {
              return h3 = false, g2(1);
            }
          } else {
            n2 || f2 || (f2 = true, e(0)), h3 && !k2 && (k2 = true, g2(0));
          }
        }
      ]));
    };
  };
}
function M(a4) {
  return function(b3) {
    return function(c3) {
      let d2 = [], e = m;
      return b3(function(b4) {
        typeof b4 == "number" ? p(d2)(c3) : b4.tag ? (d2.length >= a4 && 0 < a4 && d2.shift(), d2.push(b4[0]), e(0)) : (b4 = b4[0], 0 >= a4 ? (b4(1), u(c3)) : (e = b4, b4(0)));
      });
    };
  };
}
function N(a4) {
  return function(b3) {
    let c3 = m, d2 = false;
    b3(function(e) {
      typeof e == "number" ? d2 = true : e.tag ? d2 || (a4(e[0]), c3(0)) : (c3 = e = e[0], e(0));
    });
    return {
      unsubscribe: function() {
        if (!d2) {
          return d2 = true, c3(1);
        }
      }
    };
  };
}
function O() {
}
function buffer$1(a4) {
  return function(b3) {
    return function(c3) {
      function d2(a5) {
        typeof a5 == "number" ? k2 || (k2 = true, f2(1), 0 < e.length && c3(l(1, [e])), c3(0)) : a5.tag ? !k2 && 0 < e.length && (a5 = e, e = [], c3(l(1, [a5]))) : g2 = a5[0];
      }
      let e = [], f2 = m, g2 = m, h3 = false, k2 = false;
      b3(function(b4) {
        typeof b4 == "number" ? k2 || (k2 = true, g2(1), 0 < e.length && c3(l(1, [e])), c3(0)) : b4.tag ? k2 || (e.push(b4[0]), h3 ? h3 = false : (h3 = true, f2(0), g2(0))) : (f2 = b4[0], a4(d2));
      });
      c3(l(0, [
        function(a5) {
          if (!k2) {
            if (a5) {
              return k2 = true, f2(1), g2(1);
            }
            if (!h3) {
              return h3 = true, f2(0), g2(0);
            }
          }
        }
      ]));
    };
  };
}
function filter$1(a4) {
  return function(b3) {
    return function(c3) {
      let d2 = m;
      return b3(function(b4) {
        typeof b4 == "number" ? c3(b4) : b4.tag ? a4(b4[0]) ? c3(b4) : d2(0) : (d2 = b4[0], c3(b4));
      });
    };
  };
}
function fromPromise$1(a4) {
  return function(b3) {
    let c3 = false;
    a4.then(function(a5) {
      c3 || (b3(l(1, [a5])), b3(0));
      return Promise.resolve(void 0);
    });
    b3(l(0, [
      function(a5) {
        a5 && (c3 = true);
      }
    ]));
  };
}
function fromValue$1(a4) {
  return function(b3) {
    let c3 = false;
    b3(l(0, [
      function(d2) {
        d2 ? c3 = true : c3 || (c3 = true, b3(l(1, [a4])), b3(0));
      }
    ]));
  };
}
function make$1(a4) {
  return function(b3) {
    let c3 = r, d2 = false;
    c3 = a4({
      next: function(a5) {
        d2 || b3(l(1, [a5]));
      },
      complete: function() {
        d2 || (d2 = true, b3(0));
      }
    });
    b3(l(0, [
      function(a5) {
        if (a5 && !d2) {
          return d2 = true, c3();
        }
      }
    ]));
  };
}
function makeSubject$1() {
  let a4 = [], b3 = false;
  return {
    source: function(c3) {
      function b4(a5) {
        return a5 !== c3;
      }
      a4 = a4.concat(c3);
      c3(l(0, [
        function(c4) {
          c4 && (a4 = a4.filter(b4));
        }
      ]));
    },
    next: function(c3) {
      b3 || a4.forEach(function(a5) {
        a5(l(1, [c3]));
      });
    },
    complete: function() {
      b3 || (b3 = true, a4.forEach(t));
    }
  };
}
function map$1(a4) {
  return function(b3) {
    return function(c3) {
      return b3(function(b4) {
        b4 = typeof b4 == "number" ? 0 : b4.tag ? l(1, [a4(b4[0])]) : l(0, [b4[0]]);
        c3(b4);
      });
    };
  };
}
function merge$1(a4) {
  return D(E)(p(a4));
}
function onEnd$1(a4) {
  return function(b3) {
    return function(c3) {
      let d2 = false;
      return b3(function(b4) {
        if (typeof b4 == "number") {
          if (d2) {
            return;
          }
          d2 = true;
          c3(b4);
          return a4();
        }
        if (b4.tag) {
          d2 || c3(b4);
        } else {
          var e = b4[0];
          c3(l(0, [
            function(c4) {
              if (!d2) {
                return c4 ? (d2 = true, e(c4), a4()) : e(c4);
              }
            }
          ]));
        }
      });
    };
  };
}
function onStart$1(a4) {
  return function(b3) {
    return function(c3) {
      return b3(function(b4) {
        typeof b4 == "number" ? c3(b4) : b4.tag ? c3(b4) : (c3(b4), a4());
      });
    };
  };
}
function pipe() {
  for (var a4 = arguments, b3 = arguments[0], c3 = 1, d2 = arguments.length; c3 < d2; c3++) {
    b3 = a4[c3](b3);
  }
  return b3;
}
function publish$1(a4) {
  return N(O)(a4);
}
function share$1(a4) {
  function b3(a5) {
    typeof a5 == "number" ? (c3.forEach(J), c3 = []) : a5.tag ? (e = false, c3.forEach(function(b4) {
      b4(a5);
    })) : d2 = a5[0];
  }
  let c3 = [], d2 = m, e = false;
  return function(f2) {
    function g2(a5) {
      return a5 !== f2;
    }
    c3 = c3.concat(f2);
    c3.length === 1 && a4(b3);
    f2(l(0, [
      function(a5) {
        if (a5) {
          if (c3 = c3.filter(g2), c3.length === 0) {
            return d2(1);
          }
        } else {
          e || (e = true, d2(a5));
        }
      }
    ]));
  };
}
function skipUntil$1(a4) {
  return function(b3) {
    return function(c3) {
      function d2(a5) {
        typeof a5 == "number" ? g2 && (k2 = true, e(1)) : a5.tag ? (g2 = false, f2(1)) : (f2 = a5 = a5[0], a5(0));
      }
      let e = m, f2 = m, g2 = true, h3 = false, k2 = false;
      b3(function(b4) {
        typeof b4 == "number" ? (g2 && f2(1), k2 = true, c3(0)) : b4.tag ? g2 || k2 ? h3 ? h3 = false : (h3 = true, e(0), f2(0)) : (h3 = false, c3(b4)) : (e = b4[0], a4(d2));
      });
      c3(l(0, [
        function(a5) {
          if (!k2) {
            if (a5) {
              if (k2 = true, e(1), g2) {
                return f2(1);
              }
            } else {
              h3 || (h3 = true, g2 && f2(0), e(0));
            }
          }
        }
      ]));
    };
  };
}
function take$1(a4) {
  return function(b3) {
    return function(c3) {
      let d2 = false, e = 0, f2 = m;
      b3(function(b4) {
        typeof b4 == "number" ? d2 || (d2 = true, c3(0)) : b4.tag ? e < a4 && !d2 && (e = e + 1 | 0, c3(b4), !d2 && e >= a4 && (d2 = true, c3(0), f2(1))) : (b4 = b4[0], 0 >= a4 ? (d2 = true, c3(0), b4(1)) : f2 = b4);
      });
      c3(l(0, [
        function(b4) {
          if (!d2) {
            if (b4) {
              return d2 = true, f2(1);
            }
            if (e < a4) {
              return f2(0);
            }
          }
        }
      ]));
    };
  };
}
function takeUntil$1(a4) {
  return function(b3) {
    return function(c3) {
      function d2(a5) {
        typeof a5 != "number" && (a5.tag ? (e = true, f2(1), c3(0)) : (g2 = a5 = a5[0], a5(0)));
      }
      let e = false, f2 = m, g2 = m;
      b3(function(b4) {
        typeof b4 == "number" ? e || (e = true, g2(1), c3(0)) : b4.tag ? e || c3(b4) : (f2 = b4[0], a4(d2));
      });
      c3(l(0, [
        function(a5) {
          if (!e) {
            return a5 ? (e = true, f2(1), g2(1)) : f2(0);
          }
        }
      ]));
    };
  };
}
function takeWhile$1(a4) {
  return function(b3) {
    return function(c3) {
      let d2 = m, e = false;
      return b3(function(b4) {
        typeof b4 == "number" ? e || (e = true, c3(0)) : b4.tag ? e || (a4(b4[0]) ? c3(b4) : (e = true, c3(0), d2(1))) : (d2 = b4[0], c3(b4));
      });
    };
  };
}
function toPromise$1(a4) {
  return new Promise(function(b3) {
    M(1)(a4)(function(a5) {
      if (typeof a5 != "number") {
        if (a5.tag) {
          b3(a5[0]);
        } else {
          a5[0](0);
        }
      }
    });
  });
}
var P = typeof Symbol == "function" ? Symbol.observable || (Symbol.observable = Symbol("observable")) : "@@observable";

// node_modules/@urql/core/dist/18ee0d5c.mjs
function rehydrateGraphQlError(r3) {
  if (typeof r3 == "string") {
    return new GraphQLError(r3);
  } else if (typeof r3 == "object" && r3.message) {
    return new GraphQLError(r3.message, r3.nodes, r3.source, r3.positions, r3.path, r3, r3.extensions || {});
  } else {
    return r3;
  }
}
var a2 = function(e) {
  function CombinedError2(r3) {
    var t2 = r3.networkError;
    var n2 = r3.response;
    var o2 = (r3.graphQLErrors || []).map(rehydrateGraphQlError);
    var a4 = function generateErrorMessage(e2, r4) {
      var t3 = "";
      if (e2 !== void 0) {
        return t3 = "[Network] " + e2.message;
      }
      if (r4 !== void 0) {
        r4.forEach(function(e3) {
          t3 += "[GraphQL] " + e3.message + "\n";
        });
      }
      return t3.trim();
    }(t2, o2);
    e.call(this, a4);
    this.name = "CombinedError";
    this.message = a4;
    this.graphQLErrors = o2;
    this.networkError = t2;
    this.response = n2;
  }
  if (e) {
    CombinedError2.__proto__ = e;
  }
  (CombinedError2.prototype = Object.create(e && e.prototype)).constructor = CombinedError2;
  CombinedError2.prototype.toString = function toString() {
    return this.message;
  };
  return CombinedError2;
}(Error);
function phash(e, r3) {
  e |= 0;
  for (var t2 = 0, n2 = 0 | r3.length; t2 < n2; t2++) {
    e = (e << 5) + e + r3.charCodeAt(t2);
  }
  return e;
}
function hash(e) {
  return phash(5381, e) >>> 0;
}
var i = new Set();
var s2 = new WeakMap();
function stringify(e) {
  if (e === null || i.has(e)) {
    return "null";
  } else if (typeof e != "object") {
    return JSON.stringify(e) || "";
  } else if (e.toJSON) {
    return stringify(e.toJSON());
  } else if (Array.isArray(e)) {
    var r3 = "[";
    for (var t2 = 0, n2 = e.length; t2 < n2; t2++) {
      if (t2 > 0) {
        r3 += ",";
      }
      var o2 = stringify(e[t2]);
      r3 += o2.length > 0 ? o2 : "null";
    }
    return r3 += "]";
  }
  var a4 = Object.keys(e).sort();
  if (!a4.length && e.constructor && e.constructor !== Object) {
    var f2 = s2.get(e) || Math.random().toString(36).slice(2);
    s2.set(e, f2);
    return '{"__key":"' + f2 + '"}';
  }
  i.add(e);
  var u4 = "{";
  for (var c3 = 0, l3 = a4.length; c3 < l3; c3++) {
    var h3 = a4[c3];
    var p2 = stringify(e[h3]);
    if (p2) {
      if (u4.length > 1) {
        u4 += ",";
      }
      u4 += stringify(h3) + ":" + p2;
    }
  }
  i.delete(e);
  return u4 += "}";
}
function stringifyVariables(e) {
  i.clear();
  return stringify(e);
}
function stringifyDocument(e) {
  var r3 = (typeof e != "string" ? e.loc && e.loc.source.body || print(e) : e).replace(/([\s,]|#[^\n\r]+)+/g, " ").trim();
  if (typeof e != "string") {
    var t2 = "definitions" in e && getOperationName(e);
    if (t2) {
      r3 = "# " + t2 + "\n" + r3;
    }
    if (!e.loc) {
      e.loc = {
        start: 0,
        end: r3.length,
        source: {
          body: r3,
          name: "gql",
          locationOffset: {
            line: 1,
            column: 1
          }
        }
      };
    }
  }
  return r3;
}
var f = new Map();
function keyDocument(e) {
  var r3;
  var n2;
  if (typeof e == "string") {
    r3 = hash(stringifyDocument(e));
    n2 = f.get(r3) || parse(e, {
      noLocation: true
    });
  } else {
    r3 = e.__key || hash(stringifyDocument(e));
    n2 = f.get(r3) || e;
  }
  if (!n2.loc) {
    stringifyDocument(n2);
  }
  n2.__key = r3;
  f.set(r3, n2);
  return n2;
}
function createRequest(e, r3) {
  if (!r3) {
    r3 = {};
  }
  var t2 = keyDocument(e);
  return {
    key: phash(t2.__key, stringifyVariables(r3)) >>> 0,
    query: t2,
    variables: r3
  };
}
function getOperationName(e) {
  for (var t2 = 0, n2 = e.definitions.length; t2 < n2; t2++) {
    var o2 = e.definitions[t2];
    if (o2.kind === Kind.OPERATION_DEFINITION && o2.name) {
      return o2.name.value;
    }
  }
}
function getOperationType(e) {
  for (var t2 = 0, n2 = e.definitions.length; t2 < n2; t2++) {
    var o2 = e.definitions[t2];
    if (o2.kind === Kind.OPERATION_DEFINITION) {
      return o2.operation;
    }
  }
}
function _extends() {
  return (_extends = Object.assign || function(e) {
    for (var r3 = 1; r3 < arguments.length; r3++) {
      var t2 = arguments[r3];
      for (var n2 in t2) {
        if (Object.prototype.hasOwnProperty.call(t2, n2)) {
          e[n2] = t2[n2];
        }
      }
    }
    return e;
  }).apply(this, arguments);
}
function makeResult(e, r3, t2) {
  if (!("data" in r3) && !("errors" in r3) || "path" in r3) {
    throw new Error("No Content");
  }
  return {
    operation: e,
    data: r3.data,
    error: Array.isArray(r3.errors) ? new a2({
      graphQLErrors: r3.errors,
      response: t2
    }) : void 0,
    extensions: typeof r3.extensions == "object" && r3.extensions || void 0,
    hasNext: !!r3.hasNext
  };
}
function mergeResultPatch(e, r3, t2) {
  var n2 = _extends({}, e);
  n2.hasNext = !!r3.hasNext;
  if (!("path" in r3)) {
    if ("data" in r3) {
      n2.data = r3.data;
    }
    return n2;
  }
  if (Array.isArray(r3.errors)) {
    n2.error = new a2({
      graphQLErrors: n2.error ? n2.error.graphQLErrors.concat(r3.errors) : r3.errors,
      response: t2
    });
  }
  var o2 = n2.data = _extends({}, n2.data);
  var i3 = 0;
  var s3;
  while (i3 < r3.path.length) {
    o2 = o2[s3 = r3.path[i3++]] = Array.isArray(o2[s3]) ? [].concat(o2[s3]) : _extends({}, o2[s3]);
  }
  _extends(o2, r3.data);
  return n2;
}
function makeErrorResult(e, r3, t2) {
  return {
    operation: e,
    data: void 0,
    error: new a2({
      networkError: r3,
      response: t2
    }),
    extensions: void 0
  };
}
function shouldUseGet(e) {
  return e.kind === "query" && !!e.context.preferGetMethod;
}
function makeFetchBody(e) {
  return {
    query: print(e.query),
    operationName: getOperationName(e.query),
    variables: e.variables || void 0,
    extensions: void 0
  };
}
function makeFetchURL(e, r3) {
  var t2 = shouldUseGet(e);
  var n2 = e.context.url;
  if (!t2 || !r3) {
    return n2;
  }
  var o2 = [];
  if (r3.operationName) {
    o2.push("operationName=" + encodeURIComponent(r3.operationName));
  }
  if (r3.query) {
    o2.push("query=" + encodeURIComponent(r3.query.replace(/#[^\n\r]+/g, " ").trim()));
  }
  if (r3.variables) {
    o2.push("variables=" + encodeURIComponent(stringifyVariables(r3.variables)));
  }
  if (r3.extensions) {
    o2.push("extensions=" + encodeURIComponent(stringifyVariables(r3.extensions)));
  }
  return n2 + "?" + o2.join("&");
}
function makeFetchOptions(e, r3) {
  var t2 = shouldUseGet(e);
  var n2 = typeof e.context.fetchOptions == "function" ? e.context.fetchOptions() : e.context.fetchOptions || {};
  return _extends({}, n2, {
    body: !t2 && r3 ? JSON.stringify(r3) : void 0,
    method: t2 ? "GET" : "POST",
    headers: t2 ? n2.headers : _extends({}, {
      "content-type": "application/json"
    }, n2.headers)
  });
}
var u2 = typeof Symbol != "undefined" ? Symbol.asyncIterator : null;
var c = typeof TextDecoder != "undefined" ? new TextDecoder() : null;
var l2 = /content-type:[^\r\n]*application\/json/i;
var h = /boundary="?([^=";]+)"?/i;
function executeIncrementalFetch(e, r3, t2) {
  var n2 = t2.headers && t2.headers.get("Content-Type") || "";
  if (!/multipart\/mixed/i.test(n2)) {
    return t2.json().then(function(n3) {
      e(makeResult(r3, n3, t2));
    });
  }
  var o2 = "---";
  var a4 = n2.match(h);
  if (a4) {
    o2 = "--" + a4[1];
  }
  var i3;
  var cancel = function() {
  };
  if (u2 && t2[u2]) {
    var s3 = t2[u2]();
    i3 = s3.next.bind(s3);
  } else if ("body" in t2 && t2.body) {
    var f2 = t2.body.getReader();
    cancel = f2.cancel.bind(f2);
    i3 = f2.read.bind(f2);
  } else {
    throw new TypeError("Streaming requests unsupported");
  }
  var p2 = "";
  var d2 = true;
  var v = null;
  var m2 = null;
  return i3().then(function next(n3) {
    if (!n3.done) {
      var a5 = function toString(e2) {
        return typeof Buffer != "undefined" && Buffer.isBuffer(e2) ? e2.toString() : c.decode(e2);
      }(n3.value);
      var s4 = a5.indexOf(o2);
      if (s4 > -1) {
        s4 += p2.length;
      } else {
        s4 = p2.indexOf(o2);
      }
      p2 += a5;
      while (s4 > -1) {
        var f3 = p2.slice(0, s4);
        var u4 = p2.slice(s4 + o2.length);
        if (d2) {
          d2 = false;
        } else {
          var h3 = f3.indexOf("\r\n\r\n") + 4;
          var g2 = f3.slice(0, h3);
          var y2 = f3.slice(h3, f3.lastIndexOf("\r\n"));
          var x3 = void 0;
          if (l2.test(g2)) {
            try {
              x3 = JSON.parse(y2);
              v = m2 = m2 ? mergeResultPatch(m2, x3, t2) : makeResult(r3, x3, t2);
            } catch (e2) {
            }
          }
          if (u4.slice(0, 2) === "--" || x3 && !x3.hasNext) {
            if (!m2) {
              return e(makeResult(r3, {}, t2));
            }
            break;
          }
        }
        s4 = (p2 = u4).indexOf(o2);
      }
    }
    if (v) {
      e(v);
      v = null;
    }
    if (!n3.done && (!m2 || m2.hasNext)) {
      return i3().then(next);
    }
  }).finally(cancel);
}
function makeFetchSource(e, r3, t2) {
  var n2 = t2.redirect === "manual" ? 400 : 300;
  var a4 = e.context.fetch;
  return make$1(function(o2) {
    var i3 = o2.next;
    var s3 = o2.complete;
    var f2 = typeof AbortController != "undefined" ? new AbortController() : null;
    if (f2) {
      t2.signal = f2.signal;
    }
    var u4 = false;
    var c3 = false;
    var l3;
    Promise.resolve().then(function() {
      if (u4) {
        return;
      }
      return (a4 || fetch)(r3, t2);
    }).then(function(r4) {
      if (!r4) {
        return;
      }
      c3 = (l3 = r4).status < 200 || l3.status >= n2;
      return executeIncrementalFetch(i3, e, l3);
    }).then(s3).catch(function(r4) {
      if (r4.name !== "AbortError") {
        var t3 = makeErrorResult(e, c3 ? new Error(l3.statusText) : r4, l3);
        i3(t3);
        s3();
      }
    });
    return function() {
      u4 = true;
      if (f2) {
        f2.abort();
      }
    };
  });
}

// node_modules/@urql/core/dist/urql-core.mjs
function collectTypes(e, r3) {
  if (Array.isArray(e)) {
    for (var n2 = 0; n2 < e.length; n2++) {
      collectTypes(e[n2], r3);
    }
  } else if (typeof e == "object" && e !== null) {
    for (var t2 in e) {
      if (t2 === "__typename" && typeof e[t2] == "string") {
        r3[e[t2]] = 0;
      } else {
        collectTypes(e[t2], r3);
      }
    }
  }
  return r3;
}
function collectTypesFromResponse(e) {
  return Object.keys(collectTypes(e, {}));
}
var formatNode = function(e) {
  if (e.selectionSet && !e.selectionSet.selections.some(function(e2) {
    return e2.kind === Kind.FIELD && e2.name.value === "__typename" && !e2.alias;
  })) {
    return _extends({}, e, {
      selectionSet: _extends({}, e.selectionSet, {
        selections: e.selectionSet.selections.concat([{
          kind: Kind.FIELD,
          name: {
            kind: Kind.NAME,
            value: "__typename"
          }
        }])
      })
    });
  }
};
var Q = new Map();
function formatDocument(r3) {
  var n2 = keyDocument(r3);
  var a4 = Q.get(n2.__key);
  if (!a4) {
    a4 = visit(n2, {
      Field: formatNode,
      InlineFragment: formatNode
    });
    Object.defineProperty(a4, "__key", {
      value: n2.__key,
      enumerable: false
    });
    Q.set(n2.__key, a4);
  }
  return a4;
}
function maskTypename(e) {
  if (!e || typeof e != "object") {
    return e;
  }
  return Object.keys(e).reduce(function(r3, n2) {
    var t2 = e[n2];
    if (n2 === "__typename") {
      Object.defineProperty(r3, "__typename", {
        enumerable: false,
        value: t2
      });
    } else if (Array.isArray(t2)) {
      r3[n2] = t2.map(maskTypename);
    } else if (t2 && typeof t2 == "object" && "__typename" in t2) {
      r3[n2] = maskTypename(t2);
    } else {
      r3[n2] = t2;
    }
    return r3;
  }, {});
}
function withPromise(e) {
  e.toPromise = function() {
    return toPromise$1(take$1(1)(filter$1(function(e2) {
      return !e2.stale && !e2.hasNext;
    })(e)));
  };
  return e;
}
function makeOperation(e, r3, n2) {
  if (!n2) {
    n2 = r3.context;
  }
  return {
    key: r3.key,
    query: r3.query,
    variables: r3.variables,
    kind: e,
    context: n2
  };
}
function addMetadata(e, r3) {
  return makeOperation(e.kind, e, _extends({}, e.context, {
    meta: _extends({}, e.context.meta, r3)
  }));
}
function noop() {
}
function shouldSkip(e) {
  var r3 = e.kind;
  return r3 !== "mutation" && r3 !== "query";
}
function cacheExchange(e) {
  var r3 = e.forward;
  var n2 = e.client;
  var t2 = e.dispatchDebug;
  var a4 = new Map();
  var i3 = Object.create(null);
  function mapTypeNames(e2) {
    var r4 = makeOperation(e2.kind, e2);
    r4.query = formatDocument(e2.query);
    return r4;
  }
  function isOperationCached(e2) {
    var r4 = e2.context.requestPolicy;
    return e2.kind === "query" && r4 !== "network-only" && (r4 === "cache-only" || a4.has(e2.key));
  }
  return function(e2) {
    var u4 = share$1(e2);
    var c3 = map$1(function(e3) {
      var r4 = a4.get(e3.key);
      t2(_extends({}, {
        operation: e3
      }, r4 ? {
        type: "cacheHit",
        message: "The result was successfully retried from the cache"
      } : {
        type: "cacheMiss",
        message: "The result could not be retrieved from the cache"
      }));
      var i4 = _extends({}, r4, {
        operation: addMetadata(e3, {
          cacheOutcome: r4 ? "hit" : "miss"
        })
      });
      if (e3.context.requestPolicy === "cache-and-network") {
        i4.stale = true;
        reexecuteOperation(n2, e3);
      }
      return i4;
    })(filter$1(function(e3) {
      return !shouldSkip(e3) && isOperationCached(e3);
    })(u4));
    var s3 = H(function(e3) {
      var r4 = e3.operation;
      if (!r4) {
        return;
      }
      var o2 = collectTypesFromResponse(e3.data).concat(r4.context.additionalTypenames || []);
      if (e3.operation.kind === "mutation") {
        var u5 = new Set();
        t2({
          type: "cacheInvalidation",
          message: "The following typenames have been invalidated: " + o2,
          operation: r4,
          data: {
            typenames: o2,
            response: e3
          },
          source: "cacheExchange"
        });
        for (var c4 = 0; c4 < o2.length; c4++) {
          var s4 = o2[c4];
          var f2 = i3[s4] || (i3[s4] = new Set());
          f2.forEach(function(e4) {
            u5.add(e4);
          });
          f2.clear();
        }
        u5.forEach(function(e4) {
          if (a4.has(e4)) {
            r4 = a4.get(e4).operation;
            a4.delete(e4);
            reexecuteOperation(n2, r4);
          }
        });
      } else if (r4.kind === "query" && e3.data) {
        a4.set(r4.key, e3);
        for (var p2 = 0; p2 < o2.length; p2++) {
          var l3 = o2[p2];
          (i3[l3] || (i3[l3] = new Set())).add(r4.key);
        }
      }
    })(r3(filter$1(function(e3) {
      return e3.kind !== "query" || e3.context.requestPolicy !== "cache-only";
    })(map$1(function(e3) {
      return addMetadata(e3, {
        cacheOutcome: "miss"
      });
    })(merge$1([map$1(mapTypeNames)(filter$1(function(e3) {
      return !shouldSkip(e3) && !isOperationCached(e3);
    })(u4)), filter$1(function(e3) {
      return shouldSkip(e3);
    })(u4)])))));
    return merge$1([c3, s3]);
  };
}
function reexecuteOperation(e, r3) {
  return e.reexecuteOperation(makeOperation(r3.kind, r3, _extends({}, r3.context, {
    requestPolicy: "network-only"
  })));
}
function dedupExchange(e) {
  var r3 = e.forward;
  var n2 = e.dispatchDebug;
  var t2 = new Set();
  function filterIncomingOperation(e2) {
    var r4 = e2.key;
    var a4 = e2.kind;
    if (a4 === "teardown") {
      t2.delete(r4);
      return true;
    }
    if (a4 !== "query" && a4 !== "subscription") {
      return true;
    }
    var o2 = t2.has(r4);
    t2.add(r4);
    if (o2) {
      n2({
        type: "dedup",
        message: "An operation has been deduped.",
        operation: e2,
        source: "dedupExchange"
      });
    }
    return !o2;
  }
  function afterOperationResult(e2) {
    if (!e2.hasNext) {
      t2.delete(e2.operation.key);
    }
  }
  return function(e2) {
    var n3 = filter$1(filterIncomingOperation)(e2);
    return H(afterOperationResult)(r3(n3));
  };
}
function fetchExchange(e) {
  var r3 = e.forward;
  var n2 = e.dispatchDebug;
  return function(e2) {
    var t2 = share$1(e2);
    var a4 = D(function(e3) {
      var r4 = e3.key;
      var a5 = filter$1(function(e4) {
        return e4.kind === "teardown" && e4.key === r4;
      })(t2);
      var o3 = makeFetchBody(e3);
      var i3 = makeFetchURL(e3, o3);
      var u4 = makeFetchOptions(e3, o3);
      n2({
        type: "fetchRequest",
        message: "A fetch request is being executed.",
        operation: e3,
        data: {
          url: i3,
          fetchOptions: u4
        },
        source: "fetchExchange"
      });
      return H(function(r5) {
        var t3 = !r5.data ? r5.error : void 0;
        n2({
          type: t3 ? "fetchError" : "fetchSuccess",
          message: "A " + (t3 ? "failed" : "successful") + " fetch response has been returned.",
          operation: e3,
          data: {
            url: i3,
            fetchOptions: u4,
            value: t3 || r5
          },
          source: "fetchExchange"
        });
      })(takeUntil$1(a5)(makeFetchSource(e3, i3, u4)));
    })(filter$1(function(e3) {
      return e3.kind === "query" || e3.kind === "mutation";
    })(t2));
    var o2 = r3(filter$1(function(e3) {
      return e3.kind !== "query" && e3.kind !== "mutation";
    })(t2));
    return merge$1([a4, o2]);
  };
}
function fallbackExchange(e) {
  var r3 = e.dispatchDebug;
  return function(e2) {
    return filter$1(function() {
      return false;
    })(H(function(e3) {
      if (e3.kind !== "teardown" && true) {
        var n2 = 'No exchange has handled operations of kind "' + e3.kind + `". Check whether you've added an exchange responsible for these operations.`;
        r3({
          type: "fallbackCatch",
          message: n2,
          operation: e3,
          source: "fallbackExchange"
        });
        console.warn(n2);
      }
    })(e2));
  };
}
var G = fallbackExchange({
  dispatchDebug: noop
});
function composeExchanges(e) {
  return function(r3) {
    var n2 = r3.client;
    var t2 = r3.dispatchDebug;
    return e.reduceRight(function(e2, r4) {
      return r4({
        client: n2,
        forward: e2,
        dispatchDebug: function dispatchDebug$1(e3) {
          t2(_extends({}, {
            timestamp: Date.now(),
            source: r4.name
          }, e3));
        }
      });
    }, r3.forward);
  };
}
var L = [dedupExchange, cacheExchange, fetchExchange];
var W = function Client(e) {
  if (!e.url) {
    throw new Error("You are creating an urql-client without a url.");
  }
  var r3 = new Map();
  var n2 = new Map();
  var t2 = [];
  var a4 = makeSubject$1();
  var i3 = a4.source;
  var u4 = a4.next;
  var c3 = false;
  function dispatchOperation(e2) {
    c3 = true;
    if (e2) {
      u4(e2);
    }
    while (e2 = t2.shift()) {
      u4(e2);
    }
    c3 = false;
  }
  function makeResultSource(e2) {
    var a5 = filter$1(function(r4) {
      return r4.operation.kind === e2.kind && r4.operation.key === e2.key;
    })(y2);
    if (f2.maskTypename) {
      a5 = map$1(function(e3) {
        return _extends({}, e3, {
          data: maskTypename(e3.data)
        });
      })(a5);
    }
    if (e2.kind === "mutation") {
      return take$1(1)(onStart$1(function() {
        return dispatchOperation(e2);
      })(a5));
    }
    return share$1(onEnd$1(function() {
      r3.delete(e2.key);
      n2.delete(e2.key);
      for (var a6 = t2.length - 1; a6 >= 0; a6--) {
        if (t2[a6].key === e2.key) {
          t2.splice(a6, 1);
        }
      }
      dispatchOperation(makeOperation("teardown", e2, e2.context));
    })(H(function(n3) {
      r3.set(e2.key, n3);
    })(K(function(r4) {
      if (e2.kind !== "query" || r4.stale) {
        return fromValue$1(r4);
      }
      return merge$1([fromValue$1(r4), map$1(function() {
        return _extends({}, r4, {
          stale: true
        });
      })(take$1(1)(filter$1(function(r5) {
        return r5.kind === "query" && r5.key === e2.key && r5.context.requestPolicy !== "cache-only";
      })(i3)))]);
    })(takeUntil$1(filter$1(function(r4) {
      return r4.kind === "teardown" && r4.key === e2.key;
    })(i3))(a5)))));
  }
  var s3 = this instanceof Client ? this : Object.create(Client.prototype);
  var f2 = _extends(s3, {
    url: e.url,
    fetchOptions: e.fetchOptions,
    fetch: e.fetch,
    suspense: !!e.suspense,
    requestPolicy: e.requestPolicy || "cache-first",
    preferGetMethod: !!e.preferGetMethod,
    maskTypename: !!e.maskTypename,
    operations$: i3,
    reexecuteOperation: function reexecuteOperation2(e2) {
      if (e2.kind === "mutation" || n2.has(e2.key)) {
        t2.push(e2);
        if (!c3) {
          Promise.resolve().then(dispatchOperation);
        }
      }
    },
    createOperationContext: function createOperationContext(e2) {
      if (!e2) {
        e2 = {};
      }
      return _extends({}, {
        url: f2.url,
        fetchOptions: f2.fetchOptions,
        fetch: f2.fetch,
        preferGetMethod: f2.preferGetMethod
      }, e2, {
        suspense: e2.suspense || e2.suspense !== false && f2.suspense,
        requestPolicy: e2.requestPolicy || f2.requestPolicy
      });
    },
    createRequestOperation: function createRequestOperation(e2, r4, n3) {
      var t3 = getOperationType(r4.query);
      if (e2 !== "teardown" && t3 !== e2) {
        throw new Error('Expected operation of type "' + e2 + '" but found "' + t3 + '"');
      }
      return makeOperation(e2, r4, f2.createOperationContext(n3));
    },
    executeRequestOperation: function executeRequestOperation(e2) {
      if (e2.kind === "mutation") {
        return makeResultSource(e2);
      }
      return make$1(function(t3) {
        var a5 = n2.get(e2.key);
        if (!a5) {
          n2.set(e2.key, a5 = makeResultSource(e2));
        }
        var i4 = e2.context.requestPolicy === "cache-and-network" || e2.context.requestPolicy === "network-only";
        return N(t3.next)(onEnd$1(t3.complete)(onStart$1(function() {
          var n3 = r3.get(e2.key);
          if (e2.kind === "subscription") {
            return dispatchOperation(e2);
          } else if (i4) {
            dispatchOperation(e2);
          }
          if (n3 != null && n3 === r3.get(e2.key)) {
            t3.next(i4 ? _extends({}, n3, {
              stale: true
            }) : n3);
          } else if (!i4) {
            dispatchOperation(e2);
          }
        })(a5))).unsubscribe;
      });
    },
    executeQuery: function executeQuery(e2, r4) {
      var n3 = f2.createRequestOperation("query", e2, r4);
      return f2.executeRequestOperation(n3);
    },
    executeSubscription: function executeSubscription(e2, r4) {
      var n3 = f2.createRequestOperation("subscription", e2, r4);
      return f2.executeRequestOperation(n3);
    },
    executeMutation: function executeMutation(e2, r4) {
      var n3 = f2.createRequestOperation("mutation", e2, r4);
      return f2.executeRequestOperation(n3);
    },
    query: function query2(e2, r4, n3) {
      if (!n3 || typeof n3.suspense != "boolean") {
        n3 = _extends({}, n3, {
          suspense: false
        });
      }
      return withPromise(f2.executeQuery(createRequest(e2, r4), n3));
    },
    readQuery: function readQuery2(e2, r4, n3) {
      var t3 = null;
      N(function(e3) {
        t3 = e3;
      })(f2.query(e2, r4, n3)).unsubscribe();
      return t3;
    },
    subscription: function subscription(e2, r4, n3) {
      return f2.executeSubscription(createRequest(e2, r4), n3);
    },
    mutation: function mutation(e2, r4, n3) {
      return withPromise(f2.executeMutation(createRequest(e2, r4), n3));
    }
  });
  var p2 = noop;
  if (true) {
    var l3 = makeSubject$1();
    var d2 = l3.next;
    var h3 = l3.source;
    f2.subscribeToDebugTarget = function(e2) {
      return N(e2)(h3);
    };
    p2 = d2;
  }
  var v = composeExchanges(e.exchanges !== void 0 ? e.exchanges : L);
  var y2 = share$1(v({
    client: f2,
    dispatchDebug: p2,
    forward: fallbackExchange({
      dispatchDebug: p2
    })
  })(i3));
  publish$1(y2);
  return f2;
};
var z = W;

// node_modules/urql/dist/urql.es.js
var import_react = __toModule(require_react());
var d = z({
  url: "/graphql"
});
var x = (0, import_react.createContext)(d);
var h2 = x.Provider;
var y = x.Consumer;
x.displayName = "UrqlContext";
var g = false;
function useClient() {
  var e = (0, import_react.useContext)(x);
  if (e === d && !g) {
    g = true;
    console.warn("Default Client: No client has been specified using urql's Provider.This means that urql will be falling back to defaults including making requests to `/graphql`.\nIf that's not what you want, please create a client and add a Provider.");
  }
  return e;
}
function _extends2() {
  return (_extends2 = Object.assign || function(e) {
    for (var t2 = 1; t2 < arguments.length; t2++) {
      var n2 = arguments[t2];
      for (var r3 in n2) {
        if (Object.prototype.hasOwnProperty.call(n2, r3)) {
          e[r3] = n2[r3];
        }
      }
    }
    return e;
  }).apply(this, arguments);
}
var b = {
  fetching: false,
  stale: false,
  error: void 0,
  data: void 0,
  extensions: void 0,
  operation: void 0
};
function computeNextState(e, t2) {
  var n2 = _extends2({}, e, t2, {
    fetching: !!t2.fetching,
    stale: !!t2.stale
  });
  return function isShallowDifferent(e2, t3) {
    if (typeof e2 != "object" || typeof t3 != "object") {
      return e2 !== t3;
    }
    for (var n3 in e2) {
      if (!(n3 in t3)) {
        return true;
      }
    }
    for (var r3 in t3) {
      if (e2[r3] !== t3[r3]) {
        return true;
      }
    }
    return false;
  }(e, n2) ? n2 : e;
}
function hasDepsChanged(e, t2) {
  for (var n2 = 0, r3 = t2.length; n2 < r3; n2++) {
    if (e[n2] !== t2[n2]) {
      return true;
    }
  }
  return false;
}
function useMutation(e) {
  var n2 = (0, import_react.useRef)(true);
  var r3 = useClient();
  var c3 = (0, import_react.useState)(b);
  var f2 = c3[0];
  var l3 = c3[1];
  var v = (0, import_react.useCallback)(function(u4, i3) {
    l3(_extends2({}, b, {
      fetching: true
    }));
    return toPromise$1(r3.executeMutation(createRequest(e, u4), i3 || {})).then(function(e2) {
      if (n2.current) {
        l3({
          fetching: false,
          stale: !!e2.stale,
          data: e2.data,
          error: e2.error,
          extensions: e2.extensions,
          operation: e2.operation
        });
      }
      return e2;
    });
  }, [r3, e, l3]);
  (0, import_react.useEffect)(function() {
    return function() {
      n2.current = false;
    };
  }, []);
  return [f2, v];
}
function useRequest(e, n2) {
  var r3 = (0, import_react.useRef)(void 0);
  return (0, import_react.useMemo)(function() {
    var u4 = createRequest(e, n2);
    if (r3.current !== void 0 && r3.current.key === u4.key) {
      return r3.current;
    } else {
      r3.current = u4;
      return u4;
    }
  }, [e, n2]);
}
var q = false;
function useQuery(e) {
  var t2 = useClient();
  var n2 = function getCacheForClient(e2) {
    if (!e2._react) {
      var t3 = new Set();
      var n3 = new Map();
      if (e2.operations$) {
        N(function(e3) {
          if (e3.kind === "teardown" && t3.has(e3.key)) {
            t3.delete(e3.key);
            n3.delete(e3.key);
          }
        })(e2.operations$);
      }
      e2._react = {
        get: function get(e3) {
          return n3.get(e3);
        },
        set: function set(e3, r4) {
          t3.delete(e3);
          n3.set(e3, r4);
        },
        dispose: function dispose(e3) {
          t3.add(e3);
        }
      };
    }
    return e2._react;
  }(t2);
  var r3 = function isSuspense(e2, t3) {
    return e2.suspense && (!t3 || t3.suspense !== false);
  }(t2, e.context);
  var u4 = useRequest(e.query, e.variables);
  var s3 = (0, import_react.useMemo)(function() {
    if (e.pause) {
      return null;
    }
    var i3 = t2.executeQuery(u4, _extends2({}, {
      requestPolicy: e.requestPolicy
    }, e.context));
    return r3 ? H(function(e2) {
      n2.set(u4.key, e2);
    })(i3) : i3;
  }, [n2, t2, u4, r3, e.pause, e.requestPolicy, e.context]);
  var d2 = (0, import_react.useCallback)(function(e2, t3) {
    if (!e2) {
      return {
        fetching: false
      };
    }
    var r4 = n2.get(u4.key);
    if (!r4) {
      var i3;
      var a4 = N(function(e3) {
        r4 = e3;
        if (i3) {
          i3(r4);
        }
      })(takeWhile$1(function() {
        return t3 && !i3 || !r4;
      })(e2));
      if (r4 == null && t3) {
        var o2 = new Promise(function(e3) {
          i3 = e3;
        });
        n2.set(u4.key, o2);
        throw o2;
      } else {
        a4.unsubscribe();
      }
    } else if (t3 && r4 != null && "then" in r4) {
      throw r4;
    }
    return r4 || {
      fetching: true
    };
  }, [n2, u4]);
  var x3 = [t2, u4, e.requestPolicy, e.context, e.pause];
  var h3 = (0, import_react.useState)(function() {
    q = true;
    try {
      return [s3, computeNextState(b, d2(s3, r3)), x3];
    } finally {
      q = false;
    }
  });
  var y2 = h3[0];
  var g2 = h3[1];
  var m2 = y2[1];
  if (s3 !== y2[0] && hasDepsChanged(y2[2], x3)) {
    g2([s3, m2 = computeNextState(y2[1], d2(s3, r3)), x3]);
  }
  (0, import_react.useEffect)(function() {
    var e2 = y2[0];
    var t3 = y2[2][1];
    var r4 = false;
    function updateResult(e3) {
      r4 = true;
      if (!q) {
        g2(function(t4) {
          var n3 = computeNextState(t4[1], e3);
          return t4[1] !== n3 ? [t4[0], n3, t4[2]] : t4;
        });
      }
    }
    if (e2) {
      var u5 = N(updateResult)(onEnd$1(function() {
        updateResult({
          fetching: false
        });
      })(e2));
      if (!r4) {
        updateResult({
          fetching: true
        });
      }
      return function() {
        n2.dispose(t3.key);
        u5.unsubscribe();
      };
    } else {
      updateResult({
        fetching: false
      });
    }
  }, [n2, y2[0], y2[2][1]]);
  return [m2, (0, import_react.useCallback)(function(i3) {
    var a4 = _extends2({}, {
      requestPolicy: e.requestPolicy
    }, e.context, i3);
    g2(function(e2) {
      return [r3 ? H(function(e3) {
        n2.set(u4.key, e3);
      })(t2.executeQuery(u4, a4)) : t2.executeQuery(u4, a4), e2[1], e2[2]];
    });
  }, [t2, n2, u4, r3, d2, e.requestPolicy, e.context])];
}

// node_modules/graphql/jsutils/keyValMap.mjs
function keyValMap(list, keyFn, valFn) {
  return list.reduce(function(map, item) {
    map[keyFn(item)] = valFn(item);
    return map;
  }, Object.create(null));
}

// node_modules/graphql/utilities/valueFromASTUntyped.mjs
function valueFromASTUntyped(valueNode, variables) {
  switch (valueNode.kind) {
    case Kind.NULL:
      return null;
    case Kind.INT:
      return parseInt(valueNode.value, 10);
    case Kind.FLOAT:
      return parseFloat(valueNode.value);
    case Kind.STRING:
    case Kind.ENUM:
    case Kind.BOOLEAN:
      return valueNode.value;
    case Kind.LIST:
      return valueNode.values.map(function(node) {
        return valueFromASTUntyped(node, variables);
      });
    case Kind.OBJECT:
      return keyValMap(valueNode.fields, function(field) {
        return field.name.value;
      }, function(field) {
        return valueFromASTUntyped(field.value, variables);
      });
    case Kind.VARIABLE:
      return variables === null || variables === void 0 ? void 0 : variables[valueNode.name.value];
  }
  invariant(0, "Unexpected value node: " + inspect(valueNode));
}

// node_modules/@urql/devtools/dist/urql-devtools-exchange.es.js
function _extends3() {
  return (_extends3 = Object.assign || function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  }).apply(this, arguments);
}
var createDebugMessage = function(debug) {
  return {
    type: "debug-event",
    source: "exchange",
    data: _extends3(_extends3({}, debug), {
      source: "devtoolsExchange",
      timestamp: Date.now()
    })
  };
};
var getDisplayName = function() {
  var defaultLimit = Error.stackTraceLimit;
  Error.stackTraceLimit = 1 / 0;
  var trace = new Error().stack || "";
  Error.stackTraceLimit = defaultLimit;
  var findings = /(useQuery|useMutation|useSubscription).*\n\s*at (\w+)/.exec(trace);
  if (findings === null) {
    return "Unknown";
  }
  return findings[2];
};
var connectionInitMessage = {
  source: "exchange",
  type: "connection-init",
  version: "2.0.3"
};
function _ref6(m2) {
  return window.postMessage(JSON.parse(JSON.stringify(m2)), window.location.origin);
}
var curriedDevtoolsExchange = function(ref) {
  var sendMessage = ref.sendMessage;
  var addMessageListener = ref.addMessageListener;
  function _ref(event) {
    return sendMessage({
      type: "debug-event",
      source: "exchange",
      data: event
    });
  }
  return function(ref2) {
    var client = ref2.client;
    var forward = ref2.forward;
    addMessageListener(function(message) {
      if (message.source !== "devtools" || !(message.type in messageHandlers)) {
        return;
      }
      messageHandlers[message.type]({
        client,
        sendMessage
      })(message);
    });
    client.subscribeToDebugTarget && client.subscribeToDebugTarget(_ref);
    return function(ops$) {
      return pipe(ops$, H(handleOperation({
        client,
        sendMessage
      })), forward, H(handleResult({
        client,
        sendMessage
      })));
    };
  };
};
var handleOperation = function(ref) {
  var sendMessage = ref.sendMessage;
  return function(operation) {
    if (operation.kind === "teardown") {
      var msg$1 = createDebugMessage({
        type: "teardown",
        message: "The operation has been torn down",
        operation,
        data: void 0
      });
      return sendMessage(msg$1);
    }
    var msg = createDebugMessage({
      type: "execution",
      message: "The client has received an execute command.",
      operation,
      data: {
        sourceComponent: getDisplayName()
      }
    });
    return sendMessage(msg);
  };
};
var handleResult = function(ref) {
  var sendMessage = ref.sendMessage;
  return function(ref2) {
    var operation = ref2.operation;
    var data = ref2.data;
    var error = ref2.error;
    if (error) {
      var msg$1 = createDebugMessage({
        type: "error",
        message: "The operation has returned a new error.",
        operation,
        data: {
          value: error
        }
      });
      return sendMessage(msg$1);
    }
    var msg = createDebugMessage({
      type: "update",
      message: "The operation has returned a new response.",
      operation,
      data: {
        value: data
      }
    });
    sendMessage(msg);
  };
};
var messageHandlers = {
  "execute-query": function(ref) {
    var client = ref.client;
    return function(message) {
      var isMutation = /(^|\W)+mutation\W/.test(message.query);
      var op = client.createRequestOperation(isMutation ? "mutation" : "query", {
        key: (x3 = JSON.stringify(message.query), function(h3, x4) {
          h3 |= 0;
          for (var i3 = 0, l3 = 0 | x4.length; i3 < l3; i3++) {
            h3 = (h3 << 5) + h3 + x4.charCodeAt(i3);
          }
          return h3;
        }(5381, x3) >>> 0),
        query: parse(message.query)
      }, {
        meta: {
          source: "Devtools"
        }
      });
      var x3;
      pipe(client.executeRequestOperation(op), take$1(1), toPromise$1);
    };
  },
  "connection-init": function(ref) {
    var sendMessage = ref.sendMessage;
    return function() {
      return sendMessage({
        type: "connection-acknowledge",
        source: "exchange",
        version: "2.0.3"
      });
    };
  }
};
function _ref2(ref) {
  var forward = ref.forward;
  return function(ops$) {
    return pipe(ops$, forward);
  };
}
var devtoolsExchange = function() {
  var isNative = typeof navigator != "undefined" && (navigator === null || navigator === void 0 ? void 0 : navigator.product) === "ReactNative";
  var isSSR = !isNative && typeof window == "undefined";
  if (isSSR) {
    return _ref2;
  }
  if (isNative) {
    return curriedDevtoolsExchange(function() {
      var listeners = [];
      var ws;
      var timeout;
      function _ref() {
        ws.send(JSON.stringify(connectionInitMessage));
      }
      function _ref22() {
        timeout = timeout || setTimeout(createConnection, 500);
      }
      function _ref3() {
        timeout = timeout || setTimeout(createConnection, 500);
      }
      function _ref5(message) {
        try {
          if (!message.data) {
            return;
          }
          listeners.forEach(function _ref4(l3) {
            return l3(JSON.parse(message.data));
          });
        } catch (err) {
          console.warn(err);
        }
      }
      var createConnection = function() {
        timeout = void 0;
        (ws = new WebSocket("ws://localhost:7700")).onopen = _ref;
        ws.onclose = _ref22;
        ws.onerror = _ref3;
        ws.onmessage = _ref5;
      };
      createConnection();
      return {
        addMessageListener: function(cb) {
          listeners = listeners.concat([cb]);
        },
        sendMessage: function(message) {
          ws.readyState === ws.OPEN && ws.send(JSON.stringify(message));
        }
      };
    }());
  }
  return curriedDevtoolsExchange(function() {
    var listeners = [];
    window.addEventListener("message", function(ref) {
      var data = ref.data;
      if (!ref.isTrusted || !(data == null ? void 0 : data.source)) {
        return;
      }
      listeners.forEach(function(cb) {
        return cb(data);
      });
    });
    var sendMessage = _ref6;
    sendMessage(connectionInitMessage);
    return {
      addMessageListener: function(cb) {
        return listeners = listeners.concat([cb]);
      },
      sendMessage
    };
  }());
}();

// node_modules/@urql/exchange-auth/dist/urql-exchange-auth.mjs
function _extends4() {
  return (_extends4 = Object.assign || function(t2) {
    for (var r3 = 1; r3 < arguments.length; r3++) {
      var e = arguments[r3];
      for (var n2 in e) {
        if (Object.prototype.hasOwnProperty.call(e, n2)) {
          t2[n2] = e[n2];
        }
      }
    }
    return t2;
  }).apply(this, arguments);
}
function addAuthAttemptToOperation(t2, r3) {
  return makeOperation(t2.kind, t2, _extends4({}, t2.context, {
    authAttempt: r3
  }));
}
function authExchange(v) {
  var m2 = v.addAuthToOperation;
  var s3 = v.getAuth;
  var l3 = v.didAuthError;
  var k2 = v.willAuthError;
  return function(v2) {
    var x3 = v2.client;
    var y2 = v2.forward;
    var O3 = new Map();
    var S2 = makeSubject$1();
    var w2 = S2.source;
    var g2 = S2.next;
    var E3 = null;
    return function(t2) {
      function mutate(t3, r3, n2) {
        var a4 = x3.createRequestOperation("mutation", createRequest(t3, r3), n2);
        return toPromise$1(take$1(1)(filter$1(function(t4) {
          return t4.operation.key === a4.key;
        })(onStart$1(function() {
          return g2(a4);
        })(j))));
      }
      function updateAuthState(t3) {
        E3 = t3;
        v3 = void 0;
        O3.forEach(g2);
        O3.clear();
      }
      var v3 = Promise.resolve().then(function() {
        return s3({
          authState: E3,
          mutate
        });
      }).then(updateAuthState);
      function refreshAuth(t3) {
        t3 = addAuthAttemptToOperation(t3, true);
        O3.set(t3.key, t3);
        if (!v3) {
          v3 = s3({
            authState: E3,
            mutate
          }).then(updateAuthState).catch(function() {
            return updateAuthState(null);
          });
        }
      }
      var S3 = share$1(t2);
      var T = filter$1(function(t3) {
        return t3.kind === "teardown";
      })(S3);
      var _2 = filter$1(function(t3) {
        return t3.kind !== "teardown";
      })(S3);
      var b3 = map$1(function(t3) {
        return m2({
          operation: t3,
          authState: E3
        });
      })(merge$1([w2, D(function(t3) {
        if (O3.has(t3.key)) {
          return u;
        }
        if (!v3 && k2 && k2({
          operation: t3,
          authState: E3
        })) {
          refreshAuth(t3);
          return u;
        } else if (!v3) {
          return fromValue$1(addAuthAttemptToOperation(t3, false));
        }
        var r3 = filter$1(function(r4) {
          return r4.kind === "teardown" && r4.key === t3.key;
        })(S3);
        return takeUntil$1(r3)(map$1(function() {
          return addAuthAttemptToOperation(t3, false);
        })(fromPromise$1(v3)));
      })(_2)]));
      var j = share$1(y2(merge$1([b3, T])));
      return filter$1(function(t3) {
        var r3 = t3.error;
        var e = t3.operation;
        if (r3 && l3 && l3({
          error: r3,
          authState: E3
        })) {
          if (!e.context.authAttempt) {
            refreshAuth(e);
            return false;
          }
        }
        return true;
      })(j);
    };
  };
}

// node_modules/@urql/exchange-graphcache/dist/5301ccd2.mjs
function _extends5() {
  return (_extends5 = Object.assign || function(t2) {
    for (var e = 1; e < arguments.length; e++) {
      var n2 = arguments[e];
      for (var r3 in n2) {
        if (Object.prototype.hasOwnProperty.call(n2, r3)) {
          t2[r3] = n2[r3];
        }
      }
    }
    return t2;
  }).apply(this, arguments);
}

// node_modules/@urql/exchange-graphcache/dist/urql-exchange-graphcache.mjs
function getName(e) {
  return e.name.value;
}
function getFragmentTypeName(e) {
  return e.typeCondition.name.value;
}
function getFieldAlias(e) {
  return e.alias ? e.alias.value : getName(e);
}
function getSelectionSet(e) {
  return e.selectionSet ? e.selectionSet.selections : [];
}
function getTypeCondition(e) {
  return e.typeCondition ? getName(e.typeCondition) : null;
}
function isFieldNode(e) {
  return e.kind === Kind.FIELD;
}
function isInlineFragment(e) {
  return e.kind === Kind.INLINE_FRAGMENT;
}
function getFieldArguments(e, t2) {
  var r3 = {};
  var i3 = 0;
  if (e.arguments && e.arguments.length) {
    for (var n2 = 0, a4 = e.arguments.length; n2 < a4; n2++) {
      var o2 = e.arguments[n2];
      var s3 = valueFromASTUntyped(o2.value, t2);
      if (s3 != null) {
        r3[getName(o2)] = s3;
        i3++;
      }
    }
  }
  return i3 > 0 ? r3 : null;
}
function filterVariables(e, t2) {
  if (!t2 || !e.variableDefinitions) {
    return;
  }
  var r3 = {};
  for (var i3 = 0, n2 = e.variableDefinitions.length; i3 < n2; i3++) {
    var a4 = getName(e.variableDefinitions[i3].variable);
    r3[a4] = t2[a4];
  }
  return r3;
}
function normalizeVariables(e, t2) {
  var r3 = {};
  if (!t2) {
    return r3;
  }
  if (e.variableDefinitions) {
    for (var i3 = 0, n2 = e.variableDefinitions.length; i3 < n2; i3++) {
      var a4 = e.variableDefinitions[i3];
      var o2 = getName(a4.variable);
      r3[o2] = t2[o2] === void 0 && a4.defaultValue ? valueFromASTUntyped(a4.defaultValue, t2) : t2[o2];
    }
  }
  for (var s3 in t2) {
    if (!(s3 in r3)) {
      r3[s3] = t2[s3];
    }
  }
  return r3;
}
var N2 = "\nhttps://bit.ly/2XbVrpR#";
var k = new Set();
var O2 = [];
function popDebugNode() {
  return O2.pop();
}
function pushDebugNode(e, t2) {
  var r3 = "";
  if (t2.kind === Kind.INLINE_FRAGMENT) {
    r3 = e ? 'Inline Fragment on "' + e + '"' : "Inline Fragment";
  } else if (t2.kind === Kind.OPERATION_DEFINITION) {
    r3 = (t2.name ? '"' + t2.name.value + '"' : "Unnamed") + " " + t2.operation;
  } else if (t2.kind === Kind.FRAGMENT_DEFINITION) {
    r3 = '"' + t2.name.value + '" Fragment';
  }
  if (r3) {
    O2.push(r3);
  }
}
function getDebugOutput() {
  return O2.length ? "\n(Caused At: " + O2.join(", ") + ")" : "";
}
function invariant2(e, t2, r3) {
  if (!e) {
    var i3 = t2 || "Minfied Error #" + r3 + "\n";
    if (true) {
      i3 += getDebugOutput();
    }
    var n2 = new Error(i3 + N2 + r3);
    n2.name = "Graphcache Error";
    throw n2;
  }
}
function warn(e, t2) {
  if (!k.has(e)) {
    console.warn(e + getDebugOutput() + N2 + t2);
    k.add(e);
  }
}
function getMainOperation(e) {
  for (var t2 = 0; t2 < e.definitions.length; t2++) {
    if (e.definitions[t2].kind === Kind.OPERATION_DEFINITION) {
      return e.definitions[t2];
    }
  }
  invariant2(false, true ? "Invalid GraphQL document: All GraphQL documents must contain an OperationDefinitionnode for a query, subscription, or mutation." : "", 1);
}
function getFragments(e) {
  var t2 = {};
  for (var r3 = 0; r3 < e.definitions.length; r3++) {
    var i3 = e.definitions[r3];
    if (i3.kind === Kind.FRAGMENT_DEFINITION) {
      t2[getName(i3)] = i3;
    }
  }
  return t2;
}
function shouldInclude(e, t2) {
  for (var r3 = 0; e.directives && r3 < e.directives.length; r3++) {
    var i3 = e.directives[r3];
    var n2 = getName(i3);
    if ((n2 === "include" || n2 === "skip") && i3.arguments && i3.arguments[0] && getName(i3.arguments[0]) === "if") {
      var a4 = valueFromASTUntyped(i3.arguments[0].value, t2);
      return n2 === "include" ? !!a4 : !a4;
    }
  }
  return true;
}
function isDeferred(e, t2) {
  for (var r3 = 0; e.directives && r3 < e.directives.length; r3++) {
    var i3 = e.directives[r3];
    if (getName(i3) === "defer") {
      for (var n2 = 0; i3.arguments && n2 < i3.arguments.length; n2++) {
        var a4 = i3.arguments[r3];
        if (getName(a4) === "if") {
          return !!valueFromASTUntyped(a4.value, t2);
        }
      }
      return true;
    }
  }
  return false;
}
var _ = /^__/;
function isFieldNullable(e, t2, r3) {
  var i3 = getField(e, t2, r3);
  return !!i3 && i3.type.kind !== "NON_NULL";
}
function isListNullable(e, t2, r3) {
  var i3 = getField(e, t2, r3);
  if (!i3) {
    return false;
  }
  var n2 = i3.type.kind === "NON_NULL" ? i3.type.ofType : i3.type;
  return n2.kind === "LIST" && n2.ofType.kind !== "NON_NULL";
}
function isFieldAvailableOnType(e, t2, r3) {
  return _.test(r3) || _.test(t2) || !!getField(e, t2, r3);
}
function isInterfaceOfType(e, t2, r3) {
  if (!r3) {
    return false;
  }
  var i3 = getTypeCondition(t2);
  if (!i3 || r3 === i3) {
    return true;
  } else if (e.types[i3] && e.types[i3].kind === "OBJECT") {
    return i3 === r3;
  }
  !function expectAbstractType(e2, t3) {
    invariant2(e2.types[t3] && (e2.types[t3].kind === "INTERFACE" || e2.types[t3].kind === "UNION"), true ? "Invalid Abstract type: The type `" + t3 + "` is not an Interface or Union type in the defined schema, but a fragment in the GraphQL document is using it as a type condition." : "", 5);
  }(e, i3);
  expectObjectType(e, r3);
  return e.isSubType(i3, r3);
}
function getField(e, t2, r3) {
  if (_.test(t2) || _.test(r3)) {
    return;
  }
  expectObjectType(e, t2);
  var i3 = e.types[t2].fields[r3];
  if (true) {
    if (!i3) {
      warn("Invalid field: The field `" + r3 + "` does not exist on `" + t2 + "`, but the GraphQL document expects it to exist.\nTraversal will continue, however this may lead to undefined behavior!", 4);
    }
  }
  return i3;
}
function expectObjectType(e, t2) {
  invariant2(e.types[t2] && e.types[t2].kind === "OBJECT", true ? "Invalid Object type: The type `" + t2 + "` is not an object in the defined schema, but the GraphQL document is traversing it." : "", 3);
}
function warnAboutResolver(e) {
  warn("Invalid resolver: `" + e + "` is not in the defined schema, but the `resolvers` option is referencing it.", 23);
}
function keyOfField(t2, r3) {
  return r3 ? t2 + "(" + stringifyVariables(r3) + ")" : t2;
}
function joinKeys(e, t2) {
  return e + "." + t2;
}
function fieldInfoOfKey(e) {
  var t2 = e.indexOf("(");
  if (t2 > -1) {
    return {
      fieldKey: e,
      fieldName: e.slice(0, t2),
      arguments: JSON.parse(e.slice(t2 + 1, -1))
    };
  } else {
    return {
      fieldKey: e,
      fieldName: e,
      arguments: null
    };
  }
}
function deserializeKeyInfo(e) {
  var t2 = e.indexOf(".");
  return {
    entityKey: e.slice(0, t2).replace(/%2e/g, "."),
    fieldKey: e.slice(t2 + 1)
  };
}
function makeDict() {
  return Object.create(null);
}
var E2 = null;
var b2 = null;
var D2 = null;
var w = null;
var F = null;
var S = null;
var L2 = false;
function makeNodeMap() {
  return {
    optimistic: makeDict(),
    base: new Map()
  };
}
function makeData(e) {
  var t2;
  if (e) {
    if (E2.has(e)) {
      return e;
    }
    t2 = b2.get(e) || _extends5({}, e);
    b2.set(e, t2);
  } else {
    t2 = {};
  }
  E2.add(t2);
  return t2;
}
function ownsData(e) {
  return !!e && E2.has(e);
}
function initDataState(e, t2, r3, i3) {
  E2 = new Set();
  b2 = new Map();
  D2 = e;
  w = t2;
  F = makeDict();
  L2 = !!i3;
  if (true) {
    O2.length = 0;
  }
  if (!r3) {
    S = null;
  } else if (i3 || t2.optimisticOrder.length > 0) {
    if (!i3 && !t2.commutativeKeys.has(r3)) {
      reserveLayer(t2, r3);
    } else if (i3) {
      t2.commutativeKeys.delete(r3);
    }
    S = r3;
    !function createLayer(e2, t3) {
      if (e2.optimisticOrder.indexOf(t3) === -1) {
        e2.optimisticOrder.unshift(t3);
      }
      if (!e2.refLock[t3]) {
        e2.refLock[t3] = makeDict();
        e2.links.optimistic[t3] = new Map();
        e2.records.optimistic[t3] = new Map();
      }
    }(t2, r3);
  } else {
    S = null;
    deleteLayer(t2, r3);
  }
}
function clearDataState() {
  if (true) {
    getCurrentDependencies();
  }
  var t2 = w;
  var r3 = S;
  L2 = false;
  S = null;
  if (r3 && t2.optimisticOrder.indexOf(r3) > -1) {
    var i3 = t2.optimisticOrder.length;
    while (--i3 >= 0 && t2.refLock[t2.optimisticOrder[i3]] && t2.commutativeKeys.has(t2.optimisticOrder[i3]) && !t2.deferredKeys.has(t2.optimisticOrder[i3])) {
      squashLayer(t2.optimisticOrder[i3]);
    }
  }
  E2 = null;
  b2 = null;
  D2 = null;
  w = null;
  F = null;
  if (true) {
    O2.length = 0;
  }
  if (!t2.defer) {
    t2.defer = true;
    Promise.resolve().then(function() {
      initDataState("read", t2, null);
      !function gc() {
        w.gc.forEach(function(e, t3, r4) {
          if ((w.refCount[e] || 0) > 0) {
            r4.delete(e);
            return;
          }
          for (var i4 in w.refLock) {
            var n2 = w.refLock[i4];
            if ((n2[e] || 0) > 0) {
              return;
            }
            delete n2[e];
          }
          delete w.refCount[e];
          r4.delete(e);
          w.records.base.delete(e);
          var a4 = w.links.base.get(e);
          if (a4) {
            w.links.base.delete(e);
            for (var o2 in a4) {
              updateRCForLink(r4, w.refCount, a4[o2], -1);
            }
          }
        });
      }();
      !function persistData() {
        if (w.storage) {
          L2 = true;
          D2 = "read";
          var t3 = makeDict();
          w.persist.forEach(function(r4) {
            var i4 = deserializeKeyInfo(r4);
            var n2 = i4.entityKey;
            var a4 = i4.fieldKey;
            var o2;
            if ((o2 = readLink(n2, a4)) !== void 0) {
              t3[r4] = ":" + stringifyVariables(o2);
            } else if ((o2 = readRecord(n2, a4)) !== void 0) {
              t3[r4] = stringifyVariables(o2);
            } else {
              t3[r4] = void 0;
            }
          });
          L2 = false;
          w.storage.writeData(t3);
          w.persist.clear();
        }
      }();
      clearDataState();
      t2.defer = false;
    });
  }
}
function noopDataState(e, t2, r3) {
  if (t2 && !r3) {
    e.deferredKeys.delete(t2);
  }
  initDataState("read", e, t2, r3);
  clearDataState();
}
function getCurrentOperation() {
  invariant2(D2 !== null, true ? "Invalid Cache call: The cache may only be accessed or mutated duringoperations like write or query, or as part of its resolvers, updaters, or optimistic configs." : "", 2);
  return D2;
}
function getCurrentDependencies() {
  invariant2(F !== null, true ? "Invalid Cache call: The cache may only be accessed or mutated duringoperations like write or query, or as part of its resolvers, updaters, or optimistic configs." : "", 2);
  return F;
}
function setNode(e, t2, r3, i3) {
  var n2 = S ? e.optimistic[S] : e.base;
  var a4 = n2.get(t2);
  if (a4 === void 0) {
    n2.set(t2, a4 = makeDict());
  }
  if (i3 === void 0 && !S) {
    delete a4[r3];
  } else {
    a4[r3] = i3;
  }
}
function getNode(e, t2, r3) {
  var i3;
  var n2 = !L2 && D2 === "read" && S && w.commutativeKeys.has(S);
  for (var a4 = 0, o2 = w.optimisticOrder.length; a4 < o2; a4++) {
    var s3 = w.optimisticOrder[a4];
    var u4 = e.optimistic[s3];
    n2 = n2 && s3 !== S;
    if (u4 && (!n2 || !w.commutativeKeys.has(s3)) && (!L2 || D2 === "write" || w.commutativeKeys.has(s3)) && (i3 = u4.get(t2)) !== void 0 && r3 in i3) {
      return i3[r3];
    }
  }
  return (i3 = e.base.get(t2)) !== void 0 ? i3[r3] : void 0;
}
function updateRCForEntity(e, t2, r3, i3) {
  var n2 = t2[r3] !== void 0 ? t2[r3] : 0;
  var a4 = t2[r3] = n2 + i3 | 0;
  if (e !== void 0) {
    if (a4 <= 0) {
      e.add(r3);
    } else if (n2 <= 0 && a4 > 0) {
      e.delete(r3);
    }
  }
}
function updateRCForLink(e, t2, r3, i3) {
  if (typeof r3 == "string") {
    updateRCForEntity(e, t2, r3, i3);
  } else if (Array.isArray(r3)) {
    for (var n2 = 0, a4 = r3.length; n2 < a4; n2++) {
      if (Array.isArray(r3[n2])) {
        updateRCForLink(e, t2, r3[n2], i3);
      } else if (r3[n2]) {
        updateRCForEntity(e, t2, r3[n2], i3);
      }
    }
  }
}
function extractNodeFields(e, t2, r3) {
  if (r3 !== void 0) {
    for (var i3 in r3) {
      if (!t2.has(i3)) {
        e.push(fieldInfoOfKey(i3));
        t2.add(i3);
      }
    }
  }
}
function extractNodeMapFields(e, t2, r3, i3) {
  extractNodeFields(e, t2, i3.base.get(r3));
  for (var n2 = 0, a4 = w.optimisticOrder.length; n2 < a4; n2++) {
    var o2 = i3.optimistic[w.optimisticOrder[n2]];
    if (o2 !== void 0) {
      extractNodeFields(e, t2, o2.get(r3));
    }
  }
}
function updateDependencies(e, t2) {
  if (t2 !== "__typename") {
    if (e !== w.queryRootKey) {
      F[e] = true;
    } else if (t2 !== void 0) {
      F[joinKeys(e, t2)] = true;
    }
  }
}
function updatePersist(e, t2) {
  if (!L2 && w.storage) {
    w.persist.add(function serializeKeys(e2, t3) {
      return e2.replace(/\./g, "%2e") + "." + t3;
    }(e, t2));
  }
}
function readRecord(e, t2) {
  updateDependencies(e, t2);
  return getNode(w.records, e, t2);
}
function readLink(e, t2) {
  updateDependencies(e, t2);
  return getNode(w.links, e, t2);
}
function writeRecord(e, t2, r3) {
  updateDependencies(e, t2);
  updatePersist(e, t2);
  setNode(w.records, e, t2, r3);
}
function writeLink(e, t2, r3) {
  var i3 = w;
  var n2;
  var a4;
  var o2;
  if (S) {
    n2 = i3.refLock[S] || (i3.refLock[S] = makeDict());
    a4 = i3.links.optimistic[S];
  } else {
    n2 = i3.refCount;
    a4 = i3.links.base;
    o2 = i3.gc;
  }
  var s3 = a4 && a4.get(e);
  var u4 = s3 && s3[t2];
  updateDependencies(e, t2);
  updatePersist(e, t2);
  setNode(i3.links, e, t2, r3);
  updateRCForLink(o2, n2, u4, -1);
  updateRCForLink(o2, n2, r3, 1);
}
function reserveLayer(e, t2, r3) {
  var i3 = e.optimisticOrder.indexOf(t2);
  if (i3 === -1) {
    e.optimisticOrder.unshift(t2);
  } else if (!e.commutativeKeys.has(t2)) {
    clearLayer(e, t2);
    e.optimisticOrder.splice(i3, 1);
    e.optimisticOrder.unshift(t2);
  }
  if (r3) {
    e.deferredKeys.add(t2);
  } else {
    e.deferredKeys.delete(t2);
  }
  e.commutativeKeys.add(t2);
}
function clearLayer(e, t2) {
  if (e.refLock[t2]) {
    delete e.refLock[t2];
    delete e.records.optimistic[t2];
    delete e.links.optimistic[t2];
    e.deferredKeys.delete(t2);
  }
}
function deleteLayer(e, t2) {
  var r3 = e.optimisticOrder.indexOf(t2);
  if (r3 > -1) {
    e.optimisticOrder.splice(r3, 1);
    e.commutativeKeys.delete(t2);
  }
  clearLayer(e, t2);
}
function squashLayer(e) {
  var t2 = F;
  F = makeDict();
  var r3 = w.links.optimistic[e];
  if (r3) {
    r3.forEach(function(e2, t3) {
      for (var r4 in e2) {
        writeLink(t3, r4, e2[r4]);
      }
    });
  }
  var i3 = w.records.optimistic[e];
  if (i3) {
    i3.forEach(function(e2, t3) {
      for (var r4 in e2) {
        writeRecord(t3, r4, e2[r4]);
      }
    });
  }
  F = t2;
  deleteLayer(w, e);
}
function inspectFields(e) {
  var t2 = w.links;
  var r3 = w.records;
  var i3 = [];
  var n2 = new Set();
  updateDependencies(e);
  extractNodeMapFields(i3, n2, e, t2);
  extractNodeMapFields(i3, n2, e, r3);
  return i3;
}
var q2 = {
  current: null
};
var I = {
  current: false
};
function getFieldError(e) {
  return e.__internal.path.length > 0 && e.__internal.errorMap ? e.__internal.errorMap[e.__internal.path.join(".")] : void 0;
}
function makeContext(e, t2, r3, i3, n2, a4, o2) {
  var s3 = {
    store: e,
    variables: t2,
    fragments: r3,
    parent: {
      __typename: i3
    },
    parentTypeName: i3,
    parentKey: n2,
    parentFieldKey: "",
    fieldName: "",
    error: void 0,
    partial: false,
    optimistic: !!a4,
    __internal: {
      path: [],
      errorMap: void 0
    }
  };
  if (o2 && o2.graphQLErrors) {
    for (var u4 = 0; u4 < o2.graphQLErrors.length; u4++) {
      var c3 = o2.graphQLErrors[u4];
      if (c3.path && c3.path.length) {
        if (!s3.__internal.errorMap) {
          s3.__internal.errorMap = Object.create(null);
        }
        s3.__internal.errorMap[c3.path.join(".")] = c3;
      }
    }
  }
  return s3;
}
function updateContext(e, t2, r3, i3, n2, a4) {
  q2.current = e;
  e.parent = t2;
  e.parentTypeName = r3;
  e.parentKey = i3;
  e.parentFieldKey = n2;
  e.fieldName = a4;
  e.error = getFieldError(e);
}
function isFragmentHeuristicallyMatching(e, t2, r3, i3) {
  if (!t2) {
    return false;
  }
  var n2 = getTypeCondition(e);
  if (!n2 || t2 === n2) {
    return true;
  }
  warn("Heuristic Fragment Matching: A fragment is trying to match against the `" + t2 + "` type, but the type condition is `" + n2 + "`. Since GraphQL allows for interfaces `" + n2 + "` may be aninterface.\nA schema needs to be defined for this match to be deterministic, otherwise the fragment will be matched heuristically!", 16);
  return !getSelectionSet(e).some(function(e2) {
    if (!isFieldNode(e2)) {
      return false;
    }
    var t3 = keyOfField(getName(e2), getFieldArguments(e2, i3));
    return !function hasField(e3, t4) {
      return readRecord(e3, t4) !== void 0 || readLink(e3, t4) !== void 0;
    }(r3, t3);
  });
}
function makeSelectionIterator(e, t2, r3, i3) {
  var n2 = false;
  var a4;
  var o2 = 0;
  return function next() {
    if (!I.current && n2) {
      I.current = n2;
    }
    if (a4) {
      var s3 = a4();
      if (s3 != null) {
        return s3;
      }
      a4 = void 0;
      n2 = false;
      if (true) {
        popDebugNode();
      }
    }
    while (o2 < r3.length) {
      var u4 = r3[o2++];
      if (!shouldInclude(u4, i3.variables)) {
        continue;
      } else if (!isFieldNode(u4)) {
        var c3 = !isInlineFragment(u4) ? i3.fragments[getName(u4)] : u4;
        if (c3 !== void 0) {
          if (i3.store.schema ? isInterfaceOfType(i3.store.schema, c3, e) : isFragmentHeuristicallyMatching(c3, e, t2, i3.variables)) {
            if (true) {
              pushDebugNode(e, c3);
            }
            n2 = !!isDeferred(u4, i3.variables);
            if (!I.current && n2) {
              I.current = n2;
            }
            return (a4 = makeSelectionIterator(e, t2, getSelectionSet(c3), i3))();
          }
        }
      } else {
        return u4;
      }
    }
  };
}
function ensureData(e) {
  return e == null ? null : e;
}
function ensureLink(e, t2) {
  if (t2 == null) {
    return t2;
  } else if (Array.isArray(t2)) {
    var r3 = new Array(t2.length);
    for (var i3 = 0, n2 = r3.length; i3 < n2; i3++) {
      r3[i3] = ensureLink(e, t2[i3]);
    }
    return r3;
  }
  var a4 = e.keyOfEntity(t2);
  if (true) {
    if (!a4 && t2 && typeof t2 == "object") {
      warn("Can't generate a key for link(...) item.\nYou have to pass an `id` or `_id` field or create a custom `keys` config for `" + t2.__typename + "`.", 12);
    }
  }
  return a4;
}
function write(e, t2, r3, i3, n2) {
  initDataState("write", e.data, n2 || null);
  var a4 = startWrite(e, t2, r3, i3);
  clearDataState();
  return a4;
}
function startWrite(e, t2, r3, i3, n2) {
  var a4 = getMainOperation(t2.query);
  var o2 = {
    data: r3,
    dependencies: getCurrentDependencies()
  };
  var s3 = e.rootFields[a4.operation];
  var u4 = makeContext(e, normalizeVariables(a4, t2.variables), getFragments(t2.query), s3, s3, !!n2, i3);
  if (true) {
    pushDebugNode(s3, a4);
  }
  writeSelection(u4, s3, getSelectionSet(a4), r3);
  if (true) {
    popDebugNode();
  }
  return o2;
}
function writeSelection(e, t2, r3, i3) {
  var n2 = t2 === e.store.rootFields.query;
  var a4 = !n2 && !!e.store.rootNames[t2];
  var o2 = a4 || n2 ? t2 : i3.__typename;
  if (!o2) {
    warn("Couldn't find __typename when writing.\nIf you're writing to the cache manually have to pass a `__typename` property on each entity in your data.", 14);
    return;
  } else if (!a4 && !n2 && t2) {
    writeRecord(t2, "__typename", o2);
  }
  var s3 = makeSelectionIterator(o2, t2 || o2, r3, e);
  var u4;
  while (u4 = s3()) {
    var c3 = getName(u4);
    var l3 = getFieldArguments(u4, e.variables);
    var d2 = keyOfField(c3, l3);
    var f2 = getFieldAlias(u4);
    var p2 = i3[f2];
    if (true) {
      if (!a4 && p2 === void 0 && !I.current) {
        warn("Invalid undefined: The field at `" + d2 + "` is `undefined`, but the GraphQL query expects a " + (u4.selectionSet === void 0 ? "scalar (number, boolean, etc)" : "selection set") + " for this field." + (e.optimistic ? "\nYour optimistic result may be missing a field!" : ""), 13);
        continue;
      } else if (e.store.schema && o2 && c3 !== "__typename") {
        isFieldAvailableOnType(e.store.schema, o2, c3);
      }
    }
    if (c3 === "__typename" || p2 === void 0 && I.current) {
      continue;
    }
    e.__internal.path.push(f2);
    if (e.optimistic && a4) {
      var v = e.store.optimisticMutations[c3];
      if (!v) {
        continue;
      }
      updateContext(e, i3, o2, o2, d2, c3);
      p2 = i3[f2] = ensureData(v(l3 || {}, e.store, e));
    }
    if (u4.selectionSet) {
      if (t2 && !a4) {
        var y2 = joinKeys(t2, d2);
        writeLink(t2 || o2, d2, writeField(e, getSelectionSet(u4), ensureData(p2), y2));
      } else {
        writeField(e, getSelectionSet(u4), ensureData(p2));
      }
    } else if (t2 && !a4) {
      writeRecord(t2 || o2, d2, p2 !== null || !getFieldError(e) ? p2 : void 0);
    }
    if (a4) {
      var m2 = e.store.updates[o2][c3];
      if (m2) {
        updateContext(e, i3, o2, o2, joinKeys(o2, d2), c3);
        i3[c3] = p2;
        m2(i3, l3 || {}, e.store, e);
      }
    }
    e.__internal.path.pop();
  }
}
var x2 = /^__|PageInfo|(Connection|Edge)$/;
function writeField(e, t2, r3, i3) {
  if (Array.isArray(r3)) {
    var n2 = new Array(r3.length);
    for (var a4 = 0, o2 = r3.length; a4 < o2; a4++) {
      e.__internal.path.push(a4);
      var s3 = i3 ? joinKeys(i3, "" + a4) : void 0;
      var u4 = writeField(e, t2, r3[a4], s3);
      n2[a4] = u4;
      e.__internal.path.pop();
    }
    return n2;
  } else if (r3 === null) {
    return getFieldError(e) ? void 0 : null;
  }
  var c3 = e.store.keyOfEntity(r3);
  var l3 = r3.__typename;
  if (true) {
    if (i3 && !e.store.keys[r3.__typename] && c3 === null && typeof l3 == "string" && !x2.test(l3)) {
      warn("Invalid key: The GraphQL query at the field at `" + i3 + "` has a selection set, but no key could be generated for the data at this field.\nYou have to request `id` or `_id` fields for all selection sets or create a custom `keys` config for `" + l3 + "`.\nEntities without keys will be embedded directly on the parent entity. If this is intentional, create a `keys` config for `" + l3 + "` that always returns null.", 15);
    }
  }
  var d2 = c3 || i3;
  writeSelection(e, d2, t2, r3);
  return d2 || null;
}
function Store(e) {
  var t2, r3;
  this.keyOfField = keyOfField;
  this.resolveFieldByKey = this.resolve;
  if (!e) {
    e = {};
  }
  this.resolvers = e.resolvers || {};
  this.optimisticMutations = e.optimistic || {};
  this.keys = e.keys || {};
  var i3 = "Query";
  var n2 = "Mutation";
  var a4 = "Subscription";
  if (e.schema) {
    var o2 = function buildClientSchema(e2) {
      var t3 = e2.__schema;
      var r4 = {};
      function buildNameMap(e3) {
        var t4 = {};
        for (var r5 = 0; r5 < e3.length; r5++) {
          t4[e3[r5].name] = e3[r5];
        }
        return t4;
      }
      function buildType(e3) {
        switch (e3.kind) {
          case "OBJECT":
          case "INTERFACE":
            return {
              name: e3.name,
              kind: e3.kind,
              interfaces: buildNameMap(e3.interfaces || []),
              fields: buildNameMap(e3.fields.map(function(e4) {
                return {
                  name: e4.name,
                  type: e4.type,
                  args: buildNameMap(e4.args)
                };
              }))
            };
          case "UNION":
            return {
              name: e3.name,
              kind: e3.kind,
              types: buildNameMap(e3.possibleTypes || [])
            };
        }
      }
      var i4 = {
        query: t3.queryType ? t3.queryType.name : null,
        mutation: t3.mutationType ? t3.mutationType.name : null,
        subscription: t3.subscriptionType ? t3.subscriptionType.name : null,
        types: void 0,
        isSubType: function isSubType(e3, t4) {
          var i5 = r4[e3];
          var n4 = r4[t4];
          if (!i5 || !n4) {
            return false;
          } else if (i5.kind === "UNION") {
            return !!i5.types[t4];
          } else if (i5.kind !== "OBJECT" && n4.kind === "OBJECT") {
            return !!n4.interfaces[e3];
          } else {
            return e3 === t4;
          }
        }
      };
      if (t3.types) {
        i4.types = r4;
        for (var n3 = 0; n3 < t3.types.length; n3++) {
          var a5 = t3.types[n3];
          if (a5 && a5.name) {
            var o3 = buildType(a5);
            if (o3) {
              r4[a5.name] = o3;
            }
          }
        }
      }
      return i4;
    }(e.schema);
    i3 = o2.query || i3;
    n2 = o2.mutation || n2;
    a4 = o2.subscription || a4;
    if (o2.types) {
      this.schema = o2;
    }
  }
  this.updates = ((t2 = {})[n2] = e.updates && e.updates.Mutation || {}, t2[a4] = e.updates && e.updates.Subscription || {}, t2);
  this.rootFields = {
    query: i3,
    mutation: n2,
    subscription: a4
  };
  this.rootNames = ((r3 = {})[i3] = "query", r3[n2] = "mutation", r3[a4] = "subscription", r3);
  this.data = function make(e2) {
    return {
      defer: false,
      gc: new Set(),
      persist: new Set(),
      queryRootKey: e2,
      refCount: makeDict(),
      refLock: makeDict(),
      links: makeNodeMap(),
      records: makeNodeMap(),
      deferredKeys: new Set(),
      commutativeKeys: new Set(),
      optimisticOrder: [],
      storage: null
    };
  }(i3);
  if (this.schema && true) {
    !function expectValidKeyingConfig(e2, t3) {
      if (true) {
        for (var r4 in t3) {
          if (true) {
            if (!e2.types[r4]) {
              warn("Invalid Object type: The type `" + r4 + "` is not an object in the defined schema, but the `keys` option is referencing it.", 20);
            }
          }
        }
      }
    }(this.schema, this.keys);
    !function expectValidUpdatesConfig(e2, t3) {
      if (false) {
        return;
      }
      if (e2.mutation) {
        var r4 = e2.types[e2.mutation].fields;
        var i4 = t3[e2.mutation] || {};
        for (var n3 in i4) {
          if (true) {
            if (r4[n3] === void 0) {
              warn("Invalid mutation field: `" + n3 + "` is not in the defined schema, but the `updates.Mutation` option is referencing it.", 21);
            }
          }
        }
      }
      if (e2.subscription) {
        var a5 = e2.types[e2.subscription].fields;
        var o3 = t3[e2.subscription] || {};
        for (var s3 in o3) {
          if (true) {
            if (a5[s3] === void 0) {
              warn("Invalid subscription field: `" + s3 + "` is not in the defined schema, but the `updates.Subscription` option is referencing it.", 22);
            }
          }
        }
      }
    }(this.schema, this.updates);
    !function expectValidResolversConfig(e2, t3) {
      if (false) {
        return;
      }
      for (var r4 in t3) {
        if (r4 === "Query") {
          if (e2.query) {
            var i4 = e2.types[e2.query].fields;
            for (var n3 in t3.Query) {
              if (!i4[n3]) {
                warnAboutResolver("Query." + n3);
              }
            }
          } else {
            warnAboutResolver("Query");
          }
        } else if (!e2.types[r4]) {
          warnAboutResolver(r4);
        } else if (e2.types[r4].kind === "INTERFACE" || e2.types[r4].kind === "UNION") {
          s3 = r4, u4 = e2.types[r4].kind, warn("Invalid resolver: `" + s3 + "` does not match to a concrete type in the schema, but the `resolvers` option is referencing it. Implement the resolver for the types that " + (u4 === "UNION" ? "make up the union" : "implement the interface") + " instead.", 26);
        } else {
          var a5 = e2.types[r4].fields;
          for (var o3 in t3[r4]) {
            if (!a5[o3]) {
              warnAboutResolver(r4 + "." + o3);
            }
          }
        }
      }
      var s3, u4;
    }(this.schema, this.resolvers);
    !function expectValidOptimisticMutationsConfig(e2, t3) {
      if (false) {
        return;
      }
      if (e2.mutation) {
        var r4 = e2.types[e2.mutation].fields;
        for (var i4 in t3) {
          if (true) {
            if (!r4[i4]) {
              warn("Invalid optimistic mutation field: `" + i4 + "` is not a mutation field in the defined schema, but the `optimistic` option is referencing it.", 24);
            }
          }
        }
      }
    }(this.schema, this.optimisticMutations);
  }
}
Store.prototype.keyOfEntity = function keyOfEntity(e) {
  if (q2.current && e === q2.current.parent) {
    return q2.current.parentKey;
  }
  if (e == null || typeof e == "string") {
    return e || null;
  }
  if (!e.__typename) {
    return null;
  }
  if (this.rootNames[e.__typename]) {
    return e.__typename;
  }
  var t2;
  if (this.keys[e.__typename]) {
    t2 = this.keys[e.__typename](e);
  } else if (e.id != null) {
    t2 = "" + e.id;
  } else if (e._id != null) {
    t2 = "" + e._id;
  }
  return t2 ? e.__typename + ":" + t2 : null;
};
Store.prototype.resolve = function resolve(e, t2, r3) {
  var i3 = keyOfField(t2, r3);
  var n2 = this.keyOfEntity(e);
  if (!n2) {
    return null;
  }
  var a4 = readRecord(n2, i3);
  if (a4 !== void 0) {
    return a4;
  }
  return readLink(n2, i3) || null;
};
Store.prototype.invalidate = function invalidate(e, t2, r3) {
  var i3 = this.keyOfEntity(e);
  invariant2(i3, true ? "Can't generate a key for invalidate(...).\nYou have to pass an id or _id field or create a custom `keys` field for `" + typeof e == "object" ? e.__typename : e + "`." : "", 19);
  !function invalidateEntity(e2, t3, r4) {
    var i4 = t3 ? [{
      fieldKey: keyOfField(t3, r4)
    }] : inspectFields(e2);
    for (var n2 = 0, a4 = i4.length; n2 < a4; n2++) {
      var o2 = i4[n2].fieldKey;
      if (readLink(e2, o2) !== void 0) {
        writeLink(e2, o2, void 0);
      } else {
        writeRecord(e2, o2, void 0);
      }
    }
  }(i3, t2, r3);
};
Store.prototype.inspectFields = function inspectFields$1(e) {
  var t2 = this.keyOfEntity(e);
  return t2 ? inspectFields(t2) : [];
};
Store.prototype.updateQuery = function updateQuery(e, i3) {
  var n2 = createRequest(e.query, e.variables);
  n2.query = formatDocument(n2.query);
  var a4 = i3(this.readQuery(n2));
  if (a4 !== null) {
    startWrite(this, n2, a4);
  }
};
Store.prototype.readQuery = function readQuery(e) {
  var i3 = createRequest(e.query, e.variables);
  i3.query = formatDocument(i3.query);
  return read(this, i3).data;
};
Store.prototype.readFragment = function readFragment$1(e, t2, i3) {
  return function readFragment(e2, t3, r3, i4) {
    var n2 = getFragments(t3);
    var a4 = Object.keys(n2);
    var o2 = n2[a4[0]];
    if (!o2) {
      warn("readFragment(...) was called with an empty fragment.\nYou have to call it with at least one fragment in your GraphQL document.", 6);
      return null;
    }
    var s3 = getFragmentTypeName(o2);
    if (typeof r3 != "string" && !r3.__typename) {
      r3.__typename = s3;
    }
    var u4 = e2.keyOfEntity(r3);
    if (!u4) {
      warn("Can't generate a key for readFragment(...).\nYou have to pass an `id` or `_id` field or create a custom `keys` config for `" + s3 + "`.", 7);
      return null;
    }
    if (true) {
      pushDebugNode(s3, o2);
    }
    var c3 = readSelection(makeContext(e2, i4 || {}, n2, s3, u4), u4, getSelectionSet(o2), makeData()) || null;
    if (true) {
      popDebugNode();
    }
    return c3;
  }(this, formatDocument(e), t2, i3);
};
Store.prototype.writeFragment = function writeFragment$1(e, t2, i3) {
  !function writeFragment(e2, t3, r3, i4) {
    var n2 = getFragments(t3);
    var a4 = n2[Object.keys(n2)[0]];
    if (!a4) {
      return true ? warn("writeFragment(...) was called with an empty fragment.\nYou have to call it with at least one fragment in your GraphQL document.", 11) : void 0;
    }
    var o2 = getFragmentTypeName(a4);
    var s3 = _extends5({}, {
      __typename: o2
    }, r3);
    var u4 = e2.keyOfEntity(s3);
    if (!u4) {
      return true ? warn("Can't generate a key for writeFragment(...) data.\nYou have to pass an `id` or `_id` field or create a custom `keys` config for `" + o2 + "`.", 12) : void 0;
    }
    if (true) {
      pushDebugNode(o2, a4);
    }
    writeSelection(makeContext(e2, i4 || {}, n2, o2, u4, void 0), u4, getSelectionSet(a4), s3);
    if (true) {
      popDebugNode();
    }
  }(this, formatDocument(e), t2, i3);
};
Store.prototype.link = function link(e, t2, r3, i3) {
  var n2 = i3 !== void 0 ? r3 : null;
  var link2 = i3 !== void 0 ? i3 : r3;
  var a4 = ensureLink(this, e);
  if (typeof a4 == "string") {
    writeLink(a4, keyOfField(t2, n2), ensureLink(this, link2));
  }
};
function query(e, t2, r3, i3, n2) {
  initDataState("read", e.data, n2);
  var a4 = read(e, t2, r3, i3);
  clearDataState();
  return a4;
}
function read(e, t2, r3, i3) {
  var n2 = getMainOperation(t2.query);
  var a4 = e.rootFields[n2.operation];
  var o2 = getSelectionSet(n2);
  var s3 = makeContext(e, normalizeVariables(n2, t2.variables), getFragments(t2.query), a4, a4, false, i3);
  if (true) {
    pushDebugNode(a4, n2);
  }
  if (!r3) {
    r3 = makeData();
  }
  var u4 = a4 !== s3.store.rootFields.query ? readRoot(s3, a4, o2, r3) : readSelection(s3, a4, o2, r3);
  if (true) {
    popDebugNode();
  }
  return {
    dependencies: getCurrentDependencies(),
    partial: s3.partial || !u4,
    data: u4 || null
  };
}
function readRoot(e, t2, r3, i3) {
  if (typeof (e.store.rootNames[t2] ? t2 : i3.__typename) != "string") {
    return i3;
  }
  var n2 = makeSelectionIterator(t2, t2, r3, e);
  var a4;
  var o2 = false;
  var s3 = makeData(i3);
  while (a4 = n2()) {
    var u4 = getFieldAlias(a4);
    var c3 = i3[u4];
    e.__internal.path.push(u4);
    var l3 = void 0;
    if (a4.selectionSet && c3 !== null) {
      l3 = readRootField(e, getSelectionSet(a4), ensureData(c3));
    } else {
      l3 = c3;
    }
    o2 = o2 || l3 !== c3;
    if (l3 !== void 0) {
      s3[u4] = l3;
    }
    e.__internal.path.pop();
  }
  return o2 ? s3 : i3;
}
function readRootField(e, t2, r3) {
  if (Array.isArray(r3)) {
    var i3 = new Array(r3.length);
    var n2 = false;
    for (var a4 = 0, o2 = r3.length; a4 < o2; a4++) {
      e.__internal.path.push(a4);
      i3[a4] = readRootField(e, t2, r3[a4]);
      n2 = n2 || i3[a4] !== r3[a4];
      e.__internal.path.pop();
    }
    return n2 ? i3 : r3;
  } else if (r3 === null) {
    return null;
  }
  var s3 = e.store.keyOfEntity(r3);
  if (s3 !== null) {
    return readSelection(e, s3, t2, r3) || null;
  } else {
    return readRoot(e, r3.__typename, t2, r3);
  }
}
function readSelection(e, t2, r3, i3, n2) {
  var a4 = e.store;
  var o2 = t2 === a4.rootFields.query;
  var s3 = n2 && a4.keyOfEntity(n2) || t2;
  if (true) {
    if (!o2 && e.store.rootNames[s3]) {
      warn("Invalid root traversal: A selection was being read on `" + s3 + "` which is an uncached root type.\nThe `" + e.store.rootFields.mutation + "` and `" + e.store.rootFields.subscription + "` types are special Operation Root Types and cannot be read back from the cache.", 25);
    }
  }
  var u4 = !o2 ? readRecord(s3, "__typename") || n2 && n2.__typename : t2;
  if (typeof u4 != "string") {
    return;
  } else if (n2 && u4 !== n2.__typename) {
    warn("Invalid resolver data: The resolver at `" + s3 + "` returned an invalid typename that could not be reconciled with the cache.", 8);
    return;
  }
  var c3 = makeSelectionIterator(u4, s3, r3, e);
  var l3 = false;
  var d2 = false;
  var f2 = u4 !== i3.__typename;
  var p2;
  var v = makeData(i3);
  while ((p2 = c3()) !== void 0) {
    var y2 = getName(p2);
    var m2 = getFieldArguments(p2, e.variables);
    var h3 = getFieldAlias(p2);
    var g2 = keyOfField(y2, m2);
    var N3 = joinKeys(s3, g2);
    var k2 = readRecord(s3, g2);
    var O3 = n2 ? n2[y2] : void 0;
    var _2 = a4.resolvers[u4];
    if (a4.schema && u4) {
      isFieldAvailableOnType(a4.schema, u4, y2);
    }
    e.__internal.path.push(h3);
    var E3 = void 0;
    if (y2 === "__typename") {
      E3 = u4;
    } else if (O3 !== void 0 && p2.selectionSet === void 0) {
      E3 = O3;
    } else if (getCurrentOperation() === "read" && _2 && typeof _2[y2] == "function") {
      updateContext(e, v, u4, s3, N3, y2);
      if (k2 !== void 0) {
        v[h3] = k2;
      }
      E3 = _2[y2](v, m2 || {}, a4, e);
      if (p2.selectionSet) {
        E3 = resolveResolverResult(e, u4, y2, N3, getSelectionSet(p2), v[h3] !== void 0 ? v[h3] : i3[h3], E3, ownsData(i3));
      }
      if (a4.schema && E3 === null && !isFieldNullable(a4.schema, u4, y2)) {
        return;
      }
    } else if (!p2.selectionSet) {
      E3 = k2;
    } else if (O3 !== void 0) {
      E3 = resolveResolverResult(e, u4, y2, N3, getSelectionSet(p2), v[h3] !== void 0 ? v[h3] : i3[h3], O3, ownsData(i3));
    } else {
      var b3 = readLink(s3, g2);
      if (b3 !== void 0) {
        E3 = resolveLink(e, b3, u4, y2, getSelectionSet(p2), v[h3] !== void 0 ? v[h3] : i3[h3], ownsData(i3));
      } else if (typeof k2 == "object" && k2 !== null) {
        E3 = k2;
      }
    }
    if (E3 === void 0 && I.current) {
      l3 = true;
    } else if (E3 === void 0 && (a4.schema && isFieldNullable(a4.schema, u4, y2) || getFieldError(e))) {
      d2 = true;
      E3 = null;
    } else if (E3 === void 0) {
      e.__internal.path.pop();
      return;
    } else {
      l3 = l3 || y2 !== "__typename";
    }
    e.__internal.path.pop();
    f2 = f2 || E3 !== i3[h3];
    if (E3 !== void 0) {
      v[h3] = E3;
    }
  }
  e.partial = e.partial || d2;
  return o2 && d2 && !l3 ? void 0 : f2 ? v : i3;
}
function resolveResolverResult(e, t2, r3, i3, n2, a4, o2, s3) {
  if (Array.isArray(o2)) {
    var u4 = e.store;
    var c3 = u4.schema ? isListNullable(u4.schema, t2, r3) : false;
    var l3 = new Array(o2.length);
    var d2 = !Array.isArray(a4) || o2.length !== a4.length;
    for (var f2 = 0, p2 = o2.length; f2 < p2; f2++) {
      e.__internal.path.push(f2);
      var v = resolveResolverResult(e, t2, r3, joinKeys(i3, "" + f2), n2, a4 != null ? a4[f2] : void 0, o2[f2], s3);
      e.__internal.path.pop();
      if (v === void 0 && !c3) {
        return;
      } else {
        e.partial = e.partial || c3;
        l3[f2] = v != null ? v : null;
        d2 = d2 || l3[f2] !== a4[f2];
      }
    }
    return d2 ? l3 : a4;
  } else if (o2 == null) {
    return o2;
  } else if (s3 && a4 === null) {
    return null;
  } else if (function isDataOrKey(e2) {
    return typeof e2 == "string" || typeof e2 == "object" && typeof e2.__typename == "string";
  }(o2)) {
    var y2 = a4 || makeData();
    return typeof o2 == "string" ? readSelection(e, o2, n2, y2) : readSelection(e, i3, n2, y2, o2);
  } else {
    warn("Invalid resolver value: The field at `" + i3 + "` is a scalar (number, boolean, etc), but the GraphQL query expects a selection set for this field.", 9);
    return;
  }
}
function resolveLink(e, t2, r3, i3, n2, a4, o2) {
  if (Array.isArray(t2)) {
    var s3 = e.store;
    var u4 = s3.schema ? isListNullable(s3.schema, r3, i3) : false;
    var c3 = new Array(t2.length);
    var l3 = !Array.isArray(a4) || c3.length !== a4.length;
    for (var d2 = 0, f2 = t2.length; d2 < f2; d2++) {
      e.__internal.path.push(d2);
      var p2 = resolveLink(e, t2[d2], r3, i3, n2, a4 != null ? a4[d2] : void 0, o2);
      e.__internal.path.pop();
      if (p2 === void 0 && !u4) {
        return;
      } else {
        e.partial = e.partial || u4;
        c3[d2] = p2 || null;
        l3 = l3 || c3[d2] !== a4[d2];
      }
    }
    return l3 ? c3 : a4;
  } else if (t2 === null || a4 === null && o2) {
    return null;
  }
  return readSelection(e, t2, n2, a4 || makeData());
}
function addCacheOutcome(e, t2) {
  return makeOperation(e.kind, e, _extends5({}, e.context, {
    meta: _extends5({}, e.context.meta, {
      cacheOutcome: t2
    })
  }));
}
function toRequestPolicy(e, t2) {
  return makeOperation(e.kind, e, _extends5({}, e.context, {
    requestPolicy: t2
  }));
}
function cacheExchange2(e) {
  return function(t2) {
    var v = t2.forward;
    var y2 = t2.client;
    var m2 = t2.dispatchDebug;
    var h3 = new Store(e);
    var g2;
    if (e && e.storage) {
      g2 = e.storage.readData().then(function(t3) {
        !function hydrateData(e2, t4, r3) {
          initDataState("write", e2, null);
          for (var i3 in r3) {
            var n2 = r3[i3];
            if (n2 !== void 0) {
              var a4 = deserializeKeyInfo(i3);
              var o2 = a4.entityKey;
              var s3 = a4.fieldKey;
              if (n2[0] === ":") {
                writeLink(o2, s3, JSON.parse(n2.slice(1)));
              } else {
                writeRecord(o2, s3, JSON.parse(n2));
              }
            }
          }
          clearDataState();
          e2.storage = t4;
        }(h3.data, e.storage, t3);
      });
    }
    var N3 = new Map();
    var k2 = [];
    var O3 = new Map();
    var _2 = new Map();
    var E3 = makeDict();
    var b3 = new Set();
    var D3 = makeDict();
    function isBlockedByOptimisticUpdate(e2) {
      for (var t3 in e2) {
        if (E3[t3]) {
          return true;
        }
      }
      return false;
    }
    function collectPendingOperations(e2, t3) {
      if (t3) {
        for (var r3 in t3) {
          var i3 = D3[r3];
          if (i3) {
            D3[r3] = [];
            for (var n2 = 0, a4 = i3.length; n2 < a4; n2++) {
              e2.add(i3[n2]);
            }
          }
        }
      }
    }
    function executePendingOperations(e2, t3) {
      t3.forEach(function(t4) {
        if (t4 !== e2.key) {
          var r3 = O3.get(t4);
          if (r3) {
            O3.delete(t4);
            var i3 = "cache-first";
            if (b3.has(t4)) {
              b3.delete(t4);
              i3 = "cache-and-network";
            }
            y2.reexecuteOperation(toRequestPolicy(r3, i3));
          }
        }
      });
    }
    function prepareForwardedOperation(e2) {
      if (e2.kind === "query") {
        reserveLayer(h3.data, e2.key);
      } else if (e2.kind === "teardown") {
        O3.delete(e2.key);
        _2.delete(e2.key);
        noopDataState(h3.data, e2.key);
      } else if (e2.kind === "mutation" && e2.context.requestPolicy !== "network-only") {
        var t3 = function writeOptimistic(e3, t4, r3) {
          if (true) {
            invariant2(getMainOperation(t4.query).operation === "mutation", true ? "writeOptimistic(...) was called with an operation that is not a mutation.\nThis case is unsupported and should never occur." : "", 10);
          }
          initDataState("write", e3.data, r3, true);
          var i3 = startWrite(e3, t4, {}, void 0, true);
          clearDataState();
          return i3;
        }(h3, e2, e2.key).dependencies;
        if (!function isDictEmpty(e3) {
          for (var t4 in e3) {
            return false;
          }
          return true;
        }(t3)) {
          for (var n2 in t3) {
            E3[n2] = true;
          }
          N3.set(e2.key, t3);
          var a4 = new Set();
          collectPendingOperations(a4, t3);
          executePendingOperations(e2, a4);
        }
      }
      return makeOperation(e2.kind, {
        key: e2.key,
        query: formatDocument(e2.query),
        variables: e2.variables ? filterVariables(getMainOperation(e2.query), e2.variables) : e2.variables
      }, e2.context);
    }
    function updateDependencies2(e2, t3) {
      for (var r3 in t3) {
        (D3[r3] || (D3[r3] = [])).push(e2.key);
        O3.set(e2.key, e2);
      }
    }
    function operationResultFromCache(e2) {
      var t3 = query(h3, e2, _2.get(e2.key));
      var r3 = t3.data ? !t3.partial ? "hit" : "partial" : "miss";
      _2.set(e2.key, t3.data);
      updateDependencies2(e2, t3.dependencies);
      return {
        outcome: r3,
        operation: e2,
        data: t3.data,
        dependencies: t3.dependencies
      };
    }
    function updateCacheWithResult(e2, t3) {
      var r3 = e2.operation;
      var i3 = e2.error;
      var n2 = e2.extensions;
      var a4 = r3.key;
      if (r3.kind === "mutation") {
        collectPendingOperations(t3, N3.get(a4));
        N3.delete(a4);
      }
      reserveLayer(h3.data, r3.key, e2.hasNext);
      var o2;
      var s3 = e2.data;
      if (s3) {
        collectPendingOperations(t3, write(h3, r3, s3, e2.error, a4).dependencies);
        var u4 = query(h3, r3, r3.kind === "query" ? _2.get(r3.key) || s3 : s3, e2.error, a4);
        s3 = u4.data;
        if (r3.kind === "query") {
          collectPendingOperations(t3, o2 = u4.dependencies);
          _2.set(r3.key, e2.data);
        }
      } else {
        noopDataState(h3.data, r3.key);
      }
      if (o2) {
        updateDependencies2(e2.operation, o2);
      }
      return {
        data: s3,
        error: i3,
        extensions: n2,
        operation: r3
      };
    }
    return function(e2) {
      var t3 = share$1(e2);
      var r3 = g2 ? share$1(merge$1([D(p)(buffer$1(fromPromise$1(g2))(t3)), skipUntil$1(fromPromise$1(g2))(t3)])) : t3;
      var i3 = share$1(map$1(operationResultFromCache)(filter$1(function(e3) {
        return e3.kind === "query" && e3.context.requestPolicy !== "network-only";
      })(r3)));
      var O4 = filter$1(function(e3) {
        return e3.kind !== "query" || e3.context.requestPolicy === "network-only";
      })(r3);
      var _3 = map$1(function(e3) {
        m2({
          type: "cacheMiss",
          message: "The result could not be retrieved from the cache",
          operation: e3.operation,
          source: "cacheExchange"
        });
        return addCacheOutcome(e3.operation, "miss");
      })(filter$1(function(e3) {
        return e3.outcome === "miss" && e3.operation.context.requestPolicy !== "cache-only" && !isBlockedByOptimisticUpdate(e3.dependencies);
      })(i3));
      var D4 = map$1(function(e3) {
        var t4 = e3.operation;
        var r4 = e3.outcome;
        var i4 = e3.dependencies;
        var n2 = {
          operation: addCacheOutcome(t4, r4),
          data: e3.data,
          error: e3.error,
          extensions: e3.extensions
        };
        if (t4.context.requestPolicy === "cache-and-network" || t4.context.requestPolicy === "cache-first" && r4 === "partial") {
          n2.stale = true;
          if (!isBlockedByOptimisticUpdate(i4)) {
            y2.reexecuteOperation(toRequestPolicy(t4, "network-only"));
          } else if (t4.context.requestPolicy === "cache-and-network") {
            b3.add(t4.key);
          }
        }
        m2({
          type: "cacheHit",
          message: "A requested operation was found and returned from the cache.",
          operation: e3.operation,
          data: {
            value: n2
          },
          source: "cacheExchange"
        });
        return n2;
      })(filter$1(function(e3) {
        return e3.outcome !== "miss" || e3.operation.context.requestPolicy === "cache-only";
      })(i3));
      var w2 = share$1(v(map$1(prepareForwardedOperation)(merge$1([O4, _3]))));
      var F2 = map$1(function(e3) {
        var t4 = new Set();
        var r4 = updateCacheWithResult(e3, t4);
        executePendingOperations(e3.operation, t4);
        return r4;
      })(filter$1(function(e3) {
        return !N3.has(e3.operation.key);
      })(w2));
      var S2 = D(function(e3) {
        if (k2.push(e3) < N3.size) {
          return u;
        }
        for (var t4 = 0; t4 < k2.length; t4++) {
          reserveLayer(h3.data, k2[t4].operation.key);
        }
        for (var r4 in E3) {
          delete E3[r4];
        }
        var i4 = [];
        var n2 = new Set();
        var a4;
        while (a4 = k2.shift()) {
          i4.push(updateCacheWithResult(a4, n2));
        }
        executePendingOperations(e3.operation, n2);
        return p(i4);
      })(filter$1(function(e3) {
        return N3.has(e3.operation.key);
      })(w2));
      return merge$1([F2, S2, D4]);
    };
  };
}

// src/lib/config/index.tsx
var import_react2 = __toModule(require_react());
var Env = {
  apiUrl: "",
  assetPath: "assets/"
};
var Context = (0, import_react2.createContext)({
  apiUrl: Env.apiUrl,
  assetPath: Env.assetPath
});
function Provider({ config, children }) {
  return /* @__PURE__ */ import_react2.default.createElement(Context.Provider, {
    value: __spreadValues(__spreadValues({}, Env), config)
  }, children);
}
function useConfig() {
  return (0, import_react2.useContext)(Context);
}

// node_modules/tslib/modules/index.js
var import_tslib = __toModule(require_tslib());
var {
  __extends,
  __assign,
  __rest,
  __decorate,
  __param,
  __metadata,
  __awaiter,
  __generator,
  __exportStar,
  __createBinding,
  __values,
  __read,
  __spread,
  __spreadArrays,
  __spreadArray,
  __await,
  __asyncGenerator,
  __asyncDelegator,
  __asyncValues,
  __makeTemplateObject,
  __importStar,
  __importDefault,
  __classPrivateFieldGet,
  __classPrivateFieldSet
} = import_tslib.default;

// node_modules/graphql-tag/lib/index.js
var docCache = new Map();
var fragmentSourceMap = new Map();
var printFragmentWarnings = true;
var experimentalFragmentVariables = false;
function normalize(string) {
  return string.replace(/[\s,]+/g, " ").trim();
}
function cacheKeyFromLoc(loc) {
  return normalize(loc.source.body.substring(loc.start, loc.end));
}
function processFragments(ast) {
  var seenKeys = new Set();
  var definitions = [];
  ast.definitions.forEach(function(fragmentDefinition) {
    if (fragmentDefinition.kind === "FragmentDefinition") {
      var fragmentName = fragmentDefinition.name.value;
      var sourceKey = cacheKeyFromLoc(fragmentDefinition.loc);
      var sourceKeySet = fragmentSourceMap.get(fragmentName);
      if (sourceKeySet && !sourceKeySet.has(sourceKey)) {
        if (printFragmentWarnings) {
          console.warn("Warning: fragment with name " + fragmentName + " already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names");
        }
      } else if (!sourceKeySet) {
        fragmentSourceMap.set(fragmentName, sourceKeySet = new Set());
      }
      sourceKeySet.add(sourceKey);
      if (!seenKeys.has(sourceKey)) {
        seenKeys.add(sourceKey);
        definitions.push(fragmentDefinition);
      }
    } else {
      definitions.push(fragmentDefinition);
    }
  });
  return __assign(__assign({}, ast), { definitions });
}
function stripLoc(doc) {
  var workSet = new Set(doc.definitions);
  workSet.forEach(function(node) {
    if (node.loc)
      delete node.loc;
    Object.keys(node).forEach(function(key) {
      var value = node[key];
      if (value && typeof value === "object") {
        workSet.add(value);
      }
    });
  });
  var loc = doc.loc;
  if (loc) {
    delete loc.startToken;
    delete loc.endToken;
  }
  return doc;
}
function parseDocument(source) {
  var cacheKey = normalize(source);
  if (!docCache.has(cacheKey)) {
    var parsed = parse(source, {
      experimentalFragmentVariables
    });
    if (!parsed || parsed.kind !== "Document") {
      throw new Error("Not a valid GraphQL document.");
    }
    docCache.set(cacheKey, stripLoc(processFragments(parsed)));
  }
  return docCache.get(cacheKey);
}
function gql(literals) {
  var args = [];
  for (var _i = 1; _i < arguments.length; _i++) {
    args[_i - 1] = arguments[_i];
  }
  if (typeof literals === "string") {
    literals = [literals];
  }
  var result = literals[0];
  args.forEach(function(arg, i3) {
    if (arg && arg.kind === "Document") {
      result += arg.loc.source.body;
    } else {
      result += arg;
    }
    result += literals[i3 + 1];
  });
  return parseDocument(result);
}
function resetCaches() {
  docCache.clear();
  fragmentSourceMap.clear();
}
function disableFragmentWarnings() {
  printFragmentWarnings = false;
}
function enableExperimentalFragmentVariables() {
  experimentalFragmentVariables = true;
}
function disableExperimentalFragmentVariables() {
  experimentalFragmentVariables = false;
}
var extras = {
  gql,
  resetCaches,
  disableFragmentWarnings,
  enableExperimentalFragmentVariables,
  disableExperimentalFragmentVariables
};
(function(gql_1) {
  gql_1.gql = extras.gql, gql_1.resetCaches = extras.resetCaches, gql_1.disableFragmentWarnings = extras.disableFragmentWarnings, gql_1.enableExperimentalFragmentVariables = extras.enableExperimentalFragmentVariables, gql_1.disableExperimentalFragmentVariables = extras.disableExperimentalFragmentVariables;
})(gql || (gql = {}));
gql["default"] = gql;
var lib_default = gql;

// src/lib/storage/index.ts
var prefix = "aiera:sdk";
var local = {
  put(key, value) {
    return __async(this, null, function* () {
      localStorage.setItem(`${prefix}:${key}`, value);
      return Promise.resolve();
    });
  },
  get(key) {
    return __async(this, null, function* () {
      return Promise.resolve(localStorage.getItem(`${prefix}:${key}`) || null);
    });
  },
  del(key) {
    return __async(this, null, function* () {
      localStorage.removeItem(`${prefix}:${key}`);
      return Promise.resolve();
    });
  }
};

// src/api/auth.ts
function createTokenAuthConfig(store = local) {
  const authConfig = {
    readAuth: () => __async(this, null, function* () {
      const accessToken = yield store.get("auth:accessToken");
      const refreshToken = yield store.get("auth:refreshToken");
      if (accessToken && refreshToken) {
        return Promise.resolve({ accessToken, refreshToken });
      }
      return Promise.resolve(null);
    }),
    writeAuth: (authState) => __async(this, null, function* () {
      yield store.put("auth:accessToken", authState.accessToken);
      yield store.put("auth:refreshToken", authState.refreshToken);
      return Promise.resolve();
    }),
    clearAuth: () => __async(this, null, function* () {
      yield store.del("auth:accessToken");
      yield store.del("auth:refreshToken");
      return Promise.resolve();
    }),
    getAuth: (_0) => __async(this, [_0], function* ({ authState, mutate }) {
      var _a;
      if (!authState) {
        return authConfig.readAuth();
      }
      const result = yield mutate(lib_default`
                    mutation Refresh {
                        __typename
                        refresh {
                            __typename
                            accessToken
                            refreshToken
                        }
                    }
                `);
      if ((_a = result.data) == null ? void 0 : _a.refresh) {
        yield authConfig.writeAuth(result.data.refresh);
        return result.data.refresh;
      }
      return null;
    }),
    addAuthToOperation: ({ authState, operation }) => {
      var _a;
      if (!authState || !authState.accessToken) {
        return operation;
      }
      const fetchOptions = typeof operation.context.fetchOptions === "function" ? operation.context.fetchOptions() : operation.context.fetchOptions || {};
      let isRefresh = false;
      const definition = operation.query.definitions[0];
      if (operation.kind === "mutation" && (definition == null ? void 0 : definition.kind) === "OperationDefinition") {
        isRefresh = ((_a = definition.name) == null ? void 0 : _a.value) === "Refresh";
      }
      return makeOperation(operation.kind, operation, __spreadProps(__spreadValues({}, operation.context), {
        fetchOptions: __spreadProps(__spreadValues({}, fetchOptions), {
          headers: __spreadProps(__spreadValues({}, fetchOptions.headers), {
            Authorization: `Bearer ${isRefresh ? authState.refreshToken : authState.accessToken}`
          })
        })
      }));
    },
    didAuthError: ({ error }) => {
      var _a;
      if ((_a = error == null ? void 0 : error.graphQLErrors) == null ? void 0 : _a.some((e) => {
        var _a2;
        return ((_a2 = e.extensions) == null ? void 0 : _a2.code) === "UNAUTHORIZED";
      })) {
        return true;
      } else if (error.response) {
        const resp = error.response;
        return resp.status === 401;
      }
      return false;
    }
  };
  return authConfig;
}
var defaultTokenAuthConfig = createTokenAuthConfig();

// src/api/client.tsx
function getQueryNames(doc) {
  return doc.definitions.map((definition) => {
    var _a;
    const name = definition.kind === "OperationDefinition" ? (_a = definition.name) == null ? void 0 : _a.value : "";
    return name || "";
  }).filter((n2) => n2);
}
var opNameExchange = ({ forward }) => {
  return (ops$) => pipe(ops$, map$1((op) => {
    let url;
    try {
      const parsedUrl = new window.URL(op.context.url);
      const params = parsedUrl.searchParams;
      params.set("ops", getQueryNames(op.query).join(","));
      parsedUrl.search = params.toString();
      url = parsedUrl.toString();
    } catch (e) {
      url = op.context.url;
    }
    return makeOperation(op.kind, op, __spreadProps(__spreadValues({}, op.context), {
      url
    }));
  }), forward);
};
function createGQLClient({ url, fetch: fetch2, auth = defaultTokenAuthConfig }) {
  const exchanges = [
    devtoolsExchange,
    opNameExchange,
    cacheExchange2(),
    auth ? authExchange(auth) : null,
    fetchExchange
  ].filter((t2) => t2);
  return z({
    url,
    fetch: fetch2,
    exchanges
  });
}
var Context2 = (0, import_react3.createContext)({ reset: () => void 0 });
var Provider2 = ({
  config = {},
  children
}) => {
  const appConfig = useConfig();
  const clientConfig = __spreadProps(__spreadValues({}, config), { url: config.url || appConfig.apiUrl });
  const [client, setClient] = (0, import_react3.useState)(createGQLClient(clientConfig));
  const reset = () => setClient(createGQLClient(clientConfig));
  return /* @__PURE__ */ import_react3.default.createElement(Context2.Provider, {
    value: { reset }
  }, /* @__PURE__ */ import_react3.default.createElement(h2, {
    value: client
  }, children));
};
var useClient2 = () => {
  const client = useClient();
  const { reset } = (0, import_react3.useContext)(Context2);
  return { client, reset };
};
var ResetProvider = Context2.Provider;
function useQuery2(args) {
  const { isEmpty } = args;
  const [state, refetch] = useQuery(args);
  return (0, import_react3.useMemo)(() => {
    if (state.fetching) {
      return { status: "loading", state, refetch };
    }
    if (state.error) {
      return { status: "error", state, error: state.error, refetch };
    }
    if (args.pause) {
      return { status: "paused", state, refetch };
    }
    if (isEmpty && state.data && isEmpty(state.data)) {
      return { status: "empty", state, data: state.data, refetch };
    }
    return { status: "success", state, data: state.data, refetch };
  }, [state, refetch]);
}

// src/lib/msg/index.tsx
var import_react4 = __toModule(require_react());
var import_eventemitter3 = __toModule(require_eventemitter3());
var MessageBus = class {
  constructor() {
    this.emitter = new import_eventemitter3.default();
  }
  on(event, listener, direction) {
    const directions = direction === "both" ? ["in", "out"] : [direction];
    directions.forEach((dir) => {
      this.emitter.on(`${dir}-${event}`, listener);
    });
    return this;
  }
  off(event, listener, direction) {
    const directions = direction === "both" ? ["in", "out"] : [direction];
    directions.forEach((dir) => {
      this.emitter.off(`${dir}-${event}`, listener);
    });
    return this;
  }
  emit(event, data, direction) {
    return this.emitter.emit(`${direction}-${event}`, { data, direction });
  }
  removeAllListeners() {
    this.emitter.removeAllListeners();
    return this;
  }
};
var Context3 = (0, import_react4.createContext)({ bus: new MessageBus() });
var Provider3 = ({ bus, children }) => {
  return /* @__PURE__ */ import_react4.default.createElement(Context3.Provider, {
    value: { bus }
  }, children);
};
var useMessageBus = () => {
  const { bus } = (0, import_react4.useContext)(Context3);
  return bus;
};
function useMessageListener(type, listener, direction) {
  const bus = useMessageBus();
  (0, import_react4.useEffect)(() => {
    const wrappedListener = (msg) => {
      void listener(msg);
    };
    bus.on(type, wrappedListener, direction);
    return () => {
      bus.off(type, wrappedListener, direction);
    };
  }, []);
  return bus;
}

// src/modules/Auth/index.tsx
var import_react5 = __toModule(require_react());
var AuthUI = (props) => {
  const { children, user, loading, authForm, setAuthForm, login, logout, showLogout } = props;
  if (loading) {
    return /* @__PURE__ */ import_react5.default.createElement("div", null, "Loading...");
  }
  if (!user) {
    return /* @__PURE__ */ import_react5.default.createElement("div", {
      className: "flex flex-col items-center justify-center bg-white h-full"
    }, /* @__PURE__ */ import_react5.default.createElement("h2", null, "Aiera"), /* @__PURE__ */ import_react5.default.createElement("form", {
      className: "flex flex-col items-center justify-center",
      action: "#",
      onSubmit: login
    }, /* @__PURE__ */ import_react5.default.createElement("div", {
      className: "m-3"
    }, /* @__PURE__ */ import_react5.default.createElement("label", {
      className: "inline-block w-24 text-right mr-4",
      htmlFor: "email"
    }, "Email"), /* @__PURE__ */ import_react5.default.createElement("input", {
      id: "email",
      className: "rounded border border-gray-400",
      type: "text",
      "data-testid": "auth-email",
      value: authForm.email,
      onChange: (e) => setAuthForm(__spreadProps(__spreadValues({}, authForm), { email: e.target.value }))
    })), /* @__PURE__ */ import_react5.default.createElement("div", {
      className: "mb-4"
    }, /* @__PURE__ */ import_react5.default.createElement("label", {
      className: "inline-block w-24 text-right mr-4",
      htmlFor: "password"
    }, "Password"), /* @__PURE__ */ import_react5.default.createElement("input", {
      id: "password",
      className: "border border-gray-400 rounded",
      type: "password",
      "data-testid": "auth-password",
      value: authForm.password,
      onChange: (e) => setAuthForm(__spreadProps(__spreadValues({}, authForm), { password: e.target.value }))
    })), /* @__PURE__ */ import_react5.default.createElement("button", {
      className: "px-1 ml-2 text-white bg-blue-500 rounded",
      type: "submit"
    }, "Login")));
  }
  return /* @__PURE__ */ import_react5.default.createElement("div", {
    className: "h-full"
  }, (showLogout || !children) && /* @__PURE__ */ import_react5.default.createElement("div", {
    className: "h-6"
  }, "Logged in as ", user.firstName, " ", user.lastName, /* @__PURE__ */ import_react5.default.createElement("button", {
    className: "px-1 ml-2 text-white bg-blue-500 rounded",
    onClick: logout
  }, "Logout")), children && /* @__PURE__ */ import_react5.default.createElement("div", {
    className: "h-full pb-6"
  }, children));
};
var Auth = ({
  children,
  config = defaultTokenAuthConfig,
  showLogout = false
}) => {
  var _a;
  const initialAuthform = { email: "", password: "" };
  const [authForm, setAuthForm] = (0, import_react5.useState)(initialAuthform);
  const [result, refetch] = useQuery({
    query: lib_default`
            query CurrentUser {
                currentUser {
                    id
                    firstName
                    lastName
                }
            }
        `
  });
  const [_2, loginMutation] = useMutation(lib_default`
        mutation Login($email: String!, $password: String!) {
            login(email: $email, password: $password) {
                accessToken
                refreshToken
            }
        }
    `);
  const { reset } = useClient2();
  const login = (event) => __async(void 0, null, function* () {
    event.preventDefault();
    return loginMutation(authForm).then((resp) => __async(void 0, null, function* () {
      var _a2;
      if ((_a2 = resp.data) == null ? void 0 : _a2.login) {
        yield config.writeAuth(resp.data.login);
        refetch({ requestPolicy: "cache-and-network" });
      }
    }));
  });
  const logout = () => __async(void 0, null, function* () {
    yield config.clearAuth();
    setAuthForm(initialAuthform);
    reset();
  });
  return /* @__PURE__ */ import_react5.default.createElement(AuthUI, {
    user: (_a = result.data) == null ? void 0 : _a.currentUser,
    loading: result.fetching,
    error: result.error,
    authForm,
    setAuthForm,
    login,
    logout,
    showLogout
  }, children);
};

// src/modules/EventList/index.tsx
var import_react49 = __toModule(require_react());
var import_ts_pattern8 = __toModule(require_lib());
var import_luxon3 = __toModule(require_luxon());

// src/types/generated.ts
var BillingSource;
(function(BillingSource2) {
  BillingSource2["Manual"] = "manual";
  BillingSource2["StripeLive"] = "stripe_live";
  BillingSource2["StripeTest"] = "stripe_test";
})(BillingSource || (BillingSource = {}));
var CompanyOwnership;
(function(CompanyOwnership2) {
  CompanyOwnership2["Private"] = "private";
  CompanyOwnership2["Public"] = "public";
})(CompanyOwnership || (CompanyOwnership = {}));
var CompanyUrlType;
(function(CompanyUrlType2) {
  CompanyUrlType2["Home"] = "home";
  CompanyUrlType2["IrEvents"] = "ir_events";
  CompanyUrlType2["IrHome"] = "ir_home";
  CompanyUrlType2["IrNews"] = "ir_news";
  CompanyUrlType2["LogoIcon"] = "logo_icon";
})(CompanyUrlType || (CompanyUrlType = {}));
var EventConnectionStatus;
(function(EventConnectionStatus2) {
  EventConnectionStatus2["Connected"] = "connected";
  EventConnectionStatus2["ConnectionExpected"] = "connection_expected";
  EventConnectionStatus2["ConnectionNotExpected"] = "connection_not_expected";
  EventConnectionStatus2["Missed"] = "missed";
  EventConnectionStatus2["Transcribed"] = "transcribed";
  EventConnectionStatus2["Transcribing"] = "transcribing";
  EventConnectionStatus2["WaitingToConnect"] = "waiting_to_connect";
})(EventConnectionStatus || (EventConnectionStatus = {}));
var EventTranscriptSectionType;
(function(EventTranscriptSectionType2) {
  EventTranscriptSectionType2["Presentation"] = "presentation";
  EventTranscriptSectionType2["QAndA"] = "q_and_a";
  EventTranscriptSectionType2["Unknown"] = "unknown";
})(EventTranscriptSectionType || (EventTranscriptSectionType = {}));
var EventType;
(function(EventType2) {
  EventType2["Custom"] = "custom";
  EventType2["Earnings"] = "earnings";
  EventType2["EarningsRelease"] = "earnings_release";
  EventType2["InvestorMeeting"] = "investor_meeting";
  EventType2["Presentation"] = "presentation";
  EventType2["ShareholderMeeting"] = "shareholder_meeting";
  EventType2["SpecialSituation"] = "special_situation";
  EventType2["Test"] = "test";
})(EventType || (EventType = {}));
var EventView;
(function(EventView2) {
  EventView2["LiveAndUpcoming"] = "live_and_upcoming";
  EventView2["Recent"] = "recent";
})(EventView || (EventView = {}));
var ExchangePriceDelay;
(function(ExchangePriceDelay2) {
  ExchangePriceDelay2["Eod"] = "eod";
  ExchangePriceDelay2["FifteenMinute"] = "fifteen_minute";
})(ExchangePriceDelay || (ExchangePriceDelay = {}));
var IdentifierResolutionUniverse;
(function(IdentifierResolutionUniverse2) {
  IdentifierResolutionUniverse2["Default"] = "default";
  IdentifierResolutionUniverse2["UsOnly"] = "us_only";
})(IdentifierResolutionUniverse || (IdentifierResolutionUniverse = {}));
var IdentifierType;
(function(IdentifierType2) {
  IdentifierType2["Unknown"] = "unknown";
})(IdentifierType || (IdentifierType = {}));
var PasswordStatus;
(function(PasswordStatus2) {
  PasswordStatus2["Generated"] = "generated";
  PasswordStatus2["User"] = "user";
})(PasswordStatus || (PasswordStatus = {}));
var SpacStatus;
(function(SpacStatus2) {
  SpacStatus2["Ipo"] = "ipo";
  SpacStatus2["Merged"] = "merged";
  SpacStatus2["None"] = "none";
  SpacStatus2["TargetAnnounced"] = "target_announced";
  SpacStatus2["TargetRumored"] = "target_rumored";
})(SpacStatus || (SpacStatus = {}));
var UserStatus;
(function(UserStatus2) {
  UserStatus2["Active"] = "active";
  UserStatus2["Deactivated"] = "deactivated";
  UserStatus2["Duplicate"] = "duplicate";
  UserStatus2["Invited"] = "invited";
  UserStatus2["New"] = "new";
  UserStatus2["Verified"] = "verified";
})(UserStatus || (UserStatus = {}));
var RefreshDocument = lib_default`
    mutation Refresh {
  __typename
  refresh {
    __typename
    accessToken
    refreshToken
  }
}
    `;
var CompanyFilterDocument = lib_default`
    query CompanyFilter($searchTerm: String) {
  companies(filter: {searchTerm: $searchTerm}) {
    id
    commonName
    instruments {
      id
      isPrimary
      quotes {
        id
        isPrimary
        localTicker
        exchange {
          id
          shortName
          country {
            id
            countryCode
          }
        }
      }
    }
  }
}
    `;
var CompanyResolutionDocument = lib_default`
    query CompanyResolution($identifier: String!) {
  companies(
    filter: {resolution: {identifier: $identifier, identifierType: unknown}}
  ) {
    id
    commonName
    instruments {
      id
      isPrimary
      quotes {
        id
        isPrimary
        localTicker
        exchange {
          id
          shortName
          country {
            id
            countryCode
          }
        }
      }
    }
  }
}
    `;
var TrackDocument = lib_default`
    mutation Track($event: String!, $properties: GenericObjectScalar!) {
  track(event: $event, properties: $properties) {
    success
  }
}
    `;
var CurrentUserDocument = lib_default`
    query CurrentUser {
  currentUser {
    id
    firstName
    lastName
  }
}
    `;
var LoginDocument = lib_default`
    mutation Login($email: String!, $password: String!) {
  login(email: $email, password: $password) {
    accessToken
    refreshToken
  }
}
    `;
var EventListDocument = lib_default`
    query EventList($filter: EventFilter, $view: EventView) {
  events(filter: $filter, view: $view) {
    id
    title
    eventDate
    eventType
    isLive
    audioRecordingUrl
    audioRecordingOffsetMs
    primaryCompany {
      id
      commonName
      instruments {
        id
        isPrimary
        quotes {
          id
          isPrimary
          localTicker
          exchange {
            id
            shortName
            country {
              id
              countryCode
            }
          }
        }
      }
    }
  }
}
    `;
var EventUpdatesDocument = lib_default`
    query EventUpdates($eventId: ID!) {
  events(filter: {eventIds: [$eventId]}) {
    id
    eventDate
    hasConnectionDetails
    isLive
    audioRecordingUrl
    audioRecordingOffsetMs
    publishedTranscriptExpected
    hasTranscript
    hasPublishedTranscript
    connectionStatus
  }
}
    `;
var TranscriptDocument = lib_default`
    query Transcript($eventId: ID!) {
  events(filter: {eventIds: [$eventId]}) {
    id
    title
    eventDate
    eventType
    hasConnectionDetails
    isLive
    audioRecordingUrl
    audioRecordingOffsetMs
    publishedTranscriptExpected
    hasTranscript
    hasPublishedTranscript
    webcastUrls
    dialInPhoneNumbers
    dialInPin
    connectionStatus
    primaryCompany {
      id
      commonName
      instruments {
        id
        isPrimary
        quotes {
          id
          isPrimary
          localTicker
          exchange {
            id
            shortName
            country {
              id
              countryCode
            }
          }
        }
      }
    }
    transcripts {
      id
      sections {
        id
        speakerTurns {
          id
          speaker {
            id
            name
            title
          }
          paragraphs {
            id
            timestamp
            syncMs
            sentences {
              id
              text
            }
          }
        }
      }
    }
  }
}
    `;
var LatestParagraphsDocument = lib_default`
    query LatestParagraphs($eventId: ID!) {
  events(filter: {eventIds: [$eventId]}) {
    id
    transcripts {
      id
      latestParagraphs {
        id
        timestamp
        syncMs
        sentences {
          id
          text
        }
      }
    }
  }
}
    `;

// src/lib/strings/index.ts
function prettyLineBreak(line) {
  const centerIndex = line.length / 9 * 5;
  const start = line.slice(0, centerIndex);
  const end = line.slice(centerIndex).replace(/ /g, "\xA0");
  return start + end;
}

// src/lib/data/index.ts
var import_react6 = __toModule(require_react());
function sortByPrimary(a4, b3) {
  return Number(b3.isPrimary) - Number(a4.isPrimary);
}
function getPrimaryQuote(company) {
  var _a;
  const quotes = (_a = company == null ? void 0 : company.instruments) == null ? void 0 : _a.sort(sortByPrimary).flatMap((instrument) => instrument.quotes).sort(sortByPrimary);
  const primaryQuote = quotes == null ? void 0 : quotes.find((quote) => quote.exchange.country.countryCode === "US");
  return primaryQuote || (quotes == null ? void 0 : quotes[0]);
}
function useCompanyResolver() {
  const client = useClient();
  return (0, import_react6.useCallback)((identifier) => __async(this, null, function* () {
    var _a;
    const result = yield client.query(lib_default`
                        query CompanyResolution($identifier: String!) {
                            companies(filter: { resolution: { identifier: $identifier, identifierType: unknown } }) {
                                id
                                commonName
                                instruments {
                                    id
                                    isPrimary
                                    quotes {
                                        id
                                        isPrimary
                                        localTicker
                                        exchange {
                                            id
                                            shortName
                                            country {
                                                id
                                                countryCode
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    `, { identifier }).toPromise();
    return (_a = result == null ? void 0 : result.data) == null ? void 0 : _a.companies;
  }), [client]);
}
function useTrack() {
  const client = useClient();
  const config = useConfig();
  const track = (0, import_react6.useCallback)((event, object, properties) => __async(this, null, function* () {
    yield client.mutation(lib_default`
                        mutation Track($event: String!, $properties: GenericObjectScalar!) {
                            track(event: $event, properties: $properties) {
                                success
                            }
                        }
                    `, {
      event: `${event} | ${object}`,
      properties: __spreadValues({
        moduleName: config.moduleName,
        platform: config.platform
      }, properties)
    }).toPromise();
  }), [client]);
  return track;
}
function useAutoTrack(event, object, properties, deps = [], skip = false) {
  const track = useTrack();
  (0, import_react6.useEffect)(() => {
    if (!skip) {
      void track(event, object, properties);
    }
  }, [track, event, object, skip, ...deps]);
}

// src/lib/hooks/useChangeHandlers/index.ts
var import_react7 = __toModule(require_react());
function useChangeHandlers(initialState) {
  const [state, setState] = (0, import_react7.useState)(initialState);
  const handlers = {};
  const mergeState = (0, import_react7.useCallback)((newState) => setState((prevState) => {
    if (typeof newState === "function") {
      return __spreadValues(__spreadValues({}, prevState), newState(prevState));
    }
    return __spreadValues(__spreadValues({}, prevState), newState);
  }), [setState]);
  for (const key in state) {
    handlers[key] = (0, import_react7.useCallback)((_2, change) => mergeState({ [key]: change.value }), [state]);
  }
  return {
    state,
    setState,
    mergeState,
    handlers
  };
}

// src/lib/hooks/useInterval/index.ts
var import_react8 = __toModule(require_react());
function useInterval(callback, interval) {
  const savedCallback = (0, import_react8.useRef)(callback);
  (0, import_react8.useEffect)(() => {
    savedCallback.current = callback;
  }, [callback]);
  (0, import_react8.useEffect)(() => {
    if (interval === null) {
      return;
    }
    const id = window.setInterval(() => savedCallback.current(), interval);
    return () => window.clearInterval(id);
  }, [interval]);
}

// src/components/CompanyFilterButton/index.tsx
var import_react15 = __toModule(require_react());
var import_ts_pattern3 = __toModule(require_lib());
var import_classnames3 = __toModule(require_classnames());

// src/components/Tooltip/index.tsx
var import_react11 = __toModule(require_react());
var import_ts_pattern = __toModule(require_lib());

// src/lib/hooks/useDelayCallback/index.ts
var import_react9 = __toModule(require_react());
function useDelayCallback(callback, delay = 0, deps = void 0, existing = "cancel") {
  const ref = (0, import_react9.useRef)(null);
  (0, import_react9.useEffect)(() => {
    return () => {
      if (ref.current) {
        window.clearTimeout(ref.current);
      }
    };
  }, []);
  const cancel = (0, import_react9.useCallback)(() => {
    if (ref.current) {
      window.clearTimeout(ref.current);
      ref.current = null;
    }
  }, []);
  return [
    (0, import_react9.useCallback)((...args) => {
      if (ref.current && existing === "cancel") {
        window.clearTimeout(ref.current);
        ref.current = null;
      }
      if (!ref.current)
        ref.current = window.setTimeout(() => callback(...args), delay);
    }, deps ? deps.concat(delay) : [callback, delay, existing]),
    cancel
  ];
}

// src/lib/hooks/useOutsideClickHandler/index.ts
var import_react10 = __toModule(require_react());
function useOutsideClickHandler(refs, outsideClickHandler) {
  return (0, import_react10.useEffect)(() => {
    const handler = (event) => {
      if ((event == null ? void 0 : event.target) instanceof Node) {
        const isInside = refs.some((ref) => {
          var _a;
          return (_a = ref.current) == null ? void 0 : _a.contains(event == null ? void 0 : event.target);
        });
        if (!isInside) {
          outsideClickHandler(event);
        }
      }
    };
    document.addEventListener("mousedown", handler);
    return () => {
      document.removeEventListener("mousedown", handler);
    };
  }, [...refs, outsideClickHandler]);
}

// src/components/Tooltip/index.tsx
function TooltipUI(props) {
  const {
    children,
    className = "",
    content,
    hideTooltip,
    modal,
    onTargetClick,
    onTargetMouseEnter,
    onTargetMouseLeave,
    position,
    showTooltip,
    targetRef,
    tooltipRef,
    visible
  } = props;
  const { top, left, bottom, right, width } = position || {};
  let target = children;
  if (typeof target === "function") {
    const render = children;
    target = render({ hideTooltip, showTooltip });
  }
  return /* @__PURE__ */ import_react11.default.createElement(import_react11.default.Fragment, null, modal && visible && /* @__PURE__ */ import_react11.default.createElement("div", {
    className: "fixed z-10 top-0 left-0 right-0 bottom-0 bg-gray-900 opacity-10 tooltip__modal"
  }), /* @__PURE__ */ import_react11.default.createElement("div", {
    className: `tooltip ${className}`,
    onClick: onTargetClick,
    onMouseEnter: onTargetMouseEnter,
    onMouseLeave: onTargetMouseLeave,
    ref: targetRef
  }, target, visible && /* @__PURE__ */ import_react11.default.createElement("div", {
    className: "fixed z-20 tooltip__content",
    style: { top, left, bottom, right, width },
    ref: tooltipRef
  }, typeof content === "function" ? content({ hideTooltip, showTooltip }) : content)));
}
function getTooltipPosition({
  anchor,
  event,
  grow = "down-right",
  matchWidth = false,
  position,
  xOffset = 0,
  yOffset = 0
}) {
  const anchorType = (0, import_ts_pattern.match)(grow).with("down-right", () => ({
    y: "top",
    x: "left"
  })).with("up-right", () => ({
    y: "bottom",
    x: "left"
  })).with("down-left", () => ({
    y: "top",
    x: "right"
  })).with("up-left", () => ({
    y: "bottom",
    x: "right"
  })).exhaustive();
  let anchorPoint;
  let width;
  if (anchor && position) {
    const rect = anchor.getBoundingClientRect();
    if (matchWidth) {
      width = rect.width;
    }
    anchorPoint = (0, import_ts_pattern.match)(position).with("top-left", () => ({
      y: anchorType.y === "top" ? rect.top : window.innerHeight - rect.top,
      x: anchorType.x === "left" ? rect.left : window.innerWidth - rect.left
    })).with("bottom-left", () => ({
      y: anchorType.y === "top" ? rect.bottom : window.innerHeight - rect.bottom,
      x: anchorType.x === "left" ? rect.left : window.innerWidth - rect.left
    })).with("top-right", () => ({
      y: anchorType.y === "top" ? rect.top : window.innerHeight - rect.top,
      x: anchorType.x === "left" ? rect.right : window.innerWidth - rect.right
    })).with("bottom-right", () => ({
      y: anchorType.y === "top" ? rect.bottom : window.innerHeight - rect.bottom,
      x: anchorType.x === "left" ? rect.right : window.innerWidth - rect.right
    })).exhaustive();
  } else {
    const y2 = (event == null ? void 0 : event.clientY) || 0;
    const x3 = (event == null ? void 0 : event.clientX) || 0;
    anchorPoint = {
      y: anchorType.y === "top" ? y2 : window.innerHeight - y2,
      x: anchorType.x === "left" ? x3 : window.innerWidth - x3
    };
  }
  return {
    width,
    [anchorType.x]: anchorPoint.x + xOffset,
    [anchorType.y]: anchorPoint.y + yOffset
  };
}
function Tooltip(props) {
  const {
    children,
    className,
    closeDelay = 0,
    content,
    grow = "down-right",
    hideOnDocumentScroll = false,
    matchWidth,
    modal = false,
    openDelay = 0,
    openOn = "hover",
    position,
    xOffset = 0,
    yOffset = 0
  } = props;
  let { closeOn } = props;
  if (closeOn === void 0) {
    closeOn = openOn;
  }
  const tooltipRef = (0, import_react11.useRef)(null);
  const targetRef = (0, import_react11.useRef)(null);
  const [state, setState] = (0, import_react11.useState)({ visible: false });
  const [delayedShowTooltip, cancelShow] = useDelayCallback((position2) => {
    setState((s3) => __spreadProps(__spreadValues({}, s3), { position: position2, visible: true }));
  }, openDelay);
  const [delayedHideTooltip, cancelHide] = useDelayCallback(() => {
    setState((s3) => __spreadProps(__spreadValues({}, s3), { visible: false }));
  }, closeDelay);
  const showTooltip = (0, import_react11.useCallback)((event) => {
    if (!event || event.type === "mouseenter" && openOn === "hover" || event.type === "click" && openOn === "click") {
      cancelHide();
      delayedShowTooltip(getTooltipPosition({
        anchor: targetRef == null ? void 0 : targetRef.current,
        event,
        grow,
        matchWidth,
        position,
        xOffset,
        yOffset
      }));
    }
  }, [cancelHide, delayedShowTooltip, openOn, matchWidth, position, grow, targetRef == null ? void 0 : targetRef.current, xOffset, yOffset]);
  const hideTooltip = (0, import_react11.useCallback)((event) => {
    if (!event || event.type === "mouseleave" && closeOn === "hover" || event.type === "click" && closeOn === "click") {
      cancelShow();
      delayedHideTooltip();
    }
  }, [cancelShow, delayedHideTooltip, closeOn]);
  useOutsideClickHandler([tooltipRef, targetRef], (0, import_react11.useCallback)(() => {
    if (closeOn && ["hover", "click"].includes(closeOn)) {
      hideTooltip();
    }
  }, [closeOn, hideTooltip]));
  (0, import_react11.useEffect)(() => {
    if (hideOnDocumentScroll) {
      document.addEventListener("scroll", delayedHideTooltip, true);
    }
    return () => document.removeEventListener("scroll", delayedHideTooltip, true);
  }, [delayedHideTooltip, hideOnDocumentScroll]);
  return /* @__PURE__ */ import_react11.default.createElement(TooltipUI, {
    className,
    content,
    targetRef,
    hideTooltip,
    modal,
    onTargetClick: showTooltip,
    onTargetMouseEnter: showTooltip,
    onTargetMouseLeave: hideTooltip,
    position: state.position,
    showTooltip,
    tooltipRef,
    visible: state.visible
  }, children);
}

// src/components/Button/index.tsx
var import_react12 = __toModule(require_react());
var import_ts_pattern2 = __toModule(require_lib());
function ButtonUI(props) {
  const { children, onClick, className = "", kind = "default" } = props;
  const buttonStyle = (0, import_ts_pattern2.match)(kind).with("primary", () => "bg-blue-600 hover:bg-blue-700 active:bg-blue-800 active:text-white").with("secondary", () => "border-[1px] border-gray-300 hover:border-gray-400 active:bg-gray-400 active:text-white").with("default", () => "bg-gray-200 hover:bg-gray-300 active:bg-gray-400 active:text-white").exhaustive();
  return /* @__PURE__ */ import_react12.default.createElement("button", {
    className: `group flex h-8 items-center px-2.5 font-semibold  rounded-lg leading-3 text-base ${buttonStyle} ${className}`,
    onClick
  }, children);
}
function Button(props) {
  const { children, onClick, className, kind } = props;
  return /* @__PURE__ */ import_react12.default.createElement(ButtonUI, {
    onClick,
    kind,
    className
  }, children);
}

// src/components/Svg/Building.tsx
var import_react13 = __toModule(require_react());
var import_classnames = __toModule(require_classnames());
function Building({ className, alt = "Building" }) {
  return /* @__PURE__ */ import_react13.default.createElement("svg", {
    className: (0, import_classnames.default)(className, "fill-current", "Svg", "Svg__building"),
    width: "14",
    height: "16",
    viewBox: "0 0 14 16",
    fill: "black",
    xmlns: "http://www.w3.org/2000/svg"
  }, /* @__PURE__ */ import_react13.default.createElement("title", null, alt), /* @__PURE__ */ import_react13.default.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M1 2C1 1.46957 1.21071 0.960859 1.58579 0.585786C1.96086 0.210714 2.46957 0 3 0H11C11.5304 0 12.0391 0.210714 12.4142 0.585786C12.7893 0.960859 13 1.46957 13 2V14C13.2652 14 13.5196 14.1054 13.7071 14.2929C13.8946 14.4804 14 14.7348 14 15C14 15.2652 13.8946 15.5196 13.7071 15.7071C13.5196 15.8946 13.2652 16 13 16H10C9.73478 16 9.48043 15.8946 9.29289 15.7071C9.10536 15.5196 9 15.2652 9 15V13C9 12.7348 8.89464 12.4804 8.70711 12.2929C8.51957 12.1054 8.26522 12 8 12H6C5.73478 12 5.48043 12.1054 5.29289 12.2929C5.10536 12.4804 5 12.7348 5 13V15C5 15.2652 4.89464 15.5196 4.70711 15.7071C4.51957 15.8946 4.26522 16 4 16H1C0.734784 16 0.48043 15.8946 0.292893 15.7071C0.105357 15.5196 0 15.2652 0 15C0 14.7348 0.105357 14.4804 0.292893 14.2929C0.48043 14.1054 0.734784 14 1 14V2ZM4 3H6V5H4V3ZM6 7H4V9H6V7ZM8 3H10V5H8V3ZM10 7H8V9H10V7Z"
  }));
}

// src/components/Svg/Close.tsx
var import_react14 = __toModule(require_react());
var import_classnames2 = __toModule(require_classnames());
function Close({ className, alt = "Close" }) {
  return /* @__PURE__ */ import_react14.default.createElement("svg", {
    className: (0, import_classnames2.default)(className, "fill-current", "Svg", "Svg__close"),
    width: "100%",
    viewBox: "0 0 16 16",
    xmlns: "http://www.w3.org/2000/svg"
  }, /* @__PURE__ */ import_react14.default.createElement("title", null, alt), /* @__PURE__ */ import_react14.default.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M8 16C10.1217 16 12.1566 15.1571 13.6569 13.6569C15.1571 12.1566 16 10.1217 16 8C16 5.87827 15.1571 3.84344 13.6569 2.34315C12.1566 0.842855 10.1217 0 8 0C5.87827 0 3.84344 0.842855 2.34315 2.34315C0.842855 3.84344 0 5.87827 0 8C0 10.1217 0.842855 12.1566 2.34315 13.6569C3.84344 15.1571 5.87827 16 8 16ZM6.707 5.293C6.5184 5.11084 6.2658 5.01005 6.0036 5.01233C5.7414 5.0146 5.49059 5.11977 5.30518 5.30518C5.11977 5.49059 5.0146 5.7414 5.01233 6.0036C5.01005 6.2658 5.11084 6.5184 5.293 6.707L6.586 8L5.293 9.293C5.19749 9.38525 5.12131 9.49559 5.0689 9.6176C5.01649 9.7396 4.9889 9.87082 4.98775 10.0036C4.9866 10.1364 5.0119 10.2681 5.06218 10.391C5.11246 10.5139 5.18671 10.6255 5.2806 10.7194C5.3745 10.8133 5.48615 10.8875 5.60905 10.9378C5.73194 10.9881 5.86362 11.0134 5.9964 11.0123C6.12918 11.0111 6.2604 10.9835 6.3824 10.9311C6.50441 10.8787 6.61475 10.8025 6.707 10.707L8 9.414L9.293 10.707C9.4816 10.8892 9.7342 10.99 9.9964 10.9877C10.2586 10.9854 10.5094 10.8802 10.6948 10.6948C10.8802 10.5094 10.9854 10.2586 10.9877 9.9964C10.99 9.7342 10.8892 9.4816 10.707 9.293L9.414 8L10.707 6.707C10.8892 6.5184 10.99 6.2658 10.9877 6.0036C10.9854 5.7414 10.8802 5.49059 10.6948 5.30518C10.5094 5.11977 10.2586 5.0146 9.9964 5.01233C9.7342 5.01005 9.4816 5.11084 9.293 5.293L8 6.586L6.707 5.293Z"
  }));
}

// src/components/CompanyFilterButton/index.tsx
function TooltipContent(props) {
  const { companiesQuery, hideTooltip, onChange, onSearchChange } = props;
  const wrapMsg = (msg) => /* @__PURE__ */ import_react15.default.createElement("div", {
    className: "flex flex-1 items-center justify-center text-gray-600 mb-5"
  }, msg);
  return /* @__PURE__ */ import_react15.default.createElement("div", {
    className: "shadow-md bg-white rounded-lg w-72 overflow-hidden"
  }, /* @__PURE__ */ import_react15.default.createElement("div", {
    className: "p-3 w-full"
  }, /* @__PURE__ */ import_react15.default.createElement("input", {
    autoFocus: true,
    className: "p-2 w-full text-sm rounded-md border border-gray-200",
    placeholder: "Search...",
    onChange: onSearchChange
  })), /* @__PURE__ */ import_react15.default.createElement("div", {
    className: "flex flex-col max-h-52 min-h-[80px] overflow-y-scroll"
  }, (0, import_ts_pattern3.match)(companiesQuery).with({ status: "loading" }, () => wrapMsg("Loading...")).with({ status: "paused" }, () => wrapMsg("Type to search...")).with({ status: "error" }, () => wrapMsg("There was an error searching.")).with({ status: "empty" }, () => wrapMsg("No results.")).with({ status: "success" }, ({ data: { companies } }) => /* @__PURE__ */ import_react15.default.createElement("div", {
    className: "flex-1"
  }, companies.map((company) => {
    var _a;
    const primaryQuote = getPrimaryQuote(company);
    return /* @__PURE__ */ import_react15.default.createElement("div", {
      className: "flex items-center h-10 odd:bg-gray-100 text-gray-900 tracking-wide cursor-pointer",
      key: company.id,
      onClick: (event) => {
        event.stopPropagation();
        onChange == null ? void 0 : onChange(event, { value: company });
        hideTooltip == null ? void 0 : hideTooltip();
      }
    }, /* @__PURE__ */ import_react15.default.createElement("div", {
      className: "pl-4 truncate flex-1 text-md"
    }, company.commonName), /* @__PURE__ */ import_react15.default.createElement("div", {
      className: "w-20 pl-3 truncate font-semibold text-right text-sm"
    }, primaryQuote == null ? void 0 : primaryQuote.localTicker), /* @__PURE__ */ import_react15.default.createElement("div", {
      className: "w-20 pl-3 pr-4 truncate text-gray-300 text-sm"
    }, (_a = primaryQuote == null ? void 0 : primaryQuote.exchange) == null ? void 0 : _a.shortName));
  }))).exhaustive()));
}
function CompanyFilterButtonUI(props) {
  var _a;
  const { onChange, value } = props;
  return /* @__PURE__ */ import_react15.default.createElement("div", null, /* @__PURE__ */ import_react15.default.createElement(Tooltip, {
    content: ({ hideTooltip }) => /* @__PURE__ */ import_react15.default.createElement(TooltipContent, __spreadValues({
      hideTooltip
    }, props)),
    grow: "down-left",
    modal: true,
    openOn: "click",
    position: "bottom-right",
    yOffset: 5
  }, /* @__PURE__ */ import_react15.default.createElement(Button, {
    className: (0, import_classnames3.default)("max-w-[130px]"),
    kind: value ? "default" : "secondary",
    onClick: value ? (event) => {
      event.stopPropagation();
      onChange == null ? void 0 : onChange(event, { value: null });
    } : void 0
  }, !value && /* @__PURE__ */ import_react15.default.createElement("div", {
    className: "flex items-center whitespace-nowrap text-sm font-normal"
  }, /* @__PURE__ */ import_react15.default.createElement(Building, {
    alt: "building",
    className: "mr-2"
  }), "By Company"), value && /* @__PURE__ */ import_react15.default.createElement(import_react15.default.Fragment, null, /* @__PURE__ */ import_react15.default.createElement("div", {
    className: "text-black font-bold"
  }, (_a = getPrimaryQuote(value)) == null ? void 0 : _a.localTicker), /* @__PURE__ */ import_react15.default.createElement("div", {
    className: "text-black font-light truncate mx-2"
  }, value.commonName), /* @__PURE__ */ import_react15.default.createElement("div", {
    className: "w-4 text-black flex-shrink-0"
  }, /* @__PURE__ */ import_react15.default.createElement(Close, null))))));
}
function CompanyFilterButton(props) {
  const { onChange, value } = props;
  const [searchTerm, setSearchTerm] = (0, import_react15.useState)("");
  const companiesQuery = useQuery2({
    isEmpty: ({ companies }) => companies.length === 0,
    query: lib_default`
            query CompanyFilter($searchTerm: String) {
                companies(filter: { searchTerm: $searchTerm }) {
                    id
                    commonName
                    instruments {
                        id
                        isPrimary
                        quotes {
                            id
                            isPrimary
                            localTicker
                            exchange {
                                id
                                shortName
                                country {
                                    id
                                    countryCode
                                }
                            }
                        }
                    }
                }
            }
        `,
    variables: {
      searchTerm
    },
    pause: !searchTerm
  });
  const onSearchChange = (0, import_react15.useCallback)((event) => {
    setSearchTerm(event.currentTarget.value);
  }, []);
  return /* @__PURE__ */ import_react15.default.createElement(CompanyFilterButtonUI, {
    companiesQuery,
    onChange,
    onSearchChange,
    value
  });
}

// src/modules/Transcript/index.tsx
var import_react44 = __toModule(require_react());
var import_classnames27 = __toModule(require_classnames());
var import_ts_pattern6 = __toModule(require_lib());
var import_luxon2 = __toModule(require_luxon());
var import_highlight_words_core = __toModule(require_dist());

// src/lib/audio/index.tsx
var import_react16 = __toModule(require_react());
var import_dashjs = __toModule(require_dash_all_debug());
var AudioPlayer = class {
  constructor() {
    this.offset = 0;
    this.usingDash = false;
    this.updateTargetLatency = () => {
      var _a, _b;
      const settings = this.dash.getSettings();
      const currentDelay = ((_b = (_a = settings.streaming) == null ? void 0 : _a.delay) == null ? void 0 : _b.liveDelay) || 1.5;
      if (this.playing(null)) {
        const newTarget = Math.min(currentDelay * 1.5, 6);
        this.dash.updateSettings({
          streaming: {
            delay: { liveDelay: newTarget }
          }
        });
      }
    };
    this.triggerUpdate = () => {
      this.audio.dispatchEvent(new Event("update"));
    };
    this.setVolume = (volume) => {
      if (volume >= 0 && volume <= 1) {
        this.audio.volume = volume;
      }
    };
    this.errorInfo = {
      lastPosition: 0,
      error: false
    };
    this.audio = new Audio();
    this.dash = (0, import_dashjs.MediaPlayer)().create();
    this.dash.updateSettings({
      streaming: {
        lowLatencyEnabled: true,
        delay: {
          liveDelay: 1.5
        },
        liveCatchup: {
          enabled: true,
          playbackBufferMin: 0.5,
          mode: "liveCatchupModeLoLP",
          minDrift: 0.05,
          playbackRate: 0.2,
          latencyThreshold: 30
        }
      }
    });
    this.dash.on(import_dashjs.MediaPlayer.events.FRAGMENT_LOADING_PROGRESS, this.triggerUpdate);
    this.dash.on(window.dashjs.MediaPlayer.events.BUFFER_EMPTY, this.updateTargetLatency);
    this.dash.on(window.dashjs.MediaPlayer.events.PLAYBACK_WAITING, this.updateTargetLatency);
  }
  init(opts) {
    if (opts && (this.id !== opts.id || this.audio.src !== opts.url)) {
      const { id, url } = opts;
      this.id = id;
      if (url !== this.url) {
        if (this.usingDash) {
          this.dash.reset();
          this.usingDash = false;
        }
        this.url = url;
        this.audio.src = url;
      }
      this.offset = opts.offset;
      this.triggerUpdate();
    }
    if (opts && opts.offset !== this.offset) {
      this.offset = opts.offset;
    }
    if (opts == null ? void 0 : opts.metaData)
      this.metaData = opts == null ? void 0 : opts.metaData;
  }
  clear() {
    delete this.id;
    delete this.url;
    window.clearTimeout(this.errorInfo.timeout);
    delete this.errorInfo.timeout;
    this.metaData = {};
    this.errorInfo.error = false;
    this.errorInfo.lastPosition = 0;
    if (this.usingDash) {
      this.dash.reset();
      this.usingDash = false;
    }
    this.audio.src = "";
    this.triggerUpdate();
  }
  play(opts) {
    return __async(this, null, function* () {
      this.init(opts);
      if (this.rawCurrentTime === 0)
        this.rawSeek(this.offset);
      this.errorInfo.error = false;
      this.errorInfo.lastPosition = this.rawCurrentTime;
      this.errorInfo.timeout = window.setTimeout(() => {
        if (this.rawCurrentTime === this.errorInfo.lastPosition) {
          this.errorInfo.error = true;
          this.triggerUpdate();
        }
      }, 2e3);
      try {
        return yield this.audio.play();
      } catch (e) {
        this.dash.initialize(this.audio, this.url);
        this.dash.updateSettings({
          streaming: {
            delay: { liveDelay: 1.5 }
          }
        });
        this.usingDash = true;
        this.dash.play();
      }
    });
  }
  pause() {
    window.clearTimeout(this.errorInfo.timeout);
    this.audio.pause();
  }
  displaySeek(position) {
    this.audio.currentTime = position + this.offset;
  }
  seekToEnd() {
    this.audio.currentTime = this.rawDuration;
  }
  seekToStart() {
    this.audio.currentTime = this.offset;
  }
  rawSeek(position) {
    this.audio.currentTime = position;
  }
  ff(distance) {
    this.rawSeek(Math.min(this.rawCurrentTime + distance, this.rawDuration));
  }
  rewind(distance) {
    this.rawSeek(Math.max(this.rawCurrentTime - distance, this.offset));
  }
  setRate(rate) {
    this.audio.playbackRate = rate;
    if (this.usingDash) {
      this.dash.setPlaybackRate(rate);
      this.dash.updateSettings({ streaming: { liveCatchup: { playbackRate: Math.max(rate - 1, 0.2) } } });
    }
    this.triggerUpdate();
  }
  togglePlaybackRate() {
    if (this.audio.playbackRate < 1) {
      this.setRate(1);
    } else if (this.audio.playbackRate >= 1 && this.audio.playbackRate < 1.25) {
      this.setRate(1.25);
    } else if (this.audio.playbackRate >= 1.25 && this.audio.playbackRate < 1.5) {
      this.setRate(1.5);
    } else if (this.audio.playbackRate >= 1.5 && this.audio.playbackRate < 1.75) {
      this.setRate(1.75);
    } else if (this.audio.playbackRate >= 1.75 && this.audio.playbackRate < 2) {
      this.setRate(2);
    } else {
      this.setRate(1);
    }
  }
  playing(id) {
    if (!id) {
      return !!(this.id && this.audio.duration > 0 && !this.audio.paused);
    }
    return id === this.id && this.audio.duration > 0 && !this.audio.paused;
  }
  get rawDuration() {
    return (this.usingDash ? this.dash.duration() : this.audio.duration) || 0;
  }
  get rawCurrentTime() {
    return this.audio.currentTime || 0;
  }
  get playbackRate() {
    return this.audio.playbackRate;
  }
  get volume() {
    return this.audio.volume;
  }
  get eventMetaData() {
    return this.metaData || {};
  }
  get displayDuration() {
    return Math.max(0, this.rawDuration - this.offset);
  }
  get displayCurrentTime() {
    return Math.max(0, this.rawCurrentTime - this.offset);
  }
  get error() {
    return this.errorInfo.error;
  }
};
var AudioPlayerContext = (0, import_react16.createContext)(new AudioPlayer());
function useAudioPlayer(withUpdates = true) {
  const audioPlayer = (0, import_react16.useContext)(AudioPlayerContext);
  const [_2, update] = (0, import_react16.useState)(null);
  (0, import_react16.useEffect)(() => {
    function onUpdate() {
      update({});
    }
    if (withUpdates) {
      audioPlayer.audio.addEventListener("timeupdate", onUpdate);
      audioPlayer.audio.addEventListener("update", onUpdate);
      return () => {
        audioPlayer.audio.removeEventListener("timeupdate", onUpdate);
        audioPlayer.audio.removeEventListener("update", onUpdate);
      };
    }
    return;
  }, [withUpdates]);
  return audioPlayer;
}

// src/lib/hooks/useAutoScroll/index.ts
var import_react17 = __toModule(require_react());
function useAutoScroll(opts) {
  const {
    skip = false,
    pauseOnUserScroll = true,
    initialBehavior = "auto",
    behavior = "smooth",
    block: block2 = "nearest",
    inline = "nearest"
  } = opts || {};
  const [element, setElement] = (0, import_react17.useState)(null);
  const [target, setTarget] = (0, import_react17.useState)(null);
  const pauseAutoScroll = (0, import_react17.useRef)(false);
  const initialScroll = (0, import_react17.useRef)(true);
  (0, import_react17.useLayoutEffect)(() => {
    var _a;
    function checkPosition() {
      if (target && element && !skip && pauseOnUserScroll) {
        const targetPosition = target.getBoundingClientRect();
        const containerPosition = element.getBoundingClientRect();
        if (targetPosition.top <= containerPosition.top) {
          pauseAutoScroll.current = containerPosition.top - targetPosition.top > targetPosition.height;
        } else {
          pauseAutoScroll.current = targetPosition.bottom - containerPosition.bottom > targetPosition.height;
        }
      }
    }
    if (!skip && !pauseAutoScroll.current && element) {
      (_a = target == null ? void 0 : target.scrollIntoView) == null ? void 0 : _a.call(target, {
        behavior: initialScroll.current ? initialBehavior : behavior,
        block: block2,
        inline
      });
      initialScroll.current = false;
    }
    if (!target) {
      initialScroll.current = true;
    }
    checkPosition();
    if (element && pauseOnUserScroll) {
      element.addEventListener("scroll", checkPosition);
    }
    return () => element == null ? void 0 : element.removeEventListener("scroll", checkPosition);
  }, [element, target, skip, pauseOnUserScroll, initialBehavior, behavior, block2, inline]);
  return [setElement, setTarget];
}

// src/components/Svg/Chevron.tsx
var import_react18 = __toModule(require_react());
var import_classnames4 = __toModule(require_classnames());
function Chevron({ className, alt = "Chevron" }) {
  return /* @__PURE__ */ import_react18.default.createElement("svg", {
    className: (0, import_classnames4.default)(className, "fill-current", "Svg", "Svg__chevron"),
    width: "100%",
    viewBox: "0 0 8 5",
    xmlns: "http://www.w3.org/2000/svg"
  }, /* @__PURE__ */ import_react18.default.createElement("title", null, alt), /* @__PURE__ */ import_react18.default.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M0.292893 0.292893C0.683417 -0.0976311 1.31658 -0.0976311 1.70711 0.292893L4 2.58579L6.29289 0.292893C6.68342 -0.0976311 7.31658 -0.0976311 7.70711 0.292893C8.09763 0.683417 8.09763 1.31658 7.70711 1.70711L4.70711 4.70711C4.31658 5.09763 3.68342 5.09763 3.29289 4.70711L0.292893 1.70711C-0.0976311 1.31658 -0.0976311 0.683417 0.292893 0.292893Z"
  }));
}

// src/components/Playbar/index.tsx
var import_react30 = __toModule(require_react());
var import_classnames14 = __toModule(require_classnames());

// src/lib/hooks/useDrag/index.ts
var import_react19 = __toModule(require_react());
function useDrag(dragOpts) {
  const { dragTarget, onDragStart, onDragEnd } = dragOpts;
  const [isDragging, setIsDragging] = (0, import_react19.useState)(false);
  const [initialPos, setPosition] = (0, import_react19.useState)({ x: 0, y: 0 });
  const [movePos, setMovement] = (0, import_react19.useState)({ x: 0, y: 0 });
  (0, import_react19.useEffect)(() => {
    function onMouseDown(event) {
      onDragStart == null ? void 0 : onDragStart(event, setPosition);
      setIsDragging(true);
    }
    function onMouseMove(event) {
      if (isDragging) {
        setMovement((prevMovement) => ({
          x: prevMovement.x + event.movementX,
          y: prevMovement.y + event.movementY
        }));
      }
    }
    function onMouseUp(event) {
      if (isDragging) {
        onDragEnd == null ? void 0 : onDragEnd(event);
        setIsDragging(false);
        setPosition({ x: 0, y: 0 });
        setMovement({ x: 0, y: 0 });
      }
    }
    if (dragTarget.current) {
      dragTarget.current.addEventListener("mousedown", onMouseDown);
      document.addEventListener("mousemove", onMouseMove);
      document.addEventListener("mouseup", onMouseUp);
    }
    return () => {
      if (dragTarget.current) {
        dragTarget.current.removeEventListener("mousedown", onMouseDown);
        document.removeEventListener("mousemove", onMouseMove);
        document.removeEventListener("mouseup", onMouseUp);
      }
    };
  }, [dragTarget.current, isDragging]);
  return [isDragging, initialPos.x + movePos.x, initialPos.y + movePos.y];
}

// src/lib/hooks/useWindowSize/index.ts
var import_react20 = __toModule(require_react());
function useWindowSize() {
  const [size, setSize] = (0, import_react20.useState)({
    height: window.innerHeight,
    width: window.innerWidth
  });
  const onResize = () => setSize({
    height: window.innerHeight,
    width: window.innerWidth
  });
  (0, import_react20.useLayoutEffect)(() => {
    window.addEventListener("resize", onResize);
    return () => window.removeEventListener("resize", onResize);
  }, []);
  return size;
}

// src/components/Svg/Back15.tsx
var import_react21 = __toModule(require_react());
var import_classnames5 = __toModule(require_classnames());
function Back15({ className, alt = "Back15" }) {
  return /* @__PURE__ */ import_react21.default.createElement("svg", {
    className: (0, import_classnames5.default)(className, "fill-current", "Svg", "Svg__back15"),
    width: "100%",
    viewBox: "0 0 16 16",
    xmlns: "http://www.w3.org/2000/svg"
  }, /* @__PURE__ */ import_react21.default.createElement("title", null, alt), /* @__PURE__ */ import_react21.default.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M0 1.2C0 1.0976 0.0395875 0.995588 0.117188 0.917188C0.273187 0.761187 0.526812 0.761187 0.682813 0.917188L2.24063 2.475C3.69594 0.956018 5.73481 0 8 0C12.4091 0 16 3.59093 16 8C16 12.4091 12.4091 16 8 16C3.89129 16 0.494072 12.8852 0.0515625 8.8875C0.0486751 8.86103 0.0471106 8.83444 0.046875 8.80781C0.0448969 8.60256 0.121884 8.40439 0.261913 8.2543C0.401942 8.10422 0.594301 8.01369 0.799202 8.00145C1.0041 7.9892 1.20587 8.05618 1.36277 8.18853C1.51968 8.32088 1.61971 8.50847 1.64219 8.7125C1.99648 11.9132 4.69751 14.4 8 14.4C11.5445 14.4 14.4 11.5445 14.4 8C14.4 4.45547 11.5445 1.6 8 1.6C6.16843 1.6 4.53152 2.37401 3.36875 3.60313L4.68281 4.91719C4.83881 5.07319 4.83881 5.32681 4.68281 5.48281C4.60521 5.56121 4.5024 5.6 4.4 5.6H0.8C0.587827 5.6 0.384344 5.51571 0.234315 5.36569C0.0842854 5.21566 0 5.01217 0 4.8V1.2ZM9.80381 10.8C11.1978 10.8 12.1086 9.95347 12.1058 8.75491C12.1086 7.66811 11.3487 6.89981 10.329 6.89981C9.74794 6.89981 9.27861 7.15684 9.09982 7.50328H9.0663L9.17804 6.24046H11.7482V5H7.90415L7.68066 8.15145L9.04395 8.41965C9.17525 8.14027 9.47416 7.97264 9.80381 7.97264C10.2787 7.97264 10.6112 8.29952 10.6084 8.79961C10.6112 9.29971 10.2787 9.62659 9.80381 9.62659C9.39315 9.62659 9.05512 9.37514 9.04395 8.97842H7.53539C7.54377 10.0457 8.48522 10.8 9.80381 10.8ZM6.60001 5H5.20001V10.6H6.60001V5Z"
  }));
}

// src/components/Svg/Forward15.tsx
var import_react22 = __toModule(require_react());
var import_classnames6 = __toModule(require_classnames());
function Forward15({ className, alt = "Forward15" }) {
  return /* @__PURE__ */ import_react22.default.createElement("svg", {
    className: (0, import_classnames6.default)(className, "fill-current", "Svg", "Svg__forward15"),
    width: "100%",
    viewBox: "0 0 16 16",
    xmlns: "http://www.w3.org/2000/svg"
  }, /* @__PURE__ */ import_react22.default.createElement("title", null, alt), /* @__PURE__ */ import_react22.default.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M15.8828 0.917188C15.9604 0.995588 16 1.0976 16 1.2V4.8C16 5.01217 15.9157 5.21566 15.7657 5.36569C15.6157 5.51571 15.4122 5.6 15.2 5.6H11.6C11.4976 5.6 11.3948 5.56121 11.3172 5.48281C11.1612 5.32681 11.1612 5.07319 11.3172 4.91719L12.6313 3.60313C11.4685 2.37401 9.83157 1.6 8 1.6C4.45547 1.6 1.6 4.45547 1.6 8C1.6 11.5445 4.45547 14.4 8 14.4C11.3025 14.4 14.0035 11.9132 14.3578 8.7125C14.3803 8.50847 14.4803 8.32088 14.6372 8.18853C14.7941 8.05618 14.9959 7.9892 15.2008 8.00145C15.4057 8.01369 15.5981 8.10422 15.7381 8.2543C15.8781 8.40439 15.9551 8.60256 15.9531 8.80781C15.9529 8.83444 15.9513 8.86103 15.9484 8.8875C15.5059 12.8852 12.1087 16 8 16C3.59093 16 0 12.4091 0 8C0 3.59093 3.59093 0 8 0C10.2652 0 12.3041 0.956018 13.7594 2.475L15.3172 0.917188C15.4732 0.761187 15.7268 0.761187 15.8828 0.917188ZM4.6 5H6V10.6H4.6V5ZM9.20387 10.8C10.5979 10.8 11.5086 9.95347 11.5058 8.75491C11.5086 7.66811 10.7487 6.89981 9.72907 6.89981C9.148 6.89981 8.67867 7.15684 8.49988 7.50328H8.46635L8.5781 6.24046H11.1482V5H7.30421L7.08072 8.15145L8.44401 8.41965C8.57531 8.14027 8.87422 7.97264 9.20387 7.97264C9.67879 7.97264 10.0112 8.29952 10.0084 8.79961C10.0112 9.29971 9.67879 9.62659 9.20387 9.62659C8.79321 9.62659 8.45518 9.37514 8.44401 8.97842H6.93545C6.94383 10.0457 7.88528 10.8 9.20387 10.8Z"
  }));
}

// src/components/Svg/XMark.tsx
var import_react23 = __toModule(require_react());
var import_classnames7 = __toModule(require_classnames());
function XMark({ className, alt = "XMark" }) {
  return /* @__PURE__ */ import_react23.default.createElement("svg", {
    className: (0, import_classnames7.default)(className, "fill-current", "Svg", "Svg__xMark"),
    width: "100%",
    viewBox: "0 0 10 10",
    xmlns: "http://www.w3.org/2000/svg"
  }, /* @__PURE__ */ import_react23.default.createElement("title", null, alt), /* @__PURE__ */ import_react23.default.createElement("path", {
    d: "M6.41425 5.00025C6.41425 5.00025 9.55325 8.13925 9.70725 8.29325C10.0983 8.68425 10.0983 9.31725 9.70725 9.70725C9.31625 10.0983 8.68325 10.0983 8.29325 9.70725C8.13925 9.55425 5.00025 6.41425 5.00025 6.41425C5.00025 6.41425 1.86125 9.55325 1.70725 9.70725C1.31625 10.0983 0.68325 10.0983 0.29325 9.70725C-0.09775 9.31625 -0.09775 8.68325 0.29325 8.29325C0.44625 8.13925 3.58625 5.00025 3.58625 5.00025C3.58625 5.00025 0.44725 1.86125 0.29325 1.70725C-0.09775 1.31625 -0.09775 0.68325 0.29325 0.29325C0.68425 -0.09775 1.31725 -0.09775 1.70725 0.29325C1.86125 0.44625 5.00025 3.58625 5.00025 3.58625C5.00025 3.58625 8.13925 0.44725 8.29325 0.29325C8.68425 -0.09775 9.31725 -0.09775 9.70725 0.29325C10.0983 0.68425 10.0983 1.31725 9.70725 1.70725C9.55425 1.86125 6.41425 5.00025 6.41425 5.00025Z"
  }));
}

// src/components/Svg/End.tsx
var import_react24 = __toModule(require_react());
var import_classnames8 = __toModule(require_classnames());
function End({ className, alt = "End" }) {
  return /* @__PURE__ */ import_react24.default.createElement("svg", {
    className: (0, import_classnames8.default)(className, "fill-current", "Svg", "Svg__end"),
    width: "100%",
    viewBox: "0 0 12 12",
    xmlns: "http://www.w3.org/2000/svg"
  }, /* @__PURE__ */ import_react24.default.createElement("title", null, alt), /* @__PURE__ */ import_react24.default.createElement("path", {
    d: "M0.666668 12C0.489857 12 0.320288 11.9298 0.195264 11.8047C0.0702393 11.6797 1.27153e-06 11.5101 1.27153e-06 11.3333C-4.23845e-07 11.3325 -4.23845e-07 11.3316 1.27153e-06 11.3307L1.27153e-06 6L1.27153e-06 0.66927C-4.23671e-07 0.668402 -4.23671e-07 0.667534 1.27153e-06 0.666666C1.27153e-06 0.489855 0.0702393 0.320286 0.195264 0.195261C0.320288 0.070237 0.489857 -3.57628e-07 0.666668 -3.57628e-07C0.808691 0.00026998 0.946915 0.045889 1.0612 0.130208H1.0625C1.06866 0.134876 1.07474 0.139651 1.08073 0.144531L8.36068 5.4388C8.45461 5.49923 8.53185 5.58228 8.58532 5.68034C8.63878 5.7784 8.66676 5.88831 8.66667 6C8.66659 6.10941 8.63959 6.21713 8.58805 6.31363C8.5365 6.41014 8.46199 6.49248 8.3711 6.55339L1.0625 11.8698C0.947859 11.9544 0.809136 12 0.666668 12ZM11 12C10.448 12 10 11.552 10 11L10 1C10 0.448 10.448 -3.57628e-07 11 -3.57628e-07C11.552 -3.57628e-07 12 0.448 12 1L12 11C12 11.552 11.552 12 11 12Z"
  }));
}

// src/components/Svg/Speaker.tsx
var import_react25 = __toModule(require_react());
var import_classnames9 = __toModule(require_classnames());
function Speaker({ className, alt = "Speaker" }) {
  return /* @__PURE__ */ import_react25.default.createElement("svg", {
    className: (0, import_classnames9.default)(className, "fill-current", "Svg", "Svg__speaker"),
    width: "100%",
    viewBox: "0 0 14 14",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg"
  }, /* @__PURE__ */ import_react25.default.createElement("title", null, alt), /* @__PURE__ */ import_react25.default.createElement("path", {
    d: "M9.29833 0C9.12627 0 8.95097 0.0568191 8.80792 0.180887L4.00147 4.37884H2.00073C0.895329 4.37884 0 5.16082 0 6.12628V7.87372C0 8.83918 0.895329 9.62116 2.00073 9.62116H4.00147L8.80792 13.8191C8.95097 13.9441 9.12627 14 9.29833 14C9.65847 14 10.0037 13.7561 10.0037 13.3874V0.612628C10.0037 0.243918 9.65847 0 9.29833 0ZM12.1158 4.2645C11.9168 4.26455 11.7223 4.31643 11.5572 4.41351C11.3922 4.5106 11.264 4.64847 11.1891 4.8095C11.1142 4.97054 11.096 5.14743 11.1368 5.31754C11.1777 5.48766 11.2756 5.64328 11.4183 5.76451C12.2086 6.45482 12.2086 7.54518 11.4183 8.23549C11.3252 8.31661 11.2514 8.41294 11.2009 8.51899C11.1505 8.62503 11.1245 8.73872 11.1244 8.85354C11.1243 8.96837 11.1501 9.08208 11.2003 9.1882C11.2505 9.29432 11.3242 9.39076 11.4171 9.47201C11.51 9.55326 11.6203 9.61773 11.7417 9.66173C11.8632 9.70574 11.9933 9.72843 12.1248 9.72849C12.2563 9.72855 12.3865 9.706 12.5079 9.66211C12.6294 9.61822 12.7398 9.55386 12.8328 9.4727C14.3873 8.11501 14.3873 5.88669 12.8328 4.52901C12.7396 4.44531 12.6281 4.37878 12.505 4.33335C12.3818 4.28792 12.2495 4.26451 12.1158 4.2645Z"
  }));
}

// src/components/Svg/SpeakerLoud.tsx
var import_react26 = __toModule(require_react());
var import_classnames10 = __toModule(require_classnames());
function SpeakerLoud({ className, alt = "SpeakerLoud" }) {
  return /* @__PURE__ */ import_react26.default.createElement("svg", {
    className: (0, import_classnames10.default)(className, "fill-current", "Svg", "Svg__speakerLoud"),
    width: "100%",
    viewBox: "0 0 18 14",
    xmlns: "http://www.w3.org/2000/svg"
  }, /* @__PURE__ */ import_react26.default.createElement("title", null, alt), /* @__PURE__ */ import_react26.default.createElement("path", {
    d: "M9.29833 0C9.12627 0 8.95097 0.0568191 8.80792 0.180887L4.00147 4.37884H2.00073C0.895329 4.37884 0 5.16082 0 6.12628V7.87372C0 8.83918 0.895329 9.62116 2.00073 9.62116H4.00147L8.80792 13.8191C8.95097 13.9441 9.12627 14 9.29833 14C9.65847 14 10.0037 13.7561 10.0037 13.3874V0.612628C10.0037 0.243918 9.65847 0 9.29833 0ZM14.9449 1.79181C14.7455 1.7915 14.5505 1.84326 14.385 1.94042C14.2195 2.03759 14.0911 2.17573 14.0161 2.33713C13.9411 2.49852 13.9231 2.6758 13.9643 2.84621C14.0055 3.01662 14.1041 3.17239 14.2474 3.29352C16.6002 5.34843 16.6 8.65251 14.2474 10.7065C14.1514 10.787 14.0748 10.8834 14.0219 10.9901C13.9691 11.0968 13.9412 11.2117 13.9399 11.3279C13.9385 11.4442 13.9638 11.5595 14.0141 11.6671C14.0644 11.7747 14.1388 11.8725 14.2329 11.9547C14.327 12.0369 14.4389 12.1019 14.5622 12.1458C14.6854 12.1897 14.8174 12.2118 14.9505 12.2106C15.0836 12.2094 15.2151 12.185 15.3372 12.1389C15.4594 12.0928 15.5698 12.0258 15.662 11.942C18.7794 9.2202 18.7792 4.78061 15.662 2.05802C15.5689 1.97401 15.4575 1.90717 15.3344 1.86144C15.2112 1.81572 15.0788 1.79204 14.9449 1.79181ZM12.1158 4.2645C11.9168 4.26455 11.7223 4.31643 11.5572 4.41351C11.3922 4.5106 11.264 4.64847 11.1891 4.8095C11.1142 4.97054 11.096 5.14743 11.1368 5.31754C11.1777 5.48766 11.2756 5.64328 11.4183 5.76451C12.2086 6.45482 12.2086 7.54518 11.4183 8.23549C11.3252 8.31661 11.2514 8.41294 11.2009 8.51899C11.1505 8.62503 11.1245 8.73872 11.1244 8.85354C11.1243 8.96837 11.1501 9.08208 11.2003 9.1882C11.2505 9.29432 11.3242 9.39076 11.4171 9.47201C11.51 9.55326 11.6203 9.61773 11.7417 9.66173C11.8632 9.70574 11.9933 9.72843 12.1248 9.72849C12.2563 9.72855 12.3865 9.706 12.5079 9.66211C12.6294 9.61822 12.7398 9.55386 12.8328 9.4727C14.3873 8.11501 14.3873 5.88669 12.8328 4.52901C12.7396 4.44531 12.6281 4.37878 12.505 4.33335C12.3818 4.28792 12.2495 4.26451 12.1158 4.2645Z"
  }));
}

// src/components/Svg/SpeakerMute.tsx
var import_react27 = __toModule(require_react());
var import_classnames11 = __toModule(require_classnames());
function SpeakerMute({ className, alt = "SpeakerMute" }) {
  return /* @__PURE__ */ import_react27.default.createElement("svg", {
    className: (0, import_classnames11.default)(className, "fill-current", "Svg", "Svg__speakerMute"),
    width: "100%",
    viewBox: "0 0 18 14",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg"
  }, /* @__PURE__ */ import_react27.default.createElement("title", null, alt), /* @__PURE__ */ import_react27.default.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M8.80792 0.180887C8.95097 0.0568191 9.12627 0 9.29833 0C9.65847 0 10.0037 0.243918 10.0037 0.612628V13.3874C10.0037 13.7561 9.65847 14 9.29833 14C9.12627 14 8.95097 13.9441 8.80792 13.8191L4.00147 9.62116H2.00073C0.895329 9.62116 0 8.83918 0 7.87372V6.12628C0 5.16082 0.895329 4.37884 2.00073 4.37884H4.00147L8.80792 0.180887ZM12.5226 4.22368C12.6418 4.14337 12.7824 4.10045 12.9261 4.10041C13.0227 4.10042 13.1183 4.11978 13.2073 4.15736C13.2963 4.19495 13.3769 4.24998 13.4442 4.31922L15.1015 5.97651L16.7588 4.31922C16.8897 4.18448 17.0679 4.10601 17.2557 4.10041C17.4013 4.09612 17.5448 4.13591 17.6674 4.21457C17.7899 4.29322 17.8859 4.40708 17.9427 4.54122C17.9994 4.67535 18.0144 4.82351 17.9855 4.96627C17.9566 5.10903 17.8853 5.23974 17.7808 5.34126L16.1235 6.99855L17.7808 8.65583C17.8502 8.72243 17.9056 8.8022 17.9437 8.89047C17.9819 8.97875 18.002 9.07374 18.003 9.1699C18.004 9.26606 17.9858 9.36144 17.9494 9.45047C17.9131 9.5395 17.8593 9.62038 17.7913 9.68838C17.7233 9.75638 17.6425 9.81013 17.5534 9.84647C17.4644 9.88282 17.369 9.90104 17.2729 9.90006C17.1767 9.89908 17.0817 9.87893 16.9934 9.84077C16.9052 9.80262 16.8254 9.74724 16.7588 9.67787L15.1015 8.02059L13.4442 9.67787C13.3776 9.74724 13.2978 9.80262 13.2096 9.84077C13.1213 9.87893 13.0263 9.89908 12.9301 9.90006C12.834 9.90104 12.7386 9.88282 12.6496 9.84647C12.5605 9.81013 12.4797 9.75638 12.4117 9.68838C12.3437 9.62038 12.2899 9.5395 12.2536 9.45047C12.2172 9.36144 12.199 9.26606 12.2 9.1699C12.201 9.07374 12.2211 8.97875 12.2593 8.89047C12.2974 8.8022 12.3528 8.72243 12.4222 8.65583L14.0795 6.99855L12.4222 5.34126C12.3191 5.24098 12.2483 5.11224 12.2189 4.97152C12.1894 4.83079 12.2025 4.68447 12.2566 4.55125C12.3107 4.41804 12.4033 4.30399 12.5226 4.22368Z"
  }));
}

// src/components/Svg/Play.tsx
var import_react28 = __toModule(require_react());
var import_classnames12 = __toModule(require_classnames());
function Play({ className, alt = "Play" }) {
  return /* @__PURE__ */ import_react28.default.createElement("svg", {
    className: (0, import_classnames12.default)(className, "fill-current", "Svg", "Svg__play"),
    width: "100%",
    viewBox: "0 0 13 16",
    xmlns: "http://www.w3.org/2000/svg"
  }, /* @__PURE__ */ import_react28.default.createElement("title", null, alt), /* @__PURE__ */ import_react28.default.createElement("path", {
    d: "M11.383 6.31764C12.6076 7.10491 12.6076 8.89508 11.383 9.68236L3.08152 15.019C1.75049 15.8747 0 14.919 0 13.3367V2.66333C0 1.081 1.75049 0.125316 3.08151 0.980974L11.383 6.31764Z"
  }));
}

// src/components/Svg/Pause.tsx
var import_react29 = __toModule(require_react());
var import_classnames13 = __toModule(require_classnames());
function Pause({ className, alt = "Pause" }) {
  return /* @__PURE__ */ import_react29.default.createElement("svg", {
    className: (0, import_classnames13.default)(className, "fill-current", "Svg", "Svg__pause"),
    width: "100%",
    fill: "white",
    viewBox: "0 0 12 16",
    xmlns: "http://www.w3.org/2000/svg"
  }, /* @__PURE__ */ import_react29.default.createElement("title", null, alt), /* @__PURE__ */ import_react29.default.createElement("rect", {
    width: "4",
    height: "16",
    rx: "2"
  }), /* @__PURE__ */ import_react29.default.createElement("rect", {
    x: "8",
    width: "4",
    height: "16",
    rx: "2"
  }));
}

// src/components/Playbar/index.tsx
function toDurationString(totalSeconds) {
  if (!totalSeconds || isNaN(totalSeconds))
    totalSeconds = 0;
  const seconds = Math.floor(totalSeconds % 60);
  const minutes = Math.floor(totalSeconds / 60 % 60);
  const hours = Math.floor(totalSeconds / 3600);
  return `${hours.toString().padStart(2, "0")}:${minutes.toString().padStart(2, "0")}:${seconds.toString().padStart(2, "0")}`;
}
function PlaybarUI(props) {
  var _a, _b, _c, _d;
  const {
    clear,
    currentTime,
    duration,
    seekToEnd,
    error,
    eventMetaData,
    fastForward,
    fixed,
    isPlaying,
    knobLeft = 0,
    knobRef,
    onClickCalendar,
    onClickTrack,
    playbackRate,
    rewind,
    setVolume,
    seekToStart,
    togglePlayback,
    toggleRate,
    volume
  } = props;
  return /* @__PURE__ */ import_react30.default.createElement("div", {
    className: "relative h-13 w-full flex flex-col justify-center mt-[-6px]"
  }, /* @__PURE__ */ import_react30.default.createElement("div", {
    className: "bg-yellow-50 absolute top-[9px] left-0 bottom-0 bg-opacity-60",
    style: { width: knobLeft + 74 }
  }), /* @__PURE__ */ import_react30.default.createElement("div", {
    className: "flex z-20 player_timeline"
  }, /* @__PURE__ */ import_react30.default.createElement("div", {
    className: "flex items-center justify-center px-2 text-xs select-none relative w-[65px]"
  }, /* @__PURE__ */ import_react30.default.createElement("div", {
    className: "absolute left-0 right-0 top-0 bottom-0 bg-white backdrop-filter backdrop-blur-[2px] bg-opacity-60 rounded-r-md"
  }), /* @__PURE__ */ import_react30.default.createElement("span", {
    className: "z-10 relative font-mono text-yellow-800 opacity-60"
  }, toDurationString(currentTime))), /* @__PURE__ */ import_react30.default.createElement("div", {
    className: "flex flex-1 relative items-center",
    onClick: onClickTrack
  }, /* @__PURE__ */ import_react30.default.createElement("div", {
    className: "flex-1 h-[3px] bg-gray-200"
  }, /* @__PURE__ */ import_react30.default.createElement("div", {
    className: "h-[3px] bg-yellow-400",
    style: { width: knobLeft }
  })), /* @__PURE__ */ import_react30.default.createElement("div", {
    className: "absolute rounded-lg mb-[1px] h-[16px] w-[16px] bg-blue-600 border-[3px] border-white cursor-grab active:cursor-grabbing hover:bg-blue-400 active:bg-blue-800 player_timeline__timeline_knob",
    style: { left: knobLeft },
    ref: knobRef
  })), /* @__PURE__ */ import_react30.default.createElement("div", {
    className: "px-2 text-xs select-none relative flex items-center justify-center w-[65px]"
  }, /* @__PURE__ */ import_react30.default.createElement("div", {
    className: "absolute left-0 right-0 top-0 bottom-0 backdrop-filter backdrop-blur-[2px] bg-opacity-60 rounded-l-md"
  }), /* @__PURE__ */ import_react30.default.createElement("span", {
    className: "z-10 relative font-mono text-gray-500 opacity-60"
  }, toDurationString(duration)))), /* @__PURE__ */ import_react30.default.createElement("div", {
    className: "z-10 flex h-[44px] pb-[6px] items-center justify-center ml-2.5 bg-white"
  }, !fixed && /* @__PURE__ */ import_react30.default.createElement(Button, {
    onClick: clear,
    className: "flex-shrink-0 h-[30px] w-[30px] text-gray-500 mr-1"
  }, /* @__PURE__ */ import_react30.default.createElement(XMark, null)), /* @__PURE__ */ import_react30.default.createElement("div", {
    className: "flex flex-col h-[30px] justify-center flex-shrink-0 cursor-pointer w-[72px] ml-1 group",
    onClick: onClickCalendar
  }, /* @__PURE__ */ import_react30.default.createElement("div", {
    className: "flex items-end h-[12px] mt-[1px]"
  }, /* @__PURE__ */ import_react30.default.createElement("span", {
    className: "select-none leading-none text-sm text-blue-600 font-bold uppercase group-hover:text-blue-800 group-active:text-blue-900"
  }, ((_a = eventMetaData == null ? void 0 : eventMetaData.quote) == null ? void 0 : _a.localTicker) || "Instrument"), /* @__PURE__ */ import_react30.default.createElement("span", {
    className: "select-none truncate leading-none ml-1 mb-[1px] text-xxs uppercase tracking-widest text-gray-400 group-hover:text-gray-600 group-active:text-gray-800"
  }, ((_c = (_b = eventMetaData == null ? void 0 : eventMetaData.quote) == null ? void 0 : _b.exchange) == null ? void 0 : _c.shortName) || "Exchange")), /* @__PURE__ */ import_react30.default.createElement("span", {
    className: "select-none truncate capitalize text-xs text-gray-500 group-hover:text-gray-700 group-active:text-gray-900"
  }, ((_d = eventMetaData == null ? void 0 : eventMetaData.eventType) == null ? void 0 : _d.replace(/_/g, " ")) || "No Type Found")), /* @__PURE__ */ import_react30.default.createElement("div", {
    className: "flex items-center pr-1.5 flex-shrink-0 flex-1 justify-center"
  }, /* @__PURE__ */ import_react30.default.createElement("div", {
    onClick: toggleRate,
    className: "select-none text-sm font-bold font-mono text-bluegray-1 hover:text-blue-600 active:text-blue-700 cursor-pointer px-2"
  }, `${playbackRate.toFixed(2)}x`), /* @__PURE__ */ import_react30.default.createElement("div", {
    onClick: seekToStart,
    className: "rotate-180 text-bluegray-1 hover:text-blue-600 active:text-blue-700 cursor-pointer px-2"
  }, /* @__PURE__ */ import_react30.default.createElement(End, {
    className: "w-[12px]"
  })), /* @__PURE__ */ import_react30.default.createElement("div", {
    className: "text-bluegray-1 hover:text-blue-600 active:text-blue-700 cursor-pointer px-2",
    onClick: rewind
  }, /* @__PURE__ */ import_react30.default.createElement(Back15, {
    className: "w-[16px]"
  })), /* @__PURE__ */ import_react30.default.createElement("div", {
    className: (0, import_classnames14.default)("flex items-center justify-center w-[30px] h-[30px] rounded-full bg-blue-600 text-white cursor-pointer mx-0.5 hover:bg-blue-700 active:bg-blue-800"),
    onClick: togglePlayback
  }, /* @__PURE__ */ import_react30.default.createElement("div", null, isPlaying ? /* @__PURE__ */ import_react30.default.createElement(Pause, {
    className: "w-2.5"
  }) : /* @__PURE__ */ import_react30.default.createElement(Play, {
    className: "ml-0.5 w-3"
  }))), /* @__PURE__ */ import_react30.default.createElement("div", {
    className: "text-bluegray-1 hover:text-blue-600 active:text-blue-700 cursor-pointer px-2",
    onClick: fastForward
  }, /* @__PURE__ */ import_react30.default.createElement(Forward15, {
    className: "w-[16px]"
  })), /* @__PURE__ */ import_react30.default.createElement("div", {
    onClick: seekToEnd,
    className: "text-bluegray-1 hover:text-blue-600 active:text-blue-700 cursor-pointer px-2"
  }, /* @__PURE__ */ import_react30.default.createElement(End, {
    className: "w-[12px]"
  })), /* @__PURE__ */ import_react30.default.createElement(Tooltip, {
    yOffset: 66,
    xOffset: -53,
    content: /* @__PURE__ */ import_react30.default.createElement("div", {
      className: "flex items-center justify-center p-2 rounded-xl bg-white -rotate-90 player_timeline__volume_slider"
    }, /* @__PURE__ */ import_react30.default.createElement("input", {
      defaultValue: volume,
      onChange: (e) => setVolume(parseFloat(e.target.value)),
      type: "range",
      id: "volume",
      name: "volume",
      min: "0",
      max: "1",
      step: 0.01
    })),
    grow: "up-left",
    openOn: "click",
    position: "top-right"
  }, /* @__PURE__ */ import_react30.default.createElement("div", {
    className: "text-yellow-500 px-2 hover:text-yellow-600 active:text-yellow-800 cursor-pointer"
  }, volume > 0.6 ? /* @__PURE__ */ import_react30.default.createElement(SpeakerLoud, {
    className: "w-[18px]"
  }) : volume === 0 ? /* @__PURE__ */ import_react30.default.createElement(SpeakerMute, {
    className: "w-[18px]"
  }) : /* @__PURE__ */ import_react30.default.createElement(Speaker, {
    className: "w-[14px] mr-[4px]"
  })))), error && !isPlaying && /* @__PURE__ */ import_react30.default.createElement("div", {
    className: "absolute py-2 px-2.5 backdrop-filter backdrop-blur-md rounded-lg bg-red-200 bg-opacity-30"
  }, /* @__PURE__ */ import_react30.default.createElement("div", {
    className: "text-center text-red-700 text-xs"
  }, "There was an error playing audio."))));
}
function usePlaybarDrag(audioPlayer) {
  var _a, _b, _c;
  const knobRef = (0, import_react30.useRef)(null);
  useWindowSize();
  const knobTrackWidth = ((_b = (_a = knobRef.current) == null ? void 0 : _a.parentElement) == null ? void 0 : _b.getBoundingClientRect().width) || 0;
  const knobWidth = ((_c = knobRef.current) == null ? void 0 : _c.getBoundingClientRect().width) || 0;
  const trackWidth = Math.max(0, knobTrackWidth - knobWidth);
  const [isDragging, dragXOffset] = useDrag({
    dragTarget: knobRef,
    onDragStart: (0, import_react30.useCallback)((_event, setPosition) => {
      var _a2;
      setPosition({ x: ((_a2 = knobRef.current) == null ? void 0 : _a2.offsetLeft) || 0, y: 0 });
    }, [knobRef.current]),
    onDragEnd: (0, import_react30.useCallback)(() => {
      var _a2;
      const leftOffset = Math.max(0, ((_a2 = knobRef.current) == null ? void 0 : _a2.offsetLeft) || 0);
      audioPlayer.displaySeek(leftOffset / trackWidth * audioPlayer.displayDuration);
    }, [knobRef.current, trackWidth])
  });
  const onClickTrack = (0, import_react30.useCallback)((event) => {
    var _a2;
    const trackElem = (_a2 = knobRef.current) == null ? void 0 : _a2.parentElement;
    const trackXOffset = (trackElem == null ? void 0 : trackElem.getBoundingClientRect().left) || 0;
    const leftOffset = Math.max(0, event.clientX - trackXOffset) - knobWidth / 2;
    audioPlayer.displaySeek(leftOffset / trackWidth * audioPlayer.displayDuration);
  }, [knobRef.current, trackWidth]);
  const audioOffset = audioPlayer.displayCurrentTime / audioPlayer.displayDuration * trackWidth || 0;
  const knobLeft = Math.min(trackWidth, Math.max(0, isDragging ? dragXOffset : audioOffset));
  return [knobRef, knobLeft, onClickTrack];
}
function usePlayer(id, url, offset = 0, metaData) {
  const audioPlayer = useAudioPlayer();
  const track = useTrack();
  (0, import_react30.useEffect)(() => {
    if (id) {
      const initParams = metaData ? { id, url: url || "", offset, metaData } : { id, url: url || "", offset };
      audioPlayer.init(initParams);
    }
  }, [id, url, offset]);
  const isActive = audioPlayer.id;
  const isPlaying = audioPlayer.playing(null);
  const togglePlayback = (0, import_react30.useCallback)(() => {
    if (isPlaying) {
      void track("Click", "Audio Pause", { eventId: id, url });
      audioPlayer.pause();
    } else {
      void track("Click", "Audio Play", { eventId: id, url });
      void audioPlayer.play();
    }
  }, [isPlaying]);
  const fastForward = (0, import_react30.useCallback)(() => {
    void track("Click", "Audio Fast Forward", { eventId: id, url });
    audioPlayer.ff(15);
  }, []);
  const rewind = (0, import_react30.useCallback)(() => {
    void track("Click", "Audio Rewind", { eventId: id, url });
    audioPlayer.rewind(15);
  }, []);
  const seekToStart = (0, import_react30.useCallback)(() => {
    void track("Click", "Audio Start", { eventId: id, url });
    audioPlayer.seekToStart();
  }, []);
  const seekToEnd = (0, import_react30.useCallback)(() => {
    void track("Click", "Audio Over", { eventId: id, url });
    audioPlayer.seekToEnd();
  }, []);
  const toggleRate = (0, import_react30.useCallback)(() => {
    void track("Click", "Audio Playback Rate", { eventId: id, url });
    audioPlayer.togglePlaybackRate();
  }, []);
  const clear = (0, import_react30.useCallback)(() => {
    void track("Click", "Audio Stop", { eventId: id, url });
    audioPlayer.clear();
  }, []);
  return {
    audioPlayer,
    seekToEnd,
    isActive,
    isPlaying,
    togglePlayback,
    fastForward,
    rewind,
    seekToStart,
    toggleRate,
    clear
  };
}
function Playbar(props) {
  const { id, url, offset = 0, metaData } = props;
  const {
    audioPlayer,
    isActive,
    isPlaying,
    togglePlayback,
    fastForward,
    rewind,
    seekToStart,
    seekToEnd,
    clear,
    toggleRate
  } = usePlayer(id, url, offset, metaData);
  const [knobRef, knobLeft, onClickTrack] = usePlaybarDrag(audioPlayer);
  const onClickCalendar = (0, import_react30.useCallback)((event) => {
    var _a;
    return (_a = props.onClickCalendar) == null ? void 0 : _a.call(props, event, { value: audioPlayer.id });
  }, [audioPlayer.id]);
  if (!isActive)
    return null;
  return /* @__PURE__ */ import_react30.default.createElement(PlaybarUI, {
    clear,
    currentTime: audioPlayer.displayCurrentTime,
    duration: audioPlayer.displayDuration,
    seekToEnd,
    error: audioPlayer.error,
    eventMetaData: audioPlayer.eventMetaData,
    fastForward,
    fixed: !!(id && url),
    isPlaying,
    knobLeft,
    knobRef,
    onClickCalendar,
    onClickTrack,
    playbackRate: audioPlayer.playbackRate,
    rewind,
    setVolume: audioPlayer.setVolume,
    seekToStart,
    togglePlayback,
    toggleRate,
    volume: audioPlayer.volume
  });
}

// src/modules/Transcript/EmptyMessage/index.tsx
var import_react32 = __toModule(require_react());
var import_ts_pattern4 = __toModule(require_lib());

// src/components/Svg/Check.tsx
var import_react31 = __toModule(require_react());
var import_classnames15 = __toModule(require_classnames());
function Check({ className, alt = "Check" }) {
  return /* @__PURE__ */ import_react31.default.createElement("svg", {
    className: (0, import_classnames15.default)(className, "fill-current", "Svg", "Svg__check"),
    width: "100%",
    viewBox: "0 0 8 6",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg"
  }, /* @__PURE__ */ import_react31.default.createElement("title", null, alt), /* @__PURE__ */ import_react31.default.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M7.69471 1.69471C7.87687 1.50611 7.97766 1.25351 7.97539 0.991311C7.97311 0.729114 7.86794 0.478302 7.68253 0.292894C7.49712 0.107485 7.24631 0.00231622 6.98411 3.78025e-05C6.72192 -0.00224062 6.46931 0.0985542 6.28071 0.280712L2.98771 3.57371L1.69471 2.28071C1.50611 2.09855 1.25351 1.99776 0.991311 2.00004C0.729114 2.00232 0.478302 2.10749 0.292894 2.29289C0.107485 2.4783 0.00231622 2.72911 3.78025e-05 2.99131C-0.00224062 3.25351 0.0985542 3.50611 0.280712 3.69471L2.28071 5.69471C2.46824 5.88218 2.72255 5.9875 2.98771 5.9875C3.25288 5.9875 3.50718 5.88218 3.69471 5.69471L7.69471 1.69471Z"
  }));
}

// src/modules/Transcript/EmptyMessage/index.tsx
function EmptyMessageUI(props) {
  const { event } = props;
  const { pillBgColor, pillTextColor, pillText, message } = (0, import_ts_pattern4.match)(event.connectionStatus).with(EventConnectionStatus.ConnectionNotExpected, () => ({
    pillBgColor: "bg-gray-200",
    pillTextColor: "text-gray-700",
    pillText: "no connection details",
    message: /* @__PURE__ */ import_react32.default.createElement("div", {
      className: "text-base text-gray-500"
    }, "This event will be transcribed if we receive", /* @__PURE__ */ import_react32.default.createElement("br", null), "connection details before the event start time.")
  })).with(EventConnectionStatus.ConnectionExpected, () => ({
    pillBgColor: "bg-green-300",
    pillTextColor: "text-green-700",
    pillText: "connection expected",
    message: /* @__PURE__ */ import_react32.default.createElement("div", {
      className: "text-base text-gray-500"
    }, "The transcript will appear here", /* @__PURE__ */ import_react32.default.createElement("br", null), "after the event begins.")
  })).with(EventConnectionStatus.WaitingToConnect, () => ({
    pillBgColor: "bg-yellow-200",
    pillTextColor: "text-yellow-700",
    pillText: "waiting for connection",
    message: /* @__PURE__ */ import_react32.default.createElement("div", {
      className: "text-base text-gray-500"
    }, "We are attempting to connect,", /* @__PURE__ */ import_react32.default.createElement("br", null), " please wait.")
  })).with(EventConnectionStatus.Connected, () => ({
    pillBgColor: "bg-yellow-300",
    pillTextColor: "text-yellow-900",
    pillText: "connected",
    message: /* @__PURE__ */ import_react32.default.createElement("div", {
      className: "text-base text-gray-500"
    }, "Transcription will start automatically", /* @__PURE__ */ import_react32.default.createElement("br", null), "when the conference speaker begins.")
  })).with(EventConnectionStatus.Missed, () => ({
    pillBgColor: "bg-gray-200",
    pillTextColor: "text-gray-700",
    pillText: "missed",
    message: /* @__PURE__ */ import_react32.default.createElement("div", {
      className: "text-base text-gray-500"
    }, (event == null ? void 0 : event.hasConnectionDetails) ? prettyLineBreak("Sorry, we were unable to connect to the live audio for this event.") : prettyLineBreak("Apologies, no connection details were found for this event"))
  })).with(EventConnectionStatus.Transcribing, () => ({
    pillBgColor: "bg-green-300",
    pillTextColor: "text-green-700",
    pillText: "Transcribing event",
    message: /* @__PURE__ */ import_react32.default.createElement("div", {
      className: "text-base text-gray-500"
    }, "This message should not appear")
  })).with(EventConnectionStatus.Transcribed, () => ({
    pillBgColor: "bg-green-300",
    pillTextColor: "text-green-700",
    pillText: "Event Transcribed",
    message: /* @__PURE__ */ import_react32.default.createElement("div", {
      className: "text-base text-gray-500"
    }, "This message should not appear")
  })).exhaustive();
  return /* @__PURE__ */ import_react32.default.createElement("div", {
    className: "w-full px-6 h-full flex flex-col text-center items-center justify-center"
  }, /* @__PURE__ */ import_react32.default.createElement("span", {
    className: "text-xl font-semibold text-gray-600 line-clamp-2"
  }, prettyLineBreak(event == null ? void 0 : event.title)), /* @__PURE__ */ import_react32.default.createElement("div", {
    className: `overflow-hidden relative text-xxs ${pillTextColor} uppercase tracking-widest px-1.5 py-0.5 rounded-xl mt-2 mb-8`
  }, /* @__PURE__ */ import_react32.default.createElement("span", {
    className: "z-10 relative"
  }, pillText), /* @__PURE__ */ import_react32.default.createElement("span", {
    className: `animate-pulse ${pillBgColor} absolute top-0 bottom-0 left-0 right-0`
  })), message, (event == null ? void 0 : event.publishedTranscriptExpected) && /* @__PURE__ */ import_react32.default.createElement("div", {
    className: "flex mt-4 items-center justify-start text-left bg-green-50 rounded-2xl py-1.5 pr-2 pl-3 border-[1px] border-green-100"
  }, /* @__PURE__ */ import_react32.default.createElement("div", {
    className: "text-sm leading-tight text-green-600"
  }, "We expect to receive a", /* @__PURE__ */ import_react32.default.createElement("br", null), "published transcript for this event."), /* @__PURE__ */ import_react32.default.createElement("div", {
    className: "text-white bg-green-400 h-6 w-6 rounded-2xl flex items-center justify-center ml-4"
  }, /* @__PURE__ */ import_react32.default.createElement(Check, {
    className: "w-2.5"
  }))));
}
function EmptyMessage(props) {
  const { event } = props;
  return /* @__PURE__ */ import_react32.default.createElement(EmptyMessageUI, {
    event
  });
}

// src/modules/Transcript/Header/index.tsx
var import_react43 = __toModule(require_react());
var import_ts_pattern5 = __toModule(require_lib());
var import_classnames26 = __toModule(require_classnames());
var import_luxon = __toModule(require_luxon());

// src/components/ExpandButton/index.tsx
var import_react33 = __toModule(require_react());
var import_classnames16 = __toModule(require_classnames());
function ExpandButtonUI(props) {
  const { className = "", onClick, expanded } = props;
  return /* @__PURE__ */ import_react33.default.createElement("button", {
    title: "expand",
    onClick,
    className: (0, import_classnames16.default)(`transition-all flex-shrink-0 h-5 w-5 rounded-xl flex items-start justify-center ${className}`, {
      "bg-blue-600": expanded,
      "bg-gray-100": !expanded,
      "hover:bg-blue-700": expanded,
      "hover:bg-gray-200": !expanded,
      "active:bg-blue-800": expanded,
      "active:bg-gray-300": !expanded
    })
  }, /* @__PURE__ */ import_react33.default.createElement(Chevron, {
    className: (0, import_classnames16.default)("flex-shrink-0 w-2 transition-all", {
      "mt-[7px] rotate-180 fill-current text-white": expanded,
      "mt-[8px] opacity-30": !expanded
    })
  }));
}
function ExpandButton(props) {
  const { className, expanded, onClick } = props;
  return /* @__PURE__ */ import_react33.default.createElement(ExpandButtonUI, {
    className,
    expanded,
    onClick
  });
}

// src/components/Input/index.tsx
var import_react34 = __toModule(require_react());
var import_classnames17 = __toModule(require_classnames());
function InputUI(props) {
  const { children, placeholder, onChange, onFocus, value, name, className = "", defaultValue } = props;
  return /* @__PURE__ */ import_react34.default.createElement("div", {
    className: `group h-8 items-center w-full relative ${className} input__${name}`
  }, /* @__PURE__ */ import_react34.default.createElement("input", {
    className: (0, import_classnames17.default)("w-full inset-0 absolute text-sm border border-gray-200 rounded-lg focus:shadow-input focus:border-1 focus:outline-none focus:border-blue-600 hover:border-blue-400", { "pl-7": !!children, "pl-3": !children }),
    onChange,
    onFocus,
    placeholder,
    defaultValue,
    value
  }), import_react34.default.isValidElement(children) && /* @__PURE__ */ import_react34.default.createElement("div", {
    className: "pointer-events-none h-8 w-8 justify-center items-center flex"
  }, import_react34.default.cloneElement(children, {
    className: "group-focus-within:stroke-current group-focus-within:text-blue-600 z-1 relative w-4"
  })));
}
function Input(props) {
  const { children, placeholder, onChange, onFocus, value, name, className, defaultValue } = props;
  return /* @__PURE__ */ import_react34.default.createElement(InputUI, {
    placeholder,
    onChange: (0, import_react34.useCallback)((event) => {
      var _a;
      return onChange == null ? void 0 : onChange(event, { name, value: (_a = event == null ? void 0 : event.currentTarget) == null ? void 0 : _a.value });
    }, [onChange]),
    onFocus,
    defaultValue,
    value,
    className,
    name
  }, children);
}

// src/components/Svg/ArrowLeft.tsx
var import_react35 = __toModule(require_react());
var import_classnames18 = __toModule(require_classnames());
function ArrowLeft({ className, alt = "Arrow Left" }) {
  return /* @__PURE__ */ import_react35.default.createElement("svg", {
    className: (0, import_classnames18.default)(className, "fill-current,", "Svg", "Svg__arrowLeft"),
    width: "100%",
    viewBox: "0 0 12 10",
    xmlns: "http://www.w3.org/2000/svg"
  }, /* @__PURE__ */ import_react35.default.createElement("title", null, alt), /* @__PURE__ */ import_react35.default.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M5.70679 9.69471C5.51926 9.88218 5.26495 9.9875 4.99979 9.9875C4.73462 9.9875 4.48031 9.88218 4.29279 9.69471L0.292787 5.69471C0.105316 5.50718 0 5.25288 0 4.98771C0 4.72255 0.105316 4.46824 0.292787 4.28071L4.29279 0.280712C4.48139 0.0985542 4.73399 -0.00224062 4.99619 3.78025e-05C5.25838 0.00231622 5.5092 0.107485 5.6946 0.292894C5.88001 0.478302 5.98518 0.729114 5.98746 0.991311C5.98974 1.25351 5.88894 1.50611 5.70679 1.69471L3.41379 3.98771H10.9998C11.265 3.98771 11.5194 4.09307 11.7069 4.28061C11.8944 4.46814 11.9998 4.7225 11.9998 4.98771C11.9998 5.25293 11.8944 5.50728 11.7069 5.69482C11.5194 5.88235 11.265 5.98771 10.9998 5.98771H3.41379L5.70679 8.28071C5.89426 8.46824 5.99957 8.72255 5.99957 8.98771C5.99957 9.25288 5.89426 9.50718 5.70679 9.69471V9.69471Z"
  }));
}

// src/components/Svg/MagnifyingGlass.tsx
var import_react36 = __toModule(require_react());
var import_classnames19 = __toModule(require_classnames());
function MagnifyingGlass({
  className,
  alt = "Magnifying Glass"
}) {
  return /* @__PURE__ */ import_react36.default.createElement("svg", {
    className: (0, import_classnames19.default)(className, "Svg", "Svg__magnifyingGlass"),
    width: "100%",
    viewBox: "0 0 12 12",
    fill: "none",
    xmlns: "http://www.w3.org/2000/svg",
    stroke: "black"
  }, /* @__PURE__ */ import_react36.default.createElement("title", null, alt), /* @__PURE__ */ import_react36.default.createElement("path", {
    d: "M11 11L8.41379 8.41379L11 11ZM1 5.31034C1 2.92981 2.92981 1 5.31034 1C7.6909 1 9.62069 2.92981 9.62069 5.31034C9.62069 7.6909 7.6909 9.62069 5.31034 9.62069C2.92981 9.62069 1 7.6909 1 5.31034Z",
    strokeWidth: "1.5",
    strokeLinecap: "round",
    strokeLinejoin: "round"
  }));
}

// src/components/Svg/Gear.tsx
var import_react37 = __toModule(require_react());
var import_classnames20 = __toModule(require_classnames());
function Gear({ className, alt = "Gear" }) {
  return /* @__PURE__ */ import_react37.default.createElement("svg", {
    className: (0, import_classnames20.default)(className, "stroke-current", "Svg", "Svg__gear"),
    width: "100%",
    fill: "none",
    viewBox: "0 0 24 24",
    xmlns: "http://www.w3.org/2000/svg"
  }, /* @__PURE__ */ import_react37.default.createElement("title", null, alt), /* @__PURE__ */ import_react37.default.createElement("path", {
    d: "M10.325 4.317C10.751 2.561 13.249 2.561 13.675 4.317C13.7389 4.5808 13.8642 4.82578 14.0407 5.032C14.2172 5.23822 14.4399 5.39985 14.6907 5.50375C14.9414 5.60764 15.2132 5.65085 15.4838 5.62987C15.7544 5.60889 16.0162 5.5243 16.248 5.383C17.791 4.443 19.558 6.209 18.618 7.753C18.4769 7.98466 18.3924 8.24634 18.3715 8.51677C18.3506 8.78721 18.3938 9.05877 18.4975 9.30938C18.6013 9.55999 18.7627 9.78258 18.9687 9.95905C19.1747 10.1355 19.4194 10.2609 19.683 10.325C21.439 10.751 21.439 13.249 19.683 13.675C19.4192 13.7389 19.1742 13.8642 18.968 14.0407C18.7618 14.2172 18.6001 14.4399 18.4963 14.6907C18.3924 14.9414 18.3491 15.2132 18.3701 15.4838C18.3911 15.7544 18.4757 16.0162 18.617 16.248C19.557 17.791 17.791 19.558 16.247 18.618C16.0153 18.4769 15.7537 18.3924 15.4832 18.3715C15.2128 18.3506 14.9412 18.3938 14.6906 18.4975C14.44 18.6013 14.2174 18.7627 14.0409 18.9687C13.8645 19.1747 13.7391 19.4194 13.675 19.683C13.249 21.439 10.751 21.439 10.325 19.683C10.2611 19.4192 10.1358 19.1742 9.95929 18.968C9.7828 18.7618 9.56011 18.6001 9.30935 18.4963C9.05859 18.3924 8.78683 18.3491 8.51621 18.3701C8.24559 18.3911 7.98375 18.4757 7.752 18.617C6.209 19.557 4.442 17.791 5.382 16.247C5.5231 16.0153 5.60755 15.7537 5.62848 15.4832C5.64942 15.2128 5.60624 14.9412 5.50247 14.6906C5.3987 14.44 5.23726 14.2174 5.03127 14.0409C4.82529 13.8645 4.58056 13.7391 4.317 13.675C2.561 13.249 2.561 10.751 4.317 10.325C4.5808 10.2611 4.82578 10.1358 5.032 9.95929C5.23822 9.7828 5.39985 9.56011 5.50375 9.30935C5.60764 9.05859 5.65085 8.78683 5.62987 8.51621C5.60889 8.24559 5.5243 7.98375 5.383 7.752C4.443 6.209 6.209 4.442 7.753 5.382C8.749 5.99 10.049 5.452 10.325 4.317Z",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round"
  }), /* @__PURE__ */ import_react37.default.createElement("path", {
    d: "M15 12C15 12.7956 14.6839 13.5587 14.1213 14.1213C13.5587 14.6839 12.7956 15 12 15C11.2044 15 10.4413 14.6839 9.87868 14.1213C9.31607 13.5587 9 12.7956 9 12C9 11.2044 9.31607 10.4413 9.87868 9.87868C10.4413 9.31607 11.2044 9 12 9C12.7956 9 13.5587 9.31607 14.1213 9.87868C14.6839 10.4413 15 11.2044 15 12V12Z",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round"
  }));
}

// src/modules/Transcript/EventDetails/index.tsx
var import_react38 = __toModule(require_react());
var import_classnames21 = __toModule(require_classnames());
function EventDetailsUI(props) {
  var _a;
  const { event, eventDetailsExpanded, toggleEventDetails } = props;
  return /* @__PURE__ */ import_react38.default.createElement("div", null, /* @__PURE__ */ import_react38.default.createElement("div", {
    className: "flex flex-col justify-start border-t-[1px] border-gray-100 px-3"
  }, /* @__PURE__ */ import_react38.default.createElement("div", {
    className: "flex items-center justify-start h-10 cursor-pointer group",
    onClick: toggleEventDetails
  }, /* @__PURE__ */ import_react38.default.createElement("span", {
    className: "text-sm block font-semibold w-28 mr-1"
  }, "Event Details"), /* @__PURE__ */ import_react38.default.createElement("span", {
    className: "text-gray-400 text-sm flex-1 truncate group-hover:text-gray-600"
  }, "Connection Info, Slides, Downloads..."), /* @__PURE__ */ import_react38.default.createElement(ExpandButton, {
    className: (0, import_classnames21.default)("ml-2", {
      "group-hover:bg-gray-200": !eventDetailsExpanded,
      "group-hover:bg-blue-700": eventDetailsExpanded,
      "group-active:bg-gray-400": !eventDetailsExpanded,
      "group-active:bg-blue-900": eventDetailsExpanded
    }),
    onClick: toggleEventDetails,
    expanded: eventDetailsExpanded
  })), eventDetailsExpanded && /* @__PURE__ */ import_react38.default.createElement("div", {
    className: "text-sm border-[1px] rounded-lg border-gray-200 mb-3.5"
  }, event.dialInPhoneNumbers && event.dialInPhoneNumbers.length > 0 && /* @__PURE__ */ import_react38.default.createElement("div", {
    className: "flex my-3 px-3.5"
  }, /* @__PURE__ */ import_react38.default.createElement("span", {
    className: "font-semibold flex-shrink-0 block w-28 mr-1"
  }, "Phone number"), /* @__PURE__ */ import_react38.default.createElement("div", null, event.dialInPhoneNumbers.map((number) => /* @__PURE__ */ import_react38.default.createElement("div", {
    key: number
  }, number)))), event.dialInPin && /* @__PURE__ */ import_react38.default.createElement("div", {
    className: "flex my-3 px-3.5"
  }, /* @__PURE__ */ import_react38.default.createElement("span", {
    className: "font-semibold flex-shrink-0 block w-28 mr-1"
  }, "Pin Number"), /* @__PURE__ */ import_react38.default.createElement("span", null, event == null ? void 0 : event.dialInPin)), event.webcastUrls.length > 0 && /* @__PURE__ */ import_react38.default.createElement("div", {
    className: "flex my-3 px-3.5"
  }, /* @__PURE__ */ import_react38.default.createElement("span", {
    className: "font-semibold flex-shrink-0 block w-28 mr-1"
  }, "Webcast"), /* @__PURE__ */ import_react38.default.createElement("div", {
    className: "overflow-hidden truncate"
  }, (_a = event.webcastUrls) == null ? void 0 : _a.map((url) => /* @__PURE__ */ import_react38.default.createElement("div", {
    key: url,
    className: "block truncate"
  }, /* @__PURE__ */ import_react38.default.createElement("a", {
    className: "text-blue-600 hover:text-blue-700 active:text-blue-800 hover:underline",
    href: url,
    rel: "noreferrer",
    target: "_blank"
  }, url))))), event.audioRecordingUrl && /* @__PURE__ */ import_react38.default.createElement("div", {
    className: "flex my-3 px-3.5"
  }, /* @__PURE__ */ import_react38.default.createElement("span", {
    className: "font-semibold flex-shrink-0 block w-28 mr-1"
  }, "Download MP3"), /* @__PURE__ */ import_react38.default.createElement("span", {
    className: "block truncate"
  }, /* @__PURE__ */ import_react38.default.createElement("a", {
    className: "text-blue-600 hover:text-blue-700 active:text-blue-800 hover:underline",
    href: event.audioRecordingUrl,
    rel: "noreferrer",
    target: "_blank"
  }, event.audioRecordingUrl))))));
}
function EventDetails(props) {
  const { event, eventDetailsExpanded, toggleEventDetails } = props;
  return /* @__PURE__ */ import_react38.default.createElement(EventDetailsUI, {
    event,
    eventDetailsExpanded,
    toggleEventDetails
  });
}

// src/modules/Transcript/PriceChart/index.tsx
var import_react42 = __toModule(require_react());
var import_classnames25 = __toModule(require_classnames());
var import_highstock = __toModule(require_highstock());
var import_highcharts_react_official = __toModule(require_highcharts_react_min());

// src/components/Svg/Pin.tsx
var import_react39 = __toModule(require_react());
var import_classnames22 = __toModule(require_classnames());
function Pin({ className, alt = "Pin" }) {
  return /* @__PURE__ */ import_react39.default.createElement("svg", {
    className: (0, import_classnames22.default)(className, "fill-current", "Svg", "Svg__pin"),
    width: "100%",
    viewBox: "0 0 12 14",
    xmlns: "http://www.w3.org/2000/svg"
  }, /* @__PURE__ */ import_react39.default.createElement("title", null, alt), /* @__PURE__ */ import_react39.default.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M2.4119 0C2.17181 0 1.94623 0.114944 1.80512 0.309186C1.664 0.503428 1.62441 0.753489 1.69862 0.981821L2.50223 3.45438V4.77264C1.30693 5.34871 0.673665 6.32085 0.347619 7.15684C0.164168 7.62721 0.0734836 8.06276 0.0281426 8.38053C0.00534171 8.54033 -0.00635266 8.6729 -0.012365 8.76847C-0.0153756 8.81633 -0.0169749 8.85513 -0.0178223 8.88367C-0.0182463 8.89794 -0.0184827 8.90967 -0.0186132 8.9187L-0.0187396 8.93022L-0.0187624 8.93443L-0.018767 8.93615L-0.018768 8.9369C-0.0187683 8.93726 -0.0187683 8.9376 0.731232 8.9376H-0.0187683C-0.0187683 9.35181 0.317018 9.6876 0.731232 9.6876H5.23261V13.2461C5.23261 13.6604 5.5684 13.9961 5.98261 13.9961C6.39683 13.9961 6.73261 13.6604 6.73261 13.2461V9.6876H11.2354C11.6496 9.6876 11.9854 9.35181 11.9854 8.9376H11.2354C11.9854 8.9376 11.9854 8.93726 11.9854 8.9369L11.9854 8.93615L11.9854 8.93443L11.9854 8.93022L11.9852 8.9187C11.9851 8.90967 11.9849 8.89794 11.9844 8.88367C11.9836 8.85513 11.982 8.81633 11.979 8.76847C11.973 8.6729 11.9613 8.54033 11.9385 8.38053C11.8931 8.06276 11.8025 7.62721 11.619 7.15684C11.293 6.32085 10.6597 5.34871 9.46439 4.77264V3.45438L10.268 0.981821C10.3422 0.753489 10.3026 0.503428 10.1615 0.309186C10.0204 0.114944 9.79482 0 9.55473 0H2.4119ZM10.3748 8.1876H1.59183C1.62924 8.03598 1.67901 7.87133 1.74509 7.70187C2.00593 7.03308 2.50264 6.3236 3.49485 5.9844C3.79831 5.88065 4.00223 5.59543 4.00223 5.27472V3.33556C4.00223 3.25683 3.98984 3.1786 3.9655 3.10374L3.44427 1.5H8.52235L8.00112 3.10374C7.97679 3.1786 7.96439 3.25683 7.96439 3.33556V5.27472C7.96439 5.59543 8.16831 5.88065 8.47178 5.9844C9.46399 6.3236 9.96069 7.03308 10.2215 7.70187C10.2876 7.87133 10.3374 8.03598 10.3748 8.1876Z"
  }));
}

// src/components/Svg/PinSolid.tsx
var import_react40 = __toModule(require_react());
var import_classnames23 = __toModule(require_classnames());
function PinSolid({ className, alt = "Pin" }) {
  return /* @__PURE__ */ import_react40.default.createElement("svg", {
    className: (0, import_classnames23.default)(className, "fill-current", "Svg", "Svg__pinSolid"),
    width: "100%",
    viewBox: "0 0 12 14",
    xmlns: "http://www.w3.org/2000/svg"
  }, /* @__PURE__ */ import_react40.default.createElement("title", null, alt), /* @__PURE__ */ import_react40.default.createElement("path", {
    fillRule: "evenodd",
    clipRule: "evenodd",
    d: "M2.3356 1.33475L2.8351 2.74084V4.79647C0.85057 5.41718 0.214343 7.45042 0.0103719 8.69031C-0.0792778 9.23527 0.36184 9.6838 0.914125 9.6838H5.24867V13.2466C5.24867 13.6609 5.58446 13.9966 5.99867 13.9966C6.41288 13.9966 6.74867 13.6609 6.74867 13.2466V9.6838H11.0848C11.6371 9.6838 12.0783 9.23527 11.9886 8.69031C11.7846 7.45042 11.1484 5.41718 9.16387 4.79647V2.74084L9.66338 1.33475C9.89463 0.683783 9.41189 0 8.72107 0H3.2779C2.58709 0 2.10435 0.683783 2.3356 1.33475Z"
  }));
}

// src/components/Svg/MovementArrow.tsx
var import_react41 = __toModule(require_react());
var import_classnames24 = __toModule(require_classnames());
function MovementArrow({
  className,
  alt = "Movement Arrow"
}) {
  return /* @__PURE__ */ import_react41.default.createElement("svg", {
    className: (0, import_classnames24.default)(className, "fill-current", "Svg", "Svg__movementArrow"),
    width: "100%",
    viewBox: "0 0 8 10",
    xmlns: "http://www.w3.org/2000/svg"
  }, /* @__PURE__ */ import_react41.default.createElement("title", null, alt), /* @__PURE__ */ import_react41.default.createElement("path", {
    d: "M3.07553 1.24173C3.41575 0.416723 4.58425 0.416724 4.92447 1.24173L7.76051 8.11875C8.03196 8.77699 7.54805 9.5 6.83604 9.5H1.16396C0.451948 9.5 -0.0319641 8.77699 0.239489 8.11875L3.07553 1.24173Z"
  }));
}

// src/modules/Transcript/PriceChart/index.tsx
function addMin(min) {
  return 1635266013785 + 6e4 * min;
}
var chartData = [
  {
    x: addMin(1),
    y: 76.32
  },
  {
    x: addMin(2),
    y: 74.3
  },
  {
    x: addMin(3),
    y: 73.3
  },
  {
    x: addMin(4),
    y: 76.8
  },
  {
    x: addMin(5),
    y: 76.5
  },
  {
    x: addMin(6),
    y: 74.54
  },
  {
    x: addMin(7),
    y: 76.75
  },
  {
    x: addMin(8),
    y: 77.32
  },
  {
    x: addMin(9),
    y: 75.23
  },
  {
    x: addMin(10),
    y: 76.42
  },
  {
    x: addMin(11),
    y: 78.43
  },
  {
    x: addMin(12),
    y: 79.64
  },
  {
    x: addMin(13),
    y: 82.32
  },
  {
    x: addMin(14),
    y: 75.23
  },
  {
    x: addMin(15),
    y: 74.42
  },
  {
    x: addMin(16),
    y: 79.43
  },
  {
    x: addMin(17),
    y: 76.64
  },
  {
    x: addMin(18),
    y: 82.32
  },
  {
    x: addMin(19),
    y: 84.42
  },
  {
    x: addMin(20),
    y: 89.76
  }
];
function PriceChartUI(props) {
  const { togglePin, togglePriceChart, pinned, priceChartExpanded, currentPrice, setPrice } = props;
  const price = parseFloat(currentPrice == null ? void 0 : currentPrice.toFixed(2));
  const originalPrice = 75.32;
  const absolutePriceChange = parseFloat((price - originalPrice).toFixed(2));
  const percentPriceChange = parseFloat((absolutePriceChange * 100 / originalPrice).toFixed(2));
  const options = {
    chart: {
      type: "areaspline",
      spacing: [0, 0, 0, 0],
      height: 60
    },
    credits: { enabled: false },
    scrollbar: { enabled: false },
    series: [
      {
        type: "areaspline",
        fillColor: "rgb(135, 206, 235, 0.08)",
        lineColor: "#0094FF",
        shadow: {
          color: "#C1DFF0",
          opacity: 0.3,
          offsetY: 2,
          width: 5
        },
        threshold: null,
        point: {
          events: {
            mouseOver: (e) => {
              var _a, _b, _c, _d, _e;
              const event = e;
              if ((_a = event == null ? void 0 : event.target) == null ? void 0 : _a.x) {
                const hoverPoint = event.target.x;
                if (typeof hoverPoint === "number") {
                  let epoch = (_b = chartData[0]) == null ? void 0 : _b.x;
                  let idx = 0;
                  for (let i3 = 0; i3 < chartData.length; i3++) {
                    if (epoch && typeof epoch === "number" && Math.abs(hoverPoint - (((_c = chartData[i3]) == null ? void 0 : _c.x) || 0)) < Math.abs(hoverPoint - epoch)) {
                      epoch = (_d = chartData[i3]) == null ? void 0 : _d.x;
                      idx = i3;
                    }
                  }
                  const newPrice = (_e = chartData[idx]) == null ? void 0 : _e.y;
                  if (typeof newPrice === "number") {
                    setPrice(newPrice);
                  }
                }
              }
            },
            mouseOut: () => {
              var _a;
              const newPrice = (_a = chartData[(chartData || []).length - 1]) == null ? void 0 : _a.y;
              if (typeof newPrice === "number") {
                setPrice(newPrice);
              }
            }
          }
        },
        data: chartData
      }
    ],
    navigator: { enabled: false },
    rangeSelector: { enabled: false },
    tooltip: {
      enabled: false
    },
    xAxis: {
      gridLineColor: "transparent",
      labels: {
        enabled: true,
        style: {
          fontFamily: 'ui-sans-serif, system-ui, -apple-system, system-ui, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',
          fontSize: "10px",
          letterSpacing: "1px",
          color: "rgb(156, 163, 175)"
        }
      },
      top: -6,
      lineWidth: 0,
      plotLines: [
        {
          color: "orange",
          value: 1635267129890,
          width: 3
        }
      ],
      tickColor: "transparent",
      title: {
        text: null
      },
      type: "datetime",
      zIndex: 1
    },
    yAxis: {
      offset: -10,
      endOnTick: true,
      tickPixelInterval: 30,
      showFirstLabel: false,
      maxPadding: 0,
      minPadding: 0.21,
      height: 60,
      gridLineColor: "transparent",
      labels: {
        format: "${value}"
      }
    }
  };
  return /* @__PURE__ */ import_react42.default.createElement("div", null, /* @__PURE__ */ import_react42.default.createElement("div", {
    className: "flex flex-col justify-start border-t-[1px] border-gray-100"
  }, /* @__PURE__ */ import_react42.default.createElement("div", {
    className: "flex items-center justify-start h-10 px-3"
  }, /* @__PURE__ */ import_react42.default.createElement("span", {
    className: "text-sm block font-semibold w-28 mr-1 cursor-pointer",
    onClick: togglePriceChart
  }, "Price Reaction"), /* @__PURE__ */ import_react42.default.createElement("span", {
    className: "flex-1"
  }), /* @__PURE__ */ import_react42.default.createElement("span", {
    className: (0, import_classnames25.default)("text-sm flex cursor-pointer mr-4", {
      "text-green-500": absolutePriceChange > 0,
      "hover:text-green-600": absolutePriceChange > 0,
      "active:text-green-800": absolutePriceChange > 0,
      "text-red-500": absolutePriceChange < 0,
      "hover:text-red-600": absolutePriceChange < 0,
      "active:text-red-800": absolutePriceChange < 0
    }),
    onClick: togglePriceChart
  }, `$${price} ${absolutePriceChange > 0 ? "+" : ""}${absolutePriceChange} (${percentPriceChange}%)`, /* @__PURE__ */ import_react42.default.createElement(MovementArrow, {
    className: (0, import_classnames25.default)("ml-1 w-2", { "rotate-180": absolutePriceChange < 0 })
  })), /* @__PURE__ */ import_react42.default.createElement("div", {
    className: (0, import_classnames25.default)("flex mr-1 cursor-pointer", {
      "text-blue-600": pinned,
      "text-gray-400": !pinned,
      "hover:text-blue-700": pinned,
      "hover:text-gray-600": !pinned,
      "active:text-blue-900": pinned,
      "active:text-gray-900": !pinned
    }),
    onClick: (e) => {
      e.preventDefault();
      e.stopPropagation();
      togglePin();
    }
  }, pinned ? /* @__PURE__ */ import_react42.default.createElement(PinSolid, {
    className: "w-[12px]"
  }) : /* @__PURE__ */ import_react42.default.createElement(Pin, {
    className: "w-[12px]"
  })), /* @__PURE__ */ import_react42.default.createElement(ExpandButton, {
    className: (0, import_classnames25.default)("ml-2", {
      "hover:bg-gray-200": !priceChartExpanded,
      "hover:bg-blue-700": priceChartExpanded,
      "active:bg-gray-400": !priceChartExpanded,
      "active:bg-blue-900": priceChartExpanded
    }),
    onClick: togglePriceChart,
    expanded: priceChartExpanded
  })), priceChartExpanded && /* @__PURE__ */ import_react42.default.createElement("div", {
    className: "overflow-hidden relative"
  }, /* @__PURE__ */ import_react42.default.createElement(import_highcharts_react_official.default, {
    options,
    highcharts: import_highstock.default,
    constructorType: "stockChart"
  }))));
}
function PriceChart(props) {
  var _a;
  const { headerExpanded, togglePriceChart, priceChartExpanded } = props;
  const [pinned, setPinState] = (0, import_react42.useState)(false);
  const [currentPrice, setPrice] = (0, import_react42.useState)((_a = chartData[chartData.length - 1]) == null ? void 0 : _a.y);
  const togglePin = (0, import_react42.useCallback)(() => setPinState(!pinned), [pinned]);
  if (!pinned && !headerExpanded || typeof currentPrice !== "number")
    return null;
  return /* @__PURE__ */ import_react42.default.createElement(PriceChartUI, {
    togglePriceChart,
    togglePin,
    currentPrice: currentPrice || 0,
    setPrice,
    pinned,
    priceChartExpanded
  });
}

// src/modules/Transcript/Header/index.tsx
function HeaderUI(props) {
  const {
    eventQuery,
    onBack,
    headerRef,
    headerExpanded,
    toggleHeader,
    eventDetailsExpanded,
    toggleEventDetails,
    priceChartExpanded,
    togglePriceChart,
    searchTerm,
    onChangeSearchTerm
  } = props;
  return /* @__PURE__ */ import_react43.default.createElement("div", {
    ref: headerRef,
    className: (0, import_classnames26.default)("bg-white relative pt-3 rounded-b-lg -mb-1 z-20 transition-all overflow-hidden", {
      "shadow-3xl": !headerExpanded,
      "shadow-xl": headerExpanded
    }, "transcript__header")
  }, /* @__PURE__ */ import_react43.default.createElement("div", {
    className: "flex items-center px-3"
  }, onBack && /* @__PURE__ */ import_react43.default.createElement(Button, {
    className: "mr-2",
    onClick: onBack
  }, /* @__PURE__ */ import_react43.default.createElement(ArrowLeft, {
    className: "fill-current text-black w-3.5 z-1 relative mr-2 group-active:fill-current group-active:text-white"
  }), "Events"), /* @__PURE__ */ import_react43.default.createElement(Input, {
    name: "search",
    className: "mr-3",
    placeholder: "Search Transcripts...",
    value: searchTerm,
    onChange: onChangeSearchTerm
  }, /* @__PURE__ */ import_react43.default.createElement(MagnifyingGlass, null)), /* @__PURE__ */ import_react43.default.createElement("div", {
    className: "items-center flex"
  }, /* @__PURE__ */ import_react43.default.createElement(Gear, {
    className: "w-5"
  }))), (0, import_ts_pattern5.match)(eventQuery).with({ status: "loading" }, () => {
    return /* @__PURE__ */ import_react43.default.createElement("div", {
      className: "flex flex-row p-3 items-center"
    }, /* @__PURE__ */ import_react43.default.createElement("div", {
      className: "animate-pulse flex-1"
    }, /* @__PURE__ */ import_react43.default.createElement("div", {
      className: "flex"
    }, /* @__PURE__ */ import_react43.default.createElement("div", {
      className: "rounded-md bg-gray-500 h-[10px] m-1 w-7"
    }), /* @__PURE__ */ import_react43.default.createElement("div", {
      className: "rounded-md bg-gray-400 h-[10px] m-1 w-10"
    }), /* @__PURE__ */ import_react43.default.createElement("div", {
      className: "rounded-md bg-gray-300 h-[10px] m-1 w-20"
    }), /* @__PURE__ */ import_react43.default.createElement("div", {
      className: "rounded-md bg-gray-300 h-[10px] m-1 w-20"
    })), /* @__PURE__ */ import_react43.default.createElement("div", {
      className: "flex"
    }, /* @__PURE__ */ import_react43.default.createElement("div", {
      className: "rounded-md bg-gray-300 h-[10px] m-1 flex-1"
    }))), /* @__PURE__ */ import_react43.default.createElement(ExpandButton, {
      className: "ml-2 mt-2 self-start",
      onClick: toggleHeader,
      expanded: headerExpanded
    }));
  }).with({ status: "empty" }, { status: "success" }, ({ data }) => {
    var _a, _b, _c, _d, _e;
    const event = data.events[0];
    const primaryQuote = getPrimaryQuote(event == null ? void 0 : event.primaryCompany);
    const eventDate = ((_a = data.events[0]) == null ? void 0 : _a.eventDate) && import_luxon.DateTime.fromISO(data.events[0].eventDate);
    const hasEventExtras = ((_b = event == null ? void 0 : event.dialInPhoneNumbers) == null ? void 0 : _b.length) || (event == null ? void 0 : event.dialInPin) || ((_c = event == null ? void 0 : event.webcastUrls) == null ? void 0 : _c.length) || (event == null ? void 0 : event.audioRecordingUrl);
    return /* @__PURE__ */ import_react43.default.createElement(import_react43.default.Fragment, null, /* @__PURE__ */ import_react43.default.createElement("div", {
      className: (0, import_classnames26.default)("flex flex-row p-3 items-center", {
        "cursor-pointer": hasEventExtras,
        group: hasEventExtras
      }),
      onClick: hasEventExtras ? toggleHeader : void 0
    }, /* @__PURE__ */ import_react43.default.createElement("div", {
      className: "flex flex-col justify-center flex-1 min-w-0"
    }, /* @__PURE__ */ import_react43.default.createElement("div", {
      className: "text-xs"
    }, (primaryQuote == null ? void 0 : primaryQuote.localTicker) && /* @__PURE__ */ import_react43.default.createElement("span", {
      className: "pr-1 font-semibold"
    }, primaryQuote == null ? void 0 : primaryQuote.localTicker), ((_d = primaryQuote == null ? void 0 : primaryQuote.exchange) == null ? void 0 : _d.shortName) && /* @__PURE__ */ import_react43.default.createElement("span", {
      className: "text-gray-400 group-hover:text-gray-500"
    }, (_e = primaryQuote == null ? void 0 : primaryQuote.exchange) == null ? void 0 : _e.shortName), (event == null ? void 0 : event.eventType) && /* @__PURE__ */ import_react43.default.createElement("span", {
      className: "text-gray-300 group-hover:text-gray-400 capitalize"
    }, " ", "\u2022 ", event == null ? void 0 : event.eventType.replace(/_/g, " ")), eventDate && /* @__PURE__ */ import_react43.default.createElement("span", {
      className: "text-gray-300 group-hover:text-gray-400"
    }, " ", "\u2022 ", eventDate.toFormat("h:mma M/dd/yyyy"))), /* @__PURE__ */ import_react43.default.createElement("div", {
      className: headerExpanded ? "text-sm" : "text-sm truncate whitespace-normal line-clamp-1"
    }, event == null ? void 0 : event.title)), hasEventExtras && /* @__PURE__ */ import_react43.default.createElement(ExpandButton, {
      className: (0, import_classnames26.default)("ml-2 mt-2 self-start", {
        "group-hover:bg-gray-200": !headerExpanded,
        "group-hover:bg-blue-700": headerExpanded,
        "group-active:bg-gray-400": !headerExpanded,
        "group-active:bg-blue-900": headerExpanded
      }),
      onClick: toggleHeader,
      expanded: headerExpanded
    })), headerExpanded && event && /* @__PURE__ */ import_react43.default.createElement(EventDetails, {
      event,
      eventDetailsExpanded,
      toggleEventDetails
    }), /* @__PURE__ */ import_react43.default.createElement(PriceChart, {
      headerExpanded,
      priceChartExpanded,
      togglePriceChart
    }));
  }).otherwise(() => null));
}
function Header(props) {
  const { eventQuery, onBack, searchTerm, onChangeSearchTerm } = props;
  const [headerExpanded, setHeaderState] = (0, import_react43.useState)(false);
  const [priceChartExpanded, setPriceChartState] = (0, import_react43.useState)(false);
  const [eventDetailsExpanded, setEventDetailsState] = (0, import_react43.useState)(false);
  const toggleHeader = (0, import_react43.useCallback)(() => setHeaderState(!headerExpanded), [headerExpanded]);
  const toggleEventDetails = (0, import_react43.useCallback)(() => {
    setEventDetailsState(!eventDetailsExpanded);
    if (priceChartExpanded && !eventDetailsExpanded) {
      setPriceChartState(false);
    }
  }, [eventDetailsExpanded, priceChartExpanded]);
  const togglePriceChart = (0, import_react43.useCallback)(() => {
    setPriceChartState(!priceChartExpanded);
    if (eventDetailsExpanded && !priceChartExpanded) {
      setEventDetailsState(false);
    }
  }, [priceChartExpanded, eventDetailsExpanded]);
  const headerRef = (0, import_react43.useRef)(null);
  useOutsideClickHandler([headerRef], (0, import_react43.useCallback)(() => {
    if (headerExpanded) {
      toggleHeader();
    }
  }, [headerExpanded]));
  return /* @__PURE__ */ import_react43.default.createElement(HeaderUI, {
    eventQuery,
    onBack,
    headerRef,
    headerExpanded,
    toggleHeader,
    eventDetailsExpanded,
    toggleEventDetails,
    togglePriceChart,
    priceChartExpanded,
    searchTerm,
    onChangeSearchTerm
  });
}

// src/modules/Transcript/index.tsx
var TranscriptUI = (props) => {
  const {
    currentParagraph,
    currentParagraphRef,
    eventQuery,
    onBack,
    onClickTranscript,
    speakerTurns,
    showSpeakers,
    scrollRef,
    searchTerm,
    onChangeSearchTerm,
    matches,
    currentMatch,
    currentMatchRef,
    nextMatch,
    prevMatch,
    matchIndex
  } = props;
  return /* @__PURE__ */ import_react44.default.createElement("div", {
    className: "h-full flex flex-col transcript bg-gray-50"
  }, /* @__PURE__ */ import_react44.default.createElement("div", null, /* @__PURE__ */ import_react44.default.createElement(Header, {
    eventQuery,
    onBack,
    searchTerm,
    onChangeSearchTerm
  }), searchTerm && /* @__PURE__ */ import_react44.default.createElement("div", {
    className: "flex items-center h-10 bg-gray-100 text-gray-500 text-sm p-3 shadow"
  }, /* @__PURE__ */ import_react44.default.createElement("div", {
    className: "text-sm"
  }, "Showing ", matches.length, " result", matches.length === 1 ? "" : "s", ' for "', /* @__PURE__ */ import_react44.default.createElement("span", {
    className: "font-semibold"
  }, searchTerm), '"'), /* @__PURE__ */ import_react44.default.createElement("div", {
    className: "flex-1"
  }), /* @__PURE__ */ import_react44.default.createElement("div", {
    className: "w-2.5 mr-2 cursor-pointer hover:text-gray-600",
    onClick: nextMatch
  }, /* @__PURE__ */ import_react44.default.createElement(Chevron, null)), /* @__PURE__ */ import_react44.default.createElement("div", {
    className: "min-w-[35px] mr-2 text-center"
  }, matchIndex + 1, " / ", matches.length), /* @__PURE__ */ import_react44.default.createElement("div", {
    className: "w-2.5 cursor-pointer rotate-180 hover:text-gray-600",
    onClick: prevMatch
  }, /* @__PURE__ */ import_react44.default.createElement(Chevron, null)))), /* @__PURE__ */ import_react44.default.createElement("div", {
    className: "overflow-y-scroll flex-1 bg-gray-50",
    ref: scrollRef
  }, (0, import_ts_pattern6.match)(eventQuery).with({ status: "loading" }, () => new Array(5).fill(0).map((_2, idx) => /* @__PURE__ */ import_react44.default.createElement("div", {
    key: idx,
    className: "animate-pulse p-2"
  }, /* @__PURE__ */ import_react44.default.createElement("div", {
    className: "rounded-md bg-gray-300 h-3 m-1 w-10"
  }), /* @__PURE__ */ import_react44.default.createElement("div", {
    className: "rounded-md bg-gray-300 h-3 m-1 ml-14"
  }), /* @__PURE__ */ import_react44.default.createElement("div", {
    className: "rounded-md bg-gray-300 h-3 m-1"
  }), /* @__PURE__ */ import_react44.default.createElement("div", {
    className: "rounded-md bg-gray-300 h-3 m-1"
  }), /* @__PURE__ */ import_react44.default.createElement("div", {
    className: "rounded-md bg-gray-300 h-3 m-1 mr-20"
  })))).with({ status: "empty" }, ({ data }) => {
    return data.events[0] && /* @__PURE__ */ import_react44.default.createElement(EmptyMessage, {
      event: data.events[0]
    });
  }).with({ status: "success" }, () => {
    return speakerTurns.map(({ id, speaker, paragraphsWithMatches: paragraphs }) => {
      return /* @__PURE__ */ import_react44.default.createElement("div", {
        key: `speaker-turn-${id}`
      }, showSpeakers && /* @__PURE__ */ import_react44.default.createElement("div", {
        className: "p-3 pb-1 truncate text-sm -mb-3 sticky top-0 z-10 bg-gray-50"
      }, /* @__PURE__ */ import_react44.default.createElement("span", {
        className: "font-semibold"
      }, speaker.name), speaker.title && /* @__PURE__ */ import_react44.default.createElement("span", {
        className: "text-gray-400"
      }, ", ", speaker.title)), paragraphs.map(({ chunks, paragraph }) => {
        const { id: id2, timestamp } = paragraph;
        return /* @__PURE__ */ import_react44.default.createElement("div", {
          key: id2,
          id: `paragraph-${id2}`,
          className: "relative p-3 pb-4",
          onClick: () => onClickTranscript == null ? void 0 : onClickTranscript(paragraph),
          ref: id2 === currentParagraph ? currentParagraphRef : void 0
        }, timestamp && /* @__PURE__ */ import_react44.default.createElement("div", {
          className: "pb-2 font-semibold text-sm"
        }, import_luxon2.DateTime.fromISO(timestamp).toFormat("h:mm:ss a")), /* @__PURE__ */ import_react44.default.createElement("div", {
          className: "text-sm"
        }, chunks.map(({ highlight, id: id3, text }) => highlight ? /* @__PURE__ */ import_react44.default.createElement("mark", {
          ref: id3 === currentMatch ? currentMatchRef : void 0,
          className: (0, import_classnames27.default)({
            "bg-yellow-300": id3 === currentMatch
          }),
          key: id3
        }, text) : /* @__PURE__ */ import_react44.default.createElement("span", {
          key: id3
        }, text))), id2 === currentParagraph && /* @__PURE__ */ import_react44.default.createElement("div", {
          className: "w-[3px] bg-blue-700 absolute top-0 bottom-0 left-0 rounded-r-sm"
        }));
      }));
    });
  }).otherwise(() => null)), (0, import_ts_pattern6.match)(eventQuery).with({ status: "success" }, ({ data: { events } }) => {
    const event = events[0];
    const primaryQuote = getPrimaryQuote(event == null ? void 0 : event.primaryCompany);
    return ((event == null ? void 0 : event.audioRecordingUrl) || (event == null ? void 0 : event.isLive)) && /* @__PURE__ */ import_react44.default.createElement(Playbar, {
      id: event == null ? void 0 : event.id,
      url: event.isLive ? `https://storage.media.aiera.com/${event.id}` : event.audioRecordingUrl || "",
      offset: ((event == null ? void 0 : event.audioRecordingOffsetMs) || 0) / 1e3,
      metaData: {
        quote: primaryQuote,
        eventType: event == null ? void 0 : event.eventType
      }
    });
  }).otherwise(() => null));
};
function useEventUpdates(eventId) {
  var _a;
  const eventUpdateQuery = useQuery2({
    query: lib_default`
            query EventUpdates($eventId: ID!) {
                events(filter: { eventIds: [$eventId] }) {
                    id
                    eventDate
                    hasConnectionDetails
                    isLive
                    audioRecordingUrl
                    audioRecordingOffsetMs
                    publishedTranscriptExpected
                    hasTranscript
                    hasPublishedTranscript
                    connectionStatus
                }
            }
        `,
    requestPolicy: "network-only",
    variables: {
      eventId
    }
  });
  function isLiveOrBefore(event, hoursAfterEvent = 0) {
    if (!event)
      return false;
    if (event.isLive)
      return true;
    const eventDate = import_luxon2.DateTime.fromISO(event.eventDate);
    return (eventDate.diffNow("hours").toObject().hours || 0) > 0 - hoursAfterEvent;
  }
  useInterval(() => eventUpdateQuery.refetch(), isLiveOrBefore((_a = eventUpdateQuery.state.data) == null ? void 0 : _a.events[0], 1) ? 5e3 : null);
  return eventUpdateQuery;
}
function useEventData(eventId, eventUpdateQuery) {
  var _a, _b;
  const eventQuery = useQuery2({
    isEmpty: ({ events }) => {
      var _a2, _b2, _c, _d;
      return !((_c = (_b2 = (_a2 = events[0]) == null ? void 0 : _a2.transcripts[0]) == null ? void 0 : _b2.sections) == null ? void 0 : _c.length) && !((_d = events[0]) == null ? void 0 : _d.hasTranscript);
    },
    query: lib_default`
            query Transcript($eventId: ID!) {
                events(filter: { eventIds: [$eventId] }) {
                    id
                    title
                    eventDate
                    eventType
                    hasConnectionDetails
                    isLive
                    audioRecordingUrl
                    audioRecordingOffsetMs
                    publishedTranscriptExpected
                    hasTranscript
                    hasPublishedTranscript
                    webcastUrls
                    dialInPhoneNumbers
                    dialInPin
                    connectionStatus
                    primaryCompany {
                        id
                        commonName
                        instruments {
                            id
                            isPrimary
                            quotes {
                                id
                                isPrimary
                                localTicker
                                exchange {
                                    id
                                    shortName
                                    country {
                                        id
                                        countryCode
                                    }
                                }
                            }
                        }
                    }
                    transcripts {
                        id
                        sections {
                            id
                            speakerTurns {
                                id
                                speaker {
                                    id
                                    name
                                    title
                                }
                                paragraphs {
                                    id
                                    timestamp
                                    syncMs
                                    sentences {
                                        id
                                        text
                                    }
                                }
                            }
                        }
                    }
                }
            }
        `,
    requestPolicy: "cache-and-network",
    variables: {
      eventId
    }
  });
  (0, import_react44.useEffect)(() => {
    var _a2, _b2;
    if ((_b2 = (_a2 = eventUpdateQuery.state.data) == null ? void 0 : _a2.events[0]) == null ? void 0 : _b2.hasTranscript) {
      eventQuery.refetch();
    }
  }, [(_b = (_a = eventUpdateQuery.state.data) == null ? void 0 : _a.events[0]) == null ? void 0 : _b.hasTranscript]);
  return eventQuery;
}
function useLatestTranscripts(eventId, eventQuery) {
  var _a, _b, _c, _d;
  const latestParagraphsQuery = useQuery2({
    query: lib_default`
            query LatestParagraphs($eventId: ID!) {
                events(filter: { eventIds: [$eventId] }) {
                    id
                    transcripts {
                        id
                        latestParagraphs {
                            id
                            timestamp
                            syncMs
                            sentences {
                                id
                                text
                            }
                        }
                    }
                }
            }
        `,
    requestPolicy: "network-only",
    pause: true,
    variables: {
      eventId
    }
  });
  useInterval(() => latestParagraphsQuery.refetch(), ((_b = (_a = eventQuery.state.data) == null ? void 0 : _a.events[0]) == null ? void 0 : _b.isLive) ? 2e3 : null);
  const [latestParagraphs, setLatestParagraphs] = (0, import_react44.useState)(new Map());
  (0, import_react44.useEffect)(() => {
    if (latestParagraphsQuery.state.data) {
      setLatestParagraphs((prev) => {
        var _a2, _b2, _c2;
        const next = new Map(prev);
        (((_c2 = (_b2 = (_a2 = latestParagraphsQuery.state.data) == null ? void 0 : _a2.events[0]) == null ? void 0 : _b2.transcripts[0]) == null ? void 0 : _c2.latestParagraphs) || []).forEach((p2) => {
          next.set(p2.id, p2);
        });
        return next;
      });
    }
  }, [latestParagraphsQuery.state.data]);
  return (0, import_react44.useMemo)(() => {
    var _a2, _b2, _c2;
    const speakerTurns = ((_c2 = (_b2 = (_a2 = eventQuery.state.data) == null ? void 0 : _a2.events[0]) == null ? void 0 : _b2.transcripts[0]) == null ? void 0 : _c2.sections.flatMap((section) => section.speakerTurns)) || [];
    const originalParagraphIds = new Set(speakerTurns.flatMap((s3) => s3.paragraphs.map((p2) => p2.id)));
    return speakerTurns.map((s3, idx) => {
      var _a3, _b3;
      let updatedParagraphs = s3.paragraphs.map((p2) => __spreadValues(__spreadValues({}, p2), latestParagraphs.get(p2.id) || {}));
      if (idx === speakerTurns.length - 1) {
        updatedParagraphs = [
          ...updatedParagraphs,
          ...[...latestParagraphs.values()].filter((p2) => !originalParagraphIds.has(p2.id))
        ];
      }
      if ((_b3 = (_a3 = eventQuery.state.data) == null ? void 0 : _a3.events[0]) == null ? void 0 : _b3.isLive) {
        updatedParagraphs.sort((p1, p2) => p1.timestamp && p2.timestamp ? p1.timestamp.localeCompare(p2.timestamp) : p1.id.localeCompare(p2.id));
      }
      return __spreadProps(__spreadValues({}, s3), {
        paragraphs: updatedParagraphs
      });
    });
  }, [(_d = (_c = eventQuery.state.data) == null ? void 0 : _c.events[0]) == null ? void 0 : _d.transcripts, latestParagraphs]);
}
function useAudioSync(speakerTurns, eventQuery, audioPlayer) {
  const [currentParagraph, setCurrentParagraph] = (0, import_react44.useState)(null);
  const [scrollRef, currentParagraphRef] = useAutoScroll();
  const paragraphs = (0, import_react44.useMemo)(() => speakerTurns.flatMap((s3) => s3.paragraphs), [speakerTurns]);
  (0, import_react44.useEffect)(() => {
    var _a, _b;
    let paragraph = [...paragraphs].reverse().find((p2) => p2.syncMs && p2.syncMs <= audioPlayer.rawCurrentTime * 1e3);
    if (!paragraph) {
      paragraph = ((_b = (_a = eventQuery.state.data) == null ? void 0 : _a.events[0]) == null ? void 0 : _b.isLive) ? paragraphs.slice(-1)[0] : paragraphs[0];
    }
    if (paragraph) {
      setCurrentParagraph(paragraph.id);
    }
  }, [paragraphs, Math.floor(audioPlayer.rawCurrentTime)]);
  return [currentParagraph, setCurrentParagraph, scrollRef, currentParagraphRef];
}
function useSearchState(speakerTurns) {
  const { state, handlers } = useChangeHandlers({
    searchTerm: ""
  });
  const [currentMatch, setCurrentMatch] = (0, import_react44.useState)(null);
  const [scrollRef, currentMatchRef] = useAutoScroll({
    pauseOnUserScroll: false,
    block: "center",
    inline: "center",
    behavior: "auto"
  });
  const speakerTurnsWithMatches = (0, import_react44.useMemo)(() => speakerTurns.map((s3) => __spreadProps(__spreadValues({}, s3), {
    paragraphsWithMatches: s3.paragraphs.map((paragraph) => {
      if (!state.searchTerm) {
        return {
          chunks: paragraph.sentences.map(({ text: text2 }, idx) => ({
            highlight: false,
            id: `${paragraph.id}-chunk-${idx}`,
            text: text2
          })),
          paragraph
        };
      }
      const text = paragraph.sentences.map((s4) => s4.text).join(" ");
      const chunks = (0, import_highlight_words_core.findAll)({
        autoEscape: true,
        caseSensitive: false,
        searchWords: [state.searchTerm],
        textToHighlight: text
      }).map(({ highlight, start, end }, idx) => ({
        highlight,
        id: `${paragraph.id}-chunk-${idx}`,
        text: text.substr(start, end - start)
      }));
      return {
        chunks,
        paragraph
      };
    })
  })), [speakerTurns, state.searchTerm]);
  const matches = (0, import_react44.useMemo)(() => speakerTurnsWithMatches.flatMap((s3) => s3.paragraphsWithMatches).flatMap((p2) => p2.chunks.filter((h3) => h3.highlight)), [speakerTurnsWithMatches]);
  (0, import_react44.useEffect)(() => {
    var _a;
    setCurrentMatch(((_a = matches[0]) == null ? void 0 : _a.id) || null);
  }, [state.searchTerm]);
  const matchIndex = (0, import_react44.useMemo)(() => matches.findIndex((m2) => m2.id === currentMatch), [matches, currentMatch]);
  const nextMatch = (0, import_react44.useCallback)(() => {
    const match9 = matches[(matchIndex + 1) % matches.length];
    if (match9)
      setCurrentMatch(match9.id);
  }, [matches, matchIndex]);
  const prevMatch = (0, import_react44.useCallback)(() => {
    const match9 = matches[matchIndex ? matchIndex - 1 : matches.length - 1];
    if (match9)
      setCurrentMatch(match9.id);
  }, [matches, matchIndex]);
  return {
    searchTerm: state.searchTerm,
    onChangeSearchTerm: handlers.searchTerm,
    speakerTurnsWithMatches,
    matches,
    matchIndex,
    nextMatch,
    prevMatch,
    scrollRef,
    currentMatch,
    currentMatchRef
  };
}
var Transcript = (props) => {
  var _a, _b;
  const { eventId, onBack } = props;
  const eventUpdateQuery = useEventUpdates(eventId);
  const eventQuery = useEventData(eventId, eventUpdateQuery);
  const audioPlayer = useAudioPlayer();
  const speakerTurns = useLatestTranscripts(eventId, eventQuery);
  const [currentParagraph, _setCurrentParagraph, autoScrollRef, currentParagraphRef] = useAudioSync(speakerTurns, eventQuery, audioPlayer);
  const searchState = useSearchState(speakerTurns);
  const scrollRef = (0, import_react44.useCallback)((ref) => {
    autoScrollRef(ref);
    searchState.scrollRef(ref);
  }, [autoScrollRef, searchState.scrollRef]);
  const onClickTranscript = (paragraph) => {
    audioPlayer.rawSeek((paragraph.syncMs || 0) / 1e3);
  };
  useAutoTrack("View", "Event", { eventId }, [eventId]);
  return /* @__PURE__ */ import_react44.default.createElement(TranscriptUI, {
    eventQuery,
    currentParagraph,
    currentParagraphRef,
    speakerTurns: searchState.speakerTurnsWithMatches,
    showSpeakers: !((_b = (_a = eventQuery.state.data) == null ? void 0 : _a.events[0]) == null ? void 0 : _b.isLive),
    onBack,
    onClickTranscript,
    scrollRef,
    searchTerm: searchState.searchTerm,
    onChangeSearchTerm: searchState.onChangeSearchTerm,
    matches: searchState.matches,
    matchIndex: searchState.matchIndex,
    nextMatch: searchState.nextMatch,
    prevMatch: searchState.prevMatch,
    currentMatch: searchState.currentMatch,
    currentMatchRef: searchState.currentMatchRef
  });
};

// src/components/Tabs/index.tsx
var import_react45 = __toModule(require_react());
var import_classnames28 = __toModule(require_classnames());
var import_ts_pattern7 = __toModule(require_lib());
var Tabs = (props) => {
  const { onChange, options = [], value, kind = "button", className = "" } = props;
  const getClasses = (val, opStyles) => (0, import_ts_pattern7.match)(kind).with("button", () => (0, import_classnames28.default)("py-2", "px-3", "text-sm", "cursor-pointer", "rounded-lg", {
    "bg-gray-100": val === value,
    "font-semibold": val === value,
    tab__option: true,
    "tab__option--selected": val === value
  }, opStyles)).with("line", () => (0, import_classnames28.default)("relative", "text-sm", "h-6", "flex", "mr-3", "pb-0.5", "overflow-hidden", {
    "cursor-pointer": val !== value,
    "text-gray-400": val !== value,
    "text-black": val === value,
    "font-semibold": val === value,
    "hover:text-gray-500": val !== value,
    "active:text-gray-800": val !== value,
    tab__option: true,
    "tab__option--selected": val === value
  }, opStyles)).exhaustive();
  return /* @__PURE__ */ import_react45.default.createElement("div", {
    className: `flex tab relative ${className}`
  }, options.map(({ value: opVal, label, className: opStyles = "" }) => /* @__PURE__ */ import_react45.default.createElement("div", {
    key: `tab-option-${opVal}`,
    className: getClasses(opVal, opStyles),
    onClick: (event) => onChange && onChange(event, { value: opVal })
  }, label, kind === "line" && /* @__PURE__ */ import_react45.default.createElement("div", {
    className: (0, import_classnames28.default)("h-0.5", "bg-blue-600", "absolute", "left-0", "right-0", "duration-200", "ease-in-out", "rounded-t-sm", {
      "bottom-0": opVal === value,
      "-bottom-0.5": opVal !== value
    })
  }))));
};

// src/modules/EventList/FilterBy/index.tsx
var import_react46 = __toModule(require_react());
var import_classnames29 = __toModule(require_classnames());
var FilterBy = (props) => {
  const { children, onChange, options = [], value = [] } = props;
  return /* @__PURE__ */ import_react46.default.createElement("div", {
    className: "flex items-center pl-3 pr-1.5 h-9 bg-white rounded-lg shadow eventlist__filterby"
  }, children || /* @__PURE__ */ import_react46.default.createElement("div", {
    className: "text-sm font-semibold"
  }, "Filter By"), /* @__PURE__ */ import_react46.default.createElement("div", {
    className: "flex justify-end flex-1"
  }, options.map((option) => /* @__PURE__ */ import_react46.default.createElement("div", {
    key: `filterby-option-${option.value}`,
    className: (0, import_classnames29.default)("flex", "mx-1", "last:mx-0", "py-0.5", "px-2", "rounded-full", "text-sm", "cursor-pointer", "rounded-md", "border", {
      "bg-blue-100": value == null ? void 0 : value.includes(option.value),
      "border-blue-300": value == null ? void 0 : value.includes(option.value),
      "border-gray-100": !(value == null ? void 0 : value.includes(option.value)),
      "text-blue-600": value == null ? void 0 : value.includes(option.value),
      "text-gray-500": !(value == null ? void 0 : value.includes(option.value)),
      "hover:border-gray-300": !(value == null ? void 0 : value.includes(option.value)),
      "hover:text-gray-700": !(value == null ? void 0 : value.includes(option.value)),
      "hover:bg-blue-200": value == null ? void 0 : value.includes(option.value),
      "hover:border-blue-500": value == null ? void 0 : value.includes(option.value),
      "active:bg-white": value == null ? void 0 : value.includes(option.value),
      "active:border-blue-500": value == null ? void 0 : value.includes(option.value),
      "active:bg-gray-200": !(value == null ? void 0 : value.includes(option.value)),
      "active:border-gray-400": !(value == null ? void 0 : value.includes(option.value)),
      "active:text-gray-900": !(value == null ? void 0 : value.includes(option.value)),
      eventlist__filterby__option: true,
      "eventlist__filterby__option--selected": value.includes(option.value)
    }),
    onClick: (event) => onChange && onChange(event, {
      value: value.includes(option.value) ? value.filter((o2) => o2 !== option.value) : [...value, option.value]
    })
  }, option.label, (value == null ? void 0 : value.includes(option.value)) && /* @__PURE__ */ import_react46.default.createElement(Check, {
    className: "w-2 ml-1.5"
  })))));
};

// src/modules/EventList/PlayButton/index.tsx
var import_react48 = __toModule(require_react());
var import_classnames31 = __toModule(require_classnames());

// src/components/Svg/Calendar.tsx
var import_react47 = __toModule(require_react());
var import_classnames30 = __toModule(require_classnames());
function Calendar({ className, alt = "Calendar" }) {
  return /* @__PURE__ */ import_react47.default.createElement("svg", {
    className: (0, import_classnames30.default)(className, "stroke-current", "Svg", "Svg__Calendar"),
    width: "100%",
    fill: "rgba(0,0,0,0)",
    viewBox: "0 0 20 20",
    xmlns: "http://www.w3.org/2000/svg"
  }, /* @__PURE__ */ import_react47.default.createElement("title", null, alt), /* @__PURE__ */ import_react47.default.createElement("path", {
    d: "M6 5V1V5ZM14 5V1V5ZM5 9H15H5ZM3 19H17C17.5304 19 18.0391 18.7893 18.4142 18.4142C18.7893 18.0391 19 17.5304 19 17V5C19 4.46957 18.7893 3.96086 18.4142 3.58579C18.0391 3.21071 17.5304 3 17 3H3C2.46957 3 1.96086 3.21071 1.58579 3.58579C1.21071 3.96086 1 4.46957 1 5V17C1 17.5304 1.21071 18.0391 1.58579 18.4142C1.96086 18.7893 2.46957 19 3 19Z",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round"
  }));
}

// src/modules/EventList/PlayButton/index.tsx
function PlayButtonUI(props) {
  const { hasAudio, isPlaying, togglePlayback } = props;
  return hasAudio ? /* @__PURE__ */ import_react48.default.createElement("div", {
    className: (0, import_classnames31.default)("group flex items-center justify-center w-full h-full rounded-full border cursor-pointer shadow-sm", {
      "hover:border-blue-500": !isPlaying,
      "active:border-blue-600": !isPlaying,
      "border-blue-600": isPlaying,
      "text-blue-600": !isPlaying,
      "text-white": isPlaying,
      "bg-blue-600": isPlaying,
      "bg-white": !isPlaying,
      "hover:bg-blue-700": isPlaying,
      "hover:border-blue-700": isPlaying,
      "active:bg-blue-800": isPlaying,
      "active:border-blue-800": isPlaying,
      "active:bg-blue-600": !isPlaying,
      "active:text-white": !isPlaying
    }),
    onClick: togglePlayback
  }, isPlaying ? /* @__PURE__ */ import_react48.default.createElement(Pause, {
    className: "w-3"
  }) : /* @__PURE__ */ import_react48.default.createElement(Play, {
    className: "ml-1 w-4 h-4 group-active:text-current"
  })) : /* @__PURE__ */ import_react48.default.createElement("div", {
    className: "flex items-center justify-center w-full h-full text-blue-100 group-hover:text-blue-300"
  }, /* @__PURE__ */ import_react48.default.createElement(Calendar, {
    className: "w-4"
  }));
}
function PlayButton(props) {
  const { id, url, offset = 0, metaData } = props;
  const audioPlayer = useAudioPlayer();
  const track = useTrack();
  const isPlaying = audioPlayer.playing(id);
  const togglePlayback = (0, import_react48.useCallback)((event) => {
    event.stopPropagation();
    if (audioPlayer.playing(id)) {
      void track("Click", "Audio Pause", { eventId: id, url });
      audioPlayer.pause();
    } else if (url) {
      void track("Click", "Audio Play", { eventId: id, url });
      void audioPlayer.play({ id, url, offset, metaData });
    }
  }, [isPlaying, id, url, offset]);
  return /* @__PURE__ */ import_react48.default.createElement(PlayButtonUI, {
    hasAudio: !!url,
    isPlaying: audioPlayer.playing(id),
    togglePlayback
  });
}

// src/modules/EventList/index.tsx
var FilterByType;
(function(FilterByType2) {
  FilterByType2[FilterByType2["transcript"] = 0] = "transcript";
  FilterByType2[FilterByType2["earningsOnly"] = 1] = "earningsOnly";
})(FilterByType || (FilterByType = {}));
var EventListUI = (props) => {
  const {
    company,
    event,
    eventsQuery,
    filterByTypes,
    listType,
    onBackFromTranscript,
    onCompanyChange,
    onSearchChange,
    onSelectFilterBy,
    onSelectListType,
    onSelectEvent,
    onSelectEventById,
    searchTerm
  } = props;
  if (event) {
    return /* @__PURE__ */ import_react49.default.createElement(Transcript, {
      eventId: event.id,
      onBack: onBackFromTranscript
    });
  }
  const wrapMsg = (msg) => /* @__PURE__ */ import_react49.default.createElement("div", {
    className: "flex flex-1 items-center justify-center text-gray-600"
  }, msg);
  let prevEventDate = null;
  return /* @__PURE__ */ import_react49.default.createElement("div", {
    className: "h-full flex flex-col eventlist"
  }, /* @__PURE__ */ import_react49.default.createElement("div", {
    className: "flex flex-col pt-3 pl-3 pr-3 shadow-3xl eventlist__header"
  }, /* @__PURE__ */ import_react49.default.createElement("div", {
    className: "flex items-center mb-3"
  }, /* @__PURE__ */ import_react49.default.createElement(Input, {
    name: "search",
    onChange: onSearchChange,
    placeholder: "Search Events & Transcripts",
    value: searchTerm
  }, /* @__PURE__ */ import_react49.default.createElement(MagnifyingGlass, null)), /* @__PURE__ */ import_react49.default.createElement("div", {
    className: "ml-2"
  }, /* @__PURE__ */ import_react49.default.createElement(CompanyFilterButton, {
    onChange: onCompanyChange,
    value: company
  })))), /* @__PURE__ */ import_react49.default.createElement("div", {
    className: "flex flex-col flex-1 pb-2 pt-0 overflow-y-scroll"
  }, /* @__PURE__ */ import_react49.default.createElement("div", {
    className: "flex flex-col flex-grow"
  }, /* @__PURE__ */ import_react49.default.createElement("div", {
    className: "sticky top-0 px-3 pt-3 pb-2 z-10 eventlist__tabs"
  }, /* @__PURE__ */ import_react49.default.createElement(FilterBy, {
    onChange: onSelectFilterBy,
    options: [
      { value: 0, label: "Transcripts" },
      { value: 1, label: "Earnings" }
    ],
    value: filterByTypes
  }, /* @__PURE__ */ import_react49.default.createElement(Tabs, {
    className: "ml-1",
    kind: "line",
    onChange: onSelectListType,
    options: [
      {
        value: EventView.LiveAndUpcoming,
        label: "Live Events",
        className: "h-9 items-center"
      },
      { value: EventView.Recent, label: "Recent", className: "h-9 items-center" }
    ],
    value: listType
  }))), /* @__PURE__ */ import_react49.default.createElement("div", {
    className: "flex flex-col items-center justify-center flex-1"
  }, (0, import_ts_pattern8.match)(eventsQuery).with({ status: "loading" }, () => /* @__PURE__ */ import_react49.default.createElement("ul", {
    className: "w-full EventList__loading"
  }, new Array(15).fill(0).map((_2, idx) => /* @__PURE__ */ import_react49.default.createElement("li", {
    key: idx,
    className: "p-2 animate-pulse mx-2"
  }, /* @__PURE__ */ import_react49.default.createElement("div", {
    className: "flex items-center"
  }, /* @__PURE__ */ import_react49.default.createElement("div", {
    className: "rounded-full bg-gray-300 w-9 h-9"
  }), /* @__PURE__ */ import_react49.default.createElement("div", {
    className: "flex flex-col flex-1 min-w-0 p-2 pr-4"
  }, /* @__PURE__ */ import_react49.default.createElement("div", {
    className: "flex"
  }, /* @__PURE__ */ import_react49.default.createElement("div", {
    className: "rounded-full bg-gray-500 h-[10px] mr-2 w-7"
  }), /* @__PURE__ */ import_react49.default.createElement("div", {
    className: "rounded-full bg-gray-400 h-[10px] mr-2 w-12"
  })), /* @__PURE__ */ import_react49.default.createElement("div", {
    className: "flex"
  }, /* @__PURE__ */ import_react49.default.createElement("div", {
    className: "rounded-full bg-gray-300 h-[10px] mr-2 w-28 mt-2"
  }), /* @__PURE__ */ import_react49.default.createElement("div", {
    className: "rounded-full bg-gray-200 h-[10px] mr-2 w-16 mt-2"
  }), /* @__PURE__ */ import_react49.default.createElement("div", {
    className: "rounded-full bg-gray-200 h-[10px] mr-2 w-10 mt-2"
  })))))))).with({ status: "paused" }, () => wrapMsg("There are no events.")).with({ status: "error" }, () => wrapMsg("There was an error loading events.")).with({ status: "empty" }, () => wrapMsg("There are no events.")).with({ status: "success" }, ({ data: { events } }) => /* @__PURE__ */ import_react49.default.createElement("ul", {
    className: "w-full"
  }, events.map((event2) => {
    var _a, _b;
    const primaryQuote = getPrimaryQuote(event2.primaryCompany);
    const eventDate = import_luxon3.DateTime.fromISO(event2.eventDate);
    const audioOffset = ((_a = event2.audioRecordingOffsetMs) != null ? _a : 0) / 1e3;
    let divider = null;
    if (!prevEventDate || prevEventDate.toFormat("MM/dd/yyyy") !== eventDate.toFormat("MM/dd/yyyy")) {
      prevEventDate = eventDate;
      divider = /* @__PURE__ */ import_react49.default.createElement("li", {
        className: "sticky top-[56px] px-3"
      }, /* @__PURE__ */ import_react49.default.createElement("div", {
        className: "px-1 py-2 backdrop-filter backdrop-blur-sm bg-white bg-opacity-70 flex rounded-lg items-center text-sm whitespace-nowrap text-gray-500 font-semibold"
      }, eventDate.toFormat("DDDD"), /* @__PURE__ */ import_react49.default.createElement("div", {
        className: "ml-2 w-full flex h-[1px] bg-gradient-to-r from-gray-200"
      })));
    }
    return /* @__PURE__ */ import_react49.default.createElement(import_react49.Fragment, {
      key: event2.id
    }, divider, /* @__PURE__ */ import_react49.default.createElement("li", {
      className: "group h-12 text-xs text-gray-300 px-3 cursor-pointer hover:bg-blue-50 active:bg-blue-100",
      onClick: (e) => onSelectEvent == null ? void 0 : onSelectEvent(e, { value: event2 })
    }, /* @__PURE__ */ import_react49.default.createElement(Tooltip, {
      className: "h-12 flex flex-row",
      content: /* @__PURE__ */ import_react49.default.createElement("div", {
        className: "max-w-[300px] bg-black bg-opacity-80 px-1.5 py-0.5 rounded text-white ml-9"
      }, prettyLineBreak(event2.title)),
      grow: "up-right",
      openOn: "hover",
      position: "top-left",
      yOffset: 4,
      hideOnDocumentScroll: true
    }, /* @__PURE__ */ import_react49.default.createElement("div", {
      className: "flex items-center justify-center"
    }, /* @__PURE__ */ import_react49.default.createElement("div", {
      className: "flex items-center justify-center w-8 h-8"
    }, /* @__PURE__ */ import_react49.default.createElement(PlayButton, {
      metaData: {
        quote: primaryQuote,
        eventType: event2.eventType
      },
      id: event2.id,
      url: event2.isLive ? `https://storage.media.aiera.com/${event2.id}` : event2.audioRecordingUrl,
      offset: audioOffset || 0
    }))), /* @__PURE__ */ import_react49.default.createElement("div", {
      className: "flex flex-col justify-center flex-1 min-w-0 pl-2 pr-4"
    }, /* @__PURE__ */ import_react49.default.createElement("div", {
      className: "flex items-end"
    }, /* @__PURE__ */ import_react49.default.createElement("span", {
      className: "leading-none text-sm text-blue-600 pr-1 font-bold group-hover:text-yellow-600"
    }, primaryQuote == null ? void 0 : primaryQuote.localTicker), /* @__PURE__ */ import_react49.default.createElement("span", {
      className: "leading-none mb-[1px] tracking-wider text-xs text-gray-400 group-hover:text-gray-500"
    }, (_b = primaryQuote == null ? void 0 : primaryQuote.exchange) == null ? void 0 : _b.shortName)), /* @__PURE__ */ import_react49.default.createElement("div", {
      className: "leading-none flex text-sm capitalize items-center mt-1 text-black"
    }, event2.eventType.replace(/_/g, " "))), /* @__PURE__ */ import_react49.default.createElement("div", {
      className: "flex flex-col justify-center items-end"
    }, event2.isLive ? /* @__PURE__ */ import_react49.default.createElement("div", {
      className: "text-xs leading-none flex justify-center items-center text-red-600 font-semibold bg-red-50 rounded px-1 pt-0.5 pb-[3px] mb-0.5 group-hover:bg-red-500 group-hover:text-white"
    }, `Live \u2022 ${eventDate.toFormat("h:mma")}`) : /* @__PURE__ */ import_react49.default.createElement("div", {
      className: "leading-none text-gray-500 group-hover:text-black"
    }, eventDate.toFormat("h:mma")), /* @__PURE__ */ import_react49.default.createElement("div", {
      className: "leading-none mt-1 text-gray-300 group-hover:text-gray-500"
    }, eventDate.toFormat("MMM dd, yyyy"))))));
  }))).exhaustive(), /* @__PURE__ */ import_react49.default.createElement("div", {
    className: "flex-1"
  })))), /* @__PURE__ */ import_react49.default.createElement(Playbar, {
    onClickCalendar: onSelectEventById
  }));
};
var EventList = (_props) => {
  var _a;
  const { state, handlers, setState } = useChangeHandlers({
    company: void 0,
    event: void 0,
    filterByTypes: [],
    listType: EventView.LiveAndUpcoming,
    searchTerm: ""
  });
  const resolveCompany = useCompanyResolver();
  const bus = useMessageListener("instrument-selected", (msg) => __async(void 0, null, function* () {
    if (msg.data.ticker) {
      const companies = yield resolveCompany(msg.data.ticker);
      if (companies == null ? void 0 : companies[0]) {
        const company = companies[0];
        setState((s3) => __spreadProps(__spreadValues({}, s3), { company, event: void 0 }));
      }
    }
  }), "in");
  const onSelectEvent = (0, import_react49.useCallback)((event, change) => {
    var _a2;
    const primaryQuote = getPrimaryQuote((_a2 = change.value) == null ? void 0 : _a2.primaryCompany);
    bus == null ? void 0 : bus.emit("instrument-selected", { ticker: primaryQuote == null ? void 0 : primaryQuote.localTicker }, "out");
    handlers.event(event, change);
    if (!change.value) {
      eventsQuery.refetch();
    }
  }, [state]);
  const onSelectCompany = (0, import_react49.useCallback)((event, change) => {
    const primaryQuote = getPrimaryQuote(change.value);
    bus == null ? void 0 : bus.emit("instrument-selected", { ticker: primaryQuote == null ? void 0 : primaryQuote.localTicker }, "out");
    handlers.company(event, change);
  }, [state]);
  const eventsQuery = useQuery2({
    isEmpty: ({ events }) => events.length === 0,
    requestPolicy: "cache-and-network",
    query: lib_default`
            query EventList($filter: EventFilter, $view: EventView) {
                events(filter: $filter, view: $view) {
                    id
                    title
                    eventDate
                    eventType
                    isLive
                    audioRecordingUrl
                    audioRecordingOffsetMs
                    primaryCompany {
                        id
                        commonName
                        instruments {
                            id
                            isPrimary
                            quotes {
                                id
                                isPrimary
                                localTicker
                                exchange {
                                    id
                                    shortName
                                    country {
                                        id
                                        countryCode
                                    }
                                }
                            }
                        }
                    }
                }
            }
        `,
    variables: {
      view: state.listType,
      filter: {
        hasTranscript: state.filterByTypes.includes(0) ? true : void 0,
        eventTypes: state.filterByTypes.includes(1) ? [EventType.Earnings] : void 0,
        title: state.searchTerm || void 0,
        companyIds: ((_a = state.company) == null ? void 0 : _a.id) ? [state.company.id] : void 0
      }
    }
  });
  useInterval((0, import_react49.useCallback)(() => eventsQuery.refetch({ requestPolicy: "cache-and-network" }), [eventsQuery.refetch]), 15e3);
  const onSelectEventById = (0, import_react49.useCallback)((event, change) => {
    if (eventsQuery.status === "success") {
      const selectedEvent = eventsQuery.data.events.find((event2) => event2.id === change.value);
      if (selectedEvent) {
        onSelectEvent(event, { value: selectedEvent });
      }
    }
  }, [eventsQuery.status]);
  useAutoTrack("Click", "Event Filter By", { filterBy: state.filterByTypes }, [state.filterByTypes]);
  useAutoTrack("Submit", "Event Search", { searchTerm: state.searchTerm }, [state.searchTerm], !state.searchTerm);
  return /* @__PURE__ */ import_react49.default.createElement(EventListUI, {
    company: state.company,
    event: state.event,
    eventsQuery,
    filterByTypes: state.filterByTypes,
    listType: state.listType,
    onBackFromTranscript: (event) => onSelectEvent(event, { value: null }),
    onCompanyChange: onSelectCompany,
    onSearchChange: handlers.searchTerm,
    onSelectFilterBy: handlers.filterByTypes,
    onSelectListType: handlers.listType,
    onSelectEvent,
    onSelectEventById,
    searchTerm: state.searchTerm
  });
};

// src/dev/EventList.tsx
var App = () => {
  const bus = useMessageListener("instrument-selected", (msg) => {
    console.log(`Sending ${JSON.stringify(msg)} to platform`);
  }, "out");
  return /* @__PURE__ */ import_react50.default.createElement(import_react50.StrictMode, null, /* @__PURE__ */ import_react50.default.createElement(Provider, {
    config: { apiUrl: "https://api-dev.aiera.com/graphql", assetPath: "bundle/" }
  }, /* @__PURE__ */ import_react50.default.createElement(Provider3, {
    bus
  }, /* @__PURE__ */ import_react50.default.createElement(Provider2, null, /* @__PURE__ */ import_react50.default.createElement(Auth, {
    showLogout: true
  }, /* @__PURE__ */ import_react50.default.createElement("div", {
    className: "h-full border border-black"
  }, /* @__PURE__ */ import_react50.default.createElement(EventList, null)))))));
};
import_react_dom.default.render(/* @__PURE__ */ import_react50.default.createElement(App, null), document.getElementById("root"));
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
* @overview es6-promise - a tiny implementation of Promises/A+.
* @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
* @license   Licensed under MIT license
*            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
* @version   v4.2.8+1e68dce6
*/
/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <http://feross.org>
* @license  MIT
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! codem-isoboxer v0.3.6 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */
/** @license React v0.20.2
 * scheduler-tracing.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v0.20.2
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
