<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <style>
            iframe {
                border: none;
                resize: both;
                height: 575px;
                width: 375px;
                overflow: hidden;
            }
        </style>
    </head>
    <body>
        <script src="../embed.js"></script>
        <iframe id="aiera"></iframe>
        <script>
            const eventList = new Aiera.Module('../modules/EventList/index.html', 'aiera');
            eventList.load().then(() => {
                eventList.authenticateApiKey('94c04807af6111048f7622f1eb563c4d');
            });

            const stockTickers = [
                { ticker: 'AAPL' },
                { ticker: 'GOOGL' },
                { ticker: 'MSFT' },
                { ticker: 'AMZN' },
                { ticker: 'FB' },
                { ticker: 'TSLA' },
                { ticker: 'NVDA' },
                { ticker: 'JPM' },
                { ticker: 'NFLX' },
                { ticker: 'DIS' },
                { ticker: 'PYPL' },
                { ticker: 'ADBE' },
                { ticker: 'CMCSA' },
                { ticker: 'CSCO' },
                { ticker: 'PEP' },
                { ticker: 'INTC' },
                { ticker: 'COST' },
                { ticker: 'T' },
                { ticker: 'TMUS' },
                { ticker: 'AMD' },
                { ticker: 'BA' },
                { ticker: 'GE' },
                { ticker: 'GM' },
                { ticker: 'F' },
                { ticker: 'WMT' },
                { ticker: 'TGT' },
                { ticker: 'HD' },
                { ticker: 'LOW' },
                { ticker: 'NKE' },
                { ticker: 'SBUX' },
                { ticker: 'MCD' },
                { ticker: 'KO' },
                { ticker: 'PG' },
                { ticker: 'JNJ' },
                { ticker: 'MRK' },
                { ticker: 'PFE' },
                { ticker: 'ABT' },
                { ticker: 'UNH' },
                { ticker: 'CVS' },
                { ticker: 'WBA' },
                { ticker: 'V' },
                { ticker: 'MA' },
                { ticker: 'AXP' },
                { ticker: 'GS' },
                { ticker: 'MS' },
                { ticker: 'BAC' },
                { ticker: 'C' },
                { ticker: 'WFC' },
                { ticker: 'BLK' },
                { ticker: 'SCHW' },
                { ticker: 'USB' },
                { ticker: 'AIG' },
                { ticker: 'MET' },
                { ticker: 'ALL' },
                { ticker: 'TRV' },
                { ticker: 'XOM' },
                { ticker: 'CVX' },
                { ticker: 'COP' },
                { ticker: 'EOG' },
                { ticker: 'SLB' },
                { ticker: 'OXY' },
                { ticker: 'HAL' },
                { ticker: 'PSX' },
                { ticker: 'VLO' },
                { ticker: 'MPC' },
                { ticker: 'NEE' },
                { ticker: 'DUK' },
                { ticker: 'SO' },
                { ticker: 'D' },
                { ticker: 'AEP' },
                { ticker: 'EXC' },
                { ticker: 'PCG' },
                { ticker: 'SRE' },
                { ticker: 'ED' },
                { ticker: 'LMT' },
                { ticker: 'RTX' },
                { ticker: 'NOC' },
                { ticker: 'GD' },
                { ticker: 'BA' },
                { ticker: 'HII' },
                { ticker: 'TXT' },
                { ticker: 'LHX' },
                { ticker: 'HON' },
                { ticker: 'CAT' },
                { ticker: 'DE' },
                { ticker: 'MMM' },
                { ticker: 'GE' },
                { ticker: 'EMR' },
                { ticker: 'ETN' },
                { ticker: 'ITW' },
                { ticker: 'CMI' },
                { ticker: 'DOW' },
                { ticker: 'DD' },
                { ticker: 'LIN' },
                { ticker: 'APD' },
                { ticker: 'ECL' },
                { ticker: 'PPG' },
                { ticker: 'SHW' },
                { ticker: 'ALB' },
                { ticker: 'FMC' },
            ];

            eventList.on('authenticated', () => {
                eventList.configure({
                    hideSettings: true,
                    options: {
                        // customOnly: true,
                        // darkMode: true,
                        // eventListFilters: [
                        //     { name: 'transcripts', visible: false, defaultValue: true },
                        //     { name: 'earningsOnly', visible: false, defaultValue: true },
                        // ],
                        // eventListView: 'combined',
                        // showCompanyFilter: false,
                        // showCompanyNameInEventRow: true,
                        // showGlobalSearch: false,
                        // showSearch: false,
                        // showSummary: false,
                        // showPartials: true,
                        // showSentiment: true,
                        // showDownloadButton: false,
                        // showScheduleRecording: true,
                        // ticker: 'aapl',
                    },
                    overrides: {
                        // style: `
                        //     .text-blue-600 {
                        //         color: #008094 !important;
                        //     }
                        //     `,
                    },
                    tracking: {
                        userId: 'nash-widget-user',
                    },
                });
            });
            /**
             * Once authenticated and the config is set, create a watchlist.
             *
             * Warning: calling setWatchlist before the configure call is finished
             * will NOT create the watchlist because we expect a userId to be defined
             * in the tracking configuration.
             *
             * To prevent a race condition, use the on('configured') event listener
             * and call setWatchlist once the config options are set in state.
             */
            // eventList.on('configured', () => {
            //     eventList.setWatchlist(stockTickers.map(({ ticker }) => ({ ticker })));
            // });

            eventList.on('instrument-selected', (ticker) => {
                console.log('selected ticker: ', ticker);
            });
            eventList.on('event-audio', (event) => {
                console.log(`${event.action} audio:`, event);
            });
            eventList.on('event-selected', (event) => {
                console.log('selected event: ', event);
            });
        </script>
    </body>
</html>
