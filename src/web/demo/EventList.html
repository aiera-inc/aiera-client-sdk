<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <style>
            iframe {
                border: none;
                resize: both;
                height: 575px;
                width: 375px;
                overflow: hidden;
            }
        </style>
    </head>
    <body>
        <script src="../embed.js"></script>
        <iframe id="aiera"></iframe>
        <script>
            const eventList = new Aiera.Module('../modules/EventList/index.html', 'aiera');
            eventList.load().then(() => {
                // To try out authentication
                // eventList.authenticate({
                //     accessToken: '[accesstoken]',
                //     refreshToken: '[refreshToken]',
                // });

                // To update the configuration
                eventList.authenticateApiKey('e0f401666db84a6f92cb6b1381ecaada');
                eventList.configure({
                    hideSettings: false,
                    overrides: {
                        style: `
                                .eventlist__filterby {
                                       background-color: blue
                                    }
                                    .eventlist__filterby__option {
                                        display: none
                                    }
                            `,
                    },
                });
            });

            eventList.on('authenticated', () => {
                // Set up a watchlist after authentication
                // eventList.setWatchlist([
                //     { ticker: 'AAPL' },
                //     { ticker: 'GOOGL' },
                //     { ticker: 'TLSA' },
                //     { ticker: 'PTON' },
                // ]);
            });
            eventList.on('instrument-selected', (ticker) => {
                console.log('selected ticker: ', ticker);
            });
            eventList.on('event-selected', (event) => {
                console.log('selected event: ', event);
            });
        </script>
    </body>
</html>
